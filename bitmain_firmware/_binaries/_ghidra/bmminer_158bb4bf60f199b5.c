// Decompiled: bmminer_158bb4bf60f199b5

void _DT_INIT(void)

{
    FUN_00013b58();
    return;
}

/* WARNING: Restarted to delay deadcode elimination for space: ram */

undefined4 FUN_00012608(undefined4 param_1, undefined4 *param_2)

{
    uint uVar1;
    uint uVar2;
    longlong lVar3;
    char acVar4[4];
    undefined2 uVar5;
    FILE *__stream;
    char *pcVar6;
    size_t sVar7;
    ushort **ppuVar8;
    long lVar9;
    void *pvVar10;
    void *pvVar11;
    uint uVar12;
    uint uVar13;
    int *piVar14;
    char cVar15;
    uint *puVar16;
    uint *puVar17;
    uint uVar18;
    uint uVar19;
    uint uVar20;
    int iVar21;
    pthread_mutex_t *__mutex;
    int iVar22;
    uint uVar23;
    byte *pbVar24;
    int iVar25;
    undefined4 uVar26;
    pthread_mutex_t *ppVar27;
    int iVar28;
    uint uVar29;
    undefined4 uVar30;
    bool bVar31;
    longlong lVar32;
    int iVar34;
    longlong lVar33;
    char *pcVar35;
    uint uVar36;
    undefined4 uVar37;
    uint local_9d8;
    int local_9d4;
    uint local_9ac;
    uint local_9a8[6];
    uint local_990[10];
    pthread_attr_t pStack_968;
    byte local_928[8];
    undefined4 local_920;
    undefined4 uStack_91c;
    undefined4 uStack_918;
    undefined4 uStack_914;
    undefined4 local_910;
    undefined4 uStack_90c;
    undefined4 uStack_908;
    undefined4 uStack_904;
    undefined1 auStack_900[12];
    undefined1 auStack_8f4[204];
    char local_828[2];
    undefined2 uStack_826;
    undefined4 local_824;
    undefined4 local_820;
    char local_81c[4];
    undefined4 local_818;
    undefined4 uStack_814;
    undefined4 local_810;
    undefined4 local_80c;

    uVar26 = *param_2;
    memset(local_928, 0, 0x100);
    memset(&pStack_968, 0, 0x40);
    snprintf(pStack_968.__size, 0x40, "pidof %s", uVar26);
    __stream = popen(pStack_968.__size, "r");
    if (__stream != (FILE *)0x0) {
    LAB_0001268c:
        do {
            pcVar6 = fgets((char *)local_928, 0x100, __stream);
            if (pcVar6 == (char *)0x0)
                goto LAB_00012784;
            if (DAT_001aecc5 != '\0') {
                if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                    (DAT_0009e320 < 7)) {
                LAB_00012734:
                    if ((DAT_001aecc4 == '\0') && (DAT_0009e320 < 7))
                        goto LAB_0001268c;
                } else {
                    snprintf(local_828, 0x800,
                             "pidof %s command result is: %s\n", uVar26,
                             local_928);
                    FUN_00047ab4(7, local_828, 0);
                    if (DAT_001aecc5 == '\0')
                        goto LAB_0001268c;
                    if (DAT_00244080 == '\0')
                        goto LAB_00012734;
                }
                sVar7 = strlen((char *)local_928);
                snprintf(local_828, 0x800, "strlen is: %d\n", sVar7);
                FUN_00047ab4(7, local_828, 0);
            }
        } while (true);
    }
    if ((DAT_001aecc5 != '\0') &&
        (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
          (6 < DAT_0009e320)))) {
        snprintf(local_828, 0x800, " app-service:%s Not Found!!!", uVar26);
        FUN_00047ab4(7, local_828, 0);
    }
LAB_00012954:
    pvVar10 = calloc(1, 0x1798);
    DAT_00241d64 = pvVar10;
    pvVar11 = calloc(1, 0x188);
    DAT_00241d5c = pvVar11;
    DAT_00241d58 = calloc(1, 0x40);
    *(void **)((int)DAT_00241d58 + 0x24) = pvVar11;
    *(void **)((int)pvVar11 + 0x14) = pvVar10;
    FUN_00026d84(param_1, param_2);
    FUN_00025fa8();
    iVar21 = *(int *)(*(int *)((int)DAT_00241d58 + 0x24) + 0x14);
    iVar22 = pthread_mutex_init((pthread_mutex_t *)(iVar21 + 0x1a4),
                                (pthread_mutexattr_t *)0x0);
    if (iVar22 != 0) {
        FUN_00025b64(0x135);
    }
    FUN_00025bc4(iVar21, 0x136);
    FUN_00025bc4(iVar21 + 0x2b4, 0x137);
    FUN_00025bc4(iVar21 + 0x9ec, 0x138);
    FUN_00025bc4(iVar21 + 0x1124, 0x139);
    memset(local_828, 0, 0x20);
    _local_828 = CONCAT22(0x1a, local_828);
    uVar36 = local_824 & 0xfd;
    local_828[0] = 'Q';
    local_824._1_1_ = local_824._1_1_ & 0xf7 | 7 | (DAT_001b0b18 & 1) << 3;
    local_824._0_1_ = ~(
        (byte) ~(byte)(((uVar36 | (DAT_001b0b1a & 1) << 1) << 0x1e) >> 0x18) >>
        6);
    local_820._2_1_ = (char)DAT_001b0b1c;
    local_820._0_2_ = 0x3609;
    local_81c._2_2_ = (short)DAT_0009ee40;
    local_81c._0_2_ = (short)DAT_0009ee44;
    local_820._3_1_ = 'P';
    local_818 = CONCAT22(local_818._2_2_, 0xa0a);
    local_810 = CONCAT22(400, (undefined2)local_810);
    local_810 = CONCAT31(local_810._1_3_, 4);
    local_80c = CONCAT22(local_80c._2_2_, 600);
    uVar5 = FUN_000514f8(local_828, 0x1e);
    local_80c = CONCAT22(uVar5, (undefined2)local_80c);
    uVar26 = local_818;
    uVar36 = local_810;
    uVar37 = local_80c;
    iVar22 = FUN_00025098(_local_828, local_824, local_820, local_81c,
                          local_818, uStack_814, local_810, local_80c);
    uVar30 = uStack_814;
    if (iVar22 == 0) {
        FUN_000226c0(3, "soc init failed!");
        uVar30 = uStack_814;
    }
    FUN_000226c0(0);
    iVar22 = FUN_00025a5c();
    if (iVar22 != 0) {
        FUN_000226c0(3, "socket init failed!");
    }
    FUN_000226c0(1, 0);
    DAT_00241d60 = calloc(1, 0x40);
    pthread_attr_init(&pStack_968);
    pthread_attr_setstacksize(&pStack_968, 0x200000);
    iVar22 = FUN_0004bdcc(DAT_00241d60, &pStack_968, FUN_00026c30);
    if ((iVar22 != 0) && (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                           (2 < DAT_0009e320)))) {
        snprintf(local_828, 0x800,
                 "%s: create thread for get api status failed\n",
                 &DAT_0007a798);
        FUN_00047ab4(3, local_828, 0);
    }
    pthread_detach(*(pthread_t *)((int)DAT_00241d60 + 0xc));
    FUN_00023d44();
    lVar33 = CONCAT44(uVar30, uVar26);
    do {
        pvVar10 = DAT_00241d58;
        if (*(char *)((int)DAT_00241d5c + 0x16c) != '\0') {
            return 0;
        }
        __mutex =
            *(pthread_mutex_t **)(*(int *)((int)DAT_00241d58 + 0x24) + 0x14);
        pthread_mutex_lock((pthread_mutex_t *)&DAT_00138564);
        iVar22 = pthread_mutex_lock(__mutex);
        if (iVar22 != 0) {
            piVar14 = __errno_location();
            pcVar6 = "bmminer.c";
            pcVar35 = "bitmain_c5_scanhash";
            uVar36 = 0x1b8;
            snprintf(local_828, 0x800,
                     "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d",
                     *piVar14, "bmminer.c", "bitmain_c5_scanhash", 0x1b8);
            FUN_00047ab4(3, local_828, 1);
            FUN_00062ec0(1);
            lVar33 = CONCAT44(pcVar35, pcVar6);
        }
        iVar22 = pthread_rwlock_rdlock((pthread_rwlock_t *)(__mutex + 1));
        if (iVar22 != 0) {
            piVar14 = __errno_location();
            pcVar6 = "bmminer.c";
            pcVar35 = "bitmain_c5_scanhash";
            uVar36 = 0x1b8;
            snprintf(local_828, 0x800,
                     "WTF RDLOCK ERROR ON LOCK! errno=%d in %s %s():%d",
                     *piVar14, "bmminer.c", "bitmain_c5_scanhash", 0x1b8);
            FUN_00047ab4(3, local_828, 1);
            FUN_00062ec0(1);
            lVar33 = CONCAT44(pcVar35, pcVar6);
        }
        iVar22 = pthread_mutex_unlock(__mutex);
        if (iVar22 != 0) {
            piVar14 = __errno_location();
            pcVar6 = "bmminer.c";
            pcVar35 = "bitmain_c5_scanhash";
            uVar36 = 0x1b8;
            snprintf(local_828, 0x800,
                     "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d",
                     *piVar14, "bmminer.c", "bitmain_c5_scanhash", 0x1b8);
            FUN_00047ab4(3, local_828, 1);
            FUN_00062ec0(1);
            lVar33 = CONCAT44(pcVar35, pcVar6);
        }
        local_9d8 = 0;
        local_9d4 = 0;
    LAB_00012cb8:
        if (DAT_0023a2b8 != 0) {
            while (true) {
                iVar22 = 0;
                uVar23 = *(uint *)(&DAT_0023a2d0 + DAT_0023a2b4 * 0x3c);
                iVar28 = *(int *)(&DAT_0023a2bc + DAT_0023a2b4 * 0x3c);
                uVar29 = *(uint *)(&DAT_0023a2c8 + DAT_0023a2b4 * 0x3c);
                uVar26 = *(undefined4 *)(&DAT_0023a2cc + DAT_0023a2b4 * 0x3c);
                iVar21 = *(int *)(&DAT_0023a2d4 + DAT_0023a2b4 * 0x3c);
                iVar25 = *(int *)(&DAT_0023a2c0 + DAT_0023a2b4 * 0x3c);
                uVar20 =
                    *(int *)(&DAT_0023a2c4 + DAT_0023a2b4 * 0x3c) << 0x18 |
                    *(uint *)(&DAT_0023a2c4 + DAT_0023a2b4 * 0x3c) >> 0x18 |
                    *(uint *)(&DAT_0023a2c4 + DAT_0023a2b4 * 0x3c) >> 8 &
                        0xff00 |
                    (*(uint *)(&DAT_0023a2c4 + DAT_0023a2b4 * 0x3c) & 0xff00)
                        << 8;
                do {
                    iVar22 = iVar22 + 1;
                } while (iVar22 != 0x20);
                if ((DAT_001aecc5 != '\0') &&
                    (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                      (6 < DAT_0009e320)))) {
                    iVar22 = iVar28;
                    iVar34 = iVar25;
                    uVar36 = uVar29;
                    uVar37 = uVar26;
                    snprintf(local_828, 0x800,
                             "%s: job_id:0x%x   work_id:0x%x   nonce2:0x%llx "
                             "nonce3:0x%x   version:0x%x\n",
                             "bitmain_c5_scanhash", iVar28, iVar25, uVar29,
                             uVar26, uVar23, uVar20);
                    FUN_00047ab4(7, local_828, 0);
                    lVar33 = CONCAT44(iVar34, iVar22);
                }
                uVar30 = (undefined4)((ulonglong)lVar33 >> 0x20);
                uVar18 = DAT_0023a2b4;
                if (0x1fd < DAT_0023a2b4) {
                    uVar18 = 0;
                }
                ppVar27 = __mutex + 0x14;
                if (DAT_0023a2b4 < 0x1fe) {
                    uVar18 = uVar18 + 1;
                }
                DAT_0023a2b8 = DAT_0023a2b8 + -1;
                DAT_0023a2b4 = uVar18;
                if ((uVar23 == DAT_00138608) && (iVar25 == DAT_0013860c)) {
                    if (*(int *)(DAT_000a0d68 + iVar21 * 4 + 4) == 1) {
                        if (((DAT_00244080 != '\0') ||
                             (DAT_001aecc4 != '\0')) ||
                            (2 < DAT_0009e320)) {
                            local_828[0] = 'r';
                            local_828[1] = 'e';
                            uStack_826._0_1_ = 'e';
                            uStack_826._1_1_ = 'p';
                            local_824._0_1_ = 'a';
                            local_824._1_1_ = 't';
                            local_824._2_1_ = ' ';
                            local_824._3_1_ = 'n';
                            local_820._0_1_ = 'o';
                            local_820._1_1_ = 'n';
                            local_820._2_1_ = 'c';
                            local_820._3_1_ = 'e';
                            builtin_strncpy(local_81c, " err", 4);
                            /* WARNING: Ignoring partial resolution of indirect
                             */
                            local_818._0_2_ = 0x726f;
                            FUN_00047ab4(3, local_828, 0);
                        }
                        FUN_000593c8(pvVar10);
                        iVar22 = DAT_000a0d68 + iVar21 * 4;
                        *(int *)(iVar22 + 0x4b6) = *(int *)(iVar22 + 0x4b6) + 1;
                    }
                    goto LAB_00012cb8;
                }
                DAT_00138608 = uVar23;
                DAT_0013860c = iVar25;
                if (DAT_001aecc5 != '\0')
                    break;
            LAB_00013108:
                if (DAT_0009c550 - iVar28 == 1)
                    goto LAB_000137d8;
                if (DAT_0009c550 == iVar28)
                    goto LAB_00013130;
                if (DAT_0009c550 - iVar28 == 2) {
                LAB_00013124:
                    ppVar27 = __mutex + 0xae;
                    goto LAB_00013130;
                }
                if ((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) {
                LAB_00012f10:
                    if (2 < DAT_0009e320)
                        goto LAB_00012f1c;
                } else {
                LAB_00012f1c:
                    snprintf(local_828, 0x800, "%s: job_id non\'t found ...\n",
                             "bitmain_c5_scanhash", (int)lVar33,
                             (int)((ulonglong)lVar33 >> 0x20), uVar36);
                    FUN_00047ab4(3, local_828, 0);
                }
                if (*(int *)(DAT_000a0d68 + iVar21 * 4 + 4) != 1)
                    goto LAB_00012cb8;
                FUN_000593c8(pvVar10);
                iVar22 = DAT_000a0d68 + iVar21 * 4;
                *(int *)(iVar22 + 0x4b6) = *(int *)(iVar22 + 0x4b6) + 1;
                if (DAT_0023a2b8 == 0)
                    goto LAB_00012f94;
            }
            if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                (6 < DAT_0009e320)) {
                iVar22 = iVar21 + 1;
                snprintf(local_828, 0x800, "%s: Chain ID J%d ...\n",
                         "bitmain_c5_scanhash", iVar22, uVar30, uVar36, uVar37);
                FUN_00047ab4(7, local_828, 0);
                lVar33 = CONCAT44(uVar30, iVar22);
                if (DAT_001aecc5 != '\0') {
                    uVar18 = DAT_0009c550 - iVar28;
                    if (DAT_00244080 == '\0')
                        goto LAB_00012edc;
                    goto LAB_000130d4;
                }
                goto LAB_00013108;
            }
            uVar18 = DAT_0009c550 - iVar28;
        LAB_00012edc:
            if ((DAT_001aecc4 != '\0') || (6 < DAT_0009e320)) {
            LAB_000130d4:
                iVar22 = DAT_0009c550;
                iVar25 = iVar28;
                snprintf(local_828, 0x800,
                         "%s: given_id:%d job_id:%d switch:%d  ...\n",
                         "bitmain_c5_scanhash", DAT_0009c550, iVar28, uVar18);
                FUN_00047ab4(7, local_828, 0);
                lVar33 = CONCAT44(iVar25, iVar22);
                uVar36 = uVar18;
                goto LAB_00013108;
            }
            if (uVar18 != 1) {
                if (uVar18 != 0) {
                    if (uVar18 != 2)
                        goto LAB_00012f10;
                    goto LAB_00013124;
                }
                goto LAB_00013130;
            }
        LAB_000137d8:
            ppVar27 = __mutex + 0x61;
        LAB_00013130:
            FUN_0005afa8(pvVar10, &local_9ac, ppVar27, ppVar27, uVar29);
            uVar18 = local_9ac;
            uVar19 = (ppVar27->__data).__lock;
            uVar36 = *(uint *)(local_9ac + 0x138);
            uVar30 = *(undefined4 *)(local_9ac + 0x13c);
            lVar32 = FUN_00077970(uVar36, uVar30);
            lVar3 = CONCAT44(DAT_00138614, DAT_00138610);
            DAT_00138614 = (undefined4)((ulonglong)lVar32 >> 0x20);
            DAT_00138610 = (undefined4)lVar32;
            lVar33 = CONCAT44(uVar26, uVar29);
            if (lVar32 != lVar3) {
                uVar13 = 0;
                uVar12 = 0;
                lVar33 = lVar32;
                if (lVar32 == 0) {
                    DAT_0013861c = 0xffffffff;
                    DAT_00138618 = DAT_0013861c;
                } else {
                    do {
                        DAT_00138618 = uVar12;
                        DAT_0013861c = uVar13;
                        uVar1 = (uint)((ulonglong)lVar33 >> 0x21);
                        uVar2 = (uint)((byte)((ulonglong)lVar33 >> 0x20) & 1)
                                    << 0x1f |
                                (uint)lVar33 >> 1;
                        lVar33 = CONCAT44(uVar1, uVar2);
                        uVar13 = DAT_0013861c + (0xfffffffe < DAT_00138618);
                        uVar12 = DAT_00138618 + 1;
                    } while (uVar2 != 0 || uVar1 != 0);
                }
                lVar33 = CONCAT44(uVar26, uVar29);
                lVar3 = lVar32;
                if ((DAT_001aecc5 != '\0') &&
                    (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                      (lVar33 = CONCAT44(uVar26, uVar29), 6 < DAT_0009e320)))) {
                    snprintf(local_828, 0x800,
                             "%s: pool_diff:%lld work_diff:%f "
                             "pool_diff_bit:%lld ...\n",
                             "hashtest_submit", DAT_00138610, DAT_00138614,
                             uVar36, uVar30, DAT_00138618, DAT_0013861c);
                    FUN_00047ab4(7, local_828, 0);
                    lVar3 = CONCAT44(DAT_00138614, DAT_00138610);
                    uVar20 = uVar36;
                    uVar37 = uVar30;
                    lVar33 = lVar32;
                }
            }
            uVar26 = DAT_0009ed90._4_4_;
            uVar29 = (uint)DAT_0009ed90;
            DAT_00138614 = (undefined4)((ulonglong)lVar3 >> 0x20);
            DAT_00138610 = (undefined4)lVar3;
            lVar32 = FUN_00077970((uint)DAT_0009ed90, DAT_0009ed90._4_4_);
            lVar3 = CONCAT44(DAT_00138624, DAT_00138620);
            DAT_00138624 = (undefined4)((ulonglong)lVar32 >> 0x20);
            DAT_00138620 = (undefined4)lVar32;
            uVar36 = uVar20;
            if (lVar32 != lVar3) {
                uVar20 = 0;
                uVar13 = 0;
                lVar3 = lVar32;
                if (lVar32 == 0) {
                    DAT_0013862c = 0xffffffff;
                    DAT_00138628 = DAT_0013862c;
                } else {
                    do {
                        DAT_00138628 = uVar13;
                        DAT_0013862c = uVar20;
                        uVar12 = (uint)((ulonglong)lVar3 >> 0x21);
                        uVar1 = (uint)((byte)((ulonglong)lVar3 >> 0x20) & 1)
                                    << 0x1f |
                                (uint)lVar3 >> 1;
                        lVar3 = CONCAT44(uVar12, uVar1);
                        uVar20 = DAT_0013862c + (0xfffffffe < DAT_00138628);
                        uVar13 = DAT_00138628 + 1;
                    } while (uVar1 != 0 || uVar12 != 0);
                }
                lVar3 = lVar32;
                if ((DAT_001aecc5 != '\0') &&
                    (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                      (6 < DAT_0009e320)))) {
                    snprintf(local_828, 0x800,
                             "%s:net_diff:%lld current_diff:%f net_diff_bit "
                             "%lld ...\n",
                             "hashtest_submit", DAT_00138620, DAT_00138624,
                             uVar29, uVar26, DAT_00138628, DAT_0013862c);
                    lVar33 = lVar32;
                    FUN_00047ab4(7, local_828, 0);
                    lVar3 = CONCAT44(DAT_00138624, DAT_00138620);
                    uVar36 = uVar29;
                    uVar37 = uVar26;
                }
            }
            DAT_00138624 = (undefined4)((ulonglong)lVar3 >> 0x20);
            DAT_00138620 = (undefined4)lVar3;
            local_920 = *(undefined4 *)(uVar18 + 0x80);
            uStack_91c = *(undefined4 *)(uVar18 + 0x84);
            uStack_918 = *(undefined4 *)(uVar18 + 0x88);
            uStack_914 = *(undefined4 *)(uVar18 + 0x8c);
            uStack_904 = *(undefined4 *)(uVar18 + 0x9c);
            local_910 = *(undefined4 *)(uVar18 + 0x90);
            uStack_90c = *(undefined4 *)(uVar18 + 0x94);
            uStack_908 = *(undefined4 *)(uVar18 + 0x98);
            local_928[0] = 0x50;
            local_928[1] = 0;
            local_928[2] = 0;
            local_928[3] = 0;
            local_928[4] = 0;
            local_928[5] = 0;
            local_928[6] = 0;
            local_928[7] = 0;
            local_9a8[0] = *(uint *)(uVar18 + 0x40);
            local_9a8[1] = *(undefined4 *)(uVar18 + 0x44);
            local_9a8[2] = *(undefined4 *)(uVar18 + 0x48);
            FUN_0005162c(auStack_900, local_9a8, 0xc);
            local_9a8[0] = uVar23;
            FUN_0005162c(auStack_8f4, local_9a8, 4);
            FUN_0001e58c(local_928, local_9a8);
            memset(local_928, 0, 0xe8);
            FUN_0001e740(local_9a8, 0x20, local_990 + 2);
            puVar17 = local_990 + 1;
            puVar16 = &local_9ac;
            do {
                puVar17 = puVar17 + 1;
                uVar20 = *puVar17;
                puVar16 = puVar16 + 1;
                *puVar16 = uVar20 << 0x18 | (uVar20 >> 8 & 0xff) << 0x10 |
                           (uVar20 >> 0x10 & 0xff) << 8 | uVar20 >> 0x18;
                acVar4 = local_81c;
            } while (local_990 + 9 != puVar17);
            if (local_990[1] == 0) {
                puVar16 = local_990 + 1;
                uVar20 = 0;
                do {
                    puVar16 = puVar16 + -1;
                    if (*puVar16 != 0) {
                        uVar29 = (int)uVar20 >> 0x1f;
                        goto LAB_00013588;
                    }
                    uVar20 = uVar20 + 1;
                } while (uVar20 != 7);
                uVar20 = 7;
                uVar29 = 0;
            LAB_00013588:
                uVar13 = DAT_0013861c >> 5;
                uVar12 = DAT_00138618 >> 5 | DAT_0013861c << 0x1b;
                bVar31 = uVar29 <= uVar13;
                if (uVar13 == uVar29) {
                    bVar31 = uVar20 <= uVar12;
                }
                if (!bVar31 || uVar13 == uVar29 && uVar12 == uVar20) {
                    cVar15 = *(char *)(DAT_000a0d68 + 0x329a);
                    if (cVar15 == '\0') {
                        cVar15 = '\x03';
                    }
                    iVar22 = FUN_00075cf4(uVar23, cVar15);
                    uVar20 = FUN_00075cec(uVar23);
                    if ((DAT_001aecc5 != '\0') &&
                        (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                          (6 < DAT_0009e320)))) {
                        iVar25 = iVar21;
                        iVar28 = iVar22;
                        snprintf(local_828, 0x800,
                                 "%s: chain %d which_asic_nonce %d "
                                 "which_core_nonce %d",
                                 "hashtest_submit", iVar21, iVar22, uVar20);
                        FUN_00047ab4(7, local_828, 0);
                        lVar33 = CONCAT44(iVar28, iVar25);
                        uVar36 = uVar20;
                    }
                    iVar22 = DAT_000a0d68 + (iVar21 * 0x4e + iVar22) * 8;
                    uVar29 = DAT_00138618 >> 5;
                    uVar20 = DAT_0013861c << 0x1b;
                    uVar12 = *(uint *)(iVar22 + 0x4f6);
                    uVar13 = DAT_00138618 & 0x1f;
                    *(uint *)(iVar22 + 0x4f6) = uVar12 + 1;
                    *(uint *)(iVar22 + 0x4fa) =
                        *(int *)(iVar22 + 0x4fa) + (uint)(0xfffffffe < uVar12);
                    uVar20 = local_990[-(uVar29 | uVar20)];
                    if ((uVar20 << 0x18 | (uVar20 >> 8 & 0xff) << 0x10 |
                         (uVar20 >> 0x10 & 0xff) << 8 | uVar20 >> 0x18) <
                        0xffffffffU >> uVar13) {
                        uVar20 = (&DAT_00241a80)[iVar21 * 2];
                        (&DAT_00241a80)[iVar21 * 2] = uVar20 + 0x100;
                        (&DAT_00241a84)[iVar21 * 2] =
                            (&DAT_00241a84)[iVar21 * 2] +
                            (uint)(0xfffffeff < uVar20);
                        FUN_00025da0(pvVar10, uVar18, uVar23, uVar19 & 0xff);
                        bVar31 = 0xfffffeff < local_9d8;
                        local_9d8 = local_9d8 + 0x100;
                        local_9d4 = local_9d4 + (uint)bVar31;
                    } else if ((local_990[0] << 0x18 |
                                (local_990[0] >> 8 & 0xff) << 0x10 |
                                (local_990[0] >> 0x10 & 0xff) << 8 |
                                local_990[0] >> 0x18) < 0xffffff) {
                        uVar20 = (&DAT_00241a80)[iVar21 * 2];
                        bVar31 = 0xfffffeff < local_9d8;
                        local_9d8 = local_9d8 + 0x100;
                        (&DAT_00241a80)[iVar21 * 2] = uVar20 + 0x100;
                        (&DAT_00241a84)[iVar21 * 2] =
                            (&DAT_00241a84)[iVar21 * 2] +
                            (uint)(0xfffffeff < uVar20);
                        local_9d4 = local_9d4 + (uint)bVar31;
                    }
                }
            } else {
                if (*(int *)(DAT_000a0d68 + iVar21 * 4 + 4) == 1) {
                    if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                        (2 < DAT_0009e320)) {
                        local_828[0] = 'h';
                        local_828[1] = 'a';
                        uStack_826._0_1_ = 's';
                        uStack_826._1_1_ = 'h';
                        local_824._0_1_ = '2';
                        local_824._1_1_ = '_';
                        local_824._2_1_ = '3';
                        local_824._3_1_ = '2';
                        local_820._0_1_ = ' ';
                        local_820._1_1_ = 'e';
                        local_820._2_1_ = 'r';
                        local_820._3_1_ = 'r';
                        local_81c[0] = 'o';
                        local_81c[1] = 'r';
                        local_81c = acVar4;
                        /* WARNING: Ignoring partial resolution of indirect */
                        FUN_00047ab4(3, local_828, 0);
                    }
                    FUN_000593c8(pvVar10);
                    iVar22 = DAT_000a0d68 + iVar21 * 4;
                    *(int *)(iVar22 + 0x4b6) = *(int *)(iVar22 + 0x4b6) + 1;
                }
                if ((DAT_001aecc5 != '\0') &&
                    (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                      (6 < DAT_0009e320)))) {
                    snprintf(local_828, 0x800, "%s: HASH2_32[7] != 0",
                             "hashtest_submit");
                    FUN_00047ab4(7, local_828, 0);
                }
            }
            FUN_00053084(&local_9ac, "bmminer.c", "bitmain_c5_scanhash", 0x212);
            goto LAB_00012cb8;
        }
    LAB_00012f94:
        bVar31 = CARRY4(DAT_00241d50, local_9d8);
        DAT_00241d50 = DAT_00241d50 + local_9d8;
        DAT_00241d54 = DAT_00241d54 + local_9d4 + (uint)bVar31;
        iVar22 = pthread_rwlock_unlock((pthread_rwlock_t *)(__mutex + 1));
        if (iVar22 != 0) {
            piVar14 = __errno_location();
            pcVar6 = "bmminer.c";
            pcVar35 = "bitmain_c5_scanhash";
            uVar36 = 0x215;
            snprintf(local_828, 0x800,
                     "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d",
                     *piVar14, "bmminer.c", "bitmain_c5_scanhash", 0x215);
            FUN_00047ab4(3, local_828, 1);
            FUN_00062ec0(1);
            lVar33 = CONCAT44(pcVar35, pcVar6);
        }
        (*DAT_0009e444)();
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_00138564);
        FUN_0004a804(1);
        if (local_9d8 != 0 || local_9d4 != 0) {
            uVar20 = -local_9d8;
            iVar22 =
                local_9d8 + ((uint)(local_9d8 != 0) * -2 - local_9d4) +
                (uint)CARRY4(local_9d8 * 0x7fffffff, local_9d8 * 0x7fffffff) +
                (uint)CARRY4(local_9d8 * -2, local_9d8);
            if ((DAT_001aecc5 != '\0') &&
                (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                  (6 < DAT_0009e320)))) {
                uVar23 = uVar20;
                iVar21 = iVar22;
                snprintf(local_828, 0x800, "%s: hashes %llu ...\n",
                         "bitmain_c5_scanhash", uVar20, iVar22);
                FUN_00047ab4(7, local_828, 0);
                lVar33 = CONCAT44(iVar21, uVar23);
            }
            if (uVar20 != 0 || iVar22 != 0) {
                bVar31 = CARRY4(DAT_00138600, uVar20);
                DAT_00138600 = DAT_00138600 + uVar20;
                DAT_00138604 = DAT_00138604 + iVar22 + (uint)bVar31;
            }
        }
    } while (true);
LAB_00012784:
    pclose(__stream);
    uVar20 = 1;
    uVar36 = 0;
    iVar22 = 0;
    pbVar24 = local_928;
    while (true) {
        sVar7 = strlen((char *)local_928);
        if (sVar7 < uVar20)
            break;
        memset(local_990 + 2, 0, 0x20);
        ppuVar8 = __ctype_b_loc();
        if (((*ppuVar8)[*pbVar24] & 0x2000) != 0) {
            strncpy((char *)(local_990 + 2), (char *)(local_928 + uVar36),
                    (uVar20 - uVar36) - 1);
            lVar9 = strtol((char *)(local_990 + 2), (char **)0x0, 10);
            uVar36 = uVar20;
            if (((0 < lVar9) && (iVar22 = iVar22 + 1, DAT_001aecc5 != '\0')) &&
                ((DAT_00244080 != '\0' ||
                  ((DAT_001aecc4 != '\0' || (6 < DAT_0009e320)))))) {
                snprintf(local_828, 0x800, "Parsed proc id is: %d\n");
                FUN_00047ab4(7, local_828, 0);
            }
        }
        uVar20 = uVar20 + 1;
        pbVar24 = pbVar24 + 1;
    }
    if (iVar22 != 0) {
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (2 < DAT_0009e320)) {
            snprintf(local_828, 0x800,
                     " %d instance of %s is  already Running on this machine",
                     iVar22, uVar26);
            FUN_00047ab4(3, local_828, 0);
        }
        if (iVar22 != 1) {
            snprintf(local_828, 0x800,
                     "%s is forbidden to start twice, will exit immediately!",
                     *param_2);
            FUN_00047ab4(3, local_828, 1);
            FUN_00062ec0(0xffffffff);
        }
    }
    goto LAB_00012954;
}

void entry(undefined4 param_1)

{
    undefined4 in_stack_00000000;

    __libc_start_main(FUN_00012608, in_stack_00000000, &stack0x00000004,
                      0x77ac9, &DAT_00077b05, param_1);
    /* WARNING: Subroutine does not return */
    abort();
}

/* WARNING: Removing unreachable block (ram,0x00013b6c) */

void FUN_00013b58(void)

{
    __gmon_start__();
    return;
}

/* WARNING: Removing unreachable block (ram,0x00013b90) */
/* WARNING: Removing unreachable block (ram,0x00013b9a) */

void FUN_00013b7c(void)

{
    return;
}

/* WARNING: Removing unreachable block (ram,0x00013bbc) */
/* WARNING: Removing unreachable block (ram,0x00013bc6) */

void FUN_00013ba0(void)

{
    return;
}

void _FINI_0(void)

{
    if (DAT_0009f7d8 == '\0') {
        FUN_00013b7c();
        DAT_0009f7d8 = '\x01';
    }
    return;
}

float FUN_00013be8(void)

{
    float fVar1;
    float fVar2;
    float fVar3;
    float fVar4;

    fVar1 = DAT_0009f804;
    DAT_0009f7fc = DAT_0009f7e4 - DAT_0009f7e8;
    fVar4 = DAT_0009f800 + DAT_0009f800;
    DAT_0009f804 = DAT_0009f800;
    fVar3 = DAT_0009f7fc - DAT_0009f800;
    DAT_0009f800 = DAT_0009f7fc;
    fVar2 = DAT_0009f7f0;
    if (DAT_000a06b8 == '\0') {
        fVar2 = DAT_0009f7ec;
    }
    return DAT_0009f7fc * DAT_0009f7f4 + fVar3 * fVar2 +
           ((DAT_0009f7fc - fVar4) + fVar1) * DAT_0009f7f8;
}

undefined4 FUN_00013c54(uint param_1, int param_2)

{
    uint uVar1;
    undefined4 uVar2;
    int iVar3;
    int iVar4;
    uint uVar5;
    int iVar6;
    char acStack_828[2052];

    iVar6 = 10;
    do {
        uVar5 = 0;
        FUN_00070cc0();
    LAB_00013cd0:
        do {
            uVar1 = FUN_00066480(uVar5);
            iVar4 = DAT_000a0d68;
            if (-1 < (int)uVar1) {
                iVar3 = (uVar5 + 0xc84) * 4;
                *(uint *)(DAT_000a0d68 + iVar3 + 6) = uVar1;
                if (4 < DAT_0009e31c) {
                    snprintf(acStack_828, 0x800, "fan[%u] speed[%u]\n", uVar5,
                             uVar1);
                    FUN_00047ab4(4, acStack_828, 0);
                    if (4 < DAT_0009e31c) {
                        snprintf(acStack_828, 0x800,
                                 "fan_id = %d, fan_speed = %d\n", uVar5,
                                 *(undefined4 *)(DAT_000a0d68 + iVar3 + 6));
                        FUN_00047ab4(4, acStack_828, 0);
                    }
                    uVar1 = *(uint *)(DAT_000a0d68 + iVar3 + 6);
                    iVar4 = DAT_000a0d68;
                }
                iVar3 = iVar4 + uVar5;
                if (uVar1 < param_1) {
                    if (*(char *)(iVar3 + 0x320e) == '\x01') {
                        *(undefined1 *)(iVar3 + 0x320e) = 0;
                        *(char *)(iVar4 + 0x3288) =
                            *(char *)(iVar4 + 0x3288) + -1;
                        *(uint *)(iVar4 + 0x4c) =
                            *(uint *)(iVar4 + 0x4c) & ~(1 << (uVar5 & 0xff));
                    }
                } else if (*(char *)(iVar3 + 0x320e) == '\0') {
                    *(undefined1 *)(iVar3 + 0x320e) = 1;
                    *(char *)(iVar4 + 0x3288) =
                        *(char *)(iVar4 + 0x3288) + '\x01';
                    uVar1 = uVar5 & 0xff;
                    uVar5 = uVar5 + 1;
                    *(uint *)(iVar4 + 0x4c) =
                        *(uint *)(iVar4 + 0x4c) | 1 << uVar1;
                    if (uVar5 == 8)
                        break;
                    goto LAB_00013cd0;
                }
            }
            uVar5 = uVar5 + 1;
        } while (uVar5 != 8);
        if (3 < *(byte *)(DAT_000a0d68 + 0x3288))
            goto LAB_00013d94;
        if (param_2 == 0) {
            uVar2 = 0x32;
        } else {
            uVar2 = 2000;
        }
        FUN_0004a804(uVar2);
        iVar6 = iVar6 + -1;
    } while (iVar6 != 0);
    if (*(byte *)(DAT_000a0d68 + 0x3288) < 4) {
        if (1 < DAT_0009e31c) {
            snprintf(acStack_828, 0x800,
                     "Error, fan lost, only find %d (< %d)\n",
                     (uint) * (byte *)(DAT_000a0d68 + 0x3288), 4);
            FUN_00047ab4(1, acStack_828, 0);
        }
        iVar6 = 0;
        do {
            if (3 < DAT_0009e31c) {
                snprintf(
                    acStack_828, 0x800, "fan_id = %d, fan_speed = %d\n", iVar6,
                    *(undefined4 *)(DAT_000a0d68 + (iVar6 + 0xc84) * 4 + 6));
                FUN_00047ab4(3, acStack_828, 0);
            }
            iVar6 = iVar6 + 1;
        } while (iVar6 != 8);
        FUN_00031794(10, 0xff);
        FUN_000226c0(6, "fan lost");
        uVar2 = 0xffffffff;
    } else {
    LAB_00013d94:
        uVar2 = 0;
    }
    return uVar2;
}

void FUN_00013ee8(int param_1)

{
    int iVar1;
    char local_810[20];
    undefined2 uStack_7fc;
    undefined1 local_7fa;

    FUN_0001758c();
    if (DAT_0009f808 == 0) {
        DAT_0009f808 = FUN_000674e4(0, 100000);
    }
    if (DAT_0009f808 < 0) {
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (2 < DAT_0009e320)) {
            builtin_strncpy(local_810, "pwm for fan init err", 0x14);
            uStack_7fc = 0x726f;
            local_7fa = 0;
            FUN_00047ab4(3, local_810, 0);
            return;
        }
    } else {
        if (99 < param_1) {
            param_1 = 100;
        }
        if (param_1 < 5) {
            param_1 = 5;
        }
        if (4 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "FAN PWM: %d\n", param_1);
            FUN_00047ab4(4, local_810, 0);
        }
        iVar1 = DAT_0009f808;
        *DAT_000a0d68 = (param_1 >> 1) << 0x10 | 100 - param_1 >> 1;
        *(char *)((int)DAT_000a0d68 + 0x32b2) = (char)param_1;
        FUN_000675d4(iVar1, param_1);
    }
    return;
}

void FUN_00014040(void)

{
    DAT_0009f7ec = 0xc1000000;
    DAT_0009f7f0 = 0xbf800000;
    DAT_0009f7f4 = 0xbf400000;
    DAT_0009f7f8 = 0;
    DAT_0009f7e4 = 0x428c0000;
    DAT_0009f7e0 = 0x40a00000;
    DAT_0009f7dc = 0x42c80000;
    return;
}

void FUN_0001409c(void)

{
    byte bVar1;
    int iVar2;
    int iVar3;
    int iVar4;
    int iVar5;
    undefined4 uVar6;
    uint uVar7;
    uint uVar8;
    bool bVar9;
    bool bVar10;
    float fVar11;
    char local_818[56];
    undefined2 uStack_7e0;
    undefined1 local_7de;

    FUN_0001758c();
    iVar2 = FUN_000171c0();
    iVar3 = FUN_00017264();
    iVar4 = FUN_000169e4();
    iVar5 = FUN_00016b30();
    if (iVar3 < 3) {
        iVar3 = iVar2;
    }
    if (2 < iVar3) {
    LAB_000141bc:
        uVar6 = FUN_00016940();
        iVar3 = FUN_00016b30();
        DAT_0009f7e8 = (float)(longlong)iVar3;
        FUN_00013be8();
        FUN_00013ee8(100);
        if (3 < DAT_0009e31c) {
            builtin_strncpy(
                local_818,
                " Air out temprature is too high, set fixed full fan spee",
                0x38);
            uStack_7e0 = 0xa64;
            local_7de = 0;
            FUN_00047ab4(3, local_818, 0);
            if (3 < DAT_0009e31c) {
                snprintf(local_818, 0x800,
                         "PWM keep 100:  airin_temp=%d, airout_temp=%f\n",
                         uVar6, (double)DAT_0009f7e8);
                FUN_00047ab4(3, local_818, 0);
                return;
            }
        }
        return;
    }
    bVar10 = SBORROW4(iVar5, 0x55);
    iVar3 = iVar5 + -0x55;
    bVar9 = iVar5 == 0x55;
    if (iVar5 < 0x56) {
        bVar10 = SBORROW4(iVar4, 0x46);
        iVar3 = iVar4 + -0x46;
        bVar9 = iVar4 == 0x46;
    }
    if (!bVar9 && iVar3 < 0 == bVar10)
        goto LAB_000141bc;
    if ((((byte)DAT_00241d04 & 2) != 0) && (DAT_00241d0a < 0x65)) {
        FUN_00013ee8();
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_818, 0x800, "fan_etf: Set fixed fan speed=%d\n",
                 (uint)DAT_00241d0a);
        FUN_00047ab4(3, local_818, 0);
        return;
    }
    FUN_0001758c();
    bVar1 = *(byte *)(DAT_000a0d68 + 0x32b2);
    uVar6 = FUN_00016940();
    iVar3 = FUN_00016b30();
    DAT_0009f7e8 = (float)(longlong)iVar3;
    fVar11 = (float)FUN_00013be8();
    uVar8 = (int)fVar11 + (uint)bVar1;
    if (uVar8 == *(byte *)(DAT_000a0d68 + 0x32b2))
        goto LAB_0001419c;
    fVar11 = (float)(longlong)(int)uVar8;
    if (DAT_0009f7e0 < fVar11) {
        if (DAT_0009f7dc < fVar11)
            goto LAB_00014340;
        uVar7 = (uint)(0.0 < fVar11) * (int)fVar11 & 0xff;
    } else if (DAT_0009f7dc < DAT_0009f7e0) {
    LAB_00014340:
        uVar7 = (uint)(0.0 < DAT_0009f7dc) * (int)DAT_0009f7dc & 0xff;
    } else {
        uVar7 = (uint)(0.0 < DAT_0009f7e0) * (int)DAT_0009f7e0 & 0xff;
    }
    FUN_00013ee8(uVar7);
LAB_0001419c:
    if (DAT_0009e31c < 5) {
        return;
    }
    snprintf(local_818, 0x800,
             "PWM change from %d to %d:  airin_temp=%d, airout_temp=%f\n",
             (uint) * (byte *)(DAT_000a0d68 + 0x32b2), uVar8, uVar6,
             (double)DAT_0009f7e8);
    FUN_00047ab4(4, local_818, 0);
    return;
}

void FUN_00014350(void)

{
    char local_808[28];
    undefined2 local_7ec;

    if (3 < DAT_0009e31c) {
        builtin_strncpy(local_808, "Note: front fan is power on!", 0x1c);
        local_7ec = 10;
        FUN_00047ab4(3, local_808, 0);
    }
    FUN_00066518(0);
    return;
}

void FUN_00014420(void)

{
    char local_808[2052];

    if (3 < DAT_0009e31c) {
        builtin_strncpy(local_808, "Note: rear fan is power on!\n", 0x1c);
        local_808[0x1c] = 0;
        FUN_00047ab4(3, local_808, 0);
    }
    FUN_00066518(1);
    return;
}

int FUN_000144e8(undefined4 param_1, undefined4 param_2)

{
    int iVar1;
    int iVar2;

    iVar2 = 8;
    do {
        iVar1 = FUN_0002ec38(0x1c, param_1, param_2);
        if (iVar1 != 0) {
            return iVar1;
        }
        FUN_0004a804(1);
        iVar2 = iVar2 + -1;
    } while (iVar2 != 0);
    return 0;
}

int FUN_00014528(undefined4 param_1, undefined4 param_2, uint param_3,
                 int param_4, byte *param_5)

{
    uint uVar1;
    int iVar2;
    int iVar3;
    bool bVar4;
    undefined1 auStack_38[8];
    undefined1 auStack_30[12];

    FUN_0004a60c(auStack_38);
    if (param_4 == 0) {
        iVar2 = 0;
        iVar3 = 2;
        do {
            FUN_000144e8(param_2, param_1);
            FUN_0001add4(0x98, param_3, 0, 0, param_2, param_1);
            FUN_0004a804(1);
            uVar1 = FUN_000144e8(param_2, param_1);
            FUN_0004a804(1);
            if ((uVar1 << 0x10) >> 0x18 == param_3) {
                FUN_0004a60c(auStack_30);
                if (iVar2 != 0) {
                    return 0;
                }
                if ((uVar1 & 0xff) == 0) {
                    return 0;
                }
                *param_5 = (byte)uVar1;
                return 1;
            }
            bVar4 = iVar3 != 1;
            iVar2 = 1;
            iVar3 = iVar2;
        } while (bVar4);
    } else {
        iVar3 = 0;
        iVar2 = 2;
        do {
            FUN_000144e8(param_2, param_1);
            FUN_0001add4(0x98, param_3, *param_5, 1, param_2, param_1);
            FUN_000144e8(param_2, param_1);
            FUN_0004a804(1);
            FUN_000144e8(param_2, param_1);
            FUN_0001add4(0x98, param_3, 0, 0, param_2, param_1);
            uVar1 = FUN_000144e8(param_2, param_1);
            FUN_0004a804(1);
            if (((uVar1 << 0x10) >> 0x18 == param_3) ||
                ((uVar1 & 0xff) == (uint)*param_5)) {
                FUN_0004a60c(auStack_30);
                if (iVar3 != 0) {
                    return 0;
                }
                return param_4;
            }
            bVar4 = iVar2 != 1;
            iVar3 = 1;
            iVar2 = iVar3;
        } while (bVar4);
    }
    FUN_0004a60c(auStack_30);
    return 0;
}

undefined4 FUN_000146c4(uint param_1)

{
    uint uVar1;
    int iVar2;
    char *pcVar3;
    uint uVar4;
    undefined2 *puVar5;
    int iVar6;
    char *local_834;
    undefined1 local_82b;
    undefined1 local_82a;
    byte local_829;
    char acStack_828[2052];

    puVar5 = &DAT_0009f80c + param_1 * 0x36;
    iVar6 = 0;
    local_82b = 0;
    local_834 = "TMP451";
    do {
        uVar4 = (uint) * (byte *)((int)puVar5 + 0xd);
        iVar2 = 4;
        local_82a = 4;
        thunk_FUN_000758bc(param_1 & 0xff, uVar4, 0, 1);
        FUN_0001a958(param_1 & 0xff, uVar4, 0);
        while (true) {
            local_829 = 0;
            FUN_00014528(param_1, uVar4, 0xfe, 0, &local_829);
            uVar1 = (uint)local_829;
            if (uVar1 == 0x1a)
                break;
            pcVar3 = local_834;
            if (uVar1 == 0x55)
                goto LAB_00014804;
            iVar2 = iVar2 + -1;
            if (iVar2 == 0) {
                if (3 < DAT_0009e31c) {
                    snprintf(acStack_828, 0x800,
                             "Wrong temp sensor type, chain = %d, sensor = %d, "
                             "type = 0x%x, retry.\n",
                             param_1,
                             (uint)((int)((ulonglong)uVar4 * 0xaaaaaaab >> 0x20)
                                    << 0x17) >>
                                 0x18,
                             uVar1);
                    FUN_00047ab4(3, acStack_828, 0);
                }
                *(undefined1 *)(DAT_000a0d68 + param_1 + 0x458) = 0;
                return 0xffffffff;
            }
        }
        pcVar3 = "NCT218";
    LAB_00014804:
        *(char **)(puVar5 + 10) = pcVar3;
        *(char **)(puVar5 + 0x10) = pcVar3;
        iVar6 = iVar6 + 1;
        local_82b = 0;
        FUN_00014528(param_1, uVar4, 9, 1, &local_82a);
        FUN_00014528(param_1, uVar4, 0x11, 1, &local_82b);
        puVar5 = puVar5 + 0xc;
        if (iVar6 == 4) {
            if (DAT_0009e31c < 4) {
                return 0;
            }
            snprintf(acStack_828, 0x800, "chain %d temp sensor %s\n", param_1,
                     pcVar3);
            FUN_00047ab4(3, acStack_828, 0);
            return 0;
        }
    } while (true);
}

void FUN_000148b4(pthread_rwlock_t *param_1)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2052];

    iVar1 = pthread_rwlock_init(param_1, (pthread_rwlockattr_t *)0x0);
    if (iVar1 == 0) {
        return;
    }
    piVar2 = __errno_location();
    snprintf(acStack_808, 0x800,
             "Failed to pthread_rwlock_init errno=%d in %s %s():%d", *piVar2,
             "temperature/temperature.c", "init_temp_info", 0x292);
    FUN_00047ab4(3, acStack_808, 1);
    FUN_00062ec0(1);
    return;
}

void FUN_0001493c(pthread_mutex_t *param_1)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2052];

    iVar1 = pthread_mutex_init(param_1, (pthread_mutexattr_t *)0x0);
    if (iVar1 == 0) {
        return;
    }
    piVar2 = __errno_location();
    snprintf(acStack_808, 0x800,
             "Failed to pthread_mutex_init errno=%d in %s %s():%d", *piVar2,
             "temperature/temperature.c", "init_temp_info", 0x292);
    FUN_00047ab4(3, acStack_808, 1);
    FUN_00062ec0(1);
    return;
}

void FUN_000149c4(pthread_rwlock_t *param_1, undefined4 param_2,
                  undefined4 param_3)

{
    int iVar1;
    int *piVar2;
    char acStack_810[2052];

    iVar1 = pthread_rwlock_rdlock(param_1);
    if (iVar1 == 0) {
        return;
    }
    piVar2 = __errno_location();
    snprintf(acStack_810, 0x800,
             "WTF RDLOCK ERROR ON LOCK! errno=%d in %s %s():%d", *piVar2,
             "temperature/temperature.c", param_2, param_3);
    FUN_00047ab4(3, acStack_810, 1);
    FUN_00062ec0(1);
    return;
}

void FUN_00014a40(undefined4 param_1, undefined4 param_2)

{
    int *piVar1;
    char acStack_810[2052];

    piVar1 = __errno_location();
    snprintf(acStack_810, 0x800,
             "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar1,
             "temperature/temperature.c", param_1, param_2);
    FUN_00047ab4(3, acStack_810, 1);
    FUN_00062ec0(1);
    return;
}

void FUN_00014aa4(undefined4 param_1, undefined4 param_2)

{
    int *piVar1;
    char acStack_810[2052];

    piVar1 = __errno_location();
    snprintf(acStack_810, 0x800,
             "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar1,
             "temperature/temperature.c", param_1, param_2);
    FUN_00047ab4(3, acStack_810, 1);
    FUN_00062ec0(1);
    return;
}

void FUN_00014b08(undefined4 param_1, undefined4 param_2)

{
    int *piVar1;
    char acStack_810[2052];

    piVar1 = __errno_location();
    snprintf(acStack_810, 0x800,
             "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar1,
             "temperature/temperature.c", param_1, param_2);
    FUN_00047ab4(3, acStack_810, 1);
    FUN_00062ec0(1);
    return;
}

void FUN_00014b6c(void)

{
    FILE *pFVar1;

    pFVar1 = fopen64("/tmp/check_chip_type_failed", "r");
    if (pFVar1 != (FILE *)0x0) {
        fclose(pFVar1);
        FUN_000226c0(0xd, "Can\'t get temperature sensor type!");
        return;
    }
    pFVar1 = fopen64("/tmp/check_chip_type_failed", "w+");
    if (pFVar1 != (FILE *)0x0) {
        fwrite("Can\'t get temperature sensor type.\n", 0x23, 1, pFVar1);
        fclose(pFVar1);
    }
    FUN_000226c0(0xc, "Re-run cgminer to check temerature sensor type again!");
    return;
}

/* WARNING: Type propagation algorithm not settling */

void FUN_00014bf4(void)

{
    short sVar1;
    int iVar2;
    int *piVar3;
    int iVar4;
    undefined4 local_820;
    char acStack_81c[2044];

    if (DAT_0009e31c < 4) {
        iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
    } else {
        local_820._0_1_ = ' ';
        local_820._1_1_ = ' ';
        local_820._2_1_ = 'p';
        local_820._3_1_ = 'c';
        builtin_strncpy(acStack_81c, "b temp ", 8);
        FUN_00047ec8(3, &local_820, 0);
        iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
    }
    if (iVar2 != 0) {
        piVar3 = __errno_location();
        snprintf((char *)&local_820, 0x800,
                 "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar3,
                 "temperature/temperature.c", "get_pcb_temp_min", 0x327);
        FUN_00047ab4(3, &local_820, 1);
        FUN_00062ec0(1);
    }
    iVar2 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_0009fee4);
    if (iVar2 == 0) {
        iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    } else {
        piVar3 = __errno_location();
        snprintf((char *)&local_820, 0x800,
                 "WTF RDLOCK ERROR ON LOCK! errno=%d in %s %s():%d", *piVar3,
                 "temperature/temperature.c", "get_pcb_temp_min", 0x327);
        FUN_00047ab4(3, &local_820, 1);
        FUN_00062ec0(1);
        iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    }
    if (iVar2 != 0) {
        piVar3 = __errno_location();
        snprintf((char *)&local_820, 0x800,
                 "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar3,
                 "temperature/temperature.c", "get_pcb_temp_min", 0x327);
        FUN_00047ab4(3, &local_820, 1);
        FUN_00062ec0(1);
    }
    sVar1 = DAT_0009ff08;
    iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
    if (iVar2 != 0) {
        piVar3 = __errno_location();
        snprintf((char *)&local_820, 0x800,
                 "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar3,
                 "temperature/temperature.c", "get_pcb_temp_min", 0x327);
        FUN_00047ab4(3, &local_820, 1);
        FUN_00062ec0(1);
    }
    (*DAT_0009e444)();
    if (sVar1 == 0xff) {
        if (3 < DAT_0009e31c) {
            local_820._0_1_ = 'I';
            local_820._1_1_ = 'N';
            local_820._2_1_ = 'V';
            local_820._3_1_ = 'A';
            builtin_strncpy(acStack_81c, "LID", 4);
            FUN_00047ec8(3, &local_820, 0);
            goto LAB_00015264;
        }
    LAB_00014c80:
        iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
        if (iVar2 == 0)
            goto LAB_00014c90;
    LAB_00015298:
        piVar3 = __errno_location();
        snprintf((char *)&local_820, 0x800,
                 "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar3,
                 "temperature/temperature.c", "get_pcb_temp_max", 0x32c);
        FUN_00047ab4(3, &local_820, 1);
        FUN_00062ec0(1);
        iVar2 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_0009fee4);
        if (iVar2 == 0)
            goto LAB_00014ca0;
    LAB_000152f8:
        piVar3 = __errno_location();
        snprintf((char *)&local_820, 0x800,
                 "WTF RDLOCK ERROR ON LOCK! errno=%d in %s %s():%d", *piVar3,
                 "temperature/temperature.c", "get_pcb_temp_max", 0x32c);
        FUN_00047ab4(3, &local_820, 1);
        FUN_00062ec0(1);
        iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    } else {
        if (DAT_0009e31c < 4)
            goto LAB_00014c80;
        iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
        if (iVar2 != 0) {
            piVar3 = __errno_location();
            snprintf((char *)&local_820, 0x800,
                     "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar3,
                     "temperature/temperature.c", "get_pcb_temp_min", 0x327);
            FUN_00047ab4(3, &local_820, 1);
            FUN_00062ec0(1);
        }
        iVar2 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_0009fee4);
        if (iVar2 != 0) {
            piVar3 = __errno_location();
            snprintf((char *)&local_820, 0x800,
                     "WTF RDLOCK ERROR ON LOCK! errno=%d in %s %s():%d",
                     *piVar3, "temperature/temperature.c", "get_pcb_temp_min",
                     0x327);
            FUN_00047ab4(3, &local_820, 1);
            FUN_00062ec0(1);
        }
        iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
        if (iVar2 != 0) {
            piVar3 = __errno_location();
            snprintf((char *)&local_820, 0x800,
                     "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d",
                     *piVar3, "temperature/temperature.c", "get_pcb_temp_min",
                     0x327);
            FUN_00047ab4(3, &local_820, 1);
            FUN_00062ec0(1);
        }
        iVar4 = (int)DAT_0009ff08;
        iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
        if (iVar2 != 0) {
            piVar3 = __errno_location();
            snprintf((char *)&local_820, 0x800,
                     "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d",
                     *piVar3, "temperature/temperature.c", "get_pcb_temp_min",
                     0x327);
            FUN_00047ab4(3, &local_820, 1);
            FUN_00062ec0(1);
        }
        (*DAT_0009e444)();
        snprintf((char *)&local_820, 0x800, "%d", iVar4);
        FUN_00047ec8(3, &local_820, 0);
    LAB_00015264:
        if (DAT_0009e31c < 4)
            goto LAB_00014c80;
        local_820._0_2_ = 0x7e;
        FUN_00047ec8(3, &local_820, 0);
        iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
        if (iVar2 != 0)
            goto LAB_00015298;
    LAB_00014c90:
        iVar2 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_0009fee4);
        if (iVar2 != 0)
            goto LAB_000152f8;
    LAB_00014ca0:
        iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    }
    if (iVar2 != 0) {
        piVar3 = __errno_location();
        snprintf((char *)&local_820, 0x800,
                 "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar3,
                 "temperature/temperature.c", "get_pcb_temp_max", 0x32c);
        FUN_00047ab4(3, &local_820, 1);
        FUN_00062ec0(1);
    }
    sVar1 = DAT_0009ff04;
    iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
    if (iVar2 != 0) {
        piVar3 = __errno_location();
        snprintf((char *)&local_820, 0x800,
                 "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar3,
                 "temperature/temperature.c", "get_pcb_temp_max", 0x32c);
        FUN_00047ab4(3, &local_820, 1);
        FUN_00062ec0(1);
    }
    (*DAT_0009e444)();
    if (sVar1 == 0xff) {
        if (3 < DAT_0009e31c) {
            local_820._0_1_ = 'I';
            local_820._1_1_ = 'N';
            local_820._2_1_ = 'V';
            local_820._3_1_ = 'A';
            builtin_strncpy(acStack_81c, "LID", 4);
            FUN_00047ec8(3, &local_820, 0);
            goto LAB_00015094;
        }
    LAB_00014cec:
        iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
        if (iVar2 == 0)
            goto LAB_00014cfc;
    LAB_000150d8:
        piVar3 = __errno_location();
        snprintf((char *)&local_820, 0x800,
                 "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar3,
                 "temperature/temperature.c", "get_chip_temp_min", 0x331);
        FUN_00047ab4(3, &local_820, 1);
        FUN_00062ec0(1);
        iVar2 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_0009fee4);
        if (iVar2 == 0)
            goto LAB_00014d0c;
    LAB_00015138:
        piVar3 = __errno_location();
        snprintf((char *)&local_820, 0x800,
                 "WTF RDLOCK ERROR ON LOCK! errno=%d in %s %s():%d", *piVar3,
                 "temperature/temperature.c", "get_chip_temp_min", 0x331);
        FUN_00047ab4(3, &local_820, 1);
        FUN_00062ec0(1);
        iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    } else {
        if (DAT_0009e31c < 4)
            goto LAB_00014cec;
        iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
        if (iVar2 != 0) {
            piVar3 = __errno_location();
            snprintf((char *)&local_820, 0x800,
                     "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar3,
                     "temperature/temperature.c", "get_pcb_temp_max", 0x32c);
            FUN_00047ab4(3, &local_820, 1);
            FUN_00062ec0(1);
        }
        iVar2 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_0009fee4);
        if (iVar2 != 0) {
            piVar3 = __errno_location();
            snprintf((char *)&local_820, 0x800,
                     "WTF RDLOCK ERROR ON LOCK! errno=%d in %s %s():%d",
                     *piVar3, "temperature/temperature.c", "get_pcb_temp_max",
                     0x32c);
            FUN_00047ab4(3, &local_820, 1);
            FUN_00062ec0(1);
        }
        iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
        if (iVar2 != 0) {
            piVar3 = __errno_location();
            snprintf((char *)&local_820, 0x800,
                     "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d",
                     *piVar3, "temperature/temperature.c", "get_pcb_temp_max",
                     0x32c);
            FUN_00047ab4(3, &local_820, 1);
            FUN_00062ec0(1);
        }
        iVar4 = (int)DAT_0009ff04;
        iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
        if (iVar2 != 0) {
            piVar3 = __errno_location();
            snprintf((char *)&local_820, 0x800,
                     "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d",
                     *piVar3, "temperature/temperature.c", "get_pcb_temp_max",
                     0x32c);
            FUN_00047ab4(3, &local_820, 1);
            FUN_00062ec0(1);
        }
        (*DAT_0009e444)();
        snprintf((char *)&local_820, 0x800, "%d", iVar4);
        FUN_00047ec8(3, &local_820, 0);
    LAB_00015094:
        if (DAT_0009e31c < 4)
            goto LAB_00014cec;
        local_820._0_1_ = ' ';
        local_820._1_1_ = ' ';
        local_820._2_1_ = 'c';
        local_820._3_1_ = 'h';
        builtin_strncpy(acStack_81c, "ip temp ", 8);
        acStack_81c[8] = 0;
        FUN_00047ec8(3, &local_820, 0);
        iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
        if (iVar2 != 0)
            goto LAB_000150d8;
    LAB_00014cfc:
        iVar2 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_0009fee4);
        if (iVar2 != 0)
            goto LAB_00015138;
    LAB_00014d0c:
        iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    }
    if (iVar2 != 0) {
        piVar3 = __errno_location();
        snprintf((char *)&local_820, 0x800,
                 "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar3,
                 "temperature/temperature.c", "get_chip_temp_min", 0x331);
        FUN_00047ab4(3, &local_820, 1);
        FUN_00062ec0(1);
    }
    sVar1 = DAT_0009ff0a;
    iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
    if (iVar2 != 0) {
        piVar3 = __errno_location();
        snprintf((char *)&local_820, 0x800,
                 "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar3,
                 "temperature/temperature.c", "get_chip_temp_min", 0x331);
        FUN_00047ab4(3, &local_820, 1);
        FUN_00062ec0(1);
    }
    (*DAT_0009e444)();
    if (sVar1 == 0xff) {
        if (3 < DAT_0009e31c) {
            local_820._0_1_ = 'I';
            local_820._1_1_ = 'N';
            local_820._2_1_ = 'V';
            local_820._3_1_ = 'A';
            builtin_strncpy(acStack_81c, "LID", 4);
            FUN_00047ec8(3, &local_820, 0);
            goto LAB_00014ed0;
        }
    } else if (3 < DAT_0009e31c) {
        iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
        if (iVar2 != 0) {
            piVar3 = __errno_location();
            snprintf((char *)&local_820, 0x800,
                     "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar3,
                     "temperature/temperature.c", "get_chip_temp_min", 0x331);
            FUN_00047ab4(3, &local_820, 1);
            FUN_00062ec0(1);
        }
        iVar2 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_0009fee4);
        if (iVar2 != 0) {
            piVar3 = __errno_location();
            snprintf((char *)&local_820, 0x800,
                     "WTF RDLOCK ERROR ON LOCK! errno=%d in %s %s():%d",
                     *piVar3, "temperature/temperature.c", "get_chip_temp_min",
                     0x331);
            FUN_00047ab4(3, &local_820, 1);
            FUN_00062ec0(1);
        }
        iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
        if (iVar2 != 0) {
            piVar3 = __errno_location();
            snprintf((char *)&local_820, 0x800,
                     "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d",
                     *piVar3, "temperature/temperature.c", "get_chip_temp_min",
                     0x331);
            FUN_00047ab4(3, &local_820, 1);
            FUN_00062ec0(1);
        }
        iVar4 = (int)DAT_0009ff0a;
        iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
        if (iVar2 != 0) {
            piVar3 = __errno_location();
            snprintf((char *)&local_820, 0x800,
                     "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d",
                     *piVar3, "temperature/temperature.c", "get_chip_temp_min",
                     0x331);
            FUN_00047ab4(3, &local_820, 1);
            FUN_00062ec0(1);
        }
        (*DAT_0009e444)();
        snprintf((char *)&local_820, 0x800, "%d", iVar4);
        FUN_00047ec8(3, &local_820, 0);
    LAB_00014ed0:
        if (3 < DAT_0009e31c) {
            local_820._0_2_ = 0x7e;
            FUN_00047ec8(3, &local_820, 0);
            iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
            goto joined_r0x00014d58;
        }
    }
    iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
joined_r0x00014d58:
    if (iVar2 == 0) {
        iVar2 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_0009fee4);
    } else {
        piVar3 = __errno_location();
        snprintf((char *)&local_820, 0x800,
                 "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar3,
                 "temperature/temperature.c", "get_chip_temp_max", 0x336);
        FUN_00047ab4(3, &local_820, 1);
        FUN_00062ec0(1);
        iVar2 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_0009fee4);
    }
    if (iVar2 == 0) {
        iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    } else {
        piVar3 = __errno_location();
        snprintf((char *)&local_820, 0x800,
                 "WTF RDLOCK ERROR ON LOCK! errno=%d in %s %s():%d", *piVar3,
                 "temperature/temperature.c", "get_chip_temp_max", 0x336);
        FUN_00047ab4(3, &local_820, 1);
        FUN_00062ec0(1);
        iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    }
    if (iVar2 != 0) {
        piVar3 = __errno_location();
        snprintf((char *)&local_820, 0x800,
                 "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar3,
                 "temperature/temperature.c", "get_chip_temp_max", 0x336);
        FUN_00047ab4(3, &local_820, 1);
        FUN_00062ec0(1);
    }
    sVar1 = DAT_0009ff06;
    iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
    if (iVar2 != 0) {
        piVar3 = __errno_location();
        snprintf((char *)&local_820, 0x800,
                 "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar3,
                 "temperature/temperature.c", "get_chip_temp_max", 0x336);
        FUN_00047ab4(3, &local_820, 1);
        FUN_00062ec0(1);
    }
    (*DAT_0009e444)();
    if (sVar1 == 0xff) {
        if (DAT_0009e31c < 4) {
            return;
        }
        local_820._0_1_ = 'I';
        local_820._1_1_ = 'N';
        local_820._2_1_ = 'V';
        local_820._3_1_ = 'A';
        builtin_strncpy(acStack_81c, "LID", 4);
        FUN_00047ec8(3, &local_820, 0);
    } else {
        if (DAT_0009e31c < 4) {
            return;
        }
        iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
        if (iVar2 != 0) {
            piVar3 = __errno_location();
            snprintf((char *)&local_820, 0x800,
                     "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar3,
                     "temperature/temperature.c", "get_chip_temp_max", 0x336);
            FUN_00047ab4(3, &local_820, 1);
            FUN_00062ec0(1);
        }
        iVar2 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_0009fee4);
        if (iVar2 != 0) {
            piVar3 = __errno_location();
            snprintf((char *)&local_820, 0x800,
                     "WTF RDLOCK ERROR ON LOCK! errno=%d in %s %s():%d",
                     *piVar3, "temperature/temperature.c", "get_chip_temp_max",
                     0x336);
            FUN_00047ab4(3, &local_820, 1);
            FUN_00062ec0(1);
        }
        iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
        if (iVar2 != 0) {
            piVar3 = __errno_location();
            snprintf((char *)&local_820, 0x800,
                     "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d",
                     *piVar3, "temperature/temperature.c", "get_chip_temp_max",
                     0x336);
            FUN_00047ab4(3, &local_820, 1);
            FUN_00062ec0(1);
        }
        iVar4 = (int)DAT_0009ff06;
        iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
        if (iVar2 != 0) {
            piVar3 = __errno_location();
            snprintf((char *)&local_820, 0x800,
                     "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d",
                     *piVar3, "temperature/temperature.c", "get_chip_temp_max",
                     0x336);
            FUN_00047ab4(3, &local_820, 1);
            FUN_00062ec0(1);
        }
        (*DAT_0009e444)();
        snprintf((char *)&local_820, 0x800, "%d", iVar4);
        FUN_00047ec8(3, &local_820, 0);
    }
    if (DAT_0009e31c < 4) {
        return;
    }
    local_820 = CONCAT22(local_820._2_2_, 10);
    FUN_00047ec8(3, &local_820, 0);
    return;
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */

void FUN_00015c50(void)

{
    char cVar1;
    int iVar2;
    char *pcVar3;
    char *pcVar4;
    int *piVar5;
    char *pcVar6;
    int *piVar7;

    pcVar4 = (char *)&DAT_0009f80c;
    FUN_0001493c(&DAT_002440bc);
    FUN_000148b4(&DAT_002440d4);
    _DAT_0009ff04 = 0;
    _DAT_0009ff08 = 0;
    _DAT_0009ff0c = 0;
    memset(&DAT_0009f80c, 0, 0x6c0);
    memset(&DAT_0009ff10, 0, 0x6c0);
    FUN_00014040();
    _DAT_0009ff0c = 0;
    _DAT_0009ff04 = 0xff81ff81;
    _DAT_0009ff08 = 0xff00ff;
    piVar7 = DAT_000a0d68 + 0x116;
    piVar5 = DAT_000a0d68;
    do {
        piVar5 = piVar5 + 1;
        if (*piVar5 == 1) {
            cVar1 = '\x11';
            pcVar3 = pcVar4;
            pcVar6 = "\fA<get_temp_stats";
            while (true) {
                pcVar3[0xc] = cVar1;
                pcVar3[0xe] = '\0';
                pcVar3[0x18] = cVar1;
                pcVar3[0xd] = cVar1 * '\x03';
                pcVar3[0x19] = cVar1 * '\x03';
                pcVar3[0x1a] = '\x01';
                if (pcVar6 == "get_temp_stats")
                    break;
                cVar1 = *pcVar6;
                pcVar3 = pcVar3 + 0x18;
                pcVar6 = pcVar6 + 1;
            }
            iVar2 = 0;
            pcVar4[0] = -0x7f;
            pcVar4[1] = -1;
            pcVar4[4] = -1;
            pcVar4[5] = '\0';
            pcVar4[8] = '\0';
            pcVar4[9] = '\0';
            pcVar4[2] = -0x7f;
            pcVar4[3] = -1;
            pcVar4[6] = -1;
            pcVar4[7] = '\0';
            pcVar4[10] = '\0';
            pcVar4[0xb] = '\0';
            pcVar3 = pcVar4;
            do {
                iVar2 = iVar2 + 1;
                pcVar3[0x10] = -1;
                pcVar3[0x11] = '\0';
                pcVar3[0xf] = '\x01';
                pcVar3[0x1c] = -1;
                pcVar3[0x1d] = '\0';
                pcVar3[0x1b] = '\x01';
                pcVar3 = pcVar3 + 0x18;
            } while (iVar2 != 4);
            *(undefined1 *)piVar7 = 4;
        }
        pcVar4 = pcVar4 + 0x6c;
        piVar7 = (int *)((int)piVar7 + 1);
    } while (pcVar4 != &DAT_0009fecc);
    return;
}

int FUN_00015da8(void)

{
    int iVar1;
    int iVar2;

    iVar2 = 0;
    do {
        while (*(int *)(DAT_000a0d68 + iVar2 * 4 + 4) == 1) {
            iVar1 = FUN_000146c4(iVar2);
            if (iVar1 != 0) {
                return iVar1;
            }
            iVar2 = iVar2 + 1;
            if (iVar2 == 0x10)
                goto LAB_00015df8;
        }
        iVar2 = iVar2 + 1;
    } while (iVar2 != 0x10);
LAB_00015df8:
    remove("/tmp/check_chip_type_failed");
    return 0;
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */

void FUN_00015e90(int param_1)

{
    bool bVar1;
    short sVar2;
    byte bVar3;
    bool bVar4;
    short sVar5;
    short sVar6;
    short sVar7;
    undefined2 uVar8;
    int iVar9;
    short *psVar10;
    int *piVar11;
    int iVar12;
    undefined2 *puVar13;
    short *psVar14;
    undefined2 *puVar15;
    int iVar16;
    short sVar17;
    undefined2 *puVar18;
    int iVar19;
    undefined *puVar20;
    int *piVar21;
    short *psVar22;
    int iVar23;
    undefined2 *puVar24;
    double dVar25;
    undefined *local_878;
    short *local_86c;
    byte local_855;
    undefined4 local_854;
    undefined4 local_850;
    undefined4 local_84c;
    char acStack_848[2052];

    puVar24 = &DAT_0009f80c;
    iVar23 = 0;
    piVar11 = DAT_000a0d68;
    do {
        while (piVar11[iVar23 + 1] != 1) {
            iVar23 = iVar23 + 1;
            puVar24 = puVar24 + 0x36;
            if (iVar23 == 0x10)
                goto LAB_00016038;
        }
        iVar12 = 0;
        puVar24[2] = 0xff;
        puVar24[3] = 0xff;
        puVar24[4] = 0;
        puVar24[5] = 0;
        *puVar24 = 0xff81;
        puVar24[1] = 0xff81;
        puVar18 = puVar24;
        do {
            iVar12 = iVar12 + 1;
            puVar18[8] = 0xff;
            *(undefined1 *)((int)puVar18 + 0xf) = 1;
            puVar18[0xe] = 0xff;
            *(undefined1 *)((int)puVar18 + 0x1b) = 1;
            puVar18 = puVar18 + 0xc;
        } while (iVar12 != 4);
        iVar12 = 0;
        puVar18 = puVar24;
        do {
            puVar15 = puVar18;
            bVar4 = false;
            do {
                local_855 = 0xff;
                iVar9 =
                    FUN_00014528(iVar23, *(undefined1 *)((int)puVar15 + 0xd),
                                 *(undefined1 *)(puVar15 + 7), 0, &local_855);
                if (iVar9 == 0) {
                    puVar15[8] = 0xff;
                    *(undefined1 *)((int)puVar15 + 0xf) = 1;
                    if (3 < DAT_0009e31c) {
                        snprintf(acStack_848, 0x800,
                                 "read temp sensor failed: chain = %d, sensor "
                                 "= %d, chip = %d, reg = %d\n",
                                 iVar23, iVar12,
                                 (uint) * (byte *)((int)puVar15 + 0xd),
                                 (uint) * (byte *)(puVar15 + 7));
                        FUN_00047ab4(3, acStack_848, 0);
                    }
                } else {
                    sVar17 = local_855 - 0x40;
                    if (bVar4) {
                        if (param_1 == 0) {
                            dVar25 =
                                (double)(longlong)(int)sVar17 * 0.9705 - 11.243;
                        } else {
                            dVar25 =
                                (double)(longlong)(int)sVar17 * 0.8755 - 8.2952;
                        }
                        sVar17 = (short)(longlong)dVar25;
                    }
                    puVar15[8] = sVar17;
                    *(undefined1 *)((int)puVar15 + 0xf) = 0;
                }
                puVar15 = puVar15 + 6;
                bVar1 = !bVar4;
                bVar4 = true;
            } while (bVar1);
            iVar12 = iVar12 + 1;
            puVar18 = puVar18 + 0xc;
        } while (iVar12 != 4);
        iVar23 = iVar23 + 1;
        puVar24 = puVar24 + 0x36;
        piVar11 = DAT_000a0d68;
    } while (iVar23 != 0x10);
LAB_00016038:
    DAT_000a05d0 = 0;
    DAT_000a05d4 = 0;
    DAT_000a05d8 = 0;
    DAT_000a05dc = 0;
    puVar24 = &DAT_0009f80c;
    piVar21 = piVar11;
    do {
        while (puVar18 = puVar24, piVar21 = piVar21 + 1, *piVar21 != 1) {
            puVar24 = puVar18 + 0x36;
            if (puVar18 + 0x36 == (undefined2 *)&DAT_0009fecc)
                goto LAB_00016110;
        }
        iVar23 = 0;
        puVar24 = puVar18;
        do {
            iVar12 = 0;
            puVar15 = puVar24;
            do {
                if (*(char *)((int)puVar15 + 0xf) == '\0') {
                    sVar17 = puVar15[8];
                    if (*(char *)(puVar15 + 6) == 'A' ||
                        *(char *)(puVar15 + 6) == '\x11') {
                        *(short *)((int)&DAT_000a05d8 + iVar12) =
                            *(short *)((int)&DAT_000a05d8 + iVar12) + 1;
                        *(short *)((int)&DAT_000a05d0 + iVar12) =
                            sVar17 + *(short *)((int)&DAT_000a05d0 + iVar12);
                    } else {
                        *(short *)((int)&DAT_000a05dc + iVar12) =
                            *(short *)((int)&DAT_000a05dc + iVar12) + 1;
                        *(short *)((int)&DAT_000a05d4 + iVar12) =
                            sVar17 + *(short *)((int)&DAT_000a05d4 + iVar12);
                    }
                }
                iVar12 = iVar12 + 2;
                puVar15 = puVar15 + 6;
            } while (iVar12 != 4);
            iVar23 = iVar23 + 1;
            puVar24 = puVar24 + 0xc;
        } while (iVar23 != 4);
        puVar24 = puVar18 + 0x36;
    } while (puVar18 + 0x36 != (undefined2 *)&DAT_0009fecc);
LAB_00016110:
    sVar17 = (short)DAT_000a05d8;
    if ((short)DAT_000a05d8 != 0) {
        uVar8 = FUN_000772e8((int)(short)DAT_000a05d0);
        DAT_000a05d0 = CONCAT22(DAT_000a05d0._2_2_, uVar8);
    }
    sVar6 = (short)DAT_000a05dc;
    if ((short)DAT_000a05dc != 0) {
        uVar8 = FUN_000772e8((int)(short)DAT_000a05d4);
        DAT_000a05d4 = CONCAT22(DAT_000a05d4._2_2_, uVar8);
    }
    sVar5 = DAT_000a05d8._2_2_;
    if (DAT_000a05d8._2_2_ != 0) {
        uVar8 = FUN_000772e8((int)DAT_000a05d0._2_2_);
        DAT_000a05d0 = CONCAT22(uVar8, (short)DAT_000a05d0);
    }
    sVar7 = DAT_000a05dc._2_2_;
    if (DAT_000a05dc._2_2_ != 0) {
        uVar8 = FUN_000772e8((int)DAT_000a05d4._2_2_);
        DAT_000a05d4 = CONCAT22(uVar8, (short)DAT_000a05d4);
    }
    DAT_000a05e0 = 0;
    DAT_000a05e4 = 0;
    piVar21 = piVar11;
    puVar24 = &DAT_0009f80c;
    do {
        while (puVar15 = puVar24, piVar21 = piVar21 + 1, *piVar21 == 1) {
            iVar23 = 0;
            puVar24 = puVar15;
            do {
                iVar12 = 0;
                puVar13 = puVar24;
                do {
                    if (*(char *)((int)puVar13 + 0xf) == '\0') {
                        if (*(char *)(puVar13 + 6) == 'A' ||
                            *(char *)(puVar13 + 6) == '\x11') {
                            sVar2 = puVar13[8] -
                                    *(short *)((int)&DAT_000a05d0 + iVar12);
                            *(short *)((int)&DAT_000a05e0 + iVar12) =
                                sVar2 * sVar2 +
                                *(short *)((int)&DAT_000a05e0 + iVar12);
                        } else {
                            sVar2 = puVar13[8] -
                                    *(short *)((int)&DAT_000a05d4 + iVar12);
                            *(short *)((int)&DAT_000a05e4 + iVar12) =
                                sVar2 * sVar2 +
                                *(short *)((int)&DAT_000a05e4 + iVar12);
                        }
                    }
                    iVar12 = iVar12 + 2;
                    puVar13 = puVar13 + 6;
                } while (iVar12 != 4);
                iVar23 = iVar23 + 1;
                puVar24 = puVar24 + 0xc;
            } while (iVar23 != 4);
            puVar24 = puVar15 + 0x36;
            if (puVar15 + 0x36 == puVar18 + 0x36)
                goto LAB_000162ac;
        }
        puVar24 = puVar15 + 0x36;
    } while (puVar15 + 0x36 != puVar18 + 0x36);
LAB_000162ac:
    if (sVar17 != 0) {
        uVar8 = FUN_000772e8((int)(short)DAT_000a05e0);
        DAT_000a05e0 = CONCAT22(DAT_000a05e0._2_2_, uVar8);
    }
    if (sVar6 != 0) {
        uVar8 = FUN_000772e8((int)(short)DAT_000a05e4);
        DAT_000a05e4 = CONCAT22(DAT_000a05e4._2_2_, uVar8);
    }
    if (sVar5 != 0) {
        uVar8 = FUN_000772e8((int)DAT_000a05e0._2_2_);
        DAT_000a05e0 = CONCAT22(uVar8, (short)DAT_000a05e0);
    }
    if (sVar7 != 0) {
        uVar8 = FUN_000772e8((int)DAT_000a05e4._2_2_);
        DAT_000a05e4 = CONCAT22(uVar8, (short)DAT_000a05e4);
    }
    iVar23 = 0;
    local_86c = &DAT_0009f80c;
    do {
        while (piVar11[iVar23 + 1] != 1) {
            iVar23 = iVar23 + 1;
            if (iVar23 == 0x10)
                goto LAB_00016484;
        }
        iVar12 = 0;
        puVar24 = &DAT_0009f80c + iVar23 * 0x36;
        local_878 = &DAT_000780b0;
        do {
            iVar9 = 0;
            puVar18 = puVar24;
            while (true) {
                if (*(char *)((int)puVar18 + 0xf) == '\0') {
                    if (*(char *)(puVar18 + 6) == 'A' ||
                        *(char *)(puVar18 + 6) == '\x11') {
                        iVar16 =
                            (int)*(short *)((int)&DAT_000a05e0 + iVar9 * 2);
                        if (((100 < iVar16) &&
                             (iVar19 = (int)(short)puVar18[8] -
                                       (int)*(short *)((int)&DAT_000a05d0 +
                                                       iVar9 * 2),
                              (float)(longlong)iVar16 * 2.7 <
                                  (float)(longlong)(iVar19 * iVar19))) &&
                            (*(undefined1 *)((int)puVar18 + 0xf) = 1,
                             3 < DAT_0009e31c)) {
                            puVar20 = &DAT_000780a8;
                            if (iVar9 == 0) {
                                puVar20 = local_878;
                            }
                            snprintf(acStack_848, 0x800,
                                     "[OUTLIER] air_in, chain = %d, sensor = "
                                     "%d, chip = %d, type = %s, temp = %d\n",
                                     iVar23, iVar12,
                                     (uint) * (byte *)((int)puVar18 + 0xd),
                                     puVar20, (int)(short)puVar18[8]);
                            FUN_00047ab4(3, acStack_848, 0);
                        }
                    } else {
                        iVar16 =
                            (int)*(short *)((int)&DAT_000a05e4 + iVar9 * 2);
                        if (((100 < iVar16) &&
                             (iVar19 = (int)(short)puVar18[8] -
                                       (int)*(short *)((int)&DAT_000a05d4 +
                                                       iVar9 * 2),
                              (float)(longlong)iVar16 * 2.7 <
                                  (float)(longlong)(iVar19 * iVar19))) &&
                            (*(undefined1 *)((int)puVar18 + 0xf) = 1,
                             3 < DAT_0009e31c)) {
                            puVar20 = &DAT_000780a8;
                            if (iVar9 == 0) {
                                puVar20 = local_878;
                            }
                            snprintf(acStack_848, 0x800,
                                     "[OUTLIER] air_out, chain = %d, sensor = "
                                     "%d, chip = %d, type = %s, temp = %d\n",
                                     iVar23, iVar12,
                                     (uint) * (byte *)((int)puVar18 + 0xd),
                                     puVar20, (int)(short)puVar18[8]);
                            FUN_00047ab4(3, acStack_848, 0);
                        }
                    }
                }
                puVar18 = puVar18 + 6;
                if (iVar9 == 1)
                    break;
                iVar9 = 1;
            }
            iVar12 = iVar12 + 1;
            puVar24 = puVar24 + 0xc;
        } while (iVar12 != 4);
        iVar23 = iVar23 + 1;
        piVar11 = DAT_000a0d68;
    } while (iVar23 != 0x10);
LAB_00016484:
    local_850 = 0xff00ff;
    local_854 = 0xff81ff81;
    local_84c = 0;
    do {
        while (piVar11 = piVar11 + 1, *piVar11 != 1) {
            local_86c = local_86c + 0x36;
            if (local_86c == puVar15 + 0x36)
                goto LAB_00016598;
        }
        iVar23 = 0;
        psVar22 = local_86c;
        do {
            psVar10 = psVar22;
            psVar14 = local_86c;
            bVar4 = false;
            do {
                bVar3 = *(byte *)((int)psVar10 + 0xf);
                psVar14[4] = psVar14[4] + (ushort)bVar3;
                if (bVar3 == 0) {
                    sVar17 = psVar10[8];
                    if (*psVar14 < sVar17) {
                        *psVar14 = sVar17;
                    }
                    if (sVar17 < psVar14[2]) {
                        psVar14[2] = sVar17;
                    }
                }
                psVar14 = psVar14 + 1;
                psVar10 = psVar10 + 6;
                bVar1 = !bVar4;
                bVar4 = true;
            } while (bVar1);
            iVar23 = iVar23 + 1;
            psVar22 = psVar22 + 0xc;
            psVar10 = local_86c;
            psVar14 = (short *)&local_854;
        } while (iVar23 != 4);
        do {
            sVar17 = psVar10[4];
            psVar14[4] = psVar14[4] + sVar17;
            if (sVar17 != 4) {
                if (*psVar14 < *psVar10) {
                    *psVar14 = *psVar10;
                }
                if (psVar10[2] < psVar14[2]) {
                    psVar14[2] = psVar10[2];
                }
            }
            psVar14 = psVar14 + 1;
            psVar10 = psVar10 + 1;
        } while ((short *)&local_850 != psVar14);
        local_86c = local_86c + 0x36;
    } while (local_86c != puVar15 + 0x36);
LAB_00016598:
    iVar23 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar23 != 0) {
        piVar11 = __errno_location();
        snprintf(acStack_848, 0x800,
                 "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar11,
                 "temperature/temperature.c", "get_temp_stats", 0x1c2);
        FUN_00047ab4(3, acStack_848, 1);
        FUN_00062ec0(1);
    }
    iVar23 = pthread_rwlock_wrlock((pthread_rwlock_t *)&DAT_0009fee4);
    if (iVar23 != 0) {
        piVar11 = __errno_location();
        snprintf(acStack_848, 0x800,
                 "WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d", *piVar11,
                 "temperature/temperature.c", "get_temp_stats", 0x1c2);
        FUN_00047ab4(3, acStack_848, 1);
        FUN_00062ec0(1);
    }
    memcpy(&DAT_0009ff10, &DAT_0009f80c, 0x6c0);
    _DAT_0009ff04 = local_854;
    _DAT_0009ff08 = local_850;
    _DAT_0009ff0c = local_84c;
    iVar23 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
    if (iVar23 != 0) {
        piVar11 = __errno_location();
        snprintf(acStack_848, 0x800,
                 "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar11,
                 "temperature/temperature.c", "get_temp_stats", 0x1c5);
        FUN_00047ab4(3, acStack_848, 1);
        FUN_00062ec0(1);
    }
    iVar23 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar23 != 0) {
        piVar11 = __errno_location();
        snprintf(acStack_848, 0x800,
                 "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar11,
                 "temperature/temperature.c", "get_temp_stats", 0x1c5);
        FUN_00047ab4(3, acStack_848, 1);
        FUN_00062ec0(1);
    }
    (*DAT_0009e444)();
    if (4 < DAT_0009e31c) {
        snprintf(
            acStack_848, 0x800,
            "[GLOBAL TEMP]  PCB: %d ~ %d, bad = %d; CHIP: %d ~ %d, bad = %d;\n",
            (int)DAT_0009ff08, (int)DAT_0009ff04, (int)DAT_0009ff0c,
            (int)DAT_0009ff0a, (int)DAT_0009ff06, (int)DAT_0009ff0e);
        FUN_00047ab4(4, acStack_848, 0);
    }
    return;
}

int FUN_00016940(void)

{
    int iVar1;
    int iVar2;

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar1 != 0) {
        FUN_00014b08("get_pcb_temp_min", 0x327);
    }
    FUN_000149c4(&DAT_0009fee4, "get_pcb_temp_min", 0x327);
    iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar1 != 0) {
        FUN_00014a40("get_pcb_temp_min", 0x327);
    }
    iVar2 = (int)DAT_0009ff08;
    iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
    if (iVar1 != 0) {
        FUN_00014aa4("get_pcb_temp_min", 0x327);
    }
    (*DAT_0009e444)();
    return iVar2;
}

int FUN_000169e4(void)

{
    int iVar1;
    int iVar2;

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar1 != 0) {
        FUN_00014b08("get_pcb_temp_max", 0x32c);
    }
    FUN_000149c4(&DAT_0009fee4, "get_pcb_temp_max", 0x32c);
    iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar1 != 0) {
        FUN_00014a40("get_pcb_temp_max", 0x32c);
    }
    iVar2 = (int)DAT_0009ff04;
    iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
    if (iVar1 != 0) {
        FUN_00014aa4("get_pcb_temp_max", 0x32c);
    }
    (*DAT_0009e444)();
    return iVar2;
}

int FUN_00016a8c(void)

{
    int iVar1;
    int iVar2;

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar1 != 0) {
        FUN_00014b08("get_chip_temp_min", 0x331);
    }
    FUN_000149c4(&DAT_0009fee4, "get_chip_temp_min", 0x331);
    iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar1 != 0) {
        FUN_00014a40("get_chip_temp_min", 0x331);
    }
    iVar2 = (int)DAT_0009ff0a;
    iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
    if (iVar1 != 0) {
        FUN_00014aa4("get_chip_temp_min", 0x331);
    }
    (*DAT_0009e444)();
    return iVar2;
}

int FUN_00016b30(void)

{
    int iVar1;
    int iVar2;

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar1 != 0) {
        FUN_00014b08("get_chip_temp_max", 0x336);
    }
    FUN_000149c4(&DAT_0009fee4, "get_chip_temp_max", 0x336);
    iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar1 != 0) {
        FUN_00014a40("get_chip_temp_max", 0x336);
    }
    iVar2 = (int)DAT_0009ff06;
    iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
    if (iVar1 != 0) {
        FUN_00014aa4("get_chip_temp_max", 0x336);
    }
    (*DAT_0009e444)();
    return iVar2;
}

int FUN_00016bd4(int param_1)

{
    short sVar1;
    int iVar2;

    iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar2 != 0) {
        FUN_00014b08("get_pcb_temp_min_one_chain", 0x33b);
    }
    FUN_000149c4(&DAT_0009fee4, "get_pcb_temp_min_one_chain", 0x33b);
    iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar2 != 0) {
        FUN_00014a40("get_pcb_temp_min_one_chain", 0x33b);
    }
    sVar1 = *(short *)(&DAT_0009ff14 + param_1 * 0x6c);
    iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
    if (iVar2 != 0) {
        FUN_00014aa4("get_pcb_temp_min_one_chain", 0x33b);
    }
    (*DAT_0009e444)();
    return (int)sVar1;
}

int FUN_00016c84(int param_1)

{
    short sVar1;
    int iVar2;

    iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar2 != 0) {
        FUN_00014b08("get_pcb_temp_max_one_chain", 0x340);
    }
    FUN_000149c4(&DAT_0009fee4, "get_pcb_temp_max_one_chain", 0x340);
    iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar2 != 0) {
        FUN_00014a40("get_pcb_temp_max_one_chain", 0x340);
    }
    sVar1 = *(short *)(&DAT_0009ff10 + param_1 * 0x6c);
    iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
    if (iVar2 != 0) {
        FUN_00014aa4("get_pcb_temp_max_one_chain", 0x340);
    }
    (*DAT_0009e444)();
    return (int)sVar1;
}

int FUN_00016d34(int param_1)

{
    short sVar1;
    int iVar2;

    iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar2 != 0) {
        FUN_00014b08("get_chip_temp_min_one_chain", 0x345);
    }
    FUN_000149c4(&DAT_0009fee4, "get_chip_temp_min_one_chain", 0x345);
    iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar2 != 0) {
        FUN_00014a40("get_chip_temp_min_one_chain", 0x345);
    }
    sVar1 = *(short *)(&DAT_0009ff16 + param_1 * 0x6c);
    iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
    if (iVar2 != 0) {
        FUN_00014aa4("get_chip_temp_min_one_chain", 0x345);
    }
    (*DAT_0009e444)();
    return (int)sVar1;
}

int FUN_00016de4(int param_1)

{
    short sVar1;
    int iVar2;

    iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar2 != 0) {
        FUN_00014b08("get_chip_temp_max_one_chain", 0x34a);
    }
    FUN_000149c4(&DAT_0009fee4, "get_chip_temp_max_one_chain", 0x34a);
    iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar2 != 0) {
        FUN_00014a40("get_chip_temp_max_one_chain", 0x34a);
    }
    sVar1 = *(short *)(&DAT_0009ff12 + param_1 * 0x6c);
    iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
    if (iVar2 != 0) {
        FUN_00014aa4("get_chip_temp_max_one_chain", 0x34a);
    }
    (*DAT_0009e444)();
    return (int)sVar1;
}

int FUN_00016e94(int param_1, int param_2)

{
    short sVar1;
    int iVar2;
    int iVar3;

    iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar2 != 0) {
        FUN_00014b08("get_pcb_temp", 0x352);
    }
    FUN_000149c4(&DAT_0009fee4, "get_pcb_temp", 0x352);
    iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar2 != 0) {
        FUN_00014a40("get_pcb_temp", 0x352);
    }
    iVar2 = param_1 * 0x6c + param_2 * 0x18;
    if ((&DAT_0009ff1f)[iVar2] != '\0') {
        iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
        if (iVar2 != 0) {
            FUN_00014aa4("get_pcb_temp", 0x35b);
        }
        (*DAT_0009e444)();
        iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
        if (iVar2 != 0) {
            FUN_00014b08("get_pcb_temp_max", 0x32c);
        }
        FUN_000149c4(&DAT_0009fee4, "get_pcb_temp_max", 0x32c);
        iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
        if (iVar2 != 0) {
            FUN_00014a40("get_pcb_temp_max", 0x32c);
        }
        iVar3 = (int)DAT_0009ff04;
        iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
        if (iVar2 != 0) {
            FUN_00014aa4("get_pcb_temp_max", 0x32c);
        }
        (*DAT_0009e444)();
        return iVar3;
    }
    sVar1 = *(short *)(&DAT_0009ff20 + iVar2);
    iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
    if (iVar2 != 0) {
        FUN_00014aa4("get_pcb_temp", 0x358);
    }
    (*DAT_0009e444)();
    return (int)sVar1;
}

int FUN_00017028(int param_1, int param_2)

{
    short sVar1;
    int iVar2;
    int iVar3;

    iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar2 != 0) {
        FUN_00014b08("get_chip_temp", 0x366);
    }
    FUN_000149c4(&DAT_0009fee4, "get_chip_temp", 0x366);
    iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar2 != 0) {
        FUN_00014a40("get_chip_temp", 0x366);
    }
    iVar2 = param_1 * 0x6c + param_2 * 0x18;
    if ((&DAT_0009ff2b)[iVar2] != '\0') {
        iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
        if (iVar2 != 0) {
            FUN_00014aa4("get_chip_temp", 0x36f);
        }
        (*DAT_0009e444)();
        iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
        if (iVar2 != 0) {
            FUN_00014b08("get_chip_temp_max", 0x336);
        }
        FUN_000149c4(&DAT_0009fee4, "get_chip_temp_max", 0x336);
        iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
        if (iVar2 != 0) {
            FUN_00014a40("get_chip_temp_max", 0x336);
        }
        iVar3 = (int)DAT_0009ff06;
        iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
        if (iVar2 != 0) {
            FUN_00014aa4("get_chip_temp_max", 0x336);
        }
        (*DAT_0009e444)();
        return iVar3;
    }
    sVar1 = *(short *)(&DAT_0009ff2c + iVar2);
    iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
    if (iVar2 != 0) {
        FUN_00014aa4("get_chip_temp", 0x36c);
    }
    (*DAT_0009e444)();
    return (int)sVar1;
}

int FUN_000171c0(void)

{
    int iVar1;
    int iVar2;

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar1 != 0) {
        FUN_00014b08("get_pcb_temp_bad", 0x377);
    }
    FUN_000149c4(&DAT_0009fee4, "get_pcb_temp_bad", 0x377);
    iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar1 != 0) {
        FUN_00014a40("get_pcb_temp_bad", 0x377);
    }
    iVar2 = (int)DAT_0009ff0c;
    iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
    if (iVar1 != 0) {
        FUN_00014aa4("get_pcb_temp_bad", 0x377);
    }
    (*DAT_0009e444)();
    return iVar2;
}

int FUN_00017264(void)

{
    int iVar1;
    int iVar2;

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar1 != 0) {
        FUN_00014b08("get_chip_temp_bad", 0x37c);
    }
    FUN_000149c4(&DAT_0009fee4, "get_chip_temp_bad", 0x37c);
    iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar1 != 0) {
        FUN_00014a40("get_chip_temp_bad", 0x37c);
    }
    iVar2 = (int)DAT_0009ff0e;
    iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
    if (iVar1 != 0) {
        FUN_00014aa4("get_chip_temp_bad", 0x37c);
    }
    (*DAT_0009e444)();
    return iVar2;
}

int FUN_00017308(void)

{
    int iVar1;
    int *piVar2;
    int iVar3;
    char local_810[2052];

    if (3 < DAT_0009e31c) {
        builtin_strncpy(local_810,
                        "Enter 30s sleep to cool down hash board, waiting...\n",
                        0x34);
        local_810[0x34] = 0;
        FUN_00047ab4(3, local_810, 0);
    }
    FUN_0004a804(30000);
    FUN_00015c50();
    iVar1 = FUN_00015da8();
    if (iVar1 != 0) {
        FUN_00014b6c();
    }
    FUN_00015e90(0);
    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_0009fecc);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(local_810, 0x800,
                 "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar2,
                 "temperature/temperature.c", "get_pcb_temp_min", 0x327);
        FUN_00047ab4(3, local_810, 1);
        FUN_00062ec0(1);
    }
    iVar1 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_0009fee4);
    if (iVar1 == 0) {
        iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    } else {
        piVar2 = __errno_location();
        snprintf(local_810, 0x800,
                 "WTF RDLOCK ERROR ON LOCK! errno=%d in %s %s():%d", *piVar2,
                 "temperature/temperature.c", "get_pcb_temp_min", 0x327);
        FUN_00047ab4(3, local_810, 1);
        FUN_00062ec0(1);
        iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_0009fecc);
    }
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(local_810, 0x800,
                 "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar2,
                 "temperature/temperature.c", "get_pcb_temp_min", 0x327);
        FUN_00047ab4(3, local_810, 1);
        FUN_00062ec0(1);
    }
    iVar3 = (int)DAT_0009ff08;
    iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0009fee4);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(local_810, 0x800,
                 "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar2,
                 "temperature/temperature.c", "get_pcb_temp_min", 0x327);
        FUN_00047ab4(3, local_810, 1);
        FUN_00062ec0(1);
    }
    (*DAT_0009e444)();
    if (3 < DAT_0009e31c) {
        snprintf(local_810, 0x800, "Environment temperature: %d\n", iVar3);
        FUN_00047ab4(3, local_810, 0);
    }
    return iVar3;
}

char *FUN_0001758c(void)

{
    return "/var/log/temp";
}

void FUN_00017598(int param_1, undefined4 param_2)

{
    undefined1 *puVar1;
    undefined2 *puVar2;
    int iVar3;

    puVar2 = &DAT_0009f80c + param_1 * 0x36;
    iVar3 = 0;
    do {
        puVar1 = (undefined1 *)((int)puVar2 + 0xd);
        iVar3 = iVar3 + 1;
        puVar2 = puVar2 + 0xc;
        FUN_0001a958(param_1, *puVar1, 0, param_2);
    } while (iVar3 != 4);
    return;
}

void FUN_000175e4(undefined4 param_1)

{
    DAT_000a05e8 = param_1;
    return;
}

undefined4 *FUN_000175f4(undefined4 *param_1)

{
    undefined4 uVar1;
    undefined4 uVar2;
    undefined4 uVar3;

    uVar1 = DAT_000a05e8[1];
    uVar2 = DAT_000a05e8[2];
    uVar3 = DAT_000a05e8[3];
    *param_1 = *DAT_000a05e8;
    param_1[1] = uVar1;
    param_1[2] = uVar2;
    param_1[3] = uVar3;
    return param_1;
}

void FUN_00017614(int param_1, int param_2, int param_3, int param_4)

{
    int iVar1;
    int iVar2;
    bool bVar3;
    char acStack_828[2052];

    iVar1 = 0;
    do {
        iVar2 = DAT_000a05ec;
        if (*(int *)(DAT_000a0d68 + iVar1 * 4 + 4) == 1) {
            bVar3 = DAT_000a05f0 == '\0';
            *(undefined1 *)(param_1 + iVar1) =
                *(undefined1 *)(*(int *)(DAT_000a05ec + iVar1 * 4) + 0x1d);
            *(undefined1 *)(param_2 + iVar1) =
                *(undefined1 *)(*(int *)(iVar2 + iVar1 * 4) + 0x1e);
            *(undefined2 *)(param_3 + iVar1 * 2) =
                *(undefined2 *)(*(int *)(iVar2 + iVar1 * 4) + 0x1f);
            *(undefined2 *)(param_4 + iVar1 * 2) =
                *(undefined2 *)(*(int *)(iVar2 + iVar1 * 4) + 0x21);
            if ((bVar3) && (3 < DAT_0009e31c)) {
                iVar2 = *(int *)(iVar2 + iVar1 * 4);
                snprintf(acStack_828, 0x800,
                         "chain[%d] board bin: %d, chip bin: %d, chip ft: "
                         "A%dV%d, chip version: %c%c\n",
                         iVar1, (uint) * (byte *)(iVar2 + 0x1d),
                         (uint) * (byte *)(iVar2 + 0x1e),
                         (uint) * (byte *)(iVar2 + 0x1f),
                         (uint) * (byte *)(iVar2 + 0x20),
                         (uint) * (byte *)(iVar2 + 0x21),
                         (uint) * (byte *)(iVar2 + 0x22));
                FUN_00047ab4(3, acStack_828, 0);
            }
        }
        iVar1 = iVar1 + 1;
    } while (iVar1 != 0x10);
    DAT_000a05f0 = 1;
    return;
}

void FUN_0001774c(void)

{
    int iVar1;
    void *__s;
    int iVar2;

    iVar1 = DAT_000a05ec;
    if (DAT_000a05ec == 0) {
        return;
    }
    iVar2 = 0;
    *(undefined4 *)(DAT_000a05ec + 0x40) = 0;
    *(undefined4 *)(iVar1 + 0x44) = 0;
    *(undefined4 *)(iVar1 + 0x48) = 0;
    *(undefined4 *)(iVar1 + 0x4c) = 0;
    *(undefined4 *)(iVar1 + 0x50) = 0;
    *(undefined4 *)(iVar1 + 0x54) = 0;
    *(undefined4 *)(iVar1 + 0x58) = 0;
    *(undefined4 *)(iVar1 + 0x5c) = 0;
    *(undefined1 *)(iVar1 + 0x60) = 0;
    do {
        if ((*(int *)(DAT_000a0d68 + iVar2 * 4 + 4) == 1) &&
            (__s = *(void **)(iVar1 + iVar2 * 4), __s != (void *)0x0)) {
            memset(__s, 0, 0x100);
        }
        iVar2 = iVar2 + 1;
    } while (iVar2 != 0x10);
    return;
}

void FUN_000177d8(void)

{
    void *__ptr;
    undefined4 *puVar1;
    undefined4 *puVar2;

    __ptr = DAT_000a05ec;
    if (DAT_000a05ec == (void *)0x0) {
        return;
    }
    puVar1 = (undefined4 *)((int)DAT_000a05ec + -4);
    puVar2 = (undefined4 *)((int)DAT_000a05ec + 0x3c);
    do {
        puVar1 = puVar1 + 1;
        if ((void *)*puVar1 != (void *)0x0) {
            free((void *)*puVar1);
            *puVar1 = 0;
        }
    } while (puVar1 != puVar2);
    free(__ptr);
    DAT_000a05ec = (void *)0x0;
    return;
}

undefined4 FUN_0001782c(void)

{
    void *pvVar1;
    void *pvVar2;
    int iVar3;
    char local_820[2052];

    if ((DAT_000a05ec == (void *)0x0) &&
        (DAT_000a05ec = calloc(100, 1), DAT_000a05ec == (void *)0x0)) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_820, "No memory for configuraion.\n", 0x1c);
            local_820[0x1c] = 0;
            FUN_00047ab4(3, local_820, 0);
        }
    LAB_000178bc:
        FUN_000177d8();
        return 0xffffffff;
    }
    iVar3 = 0;
    do {
        pvVar1 = DAT_000a05ec;
        if ((*(int *)(DAT_000a0d68 + iVar3 * 4 + 4) == 1) &&
            (*(int *)((int)DAT_000a05ec + iVar3 * 4) == 0)) {
            pvVar2 = malloc(0x100);
            *(void **)((int)pvVar1 + iVar3 * 4) = pvVar2;
            if (pvVar2 == (void *)0x0) {
                if (3 < DAT_0009e31c) {
                    snprintf(local_820, 0x800,
                             "No memory for configuraion for chain %d.\n",
                             iVar3);
                    FUN_00047ab4(3, local_820, 0);
                }
                goto LAB_000178bc;
            }
        }
        iVar3 = iVar3 + 1;
        if (iVar3 == 0x10) {
            return 0;
        }
    } while (true);
}

uint FUN_00017968(void *param_1, int param_2, void *param_3,
                  undefined1 *param_4, byte param_5)

{
    int iVar1;
    uint __n;
    int iVar2;
    int iVar3;
    uint unaff_r8;
    void *__s1;
    undefined2 local_2c[4];

    iVar3 = 0;
    if (param_2 == 0) {
        unaff_r8 = 0;
    }
    local_2c[0] = 0;
    __n = (uint)param_5;
    if (param_2 != 0) {
        unaff_r8 = 0;
        do {
            iVar2 = 0;
            __s1 = param_3;
            do {
                iVar1 = memcmp(__s1, local_2c, __n);
                if (iVar1 == 0) {
                    *param_4 = (char)iVar2;
                    break;
                }
                iVar1 = memcmp(__s1, param_1, __n);
                iVar2 = iVar2 + 1;
                if (iVar1 == 0) {
                    unaff_r8 = unaff_r8 + 1 & 0xff;
                    break;
                }
                __s1 = (void *)((int)__s1 + __n);
            } while (iVar2 != 0x20);
            iVar3 = iVar3 + 1;
            param_1 = (void *)((int)param_1 + __n);
        } while (param_2 != iVar3);
    }
    return unaff_r8;
}

char FUN_00017a14(void *param_1, void *param_2, size_t param_3)

{
    byte bVar1;
    int iVar2;
    char cVar3;
    uint uVar4;
    int iVar5;
    void *__s1;
    undefined2 local_2c[4];

    iVar5 = 0;
    cVar3 = '\0';
    local_2c[0] = 0;
    do {
        if ((*(int *)(DAT_000a0d68 + iVar5 * 4 + 4) == 1) &&
            (bVar1 = *(byte *)(DAT_000a0d68 + 0x3287), bVar1 != 0)) {
            uVar4 = 0;
            __s1 = param_1;
            while (true) {
                uVar4 = uVar4 + 1;
                iVar2 = memcmp(__s1, local_2c, param_3);
                if (iVar2 == 0)
                    break;
                iVar2 = memcmp(__s1, param_2, param_3);
                __s1 = (void *)((int)__s1 + param_3);
                if ((iVar2 == 0) || (bVar1 == uVar4))
                    goto joined_r0x00017a54;
            }
            memcpy(__s1, param_2, param_3);
            cVar3 = cVar3 + '\x01';
        }
    joined_r0x00017a54:
        param_2 = (void *)((int)param_2 + param_3);
        iVar5 = iVar5 + 1;
        if (iVar5 == 0x10) {
            return cVar3;
        }
    } while (true);
}

/* WARNING: Removing unreachable block (ram,0x00017c24) */

void FUN_00017af8(int param_1)

{
    uint uVar1;
    uint uVar2;
    undefined2 local_820;
    undefined1 local_81e;

    uVar1 = 0;
    do {
        uVar2 = uVar1 & 0xf;
        if (uVar2 == 0) {
            if (3 < DAT_0009e31c) {
                snprintf((char *)&local_820, 0x800, "0x%04X ", uVar1);
                FUN_00047ec8(3, &local_820, 0);
            }
        joined_r0x00017b38:
            if (3 < DAT_0009e31c) {
                snprintf((char *)&local_820, 0x800, "%02X ",
                         (uint) * (byte *)(param_1 + uVar1));
                FUN_00047ec8(3, &local_820, 0);
                if ((uVar2 == 0xf) && (3 < DAT_0009e31c)) {
                    local_820 = 10;
                    FUN_00047ec8(3, &local_820, 0);
                }
            }
        } else {
            if (uVar2 != 8)
                goto joined_r0x00017b38;
            if (3 < DAT_0009e31c) {
                local_820 = 0x2020;
                local_81e = 0;
                FUN_00047ec8(3, &local_820, 0);
                goto joined_r0x00017b38;
            }
        }
        uVar1 = uVar1 + 1;
        if (uVar1 == 0x100) {
            return;
        }
    } while (true);
}

undefined4 FUN_00017c28(undefined1 param_1, undefined1 *param_2,
                        undefined1 *param_3)

{
    int *piVar1;
    int *piVar2;
    int iVar3;
    int *piVar4;
    int *piVar5;

    if (DAT_000a05ec == (int *)0x0) {
        iVar3 = FUN_0001782c();
        if (iVar3 != 0) {
            return 0xffffffff;
        }
        FUN_0001774c();
    }
    piVar1 = DAT_000a05ec;
    piVar5 = DAT_000a0d68 + 0x10;
    piVar2 = DAT_000a0d68;
    piVar4 = DAT_000a05ec;
    do {
        piVar2 = piVar2 + 1;
        if (*piVar2 == 1) {
            *(undefined1 *)(*piVar4 + 0x1e) = param_1;
            *(undefined1 *)(*piVar4 + 0x1f) = *param_2;
            *(undefined1 *)(*piVar4 + 0x20) = param_2[1];
            *(undefined1 *)(*piVar4 + 0x21) = *param_3;
            *(undefined1 *)(*piVar4 + 0x22) = param_3[1];
        }
        piVar4 = piVar4 + 1;
    } while (piVar2 != piVar5);
    *(undefined1 *)(piVar1 + 0x18) = 1;
    return 0;
}

void FUN_00017ce0(ushort *param_1)

{
    uint uVar1;
    undefined4 local_830;
    undefined4 uStack_82c;
    undefined4 uStack_828;
    undefined4 uStack_824;
    undefined4 local_820;
    char local_810[2052];

    memset(&local_830, 0, 0x20);
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s : 0x%04x\n", "fixture_header",
             (uint)*param_1);
    FUN_00047ab4(3, local_810, 0);
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s : 0x%04x\n", "fixture_version",
             (uint)param_1[1]);
    FUN_00047ab4(3, local_810, 0);
    local_830 = *(undefined4 *)(param_1 + 2);
    uStack_82c = *(undefined4 *)(param_1 + 4);
    uStack_828 = *(undefined4 *)(param_1 + 6);
    uStack_824 = *(undefined4 *)(param_1 + 8);
    local_820 = *(undefined4 *)(param_1 + 10);
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s : %s\n", "hash_board_sn", &local_830);
    FUN_00047ab4(3, local_810, 0);
    if (3 < DAT_0009e31c) {
        snprintf(local_810, 0x800, "%-30s : 0x%04x\n", "pcb_version",
                 (uint)param_1[0xc]);
        FUN_00047ab4(3, local_810, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s : 0x%04x\n", "bom_version",
                 (uint)param_1[0xd]);
        FUN_00047ab4(3, local_810, 0);
        if (DAT_0009e31c < 4)
            goto LAB_00017f80;
        snprintf(local_810, 0x800, "%-30s : 0x%02x\n", "product_id",
                 (uint)(byte)param_1[0xe]);
        FUN_00047ab4(3, local_810, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s : 0x%02x\n", "board_bin",
                 (uint) * (byte *)((int)param_1 + 0x1d));
        FUN_00047ab4(3, local_810, 0);
    }
    if (DAT_0009e31c < 4) {
        return;
    }
    uVar1 = (uint)(byte)param_1[0x10];
    snprintf(local_810, 0x800, "%-30s : A%dV%d\n", "chip_ft",
             (uint) * (byte *)((int)param_1 + 0x1f), uVar1);
    FUN_00047ab4(3, local_810, 0);
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s : BIN%d\n", "chip_bin",
             (uint)(byte)param_1[0xf], uVar1);
    FUN_00047ab4(3, local_810, 0);
LAB_00017f80:
    if (3 < DAT_0009e31c) {
        snprintf(local_810, 0x800, "%-30s : %c%c\n", "chip_version",
                 (uint) * (byte *)((int)param_1 + 0x21),
                 (uint)(byte)param_1[0x11]);
        FUN_00047ab4(3, local_810, 0);
        if (3 < DAT_0009e31c) {
            local_810[0] = '\n';
            local_810[1] = '\0';
            FUN_00047ab4(3, local_810, 0);
            return;
        }
    }
    return;
}

void FUN_00017ff8(int param_1)

{
    uint uVar1;
    uint uVar2;
    undefined2 local_818[1024];

    if (DAT_0009e31c < 4)
        goto LAB_0001801c;
    snprintf((char *)local_818, 0x800, "%-30s : 0x%04x\n", "miner_header",
             (uint) * (ushort *)(param_1 + 0x28));
    FUN_00047ab4(3, local_818, 0);
    if (3 < DAT_0009e31c) {
        snprintf((char *)local_818, 0x800, "%-30s : 0x%02x\n",
                 "work_mode_count", (uint) * (byte *)(param_1 + 0x80));
        FUN_00047ab4(3, local_818, 0);
        if (DAT_0009e31c < 4)
            goto LAB_0001801c;
        uVar1 = (uint) * (byte *)(param_1 + 0x81);
        snprintf((char *)local_818, 0x800, "%-30s : 0x%02x\n", "miner_bin",
                 uVar1);
        FUN_00047ab4(3, local_818, 0);
        if (DAT_0009e31c < 4)
            goto LAB_0001801c;
        snprintf((char *)local_818, 0x800, "[mode %d]\n", 0, uVar1);
        FUN_00047ab4(3, local_818, 0);
        if (DAT_0009e31c < 4)
            goto LAB_0001801c;
        snprintf((char *)local_818, 0x800, "%-30s : %d\n", "voltage",
                 (uint) * (ushort *)(param_1 + 0x78));
        FUN_00047ab4(3, local_818, 0);
    }
    if (3 < DAT_0009e31c) {
        snprintf((char *)local_818, 0x800, "%-30s : %d\n", "ideal_hash_rate",
                 *(undefined4 *)(param_1 + 0x7a));
        FUN_00047ab4(3, local_818, 0);
    }
LAB_0001801c:
    uVar1 = 0;
    do {
        uVar2 = uVar1 + 1;
        if (3 < DAT_0009e31c) {
            snprintf((char *)local_818, 0x800, "IC[%03d]:%3d ", uVar1,
                     (uint) * (byte *)(param_1 + uVar2 + 0x29) * 5);
            FUN_00047ec8(3, local_818, 0);
            if ((uVar2 % 6 == 0) && (3 < DAT_0009e31c)) {
                local_818[0] = 10;
                FUN_00047ec8(3, local_818);
            }
        }
        uVar1 = uVar2;
    } while (uVar2 != 0x4e);
    return;
}

void FUN_0001823c(undefined4 param_1, undefined4 param_2)

{
    char local_810[2052];

    if (3 < DAT_0009e31c) {
        snprintf(local_810, 0x800, "[chain %d]\n", param_1);
        FUN_00047ab4(3, local_810, 0);
    }
    FUN_00017af8(param_2);
    if (3 < DAT_0009e31c) {
        local_810[0] = '\n';
        local_810[1] = '\0';
        FUN_00047ec8(3, local_810, 0);
    }
    FUN_00017ce0(param_2);
    FUN_00017ff8(param_2);
    return;
}

void FUN_000185fc(uint param_1)

{
    uint uVar1;
    int iVar2;
    char *__format;
    int iVar3;
    uint uVar4;
    short *psVar5;
    uint uVar6;
    bool bVar7;
    char acStack_828[20];
    undefined4 uStack_814;
    undefined1 uStack_810;

    bVar7 = param_1 != 0;
    if (bVar7) {
        param_1 = 1;
    }
    if (!bVar7) {
        param_1 = (uint)(DAT_000a05ec == 0);
    }
    if (param_1 != 0) {
        iVar2 = FUN_0001782c();
        if (iVar2 != 0) {
            return;
        }
        FUN_0001774c();
    }
    if (*(char *)(DAT_000a05ec + 0x60) != '\0') {
        return;
    }
    iVar2 = 0;
    do {
        while (*(int *)(DAT_000a0d68 + iVar2 * 4 + 4) != 1) {
            iVar2 = iVar2 + 1;
            if (iVar2 == 0x10)
                goto LAB_00018324;
        }
        iVar3 = iVar2 + 1;
        FUN_0006f13c(iVar2);
        iVar2 = iVar3;
    } while (iVar3 != 0x10);
LAB_00018324:
    uVar4 = 0;
    uVar6 = 0;
    FUN_0004a804(10);
    do {
        while (*(int *)(DAT_000a0d68 + uVar4 * 4 + 4) != 1) {
        LAB_00018354:
            uVar4 = uVar4 + 1;
            if (uVar4 == 0x10)
                goto LAB_0001843c;
        }
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (4 < DAT_0009e320)) {
            snprintf(acStack_828, 0x800, "load eeprom for chain %d", uVar4);
            FUN_00047ab4(5, acStack_828, 0);
        }
        iVar2 = DAT_000a05ec;
        psVar5 = *(short **)(DAT_000a05ec + uVar4 * 4);
        uVar1 = FUN_0006f3ac(uVar4, 0, psVar5, 0x100);
        if (uVar1 == 0) {
            FUN_0001823c(uVar4, psVar5);
            uVar1 = FUN_000514f8(psVar5, 0x26);
            if ((ushort)psVar5[0x13] == uVar1) {
                if (*psVar5 != 0x1396) {
                    if (3 < DAT_0009e31c) {
                        snprintf(acStack_828, 0x800,
                                 "Fixture header check fail, fixture_header = "
                                 "0x%x\n");
                        FUN_00047ab4(3, acStack_828, 0);
                        goto LAB_000185bc;
                    }
                    goto LAB_00018490;
                }
                *(undefined1 *)(iVar2 + uVar4 + 0x40) = 1;
            } else {
                if (3 < DAT_0009e31c) {
                    builtin_strncpy(acStack_828, "Fixture CRC check fa", 0x14);
                    uStack_814._0_1_ = 'i';
                    uStack_814._1_1_ = 'l';
                    uStack_814._2_1_ = '.';
                    uStack_814._3_1_ = '\n';
                    uStack_810 = 0;
                    FUN_00047ab4(3, acStack_828, 0);
                LAB_000185bc:
                    if (3 < DAT_0009e31c) {
                        snprintf(acStack_828, 0x800,
                                 "Fixture data load fail for chain %d.\n",
                                 uVar4);
                        uVar6 = 0xffffffff;
                        FUN_00047ab4(3, acStack_828, 0);
                        goto LAB_00018494;
                    }
                }
            LAB_00018490:
                uVar6 = 0xffffffff;
            }
        LAB_00018494:
            uVar1 = FUN_000514f8(psVar5 + 0x14, 0xd6);
            if ((ushort)psVar5[0x7f] == uVar1) {
                uVar1 = (uint)(ushort)psVar5[0x14];
                if (uVar1 == 0x1396) {
                    *(undefined1 *)(iVar2 + uVar4 + 0x50) = 1;
                } else if (3 < DAT_0009e31c) {
                    __format = "Miner header check fail, miner_header = 0x%x\n";
                    goto LAB_00018418;
                }
            } else if (3 < DAT_0009e31c) {
                builtin_strncpy(acStack_828, "Miner CRC check fail", 0x14);
                uStack_814._0_3_ = 0xa2e;
                FUN_00047ab4(3, acStack_828, 0);
            }
            goto LAB_00018354;
        }
        uVar6 = uVar6 | uVar1;
        if (DAT_0009e31c < 4)
            goto LAB_00018354;
        __format = "Read configuration fail for chain %d.\n";
        uVar1 = uVar4;
    LAB_00018418:
        uVar4 = uVar4 + 1;
        snprintf(acStack_828, 0x800, __format, uVar1);
        FUN_00047ab4(3, acStack_828, 0);
    } while (uVar4 != 0x10);
LAB_0001843c:
    if (uVar6 == 0) {
        *(undefined1 *)(DAT_000a05ec + 0x60) = 1;
    }
    return;
}

undefined4 FUN_00018650(void)

{
    undefined2 uVar1;
    int iVar2;
    void *__s1;
    undefined4 uVar3;
    int iVar4;
    undefined1 auStack_928[40];
    undefined1 auStack_900[216];
    char local_828[2052];

    if ((DAT_000a05ec == 0) || (*(char *)(DAT_000a05ec + 0x60) == '\0')) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_828, "No fixture configuration for flush.\n",
                            0x24);
            local_828[0x24] = 0;
            FUN_00047ab4(3, local_828, 0);
            return 0xffffffff;
        }
    } else {
        iVar2 = 0;
        uVar3 = 0;
        do {
            while (*(int *)(DAT_000a0d68 + iVar2 * 4 + 4) != 1) {
            LAB_0001869c:
                iVar2 = iVar2 + 1;
                if (iVar2 == 0x10) {
                    return uVar3;
                }
            }
            iVar4 = *(int *)(DAT_000a05ec + iVar2 * 4);
            if (3 < DAT_0009e31c) {
                snprintf(local_828, 0x800,
                         "Flush miner configuration for chain %d.\n", iVar2);
                FUN_00047ab4(3, local_828, 0);
            }
            __s1 = (void *)(iVar4 + 0x28);
            *(undefined1 *)(iVar4 + 0x28) = 0x96;
            *(undefined1 *)(iVar4 + 0x29) = 0x13;
            uVar1 = FUN_000514f8(__s1, 0xd6);
            *(undefined2 *)(iVar4 + 0xfe) = uVar1;
            iVar4 = FUN_0006f254(iVar2, 0x28, __s1, 0xd8);
            if (iVar4 == 0) {
                memset(auStack_928, 0xff, 0x100);
                iVar4 = FUN_0006f3ac(iVar2, 0x28, auStack_900, 0xd8);
                if (iVar4 == 0) {
                    iVar4 = memcmp(__s1, auStack_900, 0xd8);
                    if (iVar4 == 0) {
                        FUN_0001823c(iVar2, auStack_928);
                    } else {
                        if (DAT_0009e31c < 4)
                            goto LAB_0001871c;
                        uVar3 = 0xffffffff;
                        snprintf(
                            local_828, 0x800,
                            "Flush miner configration for chain %d failed.\n",
                            iVar2);
                        FUN_00047ab4(3, local_828, 0);
                    }
                } else {
                    if (DAT_0009e31c < 4)
                        goto LAB_0001871c;
                    uVar3 = 0xffffffff;
                    snprintf(local_828, 0x800,
                             "Read miner configuration for chain %d failed.\n",
                             iVar2);
                    FUN_00047ab4(3, local_828, 0);
                }
                goto LAB_0001869c;
            }
            if (3 < DAT_0009e31c) {
                uVar3 = 0xffffffff;
                snprintf(local_828, 0x800,
                         "Flush miner configuration for chain %d failed.\n",
                         iVar2);
                FUN_00047ab4(3, local_828, 0);
                goto LAB_0001869c;
            }
        LAB_0001871c:
            iVar2 = iVar2 + 1;
            uVar3 = 0xffffffff;
        } while (iVar2 != 0x10);
    }
    return 0xffffffff;
}

undefined1 FUN_000188cc(void)

{
    return *(undefined1 *)(DAT_000a05ec + 0x60);
}

undefined4 FUN_000188e0(void)

{
    char *pcVar1;
    int *piVar2;

    pcVar1 = (char *)(DAT_000a05ec + 0x50);
    piVar2 = DAT_000a0d68;
    do {
        while (piVar2 = piVar2 + 1, *piVar2 != 1) {
            pcVar1 = pcVar1 + 1;
            if (piVar2 == DAT_000a0d68 + 0x10) {
                return 1;
            }
        }
        if (*pcVar1 == '\0') {
            return 0;
        }
        pcVar1 = pcVar1 + 1;
    } while (piVar2 != DAT_000a0d68 + 0x10);
    return 1;
}

undefined4 FUN_00018984(undefined4 param_1)

{
    char acStack_808[2052];

    snprintf(acStack_808, 0x800, "No hash board sn, chain = %d.\n", param_1);
    FUN_00047ab4(3, acStack_808, 0);
    return 0;
}

undefined2 FUN_000189c8(int param_1)

{
    char acStack_808[2052];

    if ((DAT_000a05ec != 0) && (*(char *)(DAT_000a05ec + 0x60) != '\0')) {
        return *(undefined2 *)(*(int *)(DAT_000a05ec + param_1 * 4) + 0x18);
    }
    if (DAT_0009e31c < 4) {
        return 0xffff;
    }
    snprintf(acStack_808, 0x800, "No pcb version, chain = %d.\n", param_1);
    FUN_00047ab4(3, acStack_808, 0);
    return 0xffff;
}

undefined2 FUN_00018a54(int param_1)

{
    char acStack_808[2052];

    if ((DAT_000a05ec != 0) && (*(char *)(DAT_000a05ec + 0x60) != '\0')) {
        return *(undefined2 *)(*(int *)(DAT_000a05ec + param_1 * 4) + 0x1a);
    }
    if (DAT_0009e31c < 4) {
        return 0xffff;
    }
    snprintf(acStack_808, 0x800, "No bom version, chain = %d.\n", param_1);
    FUN_00047ab4(3, acStack_808, 0);
    return 0xffff;
}

undefined1 FUN_00018ae0(int param_1)

{
    char acStack_808[2052];

    if ((DAT_000a05ec != 0) && (*(char *)(DAT_000a05ec + 0x60) != '\0')) {
        return *(undefined1 *)(*(int *)(DAT_000a05ec + param_1 * 4) + 0x1c);
    }
    if (DAT_0009e31c < 4) {
        return 0xff;
    }
    snprintf(acStack_808, 0x800, "No product id, chain = %d.\n", param_1);
    FUN_00047ab4(3, acStack_808, 0);
    return 0xff;
}

undefined4 FUN_00018bb4(undefined4 param_1)

{
    char acStack_808[2052];

    snprintf(acStack_808, 0x800, "No board bin, chain = %d.\n", param_1);
    FUN_00047ab4(3, acStack_808, 0);
    return 0xff;
}

undefined4 FUN_00018c40(undefined4 param_1)

{
    char acStack_808[2052];

    snprintf(acStack_808, 0x800, "No work mode count, chain = %d.\n", param_1);
    FUN_00047ab4(3, acStack_808, 0);
    return 0xff;
}

undefined4 FUN_00018ccc(undefined4 param_1)

{
    char acStack_808[2052];

    snprintf(acStack_808, 0x800, "No miner bin, chain = %d\n", param_1);
    FUN_00047ab4(3, acStack_808, 0);
    return 0xff;
}

undefined4 FUN_00018d10(int param_1, int param_2, int param_3)

{
    int *piVar1;
    byte *pbVar2;
    char *__format;
    int iVar3;
    char acStack_808[2052];

    if ((DAT_000a05ec == 0) || (*(char *)(DAT_000a05ec + 0x60) == '\0')) {
        if (3 < DAT_0009e31c) {
            __format = "No work mode freq, chain = %d, mode = %d.\n";
            goto LAB_00018db4;
        }
    } else {
        if ((param_2 == 0) && (iVar3 = *(int *)(DAT_000a05ec + param_1 * 4),
                               *(char *)(iVar3 + 0x80) != '\0')) {
            piVar1 = (int *)(param_3 + -4);
            pbVar2 = (byte *)(iVar3 + 0x29);
            do {
                pbVar2 = pbVar2 + 1;
                piVar1 = piVar1 + 1;
                *piVar1 = (uint)*pbVar2 * 5;
            } while (pbVar2 != (byte *)(iVar3 + 0x77));
            return 0;
        }
        if (3 < DAT_0009e31c) {
            __format =
                "Invalid work mode to get freq, chain = %d, mode = %d.\n";
        LAB_00018db4:
            snprintf(acStack_808, 0x800, __format, param_1, param_2);
            FUN_00047ab4(3, acStack_808, 0);
            return 0xffffffff;
        }
    }
    return 0xffffffff;
}

undefined4 FUN_00018e08(int param_1, int param_2, uint *param_3)

{
    char *__format;
    int iVar1;
    char acStack_808[2052];

    if ((DAT_000a05ec == 0) || (*(char *)(DAT_000a05ec + 0x60) == '\0')) {
        if (DAT_0009e31c < 4) {
            return 0xffffffff;
        }
        __format = "No work mode voltage, chain = %d, mode = %d.\n";
    } else {
        if ((param_2 == 0) && (iVar1 = *(int *)(DAT_000a05ec + param_1 * 4),
                               *(char *)(iVar1 + 0x80) != '\0')) {
            if (param_3 != (uint *)0x0) {
                *param_3 = (uint) * (ushort *)(iVar1 + 0x78);
            }
            return 0;
        }
        if (DAT_0009e31c < 4) {
            return 0xffffffff;
        }
        __format = "Invalid work mode to get voltage, chain = %d, mode = %d.\n";
    }
    snprintf(acStack_808, 0x800, __format, param_1, param_2);
    FUN_00047ab4(3, acStack_808, 0);
    return 0xffffffff;
}

undefined4 FUN_00018ee4(int param_1, int param_2, undefined4 *param_3)

{
    char *__format;
    int iVar1;
    char acStack_808[2052];

    if ((DAT_000a05ec == 0) || (*(char *)(DAT_000a05ec + 0x60) == '\0')) {
        if (DAT_0009e31c < 4) {
            return 0xffffffff;
        }
        __format = "No work mode hash rate, chain = %d, mode = %d.\n";
    } else {
        if ((param_2 == 0) && (iVar1 = *(int *)(DAT_000a05ec + param_1 * 4),
                               *(char *)(iVar1 + 0x80) != '\0')) {
            if (param_3 != (undefined4 *)0x0) {
                *param_3 = *(undefined4 *)(iVar1 + 0x7a);
            }
            return 0;
        }
        if (DAT_0009e31c < 4) {
            return 0xffffffff;
        }
        __format =
            "Invalid work mode to get hash rate, chain = %d, mode = %d.\n";
    }
    snprintf(acStack_808, 0x800, __format, param_1, param_2);
    FUN_00047ab4(3, acStack_808, 0);
    return 0xffffffff;
}

undefined4 FUN_00019098(int param_1, int param_2, void *param_3)

{
    int iVar1;
    char acStack_808[2048];

    if (((DAT_000a05ec == 0) || (*(char *)(DAT_000a05ec + 0x60) == '\0')) ||
        (iVar1 = *(int *)(DAT_000a05ec + param_1 * 4), iVar1 == 0)) {
        if (3 < DAT_0009e31c) {
            snprintf(acStack_808, 0x800,
                     "Can\'t set work mode conf, configuration is not loaded, "
                     "chain = %d, mode = %d.\n",
                     param_1, param_2);
            goto LAB_0001914c;
        }
    } else {
        if ((param_2 == 0) && (*(char *)(iVar1 + 0x80) != '\0')) {
            memcpy((void *)(iVar1 + 0x2a), param_3, 0x56);
            return 0;
        }
        if (3 < DAT_0009e31c) {
            snprintf(acStack_808, 0x800, "Invalid work mode %d.\n", param_2);
        LAB_0001914c:
            FUN_00047ab4(3, acStack_808, 0);
            return 0xffffffff;
        }
    }
    return 0xffffffff;
}

undefined4 FUN_00019190(int param_1, undefined1 param_2)

{
    int iVar1;
    char acStack_808[2052];

    if (((DAT_000a05ec != 0) && (*(char *)(DAT_000a05ec + 0x60) != '\0')) &&
        (iVar1 = *(int *)(DAT_000a05ec + param_1 * 4), iVar1 != 0)) {
        *(undefined1 *)(iVar1 + 0x80) = param_2;
        return 0;
    }
    if (DAT_0009e31c < 4) {
        return 0xffffffff;
    }
    snprintf(acStack_808, 0x800,
             "Can\'t set work mode count, configuration is not loaded, chain = "
             "%d.\n",
             param_1);
    FUN_00047ab4(3, acStack_808, 0);
    return 0xffffffff;
}

undefined4 FUN_0001927c(undefined4 param_1)

{
    char acStack_808[2052];

    snprintf(acStack_808, 0x800,
             "Can\'t set miner bin, configuration is not loaded, chain = %d.\n",
             param_1);
    FUN_00047ab4(3, acStack_808, 0);
    return 0xffffffff;
}

void FUN_000192c0(void)

{
    undefined1 *puVar1;
    int iVar2;
    int iVar3;
    char *local_910;
    char local_90c[34];
    undefined2 local_8ea;
    undefined2 local_8e8;
    undefined1 local_8e6[78];
    undefined2 local_898;
    undefined2 local_896;
    undefined2 local_894;
    undefined2 local_890;
    undefined2 local_812;
    undefined2 local_810[1024];

    memset(local_90c + 0x1e, 0, 0xde);
    local_910 = "thread_rwlock_destroy";
    builtin_strncpy(local_90c, "deadbeefdeadbeefdead\x01", 0x16);
    local_90c[0x1c] = '\x01';
    local_90c[0x1d] = 'A';
    local_90c[0x1e] = 0x42;
    local_90c[0x16] = '\x02';
    local_90c[0x17] = '\0';
    local_90c[0x18] = '\0';
    local_90c[0x19] = '\x11';
    local_90c[0x1a] = '\0';
    local_90c[0x1b] = '\x03';
    local_8ea = FUN_000514f8(&local_910, 0x26);
    puVar1 = (undefined1 *)((int)&local_8e8 + 1);
    local_8e8 = 0x1396;
    local_890 = 0x1101;
    do {
        puVar1 = puVar1 + 1;
        *puVar1 = 0x3c;
    } while (local_8e6 + 0x4d != puVar1);
    local_896 = 0x3c8c;
    local_898 = 0x730;
    local_894 = 0;
    local_812 = FUN_000514f8(&local_8e8, 0xd6);
    FUN_00017af8(&local_910);
    if (3 < DAT_0009e31c) {
        local_810[0] = 10;
        FUN_00047ab4(3, local_810, 0);
    }
    FUN_0001782c();
    FUN_0001774c();
    iVar2 = 0;
    do {
        while (*(int *)(DAT_000a0d68 + iVar2 * 4 + 4) == 1) {
            iVar3 = iVar2 + 1;
            FUN_0006f254(iVar2, 0, &local_910, 0x100);
            iVar2 = iVar3;
            if (iVar3 == 0x10)
                goto LAB_00019418;
        }
        iVar2 = iVar2 + 1;
    } while (iVar2 != 0x10);
LAB_00019418:
    FUN_000185fc(1);
    FUN_000177d8();
    return;
}

char FUN_0001942c(void)

{
    void *__ptr;
    void *__ptr_00;
    void *__ptr_01;
    void *__ptr_02;
    void *__ptr_03;
    void *__ptr_04;
    void *__ptr_05;
    void *__ptr_06;
    int iVar1;
    int iVar2;
    int iVar3;
    int iVar4;
    int iVar5;
    int iVar6;
    int iVar7;
    int iVar8;
    char cVar9;
    uint __nmemb;
    int iVar10;
    char local_2c;
    char local_2b;
    char local_2a;
    char local_29[5];

    __ptr = calloc(0x10, 1);
    __ptr_00 = calloc(0x10, 1);
    __ptr_01 = calloc(0x20, 1);
    __ptr_02 = calloc(0x20, 1);
    FUN_00017614(__ptr, __ptr_00, __ptr_01, __ptr_02);
    __nmemb = (uint) * (byte *)(DAT_000a0d68 + 0x3287);
    __ptr_03 = calloc(__nmemb, 1);
    __ptr_04 = calloc(__nmemb, 1);
    __ptr_05 = calloc(__nmemb << 1, 1);
    __ptr_06 = calloc(__nmemb << 1, 1);
    cVar9 = *(char *)(DAT_000a05ec + 0x60);
    if (cVar9 != '\0') {
        iVar1 = FUN_00017a14(__ptr_03, __ptr, 1);
        iVar2 = FUN_00017a14(__ptr_04, __ptr_00, 1);
        iVar3 = FUN_00017a14(__ptr_05, __ptr_01, 2);
        iVar4 = FUN_00017a14(__ptr_06, __ptr_02, 2);
        pthread_mutex_lock((pthread_mutex_t *)&DAT_000a05f4);
        if (0 < DAT_000a060c) {
            iVar10 = 0;
            do {
                while (true) {
                    iVar8 = iVar10 * 0xc0;
                    iVar5 = FUN_00017968(__ptr_03, iVar1, DAT_000a0610 + iVar8,
                                         &local_2c, 1);
                    iVar6 =
                        FUN_00017968(__ptr_04, iVar2,
                                     DAT_000a0610 + iVar8 + 0x20, &local_2b, 1);
                    iVar7 =
                        FUN_00017968(__ptr_05, iVar3,
                                     DAT_000a0610 + iVar8 + 0x40, &local_2a, 2);
                    iVar8 =
                        FUN_00017968(__ptr_06, iVar4,
                                     DAT_000a0610 + iVar8 + 0x80, local_29, 2);
                    if (iVar1 != iVar5)
                        break;
                LAB_0001967c:
                    if (((iVar2 == iVar6) ||
                         ((iVar2 == 1 && (local_2b == '\0')))) &&
                        ((iVar3 == iVar7 ||
                          ((iVar3 == 1 && (local_2a == '\0')))))) {
                        if (iVar4 == iVar8) {
                            cVar9 = '\x01';
                            goto LAB_00019708;
                        }
                        if ((iVar4 == 1) && (local_29[0] == '\0')) {
                            cVar9 = '\x01';
                            goto LAB_00019708;
                        }
                    }
                LAB_000195d4:
                    iVar10 = iVar10 + 1;
                    if (DAT_000a060c <= iVar10)
                        goto LAB_00019704;
                }
                if (iVar1 != 1)
                    goto LAB_000195d4;
                if (local_2c == '\0')
                    goto LAB_0001967c;
                iVar10 = iVar10 + 1;
            } while (iVar10 < DAT_000a060c);
        }
    LAB_00019704:
        cVar9 = '\0';
    LAB_00019708:
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_000a05f4);
    }
    free(__ptr);
    free(__ptr_00);
    free(__ptr_01);
    free(__ptr_02);
    free(__ptr_03);
    free(__ptr_04);
    free(__ptr_05);
    free(__ptr_06);
    return cVar9;
}

void FUN_00019720(undefined4 param_1, undefined4 param_2)

{
    pthread_mutex_lock((pthread_mutex_t *)&DAT_000a05f4);
    DAT_000a060c = param_2;
    DAT_000a0610 = param_1;
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_000a05f4);
    return;
}

void FUN_00019750(void)

{
    pthread_mutex_lock((pthread_mutex_t *)&DAT_000a05f4);
    DAT_000a0610 = 0;
    DAT_000a060c = 0;
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_000a05f4);
    return;
}

bool FUN_00019780(void)

{
    char cVar1;

    cVar1 = FUN_000713a4();
    return cVar1 == '\0';
}

bool FUN_000197a0(void)

{
    char cVar1;

    cVar1 = FUN_00071af4();
    return cVar1 == '\0';
}

void FUN_000197b8(uint param_1)

{
    undefined4 uVar1;
    char acStack_810[2048];

    FUN_0001a7ac();
    if (3 < DAT_0009e31c) {
        snprintf(acStack_810, 0x800, "chain[%d] PIC jump to app\n", param_1);
        FUN_00047ab4(3, acStack_810, 0);
    }
    FUN_0007157c(param_1 & 0xff);
    uVar1 = FUN_000711a0(param_1 & 0xff);
    if (3 < DAT_0009e31c) {
        snprintf(acStack_810, 0x800, "Check chain[%d] PIC fw version=0x%02x\n",
                 param_1, uVar1);
        FUN_00047ab4(3, acStack_810, 0);
    }
    return;
}

undefined4 FUN_00019868(void)

{
    uint uVar1;
    uint uVar2;
    uint uVar3;
    char cVar4;
    uint uVar5;
    int iVar6;
    undefined4 uVar7;
    double in_d0;
    double dVar8;
    double dVar9;
    double dVar10;
    double dVar11;
    double dVar12;
    uint local_86c;
    uint local_868;
    uint local_864;
    char local_860[28];
    undefined4 uStack_844;
    undefined1 local_840;

    iVar6 = 0;
    uVar5 = 0;
    uVar7 = 0;
    do {
        if (*(int *)(DAT_000a0d68 + uVar5 * 4 + 4) == 1) {
            local_868 = 0;
            iVar6 = iVar6 + 1;
            local_864 = 0;
            local_86c = 0;
            cVar4 = FUN_00071f68(uVar5 & 0xff, &local_86c, 3);
            uVar3 = local_864;
            uVar2 = local_868;
            uVar1 = local_86c;
            dVar10 = 0.0;
            if (cVar4 == '\0') {
                builtin_strncpy(local_860, "Received an voltage response",
                                0x1c);
                uStack_844._0_3_ = 0xa2e;
                FUN_00047ab4(5, local_860, 0);
                dVar8 = (double)uVar2 * 3.3 * 0.0009765625;
                dVar11 = (double)uVar3 * 3.3 * 0.0009765625;
                dVar9 = (double)uVar1 * 3.3 * 0.0009765625;
                dVar12 = dVar11;
                snprintf(local_860, 0x800, "an0 = %f, an2 %f, an6 %f.\n");
                FUN_00047ab4(5, local_860, 0);
                if ((dVar11 < 2.359999895095825) ||
                    (2.640000104904175 < dVar11)) {
                    builtin_strncpy(local_860, "Ref an vol too high or too l",
                                    0x1c);
                    uStack_844._0_1_ = 'o';
                    uStack_844._1_1_ = 'w';
                    uStack_844._2_1_ = '.';
                    uStack_844._3_1_ = '\n';
                    local_840 = 0;
                    FUN_00047ab4(5, local_860, 0, 0xa2e776f, dVar9, dVar8,
                                 dVar12);
                } else {
                    snprintf(local_860, 0x800, "v_an2 = %f\n");
                    FUN_00047ab4(5, local_860, 0);
                    snprintf(local_860, 0x800, "v_10 = %f\n");
                    FUN_00047ab4(5, local_860, 0);
                    dVar10 = (((double)uVar2 * 3.3) /
                              (double)((float)(dVar11 / 2.5) * 1024.0)) *
                             7.599999904632568;
                }
            }
            if (DAT_0009e31c < 5) {
                if (0.5 < ABS(dVar10 - in_d0)) {
                LAB_00019928:
                    if (DAT_0009e31c < 4) {
                        uVar7 = 0xffffffff;
                    } else {
                        snprintf(local_860, 0x800,
                                 "chain[%d] target_vol = %.2f, actural_vol = "
                                 "%.2f, more than 0.5v diff.\n",
                                 uVar5);
                        uVar7 = 0xffffffff;
                        FUN_00047ab4(3, local_860, 0);
                    }
                }
            } else {
                snprintf(local_860, 0x800, "chain = %d, voltage = %f\n", uVar5,
                         dVar10);
                FUN_00047ab4(4, local_860, 0);
                if (0.5 < ABS(dVar10 - in_d0))
                    goto LAB_00019928;
                if (4 < DAT_0009e31c) {
                    snprintf(local_860, 0x800,
                             "chain[%d] target_vol = %.2f, actural_vol = %.2f, "
                             "check voltage passed.\n",
                             uVar5);
                    FUN_00047ab4(4, local_860, 0);
                }
            }
        }
        uVar5 = uVar5 + 1;
        if (uVar5 == 0x10) {
            if (iVar6 == 0) {
                uVar7 = 0xffffffff;
            }
            return uVar7;
        }
    } while (true);
}

int FUN_00019bb4(int param_1)

{
    int iVar1;
    int iVar2;
    undefined4 uVar3;
    char acStack_820[2052];

    if (*(char *)(DAT_000a0d68 + 0x3287) == '\0') {
    LAB_00019c7c:
        iVar1 = 0;
    } else {
        iVar2 = 0;
        do {
            if (4 < DAT_0009e31c) {
                snprintf(acStack_820, 0x800, "retry time: %d\n", iVar2);
                FUN_00047ab4(4, acStack_820, 0);
            }
            iVar2 = iVar2 + 1;
            uVar3 = SUB84((double)(longlong)param_1 / 100.0, 0);
            iVar1 = FUN_00019868(uVar3);
            if (iVar1 == 0) {
                sleep(1);
                iVar1 = FUN_00019868(uVar3);
                if (iVar1 == 0)
                    goto LAB_00019c7c;
            }
            sleep(1);
        } while (iVar2 != 0x1e);
    }
    return iVar1;
}

int FUN_00019ca0(int param_1)

{
    int iVar1;

    FUN_000734cc(SUB84((double)(longlong)param_1 / 100.0, 0));
    usleep(300000);
    iVar1 = FUN_00019bb4(param_1);
    if (iVar1 != 0) {
        FUN_00031794(0xc, 0);
        FUN_000226c0(8, "power set failed!");
    }
    DAT_000a0618 = param_1;
    DAT_000a0614 = 1;
    return iVar1;
}

int FUN_00019d18(int param_1, undefined1 *param_2)

{
    uint uVar1;
    uint uVar2;
    int iVar3;
    uint uVar4;
    uint uVar5;
    uint uVar6;
    uint uVar7;
    char acStack_830[2052];

    uVar1 = FUN_00073604(SUB84((double)(longlong)param_1 / 100.0, 0));
    uVar2 = FUN_00073604(
        SUB84((double)(longlong) * (int *)(param_2 + 4) / 100.0, 0));
    uVar4 = uVar1 - uVar2;
    if ((int)uVar4 < 0) {
        uVar4 = -uVar4;
    }
    uVar4 = uVar4 / 0x11;
    if (4 < DAT_0009e31c) {
        snprintf(acStack_830, 0x800,
                 "da_N_target %d, da_N_curr %d, da_N_step %d, step %d\n", uVar1,
                 uVar2, 0x11, uVar4);
        FUN_00047ab4(4, acStack_830, 0);
    }
    if (uVar4 != 0) {
        uVar5 = uVar2 + 0x11;
        uVar7 = uVar4 * 0x11 + uVar5;
        uVar6 = uVar2;
        do {
            uVar6 = uVar6 - 0x11;
            uVar4 = uVar6;
            if ((int)uVar2 < (int)uVar1) {
                uVar4 = uVar5;
            }
            uVar5 = uVar5 + 0x11;
            FUN_00073584(uVar4 & 0xff);
        } while (uVar5 != uVar7);
    }
    if (uVar1 != uVar4) {
        FUN_00073584(uVar1 & 0xff);
    }
    iVar3 = FUN_00019bb4(param_1);
    if (iVar3 != 0) {
        FUN_00031794(0xc, 0);
        FUN_000226c0(8, "power set failed!");
    }
    *(int *)(param_2 + 4) = param_1;
    *param_2 = 1;
    return iVar3;
}

void FUN_00019e68(void)

{
    FUN_000685c8();
    sleep(1);
    return;
}

void FUN_00019e7c(void)

{
    FUN_0006860c();
    sleep(1);
    return;
}

undefined4 FUN_00019e90(void)

{
    uint uVar1;
    char local_810[12];
    uint local_804;
    char local_800[8];
    undefined2 local_7f8;

    uVar1 = FUN_000731e4();
    uVar1 = uVar1 & 0xffff;
    if (DAT_0009e31c < 4) {
        if (uVar1 == 0x42) {
            DAT_000a0614 = 0;
            DAT_000a0618 = 0;
            DAT_000a061c = 2000;
            DAT_000a0620 = 0x708;
            DAT_000a0624 = 0x73a;
            DAT_000a0628 = 0x708;
            return 0;
        }
    } else {
        snprintf(local_810, 0x800, "power type version: 0x%04x\n", uVar1);
        FUN_00047ab4(3, local_810, 0);
        if (uVar1 == 0x42) {
            DAT_000a061c = 2000;
            DAT_000a0624 = 0x73a;
            DAT_000a0614 = 0;
            DAT_000a0618 = 0;
            DAT_000a0620 = 0x708;
            DAT_000a0628 = 0x708;
            if (DAT_0009e31c < 4) {
                DAT_000a0614 = 0;
                DAT_000a0618 = 0;
                DAT_000a061c = 2000;
                DAT_000a0620 = 0x708;
                DAT_000a0624 = 0x73a;
                DAT_000a0628 = 0x708;
                return 0;
            }
            builtin_strncpy(local_810, "Power init:\n", 0xc);
            local_804 = local_804 & 0xffffff00;
            FUN_00047ab4(3, local_810, 0);
            if (3 < DAT_0009e31c) {
                snprintf(local_810, 0x800, "current_voltage_raw     = %d\n",
                         DAT_000a0618);
                FUN_00047ab4(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return 0;
                }
                snprintf(local_810, 0x800, "highest_voltage_raw     = %d\n",
                         DAT_000a061c);
                FUN_00047ab4(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return 0;
                }
                snprintf(local_810, 0x800, "working_voltage_raw     = %d\n",
                         DAT_000a0620);
                FUN_00047ab4(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return 0;
                }
                snprintf(local_810, 0x800, "higher_voltage_raw      = %d\n",
                         DAT_000a0624);
                FUN_00047ab4(3, local_810, 0);
            }
            if (3 < DAT_0009e31c) {
                snprintf(local_810, 0x800, "check_asic_voltage_raw  = %d\n",
                         DAT_000a0628);
                FUN_00047ab4(3, local_810, 0);
            }
            return 0;
        }
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_810, "power type v", 0xc);
            local_804._0_1_ = 'e';
            local_804._1_1_ = 'r';
            local_804._2_1_ = 's';
            local_804._3_1_ = 'i';
            builtin_strncpy(local_800, "on error", 8);
            local_7f8 = 10;
            FUN_00047ab4(3, local_810, 0);
        }
    }
    FUN_00031794(0xc, 0);
    FUN_000226c0(8, "get power type version failed!");
    return 0xffffffff;
}

void FUN_0001a0f0(undefined4 param_1)

{
    char acStack_808[2052];

    DAT_000a0620 = param_1;
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(acStack_808, 0x800, "working_voltage_raw = %d\n", param_1);
    FUN_00047ab4(3, acStack_808, 0);
    return;
}

void FUN_0001a150(undefined4 param_1)

{
    char acStack_808[2052];

    DAT_000a0624 = param_1;
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(acStack_808, 0x800, "higher_voltage_raw = %d\n", param_1);
    FUN_00047ab4(3, acStack_808, 0);
    return;
}

undefined4 FUN_0001a1b0(void)

{
    return DAT_000a0620;
}

undefined4 FUN_0001a1c0(void)

{
    return DAT_000a0618;
}

void FUN_0001a240(void)

{
    char acStack_808[2048];

    if (3 < DAT_0009e31c) {
        snprintf(acStack_808, 0x800, "Set to voltage raw %d, one step.\n",
                 DAT_000a061c);
        FUN_00047ab4(3, acStack_808, 0);
    }
    FUN_00019ca0(DAT_000a061c);
    return;
}

void FUN_0001a300(void)

{
    char acStack_808[2048];

    if (3 < DAT_0009e31c) {
        snprintf(acStack_808, 0x800, "Set to voltage raw %d, one step.\n",
                 DAT_000a0628);
        FUN_00047ab4(3, acStack_808, 0);
    }
    FUN_00019ca0(DAT_000a0628);
    return;
}

void FUN_0001a3b8(void)

{
    char acStack_808[2048];

    if (3 < DAT_0009e31c) {
        snprintf(acStack_808, 0x800, "Set to voltage raw %d, step by step.\n",
                 DAT_000a0620);
        FUN_00047ab4(3, acStack_808, 0);
    }
    FUN_00019d18(DAT_000a0620, &DAT_000a0614);
    return;
}

void FUN_0001a420(void)

{
    char acStack_808[2048];

    if (3 < DAT_0009e31c) {
        snprintf(acStack_808, 0x800, "Set to voltage raw %d, step by step.\n",
                 DAT_000a061c);
        FUN_00047ab4(3, acStack_808, 0);
    }
    FUN_00019d18(DAT_000a061c, &DAT_000a0614);
    return;
}

void FUN_0001a488(void)

{
    char acStack_808[2048];

    if (3 < DAT_0009e31c) {
        snprintf(acStack_808, 0x800, "Set to voltage raw %d, step by step.\n",
                 DAT_000a0624);
        FUN_00047ab4(3, acStack_808, 0);
    }
    FUN_00019d18(DAT_000a0624, &DAT_000a0614);
    return;
}

undefined4 FUN_0001a550(undefined4 param_1, undefined4 param_2)

{
    bool bVar1;
    int iVar2;
    void *__ptr;
    int iVar3;
    undefined4 uVar4;
    int *piVar5;
    undefined1 auStack_9b4[32];
    char acStack_994[128];
    undefined4 local_914[23];
    undefined1 auStack_8b8[160];
    char local_818[16];
    uint local_808;
    uint local_804;
    char acStack_800[2028];

    memset(acStack_994, 0, 0x80);
    memset(auStack_9b4, 0, 0x20);
    iVar2 = FUN_000203c8(auStack_9b4);
    if (iVar2 == 0) {
        sprintf(acStack_994, "http://%s:%d/power/%s", param_1, param_2,
                auStack_9b4);
        __ptr = (void *)FUN_0001fea0(acStack_994);
        if (__ptr != (void *)0x0) {
            iVar2 = FUN_0006d110(__ptr, 0, local_914);
            if (iVar2 == 0) {
                if (DAT_0009e31c < 4) {
                    uVar4 = 0xffffffff;
                } else {
                    uVar4 = 0xffffffff;
                    snprintf(local_818, 0x800, "JSON decode failed(%d): %s",
                             local_914[0], auStack_8b8);
                    FUN_00047ab4(3, local_818, 0);
                }
            } else {
                iVar3 = FUN_0006dfcc(iVar2, "power");
                if (iVar3 == 0) {
                    if (DAT_0009e31c < 4) {
                        uVar4 = 0xffffffff;
                    } else {
                        uVar4 = 0xffffffff;
                        builtin_strncpy(local_818, "no json object[p", 0x10);
                        local_808._0_1_ = 'o';
                        local_808._1_1_ = 'w';
                        local_808._2_1_ = 'e';
                        local_808._3_1_ = 'r';
                        local_804._0_1_ = ']';
                        local_804._1_1_ = ' ';
                        local_804._2_1_ = 'f';
                        local_804._3_1_ = 'o';
                        builtin_strncpy(acStack_800, "und\n", 4);
                        acStack_800[4] = 0;
                        FUN_00047ab4(3, local_818, 0);
                    }
                } else {
                    uVar4 = FUN_0006e430();
                }
                if (*(int *)(iVar2 + 4) != -1) {
                    piVar5 = (int *)(iVar2 + 4);
                    DataMemoryBarrier(0xb);
                    do {
                        iVar3 = *piVar5;
                        bVar1 = (bool)hasExclusiveAccess(piVar5);
                    } while (!bVar1);
                    *piVar5 = iVar3 + -1;
                    if (iVar3 + -1 == 0) {
                        FUN_0006e5dc(iVar2);
                    }
                }
            }
            free(__ptr);
            return uVar4;
        }
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_818, "http get failed\n", 0x10);
            local_808 = local_808 & 0xffffff00;
            FUN_00047ab4(3, local_818, 0);
        }
    } else if (3 < DAT_0009e31c) {
        builtin_strncpy(local_818, "get local ip fai", 0x10);
        local_808._0_1_ = 'l';
        local_808._1_1_ = 'e';
        local_808._2_1_ = 'd';
        local_808._3_1_ = '\n';
        local_804 = local_804 & 0xffffff00;
        FUN_00047ab4(3, local_818, 0);
        return 0xffffffff;
    }
    return 0xffffffff;
}

void FUN_0001a79c(undefined4 param_1)

{
    DAT_000a062c = param_1;
    return;
}

undefined4 FUN_0001a7ac(void)

{
    return *DAT_000a062c;
}

undefined4 FUN_0001a7c0(uint param_1)

{
    uint uVar1;
    int iVar2;
    char acStack_810[2048];

    iVar2 = 3000;
    do {
        uVar1 = FUN_0006ff04();
        if ((uVar1 & 1 << (param_1 & 0xff)) != 0) {
            return 1;
        }
        FUN_0004a830(1000, 0);
        iVar2 = iVar2 + -1;
    } while (iVar2 != 0);
    if (3 < DAT_0009e31c) {
        snprintf(acStack_810, 0x800,
                 "Error: send open core work Failed on Chain[%d]!\n", param_1);
        FUN_00047ab4(3, acStack_810, 0);
    }
    return 0;
}

void FUN_0001a850(void)

{
    uint uVar1;

    uVar1 = 0;
    do {
        if (*(int *)(DAT_000a0d68 + uVar1 * 4 + 4) == 1) {
            FUN_000754bc(uVar1 & 0xff, 0);
        }
        uVar1 = uVar1 + 1;
    } while (uVar1 != 0x10);
    return;
}

void FUN_0001a894(undefined4 param_1, undefined4 param_2)

{
    uint local_14;

    FUN_00075d9c(0, param_1, param_2, 0x18, &local_14);
    local_14 = local_14 & 0xfffffff7 | 8;
    FUN_000748c4(param_1, 0, param_2, 0x18, local_14);
    return;
}

void FUN_0001a8ac(undefined4 param_1, undefined4 param_2)

{
    uint uVar1;
    uint uVar2;
    char acStack_818[2052];

    uVar2 = 0;
    do {
        while (*(int *)(DAT_000a0d68 + uVar2 * 4 + 4) == 1) {
            uVar1 = uVar2 & 0xff;
            uVar2 = uVar2 + 1;
            FUN_00074b18(uVar1, param_1);
            if (uVar2 == 0x10)
                goto LAB_0001a908;
        }
        uVar2 = uVar2 + 1;
    } while (uVar2 != 0x10);
LAB_0001a908:
    if (4 < DAT_0009e31c) {
        snprintf(acStack_818, 0x800, "set chip baud = %d, chip_divider = %d\n",
                 param_1, param_2);
        FUN_00047ab4(4, acStack_818, 0);
    }
    return;
}

void FUN_0001a958(uint param_1, undefined4 param_2, int param_3,
                  undefined1 param_4)

{
    uint uVar1;
    uint uVar2;

    uVar2 = 0;
    do {
        uVar1 = uVar2 & 0xff;
        if ((*(int *)(DAT_000a0d68 + uVar2 * 4 + 4) == 1) &&
            (param_1 == 0xff || param_1 == uVar1)) {
            if (param_3 == 0) {
                FUN_00075294(uVar1, param_2, param_4);
            } else {
                FUN_000752c0(uVar1, param_4);
            }
        }
        uVar2 = uVar2 + 1;
    } while (uVar2 != 0x10);
    return;
}

void FUN_0001a9d4(uint param_1)

{
    int iVar1;
    uint uVar2;
    uint uVar3;

    uVar3 = 0;
    do {
        while (true) {
            uVar2 = uVar3 & 0xff;
            iVar1 = uVar3 * 4;
            uVar3 = uVar3 + 1;
            if ((*(int *)(DAT_000a0d68 + iVar1 + 4) != 1) ||
                (param_1 != 0xff && param_1 != uVar2))
                break;
            FUN_00075b10();
            if (uVar3 == 0x10) {
                return;
            }
        }
    } while (uVar3 != 0x10);
    return;
}

void FUN_0001aa30(undefined4 param_1, float *param_2, float *param_3)

{
    byte bVar1;
    uint uVar2;
    uint uVar3;
    uint uVar4;
    int iVar5;
    float *pfVar6;
    int iVar7;
    int iVar8;
    float *pfVar9;
    bool bVar10;
    float fVar11;
    float fVar12;
    float fVar13;
    float fVar14;
    char acStack_848[2052];

    iVar8 = 0;
    iVar7 = 0;
    pfVar6 = param_2;
    pfVar9 = param_3;
    do {
        bVar1 = *(byte *)(DAT_000a0d68 + 0x329a);
        pthread_mutex_lock((pthread_mutex_t *)&DAT_000a0db0);
        iVar5 = iVar8 * (uint)bVar1;
        iVar8 = iVar8 + 6;
        uVar2 = FUN_0002ec38(0xb4, iVar5, param_1);
        uVar3 = FUN_0002ec38(0xb8, iVar5, param_1);
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_000a0db0);
        uVar4 = (uVar2 << 4) >> 0x14;
        fVar12 = (float)((double)(longlong)(int)((uVar3 & 0xfff) - uVar4) *
                         1.5 * 0.000244140625);
        fVar13 = (float)((double)(longlong)(int)(uVar4 - (uVar2 & 0xfff)) *
                         1.5 * 0.000244140625);
        fVar11 = (float)((double)(longlong)(int)(((uVar3 << 4) >> 0x14) -
                                                 (uVar3 & 0xfff)) *
                         1.5 * 0.000244140625);
        fVar14 = (float)((double)(longlong)(int)(uVar2 & 0xfff) * 1.5 *
                         0.000244140625);
        if (3 < DAT_0009e31c) {
            snprintf(acStack_848, 0x800,
                     "chain %d domain %2d: d0 %.3f, d1 %.3f, d2 %.3f, d3 %.3f, "
                     "sum = %f\n",
                     param_1, iVar7);
            FUN_00047ec8(3, acStack_848, 0);
        }
        iVar7 = iVar7 + 1;
        bVar10 = param_2 != (float *)0x0;
        if (bVar10) {
            pfVar6[1] = fVar13;
        }
        if (bVar10) {
            pfVar6[2] = fVar12;
        }
        if (bVar10) {
            pfVar6[3] = fVar11;
            *pfVar6 = fVar14;
        }
        if (param_3 != (float *)0x0) {
            *pfVar9 = fVar14 + fVar13 + fVar12 + fVar11;
        }
        pfVar6 = pfVar6 + 4;
        pfVar9 = pfVar9 + 1;
    } while (iVar7 != 0xd);
    return;
}

void FUN_0001ac10(undefined4 param_1)

{
    int iVar1;
    uint uVar2;
    uint uVar3;

    uVar3 = 0;
    do {
        while (true) {
            uVar2 = uVar3 & 0xff;
            iVar1 = uVar3 * 4;
            uVar3 = uVar3 + 1;
            if (*(int *)(DAT_000a0d68 + iVar1 + 4) == 1)
                break;
            if (uVar3 == 0x10) {
                return;
            }
        }
        FUN_00074d64(uVar2, param_1);
    } while (uVar3 != 0x10);
    return;
}

void FUN_0001ace4(void)

{
    int iVar1;
    byte bVar2;
    uint uVar3;
    uint uVar4;
    int iVar5;

    iVar5 = 6;
    do {
        uVar4 = 0;
        bVar2 = *(byte *)(DAT_000a0d68 + 0x329a);
        do {
            iVar1 = uVar4 * 4;
            uVar3 = uVar4 & 0xff;
            uVar4 = uVar4 + 1;
            if (*(int *)(DAT_000a0d68 + iVar1 + 4) == 1) {
                FUN_000759f4(uVar3, iVar5 * (uint)bVar2 & 0xff, 0xd, 1, 1);
            }
        } while (uVar4 != 0x10);
        iVar5 = iVar5 + 6;
    } while (iVar5 != 0x4e);
    return;
}

void FUN_0001ad6c(uint param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    uint uVar1;

    uVar1 = 0;
    do {
        if ((*(int *)(DAT_000a0d68 + uVar1 * 4 + 4) == 1) &&
            (param_1 == uVar1 || param_1 == 0xff)) {
            FUN_00074a6c(uVar1 & 0xff, param_2, param_3, param_4);
        }
        uVar1 = uVar1 + 1;
    } while (uVar1 != 0x10);
    return;
}

void FUN_0001add4(uint param_1, uint param_2, undefined4 param_3, int param_4,
                  undefined1 param_5, undefined1 param_6)

{
    if (param_4 != 0) {
        FUN_000748c4(param_6, 0, param_5, 0x1c);
        return;
    }
    FUN_000748c4(param_6, 0, param_5, 0x1c,
                 (param_2 & 0xff) << 8 | (param_1 >> 1 & 0x7f) << 0x11 |
                     0x1000000);
    return;
}

void FUN_0001ae00(void)

{
    int iVar1;
    uint uVar2;
    uint uVar3;
    char acStack_818[2052];

    if ((DAT_001aecc5 != '\0') &&
        (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
          (6 < DAT_0009e320)))) {
        snprintf(acStack_818, 0x800, "--- %s\n", "dhash_chip_set_addr_all");
        FUN_00047ab4(7, acStack_818, 0);
    }
    iVar1 = DAT_000a0d68;
    uVar2 = 0;
    *(undefined1 *)(DAT_000a0d68 + 0x329a) = 3;
    while (true) {
        if ((*(int *)(iVar1 + uVar2 * 4 + 4) == 1) &&
            (*(char *)(iVar1 + uVar2 + 0x3276) != '\0')) {
            uVar3 = uVar2 & 0xff;
            thunk_FUN_000749ec(uVar3);
            FUN_0004a804(0x1e);
            thunk_FUN_000749ec(uVar3);
            FUN_0004a804(0x1e);
            thunk_FUN_000749ec(uVar3);
            FUN_0004a804(0x1e);
            FUN_00074acc(uVar3, *(undefined1 *)(DAT_000a0d68 + 0x329a));
        }
        iVar1 = DAT_000a0d68;
        DAT_000a0d68 = iVar1;
        if (uVar2 == 0xf)
            break;
        uVar2 = uVar2 + 1;
    }
    FUN_0004a804(10);
    return;
}

void FUN_0001af48(uint param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    uint *puVar1;
    uint *puVar2;
    uint *puVar3;
    int iVar4;
    uint auStack_54[5];
    uint auStack_40[8];
    uint local_10;
    undefined4 local_c;
    undefined4 local_8;
    undefined4 uStack_4;

    local_10 = param_1;
    local_c = param_2;
    local_8 = param_3;
    uStack_4 = param_4;
    memset(auStack_54 + 2, 0, 0x2c);
    iVar4 = 2;
    auStack_54[0] = local_10 << 0x18 | (local_10 >> 8 & 0xff) << 0x10 |
                    (local_10 >> 0x10 & 0xff) << 8 | local_10 >> 0x18;
    auStack_54[1] = local_c;
    puVar1 = &local_10;
    do {
        auStack_54[iVar4] = (uint) * (byte *)((int)puVar1 + 9) << 0x10 |
                            (uint)(byte)puVar1[2] << 0x18 |
                            (uint) * (byte *)((int)puVar1 + 0xb) |
                            (uint) * (byte *)((int)puVar1 + 10) << 8;
        iVar4 = iVar4 + 1;
        puVar1 = puVar1 + 1;
    } while (iVar4 != 5);
    puVar1 = auStack_40;
    puVar2 = &local_10;
    do {
        puVar3 = puVar2 + 1;
        *puVar1 = (uint) * (byte *)((int)puVar2 + 0x15) << 0x10 |
                  (uint)(byte)puVar2[5] << 0x18 |
                  (uint) * (byte *)((int)puVar2 + 0x17) |
                  (uint) * (byte *)((int)puVar2 + 0x16) << 8;
        puVar1 = puVar1 + 1;
        puVar2 = puVar3;
    } while (puVar3 != (uint *)&stack0x00000010);
    FUN_000708a4(auStack_54, 0x34);
    return;
}

void FUN_0001b010(uint param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    uint *puVar1;
    uint *puVar2;
    uint *puVar3;
    uint *puVar4;
    uint *puVar5;
    int iVar6;
    uint auStack_bc[5];
    uint auStack_a8[33];
    uint local_10;
    undefined4 local_c;
    undefined4 local_8;
    undefined4 uStack_4;

    puVar3 = &local_10;
    local_10 = param_1;
    local_c = param_2;
    local_8 = param_3;
    uStack_4 = param_4;
    memset(auStack_bc + 2, 0, 0x8c);
    iVar6 = 2;
    auStack_bc[0] = local_10 << 0x18 | (local_10 >> 8 & 0xff) << 0x10 |
                    (local_10 >> 0x10 & 0xff) << 8 | local_10 >> 0x18;
    auStack_bc[1] = local_c;
    puVar1 = puVar3;
    do {
        auStack_bc[iVar6] = (uint) * (byte *)((int)puVar1 + 9) << 0x10 |
                            (uint)(byte)puVar1[2] << 0x18 |
                            (uint) * (byte *)((int)puVar1 + 0xb) |
                            (uint) * (byte *)((int)puVar1 + 10) << 8;
        iVar6 = iVar6 + 1;
        puVar1 = puVar1 + 1;
    } while (iVar6 != 5);
    puVar1 = auStack_a8;
    do {
        puVar5 = puVar3 + 8;
        puVar2 = puVar1;
        puVar4 = puVar3;
        do {
            puVar3 = puVar4 + 1;
            *puVar2 = (uint) * (byte *)((int)puVar4 + 0x15) << 0x10 |
                      (uint)(byte)puVar4[5] << 0x18 |
                      (uint) * (byte *)((int)puVar4 + 0x17) |
                      (uint) * (byte *)((int)puVar4 + 0x16) << 8;
            puVar2 = puVar2 + 1;
            puVar4 = puVar3;
        } while (puVar3 != puVar5);
        puVar1 = puVar1 + 8;
    } while (puVar3 != (uint *)&stack0x00000070);
    FUN_000708a4(auStack_bc, 0x94);
    return;
}

void FUN_0001b0ec(undefined4 param_1, undefined4 param_2)

{
    uint uVar1;

    uVar1 = 0;
    do {
        if (*(int *)(DAT_000a0d68 + uVar1 * 4 + 4) == 1) {
            FUN_00075c4c(uVar1 & 0xff, param_2, 0);
        }
        uVar1 = uVar1 + 1;
    } while (uVar1 != 0x10);
    return;
}

void FUN_0001b138(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    uint uVar1;

    uVar1 = 0;
    do {
        if (*(int *)(DAT_000a0d68 + uVar1 * 4 + 4) == 1) {
            FUN_00075cc4(uVar1 & 0xff, param_2, param_3, param_4);
        }
        uVar1 = uVar1 + 1;
    } while (uVar1 != 0x10);
    return;
}

int FUN_0001b194(uint param_1, uint param_2)

{
    undefined1 local_8;
    undefined1 local_7;

    local_8 = (byte)param_1;
    local_7 = (byte)(param_1 >> 8);
    return (int)(((25.0 / (float)(param_1 >> 0x10 & 0xff)) *
                  (float)(longlong)(int)(param_2 & 0xffff)) /
                 (float)(longlong)(int)((param_2 >> 0x10 & 0xff) *
                                        (int)(short)(ushort)local_8 *
                                        (int)(short)(ushort)local_7));
}

void FUN_0001b1f4(uint param_1, int param_2, undefined4 param_3,
                  undefined4 param_4, undefined4 param_5, undefined4 param_6)

{
    uint uVar1;

    uVar1 = 0;
    do {
        if ((*(int *)(DAT_000a0d68 + uVar1 * 4 + 4) == 1) &&
            (param_1 == 0xff || uVar1 == param_1)) {
            if (param_2 == 0) {
                FUN_000750d8(uVar1 & 0xff, param_3, param_4, param_5,
                             (undefined2)param_6);
            } else {
                FUN_00075094(uVar1 & 0xff, param_4, param_5, param_6);
            }
        }
        uVar1 = uVar1 + 1;
    } while (uVar1 != 0x10);
    return;
}

void FUN_0001b298(undefined4 param_1, int param_2)

{
    uint uVar1;

    uVar1 = 0;
    do {
        if (*(int *)(DAT_000a0d68 + uVar1 * 4 + 4) == 1) {
            FUN_000752fc(uVar1 & 0xff);
            if (param_2 == 0) {
                FUN_0007569c(uVar1 & 0xff);
            } else {
                FUN_00075644();
            }
        }
        uVar1 = uVar1 + 1;
    } while (uVar1 != 0x10);
    return;
}

void FUN_0001b340(undefined4 param_1, undefined4 param_2)

{
    FUN_00043d2c(param_1, "miner_version", &DAT_001b0a18, param_2);
    return;
}

void FUN_0001b358(undefined4 param_1, undefined4 param_2)

{
    FUN_00043d2c(param_1, "miner_id", &DAT_00241d24, param_2);
    return;
}

void FUN_0001b370(undefined4 param_1, undefined4 param_2)

{
    FUN_00043d6c(param_1, "miner_count", DAT_000a0d68 + 0x3287, param_2);
    return;
}

void FUN_0001b394(undefined4 param_1, undefined4 param_2)

{
    FUN_00043d2c(param_1, "frequency", DAT_000a0d68 + 0x32b5, param_2);
    return;
}

void FUN_0001b3b8(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;
    int iVar2;
    int iVar3;
    int iVar4;
    char acStack_2c[16];

    iVar4 = 0x3216;
    iVar3 = 0;
    uVar1 = FUN_00043d6c(param_1, "fan_num", DAT_000a0d68 + 0x3288, param_2);
    do {
        iVar3 = iVar3 + 1;
        sprintf(acStack_2c, "fan%d", iVar3);
        iVar2 = DAT_000a0d68 + iVar4;
        iVar4 = iVar4 + 4;
        uVar1 = FUN_00043dec(uVar1, acStack_2c, iVar2, param_2);
    } while (iVar3 != 0x10);
    return;
}

void FUN_0001b440(undefined4 param_1, undefined4 param_2)

{
    char *pcVar1;
    undefined4 uVar2;
    undefined4 uVar3;
    int iVar4;
    int iVar5;
    int iVar6;
    uint uVar7;
    undefined2 local_74[6];
    char acStack_68[68];

    uVar2 = FUN_00043d6c(param_1, "temp_num", DAT_000a0d68 + 0x3287, param_2);
    iVar6 = 0;
    do {
        iVar5 = iVar6 + 1;
        local_74[0] = FUN_00016c84(iVar6);
        sprintf(acStack_68, "temp%d", iVar5);
        uVar2 = FUN_00043d8c(uVar2, acStack_68, local_74, param_2);
        iVar6 = iVar5;
    } while (iVar5 != 0x10);
    iVar6 = 0;
    do {
        iVar5 = iVar6 + 1;
        local_74[0] = FUN_00016de4(iVar6);
        sprintf(acStack_68, "temp2_%d", iVar5);
        uVar2 = FUN_00043d8c(uVar2, acStack_68, local_74, param_2);
        iVar6 = iVar5;
    } while (iVar5 != 0x10);
    iVar6 = 0;
    do {
        iVar5 = iVar6 + 1;
        local_74[0] = FUN_00017028(iVar6);
        sprintf(acStack_68, "temp3_%d", iVar5);
        uVar2 = FUN_00043d8c(uVar2, acStack_68, local_74, param_2);
        iVar6 = iVar5;
    } while (iVar5 != 0x10);
    iVar6 = 0;
    do {
        uVar7 = 0;
        uVar3 = FUN_00016e94(iVar6);
        iVar5 = sprintf(acStack_68, "%d", uVar3);
        do {
            uVar7 = uVar7 + 1;
            pcVar1 = acStack_68 + iVar5;
            pcVar1[0] = '-';
            pcVar1[1] = '\0';
            uVar3 = FUN_00016e94(iVar6, uVar7 & 0xff);
            iVar4 = sprintf(acStack_68 + iVar5 + 1, "%d", uVar3);
            iVar5 = iVar4 + iVar5 + 1;
        } while (uVar7 != 3);
        iVar6 = iVar6 + 1;
        sprintf((char *)local_74, "temp_pcb%d", iVar6);
        uVar2 = FUN_00043d2c(uVar2, local_74, acStack_68, param_2);
    } while (iVar6 != 0x10);
    iVar6 = 0;
    do {
        uVar7 = 0;
        uVar3 = FUN_00017028(iVar6);
        iVar5 = sprintf(acStack_68, "%d", uVar3);
        do {
            uVar7 = uVar7 + 1;
            pcVar1 = acStack_68 + iVar5;
            pcVar1[0] = '-';
            pcVar1[1] = '\0';
            uVar3 = FUN_00017028(iVar6, uVar7 & 0xff);
            iVar4 = sprintf(acStack_68 + iVar5 + 1, "%d", uVar3);
            iVar5 = iVar4 + iVar5 + 1;
        } while (uVar7 != 3);
        iVar6 = iVar6 + 1;
        sprintf((char *)local_74, "temp_chip%d", iVar6);
        uVar2 = FUN_00043d2c(uVar2, local_74, acStack_68, param_2);
    } while (iVar6 != 0x10);
    return;
}

void FUN_0001b6dc(void)

{
    return;
}

void FUN_0001b6e0(undefined4 param_1)

{
    int iVar1;
    int iVar2;
    double local_30;
    char acStack_24[12];

    local_30 = 0.0;
    iVar1 = FUN_00030578();
    iVar2 = 0;
    local_30 = (double)(longlong)iVar1;
    do {
        iVar2 = iVar2 + 1;
        sprintf(acStack_24, "freq_avg%d", iVar2);
        local_30 = (double)(longlong)(int)(longlong)(local_30 * 100.0) / 100.0;
        param_1 = FUN_00043f2c(param_1, acStack_24, &local_30, 1);
    } while (iVar2 != 0x10);
    return;
}

void FUN_0001b780(undefined4 param_1)

{
    int iVar1;
    double local_40;
    char local_38[36];

    local_40 = 0.0;
    builtin_strncpy(local_38, "total_rateideal", 0x10);
    iVar1 = FUN_0003047c();
    local_40 = (double)(longlong)iVar1;
    FUN_00043f2c(param_1, local_38, &local_40, 1);
    return;
}

void FUN_0001b7dc(undefined4 param_1, undefined4 param_2)

{
    FUN_00043d2c(param_1, "rate_unit", &DAT_00078f30, param_2);
    return;
}

void FUN_0001b7f4(undefined4 param_1)

{
    byte bVar1;
    int iVar2;
    int iVar3;
    int *piVar4;
    byte *pbVar5;
    double local_40;
    char local_38[12];
    undefined2 local_2c;

    local_40 = 0.0;
    iVar3 = 0;
    iVar2 = FUN_00030578();
    pbVar5 = (byte *)((int)DAT_000a0d68 + 0x3276);
    builtin_strncpy(local_38, "total_freqav", 0xc);
    local_2c = 0x67;
    piVar4 = DAT_000a0d68;
    do {
        while (piVar4 = piVar4 + 1, *piVar4 == 1) {
            bVar1 = *pbVar5;
            pbVar5 = pbVar5 + 1;
            if (bVar1 != 0) {
                iVar3 = iVar3 + (uint)bVar1;
            }
            if (piVar4 == DAT_000a0d68 + 0x10)
                goto LAB_0001b884;
        }
        pbVar5 = pbVar5 + 1;
    } while (piVar4 != DAT_000a0d68 + 0x10);
LAB_0001b884:
    local_40 = (double)(longlong)(int)(longlong)(((double)(longlong)iVar2 /
                                                  (double)(longlong)iVar3) *
                                                 100.0) /
               100.0;
    FUN_00043f2c(param_1, local_38, &local_40, 1);
    return;
}

void FUN_0001b8d0(undefined4 param_1)

{
    bool bVar1;
    short sVar2;
    int *piVar3;
    byte *pbVar4;
    short local_32;
    char local_30[8];
    undefined2 local_28;

    bVar1 = false;
    local_32 = 0;
    builtin_strncpy(local_30, "total_ac", 8);
    sVar2 = 0;
    local_28 = 0x6e;
    piVar3 = DAT_000a0d68;
    pbVar4 = (byte *)((int)DAT_000a0d68 + 0x3276);
    do {
        piVar3 = piVar3 + 1;
        if (*piVar3 == 1) {
            sVar2 = (ushort)*pbVar4 + sVar2;
            bVar1 = true;
        }
        pbVar4 = pbVar4 + 1;
    } while (piVar3 != DAT_000a0d68 + 0x10);
    if (bVar1) {
        local_32 = sVar2;
    }
    FUN_00043d8c(param_1, local_30, &local_32, 1);
    return;
}

void FUN_0001b964(undefined4 param_1)

{
    int iVar1;
    int iVar2;
    double dVar3;
    double local_40;
    char local_38[8];
    undefined2 uStack_30;
    undefined1 local_2e;

    iVar2 = 0;
    builtin_strncpy(local_38, "total_ra", 8);
    uStack_30 = 0x6574;
    local_40 = 0.0;
    local_2e = 0;
    do {
        while (
            (*(int *)(DAT_000a0d68 + iVar2 * 4 + 4) == 1 &&
             (iVar1 = iVar2 * 0x20, (&DAT_00241b00)[iVar2 * 0x20] != '\0'))) {
            iVar2 = iVar2 + 1;
            dVar3 = strtod(&DAT_00241b00 + iVar1, (char **)0x0);
            local_40 = local_40 + dVar3;
            if (iVar2 == 0x10)
                goto LAB_0001ba04;
        }
        iVar2 = iVar2 + 1;
    } while (iVar2 != 0x10);
LAB_0001ba04:
    local_40 = (double)(longlong)(int)(longlong)(local_40 * 100.0) / 100.0;
    FUN_00043f2c(param_1, local_38, &local_40, 1);
    return;
}

void FUN_0001ba48(undefined4 param_1)

{
    int iVar1;
    int iVar2;
    double local_50;
    char acStack_48[36];

    iVar2 = 0;
    do {
        iVar2 = iVar2 + 1;
        local_50 = 0.0;
        sprintf(acStack_48, "chain_rateideal%d", iVar2);
        iVar1 = FUN_00030578();
        local_50 = (double)(longlong)(int)(longlong)(((double)(longlong)iVar1 /
                                                      1000.0) *
                                                     100.0) /
                   100.0;
        param_1 = FUN_00043f2c(param_1, acStack_48, &local_50, 1);
    } while (iVar2 != 0x10);
    return;
}

void FUN_0001bae8(undefined4 param_1, undefined4 param_2)

{
    undefined1 local_11[5];

    local_11[0] = FUN_000169e4();
    FUN_00043d6c(param_1, "temp_max", local_11, param_2);
    return;
}

void FUN_0001bbe0(undefined4 param_1, undefined4 param_2)

{
    FUN_00043dcc(param_1, "no_matching_work", &DAT_00242ee8, param_2);
    return;
}

void FUN_0001bbf8(undefined4 param_1, undefined4 param_2)

{
    int iVar1;
    int iVar2;
    char acStack_2c[12];

    iVar1 = 0;
    do {
        iVar2 = iVar1 + 1;
        sprintf(acStack_2c, "chain_acn%d", iVar2);
        param_1 = FUN_00043d6c(param_1, acStack_2c,
                               DAT_000a0d68 + iVar1 + 0x3276, param_2);
        iVar1 = iVar2;
    } while (iVar2 != 0x10);
    return;
}

void FUN_0001bc68(undefined4 param_1, undefined4 param_2)

{
    int iVar1;
    int iVar2;
    int iVar3;
    char acStack_2c[16];

    iVar3 = 0x2bf6;
    iVar2 = 0;
    do {
        iVar2 = iVar2 + 1;
        sprintf(acStack_2c, "chain_acs%d", iVar2);
        iVar1 = DAT_000a0d68 + iVar3;
        iVar3 = iVar3 + 0x61;
        param_1 = FUN_00043d2c(param_1, acStack_2c, iVar1, param_2);
    } while (iVar2 != 0x10);
    return;
}

void FUN_0001bcd4(undefined4 param_1, undefined4 param_2)

{
    int iVar1;
    int iVar2;
    int iVar3;
    char acStack_30[20];

    iVar3 = 0x4b6;
    iVar2 = 0;
    do {
        iVar2 = iVar2 + 1;
        sprintf(acStack_30, "chain_hw%d", iVar2);
        iVar1 = DAT_000a0d68 + iVar3;
        iVar3 = iVar3 + 4;
        param_1 = FUN_00043e0c(param_1, acStack_30, iVar1, param_2);
    } while (iVar2 != 0x10);
    return;
}

void FUN_0001bd40(undefined4 param_1, undefined4 param_2)

{
    int iVar1;
    undefined1 *puVar2;
    char acStack_28[16];

    puVar2 = &DAT_00241b00;
    iVar1 = 0;
    do {
        iVar1 = iVar1 + 1;
        sprintf(acStack_28, "chain_rate%d", iVar1);
        param_1 = FUN_00043d2c(param_1, acStack_28, puVar2, param_2);
        puVar2 = puVar2 + 0x20;
    } while (iVar1 != 0x10);
    return;
}

undefined4 FUN_0001bda4(undefined4 param_1, undefined4 param_2)

{
    size_t sVar1;
    undefined4 *puVar2;
    int iVar3;
    int iVar4;
    int iVar5;
    char *__s;
    char local_838[2068];

    iVar5 = 0;
    do {
        while (iVar4 = iVar5 + 1, *(int *)(DAT_000a0d68 + iVar5 * 4 + 4) != 1) {
            iVar5 = iVar4;
            if (iVar4 == 0x10) {
                return param_1;
            }
        }
        local_838[0x10] = '{';
        local_838[0x11] = '\0';
        local_838[0x12] = '\0';
        local_838[0x13] = '\0';
        memset(local_838 + 0x14, 0, 0x7fc);
        local_838[8] = '\0';
        local_838[9] = '\0';
        local_838[10] = '\0';
        local_838[0xb] = '\0';
        local_838[0xc] = '\0';
        local_838[0xd] = '\0';
        local_838[0xe] = '\0';
        local_838[0xf] = '\0';
        __s = local_838 + 0x10;
        local_838[0] = '\0';
        local_838[1] = '\0';
        local_838[2] = '\0';
        local_838[3] = '\0';
        local_838[4] = '\0';
        local_838[5] = '\0';
        local_838[6] = '\0';
        local_838[7] = '\0';
        sprintf(local_838, "chain_xtime%d", iVar4);
        iVar5 = DAT_000a0d68 + iVar5;
        *(undefined4 *)(iVar4 * 0x400 + 0xa09c8) = 0;
        if (1 < *(byte *)(iVar5 + 0x3276)) {
            puVar2 = (undefined4 *)(iVar4 * 0x400 + 0xa09c8);
            iVar3 = 1;
            do {
                puVar2 = puVar2 + 1;
                *puVar2 = 0;
                iVar3 = iVar3 + 1;
            } while (iVar3 < (int)(uint) * (byte *)(iVar5 + 0x3276));
        }
        sVar1 = strlen(__s);
        (__s + sVar1)[0] = '}';
        (__s + sVar1)[1] = '\0';
        param_1 = FUN_00043d2c(param_1, local_838, __s, param_2);
        iVar5 = iVar4;
    } while (iVar4 != 0x10);
    return param_1;
}

undefined4 FUN_0001bed0(undefined4 param_1, undefined4 param_2)

{
    int iVar1;
    int iVar2;
    char acStack_40[20];
    undefined1 auStack_2c[20];

    iVar2 = 0;
    do {
        while (iVar1 = iVar2 * 4, iVar2 = iVar2 + 1,
               *(int *)(DAT_000a0d68 + iVar1 + 4) != 1) {
            if (iVar2 == 0x10) {
                return param_1;
            }
        }
        sprintf(acStack_40, "chain_offside_%d", iVar2);
        param_1 = FUN_00043d2c(param_1, acStack_40, auStack_2c, param_2);
    } while (iVar2 != 0x10);
    return param_1;
}

undefined4 FUN_0001bf54(undefined4 param_1, undefined4 param_2)

{
    int iVar1;
    int iVar2;
    char acStack_40[20];
    undefined2 local_2c[10];

    iVar2 = 0;
    do {
        while (iVar1 = iVar2 * 4, iVar2 = iVar2 + 1,
               *(int *)(DAT_000a0d68 + iVar1 + 4) != 1) {
            if (iVar2 == 0x10) {
                return param_1;
            }
        }
        sprintf(acStack_40, "chain_opencore_%d", iVar2);
        local_2c[0] = 0x31;
        param_1 = FUN_00043d2c(param_1, acStack_40, local_2c, param_2);
    } while (iVar2 != 0x10);
    return param_1;
}

void FUN_0001c054(int param_1, uint *param_2)

{
    uint uVar1;
    uint uVar2;
    uint uVar3;
    uint uVar4;
    uint uVar5;
    uint uVar6;
    uint uVar7;
    uint uVar8;
    uint uVar9;
    uint uVar10;
    uint uVar11;
    uint uVar12;
    uint uVar13;
    uint uVar14;
    uint uVar15;
    int iVar16;
    uint uVar17;
    uint uVar18;
    uint uVar19;
    uint uVar20;
    uint uVar21;
    uint uVar22;
    uint uVar23;
    uint uVar24;
    uint uVar25;
    uint uVar26;
    uint uVar27;
    uint uVar28;
    uint uVar29;
    uint uVar30;
    uint uVar31;
    uint uVar32;
    uint uVar33;
    uint uVar34;
    uint uVar35;
    uint uVar36;
    uint uVar37;
    uint uVar38;
    uint uVar39;
    uint uVar40;
    uint uVar41;
    uint uVar42;
    uint uVar43;
    uint uVar44;
    uint uVar45;
    uint uVar46;
    uint uVar47;
    uint uVar48;
    uint uVar49;
    uint uVar50;
    uint uVar51;
    uint uVar52;
    uint uVar53;
    uint uVar54;
    uint uVar55;
    uint uVar56;
    uint uVar57;
    uint uVar58;
    uint uVar59;
    uint uVar60;
    uint uVar61;
    uint uVar62;
    uint uVar63;
    uint uVar64;

    uVar35 = *(uint *)(param_1 + 8);
    uVar39 = *(uint *)(param_1 + 0x18);
    uVar2 = *(uint *)(param_1 + 0x20);
    uVar44 = *(uint *)(param_1 + 0x1c);
    uVar57 = *(uint *)(param_1 + 0xc);
    uVar30 = *(uint *)(param_1 + 0x10);
    uVar48 = *param_2;
    uVar19 = param_2[1];
    uVar24 = uVar48 << 0x18 | (uVar48 >> 8 & 0xff) << 0x10 |
             (uVar48 >> 0x10 & 0xff) << 8 | uVar48 >> 0x18;
    iVar16 = ((uVar39 >> 0xb | uVar39 << 0x15) ^
              (uVar39 >> 6 | uVar39 << 0x1a) ^ (uVar39 >> 0x19 | uVar39 << 7)) +
             *(int *)(param_1 + 0x24) + 0x428a2f98 +
             ((uVar44 ^ uVar2) & uVar39 ^ uVar2) + uVar24;
    uVar31 = *(int *)(param_1 + 0x14) + iVar16;
    uVar58 =
        ((uVar35 >> 0xd | uVar35 << 0x13) ^ (uVar35 >> 2 | uVar35 << 0x1e) ^
         (uVar35 >> 0x16 | uVar35 << 10)) +
        ((uVar35 | uVar57) & uVar30 | uVar35 & uVar57) + iVar16;
    uVar48 = uVar19 << 0x18 | (uVar19 >> 8 & 0xff) << 0x10;
    uVar49 = uVar48 | (uVar19 >> 0x10 & 0xff) << 8 | uVar19 >> 0x18;
    iVar16 =
        ((uVar39 ^ uVar44) & uVar31 ^ uVar44) + uVar2 + 0x71374491 + uVar49 +
        ((uVar31 >> 0xb | uVar31 * 0x200000) ^
         (uVar31 >> 6 | uVar31 * 0x4000000) ^ (uVar31 >> 0x19 | uVar31 * 0x80));
    uVar40 = param_2[3];
    uVar1 = ((uVar58 >> 0xd | uVar58 * 0x80000) ^
             (uVar58 >> 2 | uVar58 * 0x40000000) ^
             (uVar58 >> 0x16 | uVar58 * 0x400)) +
            ((uVar35 | uVar58) & uVar57 | uVar35 & uVar58) + iVar16;
    uVar20 = param_2[4];
    uVar25 = uVar30 + iVar16;
    uVar52 = param_2[2];
    uVar13 = uVar52 << 0x18 | (uVar52 >> 8 & 0xff) << 0x10;
    uVar53 = uVar13 | (uVar52 >> 0x10 & 0xff) << 8 | uVar52 >> 0x18;
    uVar36 = param_2[5];
    iVar16 =
        ((uVar39 ^ uVar31) & uVar25 ^ uVar39) + uVar44 + 0xb5c0fbcf + uVar53 +
        ((uVar25 >> 0xb | uVar25 * 0x200000) ^
         (uVar25 >> 6 | uVar25 * 0x4000000) ^ (uVar25 >> 0x19 | uVar25 * 0x80));
    uVar60 = param_2[6];
    uVar15 =
        ((uVar1 >> 0xd | uVar1 * 0x80000) ^ (uVar1 >> 2 | uVar1 * 0x40000000) ^
         (uVar1 >> 0x16 | uVar1 * 0x400)) +
        ((uVar58 | uVar1) & uVar35 | uVar58 & uVar1) + iVar16;
    uVar21 = uVar57 + iVar16;
    uVar12 = uVar40 << 0x18 | (uVar40 >> 8 & 0xff) << 0x10;
    uVar41 = uVar12 | (uVar40 >> 0x10 & 0xff) << 8 | uVar40 >> 0x18;
    uVar54 = param_2[7];
    iVar16 =
        ((uVar31 ^ uVar25) & uVar21 ^ uVar31) + uVar39 + 0xe9b5dba5 + uVar41 +
        ((uVar21 >> 0xb | uVar21 * 0x200000) ^
         (uVar21 >> 6 | uVar21 * 0x4000000) ^ (uVar21 >> 0x19 | uVar21 * 0x80));
    uVar17 = ((uVar15 >> 0xd | uVar15 * 0x80000) ^
              (uVar15 >> 2 | uVar15 * 0x40000000) ^
              (uVar15 >> 0x16 | uVar15 * 0x400)) +
             ((uVar1 | uVar15) & uVar58 | uVar1 & uVar15) + iVar16;
    uVar55 = uVar35 + iVar16;
    uVar61 = param_2[8];
    uVar14 = uVar20 << 0x18 | (uVar20 >> 8 & 0xff) << 0x10;
    uVar50 = uVar14 | (uVar20 >> 0x10 & 0xff) << 8 | uVar20 >> 0x18;
    uVar42 = param_2[9];
    iVar16 =
        ((uVar25 ^ uVar21) & uVar55 ^ uVar25) + uVar50 + 0x3956c25b + uVar31 +
        ((uVar55 >> 0xb | uVar55 * 0x200000) ^
         (uVar55 >> 6 | uVar55 * 0x4000000) ^ (uVar55 >> 0x19 | uVar55 * 0x80));
    uVar45 = param_2[10];
    uVar58 = uVar58 + iVar16;
    uVar3 = param_2[0xb];
    uVar51 = ((uVar17 >> 0xd | uVar17 * 0x80000) ^
              (uVar17 >> 2 | uVar17 * 0x40000000) ^
              (uVar17 >> 0x16 | uVar17 * 0x400)) +
             ((uVar15 | uVar17) & uVar1 | uVar15 & uVar17) + iVar16;
    uVar31 = uVar36 << 0x18 | (uVar36 >> 8 & 0xff) << 0x10;
    uVar46 = uVar31 | (uVar36 >> 0x10 & 0xff) << 8 | uVar36 >> 0x18;
    iVar16 =
        ((uVar21 ^ uVar55) & uVar58 ^ uVar21) + uVar46 + 0x59f111f1 + uVar25 +
        ((uVar58 >> 0xb | uVar58 * 0x200000) ^
         (uVar58 >> 6 | uVar58 * 0x4000000) ^ (uVar58 >> 0x19 | uVar58 * 0x80));
    uVar37 = param_2[0xc];
    uVar1 = uVar1 + iVar16;
    uVar32 = ((uVar51 >> 0xd | uVar51 * 0x80000) ^
              (uVar51 >> 2 | uVar51 * 0x40000000) ^
              (uVar51 >> 0x16 | uVar51 * 0x400)) +
             ((uVar17 | uVar51) & uVar15 | uVar17 & uVar51) + iVar16;
    uVar25 = uVar60 << 0x18 | (uVar60 >> 8 & 0xff) << 0x10;
    uVar62 = uVar25 | (uVar60 >> 0x10 & 0xff) << 8 | uVar60 >> 0x18;
    iVar16 =
        ((uVar55 ^ uVar58) & uVar1 ^ uVar55) + uVar62 + 0x923f82a4 + uVar21 +
        ((uVar1 >> 0xb | uVar1 * 0x200000) ^ (uVar1 >> 6 | uVar1 * 0x4000000) ^
         (uVar1 >> 0x19 | uVar1 * 0x80));
    uVar63 = param_2[0xd];
    uVar22 = param_2[0xe];
    uVar26 = ((uVar32 >> 0xd | uVar32 * 0x80000) ^
              (uVar32 >> 2 | uVar32 * 0x40000000) ^
              (uVar32 >> 0x16 | uVar32 * 0x400)) +
             ((uVar51 | uVar32) & uVar17 | uVar51 & uVar32) + iVar16;
    uVar15 = uVar15 + iVar16;
    uVar21 = uVar54 << 0x18 | (uVar54 >> 8 & 0xff) << 0x10;
    uVar4 = uVar21 | (uVar54 >> 0x10 & 0xff) << 8 | uVar54 >> 0x18;
    uVar5 = param_2[0xf];
    iVar16 =
        ((uVar58 ^ uVar1) & uVar15 ^ uVar58) + uVar4 + 0xab1c5ed5 + uVar55 +
        ((uVar15 >> 0xb | uVar15 * 0x200000) ^
         (uVar15 >> 6 | uVar15 * 0x4000000) ^ (uVar15 >> 0x19 | uVar15 * 0x80));
    uVar17 = uVar17 + iVar16;
    uVar55 = uVar61 << 0x18 | (uVar61 >> 8 & 0xff) << 0x10;
    uVar6 = uVar55 | (uVar61 >> 0x10 & 0xff) << 8 | uVar61 >> 0x18;
    uVar29 = uVar42 << 0x18 | (uVar42 >> 8 & 0xff) << 0x10;
    uVar7 = uVar29 | (uVar42 >> 0x10 & 0xff) << 8 | uVar42 >> 0x18;
    uVar47 = ((uVar26 >> 0xd | uVar26 * 0x80000) ^
              (uVar26 >> 2 | uVar26 * 0x40000000) ^
              (uVar26 >> 0x16 | uVar26 * 0x400)) +
             ((uVar32 | uVar26) & uVar51 | uVar32 & uVar26) + iVar16;
    uVar27 = uVar45 << 0x18 | (uVar45 >> 8 & 0xff) << 0x10;
    uVar43 = uVar27 | (uVar45 >> 0x10 & 0xff) << 8 | uVar45 >> 0x18;
    uVar28 = uVar3 << 0x18 | (uVar3 >> 8 & 0xff) << 0x10;
    uVar8 = uVar28 | (uVar3 >> 0x10 & 0xff) << 8 | uVar3 >> 0x18;
    iVar16 =
        ((uVar1 ^ uVar15) & uVar17 ^ uVar1) + uVar6 + 0xd807aa98 + uVar58 +
        ((uVar17 >> 0xb | uVar17 * 0x200000) ^
         (uVar17 >> 6 | uVar17 * 0x4000000) ^ (uVar17 >> 0x19 | uVar17 * 0x80));
    uVar51 = uVar51 + iVar16;
    uVar58 = uVar37 << 0x18 | (uVar37 >> 8 & 0xff) << 0x10;
    uVar59 = uVar58 | (uVar37 >> 0x10 & 0xff) << 8 | uVar37 >> 0x18;
    uVar56 = ((uVar47 >> 0xd | uVar47 * 0x80000) ^
              (uVar47 >> 2 | uVar47 * 0x40000000) ^
              (uVar47 >> 0x16 | uVar47 * 0x400)) +
             ((uVar26 | uVar47) & uVar32 | uVar26 & uVar47) + iVar16;
    iVar16 =
        ((uVar15 ^ uVar17) & uVar51 ^ uVar15) + uVar7 + 0x12835b01 + uVar1 +
        ((uVar51 >> 0xb | uVar51 * 0x200000) ^
         (uVar51 >> 6 | uVar51 * 0x4000000) ^ (uVar51 >> 0x19 | uVar51 * 0x80));
    uVar1 = uVar63 << 0x18 | (uVar63 >> 8 & 0xff) << 0x10;
    uVar9 = uVar1 | (uVar63 >> 0x10 & 0xff) << 8 | uVar63 >> 0x18;
    uVar32 = uVar32 + iVar16;
    uVar33 = uVar22 << 0x18 | (uVar22 >> 8 & 0xff) << 0x10;
    uVar11 = uVar33 | (uVar22 >> 0x10 & 0xff) << 8;
    uVar10 = uVar11 | uVar22 >> 0x18;
    uVar38 = ((uVar56 >> 0xd | uVar56 * 0x80000) ^
              (uVar56 >> 2 | uVar56 * 0x40000000) ^
              (uVar56 >> 0x16 | uVar56 * 0x400)) +
             ((uVar47 | uVar56) & uVar26 | uVar47 & uVar56) + iVar16;
    uVar34 = uVar5 << 0x18 | (uVar5 >> 8 & 0xff) << 0x10;
    uVar18 = uVar34 | (uVar5 >> 0x10 & 0xff) << 8;
    uVar23 = uVar18 | uVar5 >> 0x18;
    iVar16 =
        ((uVar17 ^ uVar51) & uVar32 ^ uVar17) + uVar43 + 0x243185be + uVar15 +
        ((uVar32 >> 0xb | uVar32 * 0x200000) ^
         (uVar32 >> 6 | uVar32 * 0x4000000) ^ (uVar32 >> 0x19 | uVar32 * 0x80));
    uVar26 = uVar26 + iVar16;
    uVar64 = ((uVar38 >> 0xd | uVar38 * 0x80000) ^
              (uVar38 >> 2 | uVar38 * 0x40000000) ^
              (uVar38 >> 0x16 | uVar38 * 0x400)) +
             ((uVar56 | uVar38) & uVar47 | uVar56 & uVar38) + iVar16;
    iVar16 =
        ((uVar51 ^ uVar32) & uVar26 ^ uVar51) + uVar8 + 0x550c7dc3 + uVar17 +
        ((uVar26 >> 0xb | uVar26 * 0x200000) ^
         (uVar26 >> 6 | uVar26 * 0x4000000) ^ (uVar26 >> 0x19 | uVar26 * 0x80));
    uVar17 = ((uVar64 >> 0xd | uVar64 * 0x80000) ^
              (uVar64 >> 2 | uVar64 * 0x40000000) ^
              (uVar64 >> 0x16 | uVar64 * 0x400)) +
             ((uVar38 | uVar64) & uVar56 | uVar38 & uVar64) + iVar16;
    uVar47 = uVar47 + iVar16;
    iVar16 =
        ((uVar32 ^ uVar26) & uVar47 ^ uVar32) + uVar59 + 0x72be5d74 + uVar51 +
        ((uVar47 >> 0xb | uVar47 * 0x200000) ^
         (uVar47 >> 6 | uVar47 * 0x4000000) ^ (uVar47 >> 0x19 | uVar47 * 0x80));
    uVar51 = ((uVar17 >> 0xd | uVar17 * 0x80000) ^
              (uVar17 >> 2 | uVar17 * 0x40000000) ^
              (uVar17 >> 0x16 | uVar17 * 0x400)) +
             ((uVar64 | uVar17) & uVar38 | uVar64 & uVar17) + iVar16;
    uVar56 = uVar56 + iVar16;
    iVar16 =
        ((uVar26 ^ uVar47) & uVar56 ^ uVar26) + uVar9 + 0x80deb1fe + uVar32 +
        ((uVar56 >> 0xb | uVar56 * 0x200000) ^
         (uVar56 >> 6 | uVar56 * 0x4000000) ^ (uVar56 >> 0x19 | uVar56 * 0x80));
    uVar38 = uVar38 + iVar16;
    uVar15 = ((uVar51 >> 0xd | uVar51 * 0x80000) ^
              (uVar51 >> 2 | uVar51 * 0x40000000) ^
              (uVar51 >> 0x16 | uVar51 * 0x400)) +
             ((uVar17 | uVar51) & uVar64 | uVar17 & uVar51) + iVar16;
    iVar16 =
        ((uVar47 ^ uVar56) & uVar38 ^ uVar47) + uVar10 + 0x9bdc06a7 + uVar26 +
        ((uVar38 >> 0xb | uVar38 * 0x200000) ^
         (uVar38 >> 6 | uVar38 * 0x4000000) ^ (uVar38 >> 0x19 | uVar38 * 0x80));
    uVar32 = ((uVar15 >> 0xd | uVar15 * 0x80000) ^
              (uVar15 >> 2 | uVar15 * 0x40000000) ^
              (uVar15 >> 0x16 | uVar15 * 0x400)) +
             ((uVar51 | uVar15) & uVar17 | uVar51 & uVar15) + iVar16;
    uVar64 = uVar64 + iVar16;
    iVar16 =
        ((uVar56 ^ uVar38) & uVar64 ^ uVar56) + uVar23 + 0xc19bf174 + uVar47 +
        ((uVar64 >> 0xb | uVar64 * 0x200000) ^
         (uVar64 >> 6 | uVar64 * 0x4000000) ^ (uVar64 >> 0x19 | uVar64 * 0x80));
    uVar17 = uVar17 + iVar16;
    uVar26 = ((uVar32 >> 0xd | uVar32 * 0x80000) ^
              (uVar32 >> 2 | uVar32 * 0x40000000) ^
              (uVar32 >> 0x16 | uVar32 * 0x400)) +
             ((uVar15 | uVar32) & uVar51 | uVar15 & uVar32) + iVar16;
    uVar19 = ((uVar33 >> 0x13 | uVar10 << 0xd) ^
              (uVar33 >> 0x11 | uVar10 << 0xf) ^ uVar11 >> 10) +
             uVar24 + uVar7 +
             ((uVar48 >> 0x12 | uVar49 << 0xe) ^
              (uVar49 >> 7 | (uVar19 >> 0x18) << 0x19) ^ uVar49 >> 3);
    iVar16 =
        ((uVar38 ^ uVar64) & uVar17 ^ uVar38) + uVar19 + 0xe49b69c1 + uVar56 +
        ((uVar17 >> 0xb | uVar17 * 0x200000) ^
         (uVar17 >> 6 | uVar17 * 0x4000000) ^ (uVar17 >> 0x19 | uVar17 * 0x80));
    uVar51 = uVar51 + iVar16;
    uVar24 = ((uVar26 >> 0xd | uVar26 * 0x80000) ^
              (uVar26 >> 2 | uVar26 * 0x40000000) ^
              (uVar26 >> 0x16 | uVar26 * 0x400)) +
             ((uVar32 | uVar26) & uVar15 | uVar32 & uVar26) + iVar16;
    uVar11 = ((uVar34 >> 0x13 | uVar23 << 0xd) ^
              (uVar34 >> 0x11 | uVar23 << 0xf) ^ uVar18 >> 10) +
             uVar49 + uVar43 +
             ((uVar13 >> 0x12 | uVar53 << 0xe) ^
              (uVar53 >> 7 | (uVar52 >> 0x18) << 0x19) ^ uVar53 >> 3);
    iVar16 =
        ((uVar64 ^ uVar17) & uVar51 ^ uVar64) + uVar11 + 0xefbe4786 + uVar38 +
        ((uVar51 >> 0xb | uVar51 * 0x200000) ^
         (uVar51 >> 6 | uVar51 * 0x4000000) ^ (uVar51 >> 0x19 | uVar51 * 0x80));
    uVar15 = uVar15 + iVar16;
    uVar47 = ((uVar24 >> 0xd | uVar24 * 0x80000) ^
              (uVar24 >> 2 | uVar24 * 0x40000000) ^
              (uVar24 >> 0x16 | uVar24 * 0x400)) +
             ((uVar26 | uVar24) & uVar32 | uVar26 & uVar24) + iVar16;
    uVar12 = ((uVar12 >> 0x12 | uVar41 << 0xe) ^
              (uVar41 >> 7 | (uVar40 >> 0x18) << 0x19) ^ uVar41 >> 3) +
             uVar53 + uVar8 +
             ((uVar19 >> 0x13 | uVar19 * 0x2000) ^
              (uVar19 >> 0x11 | uVar19 * 0x8000) ^ uVar19 >> 10);
    iVar16 =
        ((uVar17 ^ uVar51) & uVar15 ^ uVar17) + uVar12 + 0xfc19dc6 + uVar64 +
        ((uVar15 >> 0xb | uVar15 * 0x200000) ^
         (uVar15 >> 6 | uVar15 * 0x4000000) ^ (uVar15 >> 0x19 | uVar15 * 0x80));
    uVar32 = uVar32 + iVar16;
    uVar48 = ((uVar47 >> 0xd | uVar47 * 0x80000) ^
              (uVar47 >> 2 | uVar47 * 0x40000000) ^
              (uVar47 >> 0x16 | uVar47 * 0x400)) +
             ((uVar24 | uVar47) & uVar26 | uVar24 & uVar47) + iVar16;
    uVar38 = ((uVar14 >> 0x12 | uVar50 << 0xe) ^
              (uVar50 >> 7 | (uVar20 >> 0x18) << 0x19) ^ uVar50 >> 3) +
             uVar41 + uVar59 +
             ((uVar11 >> 0x13 | uVar11 * 0x2000) ^
              (uVar11 >> 0x11 | uVar11 * 0x8000) ^ uVar11 >> 10);
    iVar16 =
        ((uVar51 ^ uVar15) & uVar32 ^ uVar51) + uVar38 + 0x240ca1cc + uVar17 +
        ((uVar32 >> 0xb | uVar32 * 0x200000) ^
         (uVar32 >> 6 | uVar32 * 0x4000000) ^ (uVar32 >> 0x19 | uVar32 * 0x80));
    uVar13 = ((uVar48 >> 0xd | uVar48 * 0x80000) ^
              (uVar48 >> 2 | uVar48 * 0x40000000) ^
              (uVar48 >> 0x16 | uVar48 * 0x400)) +
             ((uVar47 | uVar48) & uVar24 | uVar47 & uVar48) + iVar16;
    uVar26 = uVar26 + iVar16;
    uVar17 = ((uVar31 >> 0x12 | uVar46 << 0xe) ^
              (uVar46 >> 7 | (uVar36 >> 0x18) << 0x19) ^ uVar46 >> 3) +
             uVar50 + uVar9 +
             ((uVar12 >> 0x13 | uVar12 * 0x2000) ^
              (uVar12 >> 0x11 | uVar12 * 0x8000) ^ uVar12 >> 10);
    iVar16 =
        ((uVar15 ^ uVar32) & uVar26 ^ uVar15) + uVar17 + 0x2de92c6f + uVar51 +
        ((uVar26 >> 0xb | uVar26 * 0x200000) ^
         (uVar26 >> 6 | uVar26 * 0x4000000) ^ (uVar26 >> 0x19 | uVar26 * 0x80));
    uVar24 = uVar24 + iVar16;
    uVar31 = ((uVar13 >> 0xd | uVar13 * 0x80000) ^
              (uVar13 >> 2 | uVar13 * 0x40000000) ^
              (uVar13 >> 0x16 | uVar13 * 0x400)) +
             ((uVar48 | uVar13) & uVar47 | uVar48 & uVar13) + iVar16;
    uVar18 = ((uVar25 >> 0x12 | uVar62 << 0xe) ^
              (uVar62 >> 7 | (uVar60 >> 0x18) << 0x19) ^ uVar62 >> 3) +
             uVar46 + uVar10 +
             ((uVar38 >> 0x13 | uVar38 * 0x2000) ^
              (uVar38 >> 0x11 | uVar38 * 0x8000) ^ uVar38 >> 10);
    iVar16 =
        ((uVar32 ^ uVar26) & uVar24 ^ uVar32) + uVar18 + 0x4a7484aa + uVar15 +
        ((uVar24 >> 0xb | uVar24 * 0x200000) ^
         (uVar24 >> 6 | uVar24 * 0x4000000) ^ (uVar24 >> 0x19 | uVar24 * 0x80));
    uVar47 = uVar47 + iVar16;
    uVar25 = ((uVar31 >> 0xd | uVar31 * 0x80000) ^
              (uVar31 >> 2 | uVar31 * 0x40000000) ^
              (uVar31 >> 0x16 | uVar31 * 0x400)) +
             ((uVar13 | uVar31) & uVar48 | uVar13 & uVar31) + iVar16;
    uVar20 = ((uVar21 >> 0x12 | uVar4 << 0xe) ^
              (uVar4 >> 7 | (uVar54 >> 0x18) << 0x19) ^ uVar4 >> 3) +
             uVar62 + uVar23 +
             ((uVar17 >> 0x13 | uVar17 * 0x2000) ^
              (uVar17 >> 0x11 | uVar17 * 0x8000) ^ uVar17 >> 10);
    iVar16 =
        ((uVar26 ^ uVar24) & uVar47 ^ uVar26) + uVar20 + 0x5cb0a9dc + uVar32 +
        ((uVar47 >> 0xb | uVar47 * 0x200000) ^
         (uVar47 >> 6 | uVar47 * 0x4000000) ^ (uVar47 >> 0x19 | uVar47 * 0x80));
    uVar48 = uVar48 + iVar16;
    uVar15 = ((uVar25 >> 0xd | uVar25 * 0x80000) ^
              (uVar25 >> 2 | uVar25 * 0x40000000) ^
              (uVar25 >> 0x16 | uVar25 * 0x400)) +
             ((uVar31 | uVar25) & uVar13 | uVar31 & uVar25) + iVar16;
    uVar4 = ((uVar55 >> 0x12 | uVar6 << 0xe) ^
             (uVar6 >> 7 | (uVar61 >> 0x18) << 0x19) ^ uVar6 >> 3) +
            uVar4 + uVar19 +
            ((uVar18 >> 0x13 | uVar18 * 0x2000) ^
             (uVar18 >> 0x11 | uVar18 * 0x8000) ^ uVar18 >> 10);
    iVar16 =
        ((uVar24 ^ uVar47) & uVar48 ^ uVar24) + uVar4 + 0x76f988da + uVar26 +
        ((uVar48 >> 0xb | uVar48 * 0x200000) ^
         (uVar48 >> 6 | uVar48 * 0x4000000) ^ (uVar48 >> 0x19 | uVar48 * 0x80));
    uVar13 = uVar13 + iVar16;
    uVar51 = ((uVar15 >> 0xd | uVar15 * 0x80000) ^
              (uVar15 >> 2 | uVar15 * 0x40000000) ^
              (uVar15 >> 0x16 | uVar15 * 0x400)) +
             ((uVar25 | uVar15) & uVar31 | uVar25 & uVar15) + iVar16;
    uVar6 = ((uVar29 >> 0x12 | uVar7 << 0xe) ^
             (uVar7 >> 7 | (uVar42 >> 0x18) << 0x19) ^ uVar7 >> 3) +
            uVar6 + uVar11 +
            ((uVar20 >> 0x13 | uVar20 * 0x2000) ^
             (uVar20 >> 0x11 | uVar20 * 0x8000) ^ uVar20 >> 10);
    iVar16 =
        ((uVar47 ^ uVar48) & uVar13 ^ uVar47) + uVar6 + 0x983e5152 + uVar24 +
        ((uVar13 >> 0xb | uVar13 * 0x200000) ^
         (uVar13 >> 6 | uVar13 * 0x4000000) ^ (uVar13 >> 0x19 | uVar13 * 0x80));
    uVar31 = uVar31 + iVar16;
    uVar24 = ((uVar51 >> 0xd | uVar51 * 0x80000) ^
              (uVar51 >> 2 | uVar51 * 0x40000000) ^
              (uVar51 >> 0x16 | uVar51 * 0x400)) +
             ((uVar15 | uVar51) & uVar25 | uVar15 & uVar51) + iVar16;
    uVar27 = ((uVar27 >> 0x12 | uVar43 << 0xe) ^
              (uVar43 >> 7 | (uVar45 >> 0x18) << 0x19) ^ uVar43 >> 3) +
             uVar7 + uVar12 +
             ((uVar4 >> 0x13 | uVar4 * 0x2000) ^
              (uVar4 >> 0x11 | uVar4 * 0x8000) ^ uVar4 >> 10);
    iVar16 =
        ((uVar48 ^ uVar13) & uVar31 ^ uVar48) + uVar27 + 0xa831c66d + uVar47 +
        ((uVar31 >> 0xb | uVar31 * 0x200000) ^
         (uVar31 >> 6 | uVar31 * 0x4000000) ^ (uVar31 >> 0x19 | uVar31 * 0x80));
    uVar7 = ((uVar24 >> 0xd | uVar24 * 0x80000) ^
             (uVar24 >> 2 | uVar24 * 0x40000000) ^
             (uVar24 >> 0x16 | uVar24 * 0x400)) +
            ((uVar51 | uVar24) & uVar15 | uVar51 & uVar24) + iVar16;
    uVar25 = uVar25 + iVar16;
    uVar28 = ((uVar28 >> 0x12 | uVar8 << 0xe) ^
              (uVar8 >> 7 | (uVar3 >> 0x18) << 0x19) ^ uVar8 >> 3) +
             uVar43 + uVar38 +
             ((uVar6 >> 0x13 | uVar6 * 0x2000) ^
              (uVar6 >> 0x11 | uVar6 * 0x8000) ^ uVar6 >> 10);
    iVar16 =
        ((uVar13 ^ uVar31) & uVar25 ^ uVar13) + uVar28 + 0xb00327c8 + uVar48 +
        ((uVar25 >> 0xb | uVar25 * 0x200000) ^
         (uVar25 >> 6 | uVar25 * 0x4000000) ^ (uVar25 >> 0x19 | uVar25 * 0x80));
    uVar15 = uVar15 + iVar16;
    uVar48 =
        ((uVar7 >> 0xd | uVar7 * 0x80000) ^ (uVar7 >> 2 | uVar7 * 0x40000000) ^
         (uVar7 >> 0x16 | uVar7 * 0x400)) +
        ((uVar24 | uVar7) & uVar51 | uVar24 & uVar7) + iVar16;
    uVar58 = ((uVar58 >> 0x12 | uVar59 << 0xe) ^
              (uVar59 >> 7 | (uVar37 >> 0x18) << 0x19) ^ uVar59 >> 3) +
             uVar8 + uVar17 +
             ((uVar27 >> 0x13 | uVar27 * 0x2000) ^
              (uVar27 >> 0x11 | uVar27 * 0x8000) ^ uVar27 >> 10);
    iVar16 =
        ((uVar31 ^ uVar25) & uVar15 ^ uVar31) + uVar58 + 0xbf597fc7 + uVar13 +
        ((uVar15 >> 0xb | uVar15 * 0x200000) ^
         (uVar15 >> 6 | uVar15 * 0x4000000) ^ (uVar15 >> 0x19 | uVar15 * 0x80));
    uVar14 = ((uVar48 >> 0xd | uVar48 * 0x80000) ^
              (uVar48 >> 2 | uVar48 * 0x40000000) ^
              (uVar48 >> 0x16 | uVar48 * 0x400)) +
             ((uVar7 | uVar48) & uVar24 | uVar7 & uVar48) + iVar16;
    uVar51 = uVar51 + iVar16;
    uVar1 = ((uVar1 >> 0x12 | uVar9 << 0xe) ^
             (uVar9 >> 7 | (uVar63 >> 0x18) << 0x19) ^ uVar9 >> 3) +
            uVar59 + uVar18 +
            ((uVar28 >> 0x13 | uVar28 * 0x2000) ^
             (uVar28 >> 0x11 | uVar28 * 0x8000) ^ uVar28 >> 10);
    iVar16 =
        ((uVar25 ^ uVar15) & uVar51 ^ uVar25) + uVar1 + 0xc6e00bf3 + uVar31 +
        ((uVar51 >> 0xb | uVar51 * 0x200000) ^
         (uVar51 >> 6 | uVar51 * 0x4000000) ^ (uVar51 >> 0x19 | uVar51 * 0x80));
    uVar24 = uVar24 + iVar16;
    uVar29 = ((uVar14 >> 0xd | uVar14 * 0x80000) ^
              (uVar14 >> 2 | uVar14 * 0x40000000) ^
              (uVar14 >> 0x16 | uVar14 * 0x400)) +
             ((uVar48 | uVar14) & uVar7 | uVar48 & uVar14) + iVar16;
    uVar33 = ((uVar33 >> 0x12 | uVar10 << 0xe) ^
              (uVar10 >> 7 | (uVar22 >> 0x18) << 0x19) ^ uVar10 >> 3) +
             uVar9 + uVar20 +
             ((uVar58 >> 0x13 | uVar58 * 0x2000) ^
              (uVar58 >> 0x11 | uVar58 * 0x8000) ^ uVar58 >> 10);
    iVar16 =
        ((uVar15 ^ uVar51) & uVar24 ^ uVar15) + uVar33 + 0xd5a79147 + uVar25 +
        ((uVar24 >> 0xb | uVar24 * 0x200000) ^
         (uVar24 >> 6 | uVar24 * 0x4000000) ^ (uVar24 >> 0x19 | uVar24 * 0x80));
    uVar7 = uVar7 + iVar16;
    uVar21 = ((uVar29 >> 0xd | uVar29 * 0x80000) ^
              (uVar29 >> 2 | uVar29 * 0x40000000) ^
              (uVar29 >> 0x16 | uVar29 * 0x400)) +
             ((uVar14 | uVar29) & uVar48 | uVar14 & uVar29) + iVar16;
    uVar34 = ((uVar34 >> 0x12 | uVar23 << 0xe) ^
              (uVar23 >> 7 | (uVar5 >> 0x18) << 0x19) ^ uVar23 >> 3) +
             uVar10 + uVar4 +
             ((uVar1 >> 0x13 | uVar1 * 0x2000) ^
              (uVar1 >> 0x11 | uVar1 * 0x8000) ^ uVar1 >> 10);
    iVar16 =
        ((uVar51 ^ uVar24) & uVar7 ^ uVar51) + uVar34 + 0x6ca6351 + uVar15 +
        ((uVar7 >> 0xb | uVar7 * 0x200000) ^ (uVar7 >> 6 | uVar7 * 0x4000000) ^
         (uVar7 >> 0x19 | uVar7 * 0x80));
    uVar48 = uVar48 + iVar16;
    uVar55 = ((uVar21 >> 0xd | uVar21 * 0x80000) ^
              (uVar21 >> 2 | uVar21 * 0x40000000) ^
              (uVar21 >> 0x16 | uVar21 * 0x400)) +
             ((uVar29 | uVar21) & uVar14 | uVar29 & uVar21) + iVar16;
    uVar5 = ((uVar19 >> 0x12 | uVar19 * 0x4000) ^
             (uVar19 >> 7 | uVar19 * 0x2000000) ^ uVar19 >> 3) +
            uVar23 + uVar6 +
            ((uVar33 >> 0x13 | uVar33 * 0x2000) ^
             (uVar33 >> 0x11 | uVar33 * 0x8000) ^ uVar33 >> 10);
    iVar16 =
        ((uVar24 ^ uVar7) & uVar48 ^ uVar24) + uVar5 + 0x14292967 + uVar51 +
        ((uVar48 >> 0xb | uVar48 * 0x200000) ^
         (uVar48 >> 6 | uVar48 * 0x4000000) ^ (uVar48 >> 0x19 | uVar48 * 0x80));
    uVar14 = uVar14 + iVar16;
    uVar15 = ((uVar55 >> 0xd | uVar55 * 0x80000) ^
              (uVar55 >> 2 | uVar55 * 0x40000000) ^
              (uVar55 >> 0x16 | uVar55 * 0x400)) +
             ((uVar21 | uVar55) & uVar29 | uVar21 & uVar55) + iVar16;
    uVar9 = ((uVar11 >> 0x12 | uVar11 * 0x4000) ^
             (uVar11 >> 7 | uVar11 * 0x2000000) ^ uVar11 >> 3) +
            uVar19 + uVar27 +
            ((uVar34 >> 0x13 | uVar34 * 0x2000) ^
             (uVar34 >> 0x11 | uVar34 * 0x8000) ^ uVar34 >> 10);
    iVar16 =
        ((uVar7 ^ uVar48) & uVar14 ^ uVar7) + uVar9 + 0x27b70a85 + uVar24 +
        ((uVar14 >> 0xb | uVar14 * 0x200000) ^
         (uVar14 >> 6 | uVar14 * 0x4000000) ^ (uVar14 >> 0x19 | uVar14 * 0x80));
    uVar29 = uVar29 + iVar16;
    uVar13 = ((uVar15 >> 0xd | uVar15 * 0x80000) ^
              (uVar15 >> 2 | uVar15 * 0x40000000) ^
              (uVar15 >> 0x16 | uVar15 * 0x400)) +
             ((uVar55 | uVar15) & uVar21 | uVar55 & uVar15) + iVar16;
    uVar31 = ((uVar12 >> 0x12 | uVar12 * 0x4000) ^
              (uVar12 >> 7 | uVar12 * 0x2000000) ^ uVar12 >> 3) +
             uVar11 + uVar28 +
             ((uVar5 >> 0x13 | uVar5 * 0x2000) ^
              (uVar5 >> 0x11 | uVar5 * 0x8000) ^ uVar5 >> 10);
    iVar16 =
        ((uVar48 ^ uVar14) & uVar29 ^ uVar48) + uVar31 + 0x2e1b2138 + uVar7 +
        ((uVar29 >> 0xb | uVar29 * 0x200000) ^
         (uVar29 >> 6 | uVar29 * 0x4000000) ^ (uVar29 >> 0x19 | uVar29 * 0x80));
    uVar21 = uVar21 + iVar16;
    uVar11 = ((uVar13 >> 0xd | uVar13 * 0x80000) ^
              (uVar13 >> 2 | uVar13 * 0x40000000) ^
              (uVar13 >> 0x16 | uVar13 * 0x400)) +
             ((uVar15 | uVar13) & uVar55 | uVar15 & uVar13) + iVar16;
    uVar3 = ((uVar38 >> 0x12 | uVar38 * 0x4000) ^
             (uVar38 >> 7 | uVar38 * 0x2000000) ^ uVar38 >> 3) +
            uVar12 + uVar58 +
            ((uVar9 >> 0x13 | uVar9 * 0x2000) ^
             (uVar9 >> 0x11 | uVar9 * 0x8000) ^ uVar9 >> 10);
    iVar16 =
        ((uVar14 ^ uVar29) & uVar21 ^ uVar14) + uVar3 + 0x4d2c6dfc + uVar48 +
        ((uVar21 >> 0xb | uVar21 * 0x200000) ^
         (uVar21 >> 6 | uVar21 * 0x4000000) ^ (uVar21 >> 0x19 | uVar21 * 0x80));
    uVar55 = uVar55 + iVar16;
    uVar25 = ((uVar11 >> 0xd | uVar11 * 0x80000) ^
              (uVar11 >> 2 | uVar11 * 0x40000000) ^
              (uVar11 >> 0x16 | uVar11 * 0x400)) +
             ((uVar13 | uVar11) & uVar15 | uVar13 & uVar11) + iVar16;
    uVar12 = ((uVar17 >> 0x12 | uVar17 * 0x4000) ^
              (uVar17 >> 7 | uVar17 * 0x2000000) ^ uVar17 >> 3) +
             uVar38 + uVar1 +
             ((uVar31 >> 0x13 | uVar31 * 0x2000) ^
              (uVar31 >> 0x11 | uVar31 * 0x8000) ^ uVar31 >> 10);
    iVar16 =
        ((uVar29 ^ uVar21) & uVar55 ^ uVar29) + uVar12 + 0x53380d13 + uVar14 +
        ((uVar55 >> 0xb | uVar55 * 0x200000) ^
         (uVar55 >> 6 | uVar55 * 0x4000000) ^ (uVar55 >> 0x19 | uVar55 * 0x80));
    uVar15 = uVar15 + iVar16;
    uVar14 = ((uVar25 >> 0xd | uVar25 * 0x80000) ^
              (uVar25 >> 2 | uVar25 * 0x40000000) ^
              (uVar25 >> 0x16 | uVar25 * 0x400)) +
             ((uVar11 | uVar25) & uVar13 | uVar11 & uVar25) + iVar16;
    uVar22 = ((uVar18 >> 0x12 | uVar18 * 0x4000) ^
              (uVar18 >> 7 | uVar18 * 0x2000000) ^ uVar18 >> 3) +
             uVar17 + uVar33 +
             ((uVar3 >> 0x13 | uVar3 * 0x2000) ^
              (uVar3 >> 0x11 | uVar3 * 0x8000) ^ uVar3 >> 10);
    iVar16 =
        ((uVar21 ^ uVar55) & uVar15 ^ uVar21) + uVar22 + 0x650a7354 + uVar29 +
        ((uVar15 >> 0xb | uVar15 * 0x200000) ^
         (uVar15 >> 6 | uVar15 * 0x4000000) ^ (uVar15 >> 0x19 | uVar15 * 0x80));
    uVar13 = uVar13 + iVar16;
    uVar23 = ((uVar14 >> 0xd | uVar14 * 0x80000) ^
              (uVar14 >> 2 | uVar14 * 0x40000000) ^
              (uVar14 >> 0x16 | uVar14 * 0x400)) +
             ((uVar25 | uVar14) & uVar11 | uVar25 & uVar14) + iVar16;
    uVar10 = ((uVar20 >> 0x12 | uVar20 * 0x4000) ^
              (uVar20 >> 7 | uVar20 * 0x2000000) ^ uVar20 >> 3) +
             uVar18 + uVar34 +
             ((uVar12 >> 0x13 | uVar12 * 0x2000) ^
              (uVar12 >> 0x11 | uVar12 * 0x8000) ^ uVar12 >> 10);
    iVar16 =
        ((uVar55 ^ uVar15) & uVar13 ^ uVar55) + uVar10 + 0x766a0abb + uVar21 +
        ((uVar13 >> 0xb | uVar13 * 0x200000) ^
         (uVar13 >> 6 | uVar13 * 0x4000000) ^ (uVar13 >> 0x19 | uVar13 * 0x80));
    uVar11 = uVar11 + iVar16;
    uVar21 = ((uVar23 >> 0xd | uVar23 * 0x80000) ^
              (uVar23 >> 2 | uVar23 * 0x40000000) ^
              (uVar23 >> 0x16 | uVar23 * 0x400)) +
             ((uVar14 | uVar23) & uVar25 | uVar14 & uVar23) + iVar16;
    uVar17 = ((uVar4 >> 0x12 | uVar4 * 0x4000) ^
              (uVar4 >> 7 | uVar4 * 0x2000000) ^ uVar4 >> 3) +
             uVar20 + uVar5 +
             ((uVar22 >> 0x13 | uVar22 * 0x2000) ^
              (uVar22 >> 0x11 | uVar22 * 0x8000) ^ uVar22 >> 10);
    iVar16 =
        ((uVar15 ^ uVar13) & uVar11 ^ uVar15) + uVar17 + 0x81c2c92e + uVar55 +
        ((uVar11 >> 0xb | uVar11 * 0x200000) ^
         (uVar11 >> 6 | uVar11 * 0x4000000) ^ (uVar11 >> 0x19 | uVar11 * 0x80));
    uVar25 = uVar25 + iVar16;
    uVar29 = ((uVar21 >> 0xd | uVar21 * 0x80000) ^
              (uVar21 >> 2 | uVar21 * 0x40000000) ^
              (uVar21 >> 0x16 | uVar21 * 0x400)) +
             ((uVar23 | uVar21) & uVar14 | uVar23 & uVar21) + iVar16;
    uVar19 = ((uVar6 >> 0x12 | uVar6 * 0x4000) ^
              (uVar6 >> 7 | uVar6 * 0x2000000) ^ uVar6 >> 3) +
             uVar4 + uVar9 +
             ((uVar10 >> 0x13 | uVar10 * 0x2000) ^
              (uVar10 >> 0x11 | uVar10 * 0x8000) ^ uVar10 >> 10);
    iVar16 =
        ((uVar13 ^ uVar11) & uVar25 ^ uVar13) + uVar19 + 0x92722c85 + uVar15 +
        ((uVar25 >> 0xb | uVar25 * 0x200000) ^
         (uVar25 >> 6 | uVar25 * 0x4000000) ^ (uVar25 >> 0x19 | uVar25 * 0x80));
    uVar7 = ((uVar29 >> 0xd | uVar29 * 0x80000) ^
             (uVar29 >> 2 | uVar29 * 0x40000000) ^
             (uVar29 >> 0x16 | uVar29 * 0x400)) +
            ((uVar21 | uVar29) & uVar23 | uVar21 & uVar29) + iVar16;
    uVar14 = uVar14 + iVar16;
    uVar15 = ((uVar27 >> 0x12 | uVar27 * 0x4000) ^
              (uVar27 >> 7 | uVar27 * 0x2000000) ^ uVar27 >> 3) +
             uVar6 + uVar31 +
             ((uVar17 >> 0x13 | uVar17 * 0x2000) ^
              (uVar17 >> 0x11 | uVar17 * 0x8000) ^ uVar17 >> 10);
    iVar16 =
        ((uVar11 ^ uVar25) & uVar14 ^ uVar11) + uVar15 + 0xa2bfe8a1 + uVar13 +
        ((uVar14 >> 0xb | uVar14 * 0x200000) ^
         (uVar14 >> 6 | uVar14 * 0x4000000) ^ (uVar14 >> 0x19 | uVar14 * 0x80));
    uVar23 = uVar23 + iVar16;
    uVar55 =
        ((uVar7 >> 0xd | uVar7 * 0x80000) ^ (uVar7 >> 2 | uVar7 * 0x40000000) ^
         (uVar7 >> 0x16 | uVar7 * 0x400)) +
        ((uVar29 | uVar7) & uVar21 | uVar29 & uVar7) + iVar16;
    uVar4 = ((uVar28 >> 0x12 | uVar28 * 0x4000) ^
             (uVar28 >> 7 | uVar28 * 0x2000000) ^ uVar28 >> 3) +
            uVar27 + uVar3 +
            ((uVar19 >> 0x13 | uVar19 * 0x2000) ^
             (uVar19 >> 0x11 | uVar19 * 0x8000) ^ uVar19 >> 10);
    iVar16 =
        ((uVar25 ^ uVar14) & uVar23 ^ uVar25) + uVar4 + 0xa81a664b + uVar11 +
        ((uVar23 >> 0xb | uVar23 * 0x200000) ^
         (uVar23 >> 6 | uVar23 * 0x4000000) ^ (uVar23 >> 0x19 | uVar23 * 0x80));
    uVar21 = uVar21 + iVar16;
    uVar48 = ((uVar55 >> 0xd | uVar55 * 0x80000) ^
              (uVar55 >> 2 | uVar55 * 0x40000000) ^
              (uVar55 >> 0x16 | uVar55 * 0x400)) +
             ((uVar7 | uVar55) & uVar29 | uVar7 & uVar55) + iVar16;
    uVar18 = ((uVar58 >> 0x12 | uVar58 * 0x4000) ^
              (uVar58 >> 7 | uVar58 * 0x2000000) ^ uVar58 >> 3) +
             uVar28 + uVar12 +
             ((uVar15 >> 0x13 | uVar15 * 0x2000) ^
              (uVar15 >> 0x11 | uVar15 * 0x8000) ^ uVar15 >> 10);
    iVar16 =
        ((uVar14 ^ uVar23) & uVar21 ^ uVar14) + uVar18 + 0xc24b8b70 + uVar25 +
        ((uVar21 >> 0xb | uVar21 * 0x200000) ^
         (uVar21 >> 6 | uVar21 * 0x4000000) ^ (uVar21 >> 0x19 | uVar21 * 0x80));
    uVar29 = uVar29 + iVar16;
    uVar24 = ((uVar48 >> 0xd | uVar48 * 0x80000) ^
              (uVar48 >> 2 | uVar48 * 0x40000000) ^
              (uVar48 >> 0x16 | uVar48 * 0x400)) +
             ((uVar55 | uVar48) & uVar7 | uVar55 & uVar48) + iVar16;
    uVar13 = ((uVar1 >> 0x12 | uVar1 * 0x4000) ^
              (uVar1 >> 7 | uVar1 * 0x2000000) ^ uVar1 >> 3) +
             uVar58 + uVar22 +
             ((uVar4 >> 0x13 | uVar4 * 0x2000) ^
              (uVar4 >> 0x11 | uVar4 * 0x8000) ^ uVar4 >> 10);
    iVar16 =
        ((uVar23 ^ uVar21) & uVar29 ^ uVar23) + uVar13 + 0xc76c51a3 + uVar14 +
        ((uVar29 >> 0xb | uVar29 * 0x200000) ^
         (uVar29 >> 6 | uVar29 * 0x4000000) ^ (uVar29 >> 0x19 | uVar29 * 0x80));
    uVar27 = ((uVar24 >> 0xd | uVar24 * 0x80000) ^
              (uVar24 >> 2 | uVar24 * 0x40000000) ^
              (uVar24 >> 0x16 | uVar24 * 0x400)) +
             ((uVar48 | uVar24) & uVar55 | uVar48 & uVar24) + iVar16;
    uVar7 = uVar7 + iVar16;
    uVar8 = ((uVar33 >> 0x12 | uVar33 * 0x4000) ^
             (uVar33 >> 7 | uVar33 * 0x2000000) ^ uVar33 >> 3) +
            uVar1 + uVar10 +
            ((uVar18 >> 0x13 | uVar18 * 0x2000) ^
             (uVar18 >> 0x11 | uVar18 * 0x8000) ^ uVar18 >> 10);
    iVar16 =
        ((uVar21 ^ uVar29) & uVar7 ^ uVar21) + uVar8 + 0xd192e819 + uVar23 +
        ((uVar7 >> 0xb | uVar7 * 0x200000) ^ (uVar7 >> 6 | uVar7 * 0x4000000) ^
         (uVar7 >> 0x19 | uVar7 * 0x80));
    uVar55 = uVar55 + iVar16;
    uVar28 = ((uVar27 >> 0xd | uVar27 * 0x80000) ^
              (uVar27 >> 2 | uVar27 * 0x40000000) ^
              (uVar27 >> 0x16 | uVar27 * 0x400)) +
             ((uVar24 | uVar27) & uVar48 | uVar24 & uVar27) + iVar16;
    uVar14 = ((uVar34 >> 0x12 | uVar34 * 0x4000) ^
              (uVar34 >> 7 | uVar34 * 0x2000000) ^ uVar34 >> 3) +
             uVar33 + uVar17 +
             ((uVar13 >> 0x13 | uVar13 * 0x2000) ^
              (uVar13 >> 0x11 | uVar13 * 0x8000) ^ uVar13 >> 10);
    iVar16 =
        ((uVar29 ^ uVar7) & uVar55 ^ uVar29) + uVar14 + 0xd6990624 + uVar21 +
        ((uVar55 >> 0xb | uVar55 * 0x200000) ^
         (uVar55 >> 6 | uVar55 * 0x4000000) ^ (uVar55 >> 0x19 | uVar55 * 0x80));
    uVar48 = uVar48 + iVar16;
    uVar1 = ((uVar28 >> 0xd | uVar28 * 0x80000) ^
             (uVar28 >> 2 | uVar28 * 0x40000000) ^
             (uVar28 >> 0x16 | uVar28 * 0x400)) +
            ((uVar27 | uVar28) & uVar24 | uVar27 & uVar28) + iVar16;
    uVar25 = ((uVar5 >> 0x12 | uVar5 * 0x4000) ^
              (uVar5 >> 7 | uVar5 * 0x2000000) ^ uVar5 >> 3) +
             uVar34 + uVar19 +
             ((uVar8 >> 0x13 | uVar8 * 0x2000) ^
              (uVar8 >> 0x11 | uVar8 * 0x8000) ^ uVar8 >> 10);
    iVar16 =
        ((uVar7 ^ uVar55) & uVar48 ^ uVar7) + uVar25 + 0xf40e3585 + uVar29 +
        ((uVar48 >> 0xb | uVar48 * 0x200000) ^
         (uVar48 >> 6 | uVar48 * 0x4000000) ^ (uVar48 >> 0x19 | uVar48 * 0x80));
    uVar24 = uVar24 + iVar16;
    uVar58 =
        ((uVar1 >> 0xd | uVar1 * 0x80000) ^ (uVar1 >> 2 | uVar1 * 0x40000000) ^
         (uVar1 >> 0x16 | uVar1 * 0x400)) +
        ((uVar28 | uVar1) & uVar27 | uVar28 & uVar1) + iVar16;
    uVar21 = ((uVar9 >> 0x12 | uVar9 * 0x4000) ^
              (uVar9 >> 7 | uVar9 * 0x2000000) ^ uVar9 >> 3) +
             uVar5 + uVar15 +
             ((uVar14 >> 0x13 | uVar14 * 0x2000) ^
              (uVar14 >> 0x11 | uVar14 * 0x8000) ^ uVar14 >> 10);
    iVar16 =
        ((uVar55 ^ uVar48) & uVar24 ^ uVar55) + uVar21 + 0x106aa070 + uVar7 +
        ((uVar24 >> 0xb | uVar24 * 0x200000) ^
         (uVar24 >> 6 | uVar24 * 0x4000000) ^ (uVar24 >> 0x19 | uVar24 * 0x80));
    uVar27 = uVar27 + iVar16;
    uVar33 = ((uVar58 >> 0xd | uVar58 * 0x80000) ^
              (uVar58 >> 2 | uVar58 * 0x40000000) ^
              (uVar58 >> 0x16 | uVar58 * 0x400)) +
             ((uVar1 | uVar58) & uVar28 | uVar1 & uVar58) + iVar16;
    uVar5 = ((uVar31 >> 0x12 | uVar31 * 0x4000) ^
             (uVar31 >> 7 | uVar31 * 0x2000000) ^ uVar31 >> 3) +
            uVar9 + uVar4 +
            ((uVar25 >> 0x13 | uVar25 * 0x2000) ^
             (uVar25 >> 0x11 | uVar25 * 0x8000) ^ uVar25 >> 10);
    iVar16 =
        ((uVar48 ^ uVar24) & uVar27 ^ uVar48) + uVar5 + 0x19a4c116 + uVar55 +
        ((uVar27 >> 0xb | uVar27 * 0x200000) ^
         (uVar27 >> 6 | uVar27 * 0x4000000) ^ (uVar27 >> 0x19 | uVar27 * 0x80));
    uVar28 = uVar28 + iVar16;
    uVar6 = ((uVar33 >> 0xd | uVar33 * 0x80000) ^
             (uVar33 >> 2 | uVar33 * 0x40000000) ^
             (uVar33 >> 0x16 | uVar33 * 0x400)) +
            ((uVar58 | uVar33) & uVar1 | uVar58 & uVar33) + iVar16;
    uVar29 = ((uVar3 >> 0x12 | uVar3 * 0x4000) ^
              (uVar3 >> 7 | uVar3 * 0x2000000) ^ uVar3 >> 3) +
             uVar31 + uVar18 +
             ((uVar21 >> 0x13 | uVar21 * 0x2000) ^
              (uVar21 >> 0x11 | uVar21 * 0x8000) ^ uVar21 >> 10);
    iVar16 =
        ((uVar24 ^ uVar27) & uVar28 ^ uVar24) + uVar29 + 0x1e376c08 + uVar48 +
        ((uVar28 >> 0xb | uVar28 * 0x200000) ^
         (uVar28 >> 6 | uVar28 * 0x4000000) ^ (uVar28 >> 0x19 | uVar28 * 0x80));
    uVar11 =
        ((uVar6 >> 0xd | uVar6 * 0x80000) ^ (uVar6 >> 2 | uVar6 * 0x40000000) ^
         (uVar6 >> 0x16 | uVar6 * 0x400)) +
        ((uVar33 | uVar6) & uVar58 | uVar33 & uVar6) + iVar16;
    uVar1 = uVar1 + iVar16;
    uVar34 = ((uVar12 >> 0x12 | uVar12 * 0x4000) ^
              (uVar12 >> 7 | uVar12 * 0x2000000) ^ uVar12 >> 3) +
             uVar3 + uVar13 +
             ((uVar5 >> 0x13 | uVar5 * 0x2000) ^
              (uVar5 >> 0x11 | uVar5 * 0x8000) ^ uVar5 >> 10);
    iVar16 =
        ((uVar27 ^ uVar28) & uVar1 ^ uVar27) + uVar34 + 0x2748774c + uVar24 +
        ((uVar1 >> 0xb | uVar1 * 0x200000) ^ (uVar1 >> 6 | uVar1 * 0x4000000) ^
         (uVar1 >> 0x19 | uVar1 * 0x80));
    uVar58 = uVar58 + iVar16;
    uVar48 = ((uVar11 >> 0xd | uVar11 * 0x80000) ^
              (uVar11 >> 2 | uVar11 * 0x40000000) ^
              (uVar11 >> 0x16 | uVar11 * 0x400)) +
             ((uVar6 | uVar11) & uVar33 | uVar6 & uVar11) + iVar16;
    uVar12 = ((uVar22 >> 0x12 | uVar22 * 0x4000) ^
              (uVar22 >> 7 | uVar22 * 0x2000000) ^ uVar22 >> 3) +
             uVar12 + uVar8 +
             ((uVar29 >> 0x13 | uVar29 * 0x2000) ^
              (uVar29 >> 0x11 | uVar29 * 0x8000) ^ uVar29 >> 10);
    iVar16 =
        ((uVar28 ^ uVar1) & uVar58 ^ uVar28) + uVar12 + 0x34b0bcb5 + uVar27 +
        ((uVar58 >> 0xb | uVar58 * 0x200000) ^
         (uVar58 >> 6 | uVar58 * 0x4000000) ^ (uVar58 >> 0x19 | uVar58 * 0x80));
    uVar33 = uVar33 + iVar16;
    uVar7 = ((uVar48 >> 0xd | uVar48 * 0x80000) ^
             (uVar48 >> 2 | uVar48 * 0x40000000) ^
             (uVar48 >> 0x16 | uVar48 * 0x400)) +
            ((uVar11 | uVar48) & uVar6 | uVar11 & uVar48) + iVar16;
    uVar27 = ((uVar10 >> 0x12 | uVar10 * 0x4000) ^
              (uVar10 >> 7 | uVar10 * 0x2000000) ^ uVar10 >> 3) +
             uVar22 + uVar14 +
             ((uVar34 >> 0x13 | uVar34 * 0x2000) ^
              (uVar34 >> 0x11 | uVar34 * 0x8000) ^ uVar34 >> 10);
    iVar16 =
        ((uVar1 ^ uVar58) & uVar33 ^ uVar1) + uVar27 + 0x391c0cb3 + uVar28 +
        ((uVar33 >> 0xb | uVar33 * 0x200000) ^
         (uVar33 >> 6 | uVar33 * 0x4000000) ^ (uVar33 >> 0x19 | uVar33 * 0x80));
    uVar6 = uVar6 + iVar16;
    uVar3 =
        ((uVar7 >> 0xd | uVar7 * 0x80000) ^ (uVar7 >> 2 | uVar7 * 0x40000000) ^
         (uVar7 >> 0x16 | uVar7 * 0x400)) +
        ((uVar48 | uVar7) & uVar11 | uVar48 & uVar7) + iVar16;
    uVar31 = ((uVar17 >> 0x12 | uVar17 * 0x4000) ^
              (uVar17 >> 7 | uVar17 * 0x2000000) ^ uVar17 >> 3) +
             uVar10 + uVar25 +
             ((uVar12 >> 0x13 | uVar12 * 0x2000) ^
              (uVar12 >> 0x11 | uVar12 * 0x8000) ^ uVar12 >> 10);
    iVar16 =
        ((uVar58 ^ uVar33) & uVar6 ^ uVar58) + uVar31 + 0x4ed8aa4a + uVar1 +
        ((uVar6 >> 0xb | uVar6 * 0x200000) ^ (uVar6 >> 6 | uVar6 * 0x4000000) ^
         (uVar6 >> 0x19 | uVar6 * 0x80));
    uVar11 = uVar11 + iVar16;
    uVar28 =
        ((uVar3 >> 0xd | uVar3 * 0x80000) ^ (uVar3 >> 2 | uVar3 * 0x40000000) ^
         (uVar3 >> 0x16 | uVar3 * 0x400)) +
        ((uVar7 | uVar3) & uVar48 | uVar7 & uVar3) + iVar16;
    uVar55 = ((uVar19 >> 0x12 | uVar19 * 0x4000) ^
              (uVar19 >> 7 | uVar19 * 0x2000000) ^ uVar19 >> 3) +
             uVar17 + uVar21 +
             ((uVar27 >> 0x13 | uVar27 * 0x2000) ^
              (uVar27 >> 0x11 | uVar27 * 0x8000) ^ uVar27 >> 10);
    iVar16 =
        ((uVar33 ^ uVar6) & uVar11 ^ uVar33) + uVar55 + 0x5b9cca4f + uVar58 +
        ((uVar11 >> 0xb | uVar11 * 0x200000) ^
         (uVar11 >> 6 | uVar11 * 0x4000000) ^ (uVar11 >> 0x19 | uVar11 * 0x80));
    uVar48 = uVar48 + iVar16;
    uVar1 = ((uVar15 >> 0x12 | uVar15 * 0x4000) ^
             (uVar15 >> 7 | uVar15 * 0x2000000) ^ uVar15 >> 3) +
            uVar19 + uVar5 +
            ((uVar31 >> 0x13 | uVar31 * 0x2000) ^
             (uVar31 >> 0x11 | uVar31 * 0x8000) ^ uVar31 >> 10);
    uVar9 = ((uVar28 >> 0xd | uVar28 * 0x80000) ^
             (uVar28 >> 2 | uVar28 * 0x40000000) ^
             (uVar28 >> 0x16 | uVar28 * 0x400)) +
            ((uVar3 | uVar28) & uVar7 | uVar3 & uVar28) + iVar16;
    iVar16 =
        ((uVar6 ^ uVar11) & uVar48 ^ uVar6) + uVar1 + 0x682e6ff3 + uVar33 +
        ((uVar48 >> 0xb | uVar48 * 0x200000) ^
         (uVar48 >> 6 | uVar48 * 0x4000000) ^ (uVar48 >> 0x19 | uVar48 * 0x80));
    uVar7 = uVar7 + iVar16;
    uVar33 =
        ((uVar9 >> 0xd | uVar9 * 0x80000) ^ (uVar9 >> 2 | uVar9 * 0x40000000) ^
         (uVar9 >> 0x16 | uVar9 * 0x400)) +
        ((uVar28 | uVar9) & uVar3 | uVar28 & uVar9) + iVar16;
    uVar15 = ((uVar4 >> 0x12 | uVar4 * 0x4000) ^
              (uVar4 >> 7 | uVar4 * 0x2000000) ^ uVar4 >> 3) +
             uVar15 + uVar29 +
             ((uVar55 >> 0x13 | uVar55 * 0x2000) ^
              (uVar55 >> 0x11 | uVar55 * 0x8000) ^ uVar55 >> 10);
    iVar16 =
        ((uVar11 ^ uVar48) & uVar7 ^ uVar11) + uVar15 + 0x748f82ee + uVar6 +
        ((uVar7 >> 0xb | uVar7 * 0x200000) ^ (uVar7 >> 6 | uVar7 * 0x4000000) ^
         (uVar7 >> 0x19 | uVar7 * 0x80));
    uVar3 = uVar3 + iVar16;
    uVar58 = ((uVar33 >> 0xd | uVar33 * 0x80000) ^
              (uVar33 >> 2 | uVar33 * 0x40000000) ^
              (uVar33 >> 0x16 | uVar33 * 0x400)) +
             ((uVar9 | uVar33) & uVar28 | uVar9 & uVar33) + iVar16;
    uVar29 = ((uVar18 >> 0x12 | uVar18 * 0x4000) ^
              (uVar18 >> 7 | uVar18 * 0x2000000) ^ uVar18 >> 3) +
             uVar4 + uVar34 +
             ((uVar1 >> 0x13 | uVar1 * 0x2000) ^
              (uVar1 >> 0x11 | uVar1 * 0x8000) ^ uVar1 >> 10);
    iVar16 =
        ((uVar48 ^ uVar7) & uVar3 ^ uVar48) + uVar29 + 0x78a5636f + uVar11 +
        ((uVar3 >> 0xb | uVar3 * 0x200000) ^ (uVar3 >> 6 | uVar3 * 0x4000000) ^
         (uVar3 >> 0x19 | uVar3 * 0x80));
    uVar28 = uVar28 + iVar16;
    uVar34 = ((uVar58 >> 0xd | uVar58 * 0x80000) ^
              (uVar58 >> 2 | uVar58 * 0x40000000) ^
              (uVar58 >> 0x16 | uVar58 * 0x400)) +
             ((uVar33 | uVar58) & uVar9 | uVar33 & uVar58) + iVar16;
    uVar11 = ((uVar13 >> 0x12 | uVar13 * 0x4000) ^
              (uVar13 >> 7 | uVar13 * 0x2000000) ^ uVar13 >> 3) +
             uVar18 + uVar12 +
             ((uVar15 >> 0x13 | uVar15 * 0x2000) ^
              (uVar15 >> 0x11 | uVar15 * 0x8000) ^ uVar15 >> 10);
    iVar16 =
        ((uVar7 ^ uVar3) & uVar28 ^ uVar7) + uVar11 + 0x84c87814 + uVar48 +
        ((uVar28 >> 0xb | uVar28 * 0x200000) ^
         (uVar28 >> 6 | uVar28 * 0x4000000) ^ (uVar28 >> 0x19 | uVar28 * 0x80));
    uVar9 = uVar9 + iVar16;
    uVar12 = ((uVar34 >> 0xd | uVar34 * 0x80000) ^
              (uVar34 >> 2 | uVar34 * 0x40000000) ^
              (uVar34 >> 0x16 | uVar34 * 0x400)) +
             ((uVar58 | uVar34) & uVar33 | uVar58 & uVar34) + iVar16;
    uVar48 = ((uVar8 >> 0x12 | uVar8 * 0x4000) ^
              (uVar8 >> 7 | uVar8 * 0x2000000) ^ uVar8 >> 3) +
             uVar13 + uVar27 +
             ((uVar29 >> 0x13 | uVar29 * 0x2000) ^
              (uVar29 >> 0x11 | uVar29 * 0x8000) ^ uVar29 >> 10);
    iVar16 =
        ((uVar3 ^ uVar28) & uVar9 ^ uVar3) + uVar48 + 0x8cc70208 + uVar7 +
        ((uVar9 >> 0xb | uVar9 * 0x200000) ^ (uVar9 >> 6 | uVar9 * 0x4000000) ^
         (uVar9 >> 0x19 | uVar9 * 0x80));
    uVar29 = ((uVar12 >> 0xd | uVar12 * 0x80000) ^
              (uVar12 >> 2 | uVar12 * 0x40000000) ^
              (uVar12 >> 0x16 | uVar12 * 0x400)) +
             ((uVar34 | uVar12) & uVar58 | uVar34 & uVar12) + iVar16;
    uVar33 = uVar33 + iVar16;
    uVar31 = ((uVar14 >> 0x12 | uVar14 * 0x4000) ^
              (uVar14 >> 7 | uVar14 * 0x2000000) ^ uVar14 >> 3) +
             uVar8 + uVar31 +
             ((uVar11 >> 0x13 | uVar11 * 0x2000) ^
              (uVar11 >> 0x11 | uVar11 * 0x8000) ^ uVar11 >> 10);
    iVar16 =
        ((uVar28 ^ uVar9) & uVar33 ^ uVar28) + uVar31 + 0x90befffa + uVar3 +
        ((uVar33 >> 0xb | uVar33 * 0x200000) ^
         (uVar33 >> 6 | uVar33 * 0x4000000) ^ (uVar33 >> 0x19 | uVar33 * 0x80));
    uVar13 = ((uVar29 >> 0xd | uVar29 * 0x80000) ^
              (uVar29 >> 2 | uVar29 * 0x40000000) ^
              (uVar29 >> 0x16 | uVar29 * 0x400)) +
             ((uVar12 | uVar29) & uVar34 | uVar12 & uVar29) + iVar16;
    uVar58 = uVar58 + iVar16;
    uVar55 = ((uVar25 >> 0x12 | uVar25 * 0x4000) ^
              (uVar25 >> 7 | uVar25 * 0x2000000) ^ uVar25 >> 3) +
             uVar14 + uVar55 +
             ((uVar48 >> 0x13 | uVar48 * 0x2000) ^
              (uVar48 >> 0x11 | uVar48 * 0x8000) ^ uVar48 >> 10);
    iVar16 =
        ((uVar9 ^ uVar33) & uVar58 ^ uVar9) + uVar55 + 0xa4506ceb + uVar28 +
        ((uVar58 >> 0xb | uVar58 * 0x200000) ^
         (uVar58 >> 6 | uVar58 * 0x4000000) ^ (uVar58 >> 0x19 | uVar58 * 0x80));
    uVar34 = uVar34 + iVar16;
    uVar48 = ((uVar13 >> 0xd | uVar13 * 0x80000) ^
              (uVar13 >> 2 | uVar13 * 0x40000000) ^
              (uVar13 >> 0x16 | uVar13 * 0x400)) +
             ((uVar29 | uVar13) & uVar12 | uVar29 & uVar13) + iVar16;
    iVar16 =
        ((uVar21 >> 0x12 | uVar21 * 0x4000) ^
         (uVar21 >> 7 | uVar21 * 0x2000000) ^ uVar21 >> 3) +
        uVar25 + 0xbef9a3f7 + uVar1 +
        ((uVar31 >> 0x13 | uVar31 * 0x2000) ^
         (uVar31 >> 0x11 | uVar31 * 0x8000) ^ uVar31 >> 10) +
        uVar9 + ((uVar33 ^ uVar58) & uVar34 ^ uVar33) +
        ((uVar34 >> 0xb | uVar34 * 0x200000) ^
         (uVar34 >> 6 | uVar34 * 0x4000000) ^ (uVar34 >> 0x19 | uVar34 * 0x80));
    uVar14 = ((uVar48 >> 0xd | uVar48 * 0x80000) ^
              (uVar48 >> 2 | uVar48 * 0x40000000) ^
              (uVar48 >> 0x16 | uVar48 * 0x400)) +
             ((uVar13 | uVar48) & uVar29 | uVar13 & uVar48) + iVar16;
    uVar12 = uVar12 + iVar16;
    iVar16 =
        ((uVar5 >> 0x12 | uVar5 * 0x4000) ^ (uVar5 >> 7 | uVar5 * 0x2000000) ^
         uVar5 >> 3) +
        uVar21 + 0xc67178f2 + uVar15 +
        ((uVar55 >> 0x13 | uVar55 * 0x2000) ^
         (uVar55 >> 0x11 | uVar55 * 0x8000) ^ uVar55 >> 10) +
        uVar33 + ((uVar58 ^ uVar34) & uVar12 ^ uVar58) +
        ((uVar12 >> 0xb | uVar12 * 0x200000) ^
         (uVar12 >> 6 | uVar12 * 0x4000000) ^ (uVar12 >> 0x19 | uVar12 * 0x80));
    *(uint *)(param_1 + 0x24) = *(int *)(param_1 + 0x24) + uVar58;
    *(uint *)(param_1 + 0x14) = *(int *)(param_1 + 0x14) + uVar13;
    *(uint *)(param_1 + 0x20) = uVar2 + uVar34;
    *(uint *)(param_1 + 0x10) = uVar30 + uVar48;
    *(uint *)(param_1 + 0xc) = uVar57 + uVar14;
    *(uint *)(param_1 + 0x1c) = uVar44 + uVar12;
    *(uint *)(param_1 + 8) = ((uVar14 >> 0xd | uVar14 * 0x80000) ^
                              (uVar14 >> 2 | uVar14 * 0x40000000) ^
                              (uVar14 >> 0x16 | uVar14 * 0x400)) +
                             ((uVar48 | uVar14) & uVar13 | uVar48 & uVar14) +
                             uVar35 + iVar16;
    *(uint *)(param_1 + 0x18) = uVar39 + uVar29 + iVar16;
    return;
}

void FUN_0001e4b4(uint *param_1, void *param_2, uint param_3)

{
    uint uVar1;
    uint uVar2;
    void *pvVar3;
    size_t __n;
    void *pvVar4;
    uint uVar5;
    bool bVar6;

    uVar2 = *param_1;
    bVar6 = CARRY4(uVar2, param_3);
    uVar1 = uVar2 + param_3;
    uVar5 = uVar2 & 0x3f;
    if (bVar6) {
        uVar2 = param_1[1];
    }
    __n = 0x40 - uVar5;
    *param_1 = uVar1;
    if (bVar6) {
        param_1[1] = uVar2 + 1;
    }
    if (uVar5 != 0 && (int)__n <= (int)param_3) {
        param_3 = param_3 - __n;
        memcpy((void *)((int)(param_1 + 10) + uVar5), param_2, __n);
        param_2 = (void *)((int)param_2 + __n);
        uVar5 = 0;
        FUN_0001c054(param_1, param_1 + 10);
    }
    if (0x3f < (int)param_3) {
        uVar1 = param_3 - 0x40 >> 6;
        pvVar4 = (void *)((int)param_2 + (uVar1 + 1) * 0x40);
        pvVar3 = param_2;
        do {
            param_2 = (void *)((int)pvVar3 + 0x40);
            FUN_0001c054(param_1, pvVar3);
            pvVar3 = param_2;
        } while (param_2 != pvVar4);
        param_3 = (param_3 - 0x40) + uVar1 * -0x40;
    }
    if (0 < (int)param_3) {
        memcpy((void *)((int)param_1 + uVar5 + 0x28), param_2, param_3);
        return;
    }
    return;
}

void FUN_0001e58c(uint *param_1, undefined1 *param_2)

{
    int iVar1;
    int iVar2;
    uint uVar3;
    int iVar4;
    uint uVar5;
    undefined1 local_18;
    undefined1 local_17;
    undefined1 local_16;
    byte local_15;
    undefined1 local_14;
    undefined1 local_13;
    undefined1 local_12;
    undefined1 local_11;

    uVar5 = *param_1;
    uVar3 = uVar5 & 0x3f;
    iVar1 = uVar5 << 3;
    iVar2 = param_1[1] << 3;
    local_15 = (byte)(uVar5 >> 0x1d) | (byte)iVar2;
    local_11 = (undefined1)iVar1;
    local_14 = (undefined1)((uint)iVar1 >> 0x18);
    local_17 = (undefined1)((uint)iVar2 >> 0x10);
    local_16 = (undefined1)((uint)iVar2 >> 8);
    local_13 = (undefined1)((uint)iVar1 >> 0x10);
    if (uVar3 < 0x38) {
        iVar4 = 0x38 - uVar3;
    } else {
        iVar4 = 0x78 - uVar3;
    }
    local_12 = (undefined1)((uint)iVar1 >> 8);
    local_18 = (undefined1)((uint)iVar2 >> 0x18);
    FUN_0001e4b4(param_1, &DAT_0007901c, iVar4);
    FUN_0001e4b4(param_1, &local_18, 8);
    *param_2 = *(undefined1 *)((int)param_1 + 0xb);
    param_2[1] = (char)*(undefined2 *)((int)param_1 + 10);
    param_2[2] = (char)(param_1[2] >> 8);
    param_2[3] = (char)param_1[2];
    param_2[4] = *(undefined1 *)((int)param_1 + 0xf);
    param_2[5] = (char)*(undefined2 *)((int)param_1 + 0xe);
    param_2[6] = (char)(param_1[3] >> 8);
    param_2[7] = (char)param_1[3];
    param_2[8] = *(undefined1 *)((int)param_1 + 0x13);
    param_2[9] = (char)*(undefined2 *)((int)param_1 + 0x12);
    param_2[10] = (char)(param_1[4] >> 8);
    param_2[0xb] = (char)param_1[4];
    param_2[0xc] = *(undefined1 *)((int)param_1 + 0x17);
    param_2[0xd] = (char)*(undefined2 *)((int)param_1 + 0x16);
    param_2[0xe] = (char)(param_1[5] >> 8);
    param_2[0xf] = (char)param_1[5];
    param_2[0x10] = *(undefined1 *)((int)param_1 + 0x1b);
    param_2[0x11] = (char)*(undefined2 *)((int)param_1 + 0x1a);
    param_2[0x12] = (char)(param_1[6] >> 8);
    param_2[0x13] = (char)param_1[6];
    param_2[0x14] = *(undefined1 *)((int)param_1 + 0x1f);
    param_2[0x15] = (char)*(undefined2 *)((int)param_1 + 0x1e);
    param_2[0x16] = (char)(param_1[7] >> 8);
    param_2[0x17] = (char)param_1[7];
    param_2[0x18] = *(undefined1 *)((int)param_1 + 0x23);
    param_2[0x19] = (char)*(undefined2 *)((int)param_1 + 0x22);
    param_2[0x1a] = (char)(param_1[8] >> 8);
    param_2[0x1b] = (char)param_1[8];
    param_2[0x1c] = *(undefined1 *)((int)param_1 + 0x27);
    param_2[0x1d] = (char)*(undefined2 *)((int)param_1 + 0x26);
    param_2[0x1e] = (char)(param_1[9] >> 8);
    param_2[0x1f] = (char)param_1[9];
    return;
}

void FUN_0001e740(undefined4 param_1, int param_2, undefined4 param_3)

{
    undefined4 local_f8;
    undefined4 local_f4;
    undefined4 local_f0;
    undefined4 local_ec;
    undefined4 local_e8;
    undefined4 local_e4;
    undefined4 local_e0;
    undefined4 local_dc;
    undefined4 local_d8;
    undefined4 local_d4;

    local_f0 = 0x6a09e667;
    local_e8 = 0x3c6ef372;
    local_e4 = 0xa54ff53a;
    local_e0 = 0x510e527f;
    local_dc = 0x9b05688c;
    local_ec = 0xbb67ae85;
    local_d8 = 0x1f83d9ab;
    local_d4 = 0x5be0cd19;
    local_f8 = 0;
    local_f4 = 0;
    if (0 < param_2) {
        FUN_0001e4b4(&local_f8, param_1, param_2);
    }
    FUN_0001e58c(&local_f8, param_3);
    return;
}

undefined4 FUN_0001e7e8(char *param_1, size_t param_2, undefined4 param_3)

{
    int iVar1;
    undefined4 uVar2;

    iVar1 = FUN_00036c34();
    if (iVar1 == 0) {
        snprintf(param_1, param_2, "%d", param_3);
        return 0;
    }
    if (iVar1 != 1) {
        snprintf(param_1, param_2, "searching");
        return 0;
    }
    uVar2 = FUN_00031abc();
    snprintf(param_1, param_2, "%s:%s", "searchfailed", uVar2);
    return 0;
}

void FUN_0001e884(char *param_1)

{
    undefined4 uVar1;
    int iVar2;
    int iVar3;
    char *__s;
    int iVar4;
    int iVar5;
    int iVar6;

    iVar6 = 0;
    uVar1 = FUN_0001a1b0();
    iVar5 = 0;
    iVar4 = 0;
    __s = param_1;
    do {
        while (iVar2 = iVar4 * 4, iVar4 = iVar4 + 1,
               *(int *)(DAT_000a0d68 + iVar2 + 4) != 0) {
            iVar6 = iVar6 + 1;
            iVar2 = sprintf(__s, "chain%d_voltage=%d;", iVar4, uVar1);
            iVar3 = sprintf(param_1 + iVar2 + iVar5, "chain%d_voladded=%d;",
                            iVar4, 0);
            iVar3 = iVar2 + iVar5 + iVar3;
            iVar5 =
                sprintf(param_1 + iVar3, "chain%d_basefreq=%d;", iVar4, 300);
            iVar3 = iVar3 + iVar5;
            iVar5 = sprintf(param_1 + iVar3, "chain%d_badcore=%d;", iVar4, 0);
            iVar5 = iVar3 + iVar5;
            __s = param_1 + iVar5;
            if (iVar4 == 0x10)
                goto LAB_0001e95c;
        }
    } while (iVar4 != 0x10);
LAB_0001e95c:
    iVar4 = sprintf(__s, "chainnum=%d;", iVar6);
    sprintf(param_1 + iVar5 + iVar4, "version=%s;", &DAT_001b07e4);
    return;
}

/* WARNING: Type propagation algorithm not settling */

uint FUN_0001e990(int param_1, char *param_2, undefined4 param_3)

{
    char *pcVar1;
    undefined4 uVar2;
    char *__haystack;
    int local_820[2];
    char local_818[12];
    undefined4 uStack_80c;
    undefined4 uStack_808;
    ushort local_804;
    undefined1 local_802;

    __haystack = (char *)(param_1 + 4);
    local_820[0] = -1;
    local_820[1] = 0xffffffff;
    pcVar1 = strstr(__haystack, "/rate");
    if (pcVar1 == (char *)0x0) {
        pcVar1 = strstr(__haystack, "/test");
        if (pcVar1 != (char *)0x0) {
            __isoc99_sscanf(__haystack, "/test.%d.%d", local_820,
                            local_820 + 1);
            if ((DAT_001aecc5 != 0) &&
                (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                  (6 < DAT_0009e320)))) {
                snprintf(local_818, 0x800, "cmd : get test = %d", local_820[0]);
                FUN_00047ab4(7, local_818, 0);
            }
            if (local_820[0] == 0x20b) {
                FUN_0001e884(param_2);
                return 0;
            }
            sprintf(param_2, "OK get test=%d");
            return 0;
        }
        pcVar1 = strstr(__haystack, "/ideal_rate");
        if (pcVar1 == (char *)0x0) {
            pcVar1 = strstr(__haystack, "/max_rate");
            if (pcVar1 == (char *)0x0) {
                pcVar1 = strstr(__haystack, "/miner_status");
                if (pcVar1 == (char *)0x0) {
                    pcVar1 = strstr(__haystack, "/productName");
                    if (pcVar1 == (char *)0x0) {
                        return 0xffffffff;
                    }
                    if ((DAT_001aecc5 != 0) &&
                        (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                          (6 < DAT_0009e320)))) {
                        builtin_strncpy(local_818, "cmd : get mi", 0xc);
                        uStack_80c._0_1_ = 'n';
                        uStack_80c._1_1_ = 'e';
                        uStack_80c._2_1_ = 'r';
                        uStack_80c._3_1_ = ' ';
                        uStack_808._0_1_ = 't';
                        uStack_808._1_1_ = 'y';
                        uStack_808._2_1_ = 'p';
                        uStack_808._3_1_ = 'e';
                        local_804 = local_804 & 0xff00;
                        FUN_00047ab4(7, local_818, 0);
                    }
                    snprintf(param_2, 0x100, "%s", &DAT_001b08e4);
                    return 0;
                }
                if (DAT_001aecc5 == 0) {
                    return 0;
                }
                if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                    (DAT_0009e320 < 7)) {
                    return 0;
                }
                builtin_strncpy(local_818, "cmd : get mi", 0xc);
                uStack_80c._0_1_ = 'n';
                uStack_80c._1_1_ = 'e';
                uStack_80c._2_1_ = 'r';
                uStack_80c._3_1_ = ' ';
                uStack_808._0_1_ = 's';
                uStack_808._1_1_ = 't';
                uStack_808._2_1_ = 'a';
                uStack_808._3_1_ = 't';
                local_804 = 0x7375;
                local_802 = 0;
                FUN_00047ab4(7, local_818, 0);
                return 0;
            }
            if ((DAT_001aecc5 != 0) &&
                (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                  (6 < DAT_0009e320)))) {
                builtin_strncpy(local_818, "cmd : get ma", 0xc);
                uStack_80c._0_1_ = 'x';
                uStack_80c._1_1_ = ' ';
                uStack_80c._2_1_ = 'r';
                uStack_80c._3_1_ = 'a';
                uStack_808._0_3_ = 0x6574;
                FUN_00047ab4(7, local_818, 0);
            }
            uVar2 = FUN_000301ec();
        } else {
            if ((DAT_001aecc5 != 0) &&
                (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                  (6 < DAT_0009e320)))) {
                builtin_strncpy(local_818, "cmd : get id", 0xc);
                uStack_80c._0_1_ = 'e';
                uStack_80c._1_1_ = 'a';
                uStack_80c._2_1_ = 'l';
                uStack_80c._3_1_ = ' ';
                uStack_808._0_1_ = 'r';
                uStack_808._1_1_ = 'a';
                uStack_808._2_1_ = 't';
                uStack_808._3_1_ = 'e';
                local_804 = local_804 & 0xff00;
                FUN_00047ab4(7, local_818, 0);
            }
            uVar2 = FUN_00030348();
        }
    } else {
        if ((DAT_001aecc5 != 0) &&
            (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
              (6 < DAT_0009e320)))) {
            builtin_strncpy(local_818, "cmd : get ra", 0xc);
            uStack_80c._0_3_ = 0x6574;
            FUN_00047ab4(7, local_818, 0);
        }
        uVar2 = FUN_0003047c();
    }
    FUN_0001e7e8(param_2, param_3, uVar2);
    return 0;
}

void FUN_0001ee10(void)

{
    DAT_000a0634 = FUN_0001e990;
    return;
}

/* WARNING: Type propagation algorithm not settling */

int FUN_0001ee28(int param_1)

{
    char *pcVar1;
    size_t sVar2;
    int iVar3;
    int iVar4;
    size_t sVar5;
    ssize_t sVar6;
    int *piVar7;
    int iVar8;
    uint uVar9;
    char *pcVar10;
    undefined2 local_6850;
    undefined1 local_684e;
    socklen_t local_684c;
    char local_6848[8];
    undefined4 local_6840;
    undefined4 local_683c;
    sockaddr sStack_6838;
    char local_6828[16];
    undefined4 local_6818;
    undefined4 uStack_6814;
    uint local_6810;
    char acStack_680c[12];
    uint local_6800;
    char acStack_67fc[16340];
    undefined4 local_2828;
    undefined4 uStack_2824;
    undefined4 uStack_2820;
    undefined4 uStack_281c;
    undefined4 local_2818;
    undefined4 local_2814;
    uint local_2810;
    undefined4 local_280c;
    uint local_2808;
    char acStack_2804[10208];

    local_6840 = 3;
    local_683c = 0;
    pcVar10 = acStack_67fc + 0x17d4;
    memset(acStack_67fc + 0x7d4, 0, 0x1000);
    local_684c = 0;
    local_684e = 0;
    local_6850 = 0xa0d;
    builtin_strncpy(local_6848, "\r\n\r\n", 5);
    iVar8 = 0;
    memset(acStack_67fc + 0x17d4, 0, 0x2800);
    do {
        if (DAT_000a0630 != '\0')
            goto LAB_0001ef20;
        sVar6 = recvfrom(param_1, pcVar10, 0x27ff - iVar8, 0, &sStack_6838,
                         &local_684c);
        iVar8 = iVar8 + sVar6;
        if (sVar6 < 1) {
            close(param_1);
            if (DAT_001aecc5 == '\0') {
                return 0;
            }
            if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                (DAT_0009e320 < 7)) {
                return 0;
            }
            local_2828._0_1_ = ':';
            local_2828._1_1_ = 's';
            local_2828._2_1_ = 't';
            local_2828._3_1_ = 'a';
            uStack_2824._0_1_ = 't';
            uStack_2824._1_1_ = 'u';
            uStack_2824._2_1_ = 's';
            uStack_2824._3_1_ = 'S';
            uStack_2820._0_1_ = 'e';
            uStack_2820._1_1_ = 'r';
            uStack_2820._2_1_ = 'v';
            uStack_2820._3_1_ = 'i';
            uStack_281c._0_1_ = 'c';
            uStack_281c._1_1_ = 'e';
            uStack_281c._2_1_ = 'T';
            uStack_281c._3_1_ = 'h';
            local_2818._0_1_ = 'r';
            local_2818._1_1_ = 'e';
            local_2818._2_1_ = 'a';
            local_2818._3_1_ = 'd';
            local_2814._0_1_ = ' ';
            local_2814._1_1_ = 'r';
            local_2814._2_1_ = 'e';
            local_2814._3_1_ = 'c';
            local_2810._0_1_ = 'v';
            local_2810._1_1_ = 'f';
            local_2810._2_1_ = 'r';
            local_2810._3_1_ = 'o';
            local_280c._0_1_ = 'm';
            local_280c._1_1_ = '<';
            local_280c._2_1_ = '=';
            local_280c._3_1_ = '0';
            local_2808 = local_2808 & 0xffffff00;
            FUN_00047ab4(7, &local_2828, 0);
            return 0;
        }
        pcVar10 = acStack_67fc + iVar8 + 0x17d4;
        if (0x27fe < iVar8) {
            close(param_1);
            if (DAT_001aecc5 == '\0') {
                return 0;
            }
            if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                (DAT_0009e320 < 7)) {
                return 0;
            }
            local_2828._0_1_ = 'B';
            local_2828._1_1_ = 'U';
            local_2828._2_1_ = 'F';
            local_2828._3_1_ = 'S';
            uStack_2824._0_1_ = 'I';
            uStack_2824._1_1_ = 'Z';
            uStack_2824._2_1_ = 'E';
            uStack_2824._3_1_ = ' ';
            uStack_2820._0_1_ = 'i';
            uStack_2820._1_1_ = 's';
            uStack_2820._2_1_ = ' ';
            uStack_2820._3_1_ = 't';
            uStack_281c._0_1_ = 'o';
            uStack_281c._1_1_ = 'o';
            uStack_281c._2_1_ = ' ';
            uStack_281c._3_1_ = 's';
            local_2818._0_1_ = 'm';
            local_2818._1_1_ = 'a';
            local_2818._2_1_ = 'l';
            local_2818._3_1_ = 'l';
            local_2814 = CONCAT22(local_2814._2_2_, 0x21);
            FUN_00047ab4(7, &local_2828, 0);
            return 0;
        }
        pcVar1 = strstr(acStack_67fc + 0x17d4, local_6848);
    } while (pcVar1 == (char *)0x0);
    if (DAT_001aecc5 != '\0') {
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 7)) {
        LAB_0001ef48:
            if ((DAT_001aecc4 != '\0') || (6 < DAT_0009e320)) {
            LAB_0001ef68:
                snprintf((char *)&local_2828, 0x800, "get http=%s",
                         acStack_67fc + 0x17d4);
                FUN_00047ab4(7, &local_2828, 0);
            }
        } else {
            local_2828._0_1_ = 'f';
            local_2828._1_1_ = 'i';
            local_2828._2_1_ = 'n';
            local_2828._3_1_ = 'd';
            uStack_2824._0_1_ = ' ';
            uStack_2824._1_1_ = 'h';
            uStack_2824._2_1_ = 't';
            uStack_2824._3_1_ = 't';
            uStack_2820._0_1_ = 'p';
            uStack_2820._1_1_ = ' ';
            uStack_2820._2_1_ = 'r';
            uStack_2820._3_1_ = 'e';
            uStack_281c._0_1_ = 'q';
            uStack_281c._1_1_ = 'u';
            uStack_281c._2_1_ = 'e';
            uStack_281c._3_1_ = 's';
            local_2818._0_1_ = 't';
            local_2818._1_1_ = ' ';
            local_2818._2_1_ = 'e';
            local_2818._3_1_ = 'n';
            local_2814._0_1_ = 'd';
            local_2814._1_1_ = ' ';
            local_2814._2_1_ = 'f';
            local_2814._3_1_ = 'l';
            local_2810._0_1_ = 'a';
            local_2810._1_1_ = 'g';
            local_2810._2_1_ = '!';
            local_2810._3_1_ = '\0';
            FUN_00047ab4(7, &local_2828, 0);
        LAB_0001ef20:
            if (DAT_001aecc5 != '\0') {
                if (DAT_00244080 == '\0')
                    goto LAB_0001ef48;
                goto LAB_0001ef68;
            }
        }
    }
    if ((((acStack_67fc[0x17d4] != 'G') || (acStack_67fc[0x17d5] != 'E')) ||
         (acStack_67fc[0x17d6] != 'T')) ||
        (acStack_67fc[0x17d7] != ' ')) {
        close(param_1);
        if ((DAT_001aecc5 != '\0') &&
            (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
              (6 < DAT_0009e320)))) {
            local_2828._0_1_ = 's';
            local_2828._1_1_ = 't';
            local_2828._2_1_ = 'a';
            local_2828._3_1_ = 't';
            uStack_2824._0_1_ = 'u';
            uStack_2824._1_1_ = 's';
            uStack_2824._2_1_ = 'S';
            uStack_2824._3_1_ = 'e';
            uStack_2820._0_1_ = 'r';
            uStack_2820._1_1_ = 'v';
            uStack_2820._2_1_ = 'i';
            uStack_2820._3_1_ = 'c';
            uStack_281c._0_1_ = 'e';
            uStack_281c._1_1_ = 'T';
            uStack_281c._2_1_ = 'h';
            uStack_281c._3_1_ = 'r';
            local_2818._0_1_ = 'e';
            local_2818._1_1_ = 'a';
            local_2818._2_1_ = 'd';
            local_2818._3_1_ = ' ';
            local_2814._0_1_ = 'n';
            local_2814._1_1_ = 'o';
            local_2814._2_1_ = 't';
            local_2814._3_1_ = ' ';
            local_2810._0_1_ = 's';
            local_2810._1_1_ = 'u';
            local_2810._2_1_ = 'p';
            local_2810._3_1_ = 'p';
            local_280c._0_1_ = 'o';
            local_280c._1_1_ = 'r';
            local_280c._2_1_ = 't';
            local_280c._3_1_ = ' ';
            local_2808._0_1_ = 'h';
            local_2808._1_1_ = 't';
            local_2808._2_1_ = 't';
            local_2808._3_1_ = 'p';
            builtin_strncpy(acStack_2804, " command", 8);
            pcVar1 = acStack_2804 + 8;
            pcVar10 = (char *)&local_2828;
        LAB_0001f044:
            *pcVar1 = '\0';
            FUN_00047ab4(7, pcVar10, 0);
        }
        return 0;
    }
    iVar8 = setsockopt(param_1, 1, 0x15, &local_6840, 8);
    if (iVar8 != 0) {
        close(param_1);
        if (DAT_001aecc5 == '\0') {
            return 0;
        }
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 7)) {
            return 0;
        }
        pcVar10 = "setsockopt SO_SNDTIMEO failed";
    LAB_0001f2c0:
        local_2828 = *(undefined4 *)pcVar10;
        uStack_2824 = *(undefined4 *)(pcVar10 + 4);
        uStack_2820 = *(undefined4 *)(pcVar10 + 8);
        uStack_281c = *(undefined4 *)(pcVar10 + 0xc);
        local_2818 = *(undefined4 *)(pcVar10 + 0x10);
        local_2814 = *(undefined4 *)(pcVar10 + 0x14);
        local_2810 = *(uint *)(pcVar10 + 0x18);
        local_280c =
            CONCAT22(local_280c._2_2_, (short)*(undefined4 *)(pcVar10 + 0x1c));
        FUN_00047ab4(7, &local_2828, 0);
        return 0;
    }
    iVar8 = setsockopt(param_1, 1, 0x14, &local_6840, 8);
    if (iVar8 != 0) {
        close(param_1);
        if (DAT_001aecc5 == '\0') {
            return 0;
        }
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 7)) {
            return 0;
        }
        pcVar10 = "setsockopt SO_RCVTIMEO failed";
        goto LAB_0001f2c0;
    }
    if (DAT_000a0634 == (code *)0x0) {
        if ((DAT_001aecc5 != '\0') &&
            (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
              (6 < DAT_0009e320)))) {
            local_2828._0_1_ = 'N';
            local_2828._1_1_ = 'o';
            local_2828._2_1_ = ' ';
            local_2828._3_1_ = '6';
            uStack_2824._0_1_ = '0';
            uStack_2824._1_1_ = '6';
            uStack_2824._2_1_ = '0';
            uStack_2824._3_1_ = ' ';
            uStack_2820._0_1_ = 't';
            uStack_2820._1_1_ = 'e';
            uStack_2820._2_1_ = 's';
            uStack_2820._3_1_ = 't';
            uStack_281c._0_1_ = ' ';
            uStack_281c._1_1_ = 'c';
            uStack_281c._2_1_ = 'a';
            uStack_281c._3_1_ = 's';
            local_2818._0_1_ = 'e';
            local_2818._1_1_ = ' ';
            local_2818._2_1_ = 'f';
            local_2818._3_1_ = 'o';
            local_2814._0_1_ = 'u';
            local_2814._1_1_ = 'n';
            local_2814._2_1_ = 'd';
            local_2814._3_1_ = '.';
            local_2810 = local_2810 & 0xffffff00;
            FUN_00047ab4(7, &local_2828, 0);
        }
    } else {
        iVar8 = (*DAT_000a0634)(acStack_67fc + 0x17d4, acStack_67fc + 0x7d4,
                                0x1000);
        if (iVar8 != 0) {
            close(param_1);
            if (DAT_001aecc5 == '\0') {
                return 0;
            }
            if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                (DAT_0009e320 < 7)) {
                return 0;
            }
            local_2828._0_1_ = 's';
            local_2828._1_1_ = 't';
            local_2828._2_1_ = 'a';
            local_2828._3_1_ = 't';
            uStack_2824._0_1_ = 'u';
            uStack_2824._1_1_ = 's';
            uStack_2824._2_1_ = 'S';
            uStack_2824._3_1_ = 'e';
            uStack_2820._0_1_ = 'r';
            uStack_2820._1_1_ = 'v';
            uStack_2820._2_1_ = 'i';
            uStack_2820._3_1_ = 'c';
            uStack_281c._0_1_ = 'e';
            uStack_281c._1_1_ = 'T';
            uStack_281c._2_1_ = 'h';
            uStack_281c._3_1_ = 'r';
            local_2818._0_1_ = 'e';
            local_2818._1_1_ = 'a';
            local_2818._2_1_ = 'd';
            local_2818._3_1_ = ' ';
            local_2814._0_1_ = 'e';
            local_2814._1_1_ = 'x';
            local_2814._2_1_ = 'i';
            local_2814._3_1_ = 't';
            local_2810._0_1_ = ' ';
            local_2810._1_1_ = 'f';
            local_2810._2_1_ = 'o';
            local_2810._3_1_ = 'r';
            local_280c._0_1_ = ' ';
            local_280c._1_1_ = 'E';
            local_280c._2_1_ = 'r';
            local_280c._3_1_ = 'r';
            local_2808._0_1_ = 'o';
            local_2808._1_1_ = 'r';
            local_2808._2_1_ = ' ';
            local_2808._3_1_ = 'c';
            builtin_strncpy(acStack_2804, "md!", 4);
            FUN_00047ab4(7, &local_2828, 0);
            return 0;
        }
    }
    sVar2 = strlen(acStack_67fc + 0x7d4);
    iVar8 = sprintf((char *)&local_2828, "HTTP/1.0  200  OK%s", &local_6850);
    iVar3 = sprintf((char *)((int)&local_2828 + iVar8),
                    "Server: SearchFreqServer%s", &local_6850);
    iVar4 = sprintf((char *)((int)&local_2828 + iVar8 + iVar3),
                    "Cache-Control: no-cache%s", &local_6850);
    iVar4 = iVar8 + iVar3 + iVar4;
    iVar8 = sprintf((char *)((int)&local_2828 + iVar4), "Pragma: no-cache%s",
                    &local_6850);
    iVar4 = iVar4 + iVar8;
    iVar8 = sprintf((char *)((int)&local_2828 + iVar4),
                    "Content-Type: text/plain%s", &local_6850);
    iVar4 = iVar4 + iVar8;
    iVar8 = sprintf((char *)((int)&local_2828 + iVar4), "Content-Length: %d%s",
                    sVar2, &local_6850);
    sprintf((char *)((int)&local_2828 + iVar4 + iVar8),
            "Connection: Keep-Alive%s", local_6848);
    if (DAT_001aecc5 == '\0') {
        if (DAT_000a0630 == '\0')
            goto LAB_0001f474;
    } else {
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 7)) {
            if (DAT_000a0630 == '\0') {
            LAB_0001f474:
                sVar5 = strlen((char *)&local_2828);
                uVar9 = 0;
                do {
                    sVar6 = send(param_1, (char *)((int)&local_2828 + uVar9),
                                 sVar5 - uVar9, 0);
                    if (sVar6 == -1) {
                        piVar7 = __errno_location();
                        if (*piVar7 != 0xb) {
                        LAB_0001f4fc:
                            close(param_1);
                            if (DAT_001aecc5 == '\0') {
                                return 0;
                            }
                            if (((DAT_00244080 == '\0') &&
                                 (DAT_001aecc4 == '\0')) &&
                                (DAT_0009e320 < 7)) {
                                return 0;
                            }
                            local_6828[0] = 's';
                            local_6828[1] = 't';
                            local_6828[2] = 'a';
                            local_6828[3] = 't';
                            local_6828[4] = 'u';
                            local_6828[5] = 's';
                            local_6828[6] = 'S';
                            local_6828[7] = 'e';
                            local_6828[8] = 'r';
                            local_6828[9] = 'v';
                            local_6828[10] = 'i';
                            local_6828[0xb] = 'c';
                            local_6828[0xc] = 'e';
                            local_6828[0xd] = 'T';
                            local_6828[0xe] = 'h';
                            local_6828[0xf] = 'r';
                            local_6818._0_1_ = 'e';
                            local_6818._1_1_ = 'a';
                            local_6818._2_1_ = 'd';
                            local_6818._3_1_ = ' ';
                            uStack_6814._0_1_ = 's';
                            uStack_6814._1_1_ = 'e';
                            uStack_6814._2_1_ = 'n';
                            uStack_6814._3_1_ = 'd';
                            local_6810._0_1_ = ' ';
                            local_6810._1_1_ = 'h';
                            local_6810._2_1_ = 't';
                            local_6810._3_1_ = 't';
                            acStack_680c[0] = 'p';
                            acStack_680c[1] = ' ';
                            acStack_680c[2] = 'r';
                            acStack_680c[3] = 'e';
                            acStack_680c[4] = 's';
                            acStack_680c[5] = 'p';
                            acStack_680c[6] = 'o';
                            acStack_680c[7] = 'n';
                            acStack_680c[8] = 's';
                            acStack_680c[9] = 'e';
                            acStack_680c[10] = ' ';
                            acStack_680c[0xb] = 'e';
                            local_6800._0_1_ = 'r';
                            local_6800._1_1_ = 'r';
                            local_6800._2_1_ = 'o';
                            local_6800._3_1_ = 'r';
                            pcVar1 = acStack_67fc;
                            pcVar10 = local_6828;
                            goto LAB_0001f044;
                        }
                        if ((DAT_001aecc5 != '\0') &&
                            (((DAT_00244080 != '\0' ||
                               (DAT_001aecc4 != '\0')) ||
                              (6 < DAT_0009e320)))) {
                            builtin_strncpy(local_6828, "statusServiceThr",
                                            0x10);
                            local_6818._0_1_ = 'e';
                            local_6818._1_1_ = 'a';
                            local_6818._2_1_ = 'd';
                            local_6818._3_1_ = ' ';
                            uStack_6814._0_1_ = 's';
                            uStack_6814._1_1_ = 'e';
                            uStack_6814._2_1_ = 'n';
                            uStack_6814._3_1_ = 'd';
                            local_6810._0_1_ = ' ';
                            local_6810._1_1_ = 'h';
                            local_6810._2_1_ = 't';
                            local_6810._3_1_ = 't';
                            builtin_strncpy(acStack_680c, "p timeout, t", 0xc);
                            local_6800._0_1_ = 'r';
                            local_6800._1_1_ = 'y';
                            local_6800._2_1_ = ' ';
                            local_6800._3_1_ = 'a';
                            builtin_strncpy(acStack_67fc, "gain...", 8);
                            FUN_00047ab4(7, local_6828, 0);
                        }
                        usleep(100000);
                    } else {
                        if (sVar6 < 1)
                            goto LAB_0001f4fc;
                        uVar9 = uVar9 + sVar6;
                    }
                    sVar5 = strlen((char *)&local_2828);
                } while ((uVar9 < sVar5) && (DAT_000a0630 == '\0'));
                goto LAB_0001f5bc;
            }
        } else {
            builtin_strncpy(local_6828, "send http respon", 0x10);
            local_6818._0_1_ = 's';
            local_6818._1_1_ = 'e';
            local_6818._2_1_ = '.';
            local_6818._3_1_ = '.';
            uStack_6814._0_3_ = 0xa2e;
            FUN_00047ab4(7, local_6828, 0);
            if (DAT_000a0630 == '\0')
                goto LAB_0001f474;
        LAB_0001f5bc:
            if (DAT_001aecc5 == '\0')
                goto LAB_0001f5d0;
        }
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (6 < DAT_0009e320)) {
            builtin_strncpy(local_6828, "send http data..", 0x10);
            local_6818._0_2_ = 0x2e;
            FUN_00047ab4(7, local_6828, 0);
        }
    }
LAB_0001f5d0:
    iVar8 = 0;
    while (true) {
        sVar6 = send(param_1, acStack_67fc + iVar8 + 0x7d4, sVar2 - iVar8, 0);
        if ((DAT_001aecc5 != '\0') &&
            (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
              (6 < DAT_0009e320)))) {
            snprintf(local_6828, 0x800, "send http data ret=%d", sVar6);
            FUN_00047ab4(7, local_6828, 0);
        }
        if (sVar6 < 1)
            break;
        iVar8 = iVar8 + sVar6;
        if (((int)sVar2 <= iVar8) || (DAT_000a0630 != '\0'))
            goto LAB_0001f710;
    }
    if (DAT_001aecc5 == '\0')
        goto LAB_0001f788;
    if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
        (DAT_0009e320 < 7))
        goto LAB_0001f738;
    builtin_strncpy(local_6828, "statusServiceThr", 0x10);
    local_6818._0_1_ = 'e';
    local_6818._1_1_ = 'a';
    local_6818._2_1_ = 'd';
    local_6818._3_1_ = ' ';
    uStack_6814._0_1_ = 's';
    uStack_6814._1_1_ = 'e';
    uStack_6814._2_1_ = 'n';
    uStack_6814._3_1_ = 'd';
    local_6810._0_1_ = ' ';
    local_6810._1_1_ = 'h';
    local_6810._2_1_ = 't';
    local_6810._3_1_ = 't';
    builtin_strncpy(acStack_680c, "p data error", 0xc);
    local_6800 = local_6800 & 0xffffff00;
    FUN_00047ab4(7, local_6828, 0);
LAB_0001f710:
    if (DAT_001aecc5 != '\0') {
        if (DAT_00244080 == '\0') {
        LAB_0001f738:
            if ((DAT_001aecc4 == '\0') && (DAT_0009e320 < 7))
                goto LAB_0001f788;
        }
        builtin_strncpy(local_6828, "one client disco", 0x10);
        local_6818._0_1_ = 'n';
        local_6818._1_1_ = 'n';
        local_6818._2_1_ = 'e';
        local_6818._3_1_ = 'c';
        uStack_6814._0_1_ = 't';
        uStack_6814._1_1_ = 'e';
        uStack_6814._2_1_ = 'd';
        uStack_6814._3_1_ = '!';
        local_6810 = local_6810 & 0xffffff00;
        FUN_00047ab4(7, local_6828, 0);
    }
LAB_0001f788:
    close(param_1);
    return iVar8;
}

undefined4 FUN_0001fa04(void)

{
    int iVar1;
    socklen_t local_84c;
    sockaddr local_848;
    sockaddr sStack_838;
    char local_828[24];
    uint local_810;
    char acStack_80c[12];
    undefined4 uStack_800;
    undefined2 local_7fc;
    undefined1 local_7fa;

    prctl(0xf, &DAT_00079488, 0, 0, 0);
    do {
        DAT_0009c290 = socket(2, 1, 6);
        if (DAT_0009c290 < 0) {
            if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                (4 < DAT_0009e320)) {
                builtin_strncpy(local_828, "socket creating failed, ", 0x18);
                local_810._0_1_ = 't';
                local_810._1_1_ = 'r';
                local_810._2_1_ = 'y';
                local_810._3_1_ = ' ';
                builtin_strncpy(acStack_80c, "again after ", 0xc);
                uStack_800._0_1_ = '1';
                uStack_800._1_1_ = '0';
                uStack_800._2_1_ = 's';
                uStack_800._3_1_ = '.';
                local_7fc = 0x2e2e;
                local_7fa = 0;
                FUN_00047ab4(5, local_828, 0);
            }
            sleep(10);
        } else {
            local_848.sa_data[6] = '\0';
            local_848.sa_data[7] = '\0';
            local_848.sa_data[8] = '\0';
            local_848.sa_data[9] = '\0';
            local_848.sa_data[10] = '\0';
            local_848.sa_data[0xb] = '\0';
            local_848.sa_data[0xc] = '\0';
            local_848.sa_data[0xd] = '\0';
            local_848.sa_family = 2;
            local_848.sa_data[0] = '\x17';
            local_848.sa_data[1] = -0x54;
            local_848.sa_data[2] = '\0';
            local_848.sa_data[3] = '\0';
            local_848.sa_data[4] = '\0';
            local_848.sa_data[5] = '\0';
            iVar1 = bind(DAT_0009c290, &local_848, 0x10);
            if (iVar1 < 0) {
                if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                    (4 < DAT_0009e320)) {
                    builtin_strncpy(local_828, "http port bind failed! t",
                                    0x18);
                    local_810._0_1_ = 'r';
                    local_810._1_1_ = 'y';
                    local_810._2_1_ = ' ';
                    local_810._3_1_ = 'a';
                    builtin_strncpy(acStack_80c, "gain after 1", 0xc);
                    uStack_800._0_1_ = '0';
                    uStack_800._1_1_ = 's';
                    uStack_800._2_1_ = '.';
                    uStack_800._3_1_ = '.';
                    local_7fc = 0x2e;
                    FUN_00047ab4(5, local_828, 0);
                }
            } else {
                iVar1 = listen(DAT_0009c290, 100);
                if (-1 < iVar1)
                    break;
                if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                    (4 < DAT_0009e320)) {
                    builtin_strncpy(local_828, "http listen failed! try ",
                                    0x18);
                    local_810._0_1_ = 'a';
                    local_810._1_1_ = 'g';
                    local_810._2_1_ = 'a';
                    local_810._3_1_ = 'i';
                    builtin_strncpy(acStack_80c, "n after 10s.", 0xc);
                    uStack_800._0_3_ = 0x2e2e;
                    FUN_00047ab4(5, local_828, 0);
                }
            }
            close(DAT_0009c290);
            DAT_0009c290 = -1;
            sleep(10);
        }
    } while (DAT_000a0630 == '\0');
    if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
        (4 < DAT_0009e320)) {
        builtin_strncpy(local_828, "start listen on 6060 ...", 0x18);
        local_810 = local_810 & 0xffffff00;
        FUN_00047ab4(5, local_828, 0);
    }
    do {
        do {
            if (DAT_000a0630 != '\0') {
            LAB_0001fbe4:
                close(DAT_0009c290);
                DAT_0009c290 = 0xffffffff;
                return 0;
            }
            usleep(10000);
            local_84c = 0x10;
            iVar1 = accept(DAT_0009c290, &sStack_838, &local_84c);
        } while (iVar1 == -1);
        if (DAT_000a0630 != '\0') {
            close(iVar1);
            goto LAB_0001fbe4;
        }
        if ((DAT_001aecc5 != '\0') &&
            (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
              (6 < DAT_0009e320)))) {
            snprintf(local_828, 0x800, "one client connected sock=%d", iVar1);
            FUN_00047ab4(7, local_828, 0);
        }
        FUN_0001ee28(iVar1);
    } while (true);
}

void FUN_0001fd84(void)

{
    int iVar1;
    pthread_t pStack_830;
    pthread_attr_t pStack_82c;
    char local_808[2048];

    if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
        (4 < DAT_0009e320)) {
        builtin_strncpy(local_808, "start the http log.\n", 0x14);
        local_808[0x14] = 0;
        FUN_00047ab4(5, local_808, 0);
    }
    pthread_attr_init(&pStack_82c);
    pthread_attr_setstacksize(&pStack_82c, 0x200000);
    iVar1 = pthread_create(&pStack_830, &pStack_82c, FUN_0001fa04, (void *)0x0);
    if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
        (DAT_0009e320 < 5)) {
        return;
    }
    snprintf(local_808, 0x800, "httpListenThread start ret=%d", iVar1);
    FUN_00047ab4(5, local_808, 0);
    return;
}

char *FUN_0001fea0(char *param_1)

{
    char cVar1;
    int iVar2;
    char *pcVar3;
    size_t sVar4;
    size_t sVar5;
    hostent *phVar6;
    int iVar7;
    ssize_t sVar8;
    long lVar9;
    char *__dest;
    uint uVar10;
    undefined4 local_2020;
    undefined4 local_201c;
    char acStack_2018[1023];
    undefined1 auStack_1c19[1025];
    sockaddr local_1818;
    undefined4 local_1808;
    undefined4 uStack_1804;
    undefined2 local_1800;
    char acStack_1018[4096];

    memset(acStack_1018, 0, 0x1000);
    memset(acStack_2018, 0, 0x400);
    memset(auStack_1c19 + 1, 0, 0x400);
    if (param_1 == (char *)0x0) {
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (4 < DAT_0009e320)) {
            local_1818._0_4_ = 0x206c7275;
            builtin_strncpy(local_1818.sa_data + 2, "is null!", 8);
            local_1818.sa_data._10_2_ = 10;
            FUN_00047ab4(5, &local_1818, 0);
            return (char *)0x0;
        }
    } else {
        iVar2 = strncmp(param_1, "http://", 7);
        if (iVar2 != 0) {
            if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                (DAT_0009e320 < 5)) {
                return (char *)0x0;
            }
            local_1818._0_4_ = 0x73726170;
            builtin_strncpy(local_1818.sa_data + 2, "e url failed", 0xc);
            local_1808 = CONCAT13(local_1808._3_1_, 0xa21);
            FUN_00047ab4(5, &local_1818, 0);
            return (char *)0x0;
        }
        param_1 = param_1 + 7;
        pcVar3 = strchr(param_1, 0x2f);
        sVar4 = strlen(param_1);
        if (pcVar3 == (char *)0x0) {
            memcpy(acStack_2018, param_1, sVar4);
            acStack_2018[sVar4] = '\0';
        } else {
            sVar5 = strlen(pcVar3);
            memcpy(acStack_2018, param_1, sVar4 - sVar5);
            cVar1 = pcVar3[1];
            acStack_2018[sVar4 - sVar5] = '\0';
            if (cVar1 != '\0') {
                memcpy(auStack_1c19 + 1, pcVar3 + 1, sVar5 - 1);
                auStack_1c19[sVar5] = 0;
            }
        }
        pcVar3 = strchr(acStack_2018, 0x3a);
        if (pcVar3 == (char *)0x0) {
            uVar10 = 0x50;
        } else {
            *pcVar3 = '\0';
            uVar10 = strtol(pcVar3 + 1, (char **)0x0, 10);
        }
        phVar6 = gethostbyname(acStack_2018);
        if (phVar6 != (hostent *)0x0) {
            local_1818.sa_data._0_2_ =
                (ushort)((uVar10 & 0xff) << 8) | (ushort)(uVar10 >> 8) & 0xff;
            local_1818.sa_family = 2;
            local_1818.sa_data._2_4_ = *(undefined4 *)*phVar6->h_addr_list;
            iVar2 = socket(2, 1, 0);
            if (iVar2 != -1) {
                local_2020 = 10;
                local_201c = 0;
                iVar7 = setsockopt(iVar2, 1, 0x15, &local_2020, 8);
                if (((iVar7 == 0) &&
                     (iVar7 = setsockopt(iVar2, 1, 0x14, &local_2020, 8),
                      iVar7 == 0)) &&
                    ((iVar7 = connect(iVar2, &local_1818, 0x10),
                      iVar7 != -1 && (-1 < iVar2)))) {
                    sprintf(acStack_1018,
                            "GET /%s HTTP/1.1\r\nHOST: %s:%d\r\nAccept: "
                            "*/*\r\n\r\n",
                            auStack_1c19 + 1, acStack_2018, uVar10);
                    sVar4 = strlen(acStack_1018);
                    iVar7 = 0;
                    if (sVar4 != 0) {
                        do {
                            sVar8 = send(iVar2, acStack_1018 + iVar7,
                                         sVar4 - iVar7, 0);
                            iVar7 = iVar7 + sVar8;
                            if (sVar8 == -1) {
                                if (((DAT_00244080 == '\0') &&
                                     (DAT_001aecc4 == '\0')) &&
                                    (DAT_0009e320 < 5)) {
                                    return (char *)0x0;
                                }
                                pcVar3 = "tcp client send failed\n";
                                goto LAB_000200fc;
                            }
                        } while (iVar7 < (int)sVar4);
                    }
                    sVar8 = recv(iVar2, acStack_1018, 0x1000, 0);
                    if (0 < sVar8) {
                        close(iVar2);
                        pcVar3 = strstr(acStack_1018, "HTTP/1.1");
                        if (pcVar3 == (char *)0x0) {
                            return (char *)0x0;
                        }
                        lVar9 = strtol(pcVar3 + 9, (char **)0x0, 10);
                        if (lVar9 != 200) {
                            return (char *)0x0;
                        }
                        pcVar3 = strstr(acStack_1018, "\r\n\r\n");
                        if (pcVar3 == (char *)0x0) {
                            return (char *)0x0;
                        }
                        sVar4 = strlen(pcVar3);
                        __dest = (char *)malloc(sVar4 + 1);
                        if (__dest == (char *)0x0) {
                            return (char *)0x0;
                        }
                        strcpy(__dest, pcVar3 + 4);
                        return __dest;
                    }
                    if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                        (DAT_0009e320 < 5)) {
                        return (char *)0x0;
                    }
                    pcVar3 = "tcp client recv failed\n";
                LAB_000200fc:
                    local_1818._0_4_ = *(undefined4 *)pcVar3;
                    local_1818.sa_data._2_4_ = *(undefined4 *)(pcVar3 + 4);
                    local_1818.sa_data._6_4_ = *(undefined4 *)(pcVar3 + 8);
                    local_1818.sa_data._10_4_ = *(undefined4 *)(pcVar3 + 0xc);
                    local_1808 = *(undefined4 *)(pcVar3 + 0x10);
                    uStack_1804 = *(undefined4 *)(pcVar3 + 0x14);
                    FUN_00047ab4(5, &local_1818, 0);
                    return (char *)0x0;
                }
            }
        }
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (4 < DAT_0009e320)) {
            local_1818._0_4_ = 0x20706374;
            builtin_strncpy(local_1818.sa_data + 2, "client creat", 0xc);
            local_1808._0_1_ = 'e';
            local_1808._1_1_ = ' ';
            local_1808._2_1_ = 'f';
            local_1808._3_1_ = 'a';
            uStack_1804._0_1_ = 'i';
            uStack_1804._1_1_ = 'l';
            uStack_1804._2_1_ = 'e';
            uStack_1804._3_1_ = 'd';
            local_1800 = 10;
            FUN_00047ab4(5, &local_1818, 0);
            return (char *)0x0;
        }
    }
    return (char *)0x0;
}

int FUN_000203c8(char *param_1)

{
    int __fd;
    int iVar1;
    int iVar2;
    char *__src;
    undefined1 *puVar3;
    uint uVar4;
    bool bVar5;
    uint local_228;
    undefined1 *puStack_224;
    undefined1 auStack_220[512];

    __fd = socket(2, 2, 0);
    if (__fd < 0) {
        iVar1 = -1;
    } else {
        local_228 = 0x200;
        puStack_224 = auStack_220;
        iVar1 = ioctl(__fd, 0x8912, &local_228);
        if (iVar1 == 0) {
            iVar1 = -1;
            uVar4 = local_228 >> 5;
            puVar3 = auStack_220 + (uVar4 - 1) * 0x20;
            while (bVar5 = uVar4 != 0, uVar4 = uVar4 - 1, bVar5) {
                iVar2 = ioctl(__fd, 0x8915, puVar3);
                if ((iVar2 == 0) &&
                    (__src =
                         inet_ntoa((in_addr) * (in_addr_t *)(puVar3 + 0x14)),
                     __src != (char *)0x0)) {
                    strcpy(param_1, __src);
                    iVar1 = strcmp("127.0.0.1", param_1);
                    if (iVar1 != 0) {
                        iVar1 = 0;
                        break;
                    }
                }
                puVar3 = puVar3 + -0x20;
            }
        } else {
            iVar1 = -1;
        }
        close(__fd);
    }
    return iVar1;
}

void FUN_000204a8(void)

{
    int iVar1;
    uint uVar2;
    uint uVar3;
    int local_868[16];
    char acStack_828[2052];

    memset(local_868, 0, 0x40);
    prctl(0xf, "heart_beat", 0, 0, 0);
    do {
        pthread_setcancelstate(1, (int *)0x0);
        uVar2 = 0;
        do {
            while (*(int *)(DAT_000a0d68 + uVar2 * 4 + 4) != 1) {
            LAB_00020518:
                uVar2 = uVar2 + 1;
                if (uVar2 == 0x10)
                    goto LAB_000205a0;
            }
            FUN_0004a804(10);
            iVar1 = FUN_000197a0(uVar2 & 0xff);
            if (iVar1 != 0) {
                local_868[uVar2] = 0;
                goto LAB_00020518;
            }
            iVar1 = local_868[uVar2] + 1;
            local_868[uVar2] = iVar1;
            if (DAT_0009e31c < 2)
                goto LAB_00020518;
            uVar3 = uVar2 + 1;
            snprintf(acStack_828, 0x800,
                     "chain[%d] heart beat fail %d times.\n", uVar2, iVar1);
            FUN_00047ab4(1, acStack_828, 0);
            uVar2 = uVar3;
        } while (uVar3 != 0x10);
    LAB_000205a0:
        pthread_setcancelstate(0, (int *)0x0);
        pthread_testcancel();
        sleep(10);
    } while (true);
}

undefined4 FUN_000205bc(void)

{
    uint uVar1;
    int iVar2;
    int iVar3;
    uint uVar4;
    int iVar5;
    uint *puVar6;
    uint *puVar7;
    bool bVar8;
    undefined8 uVar9;
    uint uStack_8f4;
    uint local_8f0[52];
    uint local_820;
    char acStack_81c[2044];

    iVar3 = 0;
    do {
        if (*(int *)(DAT_000a0d68 + iVar3 * 4 + 4) == 1) {
            puVar6 = &uStack_8f4;
            uVar4 = 0;
            iVar5 = 0;
            iVar2 = 0;
            do {
                uVar1 = FUN_0002f530(iVar3, iVar2);
                iVar2 = iVar2 + 1;
                bVar8 = CARRY4(uVar4, uVar1);
                uVar4 = uVar4 + uVar1;
                iVar5 = iVar5 + (uint)bVar8;
                puVar6 = puVar6 + 1;
                *puVar6 = uVar1;
            } while (iVar2 != 0x34);
            if (iVar5 != 0 || 259999 < uVar4) {
                uVar9 = FUN_00077910(uVar4, iVar5, 0x68, 0);
                iVar2 = (int)((ulonglong)uVar9 >> 0x20);
                puVar6 = local_8f0;
                do {
                    puVar7 = puVar6 + 1;
                    bVar8 = iVar2 == 0;
                    if (iVar2 == 0) {
                        bVar8 = (uint)uVar9 <= *puVar6;
                    }
                    if (!bVar8) {
                        if (3 < DAT_0009e31c) {
                            local_820._0_1_ = 'D';
                            local_820._1_1_ = 'o';
                            local_820._2_1_ = 'm';
                            local_820._3_1_ = 'a';
                            builtin_strncpy(acStack_81c,
                                            "in unbalance happened!\n", 0x18);
                            FUN_00047ab4(3, &local_820, 0);
                            return 1;
                        }
                        return 1;
                    }
                    puVar6 = puVar7;
                } while (&local_820 != puVar7);
            }
        }
        iVar3 = iVar3 + 1;
        if (iVar3 == 0x10) {
            return 0;
        }
    } while (true);
}

void FUN_000206e0(void)

{
    int iVar1;
    int iVar2;
    int iVar3;
    int iVar4;
    int iVar5;
    int iVar6;
    int iVar7;
    int iVar8;
    int iVar9;
    int iVar10;
    bool bVar11;
    bool bVar12;
    int local_838;
    int local_834;
    int local_830;
    int local_82c;
    char acStack_828[2052];

    iVar7 = 0;
    FUN_000175f4(&local_838);
    iVar8 = 0;
    iVar1 = FUN_000169e4();
    iVar2 = FUN_00016b30();
    iVar10 = 0;
    do {
        while (*(int *)(DAT_000a0d68 + iVar10 * 4 + 4) != 1) {
            iVar10 = iVar10 + 1;
            if (iVar10 == 0x10)
                goto LAB_0002079c;
        }
        iVar3 = FUN_00016c84(iVar10);
        iVar4 = FUN_00016de4(iVar10);
        if ((&DAT_000a0638)[iVar10] == 0) {
            iVar9 = (&DAT_000a0678)[iVar10];
            iVar5 = iVar9;
            if (iVar9 != 0) {
                iVar9 = iVar4 - iVar9;
                iVar5 = iVar3;
            }
        } else {
            iVar9 = iVar4 - (&DAT_000a0678)[iVar10];
            iVar5 = iVar3 - (&DAT_000a0638)[iVar10];
        }
        iVar6 = iVar10 + 1;
        if (iVar8 < iVar5) {
            iVar8 = iVar5;
        }
        if (iVar7 < iVar9) {
            iVar7 = iVar9;
        }
        (&DAT_000a0638)[iVar10] = iVar3;
        (&DAT_000a0678)[iVar10] = iVar4;
        iVar10 = iVar6;
    } while (iVar6 != 0x10);
LAB_0002079c:
    if (DAT_000a06b8 == '\0') {
        iVar10 = 0x62;
        iVar3 = 0x55;
        local_838 = local_834;
        local_830 = local_82c;
    } else {
        iVar10 = 0x5f;
        iVar3 = 0x50;
    }
    bVar12 = SBORROW4(iVar2, iVar10);
    iVar4 = iVar2 - iVar10;
    bVar11 = iVar2 == iVar10;
    if (iVar2 <= iVar10) {
        bVar12 = SBORROW4(iVar1, iVar3);
        iVar4 = iVar1 - iVar3;
        bVar11 = iVar1 == iVar3;
    }
    if (bVar11 || iVar4 < 0 != bVar12) {
        bVar12 = SBORROW4(iVar7, local_830);
        iVar4 = iVar7 - local_830;
        bVar11 = iVar7 == local_830;
        if (iVar7 <= local_830) {
            bVar12 = SBORROW4(iVar8, local_838);
            iVar4 = iVar8 - local_838;
            bVar11 = iVar8 == local_838;
        }
        if (bVar11 || iVar4 < 0 != bVar12) {
            return;
        }
    }
    if (3 < DAT_0009e31c) {
        snprintf(acStack_828, 0x800,
                 "over max temp, pcb temp %d (max %d), chip temp %d(max %d) "
                 "pcb temp rise %d (max %d) chip temp rise %d (max %d)\n",
                 iVar1, iVar3, iVar2, iVar10, iVar8, local_838, iVar7,
                 local_830);
        FUN_00047ab4(3, acStack_828, 0);
    }
    FUN_000226c0(0xe, "over max temp");
    return;
}

void FUN_00020880(void)

{
    uint uVar1;
    uint uVar2;

    FUN_0001758c();
    uVar2 = 0;
    prctl(0xf, "temp_mtr", 0, 0, 0);
    do {
        pthread_mutex_lock((pthread_mutex_t *)&DAT_000a0db0);
        FUN_00015e90(1);
        uVar1 = uVar2 & 3;
        uVar2 = uVar2 + 1;
        if ((uVar1 == 0) || (DAT_000a06b8 == '\0')) {
            FUN_0001409c();
        }
        FUN_00013c54(400, 0);
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_000a0db0);
        FUN_0004a804(1000);
    } while (true);
}

void FUN_0002090c(void)

{
    uint uVar1;
    int iVar2;
    uint uVar3;
    undefined1 auStack_20[3];
    char local_1d;

    uVar1 = FUN_000702ac();
    FUN_000702cc(uVar1 | 0x10000);
    prctl(0xf, "nonce_reg_process", 0, 0, 0);
    do {
        iVar2 = FUN_0006fd6c();
        uVar1 = (uint)(iVar2 << 0x17) >> 0x18;
        if (uVar1 != 0) {
            uVar3 = 0;
            do {
                while (true) {
                    FUN_0006fdc4(auStack_20);
                    if (-1 < local_1d)
                        break;
                    uVar3 = uVar3 + 1;
                    FUN_0002ee74();
                    if (uVar1 == uVar3)
                        goto LAB_0002098c;
                }
                uVar3 = uVar3 + 1;
                FUN_0002f194(auStack_20);
            } while (uVar1 != uVar3);
        }
    LAB_0002098c:
        FUN_0004a804(1);
    } while (true);
}

void FUN_00020998(void)

{
    int *piVar1;
    char *pcVar2;
    int __errnum;
    char acStack_808[2048];

    if (3 < DAT_0009e31c) {
        piVar1 = __errno_location();
        __errnum = *piVar1;
        pcVar2 = strerror(__errnum);
        snprintf(acStack_808, 0x800,
                 "Failed to get sysinfo, errno = %u, reason = %s.\n", __errnum,
                 pcVar2);
        FUN_00047ab4(3, acStack_808, 0);
    }
    time((time_t *)0x0);
    return;
}

undefined4 FUN_00020a08(void)

{
    int iVar1;
    undefined4 uVar2;
    sysinfo local_48;

    iVar1 = sysinfo(&local_48);
    if (iVar1 != 0) {
        uVar2 = FUN_00020998();
        return uVar2;
    }
    return local_48.uptime;
}

void FUN_00020a38(void)

{
    uint uVar1;
    int iVar2;
    int iVar3;
    int iVar4;
    double dVar5;
    char acStack_818[2052];

    iVar3 = FUN_00020a08();
    iVar2 = DAT_00241d54;
    uVar1 = DAT_00241d50;
    iVar4 = iVar3 - DAT_000a06bc;
    DAT_000a06bc = iVar3;
    dVar5 = (double)FUN_000778a4(
        DAT_00241d50 - DAT_000a06c0,
        DAT_00241d54 - (DAT_000a06c4 + (uint)(DAT_00241d50 < DAT_000a06c0)));
    DAT_000a06c0 = uVar1;
    DAT_000a06c4 = iVar2;
    DAT_00241d48 =
        ((dVar5 * 4294967295.0) / 1000000000.0) / (double)(longlong)iVar4;
    if (3 < DAT_0009e31c) {
        snprintf(acStack_818, 0x800, "avg rate is %0.2f in %ld mins\n",
                 iVar4 >> 0x1f, DAT_00241d48, iVar4 / 0x3c);
        FUN_00047ab4(3, acStack_818, 0);
    }
    return;
}

void FUN_00020b28(void)

{
    DAT_000a06c8 = FUN_00020a08();
    DAT_000a06bc = FUN_00020a08();
    return;
}

undefined4 FUN_00020b48(void)

{
    int iVar1;
    uint uVar2;
    undefined4 uVar3;
    undefined4 uVar4;
    int iVar5;
    int iVar6;
    undefined8 uVar7;
    char local_828[56];
    undefined2 uStack_7f0;
    undefined1 local_7ee;

    iVar1 = FUN_00016940();
    if ((7 < iVar1) && (iVar1 = FUN_0003047c(),
                        DAT_00241d48 < (double)(longlong)iVar1 * 0.98)) {
        uVar2 = FUN_00016940();
        uVar3 = FUN_00030524(uVar2, 1);
        uVar4 = FUN_000312d8();
        iVar1 = FUN_0003050c(uVar4, 0);
        iVar5 = FUN_0001a1b0();
        iVar6 = FUN_0001a1c0();
        if (3 < DAT_0009e31c) {
            uVar7 = 0x3fef5c28f5c28f5c;
            snprintf(local_828, 0x800, "latest avg rate < %.2f......\n",
                     DAT_0009e31c, 0x3fef5c28f5c28f5c);
            FUN_00047ab4(3, local_828, 0);
            if (3 < DAT_0009e31c) {
                snprintf(local_828, 0x800, "current PCB min temperature %d\n",
                         uVar2, uVar7);
                FUN_00047ab4(3, local_828, 0);
                if (3 < DAT_0009e31c) {
                    snprintf(local_828, 0x800,
                             "current voltage raw is %d, working voltage raw "
                             "is %d\n",
                             iVar6, iVar5);
                    FUN_00047ab4(3, local_828, 0);
                }
            }
        }
        if (uVar2 < 0x17) {
            if (iVar5 == iVar6) {
                if (DAT_000a06cc == '\0') {
                    iVar1 = FUN_00030540(iVar1, uVar3);
                } else {
                    iVar1 = FUN_0003055c();
                }
                if (iVar5 + 99 < iVar1) {
                    iVar1 = iVar5 + 100;
                }
                if (DAT_0009e31c < 4) {
                    DAT_000a06b8 = 0;
                } else {
                    snprintf(
                        local_828, 0x800,
                        "low temp, increase voltage to higher voltage %d\n",
                        iVar1);
                    FUN_00047ab4(3, local_828, 0);
                    DAT_000a06b8 = 0;
                }
            LAB_00020ca0:
                iVar1 = FUN_000257e4();
                if (iVar1 != 0) {
                    FUN_000226c0(4, "reopen core failed!");
                }
                FUN_00020b28();
                return 0xffffffff;
            }
            if (3 < DAT_0009e31c) {
                builtin_strncpy(
                    local_828,
                    "low temp, voltage has already increased to higher voltag",
                    0x38);
                uStack_7f0 = 0xa65;
                local_7ee = 0;
                FUN_00047ab4(3, local_828, 0);
                return 0;
            }
        } else {
            if (DAT_000a06cc == '\0') {
                if (iVar1 < 2) {
                    iVar1 = 0x14;
                } else {
                    iVar1 = 10;
                }
                if (3 < DAT_0009e31c) {
                    snprintf(local_828, 0x800,
                             "high temp, increase voltage 0.1V/0.2V to %d\n",
                             iVar1 + iVar6);
                    FUN_00047ab4(3, local_828, 0);
                }
                DAT_000a06cc = '\x01';
                DAT_000a06b8 = 0;
                FUN_0001a0f0(iVar1 + iVar6);
                goto LAB_00020ca0;
            }
            if (3 < DAT_0009e31c) {
                builtin_strncpy(
                    local_828,
                    "high temp, voltage has already increased 0.1V/0.2V\n",
                    0x34);
                FUN_00047ab4(3, local_828, 0);
            }
        }
    }
    return 0;
}

void FUN_00020e60(void)

{
    int iVar1;

    iVar1 = FUN_00016940();
    if (iVar1 < 8) {
        return;
    }
    iVar1 = FUN_0003047c();
    if ((double)(longlong)iVar1 * 0.95 <= DAT_00241d48) {
        return;
    }
    iVar1 = FUN_000205bc();
    if (iVar1 == 0) {
        return;
    }
    FUN_000226c0(10, "Unbalance happened, reboot!\n");
    return;
}

int FUN_00020ec8(void)

{
    int iVar1;
    int iVar2;
    int iVar3;
    int iVar4;
    bool bVar5;
    bool bVar6;
    bool bVar7;
    bool bVar8;
    char acStack_818[2052];

    iVar1 = FUN_00016940();
    iVar2 = FUN_0001a1b0();
    iVar3 = FUN_0001a1c0();
    bVar8 = SBORROW4(iVar2, iVar3);
    iVar4 = iVar2 - iVar3;
    bVar6 = iVar2 != iVar3;
    if (bVar6) {
        bVar8 = SBORROW4(iVar1, 0x1a);
        iVar4 = iVar1 + -0x1a;
    }
    bVar5 = iVar4 < 0;
    bVar7 = iVar1 != 0x1a;
    iVar4 = iVar3;
    if ((bVar6 && bVar7) && bVar5 == bVar8) {
        iVar4 = 1;
    }
    if ((!bVar6 || !bVar7) || bVar5 != bVar8) {
        iVar4 = 0;
    }
    if ((bVar6 && bVar7) && bVar5 == bVar8) {
        if (3 < DAT_0009e31c) {
            snprintf(acStack_818, 0x800, "current PCB min temperature is %d\n",
                     iVar1);
            iVar4 = FUN_00047ab4(3, acStack_818, 0);
            if (3 < DAT_0009e31c) {
                snprintf(acStack_818, 0x800,
                         "current voltage is %d, recovery to %d\n", iVar3,
                         iVar2);
                iVar4 = FUN_00047ab4(3, acStack_818, 0);
            }
        }
        FUN_0001a3b8(iVar4);
        iVar4 = -1;
    }
    return iVar4;
}

void FUN_00020f90(void)

{
    longlong lVar1;
    int iVar2;
    int iVar3;
    uint uVar4;
    uint uVar5;
    undefined8 uVar6;

    prctl(0xf, "chk_sys", 0, 0, 0);
    FUN_0002f7dc();
    iVar2 = FUN_00020a08();
    do {
        iVar3 = FUN_000226b0();
        if (iVar3 == 1) {
            iVar3 = FUN_00020a08();
            if ((DAT_00241d50 != 0 || DAT_00241d54 != 0) ||
                (0x708 < (uint)(iVar3 - iVar2))) {
                DAT_000a06d0 = FUN_00020a08();
                uVar6 = FUN_00020b28();
            LAB_00021048:
                do {
                    uVar4 = 1;
                    while (true) {
                        if ((uVar4 == (uVar4 / 5) * 5) &&
                            (uVar6 = FUN_00020ec8(
                                 (int)uVar6, (int)((ulonglong)uVar6 >> 0x20),
                                 uVar4 * -0x33333333),
                             (int)uVar6 != 0))
                            break;
                        uVar5 = uVar4 % 0x3c;
                        if (uVar5 == 0)
                            goto LAB_000210ec;
                        while (true) {
                            if (uVar4 % 0x708 == 0) {
                                FUN_00020a38(uVar4 * -0x6e5d4c3b);
                                FUN_00014bf4();
                                uVar6 = FUN_00020b48();
                                if ((int)uVar6 != 0)
                                    goto LAB_00021048;
                            }
                            lVar1 = (ulonglong)uVar4 * 0xc22e4507;
                            if (uVar4 % 0x5460 == 0) {
                                lVar1 = FUN_00020e60((int)lVar1);
                            }
                            if (uVar5 == 0) {
                                FUN_0002f354();
                                lVar1 = FUN_0002f5ac();
                            }
                            if (uVar4 == (uVar4 / 10) * 10) {
                                FUN_0002f984((int)lVar1,
                                             (int)((ulonglong)lVar1 >> 0x20),
                                             uVar4 * -0x33333333);
                            }
                            uVar4 = uVar4 + 1;
                            uVar6 = FUN_0004a804(1000);
                            if (uVar4 != 0x78)
                                break;
                            DAT_000a06b8 = 1;
                            uVar6 = FUN_00020ec8();
                            if ((int)uVar6 != 0)
                                goto LAB_00021048;
                        LAB_000210ec:
                            uVar5 = 0;
                            FUN_00023590();
                        }
                    }
                } while (true);
            }
        }
        FUN_0004a804(10);
    } while (true);
}

/* WARNING: Restarted to delay deadcode elimination for space: ram */

undefined4 FUN_00021140(void)

{
    int iVar1;
    int iVar2;
    uint uVar3;
    int iVar4;
    int *piVar5;
    uint uVar6;
    uint *puVar7;
    int iVar8;
    int iVar9;
    uint uVar10;
    int iVar11;
    int iVar12;
    int iVar13;
    int iVar14;
    int iVar15;
    uint uVar16;
    bool bVar17;
    double dVar18;
    double dVar19;

    DAT_000a06d4 = DAT_000a06d4 + 1;
    FUN_00023298();
    if (DAT_000a06d4 % 5 == 0) {
        iVar13 = FUN_00020a08(DAT_000a06d4 * 0x66666667);
        dVar18 = 0.0;
        iVar8 = iVar13 - DAT_000a06c8;
        iVar1 = 0;
        iVar12 = 0;
        DAT_000a06c8 = iVar13;
        do {
            if (DAT_000a0d68[iVar12 + 1] == 1) {
                iVar15 = *(int *)((int)&DAT_00241a84 + iVar1);
                iVar13 =
                    (iVar12 * 10 + *(int *)(&DAT_000a06d8 + iVar12 * 4)) * 8;
                iVar11 = (*(int *)(&DAT_000a06d8 + iVar12 * 4) + 1) % 10;
                iVar14 = *(int *)(&DAT_000a0718 + iVar12 * 4);
                *(int *)(&DAT_000a06d8 + iVar12 * 4) = iVar11;
                if (iVar14 < 10) {
                    iVar14 = iVar14 + 1;
                    *(int *)(&DAT_000a0718 + iVar12 * 4) = iVar14;
                }
                uVar3 = *(uint *)(&DAT_000a0758 + iVar1);
                uVar10 = *(uint *)((int)&DAT_00241a80 + iVar1);
                *(uint *)(&DAT_000a0758 + iVar1) = uVar10;
                uVar16 = uVar10 - uVar3;
                uVar6 = *(uint *)(&DAT_000a0cd8 + iVar1);
                iVar4 = *(int *)(&DAT_000a0cdc + iVar1);
                iVar9 = iVar15 - (*(int *)(&DAT_000a075c + iVar1) +
                                  (uint)(uVar10 < uVar3));
                *(uint *)(&DAT_000a07d8 + iVar13) = uVar16;
                iVar2 = uVar16 + uVar6;
                *(int *)(&DAT_000a0cd8 + iVar1) = iVar2;
                *(int *)(&DAT_000a07dc + iVar13) = iVar9;
                *(int *)(&DAT_000a075c + iVar1) = iVar15;
                iVar13 = iVar9 + iVar4 + (uint)CARRY4(uVar16, uVar6);
                *(int *)(&DAT_000a0cdc + iVar1) = iVar13;
                dVar19 = (double)FUN_000778a4(iVar2, iVar13);
                dVar19 = (((dVar19 * 4294967295.0) / (double)(longlong)iVar14) /
                          (double)(longlong)iVar8) /
                         1000000000.0;
                sprintf(&DAT_00241b00 + iVar12 * 0x20, "%.2f", SUB84(dVar19, 0),
                        (int)((ulonglong)dVar19 >> 0x20));
                dVar18 = dVar18 + dVar19;
                uVar3 = *(uint *)(&DAT_000a0cd8 + iVar1);
                iVar13 = (iVar12 * 10 + iVar11) * 8;
                uVar10 = *(uint *)(&DAT_000a07d8 + iVar13);
                iVar13 = *(int *)(&DAT_000a07dc + iVar13);
                *(uint *)(&DAT_000a0cd8 + iVar1) = uVar3 - uVar10;
                *(uint *)(&DAT_000a0cdc + iVar1) =
                    *(int *)(&DAT_000a0cdc + iVar1) -
                    (iVar13 + (uint)(uVar3 < uVar10));
            }
            iVar12 = iVar12 + 1;
            iVar1 = iVar1 + 8;
        } while (iVar12 != 0x10);
        sprintf((char *)&DAT_001b09fc, "%.2f", SUB84(dVar18, 0),
                (int)((ulonglong)dVar18 >> 0x20));
    }
    if (DAT_000a06d4 % 0x708 == 0) {
        iVar1 = FUN_00020a08(DAT_000a06d4 * -0x6e5d4c3b);
        puVar7 = &DAT_00241a80;
        uVar10 = 0;
        iVar13 = iVar1 - DAT_000a06d0;
        iVar12 = 0;
        piVar5 = DAT_000a0d68;
        do {
            piVar5 = piVar5 + 1;
            if (*piVar5 == 1) {
                bVar17 = CARRY4(uVar10, *puVar7);
                uVar10 = uVar10 + *puVar7;
                iVar12 = iVar12 + puVar7[1] + (uint)bVar17;
            }
            puVar7 = puVar7 + 2;
        } while (puVar7 != (uint *)&DAT_00241b00);
        DAT_000a06d0 = iVar1;
        dVar18 = (double)FUN_000778a4(
            uVar10 - DAT_000a0d58,
            iVar12 - (DAT_000a0d5c + (uint)(uVar10 < DAT_000a0d58)));
        DAT_000a0d58 = uVar10;
        DAT_000a0d5c = iVar12;
        DAT_001b0a10 =
            ((dVar18 * 4294967295.0) / 1000000000.0) / (double)(longlong)iVar13;
        return 0;
    }
    return 0;
}

void FUN_00021478(void)

{
    int iVar1;
    int local_10;
    int local_c;

    prctl(0xf, "chk_status", 0, 0, 0);
    do {
        pthread_mutex_lock((pthread_mutex_t *)&DAT_000a0db0);
        if (DAT_000a06b8 != '\0') {
            FUN_0004a60c(&local_10);
            iVar1 = local_10 - DAT_000a0d7c;
            if (local_c - DAT_000a0d80 < 0) {
                iVar1 = iVar1 + -1;
            }
            if (iVar1 < 0x79) {
                if (DAT_000a0d60 != 0) {
                    FUN_000226c0(1, 0);
                    DAT_000a0d60 = 0;
                }
            } else {
                DAT_000a0d60 = DAT_000a0d60 + 1;
                if (DAT_000a0d60 == 1) {
                    FUN_000226c0(2, "network connection lost");
                }
                if (0x2d0 < DAT_000a0d60) {
                    FUN_000226c0(5, "network connection lost");
                }
            }
        }
        FUN_000206e0();
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_000a0db0);
        FUN_00021140();
        FUN_0004a804(1000);
    } while (true);
}

undefined4 FUN_00021578(void)

{
    int iVar1;
    pthread_attr_t pStack_834;
    char local_810[12];
    undefined4 uStack_804;
    char acStack_800[4];
    undefined2 local_7fc;

    if (DAT_0023a29c == (void *)0x0) {
        pthread_attr_init(&pStack_834);
        pthread_attr_setstacksize(&pStack_834, 0x200000);
        DAT_0023a29c = calloc(1, 0x40);
        iVar1 =
            FUN_0004bdcc(DAT_0023a29c, &pStack_834, FUN_00020880, DAT_0023a29c);
        if (iVar1 != 0) {
            if (3 < DAT_0009e31c) {
                builtin_strncpy(local_810, "create threa", 0xc);
                uStack_804._0_1_ = 'd';
                uStack_804._1_1_ = ' ';
                uStack_804._2_1_ = 'f';
                uStack_804._3_1_ = 'a';
                builtin_strncpy(acStack_800, "iled", 4);
                local_7fc = 10;
                FUN_00047ab4(3, local_810, 0);
                return 0xffffffff;
            }
            return 0xffffffff;
        }
        pthread_detach(*(pthread_t *)((int)DAT_0023a29c + 0xc));
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_810, "create threa", 0xc);
            uStack_804 = CONCAT13(uStack_804._3_1_, 0xa64);
            FUN_00047ab4(3, local_810, 0);
            return 0;
        }
    }
    return 0;
}

undefined4 FUN_00021690(void)

{
    int iVar1;
    pthread_attr_t pStack_834;
    char local_810[12];
    undefined4 uStack_804;
    char acStack_800[4];
    undefined2 local_7fc;

    if (DAT_0023a2a8 == (void *)0x0) {
        pthread_attr_init(&pStack_834);
        pthread_attr_setstacksize(&pStack_834, 0x100000);
        DAT_0023a2a8 = calloc(1, 0x40);
        iVar1 =
            FUN_0004bdcc(DAT_0023a2a8, &pStack_834, FUN_000204a8, DAT_0023a2a8);
        if (iVar1 != 0) {
            if (3 < DAT_0009e31c) {
                builtin_strncpy(local_810, "create threa", 0xc);
                uStack_804._0_1_ = 'd';
                uStack_804._1_1_ = ' ';
                uStack_804._2_1_ = 'f';
                uStack_804._3_1_ = 'a';
                builtin_strncpy(acStack_800, "iled", 4);
                local_7fc = 10;
                FUN_00047ab4(3, local_810, 0);
                return 0xffffffff;
            }
            return 0xffffffff;
        }
        pthread_detach(*(pthread_t *)((int)DAT_0023a2a8 + 0xc));
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_810, "create threa", 0xc);
            uStack_804 = CONCAT13(uStack_804._3_1_, 0xa64);
            FUN_00047ab4(3, local_810, 0);
            return 0;
        }
    }
    return 0;
}

undefined4 FUN_000217a8(void)

{
    int iVar1;
    pthread_attr_t pStack_834;
    char local_810[12];
    undefined4 uStack_804;
    char acStack_800[4];
    undefined2 local_7fc;

    if (DAT_0023a298 == (void *)0x0) {
        pthread_attr_init(&pStack_834);
        pthread_attr_setstacksize(&pStack_834, 0x800000);
        DAT_0023a298 = calloc(1, 0x40);
        iVar1 =
            FUN_0004bdcc(DAT_0023a298, &pStack_834, FUN_0002090c, DAT_0023a298);
        if (iVar1 != 0) {
            if (3 < DAT_0009e31c) {
                builtin_strncpy(local_810, "create threa", 0xc);
                uStack_804._0_1_ = 'd';
                uStack_804._1_1_ = ' ';
                uStack_804._2_1_ = 'f';
                uStack_804._3_1_ = 'a';
                builtin_strncpy(acStack_800, "iled", 4);
                local_7fc = 10;
                FUN_00047ab4(3, local_810, 0);
                return 0xffffffff;
            }
            return 0xffffffff;
        }
        pthread_detach(*(pthread_t *)((int)DAT_0023a298 + 0xc));
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_810, "create threa", 0xc);
            uStack_804 = CONCAT13(uStack_804._3_1_, 0xa64);
            FUN_00047ab4(3, local_810, 0);
            return 0;
        }
    }
    return 0;
}

undefined4 FUN_000218c0(void)

{
    return 0;
}

undefined4 FUN_000218c8(void)

{
    int iVar1;
    pthread_attr_t pStack_834;
    char local_810[12];
    undefined4 uStack_804;
    char acStack_800[4];
    undefined2 local_7fc;

    if (DAT_0023a2a4 == (void *)0x0) {
        pthread_attr_init(&pStack_834);
        pthread_attr_setstacksize(&pStack_834, 0x200000);
        DAT_0023a2a4 = calloc(1, 0x40);
        iVar1 =
            FUN_0004bdcc(DAT_0023a2a4, &pStack_834, FUN_00020f90, DAT_0023a2a4);
        if (iVar1 != 0) {
            if (3 < DAT_0009e31c) {
                builtin_strncpy(local_810, "create threa", 0xc);
                uStack_804._0_1_ = 'd';
                uStack_804._1_1_ = ' ';
                uStack_804._2_1_ = 'f';
                uStack_804._3_1_ = 'a';
                builtin_strncpy(acStack_800, "iled", 4);
                local_7fc = 10;
                FUN_00047ab4(3, local_810, 0);
                return 0xffffffff;
            }
            return 0xffffffff;
        }
        pthread_detach(*(pthread_t *)((int)DAT_0023a2a4 + 0xc));
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_810, "create threa", 0xc);
            uStack_804 = CONCAT13(uStack_804._3_1_, 0xa64);
            FUN_00047ab4(3, local_810, 0);
            return 0;
        }
    }
    return 0;
}

undefined4 FUN_000219e0(void)

{
    int iVar1;
    pthread_attr_t pStack_834;
    char local_810[12];
    undefined4 uStack_804;
    char acStack_800[4];
    undefined2 local_7fc;

    if (DAT_0023a2a0 == (void *)0x0) {
        pthread_attr_init(&pStack_834);
        pthread_attr_setstacksize(&pStack_834, 0x200000);
        DAT_0023a2a0 = calloc(1, 0x40);
        iVar1 =
            FUN_0004bdcc(DAT_0023a2a0, &pStack_834, FUN_00021478, DAT_0023a2a0);
        if (iVar1 != 0) {
            if (3 < DAT_0009e31c) {
                builtin_strncpy(local_810, "create threa", 0xc);
                uStack_804._0_1_ = 'd';
                uStack_804._1_1_ = ' ';
                uStack_804._2_1_ = 'f';
                uStack_804._3_1_ = 'a';
                builtin_strncpy(acStack_800, "iled", 4);
                local_7fc = 10;
                FUN_00047ab4(3, local_810, 0);
                return 0xffffffff;
            }
            return 0xffffffff;
        }
        pthread_detach(*(pthread_t *)((int)DAT_0023a2a0 + 0xc));
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_810, "create threa", 0xc);
            uStack_804 = CONCAT13(uStack_804._3_1_, 0xa64);
            FUN_00047ab4(3, local_810, 0);
            return 0;
        }
    }
    return 0;
}

void FUN_00021af8(void)

{
    pthread_t pVar1;
    void *pvVar2;
    char local_810[12];
    undefined2 uStack_804;
    undefined1 local_802;

    pvVar2 = DAT_0023a29c;
    if ((DAT_0023a29c != (void *)0x0) &&
        (pVar1 = pthread_self(), *(pthread_t *)((int)pvVar2 + 0xc) != pVar1)) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_810, "cancel threa", 0xc);
            uStack_804 = 0xa64;
            local_802 = 0;
            FUN_00047ab4(3, local_810, 0);
            pvVar2 = DAT_0023a29c;
        }
        FUN_0004a1f0(pvVar2);
        free(DAT_0023a29c);
        DAT_0023a29c = (void *)0x0;
    }
    return;
}

void FUN_00021b98(void)

{
    pthread_t pVar1;
    void *pvVar2;
    char local_810[12];
    undefined2 uStack_804;
    undefined1 local_802;

    pvVar2 = DAT_0023a2a8;
    if ((DAT_0023a2a8 != (void *)0x0) &&
        (pVar1 = pthread_self(), *(pthread_t *)((int)pvVar2 + 0xc) != pVar1)) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_810, "cancel threa", 0xc);
            uStack_804 = 0xa64;
            local_802 = 0;
            FUN_00047ab4(3, local_810, 0);
            pvVar2 = DAT_0023a2a8;
        }
        FUN_0004a1f0(pvVar2);
        free(DAT_0023a2a8);
        DAT_0023a2a8 = (void *)0x0;
    }
    return;
}

void FUN_00021c38(void)

{
    pthread_t pVar1;
    void *pvVar2;
    char local_810[12];
    undefined2 uStack_804;
    undefined1 local_802;

    pvVar2 = DAT_0023a298;
    if ((DAT_0023a298 != (void *)0x0) &&
        (pVar1 = pthread_self(), *(pthread_t *)((int)pvVar2 + 0xc) != pVar1)) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_810, "cancel threa", 0xc);
            uStack_804 = 0xa64;
            local_802 = 0;
            FUN_00047ab4(3, local_810, 0);
            pvVar2 = DAT_0023a298;
        }
        FUN_0004a1f0(pvVar2);
        free(DAT_0023a298);
        DAT_0023a298 = (void *)0x0;
    }
    return;
}

void FUN_00021cdc(void)

{
    pthread_t pVar1;
    void *pvVar2;
    char local_810[12];
    undefined2 uStack_804;
    undefined1 local_802;

    pvVar2 = DAT_0023a2a4;
    if ((DAT_0023a2a4 != (void *)0x0) &&
        (pVar1 = pthread_self(), *(pthread_t *)((int)pvVar2 + 0xc) != pVar1)) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_810, "cancel threa", 0xc);
            uStack_804 = 0xa64;
            local_802 = 0;
            FUN_00047ab4(3, local_810, 0);
            pvVar2 = DAT_0023a2a4;
        }
        FUN_0004a1f0(pvVar2);
        free(DAT_0023a2a4);
        DAT_0023a2a4 = (void *)0x0;
    }
    return;
}

void FUN_00021d7c(void)

{
    pthread_t pVar1;
    void *pvVar2;
    char local_810[12];
    undefined2 uStack_804;
    undefined1 local_802;

    pvVar2 = DAT_0023a2a0;
    if ((DAT_0023a2a0 != (void *)0x0) &&
        (pVar1 = pthread_self(), *(pthread_t *)((int)pvVar2 + 0xc) != pVar1)) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_810, "cancel threa", 0xc);
            uStack_804 = 0xa64;
            local_802 = 0;
            FUN_00047ab4(3, local_810, 0);
            pvVar2 = DAT_0023a2a0;
        }
        FUN_0004a1f0(pvVar2);
        free(DAT_0023a2a0);
        DAT_0023a2a0 = (void *)0x0;
    }
    return;
}

void FUN_00021e78(int param_1)

{
    int iVar1;
    undefined4 uVar2;
    char acStack_808[2048];

    if (3 < DAT_0009e31c) {
        snprintf(acStack_808, 0x800, "set UART baud to %d\n", param_1);
        FUN_00047ab4(3, acStack_808, 0);
    }
    uVar2 = 25000000;
    if (3000000 < param_1) {
        uVar2 = 400000000;
    }
    iVar1 = FUN_000772e8(uVar2, param_1 << 3);
    FUN_0001a8ac(param_1, iVar1 + -1);
    FUN_0004a830(50000, 0);
    FUN_00070e58(param_1);
    *(int *)(DAT_000a0d68 + 0x329c) = param_1;
    return;
}

undefined4 FUN_00021f2c(void)

{
    undefined1 *puVar1;
    uint uVar2;
    undefined4 unaff_r4;
    int iVar3;
    undefined2 *puVar4;

    FUN_00021e78(12000000);
    FUN_0004a804(10);
    uVar2 = 0;
    do {
        while (*(int *)(DAT_000a0d68 + uVar2 * 4 + 4) != 1) {
            uVar2 = uVar2 + 1;
            if (uVar2 == 0x10) {
                return 0;
            }
        }
        puVar4 = &DAT_0009f80c + uVar2 * 0x36;
        iVar3 = 0;
        do {
            puVar1 = (undefined1 *)((int)puVar4 + 0xd);
            iVar3 = iVar3 + 1;
            puVar4 = puVar4 + 0xc;
            thunk_FUN_000758bc(uVar2 & 0xff, *puVar1, 0, 1, unaff_r4);
        } while (iVar3 != 4);
        uVar2 = uVar2 + 1;
    } while (uVar2 != 0x10);
    return 0;
}

void FUN_00021f4c(void)

{
    byte bVar1;
    int iVar2;
    int iVar3;
    int iVar4;
    uint uVar5;
    byte *pbVar6;
    int iVar7;
    int iVar8;
    byte *pbVar9;
    int iVar10;
    byte *local_40;

    iVar2 = DAT_000a0d68;
    local_40 = (byte *)(DAT_000a0d68 + 0x3275);
    pbVar6 = (byte *)(DAT_000a0d68 + 0x3285);
    iVar7 = -0x3275 - DAT_000a0d68;
    do {
        pbVar9 = local_40 + iVar7;
        local_40 = local_40 + 1;
        bVar1 = *local_40;
        if (bVar1 == 0) {
            iVar3 = 0;
        } else {
            iVar3 = 0;
            uVar5 = 0;
            iVar10 = iVar2 + (int)pbVar9 * 0x61;
            do {
                iVar4 = iVar3 + uVar5;
                iVar8 = iVar2 + ((int)pbVar9 * 0x4e + uVar5 + 0x9e) * 8;
                if (uVar5 == (uVar5 / 6) * 6) {
                    iVar3 = iVar3 + 1;
                    *(undefined1 *)(iVar10 + iVar4 + 0x2bf6) = 0x20;
                    iVar4 = iVar3 + uVar5;
                }
                uVar5 = uVar5 + 1;
                *(undefined1 *)(iVar10 + iVar4 + 0x2bf6) = 0x6f;
                *(undefined2 *)(iVar8 + 6) = 0;
                *(undefined2 *)(iVar8 + 8) = 0;
                *(undefined2 *)(iVar8 + 10) = 0;
                *(undefined2 *)(iVar8 + 0xc) = 0;
            } while (uVar5 != bVar1);
            iVar3 = iVar3 + uVar5;
        }
        *(undefined1 *)(iVar2 + (int)pbVar9 * 0x61 + iVar3 + 0x2bf6) = 0;
    } while (local_40 != pbVar6);
    return;
}

void FUN_00022088(uint *param_1)

{
    int iVar1;
    uint uVar2;
    char cVar3;
    uint uVar4;
    uint *puVar5;
    uint uVar6;
    char acStack_828[2052];

    if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
        (DAT_0009e320 < 5)) {
        if (DAT_0009e320 < 5)
            goto LAB_00022130;
    } else {
        memcpy(acStack_828,
               "==========================capability "
               "start==========================\n",
               0x46);
        FUN_00047ab4(5, acStack_828, 0);
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 5))
            goto LAB_00022130;
    }
    snprintf(acStack_828, 0x800, "board num = %d\n", *param_1);
    FUN_00047ab4(5, acStack_828, 0);
LAB_00022130:
    cVar3 = DAT_00244080;
    if (*param_1 != 0) {
        uVar6 = 0;
        puVar5 = param_1;
        do {
            if (((cVar3 != '\0') || (DAT_001aecc4 != '\0')) ||
                (cVar3 = DAT_001aecc4, 4 < DAT_0009e320)) {
                snprintf(acStack_828, 0x800, "board id = %d, chain num = %d\n",
                         puVar5[1], puVar5[2]);
                FUN_00047ab4(5, acStack_828, 0);
                cVar3 = DAT_00244080;
            }
            uVar2 = puVar5[2];
            if (uVar2 != 0) {
                uVar4 = 0;
                do {
                    if (cVar3 == '\0') {
                        while ((DAT_001aecc4 == '\0' && (DAT_0009e320 < 5))) {
                            uVar4 = uVar4 + 1;
                            cVar3 = DAT_001aecc4;
                            if (uVar2 <= uVar4)
                                goto LAB_000221bc;
                        }
                    }
                    iVar1 = uVar4 + 3;
                    uVar4 = uVar4 + 1;
                    snprintf(acStack_828, 0x800, "\tchain id = %d\n",
                             puVar5[iVar1]);
                    FUN_00047ab4(5, acStack_828, 0);
                    uVar2 = puVar5[2];
                    cVar3 = DAT_00244080;
                } while (uVar4 < uVar2);
            }
        LAB_000221bc:
            uVar6 = uVar6 + 1;
            puVar5 = puVar5 + 0x12;
        } while (uVar6 < *param_1);
    }
    if (((cVar3 != '\0') || (DAT_001aecc4 != '\0')) || (4 < DAT_0009e320)) {
        memcpy(acStack_828,
               "==========================capability "
               "end============================\n",
               0x46);
        FUN_00047ab4(5, acStack_828, 0);
    }
    return;
}

void FUN_000222e8(void)

{
    uint uVar1;
    int iVar2;
    byte bVar3;
    uint uVar4;
    uint uVar5;
    char acStack_808[2052];

    bVar3 = DAT_00241d0a;
    iVar2 = DAT_000a0d68;
    uVar1 = DAT_0009e31c;
    uVar5 = (uint)(byte)DAT_00241d04;
    uVar4 = (uint)DAT_00241d0a;
    *(byte *)(DAT_000a0d68 + 0x32b1) = (byte)((uVar5 << 0x1e) >> 0x1f);
    *(byte *)(iVar2 + 0x32b2) = bVar3;
    if (uVar1 < 4) {
        return;
    }
    snprintf(acStack_808, 0x800, "fan_eft : %d  fan_pwm : %d\n",
             (uVar5 << 0x1e) >> 0x1f, uVar4);
    FUN_00047ab4(3, acStack_808, 0);
    return;
}

void FUN_0002236c(char *param_1, int param_2)

{
    char *__dest;
    int iVar1;
    size_t sVar2;
    int iVar3;
    int iVar4;
    int iVar5;
    int iVar6;
    int iVar7;
    int iVar8;
    char *__dest_00;
    char local_83c[2072];

    iVar7 = 0;
    do {
        while (iVar8 = iVar7 + 1, *(int *)(DAT_000a0d68 + iVar7 * 4 + 4) != 1) {
            iVar7 = iVar8;
            if (iVar8 == 0x10)
                goto LAB_00022590;
        }
        local_83c[0x14] = '{';
        local_83c[0x15] = '\0';
        local_83c[0x16] = '\0';
        local_83c[0x17] = '\0';
        memset(local_83c + 0x18, 0, 0x7fc);
        __dest_00 = local_83c + 0x14;
        local_83c[0] = '\0';
        local_83c[1] = '\0';
        local_83c[2] = '\0';
        local_83c[3] = '\0';
        local_83c[4] = '\0';
        local_83c[5] = '\0';
        local_83c[6] = '\0';
        local_83c[7] = '\0';
        local_83c[8] = '\0';
        local_83c[9] = '\0';
        local_83c[10] = '\0';
        local_83c[0xb] = '\0';
        local_83c[0xc] = '\0';
        local_83c[0xd] = '\0';
        local_83c[0xe] = '\0';
        local_83c[0xf] = '\0';
        local_83c[0x10] = '\0';
        local_83c[0x11] = '\0';
        local_83c[0x12] = '\0';
        local_83c[0x13] = '\0';
        sprintf(local_83c, "Chain%d:{", iVar8);
        __dest = stpcpy(local_83c + 0x15, local_83c);
        iVar6 = 0;
        iVar5 = DAT_000a0d6c % 0x3c + -1;
        iVar1 = iVar5 - param_2;
        do {
            iVar3 = iVar5;
            if (iVar5 < 0) {
                iVar3 = iVar5 + 0x3c;
            }
            iVar5 = iVar5 + -1;
            iVar6 =
                iVar6 + *(int *)(&DAT_000a4dc8 + (iVar7 * 0x1248 + iVar3) * 8);
        } while (iVar1 != iVar5);
        sprintf(local_83c, "N%d=%d", 0, iVar6);
        strcpy(__dest, local_83c);
        if (1 < *(byte *)(DAT_000a0d68 + 0x329b)) {
            iVar1 = 1;
            do {
                iVar3 = 0;
                iVar6 = DAT_000a0d6c % 0x3c + -1;
                iVar5 = iVar6 - param_2;
                do {
                    iVar4 = iVar6;
                    if (iVar6 < 0) {
                        iVar4 = iVar6 + 0x3c;
                    }
                    iVar6 = iVar6 + -1;
                    iVar3 =
                        iVar3 +
                        *(int *)(&DAT_000a4dc8 +
                                 (iVar7 * 0x1248 + iVar1 * 0x3c + iVar4) * 8);
                } while (iVar5 != iVar6);
                iVar5 = iVar1 + 1;
                sprintf(local_83c, ",N%d=%d", iVar1, iVar3);
                strcat(__dest_00, local_83c);
                iVar1 = iVar5;
            } while (iVar5 < (int)(uint) * (byte *)(DAT_000a0d68 + 0x329b));
        }
        sVar2 = strlen(__dest_00);
        (__dest_00 + sVar2)[0] = '}';
        (__dest_00 + sVar2)[1] = ',';
        local_83c[sVar2 + 0x16] = '\0';
        strcat(param_1, __dest_00);
        iVar7 = iVar8;
    } while (iVar8 != 0x10);
LAB_00022590:
    sVar2 = strlen(param_1);
    param_1[sVar2 - 1] = '\0';
    return;
}

void FUN_000225b4(void)

{
    char local_808[24];
    undefined2 local_7f0;

    builtin_strncpy(local_808, "This is fix-freq version", 0x18);
    local_7f0 = 10;
    FUN_00047ab4(3, local_808, 0);
    return;
}

void FUN_000225fc(void)

{
    uint uVar1;
    uint uVar2;
    char local_810[2052];

    if (3 < DAT_0009e31c) {
        builtin_strncpy(local_810, "****power off hashboard****\n", 0x1c);
        local_810[0x1c] = 0;
        FUN_00047ab4(3, local_810, 0);
    }
    uVar2 = 0;
    do {
        while (*(int *)(DAT_000a0d68 + uVar2 * 4 + 4) == 1) {
            uVar1 = uVar2 & 0xff;
            uVar2 = uVar2 + 1;
            thunk_FUN_00071928(uVar1);
            if (uVar2 == 0x10)
                goto LAB_00022660;
        }
        uVar2 = uVar2 + 1;
    } while (uVar2 != 0x10);
LAB_00022660:
    FUN_00019e7c();
    uVar2 = FUN_0006f79c();
    FUN_0006f7c4(uVar2 & 0xffffffbf);
    return;
}

undefined4 FUN_000226b0(void)

{
    return DAT_000a0d70;
}

void FUN_000226c0(uint param_1, int param_2)

{
    undefined *puVar1;
    char local_820[2052];

    DAT_000a0d70 = param_1;
    if (3 < DAT_0009e31c) {
        if (param_1 < 0x11) {
            puVar1 = (&PTR_s_STATUS_INIT_00079c84)[param_1];
        } else {
            puVar1 = (undefined *)0x0;
        }
        snprintf(local_820, 0x800, "%s\n", puVar1);
        FUN_00047ab4(3, local_820, 0);
        if (param_2 == 0) {
            if (DAT_0009e31c < 4)
                goto LAB_00022778;
            if (param_1 < 0x11) {
                puVar1 = (&PTR_s_STATUS_INIT_00079c84)[param_1];
            } else {
                puVar1 = (undefined *)0x0;
            }
            snprintf(local_820, 0x800, "%s\n", puVar1);
        } else {
            if (DAT_0009e31c < 4)
                goto LAB_00022778;
            snprintf(local_820, 0x800, "%s: %s\n", puVar1, param_2);
        }
        FUN_00047ab4(3, local_820, 0);
    }
LAB_00022778:
    switch (DAT_000a0d70) {
    case 3:
    case 4:
    case 6:
    case 8:
    case 9:
    case 0xb:
    case 0xd:
    case 0xe:
    case 0xf:
    case 0x10:
        if (1 < DAT_0009e31c) {
            snprintf(local_820, 0x800, "stop mining: %s\n", param_2);
            FUN_00047ab4(1, local_820, 0);
        }
        break;
    case 5:
    case 10:
    case 0xc:
        if (1 < DAT_0009e31c) {
            snprintf(local_820, 0x800, "stop mining: %s\n", param_2);
            FUN_00047ab4(1, local_820, 0);
        }
        FUN_00021d7c();
        FUN_00021af8();
        FUN_00021cdc();
        FUN_00021c38();
        FUN_000225fc();
        builtin_strncpy(local_820, "restart\n", 8);
        local_820[8] = 0;
        FUN_00047ab4(0, local_820);
        /* WARNING: Subroutine does not return */
        __assert_fail("0", "driver-btm-api.c", 0x91, "stop_mining_and_restart");
    default:
        return;
    }
    FUN_00021d7c();
    FUN_00021af8();
    FUN_00021cdc();
    FUN_00021c38();
    FUN_000225fc();
    do {
        sleep(1);
    } while (true);
}

undefined4 FUN_000228fc(void)

{
    undefined4 uVar1;
    char acStack_808[2048];

    DAT_00241d20 = FUN_00016940();
    if (3 < DAT_0009e31c) {
        snprintf(acStack_808, 0x800, "Bring up temperature is %d\n",
                 DAT_00241d20);
        FUN_00047ab4(3, acStack_808, 0);
    }
    if (DAT_00241d20 + 5 < 0 == SCARRY4(DAT_00241d20, 5)) {
        uVar1 = 0;
    } else {
        FUN_00031794(9, 0xff);
        FUN_000226c0(0xf, "Environment temperature is too low!");
        uVar1 = 0xffffffff;
    }
    return uVar1;
}

void FUN_00022a54(undefined4 param_1)

{
    DAT_000a0d74 = param_1;
    return;
}

undefined4 FUN_00022a88(uint param_1)

{
    int iVar1;
    char acStack_808[2048];

    iVar1 = FUN_00019780(param_1 & 0xff);
    if (iVar1 != 0) {
        FUN_000197b8();
        return 0;
    }
    if (3 < DAT_0009e31c) {
        snprintf(acStack_808, 0x800, "Chain %d PIC reset failed.\n", param_1);
        FUN_00047ab4(3, acStack_808, 0);
    }
    iVar1 = DAT_000a0d68;
    *(undefined4 *)(DAT_000a0d68 + param_1 * 4 + 4) = 0;
    *(char *)(iVar1 + 0x3287) = *(char *)(iVar1 + 0x3287) + -1;
    FUN_00031794(4, param_1);
    FUN_000226c0(7, "PIC reset failed.\n");
    return 0xffffffff;
}

uint FUN_00022ab8(void)

{
    uint uVar1;
    int iVar2;
    int iVar3;
    uint uVar4;

    uVar4 = 0;
    iVar2 = 0;
    do {
        while (*(int *)(DAT_000a0d68 + iVar2 * 4 + 4) == 1) {
            iVar3 = iVar2 + 1;
            uVar1 = FUN_00022a88(iVar2);
            uVar4 = uVar4 | uVar1;
            iVar2 = iVar3;
            if (iVar3 == 0x10) {
                return uVar4;
            }
        }
        iVar2 = iVar2 + 1;
    } while (iVar2 != 0x10);
    return uVar4;
}

undefined4 FUN_00022b10(void)

{
    int iVar1;
    int iVar2;
    int iVar3;
    uint uVar4;
    uint uVar5;
    uint uVar6;
    int iVar7;
    uint local_82c;
    char local_828[2052];

    uVar4 = 0;
    uVar6 = 0;
    iVar7 = 0;
    iVar3 = 0;
    uVar5 = 0xffffff;
    iVar2 = DAT_000a0d68;
    do {
        while (*(int *)(iVar2 + iVar3 * 4 + 4) == 1) {
            iVar1 = FUN_00018e08(iVar3, (undefined1)DAT_0009ee38, &local_82c);
            iVar2 = DAT_000a0d68;
            if (iVar1 != 0)
                goto LAB_00022bc4;
            uVar6 = uVar6 + 1;
            iVar7 = iVar7 + local_82c;
            if (uVar4 < local_82c) {
                uVar4 = local_82c;
            }
            if (local_82c <= uVar5) {
                uVar5 = local_82c;
            }
            if (3 < DAT_0009e31c) {
                snprintf(local_828, 0x800, "voltage[%d] = %d\n", iVar3,
                         local_82c);
                FUN_00047ab4(3, local_828, 0);
            }
            iVar3 = iVar3 + 1;
            iVar2 = DAT_000a0d68;
            if (iVar3 == 0x10)
                goto LAB_00022bc4;
        }
        iVar3 = iVar3 + 1;
    } while (iVar3 != 0x10);
LAB_00022bc4:
    if (uVar6 == *(byte *)(iVar2 + 0x3287)) {
        iVar2 = FUN_000772e8(iVar7, uVar6);
        if (iVar7 == uVar6 * iVar2) {
            FUN_0001a0f0(local_82c);
            return 0;
        }
        if ((int)(uVar4 - uVar5) < 0x15) {
            if (3 < DAT_0009e31c) {
                snprintf(
                    local_828, 0x800,
                    "Different voltage, min = %d, max = %d, use max one.\n",
                    uVar5, uVar4);
                FUN_00047ab4(3, local_828, 0);
            }
            FUN_0001a0f0(uVar4);
            return 0;
        }
        if (3 < DAT_0009e31c) {
            snprintf(
                local_828, 0x800,
                "Different voltage, min = %d, max = %d, diff is too large.\n",
                uVar5, uVar4);
            FUN_00047ab4(3, local_828, 0);
            return 0xffffffff;
        }
    } else if (3 < DAT_0009e31c) {
        builtin_strncpy(local_828, "Voltage read fail.\n", 0x14);
        FUN_00047ab4(3, local_828, 0);
        return 0xffffffff;
    }
    return 0xffffffff;
}

undefined4 FUN_00022d34(void)

{
    ushort uVar1;
    undefined4 uVar2;
    char acStack_808[2048];

    if ((DAT_000a0d78 == '\0') || (((byte)DAT_00241d04 & 0x10) == 0)) {
        uVar2 = FUN_00022b10();
    } else {
        uVar1 = *(ushort *)(DAT_000a0d74 + 2);
        if ((DAT_00241d04._1_1_ & 8) == 0) {
            uVar1 = DAT_00241d0c._2_2_;
        }
        FUN_0001a0f0((uint)uVar1);
        if (3 < DAT_0009e31c) {
            snprintf(acStack_808, 0x800, "set fixed voltage raw to %d\n",
                     (uint)uVar1);
            FUN_00047ab4(3, acStack_808, 0);
            return 0;
        }
        uVar2 = 0;
    }
    return uVar2;
}

float FUN_00022dd8(void)

{
    ushort uVar1;
    uint uVar2;
    int *piVar3;
    uint *puVar4;
    uint *puVar5;
    ushort *puVar6;
    int *piVar7;

    if (DAT_0009c294 == 2) {
        puVar4 = (uint *)0x1371c4;
        piVar7 = DAT_000a0d68 + 0x10;
        puVar6 = (ushort *)((int)DAT_000a0d68 + 0x32b3);
        piVar3 = DAT_000a0d68;
        do {
            piVar3 = piVar3 + 1;
            if (*piVar3 == 1) {
                uVar1 = *puVar6;
                puVar5 = puVar4;
                do {
                    puVar5 = puVar5 + 1;
                    *puVar5 = (uint)uVar1;
                } while (puVar5 != puVar4 + 0x4e);
            }
            puVar4 = puVar4 + 0x4e;
        } while (piVar3 != piVar7);
    }
    uVar2 = FUN_00030cac(&DAT_001371c8, DAT_000a0d79, DAT_0009c298, 1);
    return (float)uVar2;
}

void FUN_00022e9c(undefined4 param_1, int param_2, int param_3)

{
    int iVar1;
    int iVar2;
    int iVar3;
    uint uVar4;
    uint uVar5;
    char local_818[48];
    undefined2 uStack_7e8;
    undefined1 local_7e6;

    iVar2 = DAT_000a0d68;
    if ((*(byte *)(DAT_000a0d68 + 0x329a) == 0) ||
        (uVar5 = *(uint *)(DAT_000a0d68 + 0x3296), uVar5 == 0)) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_818,
                            "Note: addrInterval or corenum is not initialized",
                            0x30);
            uStack_7e8 = 0xa2e;
            local_7e6 = 0;
            FUN_00047ab4(3, local_818, 0);
        }
        iVar2 = DAT_000a0d68;
        *(undefined4 *)(DAT_000a0d68 + 0x44) = 0xffffffff;
        *(undefined4 *)(iVar2 + 0x48) = 0x1ffff;
    } else {
        iVar3 = (uint) * (byte *)(DAT_000a0d68 + 0x329a) << 0x18;
        if (1 < uVar5) {
            uVar4 = 1;
            do {
                uVar4 = uVar4 * 2;
            } while (uVar4 < uVar5);
            iVar3 = FUN_000772e8();
        }
        iVar1 = (iVar3 * param_3) / 100;
        *(int *)(iVar2 + 0x44) = iVar1;
        iVar3 = FUN_00077070(iVar1, param_1, iVar3 * param_3 * 0x51eb851f);
        *(int *)(iVar2 + 0x48) = iVar3;
        if ((((byte)DAT_00241d04 & 4) != 0) && (DAT_00241d10._2_2_ != 0)) {
            iVar3 = (uint)DAT_00241d10._2_1_ * 1000 + (uint)DAT_00241d10._3_1_;
            *(int *)(iVar2 + 0x48) = iVar3;
        }
        uVar5 = (uint)(iVar3 * param_2) >> 2;
        FUN_0006fc8c(uVar5 & 0x1ffff | 0x80000000);
        if (3 < DAT_0009e31c) {
            snprintf(local_818, 0x800,
                     "freq = %d, percent = %d, hcn = %d, timeout = %d\n",
                     param_1, param_3, (uint)(param_2 * iVar1) >> 2, uVar5);
            FUN_00047ab4(3, local_818, 0);
        }
    }
    return;
}

void FUN_0002306c(void)

{
    undefined4 uVar1;
    int iVar2;
    char acStack_818[2048];

    iVar2 = 0;
    do {
        if ((*(int *)(DAT_000a0d68 + iVar2 * 4 + 4) == 1) &&
            (3 < DAT_0009e31c)) {
            uVar1 = FUN_000189c8(iVar2);
            snprintf(acStack_818, 0x800, "Chain [%d] PCB Version: 0x%04x\n",
                     iVar2, uVar1);
            FUN_00047ab4(3, acStack_818, 0);
            if (3 < DAT_0009e31c) {
                uVar1 = FUN_00018a54(iVar2);
                snprintf(acStack_818, 0x800, "Chain [%d] BOM Version: 0x%04x\n",
                         iVar2, uVar1);
                FUN_00047ab4(3, acStack_818, 0);
            }
        }
        iVar2 = iVar2 + 1;
    } while (iVar2 != 0x10);
    return;
}

void FUN_00023150(void)

{
    int iVar1;
    uint uVar2;
    int iVar3;
    int *piVar4;
    char cVar5;
    int *piVar6;
    int local_13c[73];

    *(undefined1 *)(DAT_000a0d68 + 0x3287) = 0;
    FUN_00066410(local_13c);
    FUN_00022088(local_13c);
    iVar1 = DAT_000a0d68;
    memset((void *)(DAT_000a0d68 + 4), 0, 0x40);
    *(undefined1 *)(iVar1 + 0x3287) = 0;
    if (local_13c[0] != 0) {
        iVar3 = 0;
        piVar4 = local_13c;
        do {
            if (piVar4[2] != 0) {
                cVar5 = *(char *)(iVar1 + 0x3287);
                piVar6 = piVar4 + 2;
                uVar2 = 0;
                do {
                    cVar5 = cVar5 + '\x01';
                    piVar6 = piVar6 + 1;
                    uVar2 = uVar2 + 1;
                    *(undefined4 *)(iVar1 + *piVar6 * 4 + 4) = 1;
                } while (uVar2 < (uint)piVar4[2]);
                *(char *)(iVar1 + 0x3287) = cVar5;
            }
            iVar3 = iVar3 + 1;
            piVar4 = piVar4 + 0x12;
        } while (iVar3 != local_13c[0]);
    }
    return;
}

void FUN_0002321c(void)

{
    char acStack_50[68];

    memset(acStack_50, 0, 0x40);
    sprintf(acStack_50, "echo %d > %s", 0, "/sys/class/gpio/gpio941/value");
    system(acStack_50);
    memset(acStack_50, 0, 0x40);
    sprintf(acStack_50, "echo %d > %s", 0, "/sys/class/gpio/gpio942/value");
    system(acStack_50);
    return;
}

void FUN_00023298(void)

{
    int iVar1;
    uint uVar2;
    char acStack_50[64];

    iVar1 = FUN_00036c34();
    if (DAT_0009c294 != 0) {
        switch (DAT_000a0d70) {
        case 1:
            memset(acStack_50, 0, 0x40);
            sprintf(acStack_50, "echo %d > %s", 0,
                    "/sys/class/gpio/gpio941/value");
            system(acStack_50);
            memset(acStack_50, 0, 0x40);
            goto LAB_00023328;
        case 2:
        case 5:
            memset(acStack_50, 0, 0x40);
            sprintf(acStack_50, "echo %d > %s", 0,
                    "/sys/class/gpio/gpio941/value");
            system(acStack_50);
            memset(acStack_50, 0, 0x40);
            sprintf(acStack_50, "echo %d > %s", 1,
                    "/sys/class/gpio/gpio942/value");
            system(acStack_50);
            return;
        default:
            memset(acStack_50, 0, 0x40);
            uVar2 = (uint)DAT_0009c29c;
            DAT_0009c29c = DAT_0009c29c ^ 1;
            break;
        case 6:
            memset(acStack_50, 0, 0x40);
            uVar2 = 0;
        }
        sprintf(acStack_50, "echo %d > %s", uVar2,
                "/sys/class/gpio/gpio941/value");
        system(acStack_50);
        memset(acStack_50, 0, 0x40);
        sprintf(acStack_50, "echo %d > %s", 0, "/sys/class/gpio/gpio942/value");
        system(acStack_50);
        return;
    }
    if (iVar1 == 0) {
        memset(acStack_50, 0, 0x40);
        sprintf(acStack_50, "echo %d > %s", 1, "/sys/class/gpio/gpio941/value");
        system(acStack_50);
        memset(acStack_50, 0, 0x40);
        sprintf(acStack_50, "echo %d > %s", 0, "/sys/class/gpio/gpio942/value");
        system(acStack_50);
        return;
    }
    if (iVar1 == 1) {
        memset(acStack_50, 0, 0x40);
        uVar2 = (uint)DAT_0009c29c;
        DAT_0009c29c = DAT_0009c29c ^ 1;
    } else {
        memset(acStack_50, 0, 0x40);
        uVar2 = 0;
    }
    sprintf(acStack_50, "echo %d > %s", uVar2, "/sys/class/gpio/gpio941/value");
    system(acStack_50);
    memset(acStack_50, 0, 0x40);
LAB_00023328:
    uVar2 = (uint)DAT_0009c29c;
    DAT_0009c29c = DAT_0009c29c ^ 1;
    sprintf(acStack_50, "echo %d > %s", uVar2, "/sys/class/gpio/gpio942/value");
    system(acStack_50);
    return;
}

int *FUN_00023590(void)

{
    uint uVar1;
    int *piVar2;
    int *piVar3;
    int *piVar4;
    undefined4 uVar5;
    int iVar6;
    int iVar7;
    uint uVar8;
    int *piVar9;
    int iVar10;
    byte *pbVar11;
    int *piVar12;
    int iVar13;
    int local_844;
    char acStack_828[2052];

    iVar10 = 0;
    iVar7 = DAT_000a0d6c;
    do {
        if ((DAT_000a0d68[iVar10 + 1] == 1) &&
            (*(char *)((int)DAT_000a0d68 + iVar10 + 0x3276) != '\0')) {
            uVar8 = 0;
            do {
                uVar1 = DAT_0009e31c;
                iVar13 = iVar10 * 0x4e + uVar8;
                uVar5 = *(undefined4 *)((int)DAT_000a0d68 + iVar13 * 8 + 0x4fa);
                iVar6 = iVar10 * 0x1248 + uVar8 * 0x3c + iVar7 % 0x3c;
                *(undefined4 *)(&DAT_000a4dc8 + iVar6 * 8) =
                    *(undefined4 *)((int)DAT_000a0d68 + iVar13 * 8 + 0x4f6);
                *(undefined4 *)(&DAT_000a4dcc + iVar6 * 8) = uVar5;
                if (4 < uVar1) {
                    snprintf(acStack_828, 0x800,
                             "chain %u asic %u asic_nonce_num %llu\n", iVar10,
                             uVar8);
                    FUN_00047ab4(4, acStack_828, 0);
                    iVar7 = DAT_000a0d6c;
                }
                uVar8 = uVar8 + 1;
            } while (uVar8 < *(byte *)((int)DAT_000a0d68 + iVar10 + 0x3276));
        }
        iVar10 = iVar10 + 1;
    } while (iVar10 != 0x10);
    DAT_000a0d6c = iVar7 + 1;
    memset(&DAT_00245234, 0, 0x1000);
    memset(&DAT_002440fc, 0, 0x1000);
    memset(&DAT_00243004, 0, 0x1000);
    iVar10 = 0;
    FUN_0002236c(&DAT_00245234, 10);
    FUN_0002236c(&DAT_002440fc, 0x1e);
    FUN_0002236c(&DAT_00243004, 0x3c);
    piVar2 = DAT_000a0d68;
    piVar4 = (int *)(DAT_000a0d6c * -0x77777777);
    piVar9 = DAT_000a0d68 + 0x10;
    pbVar11 = (byte *)((int)DAT_000a0d68 + 0x3276);
    iVar7 = DAT_000a0d6c % 0x3c + -1;
    piVar12 = DAT_000a0d68;
    if (iVar7 < 0) {
        iVar7 = DAT_000a0d6c % 0x3c + 0x3b;
    }
    do {
        piVar12 = piVar12 + 1;
        if (*piVar12 == 1) {
            if (*pbVar11 == 0) {
                local_844 = iVar10 << 1;
                iVar6 = 0;
            } else {
                local_844 = iVar10 * 2;
                iVar6 = 0;
                uVar8 = 0;
                piVar3 = (int *)(&DAT_000a4dc8 + (iVar10 * 0x1248 + iVar7) * 8);
                do {
                    iVar13 = uVar8 + iVar6;
                    piVar4 = piVar3 + 0x78;
                    if (uVar8 == (uVar8 / 6) * 6) {
                        iVar6 = iVar6 + 1;
                        *(undefined1 *)((int)piVar2 + iVar13 + iVar10 * 0x61 +
                                        0x2bf6) = 0x20;
                        iVar13 = uVar8 + iVar6;
                    }
                    if (*piVar3 < 2) {
                        *(undefined1 *)((int)piVar2 + iVar13 + iVar10 * 0x61 +
                                        0x2bf6) = 0x6f;
                        (&DAT_000a0dc8)[iVar10 * 0x100 + uVar8] =
                            (&DAT_000a0dc8)[iVar10 * 0x100 + uVar8] + 1;
                    } else {
                        *(undefined1 *)((int)piVar2 + iVar13 + iVar10 * 0x61 +
                                        0x2bf6) = 0x6f;
                    }
                    iVar13 = iVar10 * 0x4e + uVar8 + 0x9e;
                    uVar8 = uVar8 + 1;
                    *(undefined2 *)((int)piVar2 + iVar13 * 8 + 6) = 0;
                    *(undefined2 *)(piVar2 + iVar13 * 2 + 2) = 0;
                    *(undefined2 *)((int)piVar2 + iVar13 * 8 + 10) = 0;
                    *(undefined2 *)(piVar2 + iVar13 * 2 + 3) = 0;
                    piVar3 = piVar4;
                } while (uVar8 < *pbVar11);
                iVar6 = uVar8 + iVar6;
            }
            *(undefined1 *)((int)piVar2 + iVar6 + local_844 * 0x20 +
                            iVar10 * 0x21 + 0x2bf6) = 0;
        }
        iVar10 = iVar10 + 1;
        pbVar11 = pbVar11 + 1;
    } while (piVar9 != piVar12);
    return piVar4;
}

void FUN_00023908(int param_1)

{
    uint uVar1;
    char acStack_818[2052];

    uVar1 = 0x4d;
    FUN_0001ae00();
    FUN_0004a804(10);
    do {
        FUN_0001a894(param_1, uVar1);
        FUN_0002ea28(param_1, 0);
        if (*(char *)(DAT_000a0d68 + param_1 + 0x3276) != '\0') {
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(acStack_818, 0x800, "bad asic is %d\n", uVar1);
            FUN_00047ab4(3, acStack_818, 0);
            return;
        }
        uVar1 = uVar1 - 1 & 0xff;
    } while (uVar1 != 0);
    return;
}

undefined4 FUN_000239c4(void)

{
    byte bVar1;
    uint uVar2;
    int iVar3;
    uint uVar4;
    int iVar5;
    undefined4 local_830;
    char acStack_828[2052];

    iVar5 = DAT_000a0d68;
    uVar4 = 0;
    local_830 = 0;
    *(undefined1 *)(DAT_000a0d68 + 0x329b) = 0;
    do {
        iVar3 = iVar5 + uVar4 * 4;
        iVar5 = DAT_000a0d68;
        if (*(int *)(iVar3 + 4) == 1) {
            iVar5 = 0;
            do {
                FUN_00070974(uVar4);
                sleep(3);
                thunk_FUN_00071754(uVar4 & 0xff);
                FUN_0004a804(1000);
                FUN_000709b8(uVar4);
                FUN_0004a804(200);
                FUN_0002ea28(uVar4, 0);
                if (3 < DAT_0009e31c) {
                    snprintf(acStack_828, 0x800,
                             "Chain[%d]: find %d asic, times %d\n", uVar4,
                             (uint) * (byte *)(DAT_000a0d68 + uVar4 + 0x3276),
                             iVar5);
                    FUN_00047ab4(3, acStack_828, 0);
                }
                iVar5 = iVar5 + 1;
                if (*(char *)(DAT_000a0d68 + uVar4 + 0x3276) == 'N') {
                    iVar5 = DAT_000a0d68;
                    if (*(byte *)(DAT_000a0d68 + 0x329b) < 0x4e) {
                        *(undefined1 *)(DAT_000a0d68 + 0x329b) = 0x4e;
                        iVar5 = DAT_000a0d68;
                    }
                    goto joined_r0x00023a18;
                }
                FUN_00022a88(uVar4);
            } while (iVar5 != 3);
            bVar1 = *(byte *)(DAT_000a0d68 + uVar4 + 0x3276);
            uVar2 = (uint)bVar1;
            if (*(byte *)(DAT_000a0d68 + 0x329b) < uVar2) {
                *(byte *)(DAT_000a0d68 + 0x329b) = bVar1;
            }
            iVar5 = DAT_000a0d68;
            if (uVar2 != 0x4e) {
                if (3 < DAT_0009e31c) {
                    snprintf(acStack_828, 0x800,
                             "Chain %d only find %d asic, will power off hash "
                             "board %d\n",
                             uVar4, uVar2, uVar4);
                    FUN_00047ab4(3, acStack_828, 0);
                }
                thunk_FUN_00071928(uVar4 & 0xff);
                iVar3 = DAT_000a0d68;
                iVar5 = DAT_0009c294;
                *(undefined4 *)(DAT_000a0d68 + uVar4 * 4 + 4) = 0;
                *(char *)(iVar3 + 0x3287) = *(char *)(iVar3 + 0x3287) + -1;
                if (iVar5 != 1) {
                    FUN_00031794(1, 0xff);
                    FUN_000226c0(9, "Cannot find all asic!");
                    return 0xffffffff;
                }
                local_830 = 0xffffffff;
                iVar5 = DAT_000a0d68;
            }
        }
    joined_r0x00023a18:
        if (uVar4 == 0xf) {
            DAT_000a0d68 = iVar5;
            return local_830;
        }
        uVar4 = uVar4 + 1;
        DAT_000a0d68 = iVar5;
    } while (true);
}

void FUN_00023bf0(void)

{
    uint uVar1;
    char acStack_810[2052];

    FUN_0006fb84(&DAT_00241d24, 0x20);
    if (3 < DAT_0009e31c) {
        snprintf(acStack_810, 0x800, "miner ID : %s\n", &DAT_00241d24);
        FUN_00047ab4(3, acStack_810, 0);
    }
    uVar1 = FUN_00070cc0();
    if (3 < DAT_0009e31c) {
        snprintf(acStack_810, 0x800, "FPGA Version = 0x%04X\n", uVar1 & 0xffff);
        FUN_00047ab4(3, acStack_810, 0);
    }
    sprintf(&DAT_001b0a18, "%d.%d.%d.%d", uVar1 & 0xff, (uVar1 << 8) >> 0x18, 1,
            3);
    return;
}

undefined4 FUN_00023cc8(void)

{
    void *pvVar1;
    undefined2 *puVar2;

    if (DAT_000a0d68 == (void *)0x0) {
        DAT_000a0d68 = calloc(0x3368, 1);
        if (DAT_000a0d68 == (void *)0x0) {
            return 0xffffffff;
        }
    } else {
        memset(DAT_000a0d68, 0, 0x3368);
    }
    pvVar1 = DAT_000a0d68;
    puVar2 = (undefined2 *)((int)DAT_000a0d68 + 0x3298);
    *(undefined4 *)((int)DAT_000a0d68 + 0x329c) = 0x1c200;
    *(undefined2 *)((int)pvVar1 + 0x3296) = 0x60;
    *puVar2 = 0;
    FUN_000222e8();
    return 0;
}

void FUN_00023d44(void)

{
    int iVar1;
    int *piVar2;
    char *pcVar3;
    sysinfo local_948;
    char acStack_908[256];
    char acStack_808[2048];

    FUN_0004a60c(&DAT_000a0d7c);
    iVar1 = sysinfo(&local_948);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        iVar1 = *piVar2;
        pcVar3 = strerror(iVar1);
        sprintf(acStack_908, "Failed to get sysinfo, errno:%u, reason:%s\n",
                iVar1, pcVar3);
        DAT_00242ea0 = time((time_t *)0x0);
        DAT_00244004 = DAT_00242ea0 + 1;
        return;
    }
    DAT_00244004 = local_948.uptime + 1;
    DAT_00242ea0 = local_948.uptime;
    sprintf(
        acStack_908,
        "set_start_time_point total_tv_start_sys=%ld total_tv_end_sys=%ld\n",
        local_948.uptime, DAT_00244004);
    if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
        (4 < DAT_0009e320)) {
        snprintf(acStack_808, 0x800, "%s", acStack_908);
        FUN_00047ab4(5, acStack_808, 0);
    }
    return;
}

size_t FUN_00023d5c(undefined4 *param_1, int param_2, undefined4 param_3)

{
    undefined2 uVar1;
    void *__s;
    undefined4 *puVar2;
    undefined4 uVar3;
    undefined1 uVar4;
    undefined4 *puVar5;
    undefined4 uVar6;
    size_t __n;
    size_t __size;
    void *pvVar7;
    int iVar8;
    int iVar9;
    undefined4 uVar10;
    int *piVar11;
    int *piVar12;
    bool bVar14;
    undefined4 local_888;
    undefined4 uStack_884;
    undefined2 local_880[2];
    int local_87c;
    undefined1 local_878;
    byte local_877;
    undefined1 local_876;
    undefined4 local_874;
    undefined1 auStack_870[4];
    undefined1 auStack_86c[32];
    undefined1 auStack_84c[4];
    undefined1 auStack_848[4];
    undefined2 local_844;
    undefined2 local_842;
    undefined2 local_840;
    undefined2 local_83e;
    undefined4 local_838;
    undefined4 uStack_834;
    undefined1 local_830;
    undefined4 local_82c;
    char local_828[2052];
    int *piVar13;

    bVar14 = DAT_000a0d90 != '\0';
    local_877 = local_877 & 0xfe | *(byte *)(param_2 + 0x2a8) & 1 | 2;
    local_888 = 0;
    uStack_884 = 0;
    uVar4 = 0x52;
    local_880[0] = 0x52;
    uVar6 = 0xf;
    if (bVar14) {
        uVar4 = *(undefined1 *)(param_2 + 0x284);
    }
    local_876 = 0xf;
    if (bVar14) {
        uVar6 = *(undefined4 *)(param_2 + 0x288);
        local_830 = uVar4;
    }
    local_878 = (undefined1)DAT_000a0d88;
    if (bVar14) {
        local_82c = uVar6;
    }
    local_874 = param_3;
    FUN_00049940(auStack_870, param_2 + 0x6f4);
    FUN_00049940(auStack_86c, param_2 + 0x6b0, 0x20);
    FUN_00049940(auStack_848, param_2 + 0x700, 4);
    FUN_00049940(auStack_84c, param_2 + 0x70c, 4);
    pvVar7 = *(void **)(param_2 + 0x620);
    __n = *(size_t *)(param_2 + 0x624);
    puVar2 = (undefined4 *)((int)pvVar7 + *(int *)(param_2 + 0x628));
    local_842 = (undefined2) * (int *)(param_2 + 0x628);
    local_844 = (undefined2)__n;
    local_840 = (undefined2) * (size_t *)(param_2 + 0x278);
    local_838 = *puVar2;
    uStack_834 = puVar2[1];
    local_888 = *(undefined4 *)(param_2 + 0x270);
    uStack_884 = *(undefined4 *)(param_2 + 0x274);
    memcpy(&local_838, &local_888, *(size_t *)(param_2 + 0x278));
    iVar8 = *(int *)(param_2 + 0x6ac);
    local_83e = (undefined2)iVar8;
    iVar9 = __n + iVar8 * 0x20;
    __size = iVar9 + 0x5a;
    __s = malloc(__size);
    if (__s == (void *)0x0) {
        builtin_strncpy(local_828, "Failed to malloc tmp_buf", 0x18);
        local_828[0x18] = 0;
        FUN_00047ab4(3, local_828, 1);
        FUN_00062ec0(1);
        iVar8 = *(int *)(param_2 + 0x6ac);
        pvVar7 = *(void **)(param_2 + 0x620);
        __n = *(size_t *)(param_2 + 0x624);
    }
    local_87c = iVar9 + 0x52;
    memset(__s, 0, __size);
    memcpy(__s, local_880, 0x58);
    memcpy((void *)((int)__s + 0x58), pvVar7, __n);
    if (0 < iVar8) {
        piVar11 = *(int **)(param_2 + 0x2a4);
        puVar2 = (undefined4 *)((int)__s + __n + 0x58);
        piVar12 = piVar11;
        do {
            piVar13 = piVar12 + 1;
            puVar5 = (undefined4 *)*piVar12;
            uVar10 = puVar5[1];
            uVar6 = puVar5[2];
            uVar3 = puVar5[3];
            *puVar2 = *puVar5;
            puVar2[1] = uVar10;
            puVar2[2] = uVar6;
            puVar2[3] = uVar3;
            uVar10 = puVar5[5];
            uVar6 = puVar5[6];
            uVar3 = puVar5[7];
            puVar2[4] = puVar5[4];
            puVar2[5] = uVar10;
            puVar2[6] = uVar6;
            puVar2[7] = uVar3;
            puVar2 = puVar2 + 8;
            piVar12 = piVar13;
        } while (piVar13 != piVar11 + iVar8);
    }
    uVar1 = FUN_000514f8(__s, iVar9 + 0x58U & 0xffff);
    *(undefined2 *)((int)__s + iVar9 + 0x58) = uVar1;
    bVar14 = 0xfffffffe < DAT_000a0d88;
    DAT_000a0d88 = DAT_000a0d88 + 1;
    DAT_000a0d8c = DAT_000a0d8c + (uint)bVar14;
    pvVar7 = malloc(__size);
    *param_1 = pvVar7;
    memcpy(pvVar7, __s, __size);
    free(__s);
    return __size;
}

/* WARNING: Heritage AFTER dead removal. Example location: r0x0009ee34 :
 * 0x0002414c */
/* WARNING: Restarted to delay deadcode elimination for space: ram */

undefined4 FUN_00023fd4(byte *param_1)

{
    byte bVar1;
    undefined4 uVar2;
    void *__dest;
    uint uVar3;
    int iVar4;
    size_t __nmemb;
    undefined4 local_868;
    int local_864;
    byte *local_860;
    uint local_85c;
    byte *local_858;
    uint local_854;
    undefined4 local_850;
    undefined4 local_84c;
    undefined4 local_848;
    undefined4 local_844;
    int local_840;
    undefined4 local_83c;
    uint local_838;
    uint local_834;
    undefined4 local_830;
    undefined4 uStack_82c;
    uint local_828;
    uint local_824;
    char acStack_820[2048];

    if (*param_1 == 0x52) {
        iVar4 = *(int *)(param_1 + 4);
        if ((DAT_001aecc5 != '\0') &&
            (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
              (6 < DAT_0009e320)))) {
            snprintf(acStack_820, 0x800, "%s: len = 0x%x\n",
                     "dhash_chip_send_job", iVar4);
            FUN_00047ab4(7, acStack_820, 0);
        }
        __nmemb = iVar4 + 8;
        __dest = calloc(__nmemb, 1);
        if (__dest != (void *)0x0) {
            memcpy(__dest, param_1, __nmemb);
            iVar4 = DAT_0009c2a0;
            if (DAT_000a0d90 != '\0') {
                if (*(char *)((int)__dest + 0x50) == '\0') {
                    DAT_0009ee34 = 1;
                } else {
                    DAT_0009ee34 = *(int *)((int)__dest + 0x54);
                }
                if ((DAT_0009c2a0 != DAT_0009ee34) &&
                    (iVar4 = DAT_0009ee34, 3 < DAT_0009e31c)) {
                    snprintf(acStack_820, 0x800, "Version num %d\n");
                    FUN_00047ab4(3, acStack_820, 0);
                    iVar4 = DAT_0009ee34;
                }
            }
            DAT_0009c2a0 = iVar4;
            bVar1 = *(byte *)((int)__dest + 9);
            iVar4 = DAT_000a0d68;
            if ((bVar1 & 2) != 0) {
                FUN_0006fe4c(*(undefined1 *)((int)__dest + 10));
                iVar4 = DAT_000a0d68;
                *(undefined1 *)(DAT_000a0d68 + 0x32b0) =
                    *(undefined1 *)((int)__dest + 10);
                bVar1 = *(byte *)((int)__dest + 9);
            }
            local_864 = DAT_0009ee34;
            local_824 = bVar1 & 1;
            local_860 = param_1 + 0x58;
            local_844 = *(undefined4 *)((int)__dest + 0x10);
            local_85c = (uint) * (ushort *)((int)__dest + 0x3c);
            local_848 = *(undefined4 *)((int)__dest + 0xc);
            local_828 = (uint)(*(int *)(iVar4 + 0x48) * DAT_0009ee34) >> 2;
            local_834 = (uint) * (ushort *)((int)__dest + 0x40);
            local_854 = (uint) * (ushort *)((int)__dest + 0x42);
            local_84c = *(undefined4 *)((int)__dest + 0x38);
            local_840 = (int)__dest + 0x14;
            local_838 = (uint) * (ushort *)((int)__dest + 0x3e);
            local_830 = *(undefined4 *)((int)__dest + 0x48);
            uStack_82c = *(undefined4 *)((int)__dest + 0x4c);
            local_850 = *(undefined4 *)((int)__dest + 0x34);
            local_858 = param_1 + local_85c + 0x58;
            local_83c = 0x20;
            local_868 = 0;
            if (DAT_000a0d91 == '\0') {
                uVar3 = FUN_000702ac();
                FUN_000702cc(uVar3 | 0x10000);
                uVar3 = FUN_0006f79c();
                FUN_0006f7c4(uVar3 | 0x80);
                DAT_000a0d91 = '\x01';
            }
            if (4 < DAT_0009e31c) {
                snprintf(acStack_820, 0x800,
                         "start to send job, mid_auto_gen = %d", local_868);
                FUN_00047ab4(4, acStack_820, 0);
            }
            FUN_00070330(&local_868);
            free(__dest);
            if ((DAT_001aecc5 != '\0') &&
                (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                  (6 < DAT_0009e320)))) {
                snprintf(acStack_820, 0x800, "--- %s end\n",
                         "dhash_chip_send_job");
                FUN_00047ab4(7, acStack_820, 0);
            }
            FUN_0004a60c(&DAT_000a0d7c);
            FUN_0004a804(1);
            return 0;
        }
        if ((DAT_001aecc5 == '\0') ||
            (((DAT_00244080 == '\0' && (DAT_001aecc4 == '\0')) &&
              (DAT_0009e320 < 7)))) {
            uVar2 = 0xfffffffe;
        } else {
            snprintf(acStack_820, 0x800, "%s: malloc buffer failed.\n",
                     "dhash_chip_send_job");
            FUN_00047ab4(7, acStack_820, 0);
            uVar2 = 0xfffffffe;
        }
    } else {
        if ((DAT_001aecc5 == '\0') ||
            (((DAT_00244080 == '\0' && (DAT_001aecc4 == '\0')) &&
              (DAT_0009e320 < 7)))) {
            return 0xffffffff;
        }
        snprintf(acStack_820, 0x800, "%s: SEND_JOB_TYPE is wrong : 0x%x\n",
                 "dhash_chip_send_job", (uint)*param_1);
        FUN_00047ab4(7, acStack_820, 0);
        uVar2 = 0xffffffff;
    }
    return uVar2;
}

void FUN_00024418(void)

{
    FUN_0006fb14();
    FUN_0007090c(0xf);
    sleep(2);
    return;
}

void FUN_00024434(undefined4 *param_1, undefined4 *param_2)

{
    int iVar1;
    int iVar2;
    void *pvVar3;
    void *pvVar4;
    int *piVar5;
    undefined4 uVar6;
    undefined4 *puVar7;
    undefined4 *puVar8;
    size_t __nmemb;
    int iVar9;
    undefined4 uVar10;
    undefined4 uVar11;
    char local_828[44];
    ushort local_7fc;
    undefined1 local_7fa;

    if (param_2[0xa8] == 0) {
        return;
    }
    iVar9 = param_2[0x1ab];
    __nmemb = param_2[0x189];
    iVar2 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0x35));
    if (iVar2 != 0) {
        piVar5 = __errno_location();
        snprintf(local_828, 0x800,
                 "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar5,
                 "driver-btm-api.c", "copy_pool_stratum", 0x4c0);
        FUN_00047ab4(3, local_828, 1);
        FUN_00062ec0(1);
    }
    iVar2 = pthread_rwlock_wrlock((pthread_rwlock_t *)(param_1 + 0x3b));
    if (iVar2 != 0) {
        piVar5 = __errno_location();
        snprintf(local_828, 0x800,
                 "WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d", *piVar5,
                 "driver-btm-api.c", "copy_pool_stratum", 0x4c0);
        FUN_00047ab4(3, local_828, 1);
        FUN_00062ec0(1);
    }
    free((void *)param_1[0xa8]);
    free((void *)param_1[0x99]);
    free((void *)param_1[0x188]);
    if ((__nmemb & 3) != 0) {
        __nmemb = (__nmemb & 0xfffffffc) + 4;
    }
    pvVar3 = calloc(__nmemb, 1);
    param_1[0x188] = pvVar3;
    if (pvVar3 == (void *)0x0) {
        builtin_strncpy(local_828,
                        "Failed to calloc pool_stratum coinbase in c5", 0x2c);
        local_7fc = local_7fc & 0xff00;
        FUN_00047ab4(3, local_828, 1);
        FUN_00062ec0(1);
        pvVar3 = (void *)param_1[0x188];
    }
    memcpy(pvVar3, (void *)param_2[0x188], __nmemb);
    if (0 < (int)param_1[0x1ab]) {
        iVar2 = 0;
        do {
            iVar1 = iVar2 * 4;
            iVar2 = iVar2 + 1;
            free(*(void **)(param_1[0xa9] + iVar1));
        } while (iVar2 < (int)param_1[0x1ab]);
    }
    if (iVar9 != 0) {
        pvVar3 = realloc((void *)param_1[0xa9], iVar9 * 4 + 1);
        param_1[0xa9] = pvVar3;
        if (0 < iVar9) {
            iVar2 = 0;
            while (true) {
                iVar1 = iVar2 * 4;
                pvVar4 = malloc(0x20);
                *(void **)((int)pvVar3 + iVar2 * 4) = pvVar4;
                puVar8 = *(undefined4 **)(param_1[0xa9] + iVar2 * 4);
                if (puVar8 == (undefined4 *)0x0) {
                    builtin_strncpy(
                        local_828,
                        "Failed to malloc pool_stratum swork merkle_b", 0x2c);
                    local_7fc = 0x6e69;
                    local_7fa = 0;
                    FUN_00047ab4(3, local_828, 1);
                    FUN_00062ec0(1);
                    puVar8 = *(undefined4 **)(param_1[0xa9] + iVar2 * 4);
                }
                iVar2 = iVar2 + 1;
                puVar7 = *(undefined4 **)(param_2[0xa9] + iVar1);
                uVar10 = puVar7[1];
                uVar6 = puVar7[2];
                uVar11 = puVar7[3];
                *puVar8 = *puVar7;
                puVar8[1] = uVar10;
                puVar8[2] = uVar6;
                puVar8[3] = uVar11;
                uVar10 = puVar7[5];
                uVar6 = puVar7[6];
                uVar11 = puVar7[7];
                puVar8[4] = puVar7[4];
                puVar8[5] = uVar10;
                puVar8[6] = uVar6;
                puVar8[7] = uVar11;
                if (iVar9 == iVar2)
                    break;
                pvVar3 = (void *)param_1[0xa9];
            }
        }
    }
    *param_1 = *param_2;
    uVar6 = param_2[0x1c9];
    param_1[0x1c8] = param_2[0x1c8];
    param_1[0x1c9] = uVar6;
    param_1[0x189] = param_2[0x189];
    param_1[0x18a] = param_2[0x18a];
    param_1[0x9e] = param_2[0x9e];
    param_1[0x1ab] = param_2[0x1ab];
    uVar6 = __strdup(param_2[0xa8]);
    param_1[0xa8] = uVar6;
    uVar6 = __strdup(param_2[0x99]);
    param_1[0x99] = uVar6;
    uVar11 = param_2[0x1c4];
    uVar6 = param_2[0x1c5];
    param_1[0x1c3] = param_2[0x1c3];
    param_1[0x1c4] = uVar11;
    param_1[0x1c5] = uVar6;
    memcpy(param_1 + 0x18b, param_2 + 0x18b, 0x80);
    iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x3b));
    if (iVar2 != 0) {
        piVar5 = __errno_location();
        snprintf(local_828, 0x800,
                 "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar5,
                 "driver-btm-api.c", "copy_pool_stratum", 0x4e6);
        FUN_00047ab4(3, local_828, 1);
        FUN_00062ec0(1);
    }
    iVar2 = pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0x35));
    if (iVar2 != 0) {
        piVar5 = __errno_location();
        snprintf(local_828, 0x800,
                 "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar5,
                 "driver-btm-api.c", "copy_pool_stratum", 0x4e6);
        FUN_00047ab4(3, local_828, 1);
        FUN_00062ec0(1);
    }
    (*DAT_0009e444)();
    return;
}

void FUN_00024848(undefined4 param_1)

{
    DAT_000a0d94 = param_1;
    return;
}

uint FUN_00024858(void)

{
    char local_810[2052];

    if ((DAT_000a0d94 != (uint3 *)0x0) && (3 < DAT_0009e31c)) {
        snprintf(local_810, 0x800,
                 "pulse_mode = %d, ccdly_sel = %d, pwth_sel = %d\n",
                 (uint)(byte)*DAT_000a0d94,
                 (uint) * (byte *)((int)DAT_000a0d94 + 2),
                 (uint) * (byte *)((int)DAT_000a0d94 + 1));
        FUN_00047ab4(3, local_810, 0);
    }
    return (uint)*DAT_000a0d94;
}

void FUN_00024904(void)

{
    uint uVar1;

    uVar1 = FUN_00024858();
    FUN_0001a850();
    FUN_0001ae00();
    FUN_0004a804(10);
    FUN_0001ace4();
    FUN_0004a804(100);
    FUN_0001b0ec(0xff, uVar1 & 0xff);
    FUN_0001b138(0xff, (char)(uVar1 >> 8), (char)(uVar1 >> 0x10), 0);
    FUN_0004a804(5);
    FUN_0001ac10(0xff);
    FUN_0004a804(10);
    FUN_0001a958(0xff, 0, 1, 3);
    FUN_0001a9d4(0xff);
    FUN_0001b298(0xff, 0);
    return;
}

undefined4 FUN_000249b0(void)

{
    uint uVar1;
    int iVar2;
    uint uVar3;
    char local_810[20];
    undefined4 uStack_7fc;
    char acStack_7f8[2028];

    FUN_00024418();
    FUN_00013ee8(100);
    FUN_0006fbe0(0x40000000);
    FUN_00023bf0();
    FUN_00070b9c();
    FUN_00023150();
    if (*(byte *)(DAT_000a0d68 + 0x3287) == 0) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_810, "No chain exist, exit", 0x14);
            uStack_7fc = CONCAT13(uStack_7fc._3_1_, 0xa2e);
            FUN_00047ab4(3, local_810, 0);
        }
    } else {
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (4 < DAT_0009e320)) {
            snprintf(local_810, 0x800, "chain num = %d",
                     (uint) * (byte *)(DAT_000a0d68 + 0x3287));
            FUN_00047ab4(5, local_810, 0);
        }
        uVar3 = 0;
        do {
            iVar2 = uVar3 * 4;
            uVar1 = uVar3 & 0xff;
            uVar3 = uVar3 + 1;
            if (*(int *)(DAT_000a0d68 + iVar2 + 4) == 1) {
                thunk_FUN_00075d08(uVar1);
            }
        } while (uVar3 != 0x10);
        FUN_000185fc(1);
        iVar2 = FUN_000188cc();
        if (iVar2 != 0) {
            return 0;
        }
        if (DAT_0009c294 != 1) {
            FUN_00031794(3, 0xff);
        }
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_810, "Fixture data load fa", 0x14);
            uStack_7fc._0_1_ = 'i';
            uStack_7fc._1_1_ = 'l';
            uStack_7fc._2_1_ = 'e';
            uStack_7fc._3_1_ = 'd';
            builtin_strncpy(acStack_7f8, ", exit.\n", 8);
            acStack_7f8[8] = 0;
            FUN_00047ab4(3, local_810, 0);
            return 0xffffffff;
        }
    }
    return 0xffffffff;
}

/* WARNING: Restarted to delay deadcode elimination for space: ram */

int FUN_00024b88(void)

{
    byte bVar1;
    int iVar2;
    int iVar3;
    int iVar4;
    char local_828[16];
    undefined4 local_818;
    undefined4 local_814;
    undefined4 local_810;
    undefined4 uStack_80c;
    char local_808[12];
    undefined2 local_7fc;

    iVar2 = FUN_0003c4fc(0);
    if (iVar2 == 0) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_828, "board adapt fail", 0x10);
            local_818._0_1_ = 'e';
            local_818._1_1_ = 'd';
            local_818._2_1_ = ',';
            local_818._3_1_ = ' ';
            local_814._0_1_ = 'e';
            local_814._1_1_ = 'x';
            local_814._2_1_ = 'i';
            local_814._3_1_ = 't';
            local_810 = CONCAT22(local_810._2_2_, 10);
            FUN_00047ab4(3, local_828, 0);
            return -1;
        }
    } else if (((DAT_0009c294 == 1) ||
                ((DAT_0009c294 == 0 &&
                  (iVar2 = FUN_000344e0(), iVar2 != 0)))) &&
               (iVar2 = FUN_000188e0(), iVar2 == 0)) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_828, "Miner data load ", 0x10);
            local_818._0_1_ = 'f';
            local_818._1_1_ = 'a';
            local_818._2_1_ = 'i';
            local_818._3_1_ = 'l';
            local_814._0_1_ = 'e';
            local_814._1_1_ = 'd';
            local_814._2_1_ = ',';
            local_814._3_1_ = ' ';
            local_810._0_1_ = 'e';
            local_810._1_1_ = 'x';
            local_810._2_1_ = 'i';
            local_810._3_1_ = 't';
            uStack_80c = CONCAT13(uStack_80c._3_1_, 0xa2e);
            FUN_00047ab4(3, local_828, 0);
            return -1;
        }
    } else {
        iVar4 = 0;
        iVar3 = 0;
        iVar2 = DAT_000a0d68;
        do {
            while (*(int *)(iVar2 + iVar3 * 4 + 4) == 1) {
                iVar2 = FUN_00018ae0(iVar3);
                iVar4 = iVar4 + iVar2;
                if (3 < DAT_0009e31c) {
                    snprintf(local_828, 0x800, "product_id[%d] = %d\n", iVar3,
                             iVar2);
                    FUN_00047ab4(3, local_828, 0);
                }
                iVar3 = iVar3 + 1;
                iVar2 = DAT_000a0d68;
                if (iVar3 == 0x10)
                    goto LAB_00024c54;
            }
            iVar3 = iVar3 + 1;
        } while (iVar3 != 0x10);
    LAB_00024c54:
        bVar1 = *(byte *)(iVar2 + 0x3287);
        iVar2 = FUN_000772e8(iVar4, (uint)bVar1);
        if (iVar2 * (uint)bVar1 - iVar4 == 0) {
            if (iVar2 != 0xff) {
                DAT_0009c2a4 = iVar2;
                FUN_0002306c();
                if (0 < DAT_00242f4c) {
                    iVar3 = 0;
                    iVar2 = 0;
                    do {
                        iVar4 = *(int *)(DAT_00244048 + iVar2 * 4);
                        if (**(char **)(iVar4 + 0xa4) != '\0') {
                            if (**(char **)(iVar4 + 0xac) == '\0') {
                                if (3 < DAT_0009e31c) {
                                    builtin_strncpy(local_828,
                                                    "Blank worker exi", 0x10);
                                    local_818._0_1_ = 's';
                                    local_818._1_1_ = 't';
                                    local_818._2_1_ = 's';
                                    local_818._3_1_ = '.';
                                    local_814._0_2_ = 10;
                                    FUN_00047ab4(3, local_828, 0);
                                }
                            } else {
                                iVar3 = iVar3 + 1;
                            }
                        }
                        iVar2 = iVar2 + 1;
                    } while (iVar2 < DAT_00242f4c);
                    if (iVar3 != 0) {
                        iVar2 = FUN_00013c54(4000, 1);
                        if (iVar2 != 0) {
                            return iVar2;
                        }
                        if (3 < DAT_0009e31c) {
                            builtin_strncpy(local_828, "Fan check passed",
                                            0x10);
                            local_818._0_3_ = 0xa2e;
                            FUN_00047ab4(3, local_828, 0);
                        }
                        iVar2 = FUN_00022ab8();
                        if (iVar2 != 0) {
                            if (*(char *)(DAT_000a0d68 + 0x3287) == '\0') {
                                return iVar2;
                            }
                            if (DAT_0009c294 == 0) {
                                return iVar2;
                            }
                        }
                        FUN_00021690();
                        iVar2 = FUN_00019e90();
                        if (iVar2 != 0) {
                            return iVar2;
                        }
                        if (3 < DAT_0009e31c) {
                            snprintf(local_828, 0x800,
                                     "Enter %ds sleep to make sure power "
                                     "release finish.\n",
                                     0x1e);
                            FUN_00047ab4(3, local_828, 0);
                        }
                        FUN_00019e7c();
                        sleep(0x1e);
                        FUN_00019e68();
                        iVar2 = FUN_0001a300();
                        if (iVar2 == 0) {
                            FUN_0006f7c4(0x8400);
                            FUN_0006fd34();
                            FUN_0004a804(10);
                            FUN_00021e78(0x1c200);
                            FUN_0004a804(10);
                            iVar2 = FUN_000239c4();
                            if (iVar2 != 0) {
                                if (*(char *)(DAT_000a0d68 + 0x3287) == '\0') {
                                    return iVar2;
                                }
                                if (DAT_0009c294 == 0) {
                                    return iVar2;
                                }
                            }
                            iVar2 = FUN_0001a420();
                            if (iVar2 == 0) {
                                FUN_00024904();
                                DAT_001aea10 = 0;
                                DAT_001aea14 = 0;
                                DAT_001aea18 = 0;
                                return 0;
                            }
                            return iVar2;
                        }
                        return iVar2;
                    }
                }
                if (DAT_0009e31c < 4) {
                    return -1;
                }
                builtin_strncpy(local_828, "No valid pools, ", 0x10);
                local_818._0_1_ = 'p';
                local_818._1_1_ = 'l';
                local_818._2_1_ = 'e';
                local_818._3_1_ = 'a';
                local_814._0_1_ = 's';
                local_814._1_1_ = 'e';
                local_814._2_1_ = ' ';
                local_814._3_1_ = 'c';
                local_810._0_1_ = 'o';
                local_810._1_1_ = 'n';
                local_810._2_1_ = 'f';
                local_810._3_1_ = 'i';
                uStack_80c._0_1_ = 'g';
                uStack_80c._1_1_ = 'u';
                uStack_80c._2_1_ = 'r';
                uStack_80c._3_1_ = 'e';
                builtin_strncpy(local_808, " them first!", 0xc);
                local_7fc = 10;
                FUN_00047ab4(3, local_828, 0);
                return -1;
            }
        } else if (3 < DAT_0009e31c) {
            builtin_strncpy(local_828, "Product id are d", 0x10);
            local_818._0_1_ = 'i';
            local_818._1_1_ = 'f';
            local_818._2_1_ = 'f';
            local_818._3_1_ = 'e';
            local_814._0_1_ = 'r';
            local_814._1_1_ = 'e';
            local_814._2_1_ = 'n';
            local_814._3_1_ = 't';
            local_810 = CONCAT13(local_810._3_1_, 0xa2e);
            FUN_00047ab4(3, local_828, 0);
        }
        FUN_00031794(0xf, 0xff);
        DAT_0009c2a4 = 0xff;
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_828, "product id is in", 0x10);
            local_818._0_1_ = 'v';
            local_818._1_1_ = 'a';
            local_818._2_1_ = 'l';
            local_818._3_1_ = 'i';
            local_814 = CONCAT13(local_814._3_1_, 0xa64);
            FUN_00047ab4(3, local_828, 0);
            return -1;
        }
    }
    return -1;
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */

undefined4 FUN_00025098(uint param_1, uint param_2, undefined4 param_3,
                        undefined4 param_4, undefined4 param_5,
                        undefined4 param_6, undefined4 param_7, uint param_8)

{
    int iVar1;
    char cVar2;
    FILE *__stream;
    size_t __size;
    size_t sVar3;
    undefined2 uVar4;
    char *pcVar5;
    uint uVar6;
    uint uVar7;
    float fVar8;
    undefined1 *puVar9;
    char local_89d;
    uint local_89c;
    uint uStack_898;
    undefined4 uStack_894;
    undefined4 uStack_890;
    undefined4 local_88c;
    undefined4 uStack_888;
    undefined4 uStack_884;
    uint uStack_880;
    char local_838[20];
    undefined4 uStack_824;
    char acStack_820[16];
    undefined2 local_810;

    DAT_0009c294 = 2;
    DAT_000a0d78 = '\x01';
    local_89d = '\0';
    if (DAT_0009e31c < 4)
        goto LAB_00025100;
    FUN_000225b4();
    if (3 < DAT_0009e31c) {
        puVar9 = &DAT_001b08e4;
        snprintf(local_838, 0x800, "Miner compile time: %s type: %s\n",
                 &DAT_001b07e4, &DAT_001b08e4);
        FUN_00047ab4(3, local_838, 0);
        if (DAT_0009e31c < 4)
            goto LAB_00025100;
        memcpy(local_838,
               "commit version: f92c682 2020-01-08 18:55:42, build by: lzq "
               "2020-01-14 15:00:34\n",
               0x50);
        FUN_00047ab4(3, local_838, 0);
        if (DAT_0009e31c < 4)
            goto LAB_00025100;
        snprintf(local_838, 0x800, "opt_multi_version     = %d\n", DAT_0009ee34,
                 puVar9);
        FUN_00047ab4(3, local_838, 0);
        if (DAT_0009e31c < 4)
            goto LAB_00025100;
        snprintf(local_838, 0x800, "opt_bitmain_ab        = %d\n",
                 (uint)DAT_0009ee64);
        FUN_00047ab4(3, local_838, 0);
    }
    if (3 < DAT_0009e31c) {
        snprintf(local_838, 0x800, "mid_auto_gen          = %d\n", 0);
        FUN_00047ab4(3, local_838, 0);
        if (3 < DAT_0009e31c) {
            snprintf(local_838, 0x800, "opt_bitmain_work_mode = %d\n",
                     DAT_0009ee38);
            FUN_00047ab4(3, local_838, 0);
        }
    }
LAB_00025100:
    __stream = fopen64("/nvdata/sn", "r");
    if (__stream == (FILE *)0x0) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_838, "no SN got, please wr", 0x14);
            uStack_824._0_1_ = 'i';
            uStack_824._1_1_ = 't';
            uStack_824._2_1_ = 'e';
            uStack_824._3_1_ = ' ';
            builtin_strncpy(acStack_820, "SN to /nvdata/sn", 0x10);
            local_810 = 10;
            FUN_00047ab4(3, local_838, 0);
        }
    } else {
        fseek(__stream, 0, 2);
        __size = ftell(__stream);
        fseek(__stream, 0, 0);
        if (99 < (int)__size) {
            __size = 100;
        }
        sVar3 = fread(&local_89c, __size, 1, __stream);
        if (sVar3 == 0) {
            if (3 < DAT_0009e31c) {
                builtin_strncpy(local_838, "read /nvdata/sn wron", 0x14);
                uStack_824._0_3_ = 0xa67;
                FUN_00047ab4(3, local_838, 0);
            }
        } else {
            if ((&local_89d)[__size] == '\n') {
                (&local_89d)[__size] = '\0';
            }
            if (3 < DAT_0009e31c) {
                snprintf(local_838, 0x800, "%s\n", &local_89c);
                FUN_00047ab4(3, local_838, 0);
            }
        }
        fclose(__stream);
    }
    FUN_000669c4();
    FUN_00014350();
    FUN_00014420();
    DAT_0009ee64 = 1;
    DAT_0009ee34 = 8;
    FUN_0001ee10();
    FUN_0001fd84();
    local_88c = param_5;
    uStack_888 = param_6;
    uStack_884 = param_7;
    uStack_880 = param_8;
    DAT_00241d10 = param_5;
    DAT_00241d14 = param_6;
    DAT_00241d18 = param_7;
    DAT_00241d1c = param_8;
    uVar6 = param_1 & 0xff;
    DAT_00241d00 = param_1;
    DAT_00241d04 = param_2;
    _DAT_00241d08 = param_3;
    DAT_00241d0c = param_4;
    local_89c = param_1;
    uStack_898 = param_2;
    uStack_894 = param_3;
    uStack_890 = param_4;
    if (uVar6 == 0x51) {
        uVar6 = FUN_000514f8(&DAT_00241d00, 0x1e);
        uVar7 = DAT_00241d1c >> 0x10;
        if (uVar6 == uVar7) {
            memset(local_838, 0, 0x40);
            sprintf(local_838, "echo %d > %s", 0,
                    "/sys/class/gpio/gpio941/value");
            system(local_838);
            memset(local_838, 0, 0x40);
            sprintf(local_838, "echo %d > %s", 0,
                    "/sys/class/gpio/gpio942/value");
            system(local_838);
            cVar2 = FUN_000667a0();
            if (cVar2 != '\0') {
                return 0;
            }
            cVar2 = FUN_00023cc8();
            if (cVar2 != '\0') {
                return 0;
            }
            cVar2 = FUN_00066298();
            if (cVar2 != '\0') {
                return 0;
            }
            cVar2 = FUN_000249b0();
            if (cVar2 != '\0') {
                return 0;
            }
            if (DAT_0009c294 == 0) {
                cVar2 = FUN_00034568(0xa1);
                uVar6 = 0;
                do {
                    uVar7 = uVar6 & 0xff;
                    iVar1 = uVar6 * 4;
                    uVar6 = uVar6 + 1;
                    if (*(int *)(DAT_000a0d68 + iVar1 + 4) == 1) {
                        thunk_FUN_00075d08(uVar7);
                    }
                } while (uVar6 != 0x10);
                if (cVar2 != '\0') {
                    return 0;
                }
            }
            cVar2 = FUN_000217a8();
            if (cVar2 != '\0') {
                return 0;
            }
            cVar2 = FUN_00024b88();
            iVar1 = DAT_000a0d68;
            if (cVar2 != '\0') {
                return 0;
            }
            if ((DAT_000a0d78 == '\0') || ((DAT_00241d04 & 8) == 0)) {
                *(undefined1 *)(DAT_000a0d68 + 0x32b3) = 0x2c;
                *(undefined1 *)(iVar1 + 0x32b4) = 1;
            } else {
                if ((DAT_00241d04 & 0x800) == 0) {
                    uVar4 = (undefined2)DAT_00241d0c;
                } else {
                    uVar4 = *DAT_000a0d74;
                }
                pcVar5 = (char *)(DAT_000a0d68 + 0x32b5);
                *(undefined2 *)(DAT_000a0d68 + 0x32b3) = uVar4;
                sprintf(pcVar5, "%u", (uint) * (ushort *)(iVar1 + 0x32b3));
                if (3 < DAT_0009e31c) {
                    snprintf(local_838, 0x800, "fixd frequency is %d\n",
                             (uint) * (ushort *)(DAT_000a0d68 + 0x32b3));
                    FUN_00047ab4(3, local_838, 0);
                }
            }
            cVar2 = FUN_00022d34();
            if (cVar2 != '\0') {
                return 0;
            }
            FUN_00015c50();
            cVar2 = FUN_00015da8();
            if (cVar2 != '\0') {
                FUN_00014b6c();
            }
            FUN_0004a804(10);
            FUN_00021f2c();
            FUN_0004a804(10);
            FUN_00015e90(0);
            cVar2 = FUN_000228fc();
            if (cVar2 != '\0') {
                return 0;
            }
            cVar2 = FUN_000219e0();
            if (cVar2 != '\0') {
                return 0;
            }
            cVar2 = FUN_000218c0();
            if (cVar2 != '\0') {
                return 0;
            }
            cVar2 = FUN_00021578();
            if (cVar2 != '\0') {
                return 0;
            }
            if ((DAT_0009c294 != 2) &&
                (cVar2 = FUN_000305a8(), cVar2 != '\0')) {
                return 0;
            }
            fVar8 = (float)FUN_00022dd8();
            FUN_00022e9c((int)fVar8, DAT_0009ee34, 0x5a);
            FUN_00031368(&local_89d);
            if (local_89d == '\0') {
                cVar2 = FUN_0001a3b8();
            } else {
                cVar2 = FUN_0001a488();
            }
            if (cVar2 != '\0') {
                return 0;
            }
            FUN_00021f4c();
            cVar2 = FUN_000218c8();
            if (cVar2 != '\0') {
                return 0;
            }
            FUN_0004a804(500);
            if (DAT_0009e31c < 4) {
                return 1;
            }
            builtin_strncpy(local_838, "Init done!\n", 0xc);
            FUN_00047ab4(3, local_838, 0);
            return 1;
        }
        if (DAT_0009e31c < 5) {
            return 0;
        }
        pcVar5 = "config_parameter.crc = 0x%x, but we calculate it as 0x%x\n";
    } else {
        if (DAT_0009e31c < 5) {
            return 0;
        }
        pcVar5 = "config_parameter.token_type != 0x%x, it is 0x%x\n";
        uVar7 = 0x51;
    }
    snprintf(local_838, 0x800, pcVar5, uVar7, uVar6);
    FUN_00047ab4(4, local_838, 0);
    return 0;
}

undefined4 FUN_000257e4(void)

{
    int iVar1;
    float fVar2;
    char local_811;
    char local_810[2048];

    local_811 = '\0';
    if (3 < DAT_0009e31c) {
        builtin_strncpy(local_810, "reopen_core start!\n", 0x14);
        FUN_00047ab4(3, local_810, 0);
    }
    pthread_mutex_lock((pthread_mutex_t *)&DAT_000a0d98);
    pthread_mutex_lock((pthread_mutex_t *)&DAT_000a0db0);
    memset(local_810, 0, 0x40);
    sprintf(local_810, "echo %d > %s", 0, "/sys/class/gpio/gpio941/value");
    system(local_810);
    memset(local_810, 0, 0x40);
    sprintf(local_810, "echo %d > %s", 0, "/sys/class/gpio/gpio942/value");
    system(local_810);
    iVar1 = FUN_000249b0();
    if (((iVar1 == 0) && (iVar1 = FUN_00024b88(), iVar1 == 0)) &&
        (iVar1 = FUN_00022d34(), iVar1 == 0)) {
        FUN_00015c50();
        iVar1 = FUN_00015da8();
        if (iVar1 != 0) {
            FUN_00014b6c();
        }
        FUN_0004a804(10);
        FUN_00021f2c();
        FUN_0004a804(10);
        FUN_00015e90(0);
        iVar1 = FUN_000228fc();
        if (iVar1 == 0) {
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_000a0db0);
            fVar2 = (float)FUN_00022dd8();
            FUN_00022e9c((int)fVar2, DAT_0009ee34, 0x5a);
            FUN_00031368(&local_811);
            if (local_811 == '\0') {
                iVar1 = FUN_0001a3b8();
            } else {
                iVar1 = FUN_0001a488();
            }
            if (iVar1 == 0) {
                FUN_00021f4c();
                pthread_mutex_unlock((pthread_mutex_t *)&DAT_000a0d98);
                FUN_0004a60c(&DAT_000a0d7c);
                FUN_0004a804(500);
                if (3 < DAT_0009e31c) {
                    builtin_strncpy(local_810, "reopen_core done!\n", 0x12);
                    /* WARNING: Ignoring partial resolution of indirect */
                    FUN_00047ab4(3, local_810, 0);
                }
            }
        }
    }
    return 0;
}

void FUN_000259f4(undefined4 param_1, undefined4 param_2)

{
    undefined1 auStack_c[8];

    FUN_00076f20(s_bitmain_submit_nonce_0009c2b0, param_1, param_2, auStack_c,
                 0, 0);
    return;
}

void FUN_00025a28(undefined4 param_1, undefined4 param_2)

{
    undefined1 auStack_c[8];

    FUN_00076f20(s_bitmain_api_status_0009c334, param_1, param_2, auStack_c, 0,
                 0);
    return;
}

undefined4 FUN_00025a5c(void)

{
    int iVar1;

    puts("bmminer_socket_init");
    while (iVar1 = FUN_00076964(&DAT_0009c3b8, 3), iVar1 != 0) {
        sleep(3);
    }
    sleep(3);
    puts("regist ..");
    while (true) {
        FUN_00076c60(s_bitmain_submit_nonce_0009c2b0);
        iVar1 = FUN_00076c60(s_bitmain_api_status_0009c334);
        if (iVar1 == 0)
            break;
        sleep(3);
    }
    puts("regist done!");
    return 0;
}

void FUN_00025b64(undefined4 param_1)

{
    int *piVar1;
    char acStack_808[2048];

    piVar1 = __errno_location();
    snprintf(acStack_808, 0x800,
             "Failed to pthread_mutex_init errno=%d in %s %s():%d", *piVar1,
             "bmminer.c", "bitmain_soc_prepare", param_1);
    FUN_00047ab4(3, acStack_808, 1);
    FUN_00062ec0(1);
    return;
}

void FUN_00025bc4(pthread_mutex_t *param_1, undefined4 param_2)

{
    int *piVar1;
    int iVar2;
    char acStack_808[2040];

    iVar2 = pthread_mutex_init(param_1, (pthread_mutexattr_t *)0x0);
    if (iVar2 != 0) {
        FUN_00025b64(param_2);
    }
    iVar2 = pthread_rwlock_init((pthread_rwlock_t *)(param_1 + 1),
                                (pthread_rwlockattr_t *)0x0);
    if (iVar2 != 0) {
        piVar1 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "Failed to pthread_rwlock_init errno=%d in %s %s():%d",
                 *piVar1, "bmminer.c", "bitmain_soc_prepare", param_2);
        FUN_00047ab4(3, acStack_808, 1);
        FUN_00062ec0(1);
    }
    return;
}

undefined1 *FUN_00025bfc(size_t *param_1, void *param_2, undefined4 param_3,
                         undefined1 param_4)

{
    size_t sVar1;
    size_t sVar2;
    size_t sVar3;
    undefined1 *puVar4;
    uint uVar5;
    int iVar6;
    uint __n;
    char *__s;
    char *__s_00;
    int iVar7;
    char *__s_01;
    char acStack_828[2052];

    __s_01 = *(char **)((int)param_2 + 0x120);
    sVar1 = strlen(__s_01);
    __s_00 = *(char **)((int)param_2 + 0x134);
    sVar2 = strlen(__s_00);
    __s = *(char **)((int)param_2 + 0x140);
    sVar3 = strlen(__s);
    sVar3 = sVar1 + sVar2 + 0x1cb + sVar3;
    puVar4 = (undefined1 *)calloc(1, sVar3);
    if (puVar4 != (undefined1 *)0x0) {
        *(undefined4 *)(puVar4 + 1) = param_3;
        *puVar4 = param_4;
        memcpy(puVar4 + 5, param_2, 0x1c0);
        sVar1 = strlen(__s_01);
        __n = sVar1 + 1 & 0xff;
        puVar4[0x1c5] = (char)(sVar1 + 1);
        memcpy(puVar4 + 0x1c6, __s_01, __n);
        sVar1 = strlen(__s_00);
        uVar5 = sVar1 + 1 & 0xff;
        puVar4[__n + 0x1c6] = (char)(sVar1 + 1);
        iVar6 = uVar5 + __n + 0x1c7;
        memcpy(puVar4 + __n + 0x1c7, __s_00, uVar5);
        iVar7 = iVar6 + 1;
        sVar1 = strlen(__s);
        uVar5 = sVar1 + 1 & 0xff;
        puVar4[iVar6] = (char)(sVar1 + 1);
        memcpy(puVar4 + iVar7, __s, uVar5);
        if ((DAT_001aecc5 != '\0') &&
            (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
              (6 < DAT_0009e320)))) {
            snprintf(acStack_828, 0x800, "need data size:%d, actual size:%d\n",
                     sVar3, uVar5 + iVar7);
            FUN_00047ab4(7, acStack_828, 0);
        }
        *param_1 = sVar3;
    }
    return puVar4;
}

undefined4 FUN_00025da0(void)

{
    void *__ptr;
    int iVar1;
    undefined4 local_80c;
    char local_808[2048];

    __ptr = (void *)FUN_00025bfc(&local_80c);
    iVar1 = FUN_000259f4(__ptr, local_80c);
    if ((iVar1 != 0) && (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                          (2 < DAT_0009e320)))) {
        builtin_strncpy(local_808, "cgminer return err for this nonce!\n",
                        0x24);
        FUN_00047ab4(3, local_808, 0);
    }
    free(__ptr);
    return 1;
}

undefined4 FUN_00025e54(char *param_1)

{
    tm *ptVar1;
    int iVar2;
    int iVar3;
    int local_cc[2];
    char acStack_c4[32];
    undefined1 auStack_a4[32];
    char acStack_84[40];
    char acStack_5c[64];

    memset(acStack_c4, 0, 0x20);
    memset(auStack_a4, 0, 0x20);
    memset(acStack_84, 0, 0x28);
    memset(acStack_5c, 0, 0x3b);
    iVar3 = 0;
    FUN_0004a60c(local_cc);
    do {
        local_cc[0] = local_cc[0] - iVar3;
        iVar3 = iVar3 + 1;
        ptVar1 = localtime(local_cc);
        snprintf(acStack_84, 0x28, "[%d-%02d-%02d %02d:%02d:%02d]",
                 ptVar1->tm_year + 0x76c, ptVar1->tm_mon + 1, ptVar1->tm_mday,
                 ptVar1->tm_hour, ptVar1->tm_min, ptVar1->tm_sec);
        snprintf(acStack_5c, 0x3b, "%s%s", "BITMAIN_OPENSOURCE", acStack_84);
        FUN_0004889c(acStack_5c, 0x3b, auStack_a4);
        FUN_0004889c(auStack_a4, 0x20, acStack_c4);
        iVar2 = strncmp(acStack_c4, param_1, 0x20);
        if (iVar2 == 0) {
            puts("socket auth pass!!!!!!!!!!!!!!!!!!!!");
            return 1;
        }
    } while (iVar3 != 4);
    return 0;
}

void FUN_00025fa8(void)

{
    int iVar1;
    int iVar2;
    char local_810[2052];

    iVar2 = DAT_00241d64;
    iVar1 = DAT_00241d5c;
    if (DAT_00241d5c != 0) {
        *(undefined **)(DAT_00241d5c + 4) = &DAT_00138580;
        *(undefined4 *)(iVar1 + 0x20) = 0;
        *(int *)(iVar1 + 0x14) = iVar2;
        *(undefined4 *)(iVar1 + 0x94) = 1;
        if (iVar2 == 0) {
            builtin_strncpy(local_810, "Failed to calloc cgpu_info data", 0x20);
            FUN_00047ab4(3, local_810, 1);
            FUN_00062ec0(1);
            iVar2 = *(int *)(iVar1 + 0x14);
        }
        *(undefined4 *)(iVar2 + 0x1788) = 0;
        *(undefined4 *)(iVar2 + 0x178c) = 1;
        *(undefined4 *)(iVar2 + 0x1790) = 2;
        return;
    }
    /* WARNING: Subroutine does not return */
    __assert_fail("cgpu", "bmminer.c", 0x193, "bitmain_primary_init");
}

void FUN_00026118(void *param_1, void *param_2, int param_3)

{
    void *pvVar1;
    int iVar2;
    undefined4 uVar3;
    char *pcVar4;
    undefined4 uVar5;
    undefined4 uVar6;
    undefined4 *puVar7;
    undefined4 *puVar8;
    int iVar9;
    int iVar10;
    size_t sVar11;
    char local_828[32];
    undefined2 local_808;

    memcpy(param_1, param_2, 0x738);
    sVar11 = *(size_t *)((int)param_1 + 0x624);
    iVar9 = sVar11 + 0x738;
    pvVar1 = calloc(1, sVar11);
    pvVar1 = memcpy(pvVar1, (void *)((int)param_2 + 0x738), sVar11);
    *(void **)((int)param_1 + 0x620) = pvVar1;
    iVar2 = FUN_00049624(*(int *)((int)param_1 + 0x6ac) * 4 + 1, "bmminer.c",
                         "parse_job_buf", 0x237);
    *(int *)((int)param_1 + 0x2a4) = iVar2;
    if (0 < *(int *)((int)param_1 + 0x6ac)) {
        iVar10 = 0;
        puVar7 = (undefined4 *)((int)param_2 + iVar9);
        while (true) {
            uVar3 = FUN_00049624(0x20, "bmminer.c", "parse_job_buf", 0x23a);
            *(undefined4 *)(iVar2 + iVar10 * 4) = uVar3;
            iVar9 = sVar11 + 0x758 + iVar10 * 0x20;
            puVar8 =
                *(undefined4 **)(*(int *)((int)param_1 + 0x2a4) + iVar10 * 4);
            if (puVar8 == (undefined4 *)0x0) {
                builtin_strncpy(local_828, "Failed to malloc local merkle_bi",
                                0x20);
                local_808 = 0x6e;
                FUN_00047ab4(3, local_828, 1);
                FUN_00062ec0(1);
                puVar8 = *(undefined4 **)(*(int *)((int)param_1 + 0x2a4) +
                                          iVar10 * 4);
            }
            iVar10 = iVar10 + 1;
            uVar3 = puVar7[1];
            uVar5 = puVar7[2];
            uVar6 = puVar7[3];
            *puVar8 = *puVar7;
            puVar8[1] = uVar3;
            puVar8[2] = uVar5;
            puVar8[3] = uVar6;
            uVar3 = puVar7[5];
            uVar5 = puVar7[6];
            uVar6 = puVar7[7];
            puVar8[4] = puVar7[4];
            puVar8[5] = uVar3;
            puVar8[6] = uVar5;
            puVar8[7] = uVar6;
            if (*(int *)((int)param_1 + 0x6ac) <= iVar10)
                break;
            iVar2 = *(int *)((int)param_1 + 0x2a4);
            puVar7 = puVar7 + 8;
        }
    }
    pcVar4 = (char *)__strdup((int)param_2 + iVar9);
    sVar11 = strlen(pcVar4);
    *(char **)((int)param_1 + 0x2a0) = pcVar4;
    iVar9 = sVar11 + 1 + iVar9;
    pcVar4 = (char *)__strdup((int)param_2 + iVar9);
    sVar11 = strlen(pcVar4);
    iVar9 = iVar9 + sVar11;
    *(char **)((int)param_1 + 0x264) = pcVar4;
    puVar7 = (undefined4 *)((int)param_2 + iVar9 + 1);
    DAT_001385f8 = *puVar7;
    DAT_001385fc = puVar7[1];
    puVar7 = (undefined4 *)((int)param_2 + iVar9 + 9);
    DAT_0009ed90._0_4_ = *puVar7;
    DAT_0009ed90._4_4_ = puVar7[1];
    if ((DAT_001aecc5 != '\0') &&
        (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
          (6 < DAT_0009e320)))) {
        snprintf(local_828, 0x800, "parse job buf len:%d\n", iVar9 + 0x11);
        FUN_00047ab4(7, local_828, 0);
    }
    if (iVar9 + 0x11 != param_3) {
        builtin_strncpy(local_828, "ERR: data trans/recv unmathced!", 0x20);
        FUN_00047ab4(3, local_828, 1);
        FUN_00062ec0(1);
    }
    return;
}

int FUN_00026874(undefined4 *param_1)

{
    int iVar1;
    size_t sVar2;
    char acStack_808[2052];

    switch (*param_1) {
    case 0:
    case 1:
    case 2:
        sVar2 = strlen((char *)param_1[2]);
        return sVar2 + 1;
    case 3:
    case 4:
    case 5:
    case 6:
    case 7:
    case 8:
    case 9:
    case 0x10:
    case 0x13:
    case 0x16:
    case 0x1a:
        return 4;
    case 10:
    case 0xb:
    case 0xc:
    case 0xd:
    case 0xf:
    case 0x11:
    case 0x12:
    case 0x14:
    case 0x15:
    case 0x17:
    case 0x18:
    case 0x19:
        iVar1 = 8;
        break;
    case 0xe:
        return 1;
    default:
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (2 < DAT_0009e320)) {
            snprintf(acStack_808, 0x800,
                     "Should not happen for unknown data type %d");
            FUN_00047ab4(3, acStack_808, 0);
            return 0;
        }
        iVar1 = 0;
    }
    return iVar1;
}

void FUN_000269b8(undefined4 *param_1, size_t *param_2)

{
    undefined4 uVar1;
    undefined4 uVar2;
    undefined4 uVar3;
    undefined4 *puVar4;
    size_t __size;
    size_t sVar5;
    size_t sVar6;
    void *pvVar7;

    sVar5 = 0;
    pvVar7 = (void *)0x0;
    puVar4 = param_1;
    do {
        sVar6 = sVar5 + 4;
        pvVar7 = realloc(pvVar7, sVar6);
        *(undefined4 *)((int)pvVar7 + sVar5) = *puVar4;
        sVar5 = strlen((char *)puVar4[1]);
        __size = sVar5 + 1 + sVar6;
        pvVar7 = realloc(pvVar7, __size);
        strcpy((char *)((int)pvVar7 + sVar6), (char *)puVar4[1]);
        sVar6 = FUN_00026874(puVar4);
        sVar5 = __size + sVar6;
        pvVar7 = realloc(pvVar7, sVar5);
        memcpy((void *)((int)pvVar7 + __size), (void *)puVar4[2], sVar6);
        puVar4 = (undefined4 *)puVar4[5];
    } while (puVar4 != param_1);
    pvVar7 = realloc(pvVar7, sVar5 + 0xc);
    uVar3 = DAT_00242ee8;
    uVar2 = DAT_00138604;
    uVar1 = DAT_00138600;
    DAT_00138600 = 0;
    DAT_00138604 = 0;
    *(undefined4 *)((int)pvVar7 + sVar5) = uVar1;
    *(undefined4 *)((int)pvVar7 + sVar5 + 4) = uVar2;
    *(undefined4 *)((int)pvVar7 + sVar5 + 8) = uVar3;
    pvVar7 = realloc(pvVar7, sVar5 + 0x1c);
    uVar1 = DAT_001b0a00;
    *(undefined4 *)((int)pvVar7 + sVar5 + 0xc) = DAT_001b09fc;
    uVar3 = DAT_001b0a08;
    uVar2 = DAT_001b0a04;
    *(undefined4 *)((int)pvVar7 + sVar5 + 0x10) = uVar1;
    *(undefined4 *)((int)pvVar7 + sVar5 + 0x14) = uVar2;
    *(undefined4 *)((int)pvVar7 + sVar5 + 0x18) = uVar3;
    pvVar7 = realloc(pvVar7, sVar5 + 0x11c);
    memcpy((void *)((int)pvVar7 + sVar5 + 0x1c), &DAT_001b0a18, 0x100);
    pvVar7 = realloc(pvVar7, sVar5 + 0x124);
    uVar1 = DAT_001b0a10._4_4_;
    *(undefined4 *)((int)pvVar7 + sVar5 + 0x11c) = (undefined4)DAT_001b0a10;
    *(undefined4 *)((int)pvVar7 + sVar5 + 0x120) = uVar1;
    pvVar7 = realloc(pvVar7, sVar5 + 0x128);
    uVar1 = DAT_0009ee38;
    *param_2 = sVar5 + 0x128;
    *(undefined4 *)((int)pvVar7 + sVar5 + 0x124) = uVar1;
    return;
}

void FUN_00026b60(void *param_1)

{
    int iVar1;
    void *pvVar2;

    if (param_1 != (void *)0x0) {
        while (true) {
            free(*(void **)((int)param_1 + 4));
            if (*(char *)((int)param_1 + 0xc) == '\0') {
                pvVar2 = *(void **)((int)param_1 + 0x14);
            } else {
                free(*(void **)((int)param_1 + 8));
                pvVar2 = *(void **)((int)param_1 + 0x14);
            }
            if (param_1 == pvVar2)
                break;
            iVar1 = *(int *)((int)param_1 + 0x10);
            *(int *)((int)pvVar2 + 0x10) = iVar1;
            *(void **)(iVar1 + 0x14) = pvVar2;
            free(param_1);
            param_1 = pvVar2;
        }
        free(param_1);
        return;
    }
    return;
}

void FUN_00026bcc(undefined4 param_1)

{
    int iVar1;
    int iVar2;
    undefined4 local_28;
    char acStack_24[16];

    iVar1 = 0;
    do {
        iVar2 = iVar1 + 1;
        sprintf(acStack_24, "freq%d", iVar2);
        local_28 = FUN_00030580(iVar1);
        param_1 = FUN_00043dcc(param_1, acStack_24, &local_28, 1);
        iVar1 = iVar2;
    } while (iVar2 != 0x10);
    return;
}

undefined4 FUN_00026c30(void)

{
    char cVar1;
    undefined4 uVar2;
    int iVar3;
    void *__ptr;
    undefined4 local_14;

    prctl(0xf, &DAT_0007a99c, 0, 0, 0);
    cVar1 = *(char *)(DAT_00241d5c + 0x16c);
    while (cVar1 == '\0') {
        sleep(1);
        uVar2 = FUN_0001b370(0, 1);
        uVar2 = FUN_0001b394(uVar2, 1);
        uVar2 = FUN_0001b3b8(uVar2, 1);
        uVar2 = FUN_0001b440(uVar2, 1);
        uVar2 = FUN_0001b6dc(uVar2, 1);
        uVar2 = FUN_0001b780(uVar2, 1);
        uVar2 = FUN_0001b7dc(uVar2, 1);
        uVar2 = FUN_0001b7f4(uVar2, 1);
        uVar2 = FUN_0001b8d0(uVar2, 1);
        uVar2 = FUN_0001b964(uVar2, 1);
        uVar2 = FUN_0001ba48(uVar2, 1);
        uVar2 = FUN_0001bae8(uVar2, 1);
        uVar2 = FUN_0001bbe0(uVar2, 1);
        uVar2 = FUN_0001bbf8(uVar2, 1);
        uVar2 = FUN_0001bc68(uVar2, 1);
        uVar2 = FUN_0001bcd4(uVar2, 1);
        uVar2 = FUN_0001bd40(uVar2, 1);
        uVar2 = FUN_0001bda4(uVar2, 1);
        uVar2 = FUN_0001bed0(uVar2, 1);
        uVar2 = FUN_0001bf54(uVar2, 1);
        uVar2 = FUN_00026bcc(uVar2, 1);
        uVar2 = FUN_0001b340(uVar2, 1);
        iVar3 = FUN_0001b358(uVar2, 1);
        if ((iVar3 != 0) && (__ptr = (void *)FUN_000269b8(iVar3, &local_14),
                             __ptr != (void *)0x0)) {
            FUN_00025a28(__ptr, local_14);
            free(__ptr);
        }
        FUN_00026b60(iVar3);
        cVar1 = *(char *)(DAT_00241d5c + 0x16c);
    }
    return 0;
}

void FUN_00026d84(int param_1, undefined4 param_2)

{
    int local_80c;
    char local_808[36];
    undefined2 uStack_7e4;
    undefined1 local_7e2;

    local_80c = param_1;
    FUN_00064c1c(&DAT_0009e548,
                 "Options for both config file and command line");
    FUN_00064c1c(&DAT_0009eda8, "Options for command line only");
    FUN_00064cf0(&local_80c, param_2, &DAT_00052b50);
    if (local_80c == 1) {
        FUN_00053dd0();
        if (DAT_001aecd8 != 0) {
            FUN_00063e84();
        }
        if (DAT_001aecc8 != (char *)0x0) {
            DAT_001aeb9c = 1;
            strcpy(&DAT_001aebc4, DAT_001aecc8);
            if (DAT_001aecd4 == (char *)0x0) {
                DAT_001aeba4 = 0x2b61;
                DAT_001aeba6 = 0;
            } else {
                strcpy((char *)&DAT_001aeba4, DAT_001aecd4);
            }
            if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                (2 < DAT_0009e320)) {
                snprintf(local_808, 0x800, "Log file path: %s Open flag: %s",
                         &DAT_001aebc4, &DAT_001aeba4);
                FUN_00047ab4(3, local_808, 0);
            }
        }
        return;
    }
    builtin_strncpy(local_808, "Unexpected extra commandline argumen", 0x24);
    uStack_7e4 = 0x7374;
    local_7e2 = 0;
    FUN_00047ab4(3, local_808, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1, 0);
}

void FUN_000280e4(uint *param_1)

{
    char *pcVar1;
    uint uVar2;
    char local_810[2048];

    uVar2 = *param_1;
    if (DAT_0009e31c < 4) {
        if ((char)param_1[1] != '\0') {
            return;
        }
        goto LAB_000283e4;
    }
    pcVar1 = "FOUND";
    if ((char)param_1[1] == '\0') {
        pcVar1 = "NOT FOUND";
    }
    snprintf(local_810, 0x800,
             ">> ASIC_REG[0x28] = 0x%08X, fast UART configuration, %s\n", uVar2,
             pcVar1);
    FUN_00047ec8(3, local_810, 0);
    if ((char)param_1[1] == '\0')
        goto LAB_000283e4;
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[31:30] DIV4_ODDSET",
             uVar2 >> 0x1e);
    FUN_00047ec8(3, local_810, 0);
    if (DAT_0009e31c < 4) {
    LAB_000282a0:
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[15]    SYNC_CLKO",
                     (uVar2 << 0x10) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[14]    CLKO_SEL",
                     (uVar2 << 0x11) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_00028320;
        }
    } else {
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[29,28] Reserved",
                 (uVar2 << 2) >> 0x1e);
        FUN_00047ec8(3, local_810, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[27:24] PLL3_DIV4",
                 (uVar2 << 4) >> 0x1c);
        FUN_00047ec8(3, local_810, 0);
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[23:22] USRC_ODDSET", (uVar2 << 8) >> 0x1e);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[21:16] USRC_DIV",
                     (uVar2 << 10) >> 0x1a);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_000282a0;
        }
    LAB_00028320:
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[13:12] CLKO_ODDSET",
                 (uVar2 << 0x12) >> 0x1e);
        FUN_00047ec8(3, local_810, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[11,8]  Reserved",
                 (uVar2 << 0x14) >> 0x1c);
        FUN_00047ec8(3, local_810, 0);
    }
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[7:0]   CLKO_DIV",
             uVar2 & 0xff);
    FUN_00047ec8(3, local_810, 0);
LAB_000283e4:
    if (3 < DAT_0009e31c) {
        local_810[0] = '\n';
        local_810[1] = '\0';
        FUN_00047ec8(3, local_810, 0);
    }
    return;
}

void FUN_00028424(uint *param_1)

{
    char *pcVar1;
    uint uVar2;
    char local_810[2048];

    uVar2 = *param_1;
    if (DAT_0009e31c < 4) {
        if ((char)param_1[1] != '\0') {
            return;
        }
        goto LAB_00028824;
    }
    pcVar1 = "FOUND";
    if ((char)param_1[1] == '\0') {
        pcVar1 = "NOT FOUND";
    }
    snprintf(
        local_810, 0x800,
        ">> ASIC_REG[0x58] = 0x%08X, Io Driver Strenght Configuration, %s\n",
        uVar2, pcVar1);
    FUN_00047ec8(3, local_810, 0);
    if ((char)param_1[1] == '\0')
        goto LAB_00028824;
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[31:28]  Reserved",
             uVar2 >> 0x1c);
    FUN_00047ec8(3, local_810, 0);
    if (DAT_0009e31c < 4) {
    LAB_000285e0:
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", &DAT_0007b4a4,
                     (uVar2 << 0xd) >> 0x1d);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[15]     Reserved",
                     (uVar2 << 0x10) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_00028660;
        }
    LAB_000286e0:
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[10:8]   NRSTO_DS",
                     (uVar2 << 0x15) >> 0x1d);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[7]      Reserved",
                     (uVar2 << 0x18) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_00028760;
        }
    } else {
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[27:24]  RF_DS",
                 (uVar2 << 4) >> 0x1c);
        FUN_00047ec8(3, local_810, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[23]     Reserved",
                 (uVar2 << 8) >> 0x1f);
        FUN_00047ec8(3, local_810, 0);
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[22:20]  TF_DS",
                     (uVar2 << 9) >> 0x1d);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[19]     Reserved",
                     (uVar2 << 0xc) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_000285e0;
        }
    LAB_00028660:
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[14:12]  CLKO_DS",
                     (uVar2 << 0x11) >> 0x1d);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[11]     Reserved",
                     (uVar2 << 0x14) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_000286e0;
        }
    LAB_00028760:
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[6:4]    BO_DS",
                 (uVar2 << 0x19) >> 0x1d);
        FUN_00047ec8(3, local_810, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[3]      Reserved",
                 (uVar2 << 0x1c) >> 0x1f);
        FUN_00047ec8(3, local_810, 0);
    }
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[2:0]    CO_DS",
             uVar2 & 7);
    FUN_00047ec8(3, local_810, 0);
LAB_00028824:
    if (3 < DAT_0009e31c) {
        local_810[0] = '\n';
        local_810[1] = '\0';
        FUN_00047ec8(3, local_810, 0);
    }
    return;
}

void FUN_00028864(uint *param_1)

{
    char *pcVar1;
    uint uVar2;
    char local_810[2048];

    uVar2 = *param_1;
    if (DAT_0009e31c < 4) {
        if ((char)param_1[1] != '\0') {
            return;
        }
        goto LAB_00028ba4;
    }
    pcVar1 = "FOUND";
    if ((char)param_1[1] == '\0') {
        pcVar1 = "NOT FOUND";
    }
    snprintf(local_810, 0x800,
             ">> ASIC_REG[0x60] = 0x%08X, PLL1 Parameter, %s\n", uVar2, pcVar1);
    FUN_00047ec8(3, local_810, 0);
    if ((char)param_1[1] == '\0')
        goto LAB_00028ba4;
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[31]     LOCKED",
             uVar2 >> 0x1f);
    FUN_00047ec8(3, local_810, 0);
    if (DAT_0009e31c < 4) {
    LAB_00028a20:
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[15:14]  Reserved",
                     (uVar2 << 0x10) >> 0x1e);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[13:8]   REFDIV",
                     (uVar2 << 0x12) >> 0x1a);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_00028aa0;
        }
    } else {
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[30]     PLLEN",
                 (uVar2 << 1) >> 0x1f);
        FUN_00047ec8(3, local_810, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[29]     Reserved",
                 (uVar2 << 3) >> 0x1f);
        FUN_00047ec8(3, local_810, 0);
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[28]     BYPASS",
                     (uVar2 << 2) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[27:16]  FBDIV",
                     (uVar2 << 4) >> 0x14);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_00028a20;
        }
    LAB_00028aa0:
        if (DAT_0009e31c < 4)
            goto LAB_00028ba4;
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[7]      Reserved",
                 (uVar2 << 0x18) >> 0x1f);
        FUN_00047ec8(3, local_810, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[6:4]    POSTDIV1",
                 (uVar2 << 0x19) >> 0x1d);
        FUN_00047ec8(3, local_810, 0);
    }
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[3]      Reserved",
             (uVar2 << 0x1c) >> 0x1f);
    FUN_00047ec8(3, local_810, 0);
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[2:0]    POSTDIV2",
             uVar2 & 7);
    FUN_00047ec8(3, local_810, 0);
LAB_00028ba4:
    if (3 < DAT_0009e31c) {
        local_810[0] = '\n';
        local_810[1] = '\0';
        FUN_00047ec8(3, local_810, 0);
    }
    return;
}

void FUN_00028be4(uint *param_1)

{
    char *pcVar1;
    uint uVar2;
    char local_810[2048];

    uVar2 = *param_1;
    if (DAT_0009e31c < 4) {
        if ((char)param_1[1] != '\0') {
            return;
        }
        goto LAB_00028ee4;
    }
    pcVar1 = "FOUND";
    if ((char)param_1[1] == '\0') {
        pcVar1 = "NOT FOUND";
    }
    snprintf(local_810, 0x800,
             ">> ASIC_REG[0x64] = 0x%08X, PLL2 Parameter, %s\n", uVar2, pcVar1);
    FUN_00047ec8(3, local_810, 0);
    if ((char)param_1[1] == '\0')
        goto LAB_00028ee4;
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[31]     LOCKED",
             uVar2 >> 0x1f);
    FUN_00047ec8(3, local_810, 0);
    if (DAT_0009e31c < 4) {
    LAB_00028da0:
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[13:8]   REFDIV",
                     (uVar2 << 0x12) >> 0x1a);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[7]      Reserved",
                     (uVar2 << 0x18) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_00028e20;
        }
    } else {
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[30]     PLLEN",
                 (uVar2 << 1) >> 0x1f);
        FUN_00047ec8(3, local_810, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[29:28]  Reserved",
                 (uVar2 << 3) >> 0x1f);
        FUN_00047ec8(3, local_810, 0);
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[27:16]  FBDIV",
                     (uVar2 << 4) >> 0x14);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[15:14]  Reserved",
                     (uVar2 << 0x10) >> 0x1e);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_00028da0;
        }
    LAB_00028e20:
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[6:4]    POSTDIV1",
                 (uVar2 << 0x19) >> 0x1d);
        FUN_00047ec8(3, local_810, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[3]      Reserved",
                 (uVar2 << 0x1c) >> 0x1f);
        FUN_00047ec8(3, local_810, 0);
    }
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[2:0]    POSTDIV2",
             uVar2 & 7);
    FUN_00047ec8(3, local_810, 0);
LAB_00028ee4:
    if (3 < DAT_0009e31c) {
        local_810[0] = '\n';
        local_810[1] = '\0';
        FUN_00047ec8(3, local_810, 0);
    }
    return;
}

void FUN_00028f24(uint *param_1)

{
    char *pcVar1;
    uint uVar2;
    char local_810[2048];

    uVar2 = *param_1;
    if (DAT_0009e31c < 4) {
        if ((char)param_1[1] != '\0') {
            return;
        }
        goto LAB_00029224;
    }
    pcVar1 = "FOUND";
    if ((char)param_1[1] == '\0') {
        pcVar1 = "NOT FOUND";
    }
    snprintf(local_810, 0x800,
             ">> ASIC_REG[0x68] = 0x%08X, PLL3 Parameter, %s\n", uVar2, pcVar1);
    FUN_00047ec8(3, local_810, 0);
    if ((char)param_1[1] == '\0')
        goto LAB_00029224;
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[31]     LOCKED",
             uVar2 >> 0x1f);
    FUN_00047ec8(3, local_810, 0);
    if (DAT_0009e31c < 4) {
    LAB_000290e0:
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[13:8]   REFDIV",
                     (uVar2 << 0x12) >> 0x1a);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[7]      Reserved",
                     (uVar2 << 0x18) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_00029160;
        }
    } else {
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[30]     PLLEN",
                 (uVar2 << 1) >> 0x1f);
        FUN_00047ec8(3, local_810, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[29:28]  Reserved",
                 (uVar2 << 3) >> 0x1f);
        FUN_00047ec8(3, local_810, 0);
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[27:16]  FBDIV",
                     (uVar2 << 4) >> 0x14);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[15:14]  Reserved",
                     (uVar2 << 0x10) >> 0x1e);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_000290e0;
        }
    LAB_00029160:
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[6:4]    POSTDIV1",
                 (uVar2 << 0x19) >> 0x1d);
        FUN_00047ec8(3, local_810, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[3]      Reserved",
                 (uVar2 << 0x1c) >> 0x1f);
        FUN_00047ec8(3, local_810, 0);
    }
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[2:0]    POSTDIV2",
             uVar2 & 7);
    FUN_00047ec8(3, local_810, 0);
LAB_00029224:
    if (3 < DAT_0009e31c) {
        local_810[0] = '\n';
        local_810[1] = '\0';
        FUN_00047ec8(3, local_810, 0);
    }
    return;
}

void FUN_00029264(uint *param_1)

{
    char *pcVar1;
    uint uVar2;
    char local_810[2048];

    uVar2 = *param_1;
    if (DAT_0009e31c < 4) {
        if ((char)param_1[1] != '\0') {
            return;
        }
        goto LAB_000296e4;
    }
    pcVar1 = "FOUND";
    if ((char)param_1[1] == '\0') {
        pcVar1 = "NOT FOUND";
    }
    snprintf(local_810, 0x800, ">> ASIC_REG[0x6C] = 0x%08X, Ldo Control, %s\n",
             uVar2, pcVar1);
    FUN_00047ec8(3, local_810, 0);
    if ((char)param_1[1] == '\0')
        goto LAB_000296e4;
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[31]     FSW_CKEN",
             uVar2 >> 0x1f);
    FUN_00047ec8(3, local_810, 0);
    if (DAT_0009e31c < 4) {
    LAB_00029420:
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[22:20]  BIT_LDO_OUT1", (uVar2 << 9) >> 0x1d);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[19]     PD_EFFP",
                     (uVar2 << 0xc) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_000294a0;
        }
    LAB_00029520:
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[11]     PD_BG",
                     (uVar2 << 0x14) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[10]     PD0",
                     (uVar2 << 0x15) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_000295a0;
        }
    LAB_00029620:
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[6:4]    BIT_LDO_OUT0",
                 (uVar2 << 0x19) >> 0x1d);
        FUN_00047ec8(3, local_810, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[3]      PD_SCP",
                 (uVar2 << 0x1c) >> 0x1f);
        FUN_00047ec8(3, local_810, 0);
    } else {
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[30:27]  Reserved",
                 (uVar2 << 1) >> 0x1c);
        FUN_00047ec8(3, local_810, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[26]     PD1",
                 (uVar2 << 5) >> 0x1f);
        FUN_00047ec8(3, local_810, 0);
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[25:24]  BIT_LDO_CURRENT1", (uVar2 << 6) >> 0x1e);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[23]     PD_LIMIT1", (uVar2 << 8) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_00029420;
        }
    LAB_000294a0:
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[18:16]  Reserved",
                     (uVar2 << 0xd) >> 0x1d);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[15:12]  RES",
                     (uVar2 << 0x10) >> 0x1c);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_00029520;
        }
    LAB_000295a0:
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[9:8]    BIT_LDO_CURRENT0", (uVar2 << 0x16) >> 0x1e);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[7]      PD_LIMIT0", (uVar2 << 0x18) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_00029620;
        }
    }
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[2:0]    BIT_LDO_BG",
             uVar2 & 7);
    FUN_00047ec8(3, local_810, 0);
LAB_000296e4:
    if (3 < DAT_0009e31c) {
        local_810[0] = '\n';
        local_810[1] = '\0';
        FUN_00047ec8(3, local_810, 0);
    }
    return;
}

void FUN_00029724(uint *param_1)

{
    char *pcVar1;
    uint uVar2;
    char local_810[2048];

    uVar2 = *param_1;
    if (DAT_0009e31c < 4) {
        if ((char)param_1[1] != '\0') {
            return;
        }
        goto LAB_00029be4;
    }
    pcVar1 = "FOUND";
    if ((char)param_1[1] == '\0') {
        pcVar1 = "NOT FOUND";
    }
    snprintf(local_810, 0x800,
             ">> ASIC_REG[0x90] = 0x%08X, Frequency Sweep Control1, %s\n",
             uVar2, pcVar1);
    FUN_00047ec8(3, local_810, 0);
    if ((char)param_1[1] == '\0')
        goto LAB_00029be4;
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[31:30]  Reserved",
             uVar2 >> 0x1e);
    FUN_00047ec8(3, local_810, 0);
    if (DAT_0009e31c < 4) {
    LAB_000298e0:
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[23:16]  SWEEP_ST_ADDR", (uVar2 << 8) >> 0x18);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[15:14]  SN_FLTR",
                     (uVar2 << 0x10) >> 0x1e);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_00029960;
        }
    LAB_000299e0:
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[11]     SWEEP_RESET", (uVar2 << 0x14) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[10:8]   CURR_PAT_ADDR", (uVar2 << 0x15) >> 0x1d);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_00029a60;
        }
    LAB_00029ae0:
        if (DAT_0009e31c < 4)
            goto LAB_00029be4;
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[3]      SWP_DONE_ALL",
                 (uVar2 << 0x1c) >> 0x1f);
        FUN_00047ec8(3, local_810, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[2]      SWP_ONGOING",
                 (uVar2 << 0x1d) >> 0x1f);
        FUN_00047ec8(3, local_810, 0);
    } else {
        snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                 "BIT[29]     CORE_CLK_CFG_DIS", (uVar2 << 2) >> 0x1f);
        FUN_00047ec8(3, local_810, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                 "BIT[28]     EN_OR_MATCH_NONCES", (uVar2 << 3) >> 0x1f);
        FUN_00047ec8(3, local_810, 0);
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[27]     INC_DISABLE", (uVar2 << 4) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[26:24]  SWEEP_STATE", (uVar2 << 5) >> 0x1d);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_000298e0;
        }
    LAB_00029960:
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[13]     ALL_CORE_CLK_SEL_CHANGE_ST",
                     (uVar2 << 0x12) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[12]     SWEEP_FAIL_LOCK_EN", (uVar2 << 0x13) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_000299e0;
        }
    LAB_00029a60:
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[7]      SWP_ONE_PAT_DONE", (uVar2 << 0x18) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[6:4]    SWP_PAT_ADDR", (uVar2 << 0x19) >> 0x1d);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_00029ae0;
        }
    }
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[1]      SWP_TRIG",
             (uVar2 << 0x1e) >> 0x1f);
    FUN_00047ec8(3, local_810, 0);
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[0]      SWP_EN",
             uVar2 & 1);
    FUN_00047ec8(3, local_810, 0);
LAB_00029be4:
    if (3 < DAT_0009e31c) {
        local_810[0] = '\n';
        local_810[1] = '\0';
        FUN_00047ec8(3, local_810, 0);
    }
    return;
}

void FUN_00029c24(uint *param_1)

{
    char *pcVar1;
    uint uVar2;
    char local_810[2048];

    uVar2 = *param_1;
    if (DAT_0009e31c < 4) {
        if ((char)param_1[1] != '\0') {
            return;
        }
        goto LAB_0002a064;
    }
    pcVar1 = "FOUND";
    if ((char)param_1[1] == '\0') {
        pcVar1 = "NOT FOUND";
    }
    snprintf(local_810, 0x800,
             ">> ASIC_REG[0xB0] = 0x%08X, Clock Overlap Counter, %s\n", uVar2,
             pcVar1);
    FUN_00047ec8(3, local_810, 0);
    if ((char)param_1[1] == '\0')
        goto LAB_0002a064;
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[31:30]  Reserved",
             uVar2 >> 0x1e);
    FUN_00047ec8(3, local_810, 0);
    if (DAT_0009e31c < 4) {
    LAB_00029de0:
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[23:21]  VREFSEL",
                     (uVar2 << 0xb) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[20]     DIFF",
                     (uVar2 << 0xc) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_00029e60;
        }
    LAB_00029ee0:
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[17:16]  RSVD1",
                     (uVar2 << 0x10) >> 0x16);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[15:5]   SCONT",
                     (uVar2 << 0x1a) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_00029f60;
        }
    } else {
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[29]     C0_SEL",
                 (uVar2 << 2) >> 0x1f);
        FUN_00047ec8(3, local_810, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[28]     ENTIN",
                 (uVar2 << 3) >> 0x1f);
        FUN_00047ec8(3, local_810, 0);
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[27:26]  VRTSEl",
                     (uVar2 << 6) >> 0x1e);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[25:24]  Reserved",
                     (uVar2 << 8) >> 0x1d);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_00029de0;
        }
    LAB_00029e60:
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[19]     EN",
                     (uVar2 << 0xd) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[18]     INSEL",
                     (uVar2 << 0xe) >> 0x1e);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_00029ee0;
        }
    LAB_00029f60:
        if (DAT_0009e31c < 4)
            goto LAB_0002a064;
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[4]      STAT",
                 (uVar2 << 0x1b) >> 0x1f);
        FUN_00047ec8(3, local_810, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[3]      SWEN",
                 (uVar2 << 0x1c) >> 0x1f);
        FUN_00047ec8(3, local_810, 0);
    }
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[2]      DRDY",
             (uVar2 << 0x1d) >> 0x1f);
    FUN_00047ec8(3, local_810, 0);
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[1:0]    MT", uVar2 & 3);
    FUN_00047ec8(3, local_810, 0);
LAB_0002a064:
    if (3 < DAT_0009e31c) {
        local_810[0] = '\n';
        local_810[1] = '\0';
        FUN_00047ec8(3, local_810, 0);
    }
    return;
}

undefined4 FUN_0002a0a4(uint param_1, uint param_2, uint param_3,
                        undefined4 *param_4)

{
    bool bVar1;
    int iVar2;
    uint uVar3;
    uint uVar4;
    uint uVar5;
    char acStack_828[2052];

    uVar3 = DAT_00241d70;
    if (DAT_00241d70 != 0) {
        uVar5 = 1;
        do {
            uVar4 = DAT_00241d6c + 1;
            iVar2 = uVar4 * 8;
            if (*(byte *)((int)&DAT_00241d70 + iVar2 + 2) == param_3) {
                uVar3 = FUN_00077070(
                    *(undefined1 *)((int)&DAT_00241d70 + iVar2 + 1),
                    *(undefined1 *)(DAT_000a0d68 + 0x329a));
                uVar5 = (uint) * (byte *)((int)&DAT_00241d70 + iVar2 + 3);
                if ((uVar3 & 0xff) == param_2 && uVar5 == param_1) {
                    *param_4 = (&DAT_00241d6c)[uVar4 * 2];
                    uVar4 = DAT_00241d6c + 1;
                } else if (3 < DAT_0009e31c) {
                    snprintf(
                        acStack_828, 0x800,
                        "Get another asic response: chain = %d, asic = %d\n",
                        uVar5, uVar3 & 0xff);
                    FUN_00047ab4(3, acStack_828, 0);
                    uVar4 = DAT_00241d6c + 1;
                }
                DAT_00241d70 = DAT_00241d70 - 1;
                DAT_00241d6c = uVar4;
                if (0x1fe < uVar4) {
                    DAT_00241d6c = 0;
                }
                return 1;
            }
            if (3 < DAT_0009e31c) {
                snprintf(acStack_828, 0x800, "Get another register: 0x%X\n",
                         param_3);
                FUN_00047ab4(3, acStack_828, 0);
                uVar4 = DAT_00241d6c + 1;
            }
            DAT_00241d6c = uVar4;
            if (0x1fe < uVar4) {
                DAT_00241d6c = 0;
            }
            DAT_00241d70 = DAT_00241d70 - 1;
            bVar1 = uVar5 < uVar3;
            uVar5 = uVar5 + 1;
        } while (bVar1);
    }
    return 0;
}

void FUN_0002a248(undefined4 *param_1, char param_2, undefined1 param_3)

{
    char cVar1;
    int iVar2;
    byte bVar3;

    *param_1 = 0;
    *(undefined2 *)param_1 = 0x542;
    iVar2 = DAT_000a0d68;
    *(undefined1 *)(param_1 + 1) = 0;
    cVar1 = *(char *)(iVar2 + 0x329a);
    *(undefined1 *)((int)param_1 + 3) = param_3;
    *(char *)((int)param_1 + 2) = cVar1 * param_2;
    bVar3 = FUN_00051554(param_1, 0x20);
    *(byte *)(param_1 + 1) = *(byte *)(param_1 + 1) & 0xe0 | bVar3 & 0x1f;
    return;
}

void FUN_0002a29c(undefined4 *param_1, void *param_2, size_t param_3)

{
    uint uVar1;
    uint *puVar2;

    *param_1 = 0;
    param_1[1] = 0;
    param_1[2] = 0;
    memcpy(param_1, param_2, param_3);
    puVar2 = param_1 + -1;
    do {
        puVar2 = puVar2 + 1;
        uVar1 = *puVar2;
        *puVar2 = uVar1 << 0x18 | (uVar1 >> 8 & 0xff) << 0x10 |
                  (uVar1 >> 0x10 & 0xff) << 8 | uVar1 >> 0x18;
    } while (puVar2 != param_1 + 2);
    return;
}

void FUN_0002a2d8(undefined4 param_1, undefined4 param_2, undefined4 param_3)

{
    undefined1 auStack_24[8];
    undefined1 auStack_1c[12];

    FUN_0002e9b8();
    FUN_0002a248(auStack_24, param_2, param_3);
    FUN_0002a29c(auStack_1c, auStack_24, 5);
    FUN_00070808(auStack_1c, param_1);
    return;
}

void FUN_0002a324(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  int param_4)

{
    int iVar1;
    int iVar2;
    int iVar3;

    iVar2 = 10;
    iVar3 = param_4;
    do {
        FUN_0004a804(3);
        pthread_mutex_lock((pthread_mutex_t *)&DAT_00138630);
        if (DAT_00241d70 == 0) {
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_00138630);
        } else {
            iVar1 = FUN_0002a0a4(param_1, param_2, param_3, param_4, iVar3);
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_00138630);
            if (iVar1 != 0) {
                *(undefined1 *)(param_4 + 4) = 1;
                return;
            }
        }
        FUN_0004a804(300);
        iVar2 = iVar2 + -1;
    } while (iVar2 != 0);
    return;
}

void FUN_0002bbb8(int param_1, uint *param_2)

{
    char *pcVar1;
    uint uVar2;
    char *local_818[2];
    char local_810[2044];

    if (param_1 == 0) {
        uVar2 = *param_2;
        if (DAT_0009e31c < 4) {
            if ((char)param_2[1] != '\0') {
                return;
            }
        } else {
            local_818[0] = "FOUND";
            if ((char)param_2[1] == '\0') {
                local_818[0] = "NOT FOUND";
            }
            snprintf(local_810, 0x800,
                     ">> ASIC_REG[0x00] = 0x%08X, Chip Address, %s\n", uVar2);
            FUN_00047ec8(3, local_810, 0);
            if ((char)param_2[1] != '\0') {
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)(uVar2 >> 0x10);
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[31:16]  CHIP_ID");
                FUN_00047ec8(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)((uVar2 << 0x10) >> 0x18);
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[15:8]   CORE_NUM");
                FUN_00047ec8(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)(uVar2 & 0xff);
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[7:0]    ADDR");
                FUN_00047ec8(3, local_810, 0);
            }
        }
        if (3 < DAT_0009e31c) {
            local_810[0] = '\n';
            local_810[1] = '\0';
            FUN_00047ec8(3, local_810, 0);
        }
        return;
    }
    if (param_1 == 4) {
        uVar2 = *param_2;
        if (DAT_0009e31c < 4) {
            if ((char)param_2[1] != '\0') {
                return;
            }
        } else {
            local_818[0] = "FOUND";
            if ((char)param_2[1] == '\0') {
                local_818[0] = "NOT FOUND";
            }
            snprintf(local_810, 0x800,
                     ">> ASIC_REG[0x04] = 0x%08X, Hash Rate, %s\n", uVar2);
            FUN_00047ec8(3, local_810, 0);
            if ((char)param_2[1] != '\0') {
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)(uVar2 >> 0x1f);
                snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[31]    LONG");
                FUN_00047ec8(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)(uVar2 & 0x7fffffff);
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[30:0]  HASHRATE");
                FUN_00047ec8(3, local_810, 0);
            }
        }
        if (3 < DAT_0009e31c) {
            local_810[0] = '\n';
            local_810[1] = '\0';
            FUN_00047ec8(3, local_810, 0);
        }
        return;
    }
    if (param_1 != 8) {
        if (param_1 == 0xc) {
            uVar2 = *param_2;
            if (DAT_0009e31c < 4) {
                if ((char)param_2[1] != '\0') {
                    return;
                }
            } else {
                local_818[0] = "FOUND";
                if ((char)param_2[1] == '\0') {
                    local_818[0] = "NOT FOUND";
                }
                snprintf(local_810, 0x800,
                         ">> ASIC_REG[0x0C] = 0x%08X, Chip Nonce Offset, %s\n",
                         uVar2);
                FUN_00047ec8(3, local_810, 0);
                if ((char)param_2[1] != '\0') {
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    local_818[0] = (char *)(uVar2 >> 0x1f);
                    snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                             "BIT[31]     CNOV");
                    FUN_00047ec8(3, local_810, 0);
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    local_818[0] = (char *)((uVar2 << 1) >> 0x11);
                    snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                             "BIT[30:16]  Reserved");
                    FUN_00047ec8(3, local_810, 0);
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    local_818[0] = (char *)(uVar2 & 0xffff);
                    snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                             "BIT[15:0]   CNO");
                    FUN_00047ec8(3, local_810, 0);
                }
            }
            if (3 < DAT_0009e31c) {
                local_810[0] = '\n';
                local_810[1] = '\0';
                FUN_00047ec8(3, local_810, 0);
            }
            return;
        }
        if (param_1 == 0x10) {
            pcVar1 = (char *)*param_2;
            if (3 < DAT_0009e31c) {
                local_818[0] = "NOT FOUND";
                if ((char)param_2[1] != '\0') {
                    local_818[0] = "FOUND";
                }
                snprintf(
                    local_810, 0x800,
                    ">> ASIC_REG[0x10] = 0x%08X, Hash Counting Number, %s\n",
                    pcVar1);
                FUN_00047ec8(3, local_810, 0);
                if ((char)param_2[1] != '\0') {
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    local_818[0] = pcVar1;
                    snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                             "BIT[31:0]  HCN");
                    FUN_00047ec8(3, local_810, 0);
                }
                if (3 < DAT_0009e31c) {
                    local_810[0] = '\n';
                    local_810[1] = '\0';
                    FUN_00047ec8(3, local_810, 0);
                }
            }
            return;
        }
        if (param_1 == 0x14) {
            uVar2 = *param_2;
            if (DAT_0009e31c < 4) {
                if ((char)param_2[1] != '\0') {
                    return;
                }
            } else {
                local_818[0] = "FOUND";
                if ((char)param_2[1] == '\0') {
                    local_818[0] = "NOT FOUND";
                }
                snprintf(local_810, 0x800,
                         ">> ASIC_REG[0x14] = 0x%08X, Ticket Mask, %s\n",
                         uVar2);
                FUN_00047ec8(3, local_810, 0);
                if ((char)param_2[1] != '\0') {
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    local_818[0] = (char *)(uVar2 >> 0x18);
                    snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                             "BIT[31:24]  TM3");
                    FUN_00047ec8(3, local_810, 0);
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    local_818[0] = (char *)((uVar2 << 8) >> 0x18);
                    snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                             "BIT[23:16]  TM2");
                    FUN_00047ec8(3, local_810, 0);
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    local_818[0] = (char *)((uVar2 << 0x10) >> 0x18);
                    snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                             "BIT[15:8]   TM1");
                    FUN_00047ec8(3, local_810, 0);
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    local_818[0] = (char *)(uVar2 & 0xff);
                    snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                             "BIT[7:0]    TM0");
                    FUN_00047ec8(3, local_810, 0);
                }
            }
            if (3 < DAT_0009e31c) {
                local_810[0] = '\n';
                local_810[1] = '\0';
                FUN_00047ec8(3, local_810, 0);
            }
            return;
        }
        if (param_1 != 0x18) {
            if (param_1 == 0x24) {
                uVar2 = *param_2;
                if (DAT_0009e31c < 4) {
                    if ((char)param_2[1] != '\0') {
                        return;
                    }
                } else {
                    local_818[0] = "FOUND";
                    if ((char)param_2[1] == '\0') {
                        local_818[0] = "NOT FOUND";
                    }
                    snprintf(
                        local_810, 0x800,
                        ">> ASIC_REG[0x24] = 0x%08X, Top Process Monitor, %s\n",
                        uVar2);
                    FUN_00047ec8(3, local_810, 0);
                    if ((char)param_2[1] != '\0') {
                        if (DAT_0009e31c < 4) {
                            return;
                        }
                        local_818[0] = (char *)(uVar2 >> 0x1f);
                        snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                                 "BIT[31]    START");
                        FUN_00047ec8(3, local_810, 0);
                        if (3 < DAT_0009e31c) {
                            local_818[0] = (char *)((uVar2 << 1) >> 0x1b);
                            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                                     "BIT[30:26] Reserved");
                            FUN_00047ec8(3, local_810, 0);
                            if (DAT_0009e31c < 4) {
                                return;
                            }
                            local_818[0] = (char *)((uVar2 << 6) >> 0x1e);
                            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                                     "BIT[25:24] PM_SEL");
                            FUN_00047ec8(3, local_810, 0);
                            if (DAT_0009e31c < 4) {
                                return;
                            }
                            local_818[0] = (char *)((uVar2 << 8) >> 0x18);
                            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                                     "BIT[23:16] Reserved");
                            FUN_00047ec8(3, local_810, 0);
                            if (DAT_0009e31c < 4) {
                                return;
                            }
                            local_818[0] = (char *)(uVar2 & 0xffff);
                            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                                     "BIT[15:0]  PM_COUNT");
                            FUN_00047ec8(3, local_810, 0);
                        }
                    }
                }
                if (3 < DAT_0009e31c) {
                    local_810[0] = '\n';
                    local_810[1] = '\0';
                    FUN_00047ec8(3, local_810, 0);
                }
                return;
            }
            if (param_1 == 0x28) {
                FUN_000280e4(param_2);
                return;
            }
            if (param_1 == 0x2c) {
                uVar2 = *param_2;
                if (DAT_0009e31c < 4) {
                    return;
                }
                pcVar1 = "NOT FOUND";
                if ((char)param_2[1] != '\0') {
                    pcVar1 = "FOUND";
                }
                snprintf((char *)local_818, 0x800,
                         ">> ASIC_REG[0x2C] = 0x%08X, UART Relay, %s\n", uVar2,
                         pcVar1);
                FUN_00047ec8(3, local_818, 0);
                if ((char)param_2[1] != '\0') {
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                             "BIT[31:16] GAP_CNT", uVar2 >> 0x10);
                    FUN_00047ec8(3, local_818, 0);
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                             "BIT[15:2]  Reserved", (uVar2 << 0x10) >> 0x12);
                    FUN_00047ec8(3, local_818, 0);
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                             "BIT[1]     RO_RELAY_EN", (uVar2 << 0x1e) >> 0x1f);
                    FUN_00047ec8(3, local_818, 0);
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                             "BIT[0]     CO_RELAY_EN", uVar2 & 1);
                    FUN_00047ec8(3, local_818, 0);
                }
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)CONCAT22(local_818[0]._2_2_, 10);
                FUN_00047ec8(3, local_818, 0);
                return;
            }
            if (param_1 == 0x30) {
                uVar2 = *param_2;
                if (DAT_0009e31c < 4) {
                    return;
                }
                pcVar1 = "NOT FOUND";
                if ((char)param_2[1] != '\0') {
                    pcVar1 = "FOUND";
                }
                snprintf((char *)local_818, 0x800,
                         ">> ASIC_REG[0x30] = 0x%08X, Core Number, %s\n", uVar2,
                         pcVar1);
                FUN_00047ec8(3, local_818, 0);
                if ((char)param_2[1] != '\0') {
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                             "BIT[31:9] Reserved", uVar2 >> 9);
                    FUN_00047ec8(3, local_818, 0);
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                             "BIT[8:0]  CORE_NUM", uVar2 & 0x1ff);
                    FUN_00047ec8(3, local_818, 0);
                }
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)CONCAT22(local_818[0]._2_2_, 10);
                FUN_00047ec8(3, local_818, 0);
                return;
            }
            if (param_1 == 0x38) {
                uVar2 = *param_2;
                if (DAT_0009e31c < 4) {
                    return;
                }
                pcVar1 = "NOT FOUND";
                if ((char)param_2[1] != '\0') {
                    pcVar1 = "FOUND";
                }
                snprintf((char *)local_818, 0x800,
                         ">> ASIC_REG[0x38] = 0x%08X, Ticket Mask2, %s\n",
                         uVar2, pcVar1);
                FUN_00047ec8(3, local_818, 0);
                if ((char)param_2[1] != '\0') {
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                             "BIT[31:0]  TM", uVar2);
                    FUN_00047ec8(3, local_818, 0);
                }
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)CONCAT22(local_818[0]._2_2_, 10);
                FUN_00047ec8(3, local_818, 0);
                return;
            }
            if (param_1 == 0x44) {
                uVar2 = *param_2;
                if (DAT_0009e31c < 4) {
                    return;
                }
                pcVar1 = "NOT FOUND";
                if ((char)param_2[1] != '\0') {
                    pcVar1 = "FOUND";
                }
                snprintf((char *)local_818, 0x800,
                         ">> ASIC_REG[0x44] = 0x%08X, External Temperature "
                         "Sensor Read, %s\n",
                         uVar2, pcVar1);
                FUN_00047ec8(3, local_818, 0);
                if ((char)param_2[1] != '\0') {
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                             "BIT[31:24]  LOCAL_TEMP_ADDR", uVar2 >> 0x18);
                    FUN_00047ec8(3, local_818, 0);
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                             "BIT[23:16]  LOCAL_TEMP_DATA",
                             (uVar2 << 8) >> 0x18);
                    FUN_00047ec8(3, local_818, 0);
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                             "BIT[15:8]   EXTERNAL_TEMP_ADDR",
                             (uVar2 << 0x10) >> 0x18);
                    FUN_00047ec8(3, local_818, 0);
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                             "BIT[7:0]    EXTERNAL_TEMP_DATA", uVar2 & 0xff);
                    FUN_00047ec8(3, local_818, 0);
                }
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)CONCAT22(local_818[0]._2_2_, 10);
                FUN_00047ec8(3, local_818, 0);
                return;
            }
            if (param_1 == 0x48) {
                uVar2 = *param_2;
                if (DAT_0009e31c < 4) {
                    return;
                }
                pcVar1 = "NOT FOUND";
                if ((char)param_2[1] != '\0') {
                    pcVar1 = "FOUND";
                }
                snprintf((char *)local_818, 0x800,
                         ">> ASIC_REG[0x48] = 0x%08X, Error Flag, %s\n", uVar2,
                         pcVar1);
                FUN_00047ec8(3, local_818, 0);
                if ((char)param_2[1] != '\0') {
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                             "BIT[31:24]  CORE_RESP_ERR", uVar2 >> 0x18);
                    FUN_00047ec8(3, local_818, 0);
                    if (3 < DAT_0009e31c) {
                        snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                 "BIT[23:17]  Reserved", (uVar2 << 8) >> 0x19);
                        FUN_00047ec8(3, local_818, 0);
                        if (DAT_0009e31c < 4) {
                            return;
                        }
                        snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                 "BIT[16]     PKT_END_ERR",
                                 (uVar2 << 0xf) >> 0x1f);
                        FUN_00047ec8(3, local_818, 0);
                        if (DAT_0009e31c < 4) {
                            return;
                        }
                        snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                 "BIT[15:8]   WORK_ERR_CNT",
                                 (uVar2 << 0x10) >> 0x18);
                        FUN_00047ec8(3, local_818, 0);
                        if (DAT_0009e31c < 4) {
                            return;
                        }
                        snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                 "BIT[7:0]    CMD_ERR_CNT", uVar2 & 0xff);
                        FUN_00047ec8(3, local_818, 0);
                    }
                }
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)CONCAT22(local_818[0]._2_2_, 10);
                FUN_00047ec8(3, local_818, 0);
                return;
            }
            if (param_1 == 0x4c) {
                uVar2 = *param_2;
                if (DAT_0009e31c < 4) {
                    return;
                }
                pcVar1 = "NOT FOUND";
                if ((char)param_2[1] != '\0') {
                    pcVar1 = "FOUND";
                }
                snprintf(
                    (char *)local_818, 0x800,
                    ">> ASIC_REG[0x4C] = 0x%08X, Nonce Error Counter, %s\n",
                    uVar2, pcVar1);
                FUN_00047ec8(3, local_818, 0);
                if ((char)param_2[1] != '\0') {
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                             "BIT[31:0]  ERR_CNT", uVar2);
                    FUN_00047ec8(3, local_818, 0);
                }
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)CONCAT22(local_818[0]._2_2_, 10);
                FUN_00047ec8(3, local_818, 0);
                return;
            }
            if (param_1 == 0x50) {
                uVar2 = *param_2;
                if (DAT_0009e31c < 4) {
                    if ((char)param_2[1] != '\0') {
                        return;
                    }
                } else {
                    pcVar1 = "FOUND";
                    if ((char)param_2[1] == '\0') {
                        pcVar1 = "NOT FOUND";
                    }
                    snprintf((char *)local_818, 0x800,
                             ">> ASIC_REG[0x50] = 0x%08X, Nonce Overflow "
                             "Counter, %s\n",
                             uVar2, pcVar1);
                    FUN_00047ec8(3, local_818, 0);
                    if ((char)param_2[1] != '\0') {
                        if (DAT_0009e31c < 4) {
                            return;
                        }
                        snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                 "BIT[31:8]  Reserved", uVar2 >> 8);
                        FUN_00047ec8(3, local_818, 0);
                        if (DAT_0009e31c < 4) {
                            return;
                        }
                        snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                 "BIT[7:0]   OVF_CNT", uVar2 & 0xff);
                        FUN_00047ec8(3, local_818, 0);
                    }
                }
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)CONCAT22(local_818[0]._2_2_, 10);
                FUN_00047ec8(3, local_818, 0);
                return;
            }
            if (param_1 == 0x54) {
                uVar2 = *param_2;
                if (DAT_0009e31c < 4) {
                    if ((char)param_2[1] != '\0') {
                        return;
                    }
                } else {
                    pcVar1 = "FOUND";
                    if ((char)param_2[1] == '\0') {
                        pcVar1 = "NOT FOUND";
                    }
                    snprintf(
                        (char *)local_818, 0x800,
                        ">> ASIC_REG[0x54] = 0x%08X, Analog Mux Control, %s\n",
                        uVar2, pcVar1);
                    FUN_00047ec8(3, local_818, 0);
                    if ((char)param_2[1] != '\0') {
                        if (DAT_0009e31c < 4) {
                            return;
                        }
                        snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                 "BIT[31:3]  Reserved", uVar2 >> 3);
                        FUN_00047ec8(3, local_818, 0);
                        if (DAT_0009e31c < 4) {
                            return;
                        }
                        snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                 "BIT[2:0]   DIODE_VDD_MUX_SEL", uVar2 & 7);
                        FUN_00047ec8(3, local_818, 0);
                    }
                }
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)CONCAT22(local_818[0]._2_2_, 10);
                FUN_00047ec8(3, local_818, 0);
                return;
            }
            if (param_1 == 0x58) {
                FUN_00028424(param_2);
                return;
            }
            if (param_1 == 0x5c) {
                uVar2 = *param_2;
                if (DAT_0009e31c < 4) {
                    if ((char)param_2[1] != '\0') {
                        return;
                    }
                } else {
                    pcVar1 = "FOUND";
                    if ((char)param_2[1] == '\0') {
                        pcVar1 = "NOT FOUND";
                    }
                    snprintf((char *)local_818, 0x800,
                             ">> ASIC_REG[0x5C] = 0x%08X, Time Out, %s\n",
                             uVar2, pcVar1);
                    FUN_00047ec8(3, local_818, 0);
                    if ((char)param_2[1] != '\0') {
                        if (DAT_0009e31c < 4) {
                            return;
                        }
                        snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                 "BIT[31:16]  Reserved", uVar2 >> 0x10);
                        FUN_00047ec8(3, local_818, 0);
                        if (DAT_0009e31c < 4) {
                            return;
                        }
                        snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                 "BIT[15:0]   TMOUT", uVar2 & 0xffff);
                        FUN_00047ec8(3, local_818, 0);
                    }
                }
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)CONCAT22(local_818[0]._2_2_, 10);
                FUN_00047ec8(3, local_818, 0);
                return;
            }
            if (param_1 == 0x60) {
                FUN_00028864(param_2);
                return;
            }
            if (param_1 == 100) {
                FUN_00028be4(param_2);
                return;
            }
            if (param_1 == 0x68) {
                FUN_00028f24(param_2);
                return;
            }
            if (param_1 == 0x6c) {
                FUN_00029264(param_2);
                return;
            }
            if (param_1 == 0x90) {
                FUN_00029724(param_2);
                return;
            }
            if (param_1 == 0x94) {
                uVar2 = *param_2;
                if (DAT_0009e31c < 4) {
                    return;
                }
                pcVar1 = "NOT FOUND";
                if ((char)param_2[1] != '\0') {
                    pcVar1 = "FOUND";
                }
                snprintf((char *)local_818, 0x800,
                         ">> ASIC_REG[0x94] = 0x%08X, Sweeping Work DAta, %s\n",
                         uVar2, pcVar1);
                FUN_00047ec8(3, local_818, 0);
                if ((char)param_2[1] != '\0') {
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                             "BIT[31:0]  WORK_DATA", uVar2);
                    FUN_00047ec8(3, local_818, 0);
                }
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)CONCAT22(local_818[0]._2_2_, 10);
                FUN_00047ec8(3, local_818, 0);
                return;
            }
            if (param_1 == 0x98) {
                uVar2 = *param_2;
                if (DAT_0009e31c < 4) {
                    return;
                }
                pcVar1 = "NOT FOUND";
                if ((char)param_2[1] != '\0') {
                    pcVar1 = "FOUND";
                }
                snprintf((char *)local_818, 0x800,
                         ">> ASIC_REG[0x98] = 0x%08X, Returned Group Pattern "
                         "Status, %s\n",
                         uVar2, pcVar1);
                FUN_00047ec8(3, local_818, 0);
                if ((char)param_2[1] != '\0') {
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                             "BIT[31:0]  RSTS", uVar2);
                    FUN_00047ec8(3, local_818, 0);
                }
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)CONCAT22(local_818[0]._2_2_, 10);
                FUN_00047ec8(3, local_818, 0);
                return;
            }
            if (param_1 == 0x9c) {
                uVar2 = *param_2;
                if (DAT_0009e31c < 4) {
                    if ((char)param_2[1] != '\0') {
                        return;
                    }
                } else {
                    pcVar1 = "FOUND";
                    if ((char)param_2[1] == '\0') {
                        pcVar1 = "NOT FOUND";
                    }
                    snprintf((char *)local_818, 0x800,
                             ">> ASIC_REG[0x9C] = 0x%08X, Nonce Returned "
                             "Timeout, %s\n",
                             uVar2, pcVar1);
                    FUN_00047ec8(3, local_818, 0);
                    if ((char)param_2[1] != '\0') {
                        if (DAT_0009e31c < 4) {
                            return;
                        }
                        snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                 "BIT[31:16]  Reserved", uVar2 >> 0x10);
                        FUN_00047ec8(3, local_818, 0);
                        if (DAT_0009e31c < 4) {
                            return;
                        }
                        snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                 "BIT[15:0]   SWEEP_TIMEOUT", uVar2 & 0xffff);
                        FUN_00047ec8(3, local_818, 0);
                    }
                }
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)CONCAT22(local_818[0]._2_2_, 10);
                FUN_00047ec8(3, local_818, 0);
                return;
            }
            if (param_1 == 0xa0) {
                uVar2 = *param_2;
                if (DAT_0009e31c < 4) {
                    return;
                }
                pcVar1 = "NOT FOUND";
                if ((char)param_2[1] != '\0') {
                    pcVar1 = "FOUND";
                }
                snprintf((char *)local_818, 0x800,
                         ">> ASIC_REG[0xA0] = 0x%08X, Returned Single Pattern "
                         "Status, %s\n",
                         uVar2, pcVar1);
                FUN_00047ec8(3, local_818, 0);
                if ((char)param_2[1] != '\0') {
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                             "BIT[31:0]  RSTS", uVar2);
                    FUN_00047ec8(3, local_818, 0);
                }
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)CONCAT22(local_818[0]._2_2_, 10);
                FUN_00047ec8(3, local_818, 0);
                return;
            }
            if (param_1 == 0xa4) {
                uVar2 = *param_2;
                if (DAT_0009e31c < 4) {
                    if ((char)param_2[1] != '\0') {
                        return;
                    }
                } else {
                    pcVar1 = "FOUND";
                    if ((char)param_2[1] == '\0') {
                        pcVar1 = "NOT FOUND";
                    }
                    snprintf((char *)local_818, 0x800,
                             ">> ASIC_REG[0xA4] = 0x%08X, Midstate Cal "
                             "Registter, %s\n",
                             uVar2, pcVar1);
                    FUN_00047ec8(3, local_818, 0);
                    if ((char)param_2[1] != '\0') {
                        if (DAT_0009e31c < 4) {
                            return;
                        }
                        snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                 "BIT[31]     MID_AUTO_GEN", uVar2 >> 0x1f);
                        FUN_00047ec8(3, local_818, 0);
                        if (3 < DAT_0009e31c) {
                            snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                     "BIT[30]     VER_FIX",
                                     (uVar2 << 1) >> 0x1f);
                            FUN_00047ec8(3, local_818, 0);
                            if (DAT_0009e31c < 4) {
                                return;
                            }
                            snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                     "BIT[29:28]  MIDSX_GEN",
                                     (uVar2 << 2) >> 0x1e);
                            FUN_00047ec8(3, local_818, 0);
                            if (DAT_0009e31c < 4) {
                                return;
                            }
                            snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                     "BIT[27:16]  Reserved",
                                     (uVar2 << 4) >> 0x14);
                            FUN_00047ec8(3, local_818, 0);
                            if (DAT_0009e31c < 4) {
                                return;
                            }
                            snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                     "BIT[15:0]   VER_MASK", uVar2 & 0xffff);
                            FUN_00047ec8(3, local_818, 0);
                        }
                    }
                }
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)CONCAT22(local_818[0]._2_2_, 10);
                FUN_00047ec8(3, local_818, 0);
                return;
            }
            if (param_1 == 0xac) {
                uVar2 = *param_2;
                if (DAT_0009e31c < 4) {
                    if ((char)param_2[1] != '\0') {
                        return;
                    }
                } else {
                    pcVar1 = "FOUND";
                    if ((char)param_2[1] == '\0') {
                        pcVar1 = "NOT FOUND";
                    }
                    snprintf((char *)local_818, 0x800,
                             ">> ASIC_REG[0xAC] = 0x%08X, Clock Overlap "
                             "Counter, %s\n",
                             uVar2, pcVar1);
                    FUN_00047ec8(3, local_818, 0);
                    if ((char)param_2[1] != '\0') {
                        if (DAT_0009e31c < 4) {
                            return;
                        }
                        snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                 "BIT[31:24]  DOMAIN3_CNT", uVar2 >> 0x18);
                        FUN_00047ec8(3, local_818, 0);
                        if (DAT_0009e31c < 4) {
                            return;
                        }
                        snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                 "BIT[23:16]  DOMAIN2_CNT",
                                 (uVar2 << 8) >> 0x18);
                        FUN_00047ec8(3, local_818, 0);
                        if (DAT_0009e31c < 4) {
                            return;
                        }
                        snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                 "BIT[15:8]   DOMAIN1_CNT",
                                 (uVar2 << 0x10) >> 0x18);
                        FUN_00047ec8(3, local_818, 0);
                        if (DAT_0009e31c < 4) {
                            return;
                        }
                        snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                 "BIT[7:0]    DOMAIN0_CNT", uVar2 & 0xff);
                        FUN_00047ec8(3, local_818, 0);
                    }
                }
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)CONCAT22(local_818[0]._2_2_, 10);
                FUN_00047ec8(3, local_818, 0);
                return;
            }
            if (param_1 == 0xb0) {
                FUN_00029c24(param_2);
                return;
            }
            if (param_1 != 0xb4) {
                if (param_1 != 0xb8) {
                    if (param_1 != 0xe0) {
                        if (DAT_0009e31c < 4) {
                            return;
                        }
                        snprintf((char *)local_818, 0x800, "Unknown reg: %d\n",
                                 param_1);
                        FUN_00047ab4(3, local_818, 0);
                        return;
                    }
                    uVar2 = *param_2;
                    if (3 < DAT_0009e31c) {
                        pcVar1 = "NOT FOUND";
                        if ((char)param_2[1] != '\0') {
                            pcVar1 = "FOUND";
                        }
                        snprintf((char *)local_818, 0x800,
                                 ">> ASIC_REG[0xE0] = 0x%08X, Returned Nonce "
                                 "Counter, %s\n",
                                 uVar2, pcVar1);
                        FUN_00047ec8(3, local_818, 0);
                    }
                    if ((char)param_2[1] != '\0') {
                        if (DAT_0009e31c < 4) {
                            return;
                        }
                        snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                 "BIT[31:16]  RETURN_NONCE_CNT_MATCH",
                                 uVar2 >> 0x10);
                        FUN_00047ec8(3, local_818, 0);
                        if (DAT_0009e31c < 4) {
                            return;
                        }
                        snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                                 "BIT[15:0]   RETURN_NONCE_CNT",
                                 uVar2 & 0xffff);
                        FUN_00047ec8(3, local_818, 0);
                    }
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    local_818[0] = (char *)CONCAT22(local_818[0]._2_2_, 10);
                    FUN_00047ec8(3, local_818, 0);
                    return;
                }
                uVar2 = *param_2;
                if (3 < DAT_0009e31c) {
                    pcVar1 = "NOT FOUND";
                    if ((char)param_2[1] != '\0') {
                        pcVar1 = "FOUND";
                    }
                    snprintf((char *)local_818, 0x800,
                             ">> ASIC_REG[0xB8] = 0x%08X, Adc Dataout1, %s\n",
                             uVar2, pcVar1);
                    FUN_00047ec8(3, local_818, 0);
                }
                if ((char)param_2[1] != '\0') {
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                             "BIT[31:28]  Reserved", uVar2 >> 0x1c);
                    FUN_00047ec8(3, local_818, 0);
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                             "BIT[27:16]  C3_DOUT", (uVar2 << 4) >> 0x14);
                    FUN_00047ec8(3, local_818, 0);
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                             "BIT[15:12]  Reserved", (uVar2 << 0x10) >> 0x1c);
                    FUN_00047ec8(3, local_818, 0);
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                             "BIT[11:0]   C2_DOUT", uVar2 & 0xfff);
                    FUN_00047ec8(3, local_818, 0);
                }
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)CONCAT22(local_818[0]._2_2_, 10);
                FUN_00047ec8(3, local_818, 0);
                return;
            }
            uVar2 = *param_2;
            if (DAT_0009e31c < 4) {
                if ((char)param_2[1] == '\0') {
                    return;
                }
            } else {
                pcVar1 = "NOT FOUND";
                if ((char)param_2[1] != '\0') {
                    pcVar1 = "FOUND";
                }
                snprintf((char *)local_818, 0x800,
                         ">> ASIC_REG[0xB4] = 0x%08X, Adc Dataout0, %s\n",
                         uVar2, pcVar1);
                FUN_00047ec8(3, local_818, 0);
                if ((char)param_2[1] == '\0')
                    goto LAB_0002b8e0;
                if (3 < DAT_0009e31c) {
                    snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                             "BIT[31:28]  Reserved", uVar2 >> 0x1c);
                    FUN_00047ec8(3, local_818, 0);
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                             "BIT[27:16]  C1_DOUT", (uVar2 << 4) >> 0x14);
                    FUN_00047ec8(3, local_818, 0);
                }
            }
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                     "BIT[15:12]  Reserved", (uVar2 << 0x10) >> 0x1c);
            FUN_00047ec8(3, local_818, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf((char *)local_818, 0x800, "%-30s = 0x%X\n",
                     "BIT[11:0]   C0_DOUT", uVar2 & 0xfff);
            FUN_00047ec8(3, local_818, 0);
        LAB_0002b8e0:
            if (3 < DAT_0009e31c) {
                local_818[0] = (char *)CONCAT22(local_818[0]._2_2_, 10);
                FUN_00047ec8(3, local_818, 0);
            }
            return;
        }
        uVar2 = *param_2;
        if (DAT_0009e31c < 4) {
            if ((char)param_2[1] != '\0') {
                return;
            }
            goto LAB_00027ea4;
        }
        local_818[0] = "FOUND";
        if ((char)param_2[1] == '\0') {
            local_818[0] = "NOT FOUND";
        }
        snprintf(local_810, 0x800,
                 ">> ASIC_REG[0x18] = 0x%08X, Misc Control, %s\n", uVar2);
        FUN_00047ec8(3, local_810, 0);
        if ((char)param_2[1] == '\0')
            goto LAB_00027ea4;
        if (DAT_0009e31c < 4) {
            return;
        }
        local_818[0] = (char *)(uVar2 >> 0x1c);
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[31:28]  RTST_EN");
        FUN_00047ec8(3, local_810, 0);
        if (DAT_0009e31c < 4) {
        LAB_00027b60:
            if (3 < DAT_0009e31c) {
                local_818[0] = (char *)((uVar2 << 0xb) >> 0x1f);
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[20]     RVS_K0");
                FUN_00047ec8(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)((uVar2 << 0xc) >> 0x1e);
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[19:18]  DSCLK_SEL");
                FUN_00047ec8(3, local_810, 0);
                goto LAB_00027be0;
            }
        LAB_00027c60:
            if (3 < DAT_0009e31c) {
                local_818[0] = (char *)((uVar2 << 0x10) >> 0x1f);
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[15]     TVER_EN");
                FUN_00047ec8(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)((uVar2 << 0x11) >> 0x1f);
                snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[14]     RFS");
                FUN_00047ec8(3, local_810, 0);
                goto LAB_00027ce0;
            }
        LAB_00027d60:
            if (3 < DAT_0009e31c) {
                local_818[0] = (char *)((uVar2 << 0x18) >> 0x1f);
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[7]      RET_WORK_ERR_FLAG");
                FUN_00047ec8(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)((uVar2 << 0x19) >> 0x1d);
                snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[6:4]    TFS");
                FUN_00047ec8(3, local_810, 0);
                goto LAB_00027de0;
            }
        } else {
            local_818[0] = (char *)((uVar2 << 4) >> 0x1c);
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[27:24]  BT8D_8_5");
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            local_818[0] = (char *)((uVar2 << 8) >> 0x1f);
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[23]     CORE_SWPS");
            FUN_00047ec8(3, local_810, 0);
            if (3 < DAT_0009e31c) {
                local_818[0] = (char *)((uVar2 << 9) >> 0x1f);
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[22]     CORE_SRST");
                FUN_00047ec8(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)((uVar2 << 10) >> 0x1f);
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[21]     SPAT_NOD");
                FUN_00047ec8(3, local_810, 0);
                goto LAB_00027b60;
            }
        LAB_00027be0:
            if (3 < DAT_0009e31c) {
                local_818[0] = (char *)((uVar2 << 0xe) >> 0x1f);
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[17]     TOPCLK_SEL");
                FUN_00047ec8(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)((uVar2 << 0xf) >> 0x1f);
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[16]     BCLK_SEL");
                FUN_00047ec8(3, local_810, 0);
                goto LAB_00027c60;
            }
        LAB_00027ce0:
            if (3 < DAT_0009e31c) {
                local_818[0] = (char *)((uVar2 << 0x12) >> 0x1f);
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[13]     INV_CLKO");
                FUN_00047ec8(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return;
                }
                local_818[0] = (char *)((uVar2 << 0x13) >> 0x1b);
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[12:8]   BT8D_4_0");
                FUN_00047ec8(3, local_810, 0);
                goto LAB_00027d60;
            }
        LAB_00027de0:
            if (DAT_0009e31c < 4) {
                return;
            }
            local_818[0] = (char *)((uVar2 << 0x1c) >> 0x1f);
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[3]      RI_DISA");
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            local_818[0] = (char *)((uVar2 << 0x1d) >> 0x1f);
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[2]      FORCE_CORE_EN");
            FUN_00047ec8(3, local_810, 0);
        }
        if (DAT_0009e31c < 4) {
            return;
        }
        local_818[0] = (char *)(uVar2 & 3);
        snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                 "BIT[1:0]    HASHRATE_TWS");
        FUN_00047ec8(3, local_810, 0);
    LAB_00027ea4:
        if (3 < DAT_0009e31c) {
            local_810[0] = '\n';
            local_810[1] = '\0';
            FUN_00047ec8(3, local_810, 0);
        }
        return;
    }
    uVar2 = *param_2;
    if (DAT_0009e31c < 4) {
        if ((char)param_2[1] != '\0') {
            return;
        }
        goto LAB_00027538;
    }
    local_818[0] = "FOUND";
    if ((char)param_2[1] == '\0') {
        local_818[0] = "NOT FOUND";
    }
    snprintf(local_810, 0x800,
             ">> ASIC_REG[0x08] = 0x%08X, PLL0 Parameter, %s\n", uVar2);
    FUN_00047ec8(3, local_810, 0);
    if ((char)param_2[1] == '\0')
        goto LAB_00027538;
    if (DAT_0009e31c < 4) {
        return;
    }
    local_818[0] = (char *)(uVar2 >> 0x1f);
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[31]     LOCKED");
    FUN_00047ec8(3, local_810, 0);
    if (DAT_0009e31c < 4) {
    LAB_000273b4:
        if (3 < DAT_0009e31c) {
            local_818[0] = (char *)((uVar2 << 0x10) >> 0x1e);
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[15:14]  Reserved");
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            local_818[0] = (char *)((uVar2 << 0x12) >> 0x1a);
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[13:8]   REFDIV");
            FUN_00047ec8(3, local_810, 0);
            goto LAB_00027434;
        }
    } else {
        local_818[0] = (char *)((uVar2 << 1) >> 0x1f);
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[30]     PLLEN");
        FUN_00047ec8(3, local_810, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        local_818[0] = (char *)((uVar2 << 3) >> 0x1f);
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[29]     Reserved");
        FUN_00047ec8(3, local_810, 0);
        if (3 < DAT_0009e31c) {
            local_818[0] = (char *)((uVar2 << 2) >> 0x1f);
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[28]     BYPASS");
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            local_818[0] = (char *)((uVar2 << 4) >> 0x14);
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[27:16]  FBDIV");
            FUN_00047ec8(3, local_810, 0);
            goto LAB_000273b4;
        }
    LAB_00027434:
        if (DAT_0009e31c < 4)
            goto LAB_00027538;
        local_818[0] = (char *)((uVar2 << 0x18) >> 0x1f);
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[7]      Reserved");
        FUN_00047ec8(3, local_810, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        local_818[0] = (char *)((uVar2 << 0x19) >> 0x1d);
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[6:4]    POSTDIV1");
        FUN_00047ec8(3, local_810, 0);
    }
    if (DAT_0009e31c < 4) {
        return;
    }
    local_818[0] = (char *)((uVar2 << 0x1c) >> 0x1f);
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[3]      Reserved");
    FUN_00047ec8(3, local_810, 0);
    if (DAT_0009e31c < 4) {
        return;
    }
    local_818[0] = (char *)(uVar2 & 7);
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[2:0]    POSTDIV2");
    FUN_00047ec8(3, local_810, 0);
LAB_00027538:
    if (3 < DAT_0009e31c) {
        local_810[0] = '\n';
        local_810[1] = '\0';
        FUN_00047ec8(3, local_810, 0);
    }
    return;
}

void FUN_0002c050(uint *param_1)

{
    char *pcVar1;
    uint uVar2;
    char local_810[2048];

    if (3 < DAT_0009e31c) {
        uVar2 = *param_1 & 0xffff;
        pcVar1 = "NOT FOUND";
        if ((char)param_1[1] != '\0') {
            pcVar1 = "FOUND";
        }
        snprintf(
            local_810, 0x800,
            ">> core_id[%d], CORE_REG[2] = 0x%04X, Process Monitor Data, %s\n",
            *param_1 >> 0x10, uVar2, pcVar1);
        FUN_00047ec8(3, local_810, 0);
        if ((char)param_1[1] != '\0') {
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[15:0] FREQ_CNT",
                     uVar2, pcVar1);
            FUN_00047ec8(3, local_810, 0);
        }
        if (3 < DAT_0009e31c) {
            local_810[0] = '\n';
            local_810[1] = '\0';
            FUN_00047ec8(3, local_810, 0);
        }
    }
    return;
}

void FUN_0002c414(uint *param_1)

{
    char *pcVar1;
    uint uVar2;
    char local_810[2048];

    if (3 < DAT_0009e31c) {
        uVar2 = *param_1 & 0xff;
        pcVar1 = "NOT FOUND";
        if ((char)param_1[1] != '\0') {
            pcVar1 = "FOUND";
        }
        snprintf(
            local_810, 0x800,
            ">> core_id[%d], CORE_REG[5] = 0x%02X, Hash Clock Control, %s\n",
            *param_1 >> 0x10, uVar2, pcVar1);
        FUN_00047ec8(3, local_810, 0);
        if ((char)param_1[1] != '\0') {
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[15:0]  CLOCK_CTRL", uVar2, pcVar1);
            FUN_00047ec8(3, local_810, 0);
        }
        if (3 < DAT_0009e31c) {
            local_810[0] = '\n';
            local_810[1] = '\0';
            FUN_00047ec8(3, local_810, 0);
        }
    }
    return;
}

void FUN_0002c508(uint *param_1)

{
    char *pcVar1;
    uint uVar2;
    char local_810[2048];

    if (3 < DAT_0009e31c) {
        uVar2 = *param_1 & 0xffff;
        pcVar1 = "NOT FOUND";
        if ((char)param_1[1] != '\0') {
            pcVar1 = "FOUND";
        }
        snprintf(
            local_810, 0x800,
            ">> core_id[%d], CORE_REG[6] = 0x%02X, Hash Clock Counter, %s\n",
            *param_1 >> 0x10, uVar2, pcVar1);
        FUN_00047ec8(3, local_810, 0);
        if ((char)param_1[1] != '\0') {
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[7:0]  CLOCK_CNT",
                     uVar2, pcVar1);
            FUN_00047ec8(3, local_810, 0);
        }
        if (3 < DAT_0009e31c) {
            local_810[0] = '\n';
            local_810[1] = '\0';
            FUN_00047ec8(3, local_810, 0);
        }
    }
    return;
}

void FUN_0002c844(uint *param_1)

{
    char *pcVar1;
    uint uVar2;
    uint uVar3;
    char local_810[2048];

    uVar2 = *param_1;
    if (DAT_0009e31c < 4) {
        if ((char)param_1[1] != '\0') {
            return;
        }
    } else {
        uVar3 = uVar2 & 0xffff;
        pcVar1 = "FOUND";
        if ((char)param_1[1] == '\0') {
            pcVar1 = "NOT FOUND";
        }
        snprintf(local_810, 0x800,
                 ">> core_id[%d], CORE_REG[8] = 0x%02X, IR Drop Ctrl, %s\n",
                 uVar2 >> 0x10, uVar3, pcVar1);
        FUN_00047ec8(3, local_810, 0);
        if ((char)param_1[1] != '\0') {
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[15:8]  Reserved",
                     uVar3 >> 8, pcVar1);
            FUN_00047ec8(3, local_810, 0);
            if (3 < DAT_0009e31c) {
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[7]     IR_CLEAR", (uVar3 << 0x18) >> 0x1f,
                         pcVar1);
                FUN_00047ec8(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return;
                }
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[6:5]   Reserved", (uVar3 << 0x19) >> 0x1e);
                FUN_00047ec8(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return;
                }
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[4]     IR_INI", (uVar3 << 0x1b) >> 0x1f);
                FUN_00047ec8(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return;
                }
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[3:2]   Reserved", (uVar3 << 0x1c) >> 0x1e);
                FUN_00047ec8(3, local_810, 0);
            }
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[1:0]   IR_MODE",
                     uVar2 & 3);
            FUN_00047ec8(3, local_810, 0);
        }
    }
    if (3 < DAT_0009e31c) {
        local_810[0] = '\n';
        local_810[1] = '\0';
        FUN_00047ec8(3, local_810, 0);
    }
    return;
}

void FUN_0002ca8c(uint *param_1)

{
    char *pcVar1;
    uint uVar2;
    char local_810[2048];

    uVar2 = *param_1;
    if (DAT_0009e31c < 4) {
        if ((char)param_1[1] != '\0') {
            return;
        }
    } else {
        pcVar1 = "FOUND";
        if ((char)param_1[1] == '\0') {
            pcVar1 = "NOT FOUND";
        }
        snprintf(local_810, 0x800,
                 ">> core_id[%d], CORE_REG[9] = 0x%02X, IR Drop S1 Sum, %s\n",
                 uVar2 >> 0x10, uVar2 & 0xffff, pcVar1);
        FUN_00047ec8(3, local_810, 0);
        if ((char)param_1[1] != '\0') {
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[15:6]  Reserved",
                     (uVar2 << 0x10) >> 0x16, pcVar1);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[5:0]   IR_S1_NUM",
                     uVar2 & 0x3f, pcVar1);
            FUN_00047ec8(3, local_810, 0);
        }
    }
    if (3 < DAT_0009e31c) {
        local_810[0] = '\n';
        local_810[1] = '\0';
        FUN_00047ec8(3, local_810, 0);
    }
    return;
}

void FUN_0002cbd4(uint *param_1)

{
    char *pcVar1;
    uint uVar2;
    char local_810[2048];

    uVar2 = *param_1;
    if (DAT_0009e31c < 4) {
        if ((char)param_1[1] != '\0') {
            return;
        }
    } else {
        pcVar1 = "FOUND";
        if ((char)param_1[1] == '\0') {
            pcVar1 = "NOT FOUND";
        }
        snprintf(local_810, 0x800,
                 ">> core_id[%d], CORE_REG[10] = 0x%02X, IR Drop S2 Sum, %s\n",
                 uVar2 >> 0x10, uVar2 & 0xffff, pcVar1);
        FUN_00047ec8(3, local_810, 0);
        if ((char)param_1[1] != '\0') {
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[15:6]  Reserved",
                     (uVar2 << 0x10) >> 0x16, pcVar1);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[5:0]   IR_S2_NUM",
                     uVar2 & 0x3f, pcVar1);
            FUN_00047ec8(3, local_810, 0);
        }
    }
    if (3 < DAT_0009e31c) {
        local_810[0] = '\n';
        local_810[1] = '\0';
        FUN_00047ec8(3, local_810, 0);
    }
    return;
}

void FUN_0002cd1c(uint *param_1)

{
    char *pcVar1;
    uint uVar2;
    char local_810[2048];

    if (3 < DAT_0009e31c) {
        uVar2 = *param_1 & 0xffff;
        pcVar1 = "NOT FOUND";
        if ((char)param_1[1] != '\0') {
            pcVar1 = "FOUND";
        }
        snprintf(
            local_810, 0x800,
            ">> core_id[%d], CORE_REG[11] = 0x%02X, IR Drop Data Low, %s\n",
            *param_1 >> 0x10, uVar2, pcVar1);
        FUN_00047ec8(3, local_810, 0);
        if ((char)param_1[1] != '\0') {
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[15:0]  IR_DATA_LOW", uVar2, pcVar1);
            FUN_00047ec8(3, local_810, 0);
        }
        if (3 < DAT_0009e31c) {
            local_810[0] = '\n';
            local_810[1] = '\0';
            FUN_00047ec8(3, local_810, 0);
        }
    }
    return;
}

void FUN_0002ce10(uint *param_1)

{
    char *pcVar1;
    uint uVar2;
    char local_810[2048];

    uVar2 = *param_1;
    if (DAT_0009e31c < 4) {
        if ((char)param_1[1] != '\0') {
            return;
        }
    } else {
        pcVar1 = "FOUND";
        if ((char)param_1[1] == '\0') {
            pcVar1 = "NOT FOUND";
        }
        snprintf(
            local_810, 0x800,
            ">> core_id[%d], CORE_REG[12] = 0x%02X, IR Drop Data High, %s\n",
            uVar2 >> 0x10, uVar2 & 0xffff, pcVar1);
        FUN_00047ec8(3, local_810, 0);
        if ((char)param_1[1] != '\0') {
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[15:8]  Reserved",
                     (uVar2 << 0x10) >> 0x18, pcVar1);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[7:0]   IR_DATA_HIGH", uVar2 & 0xff, pcVar1);
            FUN_00047ec8(3, local_810, 0);
        }
    }
    if (3 < DAT_0009e31c) {
        local_810[0] = '\n';
        local_810[1] = '\0';
        FUN_00047ec8(3, local_810, 0);
    }
    return;
}

void FUN_0002cf58(uint *param_1)

{
    char *pcVar1;
    uint uVar2;
    char local_810[2048];

    uVar2 = *param_1;
    if (DAT_0009e31c < 4) {
        if ((char)param_1[1] != '\0') {
            return;
        }
    } else {
        pcVar1 = "FOUND";
        if ((char)param_1[1] == '\0') {
            pcVar1 = "NOT FOUND";
        }
        snprintf(local_810, 0x800,
                 ">> core_id[%d], CORE_REG[13] = 0x%02X, OCV Pulse Width, %s\n",
                 uVar2 >> 0x10, uVar2 & 0xffff, pcVar1);
        FUN_00047ec8(3, local_810, 0);
        if ((char)param_1[1] != '\0') {
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[15:11]  Reserved",
                     (uVar2 << 0x10) >> 0x1b, pcVar1);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[10:8]   OCV_DOUT",
                     (uVar2 << 0x15) >> 0x1d, pcVar1);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                     "BIT[7:0]    PULSE_WIDTH", uVar2 & 0xff);
            FUN_00047ec8(3, local_810, 0);
        }
    }
    if (3 < DAT_0009e31c) {
        local_810[0] = '\n';
        local_810[1] = '\0';
        FUN_00047ec8(3, local_810, 0);
    }
    return;
}

void FUN_0002d0e0(uint *param_1)

{
    char *pcVar1;
    uint uVar2;
    uint uVar3;
    char local_810[2048];

    uVar2 = *param_1;
    if (DAT_0009e31c < 4) {
        if ((char)param_1[1] != '\0') {
            return;
        }
    } else {
        uVar3 = uVar2 & 0xffff;
        pcVar1 = "FOUND";
        if ((char)param_1[1] == '\0') {
            pcVar1 = "NOT FOUND";
        }
        snprintf(local_810, 0x800,
                 ">> core_id[%d], CORE_REG[14] = 0x%02X, OCV Sel, %s\n",
                 uVar2 >> 0x10, uVar3, pcVar1);
        FUN_00047ec8(3, local_810, 0);
        if ((char)param_1[1] != '\0') {
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[15:8]  Reserved",
                     uVar3 >> 8, pcVar1);
            FUN_00047ec8(3, local_810, 0);
            if (3 < DAT_0009e31c) {
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[7]     OCV_CLEAR", (uVar3 << 0x18) >> 0x1f,
                         pcVar1);
                FUN_00047ec8(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return;
                }
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[6]     OCV_EN", (uVar3 << 0x19) >> 0x1f);
                FUN_00047ec8(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return;
                }
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[5]     Reserved", (uVar3 << 0x1a) >> 0x1f);
                FUN_00047ec8(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return;
                }
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[4:0]   OCV_SEL", uVar2 & 0x1f);
                FUN_00047ec8(3, local_810, 0);
            }
        }
    }
    if (3 < DAT_0009e31c) {
        local_810[0] = '\n';
        local_810[1] = '\0';
        FUN_00047ec8(3, local_810, 0);
    }
    return;
}

void FUN_0002d2e8(uint *param_1)

{
    char *pcVar1;
    uint uVar2;
    char local_810[2048];

    uVar2 = *param_1;
    if (DAT_0009e31c < 4) {
        if ((char)param_1[1] != '\0') {
            return;
        }
        goto LAB_0002d5b0;
    }
    pcVar1 = "FOUND";
    if ((char)param_1[1] == '\0') {
        pcVar1 = "NOT FOUND";
    }
    snprintf(local_810, 0x800,
             ">> core_id[%d], CORE_REG[14] = 0x%02X, PG Mont, %s\n",
             uVar2 >> 0x10, uVar2 & 0xffff, pcVar1);
    FUN_00047ec8(3, local_810, 0);
    if ((char)param_1[1] == '\0')
        goto LAB_0002d5b0;
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[15]     PGM_OVERLAP",
             (uVar2 << 0x11) >> 0x1f, pcVar1);
    FUN_00047ec8(3, local_810, 0);
    if (DAT_0009e31c < 4) {
    LAB_0002d4ac:
        if (DAT_0009e31c < 4)
            goto LAB_0002d5b0;
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[5:4]    PGM_CTRL",
                 (uVar2 << 0x1b) >> 0x1f);
        FUN_00047ec8(3, local_810, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[3:2]    Reserved ",
                 (uVar2 << 0x1c) >> 0x1e);
        FUN_00047ec8(3, local_810, 0);
    } else {
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[14:10]  Reserved",
                 (uVar2 << 0x12) >> 0x1b, pcVar1);
        FUN_00047ec8(3, local_810, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[9:8]    CLK_SEL",
                 (uVar2 << 0x17) >> 0x1e);
        FUN_00047ec8(3, local_810, 0);
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[7]      PGM_AUTO",
                     (uVar2 << 0x19) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[6]      PGM_ADD",
                     (uVar2 << 0x1a) >> 0x1f);
            FUN_00047ec8(3, local_810, 0);
            goto LAB_0002d4ac;
        }
    }
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[1]      PGM_UPLOAD",
             (uVar2 << 0x1e) >> 0x1f);
    FUN_00047ec8(3, local_810, 0);
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[0]      PGM_ENABLE",
             uVar2 & 1);
    FUN_00047ec8(3, local_810, 0);
LAB_0002d5b0:
    if (3 < DAT_0009e31c) {
        local_810[0] = '\n';
        local_810[1] = '\0';
        FUN_00047ec8(3, local_810, 0);
    }
    return;
}

void FUN_0002d7c8(undefined4 *param_1, char param_2, undefined1 param_3,
                  undefined4 param_4)

{
    char cVar1;
    int iVar2;
    byte bVar3;
    char acStack_808[2032];

    if (param_1 != (undefined4 *)0x0) {
        *param_1 = 0;
        *(undefined1 *)param_1 = 0x41;
        *(undefined1 *)((int)param_1 + 1) = 9;
        iVar2 = DAT_000a0d68;
        param_1[1] = 0;
        *(undefined1 *)(param_1 + 2) = 0;
        cVar1 = *(char *)(iVar2 + 0x329a);
        *(char *)((int)param_1 + 7) = (char)param_4;
        *(undefined1 *)((int)param_1 + 3) = param_3;
        *(char *)(param_1 + 1) = (char)((uint)param_4 >> 0x18);
        *(char *)((int)param_1 + 5) = (char)((uint)param_4 >> 0x10);
        *(char *)((int)param_1 + 6) = (char)((uint)param_4 >> 8);
        *(char *)((int)param_1 + 2) = cVar1 * param_2;
        bVar3 = FUN_00051554(param_1, 0x40);
        *(byte *)(param_1 + 2) = *(byte *)(param_1 + 2) & 0xe0 | bVar3 & 0x1f;
        return;
    }
    if (DAT_0009e31c < 4) {
        return;
    }
    builtin_strncpy(acStack_808, "Invalid parameter.\n", 0x14);
    FUN_00047ab4(3, acStack_808, 0);
    return;
}

void FUN_0002d868(undefined4 param_1, undefined4 param_2, undefined1 param_3,
                  byte param_4)

{
    uint3 uVar1;
    undefined4 local_34;
    undefined1 auStack_30[12];
    undefined1 auStack_24[16];

    FUN_0002e9b8();
    local_34._0_2_ = (param_4 & 0xff0f) << 8;
    uVar1 = CONCAT12(param_3, (short)local_34);
    local_34 = CONCAT31(uVar1 >> 8 & 0x7fff, 0xff);
    FUN_0002d7c8(auStack_30, param_2, 0x3c, local_34);
    FUN_0002a29c(auStack_24, auStack_30, 9);
    FUN_00070808(auStack_24, param_1);
    return;
}

void FUN_0002d8e4(undefined4 param_1, undefined4 param_2, undefined1 param_3)

{
    uint local_2c;
    undefined1 auStack_28[12];
    undefined1 auStack_1c[12];

    FUN_0002e9b8();
    local_2c = CONCAT22(0x8000, CONCAT11(param_3, 0xff)) & 0xffff0fff;
    FUN_0002d7c8(auStack_28, param_2, 0x3c, local_2c);
    FUN_0002a29c(auStack_1c, auStack_28, 9);
    FUN_00070808(auStack_1c, param_1);
    return;
}

void FUN_0002d958(undefined4 param_1, undefined4 param_2, undefined1 param_3,
                  undefined1 param_4)

{
    uint local_34;
    undefined1 auStack_30[12];
    undefined1 auStack_24[16];

    FUN_0002e9b8();
    local_34 =
        CONCAT31(CONCAT21(0x8000, param_3), param_4) & 0xffff0fff | 0x8000;
    FUN_0002d7c8(auStack_30, param_2, 0x3c, local_34);
    FUN_0002a29c(auStack_24, auStack_30, 9);
    FUN_00070808(auStack_24, param_1);
    return;
}

void FUN_0002d9cc(int param_1, uint *param_2)

{
    char *pcVar1;
    uint uVar2;
    uint uVar3;
    char local_810[8];
    char acStack_808[2040];

    if (param_1 == 0) {
        uVar2 = *param_2;
        if (DAT_0009e31c < 4) {
            if ((char)param_2[1] != '\0') {
                return;
            }
        } else {
            pcVar1 = "FOUND";
            if ((char)param_2[1] == '\0') {
                pcVar1 = "NOT FOUND";
            }
            snprintf(
                local_810, 0x800,
                ">> core_id[%d], CORE_REG[0] = 0x%02X, Clock Delay Ctrl, %s\n",
                uVar2 >> 0x10, uVar2 & 0xff, pcVar1);
            FUN_00047ec8(3, local_810, 0);
            if ((char)param_2[1] != '\0') {
                if (DAT_0009e31c < 4) {
                    return;
                }
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[7:6]  CCDLY_SEL", (uVar2 << 0x18) >> 0x1e,
                         pcVar1);
                FUN_00047ec8(3, local_810, 0);
                if (3 < DAT_0009e31c) {
                    snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                             "BIT[5:4]  PWTH_SEL", (uVar2 << 0x1a) >> 0x1e,
                             pcVar1);
                    FUN_00047ec8(3, local_810, 0);
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                             "BIT[3]    HASH_CLKEN", (uVar2 << 0x1c) >> 0x1f);
                    FUN_00047ec8(3, local_810, 0);
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                             "BIT[2]    MMEN", (uVar2 << 0x1d) >> 0x1f);
                    FUN_00047ec8(3, local_810, 0);
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                             "BIT[1]    Reserved", (uVar2 << 0x1e) >> 0x1f);
                    FUN_00047ec8(3, local_810, 0);
                }
                if (DAT_0009e31c < 4) {
                    return;
                }
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[0]    SWPF_MODE", uVar2 & 1);
                FUN_00047ec8(3, local_810, 0);
            }
        }
        if (3 < DAT_0009e31c) {
            local_810[0] = '\n';
            local_810[1] = '\0';
            FUN_00047ec8(3, local_810, 0);
        }
        return;
    }
    if (param_1 == 1) {
        uVar2 = *param_2;
        if (DAT_0009e31c < 4) {
            if ((char)param_2[1] != '\0') {
                return;
            }
        } else {
            pcVar1 = "FOUND";
            if ((char)param_2[1] == '\0') {
                pcVar1 = "NOT FOUND";
            }
            snprintf(local_810, 0x800,
                     ">> core_id[%d], CORE_REG[1] = 0x%02X, Process Monitor "
                     "Ctrl, %s\n",
                     uVar2 >> 0x10, uVar2 & 0xff, pcVar1);
            FUN_00047ec8(3, local_810, 0);
            if ((char)param_2[1] != '\0') {
                if (DAT_0009e31c < 4) {
                    return;
                }
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[7:3]  Reserved", (uVar2 << 0x18) >> 0x1b, pcVar1);
                FUN_00047ec8(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return;
                }
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[2]    PM_START", (uVar2 << 0x1d) >> 0x1f, pcVar1);
                FUN_00047ec8(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return;
                }
                snprintf(local_810, 0x800, "%-30s = 0x%X\n", "BIT[1:0]  PM_SEL",
                         uVar2 & 3);
                FUN_00047ec8(3, local_810, 0);
            }
        }
        if (3 < DAT_0009e31c) {
            local_810[0] = '\n';
            local_810[1] = '\0';
            FUN_00047ec8(3, local_810, 0);
        }
        return;
    }
    if (param_1 == 2) {
        FUN_0002c050(param_2);
        return;
    }
    if (param_1 == 3) {
        uVar2 = *param_2;
        if (DAT_0009e31c < 4) {
            if ((char)param_2[1] != '\0') {
                return;
            }
        } else {
            pcVar1 = "FOUND";
            if ((char)param_2[1] == '\0') {
                pcVar1 = "NOT FOUND";
            }
            snprintf(local_810, 0x800,
                     ">> core_id[%d], CORE_REG[3] = 0x%02X, Core Error, %s\n",
                     uVar2 >> 0x10, uVar2 & 0xff, pcVar1);
            FUN_00047ec8(3, local_810, 0);
            if ((char)param_2[1] != '\0') {
                if (DAT_0009e31c < 4) {
                    return;
                }
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[7:5]  Reserved", (uVar2 << 0x18) >> 0x1d, pcVar1);
                FUN_00047ec8(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return;
                }
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[4]    INI_NONCE_ERR", (uVar2 << 0x1b) >> 0x1f,
                         pcVar1);
                FUN_00047ec8(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return;
                }
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[3:0]  CMD_ERR_CNT", uVar2 & 0xf);
                FUN_00047ec8(3, local_810, 0);
            }
        }
        if (3 < DAT_0009e31c) {
            local_810[0] = '\n';
            local_810[1] = '\0';
            FUN_00047ec8(3, local_810, 0);
        }
        return;
    }
    if (param_1 == 4) {
        uVar2 = *param_2;
        if (DAT_0009e31c < 4) {
            if ((char)param_2[1] != '\0') {
                return;
            }
        } else {
            pcVar1 = "FOUND";
            if ((char)param_2[1] == '\0') {
                pcVar1 = "NOT FOUND";
            }
            snprintf(local_810, 0x800,
                     ">> core_id[%d], CORE_REG[4] = 0x%04X, Core Enable, %s\n",
                     uVar2 >> 0x10, uVar2 & 0xffff, pcVar1);
            FUN_00047ec8(3, local_810, 0);
            if ((char)param_2[1] != '\0') {
                if (DAT_0009e31c < 4) {
                    return;
                }
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[15:8]  Reserved", (uVar2 << 0x10) >> 0x18,
                         pcVar1);
                FUN_00047ec8(3, local_810, 0);
                if (DAT_0009e31c < 4) {
                    return;
                }
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[7:0]   CORE_EN_I", uVar2 & 0xff, pcVar1);
                FUN_00047ec8(3, local_810, 0);
            }
        }
        if (3 < DAT_0009e31c) {
            local_810[0] = '\n';
            local_810[1] = '\0';
            FUN_00047ec8(3, local_810, 0);
        }
        return;
    }
    if (param_1 == 5) {
        FUN_0002c414(param_2);
        return;
    }
    if (param_1 != 6) {
        if (param_1 != 7) {
            if (param_1 == 8) {
                FUN_0002c844(param_2);
                return;
            }
            if (param_1 == 9) {
                FUN_0002ca8c(param_2);
                return;
            }
            if (param_1 == 10) {
                FUN_0002cbd4(param_2);
                return;
            }
            if (param_1 == 0xb) {
                FUN_0002cd1c(param_2);
            } else if (param_1 == 0xc) {
                FUN_0002ce10(param_2);
            } else if (param_1 == 0xd) {
                FUN_0002cf58(param_2);
            } else if (param_1 == 0xe) {
                FUN_0002d0e0(param_2);
            } else if (param_1 == 0xf) {
                FUN_0002d2e8(param_2);
            } else if (3 < DAT_0009e31c) {
                snprintf(acStack_808, 0x800, "Unknown reg: %d\n", param_1);
                FUN_00047ab4(3, acStack_808, 0);
            }
            return;
        }
        uVar2 = *param_2;
        if (DAT_0009e31c < 4) {
            if ((char)param_2[1] != '\0') {
                return;
            }
        } else {
            uVar3 = uVar2 & 0xffff;
            pcVar1 = "FOUND";
            if ((char)param_2[1] == '\0') {
                pcVar1 = "NOT FOUND";
            }
            snprintf(
                local_810, 0x800,
                ">> core_id[%d], CORE_REG[7] = 0x%02X, Clock Select Ctrl, %s\n",
                uVar2 >> 0x10, uVar3, pcVar1);
            FUN_00047ec8(3, local_810, 0);
            if ((char)param_2[1] != '\0') {
                if (DAT_0009e31c < 4) {
                    return;
                }
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[15:8]  Reserved", uVar3 >> 8, pcVar1);
                FUN_00047ec8(3, local_810, 0);
                if (3 < DAT_0009e31c) {
                    snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                             "BIT[7]     SWPF_MODE", (uVar3 << 0x18) >> 0x1f,
                             pcVar1);
                    FUN_00047ec8(3, local_810, 0);
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                             "BIT[6:5]   Reserved", (uVar3 << 0x19) >> 0x1e);
                    FUN_00047ec8(3, local_810, 0);
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                             "BIT[4]     PULSE_MODE", (uVar3 << 0x1b) >> 0x1f);
                    FUN_00047ec8(3, local_810, 0);
                    if (DAT_0009e31c < 4) {
                        return;
                    }
                    snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                             "BIT[3:2]   Reserved", (uVar3 << 0x1c) >> 0x1e);
                    FUN_00047ec8(3, local_810, 0);
                }
                if (DAT_0009e31c < 4) {
                    return;
                }
                snprintf(local_810, 0x800, "%-30s = 0x%X\n",
                         "BIT[1:0]   CLOCK_CNT", uVar2 & 3);
                FUN_00047ec8(3, local_810, 0);
            }
        }
        if (3 < DAT_0009e31c) {
            local_810[0] = '\n';
            local_810[1] = '\0';
            FUN_00047ec8(3, local_810, 0);
        }
        return;
    }
    FUN_0002c508(param_2);
    return;
}

undefined4 FUN_0002da50(uint param_1, uint param_2, uint param_3)

{
    char *__format;
    char acStack_808[2052];

    if (((int)param_1 < 0x10) &&
        (*(int *)(DAT_000a0d68 + param_1 * 4 + 4) != 0)) {
        if (param_2 < 0x4e) {
            if (param_3 < 0x60) {
                return 1;
            }
            if (3 < DAT_0009e31c) {
                __format = "Invalid core ID: %d\n";
                param_2 = param_3;
            LAB_0002daf0:
                snprintf(acStack_808, 0x800, __format, param_2);
                FUN_00047ab4(3, acStack_808, 0);
                return 0;
            }
        } else if (3 < DAT_0009e31c) {
            __format = "Invalid ASIC ID: %d\n";
            goto LAB_0002daf0;
        }
    } else if (3 < DAT_0009e31c) {
        __format = "Invalid chain ID: %d\n";
        param_2 = param_1;
        goto LAB_0002daf0;
    }
    return 0;
}

void FUN_0002db40(undefined4 param_1, undefined4 param_2, uint param_3)

{
    int iVar1;
    undefined4 *puVar2;
    uint uVar3;
    uint uVar4;
    undefined4 local_8a8;
    uint local_8a4;
    undefined1 auStack_8a0[120];
    char local_828[24];
    undefined2 local_810;

    puVar2 = &local_8a8;
    if (3 < DAT_0009e31c) {
        local_8a8 = param_2;
        local_8a4 = param_3;
        snprintf(local_828, 0x800,
                 "Dump core register start. chain = %d, asic = %d, core = %d\n",
                 param_1);
        FUN_00047ab4(3, local_828, 0);
    }
    memset(auStack_8a0, 0, 0x78);
    pthread_mutex_lock((pthread_mutex_t *)&DAT_000a0db0);
    DAT_00138648 = 1;
    iVar1 = FUN_0002da50(param_1, param_2, param_3 & 0xff);
    if (iVar1 != 0) {
        uVar3 = 0;
        do {
            puVar2 = (undefined4 *)((int)puVar2 + 8);
            uVar4 = uVar3 & 0xff;
            FUN_0002d868(param_1, param_2, param_3, uVar4);
            FUN_0002a324(param_1, param_2, 0x40, puVar2);
            uVar3 = uVar3 + 1;
            FUN_0002d9cc(uVar4, puVar2);
        } while (uVar3 != 0xf);
    }
    DAT_00138648 = 0;
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_000a0db0);
    if (3 < DAT_0009e31c) {
        builtin_strncpy(local_828, "Dump core register done.", 0x18);
        local_810 = 10;
        FUN_00047ab4(3, local_828, 0);
    }
    return;
}

undefined4 FUN_0002dc90(undefined4 param_1, undefined4 param_2, int param_3)

{
    uint uVar1;
    uint uVar2;
    uint uVar3;
    undefined4 uVar4;
    uint local_830;
    uint local_82c;
    undefined4 local_828;
    char acStack_824[16];
    undefined4 local_814;
    char acStack_810[20];
    undefined2 uStack_7fc;
    undefined1 local_7fa;

    if (4 < DAT_0009e31c) {
        snprintf((char *)&local_828, 0x800,
                 "Dump core process monitor data register start. chain = %d, "
                 "asic = %d\n",
                 param_1, param_2);
        FUN_00047ab4(4, &local_828, 0);
    }
    pthread_mutex_lock((pthread_mutex_t *)&DAT_000a0db0);
    DAT_00138648 = 1;
    if (4 < DAT_0009e31c) {
        local_828._0_1_ = 'C';
        local_828._1_1_ = 'r';
        local_828._2_1_ = 'i';
        local_828._3_1_ = 't';
        builtin_strncpy(acStack_824, "ical path chain.", 0x10);
        local_814 = CONCAT22(local_814._2_2_, 10);
        FUN_00047ab4(4, &local_828, 0);
    }
    uVar3 = 0;
    FUN_0002d958(param_1, param_2, 1, 6);
    FUN_0002d8e4(param_1, param_2, 2);
    do {
        while (true) {
            local_830 = 0;
            uVar3 = uVar3 + 1;
            local_82c = 0;
            FUN_0002a324(param_1, param_2, 0x40, &local_830);
            uVar1 = local_830 >> 0x10;
            if ((local_82c & 0xff) == 0) {
                if (3 < DAT_0009e31c) {
                    uVar4 = 0xffffffff;
                    snprintf((char *)&local_828, 0x800,
                             "dump chain %u, asic %u, failed. found = %u\n",
                             param_1, param_2, 0);
                    FUN_00047ab4(3, &local_828, 0);
                    goto LAB_0002df20;
                }
                uVar4 = 0xffffffff;
                goto LAB_0002ddfc;
            }
            uVar2 = local_830 & 0xffff;
            if (4 < DAT_0009e31c) {
                snprintf((char *)&local_828, 0x800, "%8u", uVar2);
                FUN_00047ec8(4, &local_828, 0);
            }
            *(uint *)(param_3 + uVar1 * 4) = uVar2;
            if (((uVar3 & 0xf) == 0) && (4 < DAT_0009e31c))
                break;
            if (uVar3 == 0x60)
                goto LAB_0002dddc;
        }
        local_828._0_2_ = 10;
        FUN_00047ec8(4, &local_828);
    } while (uVar3 != 0x60);
LAB_0002dddc:
    uVar4 = 0;
LAB_0002df20:
    if (4 < DAT_0009e31c) {
        local_828._0_2_ = 10;
        FUN_00047ec8(4, &local_828, 0);
    }
LAB_0002ddfc:
    FUN_0002d958(param_1, param_2, 1, 0);
    DAT_00138648 = 0;
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_000a0db0);
    if (4 < DAT_0009e31c) {
        local_828._0_1_ = 'D';
        local_828._1_1_ = 'u';
        local_828._2_1_ = 'm';
        local_828._3_1_ = 'p';
        builtin_strncpy(acStack_824, " core process mo", 0x10);
        local_814._0_1_ = 'n';
        local_814._1_1_ = 'i';
        local_814._2_1_ = 't';
        local_814._3_1_ = 'o';
        builtin_strncpy(acStack_810, "r data register done", 0x14);
        uStack_7fc = 0xa2e;
        local_7fa = 0;
        FUN_00047ab4(4, &local_828, 0);
    }
    return uVar4;
}

int FUN_0002df9c(undefined4 param_1, int param_2)

{
    int iVar1;
    int iVar2;
    undefined4 uVar3;
    int iVar4;
    int *piVar5;
    uint uVar6;
    int iStack_9ac;
    int local_9a8[96];
    char local_828[2052];

    memset(local_9a8, 0, 0x180);
    if (3 < DAT_0009e31c) {
        snprintf(local_828, 0x800, "dump chain %u, asic cp pm data:\n",
                 param_1);
        FUN_00047ab4(3, local_828, 0);
    }
    uVar6 = 0;
    do {
        memset(local_9a8, 0, 0x180);
        iVar1 = FUN_0002dc90(param_1, uVar6 & 0xff, local_9a8);
        if ((iVar1 != 0) &&
            (*(undefined1 *)(param_2 + uVar6 * 8 + 4) = 1, 3 < DAT_0009e31c)) {
            snprintf(local_828, 0x800,
                     "dump chain %u, asic %u cp pm data failed\n", param_1,
                     uVar6);
            FUN_00047ab4(3, local_828, 0);
        }
        iVar4 = 0;
        piVar5 = &iStack_9ac;
        iVar2 = 0;
        do {
            piVar5 = piVar5 + 1;
            if (*piVar5 == 0) {
                iVar4 = iVar4 + 1;
            } else {
                iVar2 = iVar2 + *piVar5;
            }
        } while (local_9a8 + 0x5f != piVar5);
        if (iVar4 == 0x60) {
            uVar3 = 0;
        } else {
            uVar3 = FUN_00077070(iVar2, 0x60 - iVar4);
        }
        *(undefined4 *)(param_2 + uVar6 * 8) = uVar3;
        if (3 < DAT_0009e31c) {
            snprintf(local_828, 0x800, "[%3d]:%-6u", uVar6, uVar3);
            FUN_00047ec8(3, local_828, 0);
        }
        uVar6 = uVar6 + 1;
        if ((uVar6 % 6 == 0) && (3 < DAT_0009e31c)) {
            local_828[0] = '\n';
            local_828[1] = '\0';
            FUN_00047ec8(3, local_828);
        }
    } while (uVar6 != 0x4e);
    if (3 < DAT_0009e31c) {
        local_828[0] = '\n';
        local_828[1] = '\0';
        FUN_00047ec8(3, local_828, 0);
    }
    return iVar1;
}

void FUN_0002e180(undefined4 param_1, undefined4 param_2, uint param_3)

{
    int iVar1;
    undefined4 local_828;
    undefined4 local_824;
    char local_820[16];
    undefined4 local_810;
    undefined4 local_80c;
    char acStack_808[20];
    undefined2 uStack_7f4;
    undefined1 local_7f2;

    if (3 < DAT_0009e31c) {
        snprintf(local_820, 0x800,
                 "Dump core process monitor data register start.            "
                 "chain = %d, asic = %d, core = %d\n",
                 param_1, param_2, param_3);
        FUN_00047ab4(3, local_820, 0);
    }
    iVar1 = FUN_0002da50(param_1, param_2, param_3 & 0xff);
    if (iVar1 == 0) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_820, "register is inva", 0x10);
            local_810._0_1_ = 'l';
            local_810._1_1_ = 'i';
            local_810._2_1_ = 'd';
            local_810._3_1_ = '.';
            local_80c = CONCAT22(local_80c._2_2_, 10);
            FUN_00047ab4(3, local_820, 0);
            return;
        }
    } else {
        local_824 = 0;
        local_828 = 0;
        pthread_mutex_lock((pthread_mutex_t *)&DAT_000a0db0);
        DAT_00138648 = 1;
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_820, "LVT delay chain.", 0x10);
            local_810._0_2_ = 10;
            FUN_00047ab4(3, local_820, 0);
        }
        FUN_0002d958(param_1, param_2, 1, 4);
        FUN_0002d868(param_1, param_2, param_3, 2);
        FUN_0002a324(param_1, param_2, 0x40, &local_828);
        FUN_0002c050(&local_828);
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_820, "SVT delay chain.", 0x10);
            local_810._0_2_ = 10;
            FUN_00047ab4(3, local_820, 0);
        }
        FUN_0002d958(param_1, param_2, 1, 5);
        FUN_0002d868(param_1, param_2, param_3, 2);
        FUN_0002a324(param_1, param_2, 0x40, &local_828);
        FUN_0002c050(&local_828);
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_820, "HVT delay chain.", 0x10);
            local_810._0_2_ = 10;
            FUN_00047ab4(3, local_820, 0);
        }
        FUN_0002d958(param_1, param_2, 1, 6);
        FUN_0002d868(param_1, param_2, param_3, 2);
        FUN_0002a324(param_1, param_2, 0x40, &local_828);
        FUN_0002c050(&local_828);
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_820, "Critical path ch", 0x10);
            local_810._0_1_ = 'a';
            local_810._1_1_ = 'i';
            local_810._2_1_ = 'n';
            local_810._3_1_ = '.';
            local_80c = CONCAT22(local_80c._2_2_, 10);
            FUN_00047ab4(3, local_820, 0);
        }
        FUN_0002d958(param_1, param_2, 1, 7);
        FUN_0002d868(param_1, param_2, param_3, 2);
        FUN_0002a324(param_1, param_2, 0x40, &local_828);
        FUN_0002c050(&local_828);
        FUN_0002d958(param_1, param_2, 1, 0);
        DAT_00138648 = 0;
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_000a0db0);
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_820, "Dump core proces", 0x10);
            local_810._0_1_ = 's';
            local_810._1_1_ = ' ';
            local_810._2_1_ = 'm';
            local_810._3_1_ = 'o';
            local_80c._0_1_ = 'n';
            local_80c._1_1_ = 'i';
            local_80c._2_1_ = 't';
            local_80c._3_1_ = 'o';
            builtin_strncpy(acStack_808, "r data register done", 0x14);
            uStack_7f4 = 0xa2e;
            local_7f2 = 0;
            FUN_00047ab4(3, local_820, 0);
            return;
        }
    }
    return;
}

void FUN_0002e4f8(undefined4 param_1, undefined4 param_2, uint param_3)

{
    int iVar1;
    undefined4 local_828;
    undefined4 local_824;
    char local_820[20];
    undefined4 local_80c;
    char acStack_808[2028];

    if (3 < DAT_0009e31c) {
        snprintf(local_820, 0x800,
                 "Dump core hash clock register start. chain = %d, asic = %d, "
                 "core = %d\n",
                 param_1, param_2, param_3);
        FUN_00047ab4(3, local_820, 0);
    }
    iVar1 = FUN_0002da50(param_1, param_2, param_3 & 0xff);
    if (iVar1 == 0) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_820, "register is invalid.", 0x14);
            local_80c = CONCAT22(local_80c._2_2_, 10);
            FUN_00047ab4(3, local_820, 0);
            return;
        }
    } else {
        local_824 = 0;
        local_828 = 0;
        pthread_mutex_lock((pthread_mutex_t *)&DAT_000a0db0);
        DAT_00138648 = 1;
        FUN_0002d958(param_1, param_2, 5, 1);
        FUN_0002d868(param_1, param_2, param_3, 5);
        FUN_0002a324(param_1, param_2, 0x40, &local_828);
        FUN_0002c414(&local_828);
        FUN_0002d868(param_1, param_2, param_3, 6);
        FUN_0002a324(param_1, param_2, 0x40, &local_828);
        FUN_0002c508(&local_828);
        FUN_0002d958(param_1, param_2, 5, 0);
        DAT_00138648 = 0;
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_000a0db0);
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_820, "Dump core hash clock", 0x14);
            local_80c._0_1_ = ' ';
            local_80c._1_1_ = 'r';
            local_80c._2_1_ = 'e';
            local_80c._3_1_ = 'g';
            builtin_strncpy(acStack_808, "ister done.\n", 0xc);
            acStack_808[0xc] = 0;
            FUN_00047ab4(3, local_820, 0);
            return;
        }
    }
    return;
}

void FUN_0002e6d4(undefined4 param_1, undefined4 param_2)

{
    undefined1 uVar1;
    int iVar2;
    undefined1 *puVar3;
    undefined4 local_84c;
    undefined4 local_848;
    undefined4 local_844;
    undefined4 uStack_840;
    undefined4 uStack_83c;
    undefined4 uStack_838;
    undefined4 local_834;
    undefined4 uStack_830;
    undefined4 uStack_82c;
    undefined4 uStack_828;
    undefined2 local_824;
    char local_820[24];
    undefined2 local_808;

    local_844 = 0xc080400;
    uStack_840 = 0x24181410;
    uStack_83c = 0x38302c28;
    uStack_838 = 0x504c4844;
    local_834 = 0x605c5854;
    uStack_830 = 0x906c6864;
    uStack_82c = 0xa09c9894;
    uStack_828 = 0xb4b0aca4;
    local_824 = 0xe0b8;
    if (3 < DAT_0009e31c) {
        snprintf(local_820, 0x800,
                 "Dump asic register start. chain = %d, asic = %d\n", param_1,
                 param_2);
        FUN_00047ab4(3, local_820, 0);
    }
    pthread_mutex_lock((pthread_mutex_t *)&DAT_000a0db0);
    iVar2 = FUN_0002da50(param_1, param_2, 0);
    if (iVar2 != 0) {
        puVar3 = (undefined1 *)((int)&local_848 + 3);
        do {
            puVar3 = puVar3 + 1;
            uVar1 = *puVar3;
            local_84c = 0;
            local_848 = 0;
            FUN_0002a2d8(param_1, param_2, uVar1);
            FUN_0002a324(param_1, param_2, uVar1, &local_84c);
            FUN_0002bbb8(uVar1, &local_84c);
        } while (puVar3 != (undefined1 *)((int)&local_824 + 1));
    }
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_000a0db0);
    if (3 < DAT_0009e31c) {
        builtin_strncpy(local_820, "Dump asic register done.", 0x18);
        local_808 = 10;
        FUN_00047ab4(3, local_820, 0);
    }
    return;
}

void FUN_0002e81c(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    int iVar1;
    undefined4 local_834;
    undefined4 local_830;
    undefined1 auStack_82c[12];
    char local_820[20];
    undefined4 local_80c;
    undefined2 local_808;

    if (3 < DAT_0009e31c) {
        snprintf(
            local_820, 0x800,
            "Dump asic register start. chain = %d, asic = %d, reg = 0x%x\n",
            param_1, param_2, param_3);
        FUN_00047ab4(3, local_820, 0);
    }
    iVar1 = FUN_0002da50(param_1, param_2, 0);
    if (iVar1 == 0) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_820, "register is invalid.", 0x14);
            local_80c = CONCAT22(local_80c._2_2_, 10);
            FUN_00047ab4(3, local_820, 0);
            return;
        }
    } else {
        local_834 = 0;
        local_830 = 0;
        pthread_mutex_lock((pthread_mutex_t *)&DAT_000a0db0);
        local_834 = 0;
        local_830 = 0;
        FUN_0002e9b8();
        FUN_0002d7c8(auStack_82c, param_2, param_3, param_4);
        FUN_0002a29c(local_820, auStack_82c, 9);
        FUN_00070808(local_820, param_1);
        FUN_0002a2d8(param_1, param_2, param_3);
        FUN_0002a324(param_1, param_2, param_3, &local_834);
        FUN_0002bbb8(param_3, &local_834);
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_000a0db0);
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_820, "Dump asic register d", 0x14);
            local_80c._0_1_ = 'o';
            local_80c._1_1_ = 'n';
            local_80c._2_1_ = 'e';
            local_80c._3_1_ = '.';
            local_808 = 10;
            FUN_00047ab4(3, local_820, 0);
            return;
        }
    }
    return;
}

void FUN_0002e9b8(void)

{
    pthread_mutex_lock((pthread_mutex_t *)&DAT_00138630);
    DAT_00241d68 = 0;
    DAT_00241d6c = 0;
    DAT_00241d70 = 0;
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_00138630);
    return;
}

void FUN_0002e9f0(void)

{
    pthread_mutex_lock((pthread_mutex_t *)&DAT_00138564);
    DAT_0023a2b0 = 0;
    DAT_0023a2b4 = 0;
    DAT_0023a2b8 = 0;
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_00138564);
    return;
}

undefined4 FUN_0002ea28(uint param_1, uint param_2)

{
    undefined4 uVar1;
    uint uVar2;
    int iVar3;
    int iVar4;
    int iVar5;
    int iVar6;
    char *pcVar7;
    char acStack_828[2052];

    if (*(int *)(DAT_000a0d68 + param_1 * 4 + 4) == 0) {
        uVar1 = 0;
        if (3 < DAT_0009e31c) {
            snprintf(acStack_828, 0x800, "Chain %d is not exist.\n", param_1);
            FUN_00047ab4(3, acStack_828, 0);
        }
    } else {
        iVar5 = 0;
        iVar6 = 0;
        if (param_2 == 0) {
            *(undefined1 *)(DAT_000a0d68 + param_1 + 0x3276) = 0;
        }
        FUN_0002e9b8();
        FUN_0001ad6c(param_1 & 0xff, 1, 0, param_2 & 0xff);
        do {
            while (true) {
                FUN_0004a804(300);
                pthread_mutex_lock((pthread_mutex_t *)&DAT_00138630);
                iVar4 = DAT_000a0d68;
                iVar5 = iVar5 + DAT_00241d70;
                if (DAT_00241d70 < 1)
                    break;
                iVar6 = 0;
                pcVar7 = (char *)(DAT_000a0d68 + param_1 + 0x3276);
                do {
                    while (true) {
                        uVar2 = DAT_00241d6c + 1;
                        iVar6 = iVar6 + 1;
                        DAT_00241d6c = uVar2;
                        if (0x1fe < uVar2) {
                            DAT_00241d6c = 0;
                        }
                        if (*(byte *)((int)&DAT_00241d70 + uVar2 * 8 + 3) !=
                                param_1 ||
                            *(char *)((int)&DAT_00241d70 + uVar2 * 8 + 2) !=
                                '\0')
                            break;
                        if ((&DAT_00241d6c)[uVar2 * 2] >> 0x10 == 0x1396) {
                            *pcVar7 = *pcVar7 + '\x01';
                        }
                        if (DAT_00241d70 == iVar6)
                            goto LAB_0002eb58;
                    }
                } while (DAT_00241d70 != iVar6);
            LAB_0002eb58:
                iVar6 = 0;
                DAT_00241d70 = 0;
                iVar3 = (uint) * (byte *)(iVar4 + 0x3287) * 0x186;
                if (iVar5 != iVar3 &&
                    (int)(iVar5 + (uint) * (byte *)(iVar4 + 0x3287) * -0x186) <
                            0 ==
                        SBORROW4(iVar5, iVar3)) {
                LAB_0002eb78:
                    pthread_mutex_unlock((pthread_mutex_t *)&DAT_00138630);
                    return 1;
                }
            LAB_0002ebd8:
                pthread_mutex_unlock((pthread_mutex_t *)&DAT_00138630);
            }
            iVar4 = (uint) * (byte *)(DAT_000a0d68 + 0x3287) * 0x186;
            if (iVar5 != iVar4 &&
                (int)(iVar5 +
                      (uint) * (byte *)(DAT_000a0d68 + 0x3287) * -0x186) < 0 ==
                    SBORROW4(iVar5, iVar4))
                goto LAB_0002eb78;
            if (DAT_00241d70 != 0) {
                if ((param_2 == 0) &&
                    (*(char *)(DAT_000a0d68 + param_1 + 0x3276) == 'N'))
                    goto LAB_0002eb78;
                goto LAB_0002ebd8;
            }
            iVar6 = iVar6 + 1;
            FUN_0004a804(100);
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_00138630);
        } while (iVar6 != 4);
        uVar1 = 1;
    }
    return uVar1;
}

uint FUN_0002ec38(uint param_1, uint param_2, uint param_3)

{
    int iVar1;
    int iVar2;
    uint uVar3;
    uint uVar4;
    int iVar5;
    int iVar6;
    int local_82c;
    char acStack_828[2052];

    local_82c = 5;
    do {
        FUN_0002e9b8();
        iVar6 = 8;
        FUN_0001ad6c(param_3 & 0xff, 0, param_2 & 0xff, param_1 & 0xff);
        do {
            FUN_0004a804(10);
            pthread_mutex_lock((pthread_mutex_t *)&DAT_00138630);
            iVar2 = DAT_00241d70;
            if (DAT_00241d70 != 0) {
                iVar5 = 0;
                while (true) {
                    DAT_00241d70 = DAT_00241d70 + -1;
                    uVar4 = DAT_00241d6c + 1;
                    DAT_00241d6c = uVar4;
                    if (0x1fe < uVar4) {
                        DAT_00241d6c = 0;
                    }
                    iVar1 = uVar4 * 8;
                    uVar3 = (uint) * (byte *)((int)&DAT_00241d70 + iVar1 + 3);
                    if (((uVar3 == param_3) &&
                         (*(byte *)((int)&DAT_00241d70 + iVar1 + 1) ==
                          param_2)) &&
                        (*(byte *)((int)&DAT_00241d70 + iVar1 + 2) ==
                         param_1)) {
                        if (param_1 == 0x1c) {
                            uVar4 = (&DAT_00241d6c)[uVar4 * 2];
                            if ((uVar4 & 0xe0000000) != 0) {
                                uVar4 = 0;
                            }
                            pthread_mutex_unlock(
                                (pthread_mutex_t *)&DAT_00138630);
                            FUN_0002e9b8();
                            return uVar4;
                        }
                        if ((param_1 + 0x4c & 0xfb) == 0) {
                            pthread_mutex_unlock(
                                (pthread_mutex_t *)&DAT_00138630);
                            FUN_0002e9b8();
                            return (&DAT_00241d6c)[uVar4 * 2];
                        }
                    } else if (3 < DAT_0009e31c) {
                        snprintf(acStack_828, 0x800,
                                 "read asic reg error: expect chain = %d, chip "
                                 "= %d, reg = %d, got chain = %d, chip = %d, "
                                 "reg = %d\n",
                                 param_3, param_2, param_1, uVar3,
                                 (uint) * (byte *)((int)&DAT_00241d70 +
                                                   uVar4 * 8 + 1),
                                 (uint) * (byte *)((int)&DAT_00241d70 +
                                                   uVar4 * 8 + 2));
                        FUN_00047ab4(3, acStack_828, 0);
                    }
                    if (iVar2 == iVar5 + 1)
                        break;
                    iVar5 = iVar5 + 1;
                }
            }
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_00138630);
            iVar6 = iVar6 + -1;
        } while (iVar6 != 0);
        local_82c = local_82c + -1;
        if (local_82c == 0) {
            if (4 < DAT_0009e31c) {
                snprintf(acStack_828, 0x800,
                         "read asic reg timeout: expect chain = %d, chip = %d, "
                         "reg = %d\n",
                         param_3, param_2, param_1);
                FUN_00047ab4(4, acStack_828, 0);
            }
            FUN_0002e9b8();
            return 0;
        }
    } while (true);
}

void FUN_0002ee74(byte *param_1)

{
    byte bVar1;
    undefined4 uVar2;
    uint uVar3;
    char cVar4;
    int iVar5;
    int iVar6;
    uint uVar7;
    undefined8 uVar8;
    char local_820[16];
    undefined4 uStack_810;
    uint local_80c;
    char acStack_808[2028];

    if (DAT_000a0d91 == '\0') {
        return;
    }
    bVar1 = *param_1;
    if ((bVar1 & 0x80) == 0) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_820, "!!! nonce invali", 0x10);
            uStack_810 = CONCAT13(uStack_810._3_1_, 0xa64);
            FUN_00047ab4(3, local_820, 0);
            return;
        }
    } else {
        if ((bVar1 & 0x40) != 0) {
            if (3 < DAT_0009e31c) {
                builtin_strncpy(local_820, "!!! nonce crc er", 0x10);
                uStack_810._0_1_ = 'r';
                uStack_810._1_1_ = 'o';
                uStack_810._2_1_ = 'r';
                uStack_810._3_1_ = '\n';
                local_80c = local_80c & 0xffffff00;
                FUN_00047ab4(3, local_820, 0);
            }
            DAT_00242d70 = DAT_00242d70 + 1;
            return;
        }
        pthread_mutex_lock((pthread_mutex_t *)&DAT_00138564);
        if (DAT_0023a2b8 < 0x1ff) {
            uVar7 = *(ushort *)(param_1 + 2) & 0x7fff;
            iVar6 = DAT_0023a2b0 * 0x3c;
            *(uint *)(&DAT_0023a2c0 + iVar6) = uVar7;
            *(undefined4 *)(&DAT_0023a2d0 + iVar6) =
                *(undefined4 *)(param_1 + 4);
            *(uint *)(&DAT_0023a2d4 + iVar6) = *param_1 & 0xf;
            uVar2 = FUN_0006f69c(uVar7);
            *(undefined4 *)(&DAT_0023a2bc + iVar6) = uVar2;
            uVar2 = FUN_0006f6b0(uVar7);
            *(undefined4 *)(&DAT_0023a2c4 + iVar6) = uVar2;
            uVar8 = FUN_0006f684(uVar7);
            *(undefined8 *)(&DAT_0023a2c8 + iVar6) = uVar8;
            FUN_0006f6c8(uVar7, &DAT_0023a2d8 + iVar6, 0x20);
            iVar5 = *(int *)(&DAT_0023a2d0 + iVar6);
            iVar6 = *(int *)(&DAT_0023a2d4 + iVar6);
            cVar4 = *(char *)(DAT_000a0d68 + 0x329a);
            if (cVar4 == '\0') {
                cVar4 = '\x03';
            }
            uVar7 = FUN_00075cec(iVar5);
            uVar3 = FUN_00075cf4(iVar5, cVar4);
            if ((iVar6 < 0x10 && uVar3 < 0x4e) &&
                (uVar7 < 0x60 && iVar5 != 0)) {
                iVar6 = iVar6 * 0x1d40 + uVar3 * 0x60 + uVar7 + 0x4f0;
                *(int *)(&DAT_0013864c + iVar6 * 4) =
                    *(int *)(&DAT_0013864c + iVar6 * 4) + 1;
            } else if (4 < DAT_0009e31c) {
                snprintf(local_820, 0x800, "buf [%x] is error!\n", iVar5);
                FUN_00047ab4(4, local_820, 0);
                if (4 < DAT_0009e31c) {
                    snprintf(local_820, 0x800,
                             "chain = %d, chip = %d, core = %d\n", iVar6, uVar3,
                             uVar7);
                    FUN_00047ab4(4, local_820, 0);
                }
            }
            DAT_0023a2b0 = DAT_0023a2b0 + 1;
            DAT_0023a2b8 = DAT_0023a2b8 + 1;
            if (0x1fe < DAT_0023a2b0) {
                DAT_0023a2b0 = 0;
            }
        } else if (3 < DAT_0009e31c) {
            builtin_strncpy(local_820, "nonce_read_out b", 0x10);
            uStack_810._0_1_ = 'u';
            uStack_810._1_1_ = 'f';
            uStack_810._2_1_ = 'f';
            uStack_810._3_1_ = 'e';
            local_80c._0_1_ = 'r';
            local_80c._1_1_ = ' ';
            local_80c._2_1_ = 'i';
            local_80c._3_1_ = 's';
            builtin_strncpy(acStack_808, " full!\n", 8);
            FUN_00047ab4(3, local_820, bVar1 & 0x40);
        }
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_00138564);
    }
    return;
}

void FUN_0002f194(byte *param_1)

{
    int iVar1;
    uint uVar2;
    uint uVar3;
    byte bVar4;
    uint uVar5;
    char local_810[16];
    undefined4 local_800;
    char acStack_7fc[8];
    undefined2 uStack_7f4;
    undefined1 local_7f2;

    bVar4 = *param_1;
    if ((bVar4 & 0x40) == 0) {
        uVar5 = param_1[3] & 0x60;
        if ((param_1[3] & 0x60) == 0) {
            pthread_mutex_lock((pthread_mutex_t *)&DAT_00138630);
            uVar2 = DAT_00241d70;
            bVar4 = DAT_00138648;
            if (DAT_00241d70 < 0x1ff) {
                uVar3 = DAT_00241d68 + 1;
                iVar1 = uVar3 * 8;
                (&DAT_00241d6c)[uVar3 * 2] = *(undefined4 *)(param_1 + 4);
                *(byte *)(&DAT_00241d70 + uVar3 * 2) =
                    (byte)(((uint)param_1[3] << 0x1b) >> 0x1b);
                *(byte *)((int)&DAT_00241d70 + iVar1 + 1) = param_1[2];
                if (param_1[1] != 0x40) {
                    bVar4 = bVar4 | 1;
                }
                *(byte *)((int)&DAT_00241d70 + iVar1 + 2) = param_1[1];
                *(byte *)((int)&DAT_00241d70 + iVar1 + 3) =
                    (byte)(((uint)*param_1 << 0x1c) >> 0x1c);
                if (bVar4 != 0) {
                    DAT_00241d70 = uVar2 + 1;
                    DAT_00241d68 = uVar3;
                    if (0x1fe < uVar3) {
                        DAT_00241d68 = uVar5;
                    }
                }
            } else if (3 < DAT_0009e31c) {
                builtin_strncpy(local_810, "reg_value_buf bu", 0x10);
                local_800._0_1_ = 'f';
                local_800._1_1_ = 'f';
                local_800._2_1_ = 'e';
                local_800._3_1_ = 'r';
                builtin_strncpy(acStack_7fc, " is full", 8);
                uStack_7f4 = 0xa21;
                local_7f2 = 0;
                FUN_00047ab4(3, local_810, uVar5);
            }
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_00138630);
            return;
        }
        if (3 < DAT_0009e31c) {
            snprintf(local_810, 0x800, "!!! REG_TYPE = 1. %u\n",
                     *(undefined4 *)param_1);
            FUN_00047ab4(3, local_810, bVar4 & 0x40);
            return;
        }
    } else {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_810, "!!! reg crc erro", 0x10);
            local_800 = CONCAT13(local_800._3_1_, 0xa72);
            FUN_00047ab4(3, local_810, 0);
        }
        DAT_00242d6c = DAT_00242d6c + 1;
    }
    return;
}

void FUN_0002f354(void)

{
    int *piVar1;
    int iVar2;
    uint uVar3;
    int *piVar4;
    uint uVar5;
    int iVar6;
    int iVar7;
    uint uVar8;
    undefined4 local_828;
    char acStack_824[2048];

    if (4 < DAT_0009e31c) {
        local_828._0_1_ = '\n';
        local_828._1_1_ = ' ';
        local_828._2_1_ = 'd';
        local_828._3_1_ = 'u';
        builtin_strncpy(acStack_824, "mp asic nonce number...\n", 0x18);
        acStack_824[0x18] = 0;
        FUN_00047ab4(4, &local_828, 0);
    }
    iVar7 = 0;
    do {
        if (*(int *)(DAT_000a0d68 + iVar7 * 4 + 4) != 0) {
            if (4 < DAT_0009e31c) {
                snprintf((char *)&local_828, 0x800, "Chain[%d]:\n", iVar7);
                FUN_00047ab4(4, &local_828, 0);
            }
            iVar6 = 0;
            piVar4 = (int *)(iVar7 * 0x7500 + 0x139a08);
            uVar3 = 0;
            uVar8 = DAT_0009e31c;
            do {
                piVar1 = piVar4 + 0x60;
                iVar2 = 0;
                do {
                    piVar4 = piVar4 + 1;
                    iVar2 = iVar2 + *piVar4;
                } while (piVar4 != piVar1);
                iVar6 = iVar6 + iVar2;
                uVar5 = uVar3 + 1;
                if (4 < uVar8) {
                    snprintf((char *)&local_828, 0x800, "IC[%03d] = %-10d ",
                             uVar3, iVar2);
                    FUN_00047ab4(4, &local_828, 0);
                    uVar8 = DAT_0009e31c;
                    if ((uVar5 % 6 == 0) && (4 < DAT_0009e31c)) {
                        local_828._0_2_ = 10;
                        FUN_00047ab4(4, &local_828);
                        uVar8 = DAT_0009e31c;
                    }
                }
                uVar3 = uVar5;
            } while (uVar5 != 0x4e);
            if (4 < uVar8) {
                snprintf((char *)&local_828, 0x800,
                         "Chain[%d] total nonce number = %d\n", iVar7, iVar6);
                FUN_00047ab4(4, &local_828, 0);
                if (4 < DAT_0009e31c) {
                    local_828._0_2_ = 10;
                    FUN_00047ab4(4, &local_828, 0);
                }
            }
        }
        iVar7 = iVar7 + 1;
    } while (iVar7 != 0x10);
    return;
}

int FUN_0002f530(int param_1, uint param_2)

{
    int iVar1;
    int *piVar2;
    int *piVar3;
    int iVar4;

    if ((param_2 >> 2) * 6 < 0xfffffffa) {
        iVar1 = 0;
        iVar4 = 6;
        piVar3 = (int *)(param_1 * 0x7500 + (param_2 >> 2) * 0x900 +
                         (param_2 & 3) * 0x60 + 0x139a08);
        do {
            piVar2 = piVar3;
            do {
                piVar2 = piVar2 + 1;
                iVar1 = iVar1 + *piVar2;
            } while (piVar2 != piVar3 + 0x18);
            iVar4 = iVar4 + -1;
            piVar3 = piVar3 + 0x60;
        } while (iVar4 != 0);
        return iVar1;
    }
    return 0;
}

void FUN_0002f5ac(void)

{
    int iVar1;
    int *piVar2;
    uint uVar3;
    int iVar4;
    int iVar5;
    int iVar6;
    int iVar7;
    int *piVar8;
    uint uVar9;
    undefined4 local_828;
    char acStack_824[24];
    undefined2 uStack_80c;
    undefined1 local_80a;

    if (4 < DAT_0009e31c) {
        local_828._0_1_ = '\n';
        local_828._1_1_ = ' ';
        local_828._2_1_ = 'd';
        local_828._3_1_ = 'u';
        builtin_strncpy(acStack_824, "mp domain nonce number..", 0x18);
        uStack_80c = 0xa2e;
        local_80a = 0;
        FUN_00047ab4(4, &local_828, 0);
    }
    iVar5 = 0;
    iVar7 = 0;
    do {
        if (*(int *)(DAT_000a0d68 + iVar7 * 4 + 4) != 0) {
            if (4 < DAT_0009e31c) {
                snprintf((char *)&local_828, 0x800, "Chain[%d]:\n", iVar7);
                FUN_00047ab4(4, &local_828, 0);
            }
            uVar3 = 0;
            iVar4 = 0;
            uVar9 = DAT_0009e31c;
            do {
                if ((uVar3 >> 2) * 6 < 0xfffffffa) {
                    iVar6 = 6;
                    iVar1 = 0;
                    piVar8 = (int *)(iVar5 + (uVar3 & 3) * 0x60 +
                                     (uVar3 >> 2) * 0x900 + 0x139a08);
                    do {
                        piVar2 = piVar8;
                        do {
                            piVar2 = piVar2 + 1;
                            iVar1 = iVar1 + *piVar2;
                        } while (piVar8 + 0x18 != piVar2);
                        iVar6 = iVar6 + -1;
                        piVar8 = piVar8 + 0x60;
                    } while (iVar6 != 0);
                    iVar4 = iVar4 + iVar1;
                } else {
                    iVar1 = 0;
                }
                iVar6 = iVar4;
                if (uVar9 < 5) {
                    if ((uVar3 + 1 & 3) == 0) {
                        iVar6 = 0;
                    }
                } else {
                    snprintf((char *)&local_828, 0x800, "D[%02d]:%-10d ", uVar3,
                             iVar1);
                    FUN_00047ab4(4, &local_828, 0);
                    uVar9 = DAT_0009e31c;
                    if (((uVar3 + 1 & 3) == 0) &&
                        (iVar6 = 0, 4 < DAT_0009e31c)) {
                        snprintf((char *)&local_828, 0x800,
                                 "D_BIG[%02d]:%-10d\n", (int)uVar3 >> 2, iVar4);
                        FUN_00047ab4(4, &local_828, 0);
                        uVar9 = DAT_0009e31c;
                    }
                }
                uVar3 = uVar3 + 1;
                iVar4 = iVar6;
            } while (uVar3 != 0x34);
            if (4 < uVar9) {
                local_828._0_2_ = 10;
                FUN_00047ab4(4, &local_828, 0);
            }
        }
        iVar7 = iVar7 + 1;
        iVar5 = iVar5 + 0x7500;
    } while (iVar7 != 0x10);
    return;
}

undefined4 FUN_0002f7dc(void)

{
    return DAT_0009c554;
}

void FUN_0002f7ec(int param_1, int param_2)

{
    uint uVar1;
    int iVar2;
    undefined2 local_828[1026];

    if (3 < DAT_0009e31c) {
        snprintf((char *)local_828, 0x800,
                 "\n asic nonce number for chain[%d] asic[%d]...\n", param_1,
                 param_2);
        FUN_00047ab4(3, local_828, 0);
    }
    iVar2 = 0;
    uVar1 = DAT_0009e31c;
    do {
        if (3 < uVar1) {
            snprintf(
                (char *)local_828, 0x800, "core[%03d]=%-8d", iVar2,
                (&DAT_00139a0c)[iVar2 + param_2 * 0x60 + param_1 * 0x1d40]);
            FUN_00047ab4(3, local_828, 0);
            uVar1 = DAT_0009e31c;
            if (((iVar2 + 1U) % 10 == 0) && (3 < DAT_0009e31c)) {
                local_828[0] = 10;
                FUN_00047ab4(3, local_828);
                uVar1 = DAT_0009e31c;
            }
        }
        iVar2 = iVar2 + 1;
    } while (iVar2 != 0x60);
    if (3 < uVar1) {
        local_828[0] = 10;
        FUN_00047ab4(3, local_828, 0);
    }
    return;
}

void FUN_0002f930(void)

{
    int iVar1;
    int iVar2;
    int iVar3;

    iVar3 = 0;
    do {
        if (*(int *)(DAT_000a0d68 + iVar3 * 4 + 4) == 1) {
            iVar1 = 0;
            do {
                iVar2 = iVar1 + 1;
                FUN_0002f7ec(iVar3, iVar1);
                iVar1 = iVar2;
            } while (iVar2 != 0x4e);
        }
        iVar3 = iVar3 + 1;
    } while (iVar3 != 0x10);
    return;
}

void FUN_0002f984(void)

{
    undefined4 uVar1;
    FILE *pFVar2;
    int iVar3;
    uint uVar4;
    int iVar5;
    uint uVar6;
    uint local_838;
    undefined4 local_834;
    char local_830;
    char local_82f;
    char local_810[16];
    uint local_800;
    char acStack_7fc[4];
    uint local_7f8;
    undefined4 local_7f4[505];

    local_838 = 0;
    local_834 = 0;
    pFVar2 = fopen64("/tmp/testID", "rb");
    if (pFVar2 != (FILE *)0x0) {
        memset(&local_830, 0, 0x20);
        fread(&local_830, 1, 0x20, pFVar2);
        fclose(pFVar2);
        if ((local_830 == '0') && (local_82f == 'x')) {
            __isoc99_sscanf(&local_830, &DAT_0007d0b8, &local_838, &local_834);
            if (3 < DAT_0009e31c) {
                snprintf(local_810, 0x800,
                         "receive test id :0x%x, data : 0x%x!\n", local_838,
                         local_834);
                FUN_00047ab4(3, local_810, 0);
            }
        } else {
            local_838 = strtol(&local_830, (char **)0x0, 10);
            if ((local_838 != 0) && (3 < DAT_0009e31c)) {
                snprintf(local_810, 0x800, "receive test id :%d!\n", local_838);
                FUN_00047ab4(3, local_810, 0);
            }
        }
    }
    pFVar2 = fopen64("/tmp/testID", "wb");
    if (pFVar2 != (FILE *)0x0) {
        memset(local_810, 0, 0x20);
        sprintf(local_810, "%d", 0);
        fwrite(local_810, 1, 0x20, pFVar2);
        fclose(pFVar2);
    }
    uVar1 = local_834;
    uVar6 = local_838;
    if (local_838 != 0) {
        if (local_838 == 0xb) {
            FUN_0002f930();
            return;
        }
        if (local_838 == 0xc) {
            if (3 < DAT_0009e31c) {
                snprintf(local_810, 0x800, "current voltage raw = %d\n",
                         DAT_0009c558);
                FUN_00047ab4(3, local_810, 0);
            }
            FUN_0001a0f0(DAT_0009c558);
            FUN_0001a3b8();
            DAT_0009c558 = DAT_0009c558 + -10;
            return;
        }
        if (local_838 == 0xd) {
            if (3 < DAT_0009e31c) {
                snprintf(local_810, 0x800, "current voltage raw = %d\n",
                         DAT_0009c55c);
                FUN_00047ab4(3, local_810, 0);
            }
            FUN_0001a0f0(DAT_0009c55c);
            FUN_0001a3b8();
            DAT_0009c55c = DAT_0009c55c + 10;
        } else if (local_838 == 0xe) {
            if (3 < DAT_0009e31c) {
                snprintf(local_810, 0x800, "current pwm = %d\n");
                FUN_00047ab4(3, local_810, 0);
            }
            FUN_00013ee8(DAT_0009c560 & 0xff);
            DAT_0009c560 = DAT_0009c560 - 3;
        } else if (local_838 == 0xf) {
            iVar3 = FUN_0001a1b0();
            if (3 < DAT_0009e31c) {
                snprintf(
                    local_810, 0x800,
                    "Increase voltage to get pm, current voltage raw = %d\n",
                    iVar3 + 0x14);
                FUN_00047ab4(3, local_810, 0);
            }
            iVar5 = 0;
            FUN_0001a0f0(iVar3 + 0x14);
            FUN_0001a3b8();
            do {
                if (*(int *)(DAT_000a0d68 + iVar5 * 4 + 4) == 1) {
                    memset(local_810, 0, 0x270);
                    FUN_0002df9c(iVar5, local_810);
                }
                iVar5 = iVar5 + 1;
            } while (iVar5 != 0x10);
        } else if (local_838 == 0x10) {
            iVar3 = FUN_0001a1b0();
            if (3 < DAT_0009e31c) {
                snprintf(
                    local_810, 0x800,
                    "Decrease voltage to get pm, current voltage raw = %d\n",
                    iVar3 + -0x14);
                FUN_00047ab4(3, local_810, 0);
            }
            iVar5 = 0;
            FUN_0001a0f0(iVar3 + -0x14);
            FUN_0001a3b8();
            do {
                if (*(int *)(DAT_000a0d68 + iVar5 * 4 + 4) == 1) {
                    memset(local_810, 0, 0x270);
                    FUN_0002df9c(iVar5, local_810);
                }
                iVar5 = iVar5 + 1;
            } while (iVar5 != 0x10);
        } else if (local_838 == 0x11) {
            if (1 < DAT_0009e31c) {
                builtin_strncpy(local_810, "try to set log l", 0x10);
                local_800._0_1_ = 'e';
                local_800._1_1_ = 'v';
                local_800._2_1_ = 'e';
                local_800._3_1_ = 'l';
                builtin_strncpy(acStack_7fc, "...\n", 4);
                local_7f8 = local_7f8 & 0xffffff00;
                FUN_00047ab4(1, local_810, 0);
            }
            pFVar2 = fopen64("/etc/config/log_level", "rb");
            if (pFVar2 != (FILE *)0x0) {
                memset(&local_830, 0, 0x20);
                fread(&local_830, 1, 0x20, pFVar2);
                fclose(pFVar2);
                strtol(&local_830, (char **)0x0, 10);
                if (1 < DAT_0009e31c) {
                    snprintf(local_810, 0x800, "log level set to %d\n");
                    FUN_00047ab4(1, local_810, 0);
                }
            }
        } else if (local_838 == 0x12) {
            DAT_000a06b8 = 0;
            iVar3 = FUN_000257e4();
            if (iVar3 != 0) {
                FUN_000226c0(4, "reopen core failed!");
            }
            FUN_00020b28();
        } else if (local_838 == 0x13) {
            uVar6 = 0;
            do {
                if (*(int *)(DAT_000a0d68 + uVar6 * 4 + 4) == 1) {
                    uVar4 = uVar6 & 0xff;
                    thunk_FUN_00075b64(uVar4);
                    FUN_0001aa30(uVar4, 0);
                    FUN_0001a9d4(uVar4);
                }
                uVar6 = uVar6 + 1;
            } while (uVar6 != 0x10);
        } else {
            uVar4 = local_838 & 0xff000000;
            if (uVar4 == 0xa0000000) {
                if (3 < DAT_0009e31c) {
                    builtin_strncpy(local_810, "dump asic reg!\n", 0x10);
                    FUN_00047ab4(3, local_810, 0);
                }
                FUN_0002e6d4((uVar6 << 8) >> 0x1c, (uVar6 << 0xc) >> 0x18);
            } else if (uVar4 == 0xb0000000) {
                if (3 < DAT_0009e31c) {
                    builtin_strncpy(local_810, "dump core reg!\n", 0x10);
                    FUN_00047ab4(3, local_810, 0);
                }
                FUN_0002db40((uVar6 << 8) >> 0x1c, (uVar6 << 0xc) >> 0x18,
                             uVar6 & 0xff);
            } else if (uVar4 == 0xb1000000) {
                if (3 < DAT_0009e31c) {
                    builtin_strncpy(local_810, "dump core proces", 0x10);
                    local_800._0_1_ = 's';
                    local_800._1_1_ = ' ';
                    local_800._2_1_ = 'm';
                    local_800._3_1_ = 'o';
                    builtin_strncpy(acStack_7fc, "nito", 4);
                    local_7f8._0_1_ = 'r';
                    local_7f8._1_1_ = ' ';
                    local_7f8._2_1_ = 'r';
                    local_7f8._3_1_ = 'e';
                    local_7f4[0]._0_1_ = 'g';
                    local_7f4[0]._1_1_ = '!';
                    local_7f4[0]._2_1_ = '\n';
                    local_7f4[0]._3_1_ = '\0';
                    FUN_00047ab4(3, local_810, 0);
                }
                FUN_0002e180((uVar6 << 8) >> 0x1c, (uVar6 << 0xc) >> 0x18,
                             uVar6 & 0xff);
            } else if (uVar4 == 0xb2000000) {
                if (3 < DAT_0009e31c) {
                    builtin_strncpy(local_810, "dump core clock ", 0x10);
                    local_800._0_1_ = 'c';
                    local_800._1_1_ = 'o';
                    local_800._2_1_ = 'u';
                    local_800._3_1_ = 'n';
                    builtin_strncpy(acStack_7fc, "ter ", 4);
                    local_7f8._0_1_ = 'r';
                    local_7f8._1_1_ = 'e';
                    local_7f8._2_1_ = 'g';
                    local_7f8._3_1_ = '!';
                    local_7f4[0]._0_2_ = 10;
                    FUN_00047ab4(3, local_810, 0);
                }
                FUN_0002e4f8((uVar6 << 8) >> 0x1c, (uVar6 << 0xc) >> 0x18,
                             uVar6 & 0xff);
            } else if (uVar4 == 0xc0000000) {
                if (3 < DAT_0009e31c) {
                    builtin_strncpy(local_810, "write asic reg!\n", 0x10);
                    local_800 = local_800 & 0xffffff00;
                    FUN_00047ab4(3, local_810, 0);
                }
                FUN_0002e81c((uVar6 << 8) >> 0x1c, (uVar6 << 0xc) >> 0x18,
                             uVar6 & 0xff, uVar1);
            }
        }
    }
    return;
}

int FUN_0003014c(int param_1, int *param_2, int param_3, int param_4)

{
    int iVar1;
    int iVar2;
    int *piVar3;

    if (*param_2 < param_1) {
        iVar1 = param_3 + -1;
        if (param_1 < param_2[param_3 + 0x3fffffff]) {
            if ((iVar1 < 1) || (param_1 <= param_2[1])) {
                iVar2 = 0;
            } else {
                piVar3 = param_2 + 1;
                iVar2 = 0;
                do {
                    iVar2 = iVar2 + 1;
                    if (iVar2 == iVar1)
                        break;
                    piVar3 = piVar3 + 1;
                } while (*piVar3 < param_1);
            }
            if ((param_4 != 0) ||
                (iVar1 = param_2[iVar2 + 1] + param_2[iVar2],
                 iVar1 == param_1 * 2 || iVar1 + param_1 * -2 < 0 !=
                                             SBORROW4(iVar1, param_1 * 2))) {
                iVar2 = iVar2 + 1;
            }
            return iVar2;
        }
    } else {
        iVar1 = 0;
    }
    return iVar1;
}

int FUN_000301ec(void)

{
    int *piVar1;
    int *piVar2;
    int *piVar3;
    int iVar4;
    int iVar5;
    int iStack_95c;
    int local_958[78];
    char acStack_820[2052];

    if (DAT_001aea10 == 0) {
        if (DAT_0009c294 == 2) {
            iVar4 = 0;
            piVar1 = &DAT_00242db4;
            piVar3 = DAT_000a0d68;
            do {
                piVar3 = piVar3 + 1;
                piVar2 = piVar1 + 1;
                if (*piVar3 == 1) {
                    iVar4 = *piVar1 * 0x74b2 + iVar4;
                }
                piVar1 = piVar2;
            } while (piVar2 != (int *)&DAT_00242df4);
        } else {
            iVar4 = 0;
            iVar5 = 0;
            while (true) {
                if (DAT_000a0d68[iVar5 + 1] == 1) {
                    FUN_00018d10(iVar5, (undefined1)DAT_0009ee38, local_958);
                    piVar1 = &iStack_95c;
                    do {
                        piVar1 = piVar1 + 1;
                        iVar4 = *piVar1 * 0x17f + iVar4;
                    } while (piVar1 != local_958 + 0x4d);
                }
                if (iVar5 == 0xf)
                    break;
                iVar5 = iVar5 + 1;
            }
        }
        DAT_001aea10 = iVar4 / 1000;
        if (3 < DAT_0009e31c) {
            snprintf(acStack_820, 0x800, "max_hash_rate = %d\n", DAT_001aea10);
            FUN_00047ab4(3, acStack_820, 0);
            return DAT_001aea10;
        }
    }
    return DAT_001aea10;
}

int FUN_00030348(void)

{
    int *piVar1;
    int *piVar2;
    int *piVar3;
    int iVar4;
    int iVar5;
    int local_81c;
    char acStack_818[2048];

    local_81c = 0;
    if (DAT_001aea14 == 0) {
        if (DAT_0009c294 == 2) {
            iVar5 = 0;
            piVar1 = &DAT_00242db4;
            piVar3 = DAT_000a0d68;
            do {
                piVar3 = piVar3 + 1;
                piVar2 = piVar1 + 1;
                if (*piVar3 == 1) {
                    iVar5 = *piVar1 * 0x74b2 + iVar5;
                }
                piVar1 = piVar2;
            } while (piVar2 != (int *)&DAT_00242df4);
            iVar5 = iVar5 / 1000;
        } else {
            iVar4 = 0;
            iVar5 = DAT_001aea14;
            do {
                if (DAT_000a0d68[iVar4 + 1] == 1) {
                    FUN_00018ee4(iVar4, (undefined1)DAT_0009ee38, &local_81c);
                    iVar5 = iVar5 + local_81c;
                }
                iVar4 = iVar4 + 1;
            } while (iVar4 != 0x10);
        }
        DAT_001aea14 = iVar5;
        if (3 < DAT_0009e31c) {
            snprintf(acStack_818, 0x800, "ideal_hash_rate = %d\n", iVar5);
            FUN_00047ab4(3, acStack_818, 0);
            return DAT_001aea14;
        }
    }
    return DAT_001aea14;
}

int FUN_0003047c(void)

{
    int iVar1;
    char acStack_808[2048];

    if (DAT_001aea18 == 0) {
        iVar1 = FUN_00030348();
        if (*(int *)(DAT_001aea1c + 4) <= iVar1) {
            DAT_001aea18 = (**(code **)(DAT_001aea1c + 8))();
        }
        if (3 < DAT_0009e31c) {
            snprintf(acStack_808, 0x800, "sale_hash_rate = %d\n", DAT_001aea18);
            FUN_00047ab4(3, acStack_808, 0);
            return DAT_001aea18;
        }
    }
    return DAT_001aea18;
}

void FUN_0003050c(undefined4 param_1, undefined4 param_2)

{
    FUN_0003014c(param_1, DAT_001aea20 + 1, *DAT_001aea20, param_2);
    return;
}

void FUN_00030524(undefined4 param_1, undefined4 param_2)

{
    FUN_0003014c(param_1, DAT_001aea20 + 0x48,
                 *(undefined4 *)(DAT_001aea20 + 0x44), param_2);
    return;
}

undefined4 FUN_00030540(int param_1, int param_2)

{
    return *(undefined4 *)(DAT_001aea20 + (param_2 + param_1 * 8 + 0x9a) * 4);
}

undefined4 FUN_0003055c(int param_1, int param_2)

{
    return *(undefined4 *)(DAT_001aea20 + (param_2 + param_1 * 8 + 0x1a) * 4);
}

undefined4 FUN_00030578(void)

{
    return 0;
}

undefined4 FUN_00030580(int param_1)

{
    undefined4 *puVar1;

    if (DAT_0009c294 == 2) {
        puVar1 = &DAT_00242db4;
    } else {
        puVar1 = &DAT_00242d74;
    }
    return puVar1[param_1];
}

undefined4 FUN_000305a8(void)

{
    int iVar1;
    int iVar2;
    uint *puVar3;
    uint local_824;
    char acStack_820[2048];

    iVar1 = FUN_00036b40(&local_824);
    if (iVar1 != 0) {
        FUN_00031794(3, 0xff);
        FUN_000226c0(0xb, "Get max freq failed!");
        return 0xffffffff;
    }
    iVar1 = 0;
    do {
        if (*(int *)(DAT_000a0d68 + iVar1 * 4 + 4) == 1) {
            memset(&DAT_001371c8 + iVar1 * 0x4e, 0, 0x138);
            iVar2 = FUN_00018d10(iVar1, (undefined1)DAT_0009ee38,
                                 &DAT_001371c8 + iVar1 * 0x4e);
            if (iVar2 != 0) {
            LAB_00030634:
                FUN_00031794(3, 0xff);
                FUN_000226c0(0xb, "Get frequency failed!");
                return 0xffffffff;
            }
            puVar3 = (uint *)(iVar1 * 0x138 + 0x1371c4);
            do {
                puVar3 = puVar3 + 1;
                if (local_824 < *puVar3) {
                    if (3 < DAT_0009e31c) {
                        snprintf(acStack_820, 0x800,
                                 "Freq(%d) > Max_freq(%d), invalid!\n", *puVar3,
                                 local_824);
                        FUN_00047ab4(3, acStack_820, 0);
                    }
                    goto LAB_00030634;
                }
            } while (puVar3 != (uint *)(iVar1 * 0x138 + 0x1372fc));
        }
        iVar1 = iVar1 + 1;
        if (iVar1 == 0x10) {
            return 0;
        }
    } while (true);
}

void FUN_000306f0(undefined4 param_1, int param_2)

{
    undefined4 *puVar1;
    int iVar2;
    int iVar3;
    undefined4 uVar4;
    int iVar5;
    char acStack_808[2032];

    iVar2 = FUN_0001a1c0();
    if (param_2 == 0) {
        iVar3 = FUN_0001a1b0();
        if (iVar3 == iVar2) {
            return;
        }
    } else {
        iVar3 = FUN_0003014c(param_1, DAT_001aea20 + 1, *DAT_001aea20, 1);
        uVar4 = FUN_00016940();
        puVar1 = DAT_001aea20;
        iVar5 = FUN_0003014c(uVar4, DAT_001aea20 + 0x12, DAT_001aea20[0x11], 1);
        iVar3 = puVar1[iVar5 + iVar3 * 8 + 0x1a];
        if (iVar3 == iVar2) {
            return;
        }
    }
    if (3 < DAT_0009e31c) {
        snprintf(acStack_808, 0x800, "Set to voltage raw %d, step by step.\n",
                 iVar3);
        FUN_00047ab4(3, acStack_808, 0);
    }
    FUN_00019d18(iVar3, &DAT_000a0614);
    return;
}

void FUN_00030770(undefined4 param_1, undefined4 param_2, uint param_3,
                  int param_4)

{
    byte *pbVar1;
    byte *pbVar2;
    byte *pbVar3;
    byte bVar4;
    uint uVar5;
    uint uVar6;
    size_t sVar7;
    uint uVar8;
    uint uVar9;
    char *pcVar10;
    byte *pbVar11;
    uint uVar12;
    size_t sVar13;
    int iVar14;
    uint uVar15;
    uint uVar16;
    size_t local_9e0;
    uint local_9dc;
    byte local_9bc[4];
    uint local_9b8;
    undefined4 local_9b4;
    byte local_9b0[4];
    undefined4 local_9ac[97];
    undefined4 local_828;
    char acStack_824[2048];

    if (3 < DAT_0009e31c) {
        pcVar10 = "false";
        if (param_4 != 0) {
            pcVar10 = "true";
        }
        snprintf((char *)&local_828, 0x800,
                 "chain = %d, freq = %d, is_higher_voltage = %s\n", param_1,
                 param_3, pcVar10);
        FUN_00047ab4(3, &local_828, 0);
    }
    local_9b8 = 0;
    local_9b4 = 0;
    memset(local_9b0, 0, 0x188);
    FUN_00074e08((float)param_3, &local_9b8, local_9bc, 0);
    local_9dc = local_9b8 & 0xff;
    uVar16 = (uint)local_9bc[0];
    uVar8 = local_9b8 >> 8;
    local_9b4._0_3_ = CONCAT12(local_9bc[0], (undefined2)local_9b4);
    uVar9 = DAT_0009e31c;
    if (local_9dc < 8) {
        local_9e0 = 0;
        uVar6 = uVar8;
        uVar15 = local_9dc;
        do {
            while (uVar5 = uVar6 & 0xff, uVar5 <= uVar15) {
                if (uVar16 < 2) {
                    pbVar11 = local_9b0 + local_9e0 * 8;
                    iVar14 = uVar5 * local_9dc * uVar16;
                    uVar12 = uVar16;
                    do {
                        *pbVar11 = (byte)uVar15;
                        pbVar11[1] = (byte)uVar6;
                        pbVar11[2] = (byte)uVar12;
                        *(int *)(pbVar11 + 4) = iVar14;
                        if (4 < uVar9) {
                            snprintf((char *)&local_828, 0x800,
                                     "post_div1 = %d, post_div2 = %d, user_div "
                                     "= %d, div_ret = %d\n",
                                     local_9dc, uVar5, uVar12, iVar14);
                            FUN_00047ab4(4, &local_828, 0);
                            uVar9 = DAT_0009e31c;
                        }
                        uVar12 = uVar12 + 1;
                        pbVar11 = pbVar11 + 8;
                        iVar14 = iVar14 + uVar5 * local_9dc;
                    } while ((uVar12 & 0xff) < 2);
                    local_9e0 = local_9e0 + (1 - uVar16 & 0xff) + 1;
                }
                uVar6 = uVar5 + 1;
            }
            local_9dc = local_9dc + 1;
            uVar15 = local_9dc & 0xff;
            uVar6 = uVar8;
        } while (uVar15 < 8);
    } else {
        local_9e0 = 0;
    }
    if (4 < uVar9) {
        local_828._0_2_ = 10;
        FUN_00047ab4(4, &local_828, 0);
        if (4 < DAT_0009e31c) {
            local_828._0_1_ = 's';
            local_828._1_1_ = 'o';
            local_828._2_1_ = 'r';
            local_828._3_1_ = 't';
            builtin_strncpy(acStack_824, "ed\n", 4);
            FUN_00047ab4(4, &local_828, 0);
        }
    }
    qsort(local_9b0, local_9e0, 8, (__compar_fn_t)&LAB_0003012c);
    if (local_9e0 != 0) {
        sVar7 = 0;
        pbVar11 = local_9b0;
        do {
            while (sVar13 = sVar7, 4 < DAT_0009e31c) {
                pbVar1 = pbVar11 + 4;
                pbVar2 = pbVar11 + 2;
                pbVar3 = pbVar11 + 1;
                bVar4 = *pbVar11;
                pbVar11 = pbVar11 + 8;
                snprintf((char *)&local_828, 0x800,
                         "[%d] post_div1 = %d, post_div2 = %d, user_div = %d, "
                         "div_ret = %d\n",
                         sVar13, (uint)bVar4, (uint)*pbVar3, (uint)*pbVar2,
                         *(undefined4 *)pbVar1);
                FUN_00047ab4(4, &local_828, 0);
                sVar7 = sVar13 + 1;
                if (sVar13 + 1 == local_9e0)
                    goto LAB_000309c8;
            }
            pbVar11 = pbVar11 + 8;
            sVar7 = sVar13 + 1;
        } while (sVar13 + 1 != local_9e0);
    LAB_000309c8:
        iVar14 = 0;
        pbVar11 = local_9b0;
        do {
            local_9b4._0_3_ = CONCAT12(pbVar11[2], (undefined2)local_9b4);
            local_9b8 = CONCAT22(local_9b8._2_2_, *(undefined2 *)pbVar11);
            uVar8 = FUN_0001b194(local_9b8, local_9b4);
            if (4 < DAT_0009e31c) {
                snprintf((char *)&local_828, 0x800,
                         "[%d] _POSTDIV1 = %d, _POSTDIV2 = %d, USER_DIV = %d, "
                         "freq = %d\n",
                         iVar14, local_9b8 & 0xff, local_9b8 >> 8 & 0xff,
                         local_9b4 >> 0x10 & 0xff, uVar8);
                FUN_00047ab4(4, &local_828, 0);
            }
            iVar14 = iVar14 + 1;
            if (DAT_0009c2a8 < uVar8) {
                FUN_000306f0(uVar8, param_4);
                FUN_0001b1f4(param_1, 1, 0, param_2, local_9b8, local_9b4);
                usleep(1000000);
            }
            pbVar11 = pbVar11 + 8;
        } while (iVar14 != sVar13 + 1);
    }
    return;
}

void FUN_00030b64(undefined4 param_1, undefined4 param_2, int param_3,
                  uint param_4, int param_5, char param_6)

{
    uint uVar1;
    char *pcVar2;
    uint uVar3;
    uint uVar4;
    uint uVar5;
    undefined1 local_82c[4];
    undefined4 local_828;
    undefined4 local_824;

    if (3 < DAT_0009e31c) {
        pcVar2 = "true";
        if (param_6 == '\0') {
            pcVar2 = "false";
        }
        snprintf((char *)&local_828, 0x800,
                 "chain = %d, freq_start = %d, freq_end = %d, freq_step = %d, "
                 "is_higher_voltage = %s\n",
                 param_1, param_3, param_4, param_5, pcVar2);
        FUN_00047ab4(3, &local_828, 0);
    }
    local_828 = 0;
    local_824 = 0;
    uVar1 = FUN_00077070((param_5 + -1 + param_4) - param_3, param_5);
    if (uVar1 != 0) {
        uVar3 = param_3 + param_5;
        uVar4 = 1;
        do {
            uVar5 = uVar3;
            if (param_4 < uVar3) {
                uVar5 = param_4;
            }
            uVar4 = uVar4 + 1;
            FUN_000306f0(uVar5, param_6);
            uVar3 = uVar3 + param_5;
            FUN_00074e08((float)uVar5, &local_828, local_82c, 0);
            local_824._0_3_ = CONCAT12(local_82c[0], (undefined2)local_824);
            FUN_0001b1f4(param_1, 1, 0, param_2, local_828, local_824);
            usleep(500000);
        } while (uVar4 <= uVar1);
    }
    return;
}

uint FUN_00030cac(int param_1, undefined4 param_2, uint param_3,
                  undefined4 param_4)

{
    ushort *puVar1;
    uint uVar2;
    int *piVar3;
    uint *puVar4;
    uint uVar5;
    uint uVar6;
    int *piVar7;
    int iVar8;
    int *piVar9;
    int iVar10;
    uint uVar11;
    size_t __nmemb;
    size_t sVar12;
    int iVar13;
    uint uVar14;
    uint *puVar15;
    int iVar16;
    uint *local_1cb4;
    int *local_1ca4;
    int local_1c98;
    uint *local_1c94;
    undefined1 local_1c7c[4];
    undefined4 local_1c78;
    undefined4 local_1c74;
    undefined4 local_1c70;
    undefined4 local_1c6c;
    uint local_1c68[16];
    uint local_1c28[16];
    uint local_1be8[16];
    int local_1ba8[12];
    int aiStack_1b78[499];
    uint uStack_13ac;
    int local_13a8[1249];

    memset(local_13a8, 0, 0x1380);
    memset(local_1c68, 0xff, 0x40);
    memset(local_1c28, 0, 0x40);
    memset(local_1be8, 0, 0x40);
    iVar13 = DAT_0009c294;
    puVar1 = (ushort *)((int)DAT_000a0d68 + 0x32b3);
    piVar7 = DAT_000a0d68 + 0x10;
    iVar10 = -4;
    uVar14 = 0;
    local_1c74 = 0;
    local_1c78 = 0;
    iVar8 = 0;
    __nmemb = 0;
    piVar9 = DAT_000a0d68;
    do {
        while (piVar9 = piVar9 + 1, *piVar9 == 1) {
            uVar11 = 0;
            uVar2 = 0;
            uVar5 = 0xffffff;
            puVar15 = (uint *)(iVar10 + param_1);
            puVar4 = puVar15;
            do {
                puVar4 = puVar4 + 1;
                uVar6 = *puVar4;
                uVar11 = uVar11 + uVar6;
                if (uVar2 < uVar6) {
                    uVar2 = uVar6;
                }
                if (uVar6 <= uVar5) {
                    uVar5 = uVar6;
                }
            } while (puVar4 != (uint *)(param_1 + 0x138 + iVar10));
            local_1c68[iVar8] = uVar5;
            if (uVar14 < uVar2) {
                uVar14 = uVar2;
            }
            local_1c28[iVar8] = uVar2;
            piVar3 = (int *)((int)local_13a8 + iVar10);
            sVar12 = __nmemb + 1;
            local_1be8[__nmemb] = uVar5;
            do {
                puVar15 = puVar15 + 1;
                piVar3 = piVar3 + 1;
                *piVar3 = *puVar15 - uVar5;
            } while (puVar15 != puVar4);
            iVar10 = iVar10 + 0x138;
            if (iVar13 == 2) {
                (&DAT_00242db4)[iVar8] = (uint)*puVar1;
            }
            (&DAT_00242d74)[iVar8] = uVar11 / 0x4e;
            iVar8 = iVar8 + 1;
            __nmemb = sVar12;
            if (piVar9 == piVar7)
                goto LAB_00030e84;
        }
        iVar8 = iVar8 + 1;
        iVar10 = iVar10 + 0x138;
    } while (piVar9 != piVar7);
LAB_00030e84:
    qsort(local_1be8, __nmemb, 4, (__compar_fn_t)&LAB_0003013c);
    FUN_00030770(0xff, param_2, local_1be8[0], param_4);
    if (local_1be8[0] != uVar14) {
        if (1 < __nmemb) {
            puVar4 = local_1be8;
            sVar12 = 1;
            do {
                iVar13 = 0;
                do {
                    while ((DAT_000a0d68[iVar13 + 1] == 1 &&
                            (puVar4[1] <= local_1c68[iVar13]))) {
                        iVar8 = iVar13 + 1;
                        FUN_00030b64(iVar13, param_2, *puVar4, puVar4[1],
                                     param_3, param_4);
                        iVar13 = iVar8;
                        if (iVar8 == 0x10)
                            goto LAB_00030f44;
                    }
                    iVar13 = iVar13 + 1;
                } while (iVar13 != 0x10);
            LAB_00030f44:
                sVar12 = sVar12 + 1;
                puVar4 = puVar4 + 1;
            } while (__nmemb != sVar12);
        }
        local_1cb4 = &uStack_13ac;
        iVar13 = 0;
        FUN_000306f0(uVar14, param_4);
        do {
            local_1c94 = local_1cb4;
            if ((DAT_000a0d68[iVar13 + 1] == 1) &&
                (uVar2 = local_1c68[iVar13], uVar2 != local_1c28[iVar13])) {
                if (3 < DAT_0009e31c) {
                    snprintf((char *)local_1ba8, 0x800,
                             "chain = %d, start = %d, freq_step = %d\n", iVar13,
                             uVar2, param_3);
                    FUN_00047ab4(3, local_1ba8, 0);
                }
                local_1c70 = 0;
                local_1c6c = 0;
                iVar10 = 0;
                memset(local_1ba8, 0, 0x270);
                iVar8 = 0;
                puVar4 = local_1cb4 + 1;
                piVar9 = local_1ba8;
                do {
                    iVar16 = iVar8 + 6;
                    puVar15 = puVar4;
                    piVar7 = piVar9;
                    do {
                        piVar7[1] = *puVar15;
                        *(int *)((int)piVar9 + iVar8 * 8 + iVar10) = iVar8;
                        iVar8 = iVar8 + 1;
                        puVar15 = puVar15 + 1;
                        piVar7 = piVar7 + 2;
                    } while (iVar8 != iVar16);
                    iVar10 = iVar10 + -0x30;
                    puVar4 = puVar4 + 6;
                    qsort(piVar9, 6, 8, (__compar_fn_t)&LAB_0003011c);
                    piVar9 = piVar9 + 0xc;
                } while (iVar10 != -0x270);
                uVar5 = 0;
                puVar4 = local_1cb4 + 0x4e;
                do {
                    local_1cb4 = local_1cb4 + 1;
                    if (uVar5 < *local_1cb4) {
                        uVar5 = *local_1cb4;
                    }
                } while (puVar4 != local_1cb4);
                iVar8 = FUN_00077070((param_3 - 1) + uVar5, param_3);
                if (iVar8 != 0) {
                    local_1c98 = 0;
                    uVar5 = uVar2;
                    do {
                        uVar5 = uVar5 + param_3;
                        local_1c98 = local_1c98 + 1;
                        uVar11 = uVar5 - uVar2;
                        local_1ca4 = local_1ba8;
                        do {
                            piVar9 = local_1ca4;
                            do {
                                uVar6 = piVar9[1];
                                iVar10 = *piVar9;
                                if ((uVar11 <= uVar6) ||
                                    (uVar11 - uVar6 < param_3)) {
                                    local_1cb4 = (uint *)uVar5;
                                    if (uVar6 <= uVar11) {
                                        local_1cb4 = (uint *)(uVar2 + uVar6);
                                    }
                                    FUN_00074e08((float)local_1cb4, &local_1c70,
                                                 local_1c7c, 0);
                                    local_1c6c._0_3_ = CONCAT12(
                                        local_1c7c[0], (undefined2)local_1c6c);
                                    FUN_0001b1f4(iVar13, 0, iVar10 * 3 & 0xff,
                                                 param_2, local_1c70,
                                                 local_1c6c);
                                }
                                piVar9 = piVar9 + 0xc;
                            } while (local_1ca4 + 0x9c != piVar9);
                            local_1ca4 = local_1ca4 + 2;
                            usleep(100000);
                        } while (local_1ca4 != aiStack_1b78);
                    } while (iVar8 != local_1c98);
                }
            }
            local_1c94 = local_1c94 + 0x4e;
            iVar13 = iVar13 + 1;
            local_1cb4 = local_1c94;
        } while (iVar13 != 0x10);
    }
    return uVar14;
}

uint FUN_000312d8(void)

{
    uint uVar1;
    uint uVar2;
    uint *puVar3;
    uint *puVar4;
    int *piVar5;

    if (DAT_0009c294 == 2) {
        uVar1 = (uint) * (ushort *)((int)DAT_000a0d68 + 0x32b3);
        if (uVar1 < 0x32) {
            uVar1 = 0x32;
        }
        return uVar1;
    }
    uVar1 = 0x32;
    puVar3 = (uint *)0x1371c4;
    piVar5 = DAT_000a0d68;
    do {
        piVar5 = piVar5 + 1;
        puVar4 = puVar3 + 0x4e;
        if (*piVar5 == 1) {
            uVar2 = 0;
            do {
                puVar3 = puVar3 + 1;
                if (uVar2 < *puVar3) {
                    uVar2 = *puVar3;
                }
            } while (puVar3 != puVar4);
            if (uVar1 < uVar2) {
                uVar1 = uVar2;
            }
        }
        puVar3 = puVar4;
    } while (puVar4 != (uint *)0x138544);
    return uVar1;
}

void FUN_00031368(undefined1 *param_1)

{
    undefined4 *puVar1;
    undefined4 uVar2;
    int iVar3;
    int iVar4;
    int iVar5;
    int iVar6;

    uVar2 = FUN_000312d8();
    puVar1 = DAT_001aea20;
    iVar3 = FUN_0003014c(uVar2, DAT_001aea20 + 1, *DAT_001aea20, 0);
    iVar4 = FUN_0003014c(DAT_00241d20, puVar1 + 0x12, puVar1[0x11], 1);
    *param_1 = 0;
    if (0x14 < DAT_00241d20) {
        return;
    }
    iVar5 = FUN_0001a1b0();
    iVar6 = iVar5 + 100;
    if ((int)DAT_001aea20[iVar4 + iVar3 * 8 + 0x1a] <= iVar5 + 100) {
        iVar6 = DAT_001aea20[iVar4 + iVar3 * 8 + 0x1a];
    }
    FUN_0001a150(iVar6);
    *param_1 = 1;
    return;
}

void FUN_000313f8(undefined4 param_1)

{
    DAT_001aea20 = param_1;
    return;
}

void FUN_0003142c(undefined4 param_1)

{
    DAT_001aea1c = param_1;
    return;
}

undefined4 *FUN_0003143c(undefined4 *param_1)

{
    undefined4 uVar1;
    undefined4 uVar2;

    uVar1 = DAT_001aea1c[1];
    uVar2 = DAT_001aea1c[2];
    *param_1 = *DAT_001aea1c;
    param_1[1] = uVar1;
    param_1[2] = uVar2;
    return param_1;
}

undefined4 FUN_00031478(undefined4 param_1)

{
    char acStack_808[2052];

    snprintf(acStack_808, 0x800, "input value error: %c\n", param_1);
    FUN_00047ab4(1, acStack_808, 0);
    return 0xff;
}

uint FUN_00031658(int param_1, uint param_2)

{
    uint *puVar1;
    uint *puVar2;
    uint uVar3;
    uint uStack_13c;
    uint local_138[3];
    undefined1 auStack_12c[16];
    uint local_11c;
    uint local_118[8];
    undefined4 local_f8;
    undefined4 local_f4;
    undefined4 local_f0;
    undefined4 uStack_ec;
    undefined4 uStack_e8;
    undefined4 uStack_e4;
    undefined4 local_e0;
    undefined4 uStack_dc;
    undefined4 uStack_d8;
    undefined4 uStack_d4;
    undefined1 auStack_d0[12];
    undefined1 auStack_c4[180];

    memset(local_138, 0, 0x20);
    memset(local_118, 0, 0x20);
    if (param_1 == 0) {
        local_11c = 0;
    } else {
        local_f0 = *(undefined4 *)(param_1 + 0x14);
        uStack_ec = *(undefined4 *)(param_1 + 0x18);
        uStack_e8 = *(undefined4 *)(param_1 + 0x1c);
        uStack_e4 = *(undefined4 *)(param_1 + 0x20);
        local_e0 = *(undefined4 *)(param_1 + 0x24);
        uStack_dc = *(undefined4 *)(param_1 + 0x28);
        uStack_d8 = *(undefined4 *)(param_1 + 0x2c);
        uStack_d4 = *(undefined4 *)(param_1 + 0x30);
        FUN_00050b5c(&local_f0, 0x20);
        local_138[0] = *(uint *)(param_1 + 8);
        local_f8 = 0x50;
        local_f4 = 0;
        local_138[1] = *(undefined4 *)(param_1 + 0xc);
        local_138[2] = *(undefined4 *)(param_1 + 0x10);
        FUN_00050b5c(local_138, 0xc, local_138[2], auStack_12c);
        FUN_0005162c(auStack_d0, local_138, 0xc);
        local_138[0] = param_2 << 0x18 | (param_2 >> 8 & 0xff) << 0x10 |
                       (param_2 >> 0x10 & 0xff) << 8 | param_2 >> 0x18;
        FUN_00050b5c(local_138, 4);
        FUN_0005162c(auStack_c4, local_138, 4);
        FUN_0001e58c(&local_f8, local_138);
        memset(&local_f8, 0, 0xe8);
        FUN_0001e740(local_138, 0x20, local_118);
        puVar2 = &local_11c;
        puVar1 = &uStack_13c;
        do {
            puVar2 = puVar2 + 1;
            uVar3 = *puVar2;
            puVar1 = puVar1 + 1;
            *puVar1 = uVar3 << 0x18 | (uVar3 >> 8 & 0xff) << 0x10 |
                      (uVar3 >> 0x10 & 0xff) << 8 | uVar3 >> 0x18;
        } while (puVar2 != local_118 + 7);
        if (local_11c != 0) {
            local_11c = 1;
        }
    }
    return local_11c;
}

void FUN_00031794(undefined4 param_1, undefined4 param_2)

{
    char acStack_808[2052];

    switch (param_1) {
    case 0:
        snprintf((char *)&DAT_001aea24, 0x40, "J%d:1", param_2);
        break;
    case 1:
        snprintf((char *)&DAT_001aea24, 0x40, "J%d:2", param_2);
        break;
    case 2:
        snprintf((char *)&DAT_001aea24, 0x40, "J%d:8", param_2);
        break;
    case 3:
        snprintf((char *)&DAT_001aea24, 0x40, "J%d:4", param_2);
        break;
    case 4:
        snprintf((char *)&DAT_001aea24, 0x40, "J%d:5", param_2);
        break;
    case 5:
        DAT_001aea24._0_1_ = 'R';
        DAT_001aea24._1_1_ = ':';
        DAT_001aea24._2_1_ = '1';
        DAT_001aea24._3_1_ = '\0';
        break;
    case 6:
        DAT_001aea24._0_1_ = 'R';
        DAT_001aea24._1_1_ = ':';
        DAT_001aea24._2_1_ = '2';
        DAT_001aea24._3_1_ = '\0';
        break;
    case 7:
        snprintf((char *)&DAT_001aea24, 0x40, "T:%d", param_2);
        break;
    case 8:
        DAT_001aea24._0_1_ = 'P';
        DAT_001aea24._1_1_ = ':';
        DAT_001aea24._2_1_ = '1';
        DAT_001aea24._3_1_ = '\0';
        break;
    case 9:
        DAT_001aea24._0_1_ = 'P';
        DAT_001aea24._1_1_ = ':';
        DAT_001aea24._2_1_ = '2';
        DAT_001aea24._3_1_ = '\0';
        break;
    case 10:
        DAT_001aea24._0_1_ = 'F';
        DAT_001aea24._1_1_ = ':';
        DAT_001aea24._2_1_ = '1';
        DAT_001aea24._3_1_ = '\0';
        break;
    case 0xb:
        snprintf((char *)&DAT_001aea24, 0x40, "J%d:6", param_2);
        break;
    case 0xc:
        DAT_001aea24._0_1_ = 'V';
        DAT_001aea24._1_1_ = ':';
        DAT_001aea24._2_1_ = '1';
        DAT_001aea24._3_1_ = '\0';
        break;
    case 0xd:
        DAT_001aea24._0_1_ = 'M';
        DAT_001aea24._1_1_ = ':';
        DAT_001aea24._2_1_ = '1';
        DAT_001aea24._3_1_ = '\0';
        break;
    case 0xe:
        DAT_001aea24._0_1_ = 'N';
        DAT_001aea24._1_1_ = ':';
        DAT_001aea24._2_1_ = '1';
        DAT_001aea24._3_1_ = '\0';
        break;
    case 0xf:
        DAT_001aea24._0_1_ = 'P';
        DAT_001aea24._1_1_ = ':';
        DAT_001aea24._2_1_ = '4';
        DAT_001aea24._3_1_ = '\0';
        break;
    default:
        DAT_001aea24._0_1_ = 'u';
        DAT_001aea24._1_1_ = 'n';
        DAT_001aea24._2_1_ = 'k';
        DAT_001aea24._3_1_ = 'n';
        DAT_001aea28._0_1_ = 'o';
        DAT_001aea28._1_1_ = 'w';
        DAT_001aea28._2_1_ = 'n';
        DAT_001aea28._3_1_ = '\0';
        break;
    case 0x11:
        DAT_001aea24._0_1_ = 'R';
        DAT_001aea24._1_1_ = ':';
        DAT_001aea24._2_1_ = '3';
        DAT_001aea24._3_1_ = '\0';
        break;
    case 0x12:
        DAT_001aea24._0_1_ = 'C';
        DAT_001aea24._1_1_ = ':';
        DAT_001aea24._2_1_ = '1';
        DAT_001aea24._3_1_ = '\0';
        break;
    case 0x13:
        DAT_001aea24._0_1_ = 'N';
        DAT_001aea24._1_1_ = ':';
        DAT_001aea24._2_1_ = '2';
        DAT_001aea24._3_1_ = '\0';
        break;
    case 0x14:
        DAT_001aea24._0_1_ = 'S';
        DAT_001aea24._1_1_ = ':';
        DAT_001aea24._2_1_ = '0';
        DAT_001aea24._3_1_ = '\0';
        break;
    case 0x15:
        DAT_001aea24._0_1_ = 'N';
        DAT_001aea24._1_1_ = ':';
        DAT_001aea24._2_1_ = '3';
        DAT_001aea24._3_1_ = '\0';
        break;
    case 0x16:
        DAT_001aea24._0_1_ = 'P';
        DAT_001aea24._1_1_ = ':';
        DAT_001aea24._2_1_ = '5';
        DAT_001aea24._3_1_ = '\0';
    }
    FUN_00036c44(1);
    if (3 < DAT_0009e31c) {
        snprintf(acStack_808, 0x800, "Sweep error string = %s.\n",
                 &DAT_001aea24);
        FUN_00047ab4(3, acStack_808, 0);
    }
    return;
}

undefined4 *FUN_00031abc(void)

{
    return &DAT_001aea24;
}

undefined4 FUN_00031bc8(int param_1)

{
    undefined4 uVar1;
    uint uVar2;
    int iVar3;
    char acStack_828[2052];

    if (4 < DAT_0009e31c) {
        snprintf(acStack_828, 0x800,
                 "[DEBUG] Check if is unbalanche happen, chain = %d\n",
                 param_1);
        FUN_00047ab4(4, acStack_828, 0);
    }
    iVar3 = 0;
    uVar1 = 0;
    do {
        while (((uVar2 = *(uint *)(DAT_001aea64 +
                                   (param_1 * 0x4e + iVar3 + 0x74b22) * 4),
                 0xbf8 < uVar2 || ((double)(longlong)(int)uVar2 < 2298.0)) &&
                (uVar1 = 1, 3 < DAT_0009e31c))) {
            snprintf(acStack_828, 0x800,
                     "Unbalance happened: chain = %d, asic = %d\n", param_1,
                     iVar3);
            iVar3 = iVar3 + 1;
            FUN_00047ab4(3, acStack_828, 0);
            uVar1 = 1;
            if (iVar3 == 0x4e) {
                return 1;
            }
        }
        iVar3 = iVar3 + 1;
    } while (iVar3 != 0x4e);
    return uVar1;
}

/* WARNING: Restarted to delay deadcode elimination for space: stack */

void FUN_00031e2c(void)

{
    undefined1 uVar1;
    uint uVar2;
    uint uVar3;
    undefined4 local_818;
    char acStack_814[24];
    undefined4 uStack_7fc;
    undefined4 local_7f8;
    undefined4 uStack_7f4;
    undefined4 uStack_7f0;
    undefined4 uStack_7ec;
    undefined4 local_7e8;

    if (4 < DAT_0009e31c) {
        local_818._0_1_ = '[';
        local_818._1_1_ = 'D';
        local_818._2_1_ = 'E';
        local_818._3_1_ = 'B';
        builtin_strncpy(acStack_814, "UG] Send 1-midstate work", 0x18);
        uStack_7fc = CONCAT13(uStack_7fc._3_1_, 0xa2e);
        FUN_00047ab4(4, &local_818, 0);
    }
    uVar3 = 0;
    memset(&local_818, 0, 0x34);
    local_818 = CONCAT31(local_818._1_3_, 1);
    do {
        while (*(int *)(DAT_000a0d68 + uVar3 * 4 + 4) != 1) {
            uVar3 = uVar3 + 1;
            if (uVar3 == 0x10) {
                return;
            }
        }
        while (uVar2 = FUN_0006ff04(), (uVar2 & 1 << (uVar3 & 0xff)) == 0) {
            FUN_0004a804(1);
        }
        uVar1 = (undefined1)uVar3;
        uVar3 = uVar3 + 1;
        local_818 =
            CONCAT22(local_818._2_2_, CONCAT11(uVar1, (char)local_818)) |
            0x8000;
        FUN_0001af48(local_818, acStack_814._0_4_, acStack_814._4_4_,
                     acStack_814._8_4_, acStack_814._12_4_, acStack_814._16_4_,
                     acStack_814._20_4_, uStack_7fc, local_7f8, uStack_7f4,
                     uStack_7f0, uStack_7ec, local_7e8);
        FUN_0004a804(10);
    } while (uVar3 != 0x10);
    return;
}

void FUN_00031f44(void)

{
    char local_808[32];
    undefined2 uStack_7e8;
    undefined1 local_7e6;

    if (4 < DAT_0009e31c) {
        builtin_strncpy(local_808, "[DEBUG] Free memory for hw sweep", 0x20);
        uStack_7e8 = 0xa2e;
        local_7e6 = 0;
        FUN_00047ab4(4, local_808, 0);
    }
    if (DAT_001aea64 != (void *)0x0) {
        if (*(void **)((int)DAT_001aea64 + 4) != (void *)0x0) {
            free(*(void **)((int)DAT_001aea64 + 4));
        }
        free(DAT_001aea64);
        DAT_001aea64 = (void *)0x0;
    }
    return;
}

undefined4 FUN_0003203c(void)

{
    undefined4 uVar1;
    void *pvVar2;
    void *pvVar3;
    char local_810[36];
    undefined4 uStack_7ec;
    char acStack_7e8[2008];

    if (4 < DAT_0009e31c) {
        builtin_strncpy(local_810, "[DEBUG] HW sweep init.\n", 0x18);
        FUN_00047ab4(4, local_810, 0);
        if (4 < DAT_0009e31c) {
            builtin_strncpy(local_810, "[DEBUG] Allocate memory for hw sweep",
                            0x24);
            uStack_7ec = CONCAT13(uStack_7ec._3_1_, 0xa2e);
            FUN_00047ab4(4, local_810, 0);
        }
    }
    if (DAT_001aea64 == (void *)0x0) {
        pvVar2 = calloc(0x3d1dc4, 1);
        DAT_001aea64 = pvVar2;
        if (pvVar2 == (void *)0x0) {
            FUN_00031794(0xd, 0xff);
            if (3 < DAT_0009e31c) {
                builtin_strncpy(local_810,
                                "Fail to allocate memory for hw sweep", 0x24);
                uStack_7ec._0_1_ = ' ';
                uStack_7ec._1_1_ = 'c';
                uStack_7ec._2_1_ = 't';
                uStack_7ec._3_1_ = 'x';
                builtin_strncpy(acStack_7e8, "t.\n", 4);
                FUN_00047ab4(3, local_810, 0);
                return 0xffffffff;
            }
        } else {
            pvVar3 = malloc(0x4e0);
            *(void **)((int)pvVar2 + 4) = pvVar3;
            if (pvVar3 != (void *)0x0)
                goto LAB_0003206c;
            FUN_00031f44();
            FUN_00031794(0xd, 0xff);
            if (3 < DAT_0009e31c) {
                builtin_strncpy(local_810,
                                "Fail to allocate memory for hw sweep", 0x24);
                uStack_7ec._0_1_ = ' ';
                uStack_7ec._1_1_ = 'p';
                uStack_7ec._2_1_ = 'r';
                uStack_7ec._3_1_ = 'i';
                builtin_strncpy(acStack_7e8, "vate data.\n", 0xc);
                FUN_00047ab4(3, local_810, 0);
            }
        }
        uVar1 = 0xffffffff;
    } else {
    LAB_0003206c:
        uVar1 = 0;
    }
    return uVar1;
}

void FUN_000322e4(byte *param_1)

{
    uint uVar1;
    uint uVar2;
    int iVar3;
    int iVar4;
    int iVar5;
    int iVar6;
    int iVar7;
    uint uVar8;
    uint uVar9;
    char acStack_820[2060];

    uVar8 = *param_1 & 0xf;
    uVar2 = (uint)((int)((ulonglong)param_1[2] * 0xaaaaaaab >> 0x20) << 0x17) >>
            0x18;
    if (*(int *)(DAT_000a0d68 + uVar8 * 4 + 4) != 0 && uVar2 < 0x4e) {
        if (param_1[1] == 0x90) {
            if ((*(uint *)(param_1 + 4) & 0x88) != 0) {
                *(undefined1 *)(uVar8 * 0x4e + *(int *)(DAT_001aea64 + 4) +
                                uVar2) = 1;
                return;
            }
            return;
        }
        if (param_1[1] == 0xe0) {
            iVar4 = uVar8 * 0x4e;
            uVar1 = *(uint *)(param_1 + 4) >> 0x10;
            iVar6 = DAT_001aea64 + 8 + uVar8 * 4;
            uVar9 = *(uint *)(param_1 + 4) & 0xffff;
            iVar7 = DAT_001aea64 + 8 + (iVar4 + uVar2) * 4;
            iVar3 = *(int *)(DAT_001aea64 + 4);
            *(uint *)(&DAT_001d2c80 + iVar7) =
                *(int *)(&DAT_001d2c80 + iVar7) + uVar1;
            iVar5 = (uVar9 - uVar1) + *(int *)(&DAT_001d9fc0 + iVar6);
            if (uVar1 < 0xbf9) {
                *(uint *)(&DAT_001d4000 + iVar6) =
                    *(int *)(&DAT_001d4000 + iVar6) + uVar1;
                *(int *)(&DAT_001d9fc0 + iVar6) = iVar5;
                *(undefined1 *)(iVar3 + iVar4 + uVar2) = 1;
            } else {
                *(int *)(&DAT_001d9fc0 + iVar6) = iVar5;
                *(undefined1 *)(iVar3 + iVar4 + uVar2) = 1;
                if (3 < DAT_0009e31c) {
                    snprintf(acStack_820, 0x800,
                             "Nonce counter overflow: chain = %d, asic = %d, "
                             "nonce_return = %d, nonce_match = %d, "
                             "nonce_accumulate = %d\n",
                             uVar8, uVar2, uVar9, uVar1,
                             *(undefined4 *)(&DAT_001d2c80 + iVar7));
                    FUN_00047ab4(3, acStack_820, 0);
                    return;
                }
            }
            return;
        }
    }
    FUN_0003762c();
    return;
}

bool FUN_000323a0(int param_1)

{
    int iVar1;
    char *pcVar2;
    int iVar3;
    char acStack_810[2052];

    iVar3 = *(int *)(DAT_001aea64 + 4);
    if (4 < DAT_0009e31c) {
        snprintf(acStack_810, 0x800,
                 "[DEBUG] Check if read reg done, chain = %d, done_threshold = "
                 "%d.\n",
                 param_1, 1);
        FUN_00047ab4(4, acStack_810, 0);
    }
    iVar1 = 0;
    pcVar2 = (char *)(iVar3 + param_1 * 0x4e + -1);
    do {
        pcVar2 = pcVar2 + 1;
        if (*pcVar2 != '\0') {
            iVar1 = iVar1 + 1;
        }
    } while (pcVar2 != (char *)(iVar3 + 0x4d + param_1 * 0x4e));
    return iVar1 == 0x4e;
}

undefined4 FUN_00032450(void)

{
    int iVar1;
    int iVar2;

    iVar2 = 0;
    do {
        while (*(int *)(DAT_000a0d68 + iVar2 * 4 + 4) != 1) {
            iVar2 = iVar2 + 1;
            if (iVar2 == 0x10) {
                return 1;
            }
        }
        iVar1 = FUN_000323a0(iVar2);
        if (iVar1 == 0) {
            return 0;
        }
        iVar2 = iVar2 + 1;
    } while (iVar2 != 0x10);
    return 1;
}

undefined **FUN_00032b3c(void)

{
    char local_808[2052];

    if (DAT_0009e31c < 5) {
        return &PTR_s_HW_Sweep_0009c564;
    }
    builtin_strncpy(local_808, "[DEBUG] Get hw ops.\n", 0x14);
    local_808[0x14] = 0;
    FUN_00047ab4(4, local_808, 0);
    return &PTR_s_HW_Sweep_0009c564;
}

undefined4 FUN_00032c44(int param_1)

{
    uint uVar1;
    undefined4 uVar2;
    uint uVar3;
    int iVar4;
    int iVar5;
    char acStack_828[2052];

    uVar2 = 0;
    iVar5 = 0;
    uVar1 = *(uint *)(DAT_001aea68 + (param_1 + 0x75002) * 4) / 0x68;
    do {
        iVar4 = 0;
        do {
            uVar3 = *(uint *)(DAT_001aea68 +
                              (int)(&UNK_00076392 +
                                    (param_1 * 0xd + iVar5) * 4 + iVar4) *
                                  4);
            if ((uVar3 < uVar1) && (uVar2 = 1, 3 < DAT_0009e31c)) {
                snprintf(acStack_828, 0x800,
                         "Domain unbalance happen, chain = %d, domain = %d, "
                         "nonce_num_domain = %d, threshold = %d.\n",
                         param_1, iVar5 * 4 + iVar4, uVar3, uVar1);
                FUN_00047ab4(3, acStack_828, 0);
                uVar2 = 1;
            }
            iVar4 = iVar4 + 1;
        } while (iVar4 != 4);
        iVar5 = iVar5 + 1;
    } while (iVar5 != 0xd);
    return uVar2;
}

undefined4 FUN_00032d68(uint param_1)

{
    uint uVar1;
    uint uVar2;
    undefined4 uVar3;
    undefined4 uVar4;
    undefined4 *puVar5;
    undefined4 uVar6;
    undefined4 *puVar7;
    uint uVar8;
    int iVar9;
    int iVar10;
    undefined4 *puVar11;
    undefined4 *puVar12;
    undefined4 *puVar13;
    undefined4 *puVar14;
    int local_9c8;
    int local_9c4;
    undefined4 *local_940;
    undefined4 *local_93c;
    uint local_938;
    uint local_934;
    undefined4 *local_930;
    uint local_92c;
    int local_928;
    uint local_924;
    uint local_920;
    undefined4 *local_91c;
    uint local_918;
    int local_914;
    int local_910;
    uint local_90c;
    uint *local_908;
    undefined *local_904;
    int local_900;
    int local_8fc;
    int local_8f8;
    int local_8f4;
    undefined4 local_8f0[5];
    undefined4 local_8dc;
    undefined4 uStack_8d8;
    undefined4 uStack_8d4;
    undefined4 uStack_8d0;
    undefined4 local_8cc;
    undefined4 uStack_8c8;
    undefined4 uStack_8c4;
    undefined4 uStack_8c0;
    undefined4 local_8bc;
    uint local_8b8;
    undefined4 local_8b4;
    undefined4 uStack_8b0;
    undefined4 uStack_8ac;
    undefined4 local_8a8[32];
    char local_828[2052];

    local_908 = &DAT_0009e31c;
    local_90c = param_1;
    FUN_0004a60c(&local_900);
    if (3 < DAT_0009e31c) {
        local_828[0] = '\n';
        local_828[1] = '\0';
        FUN_00047ec8(3, local_828, 0);
        if (3 < *local_908) {
            snprintf(local_828, 0x800, ">>>> Send work for chain %d.\n",
                     local_90c);
            FUN_00047ab4(3, local_828, 0);
        }
    }
    local_934 = 0;
    uVar1 = 1 << (local_90c & 0xff);
    local_910 = 0;
    local_918 = ~(~(local_90c << 0x19) >> 0x19) & 0xff;
    local_914 = local_90c * 0x1a00 + 0x3b7dc4;
    iVar10 = 0;
    local_904 = &DAT_000edf22;
    do {
        local_920 = 0;
        local_91c =
            (undefined4 *)(*(int *)(DAT_001aea68 +
                                    (int)(local_904 + local_910) * 4 + 4) +
                           0x14);
        do {
            local_924 = local_920 & 3;
            local_938 = 0;
            puVar11 = local_91c;
            do {
                while (uVar2 = FUN_0006ff04(), (uVar1 & uVar2) == 0) {
                    iVar10 = iVar10 + 1;
                    usleep(1000);
                }
                local_93c = puVar11 + -5;
                puVar5 = local_8f0;
                puVar13 = local_93c;
                do {
                    puVar12 = puVar13 + 4;
                    uVar3 = puVar13[1];
                    uVar4 = puVar13[2];
                    puVar7 = puVar5 + 4;
                    uVar6 = puVar13[3];
                    *puVar5 = *puVar13;
                    puVar5[1] = uVar3;
                    puVar5[2] = uVar4;
                    puVar5[3] = uVar6;
                    puVar5 = puVar7;
                    puVar13 = puVar12;
                } while (puVar12 != puVar11 + 7);
                uVar2 = 0;
                *puVar7 = *puVar12;
                memset((void *)((int)&local_8bc + 2), 0, 0x92);
                iVar9 = local_934 * 0x34 + local_914;
                local_8dc = CONCAT31(local_8dc._1_3_, (char)local_8dc + '\x01');
                local_8b4 = puVar11[-3];
                uStack_8b0 = puVar11[-2];
                uStack_8ac = puVar11[-1];
                local_940 = &uStack_8c0;
                local_8b8 = local_934 & 0x7f | local_938;
                local_930 = local_93c + 0xc;
                local_8bc = CONCAT31(
                    CONCAT21(local_8bc._2_2_, (undefined1)local_918), 1);
                do {
                    if (uVar2 == local_924) {
                        uVar4 = puVar11[1];
                        uVar6 = puVar11[2];
                        local_8a8[uVar2 * 8] = *puVar11;
                        uVar3 = puVar11[3];
                        local_8a8[uVar2 * 8 + 1] = uVar4;
                        local_8a8[uVar2 * 8 + 3] = uVar3;
                        uVar3 = puVar11[4];
                        local_8a8[uVar2 * 8 + 2] = uVar6;
                        uVar4 = puVar11[5];
                        uVar6 = puVar11[6];
                        local_8a8[uVar2 * 8 + 4] = uVar3;
                        uVar3 = puVar11[7];
                        local_8a8[uVar2 * 8 + 5] = uVar4;
                        local_8a8[uVar2 * 8 + 6] = uVar6;
                        local_8a8[uVar2 * 8 + 7] = uVar3;
                        puVar5 = local_93c;
                        puVar13 = (undefined4 *)(DAT_001aea68 + iVar9);
                        do {
                            puVar7 = puVar5 + 4;
                            puVar12 = puVar13 + 4;
                            uVar3 = puVar5[1];
                            uVar4 = puVar5[2];
                            uVar6 = puVar5[3];
                            *puVar13 = *puVar5;
                            puVar13[1] = uVar3;
                            puVar13[2] = uVar4;
                            puVar13[3] = uVar6;
                            puVar5 = puVar7;
                            puVar13 = puVar12;
                        } while (puVar7 != local_930);
                        *puVar12 = *local_930;
                    } else {
                        local_8a8[uVar2 * 8] = local_8dc;
                        local_8a8[uVar2 * 8 + 1] = uStack_8d8;
                        local_8a8[uVar2 * 8 + 2] = uStack_8d4;
                        local_8a8[uVar2 * 8 + 3] = uStack_8d0;
                        local_8a8[uVar2 * 8 + 4] = local_8cc;
                        local_8a8[uVar2 * 8 + 5] = uStack_8c8;
                        local_8a8[uVar2 * 8 + 6] = uStack_8c4;
                        local_8a8[uVar2 * 8 + 7] = uStack_8c0;
                        puVar5 = local_8f0;
                        puVar13 = (undefined4 *)(DAT_001aea68 + iVar9);
                        do {
                            puVar7 = puVar5 + 4;
                            puVar12 = puVar13 + 4;
                            uVar3 = puVar5[1];
                            uVar4 = puVar5[2];
                            uVar6 = puVar5[3];
                            puVar14 = puVar5 + 4;
                            *puVar13 = *puVar5;
                            puVar13[1] = uVar3;
                            puVar13[2] = uVar4;
                            puVar13[3] = uVar6;
                            puVar5 = puVar7;
                            puVar13 = puVar12;
                        } while (puVar14 != local_940);
                        *puVar12 = *puVar7;
                    }
                    uVar2 = uVar2 + 1;
                    iVar9 = iVar9 + 0x34;
                } while (uVar2 != 4);
                puVar11 = puVar11 + 0xd;
                uVar2 = local_934 + 4;
                local_92c = uVar1;
                local_928 = iVar10;
                memcpy(&local_9c8, &uStack_8ac, 0x84);
                uVar8 = local_938 + 0x80;
                local_938 = uVar8;
                FUN_0001b010(local_8bc, local_8b8, local_8b4, uStack_8b0);
                if (0x7f < uVar2) {
                    uVar2 = 0;
                }
                local_934 = uVar2;
            } while (uVar8 != 0x400);
            local_920 = local_920 + 1;
            local_91c = local_91c + 0x68;
        } while (local_920 != 0x17f);
        local_910 = local_910 + 1;
    } while (local_910 != 0x4e);
    FUN_0004a60c(&local_8f8);
    local_9c8 = local_8f8 - local_900;
    if (local_8f4 - local_8fc < 0) {
        local_9c8 = local_9c8 + -1;
    }
    if (3 < *local_908) {
        local_9c4 = iVar10;
        snprintf(
            local_828, 0x800,
            "Send work for chain %d done, time cost %lds, sleep_count = %d\n",
            local_90c);
        FUN_00047ab4(3, local_828, 0);
    }
    return 0;
}

void FUN_000331ac(byte *param_1)

{
    uint uVar1;
    byte bVar2;
    ushort uVar3;
    short sVar4;
    uint uVar5;
    uint uVar6;
    char cVar7;
    int iVar8;
    int iVar9;
    int iVar10;
    uint uVar11;
    bool bVar12;
    bool bVar13;

    iVar10 = *(int *)(param_1 + 4);
    cVar7 = *(char *)(DAT_000a0d68 + 0x329a);
    if (cVar7 == '\0') {
        cVar7 = '\x03';
    }
    uVar5 = FUN_00075cf4(iVar10, cVar7);
    uVar3 = *(ushort *)(param_1 + 2);
    uVar11 = *param_1 & 0xf;
    sVar4 = FUN_00075cec(iVar10);
    iVar9 = DAT_001aea68;
    if (*(int *)(DAT_000a0d68 + uVar11 * 4 + 4) == 0) {
        *(int *)(DAT_001aea68 + 0x3accc8) =
            *(int *)(DAT_001aea68 + 0x3accc8) + 1;
        return;
    }
    bVar2 = *param_1;
    if ((bVar2 & 0x20) != 0) {
        iVar10 = DAT_001aea68 + uVar11 * 4;
        *(int *)(&DAT_001d9ec8 + iVar10) = *(int *)(&DAT_001d9ec8 + iVar10) + 1;
        return;
    }
    if ((bVar2 & 0x40) != 0) {
        iVar10 = DAT_001aea68 + uVar11 * 4;
        *(int *)(&DAT_001d9f08 + iVar10) = *(int *)(&DAT_001d9f08 + iVar10) + 1;
        return;
    }
    if ((bVar2 & 0x80) == 0) {
        iVar10 = DAT_001aea68 + uVar11 * 4;
        *(int *)(&DAT_001d9f48 + iVar10) = *(int *)(&DAT_001d9f48 + iVar10) + 1;
        return;
    }
    if (0x4d < uVar5) {
        iVar10 = DAT_001aea68 + uVar11 * 4;
        *(int *)(iVar10 + 0x3acccc) = *(int *)(iVar10 + 0x3acccc) + 1;
        return;
    }
    uVar6 = sVar4 * 4 + (uVar3 & 3);
    uVar1 = (int)(uVar3 & 0x7fff) >> 7;
    bVar13 = 6 < uVar1;
    bVar12 = uVar1 == 7;
    if (uVar1 < 8) {
        bVar13 = 0x17d < uVar6;
        bVar12 = uVar6 == 0x17e;
    }
    if (bVar13 && !bVar12) {
        iVar10 = DAT_001aea68 + uVar11 * 4;
        *(int *)(&DAT_001d9fc8 + iVar10) = *(int *)(&DAT_001d9fc8 + iVar10) + 1;
        return;
    }
    if (*(int *)(*(int *)(DAT_001aea68 + (int)(&DAT_000edf22 + uVar5) * 4 + 4) +
                 uVar6 * 0x1a0 + uVar1 * 0x34 + 4) != iVar10) {
        iVar10 = FUN_00031658(DAT_001aea68 + (short)(uVar3 & 0x7f) * 0x34 +
                                  uVar11 * 0x1a00 + 0x3b7dc4,
                              iVar10);
        iVar9 = DAT_001aea68 + uVar11 * 4;
        if (iVar10 == 0) {
            *(int *)(&DAT_001d9fc8 + iVar9) =
                *(int *)(&DAT_001d9fc8 + iVar9) + 1;
        } else {
            *(int *)(&DAT_001d9f88 + iVar9) =
                *(int *)(&DAT_001d9f88 + iVar9) + 1;
        }
        return;
    }
    iVar10 = DAT_001aea68 + uVar11 * 0x1d2c8 + uVar5 * 0x5fc + uVar6 * 4;
    if ((*(uint *)(&DAT_001da048 + iVar10) & 1 << uVar1) == 0) {
        *(uint *)(&DAT_001da048 + iVar10) =
            *(uint *)(&DAT_001da048 + iVar10) | 1 << uVar1;
        iVar8 = iVar9 + uVar11 * 4;
        iVar9 = iVar9 + (uVar11 * 0x4e + uVar5) * 4;
        *(int *)(iVar10 + 8) = *(int *)(iVar10 + 8) + 1;
        *(int *)(&DAT_001d2c88 + iVar9) = *(int *)(&DAT_001d2c88 + iVar9) + 1;
        *(int *)(&DAT_001d4008 + iVar8) = *(int *)(&DAT_001d4008 + iVar8) + 1;
        return;
    }
    iVar10 = DAT_001aea68 + uVar11 * 4;
    *(int *)(&DAT_001d9e88 + iVar10) = *(int *)(&DAT_001d9e88 + iVar10) + 1;
    return;
}

void FUN_00033428(void)

{
    void *__ptr;
    void *__ptr_00;
    undefined *puVar1;
    int iVar2;

    iVar2 = 0;
    __ptr = DAT_001aea68;
    do {
        puVar1 = &DAT_000edf22 + iVar2;
        iVar2 = iVar2 + 1;
        __ptr_00 = *(void **)((int)__ptr + (int)puVar1 * 4 + 4);
        if (__ptr_00 != (void *)0x0) {
            free(__ptr_00);
            __ptr = DAT_001aea68;
            *(undefined4 *)((int)DAT_001aea68 + (int)puVar1 * 4 + 4) = 0;
        }
    } while (iVar2 != 0x4e);
    free(__ptr);
    DAT_001aea68 = (void *)0x0;
    return;
}

int FUN_000334a8(undefined4 *param_1, int param_2, int param_3, int param_4)

{
    size_t sVar1;
    int iVar2;
    int iVar3;
    int iVar4;
    int iVar5;
    int iVar6;
    undefined4 uStack_858;
    undefined4 local_854;
    undefined4 uStack_850;
    undefined4 uStack_84c;
    undefined4 local_848;
    undefined4 uStack_844;
    undefined4 uStack_840;
    undefined4 uStack_83c;
    undefined4 local_838;
    undefined4 uStack_834;
    undefined4 uStack_830;
    undefined4 uStack_82c;
    char local_828[24];
    undefined2 uStack_810;
    undefined1 local_80e;

    if (param_4 == 0) {
        iVar3 = 0;
    } else {
        iVar4 = param_3 * param_4 * 0x34;
        iVar3 = 0;
        while (true) {
            iVar5 = iVar3 + 1;
            iVar6 =
                *(int *)(DAT_001aea68 + (int)(&DAT_000edf22 + param_2) * 4 + 4);
            sVar1 = fread(&uStack_858, 1, 0x30, (FILE *)*param_1);
            iVar2 = iVar6 + iVar4;
            if (sVar1 != 0x30)
                break;
            *(undefined4 *)(iVar2 + 4) = uStack_858;
            *(undefined4 *)(iVar2 + 0x14) = local_848;
            *(undefined4 *)(iVar2 + 0x18) = uStack_844;
            *(undefined4 *)(iVar2 + 0x1c) = uStack_840;
            *(undefined4 *)(iVar2 + 0x20) = uStack_83c;
            *(undefined4 *)(iVar2 + 0x24) = local_838;
            *(undefined4 *)(iVar2 + 0x28) = uStack_834;
            *(undefined4 *)(iVar2 + 0x2c) = uStack_830;
            *(undefined4 *)(iVar2 + 0x30) = uStack_82c;
            *(undefined4 *)(iVar2 + 8) = local_854;
            *(undefined4 *)(iVar2 + 0xc) = uStack_850;
            *(undefined4 *)(iVar2 + 0x10) = uStack_84c;
            *(int *)(iVar6 + iVar4) = iVar3;
            iVar4 = iVar4 + 0x34;
            iVar3 = iVar5;
            if (iVar5 == param_4) {
                return iVar5;
            }
        }
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_828, "Load core pattern failed", 0x18);
            uStack_810 = 0xa21;
            local_80e = 0;
            FUN_00047ab4(3, local_828, 0);
            return iVar3;
        }
    }
    return iVar3;
}

undefined4 FUN_00033618(undefined4 param_1)

{
    int iVar1;
    undefined4 uVar2;
    undefined4 *puVar3;
    void *pvVar4;
    int iVar5;
    undefined4 *puVar6;
    char *__filename;
    uint uVar7;
    int iVar8;
    FILE *local_824;
    char local_820[24];
    undefined4 uStack_808;
    char acStack_804[4];
    undefined4 local_800;
    char acStack_7fc[2012];

    if (4 < DAT_0009e31c) {
        builtin_strncpy(local_820, "[DEBUG] Free memory for ", 0x18);
        uStack_808._0_1_ = 's';
        uStack_808._1_1_ = 'w';
        uStack_808._2_1_ = ' ';
        uStack_808._3_1_ = 's';
        builtin_strncpy(acStack_804, "weep", 4);
        local_800._0_3_ = 0xa2e;
        FUN_00047ab4(4, local_820, 0);
    }
    puVar3 = DAT_001aea68;
    if (DAT_001aea68 == (undefined4 *)0x0) {
        puVar3 = (undefined4 *)calloc(0x3d1dc4, 1);
        DAT_001aea68 = puVar3;
        if (puVar3 == (undefined4 *)0x0) {
            if (3 < DAT_0009e31c) {
                builtin_strncpy(local_820, "Fail to allocate memory ", 0x18);
                uStack_808._0_1_ = 'f';
                uStack_808._1_1_ = 'o';
                uStack_808._2_1_ = 'r';
                uStack_808._3_1_ = ' ';
                builtin_strncpy(acStack_804, "sw s", 4);
                local_800._0_1_ = 'w';
                local_800._1_1_ = 'e';
                local_800._2_1_ = 'e';
                local_800._3_1_ = 'p';
                builtin_strncpy(acStack_7fc, " ctxt.\n", 8);
                FUN_00047ab4(3, local_820, 0);
            LAB_000338c4:
                if (DAT_001aea68 != (undefined4 *)0x0) {
                LAB_000337fc:
                    FUN_00033428();
                }
            }
            FUN_00031794(0xd, 0xff);
            return 0xffffffff;
        }
        puVar6 = puVar3 + 0xedf22;
        do {
            pvVar4 = malloc(0x26e60);
            puVar6 = puVar6 + 1;
            *puVar6 = pvVar4;
            if (pvVar4 == (void *)0x0) {
                if (DAT_0009e31c < 4)
                    goto LAB_000337fc;
                builtin_strncpy(local_820, "Fail to allocate memory ", 0x18);
                uStack_808._0_1_ = 'f';
                uStack_808._1_1_ = 'o';
                uStack_808._2_1_ = 'r';
                uStack_808._3_1_ = ' ';
                builtin_strncpy(acStack_804, "work", 4);
                local_800._0_1_ = 's';
                local_800._1_1_ = '.';
                local_800._2_1_ = '\n';
                local_800._3_1_ = '\0';
                FUN_00047ab4(3, local_820, 0);
                goto LAB_000338c4;
            }
        } while (puVar3 + 0xedf70 != puVar6);
    }
    *puVar3 = param_1;
    __filename = (char *)*DAT_001aea68;
    local_824 = fopen64(__filename, "r");
    if (local_824 == (FILE *)0x0) {
        if (3 < DAT_0009e31c) {
            snprintf(local_820, 0x800, "Fail to open pattern file %s.\n",
                     __filename);
            FUN_00047ab4(3, local_820, 0);
        }
    LAB_00033730:
        FUN_00031794(0x16, 0xff);
        if (DAT_0009e31c < 4) {
            uVar2 = 0xffffffff;
        } else {
            builtin_strncpy(local_820, "Load pattern file failed", 0x18);
            uStack_808 = CONCAT13(uStack_808._3_1_, 0xa2e);
            FUN_00047ab4(3, local_820, 0);
            uVar2 = 0xffffffff;
        }
    } else {
        iVar8 = 0;
        do {
            uVar7 = 0;
            iVar1 = 0;
            do {
                iVar5 = iVar1 + 1;
                iVar1 = FUN_000334a8(&local_824, iVar8, iVar1, 8);
                uVar7 = uVar7 + iVar1;
                iVar1 = iVar5;
            } while (iVar5 != 0x17f);
            if (uVar7 < 0xbf8) {
                if (DAT_0009e31c < 4) {
                    fclose(local_824);
                } else {
                    snprintf(local_820, 0x800,
                             "No enough work, asic = %d, work_count = %d, "
                             "work_count_target = %d.\n",
                             iVar8, uVar7, 0xbf8);
                    FUN_00047ab4(3, local_820, 0);
                    fclose(local_824);
                }
                goto LAB_00033730;
            }
            iVar8 = iVar8 + 1;
        } while (iVar8 != 0x4e);
        fclose(local_824);
        uVar2 = 0;
    }
    return uVar2;
}

undefined **FUN_00033918(void)

{
    char local_808[2052];

    if (DAT_0009e31c < 5) {
        return &PTR_s_SW_Sweep_0009c590;
    }
    builtin_strncpy(local_808, "[DEBUG] Get sw ops.\n", 0x14);
    local_808[0x14] = 0;
    FUN_00047ab4(4, local_808, 0);
    return &PTR_s_SW_Sweep_0009c590;
}

undefined4 FUN_00033a7c(void)

{
    int iVar1;
    int iVar2;
    undefined4 uVar3;
    float fVar4;
    float fVar5;
    char acStack_820[2048];

    uVar3 = 0;
    iVar2 = 0;
    do {
        while (*(int *)(DAT_000a0d68 + iVar2 * 4 + 4) != 1) {
            iVar2 = iVar2 + 1;
            if (iVar2 == 0x10) {
                return uVar3;
            }
        }
        iVar1 = (iVar2 + 0x4f4) * 4;
        fVar4 = *(float *)(DAT_001aea6c + iVar1);
        fVar5 = *(float *)(*(int *)(DAT_001aea6c + 8) + 0x14);
        if (3 < DAT_0009e31c) {
            snprintf(acStack_820, 0x800,
                     "chain = %d, nonce_rate_max = %.4f, nonce_rate_threshold "
                     "= %.4f\n",
                     iVar2, (double)fVar4, (double)fVar5);
            FUN_00047ab4(3, acStack_820, 0);
            fVar4 = *(float *)(DAT_001aea6c + iVar1);
            fVar5 = *(float *)(*(int *)(DAT_001aea6c + 8) + 0x14);
        }
        iVar1 = iVar2 + 0x514;
        iVar2 = iVar2 + 1;
        if (fVar4 < fVar5) {
            uVar3 = 1;
            *(undefined4 *)(DAT_001aea6c + iVar1 * 4) = 1;
        }
    } while (iVar2 != 0x10);
    return uVar3;
}

void FUN_00033b7c(void)

{
    char local_808[20];
    uint local_7f4;
    char acStack_7f0[2024];

    if (4 < DAT_0009e31c) {
        builtin_strncpy(local_808, "[DEBUG] Sweep exit.\n", 0x14);
        local_7f4 = local_7f4 & 0xffffff00;
        FUN_00047ab4(4, local_808, 0);
        if (4 < DAT_0009e31c) {
            builtin_strncpy(local_808, "[DEBUG] Free memory ", 0x14);
            local_7f4._0_1_ = 'f';
            local_7f4._1_1_ = 'o';
            local_7f4._2_1_ = 'r';
            local_7f4._3_1_ = ' ';
            builtin_strncpy(acStack_7f0, "sweep.\n", 8);
            FUN_00047ab4(4, local_808, 0);
        }
    }
    if (DAT_001aea6c != (void *)0x0) {
        free(DAT_001aea6c);
        DAT_001aea6c = (void *)0x0;
    }
    return;
}

int FUN_00033c2c(undefined4 *param_1, int param_2)

{
    int iVar1;
    int iVar2;
    undefined4 uVar3;
    undefined4 *puVar4;
    int iVar5;
    undefined4 local_848;
    undefined4 local_844;
    undefined4 local_840;
    undefined4 local_83c;
    undefined4 local_838;
    undefined1 local_834;
    undefined1 local_833;
    undefined4 local_830;
    undefined4 local_82c;
    undefined4 local_828;
    undefined4 local_824;
    char local_820[28];
    undefined4 local_804;
    char local_800[2020];

    memset(&local_848, 0, 0x28);
    if (3 < DAT_0009e31c) {
        builtin_strncpy(local_820, "Build tuning basic config.\n", 0x1c);
        FUN_00047ab4(3, local_820, 0);
    }
    puVar4 = (undefined4 *)param_1[1];
    local_848 = *(undefined4 *)*param_1;
    local_844 = *puVar4;
    local_840 = puVar4[1];
    local_838 = puVar4[5];
    local_83c = puVar4[2];
    local_834 = *(undefined1 *)(*(int *)(DAT_001aea6c + 8) + 8);
    local_833 = *(undefined1 *)(*(int *)(DAT_001aea6c + 8) + 9);
    local_830 = *(undefined4 *)(*(int *)(DAT_001aea6c + 8) + 0xc);
    local_82c = *(undefined4 *)(*(int *)(DAT_001aea6c + 8) + 0x10);
    local_828 = *(undefined4 *)(*(int *)(DAT_001aea6c + 8) + 0x14);
    local_824 = *(undefined4 *)(*(int *)(DAT_001aea6c + 8) + 0x1c);
    iVar1 = FUN_00039f80(&local_848);
    if ((iVar1 != 0) && (3 < DAT_0009e31c)) {
        builtin_strncpy(local_820, "Do freq tuning basic failed.", 0x1c);
        local_804._0_2_ = 10;
        FUN_00047ab4(3, local_820, 0);
    }
    iVar5 = 0;
    do {
        if (*(int *)(DAT_000a0d68 + iVar5 * 4 + 4) == 1) {
            iVar2 = FUN_00039b70(iVar5);
            if (iVar2 == 0) {
                *(undefined4 *)(param_2 + iVar5 * 4) = local_844;
                if (3 < DAT_0009e31c) {
                    builtin_strncpy(local_820, "Freq result is invalid, usin",
                                    0x1c);
                    local_804._0_1_ = 'g';
                    local_804._1_1_ = ' ';
                    local_804._2_1_ = 'f';
                    local_804._3_1_ = 'r';
                    builtin_strncpy(local_800, "eq_base as default.\n", 0x14);
                    local_800[0x14] = 0;
                    FUN_00047ab4(3, local_820, 0);
                }
            } else {
                uVar3 = FUN_00039b88(iVar5);
                *(undefined4 *)(param_2 + iVar5 * 4) = uVar3;
            }
        }
        iVar5 = iVar5 + 1;
    } while (iVar5 != 0x10);
    return iVar1;
}

undefined4 FUN_00033e28(int param_1)

{
    int *piVar1;
    int iVar2;
    undefined4 uVar3;
    undefined4 uVar4;
    undefined4 uVar5;
    char *pcVar6;
    char *pcVar7;
    char local_818[16];
    undefined4 local_808;
    char acStack_804[4];
    undefined4 local_800;
    char acStack_7fc[2024];

    pcVar6 = local_818;
    if (DAT_0009e31c < 5) {
        if (1 < param_1 - 0xa0U) {
        LAB_00033e58:
            FUN_00031794(0x14, 0xff);
            if (DAT_0009e31c < 4) {
                return 0xffffffff;
            }
            pcVar7 = "Sweep type error, exit.\n";
            goto LAB_00033f70;
        }
    } else {
        snprintf(local_818, 0x800, "[DEBUG] Sweep init, sweep_type = 0x%X.\n",
                 param_1);
        FUN_00047ab4(4, local_818, 0);
        if (1 < param_1 - 0xa0U)
            goto LAB_00033e58;
        if (4 < DAT_0009e31c) {
            builtin_strncpy(local_818, "[DEBUG] Allocate", 0x10);
            local_808._0_1_ = ' ';
            local_808._1_1_ = 'm';
            local_808._2_1_ = 'e';
            local_808._3_1_ = 'm';
            builtin_strncpy(acStack_804, "ory ", 4);
            local_800._0_1_ = 'f';
            local_800._1_1_ = 'o';
            local_800._2_1_ = 'r';
            local_800._3_1_ = ' ';
            builtin_strncpy(acStack_7fc, "sweep.\n", 8);
            FUN_00047ab4(4, local_818, 0);
        }
    }
    if ((DAT_001aea6c == (int *)0x0) &&
        (DAT_001aea6c = (int *)calloc(0x2148, 1), DAT_001aea6c == (int *)0x0)) {
        FUN_00031794(0xd, 0xff);
        if (3 < DAT_0009e31c) {
            local_818[0] = 'F';
            local_818[1] = 'a';
            local_818[2] = 'i';
            local_818[3] = 'l';
            local_818[4] = ' ';
            local_818[5] = 't';
            local_818[6] = 'o';
            local_818[7] = ' ';
            local_818[8] = 'a';
            local_818[9] = 'l';
            local_818[10] = 'l';
            local_818[0xb] = 'o';
            local_818[0xc] = 'c';
            local_818[0xd] = 'a';
            local_818[0xe] = 't';
            local_818[0xf] = 'e';
            pcVar7 = " memory for sweep ctxt.\n";
            pcVar6 = (char *)&local_808;
        LAB_00033f70:
            uVar3 = *(undefined4 *)(pcVar7 + 4);
            uVar4 = *(undefined4 *)(pcVar7 + 8);
            uVar5 = *(undefined4 *)(pcVar7 + 0xc);
            *(undefined4 *)pcVar6 = *(undefined4 *)pcVar7;
            *(undefined4 *)((int)pcVar6 + 4) = uVar3;
            *(undefined4 *)((int)pcVar6 + 8) = uVar4;
            *(undefined4 *)((int)pcVar6 + 0xc) = uVar5;
            uVar3 = *(undefined4 *)(pcVar7 + 0x14);
            uVar4 = *(undefined4 *)(pcVar7 + 0x18);
            *(undefined4 *)((int)pcVar6 + 0x10) =
                *(undefined4 *)(pcVar7 + 0x10);
            *(undefined4 *)((int)pcVar6 + 0x14) = uVar3;
            *(char *)((int)pcVar6 + 0x18) = (char)uVar4;
            FUN_00047ab4(3, local_818, 0);
            return 0xffffffff;
        }
    } else {
        piVar1 = DAT_001aea6c;
        *DAT_001aea6c = param_1;
        piVar1[1] = 0x477fff00;
        iVar2 = FUN_0003c4fc(0);
        if (iVar2 == 0) {
            if (3 < DAT_0009e31c) {
                builtin_strncpy(local_818, "board adapt fail", 0x10);
                local_808._0_1_ = 'e';
                local_808._1_1_ = 'd';
                local_808._2_1_ = ',';
                local_808._3_1_ = ' ';
                builtin_strncpy(acStack_804, "exit", 4);
                local_800 = CONCAT22(local_800._2_2_, 10);
                FUN_00047ab4(3, local_818, 0);
            }
        } else {
            if (DAT_001aea70 != 0) {
                DAT_001aea6c[2] = DAT_001aea70;
                return 0;
            }
            FUN_00031794(0xf, 0xff);
            if (3 < DAT_0009e31c) {
                snprintf(local_818, 0x800, "Unknown miner type(%d).\n", 1);
                FUN_00047ab4(3, local_818, 0);
            }
        }
    }
    return 0xffffffff;
}

int FUN_0003405c(undefined4 *param_1, undefined4 param_2, undefined4 param_3)

{
    int iVar1;
    int iVar2;
    int iVar3;
    int iVar4;
    uint *puVar5;
    uint *puVar6;
    int *piVar7;
    uint *puVar8;
    uint uVar9;
    int iVar10;
    uint uVar11;
    int iVar12;
    uint *puVar13;
    int *piVar14;
    uint local_83c;
    uint local_82c;
    undefined4 local_828;
    char acStack_824[2048];

    if (3 < DAT_0009e31c) {
        local_828 = CONCAT22(local_828._2_2_, 10);
        FUN_00047ec8(3, &local_828, 0);
        if (3 < DAT_0009e31c) {
            snprintf((char *)&local_828, 0x800,
                     ">>>> Get ideal hash rate, round %d.\n", param_3);
            FUN_00047ab4(3, &local_828, 0);
        }
    }
    iVar1 = FUN_000385ec(param_2);
    if (iVar1 == 0) {
        FUN_00038064();
        piVar7 = (int *)*param_1;
        iVar2 = *piVar7;
        if (piVar7[4] < iVar2) {
            *piVar7 = piVar7[4];
            iVar2 = *(int *)*param_1;
        }
        FUN_0001a0f0(iVar2);
        FUN_00030cac(DAT_001aea6c + 0xc, DAT_000a0d79, DAT_0009c298,
                     *(undefined1 *)(*(int *)(DAT_001aea6c + 8) + 8));
        iVar2 = FUN_0001a1c0();
        iVar3 = FUN_0001a1b0();
        if ((iVar2 != iVar3) && (iVar2 = FUN_0001a3b8(), iVar2 != 0)) {
            return iVar2;
        }
        uVar11 = 0xffffff;
        puVar8 = (uint *)(DAT_001aea6c + 8);
        puVar5 = (uint *)(DAT_001aea6c + 5000);
        puVar6 = puVar8;
        piVar7 = DAT_000a0d68;
        do {
            piVar7 = piVar7 + 1;
            puVar13 = puVar6 + 0x4e;
            if (*piVar7 == 1) {
                do {
                    puVar6 = puVar6 + 1;
                    if (*puVar6 <= uVar11) {
                        uVar11 = *puVar6;
                    }
                } while (puVar6 != puVar13);
            }
            puVar6 = puVar13;
        } while (puVar13 != puVar5);
        if (3 < DAT_0009e31c) {
            snprintf((char *)&local_828, 0x800, "chain = %d, freq_min = %d\n",
                     0xff, uVar11);
            FUN_00047ab4(3, &local_828, 0);
            puVar8 = (uint *)(DAT_001aea6c + 8);
            puVar5 = (uint *)(DAT_001aea6c + 5000);
        }
        uVar9 = 0;
        piVar7 = DAT_000a0d68;
        do {
            piVar7 = piVar7 + 1;
            puVar6 = puVar8 + 0x4e;
            if (*piVar7 == 1) {
                do {
                    puVar8 = puVar8 + 1;
                    if (uVar9 < *puVar8) {
                        uVar9 = *puVar8;
                    }
                } while (puVar8 != puVar6);
            }
            puVar8 = puVar6;
        } while (puVar6 != puVar5);
        if (3 < DAT_0009e31c) {
            snprintf((char *)&local_828, 0x800, "chain = %d, freq_max = %d\n",
                     0xff, uVar9);
            FUN_00047ab4(3, &local_828, 0);
        }
        local_82c = uVar9;
        FUN_00022e9c(uVar11, 8, 0x14);
        iVar2 = 0;
        do {
            while (DAT_000a0d68[iVar2 + 1] == 1) {
                iVar3 = iVar2 + 1;
                FUN_00037bd4(iVar2);
                iVar2 = iVar3;
                if (iVar3 == 0x10)
                    goto LAB_000342c8;
            }
            iVar2 = iVar2 + 1;
        } while (iVar2 != 0x10);
    LAB_000342c8:
        FUN_00039138(&local_82c);
        iVar3 = FUN_00037770();
        piVar7 = DAT_000a0d68;
        iVar2 = 0;
        do {
            while (piVar7[iVar2 + 1] != 1) {
                iVar2 = iVar2 + 1;
                if (iVar2 == 0x10)
                    goto LAB_0003431c;
            }
            iVar10 = iVar2 + 1;
            FUN_0003883c(iVar2, iVar3);
            piVar7 = DAT_000a0d68;
            iVar2 = iVar10;
        } while (iVar10 != 0x10);
    LAB_0003431c:
        local_83c = DAT_0009e31c;
        iVar10 = 0;
        iVar12 = 0xc;
        iVar2 = 0;
        while (true) {
            piVar14 = piVar7 + iVar10 + 1;
            piVar7 = DAT_000a0d68;
            if (*piVar14 == 1) {
                iVar4 = 0;
                piVar7 = (int *)(DAT_001aea6c + iVar12 + -4);
                piVar14 = (int *)(iVar3 + 0x1d2c70 + iVar12);
                do {
                    piVar7 = piVar7 + 1;
                    piVar14 = piVar14 + 1;
                    iVar4 = iVar4 + (uint)(*piVar14 * *piVar7) / 8000;
                } while (piVar7 != (int *)(DAT_001aea6c + iVar12 + 0x134));
                iVar2 = iVar2 + iVar4;
                *(int *)(DAT_001aea6c + (iVar10 + 0x4e2) * 4 + 4) = iVar4;
                piVar7 = DAT_000a0d68;
                if (3 < local_83c) {
                    snprintf((char *)&local_828, 0x800,
                             "chain = %d, ideal_hash_rate_GH = %d\n", iVar10,
                             iVar4);
                    FUN_00047ab4(3, &local_828, 0);
                    piVar7 = DAT_000a0d68;
                    local_83c = DAT_0009e31c;
                }
            }
            DAT_000a0d68 = piVar7;
            if (iVar10 == 0xf)
                break;
            iVar12 = iVar12 + 0x138;
            iVar10 = iVar10 + 1;
        }
        if (3 < local_83c) {
            snprintf((char *)&local_828, 0x800, "hash_rate_total_GH = %d\n",
                     iVar2);
            FUN_00047ab4(3, &local_828, 0);
        }
    } else if (3 < DAT_0009e31c) {
        local_828._0_1_ = 'B';
        local_828._1_1_ = 'o';
        local_828._2_1_ = 'a';
        local_828._3_1_ = 'r';
        builtin_strncpy(acStack_824, "d init failed.\n", 0x10);
        FUN_00047ab4(3, &local_828, 0);
        return iVar1;
    }
    return iVar1;
}

FILE *FUN_000344e0(void)

{
    FILE *__stream;
    char local_808[2048];

    __stream = fopen64("/config/scanfreqdone", "r");
    if (4 < DAT_0009e31c) {
        builtin_strncpy(local_808, "[DEBUG] Check if sweep is already done.\n",
                        0x28);
        local_808[0x28] = 0;
        FUN_00047ab4(4, local_808, 0);
    }
    if (__stream != (FILE *)0x0) {
        fclose(__stream);
        __stream = (FILE *)0x1;
    }
    return __stream;
}

/* WARNING: Type propagation algorithm not settling */

int FUN_00034568(undefined4 param_1)

{
    int iVar1;
    undefined1 *puVar2;
    uint *puVar3;
    int *piVar4;
    undefined4 uVar5;
    int iVar6;
    int *piVar7;
    undefined4 *puVar8;
    uint uVar9;
    int iVar10;
    undefined4 *puVar11;
    int iVar12;
    int iVar13;
    undefined1 *puVar14;
    int *piVar15;
    uint uVar16;
    int iVar17;
    uint uVar18;
    int *piVar19;
    char *pcVar20;
    uint *puVar21;
    bool bVar22;
    float fVar23;
    double dVar24;
    uint uVar25;
    int *local_107c;
    int local_1064;
    pthread_t local_1054;
    int local_1050;
    int local_104c;
    undefined1 auStack_1048[4];
    uint local_1044;
    code *local_1040;
    int local_103c[16];
    int local_ffc[17];
    undefined4 local_fb8;
    undefined4 local_fb4;
    undefined4 local_fb0;
    undefined4 local_fac;
    undefined4 local_fa8;
    undefined1 local_fa4;
    undefined1 local_fa3;
    undefined4 local_fa0;
    undefined4 local_f9c;
    undefined4 local_f98;
    undefined4 local_f94;
    undefined4 local_f90;
    undefined4 local_f8c;
    undefined1 auStack_f88[624];
    undefined1 auStack_d18[1248];
    undefined4 local_838;
    uint local_834;
    code *local_830;
    undefined4 uStack_82c;
    undefined4 local_828;
    undefined4 uStack_824;
    undefined4 uStack_820;
    undefined4 uStack_81c;
    uint local_818;
    char acStack_814[2016];

    iVar1 = FUN_000344e0();
    if (iVar1 != 0) {
        if (3 < DAT_0009e31c) {
            local_838._0_1_ = 'S';
            local_838._1_1_ = 'w';
            local_838._2_1_ = 'e';
            local_838._3_1_ = 'e';
            local_834._0_1_ = 'p';
            local_834._1_1_ = ' ';
            local_834._2_1_ = 'a';
            local_834._3_1_ = 'l';
            local_830 = (code *)0x64616572;
            uStack_82c._0_1_ = 'y';
            uStack_82c._1_1_ = ' ';
            uStack_82c._2_1_ = 'd';
            uStack_82c._3_1_ = 'o';
            local_828._0_1_ = 'n';
            local_828._1_1_ = 'e';
            local_828._2_1_ = ',';
            local_828._3_1_ = ' ';
            uStack_824._0_1_ = 'e';
            uStack_824._1_1_ = 'x';
            uStack_824._2_1_ = 'i';
            uStack_824._3_1_ = 't';
            uStack_820 = CONCAT13(uStack_820._3_1_, 0xa2e);
            FUN_00047ab4(3, &local_838, 0);
            return 0;
        }
        return 0;
    }
    FUN_0004a60c(&local_1050);
    DAT_001aea74 = 2;
    iVar1 = FUN_00033e28(param_1);
    if (iVar1 != 0) {
        DAT_001aea74 = 1;
        return iVar1;
    }
    if (3 < DAT_0009e31c) {
        local_838._0_1_ = 'S';
        local_838._1_1_ = 'w';
        local_838._2_1_ = 'e';
        local_838._3_1_ = 'e';
        local_834._0_1_ = 'p';
        local_834._1_1_ = ' ';
        local_834._2_1_ = 's';
        local_834._3_1_ = 't';
        local_830 = (code *)0x2e747261;
        uStack_82c._0_1_ = '.';
        uStack_82c._1_1_ = '.';
        uStack_82c._2_1_ = '\n';
        uStack_82c._3_1_ = '\0';
        FUN_00047ab4(3, &local_838, 0);
        puVar11 = *(undefined4 **)(DAT_001aea6c + 8);
        if (DAT_0009e31c < 4) {
        LAB_00034e70:
            if (DAT_0009e31c < 4) {
            LAB_00034f94:
                if (DAT_0009e31c < 4) {
                LAB_00035098:
                    if (3 < DAT_0009e31c) {
                        snprintf((char *)&local_838, 0x800, "%-40s : %d\n",
                                 "pm_read_freq", puVar11[0xb]);
                        FUN_00047ec8(3, &local_838, 0);
                        if (3 < DAT_0009e31c) {
                            snprintf((char *)&local_838, 0x800, "%-40s : %d\n",
                                     "pm_grade_step", puVar11[0xc]);
                            FUN_00047ec8(3, &local_838, 0);
                        LAB_00035118:
                            if (3 < DAT_0009e31c) {
                                snprintf((char *)&local_838, 0x800,
                                         "%-40s : %d\n", "r2_back_step",
                                         puVar11[0xd]);
                                FUN_00047ec8(3, &local_838, 0);
                                if (3 < DAT_0009e31c) {
                                    local_838._0_2_ = 10;
                                    FUN_00047ec8(3, &local_838, 0);
                                }
                            }
                        }
                    }
                } else {
                    snprintf((char *)&local_838, 0x800, "%-40s : %.2f\n",
                             "nonce_rate_ideal_threshold",
                             (double)(float)puVar11[6]);
                    FUN_00047ec8(3, &local_838, 0);
                    if (3 < DAT_0009e31c) {
                        snprintf((char *)&local_838, 0x800, "%-40s : %s\n",
                                 "pattern_path", puVar11[8]);
                        FUN_00047ec8(3, &local_838, 0);
                    LAB_00035018:
                        if (DAT_0009e31c < 4)
                            goto LAB_00035118;
                        snprintf((char *)&local_838, 0x800, "%-40s : %d\n",
                                 "fan_pwm", puVar11[9]);
                        FUN_00047ec8(3, &local_838, 0);
                        if (3 < DAT_0009e31c) {
                            snprintf((char *)&local_838, 0x800, "%-40s : %d\n",
                                     "pm_read_voltage", puVar11[10]);
                            FUN_00047ec8(3, &local_838, 0);
                            goto LAB_00035098;
                        }
                    }
                }
            } else {
                pcVar20 = "true";
                if (puVar11[3] == 0) {
                    pcVar20 = "false";
                }
                snprintf((char *)&local_838, 0x800, "%-40s : %s\n",
                         "is_board_init_with_power_off", pcVar20);
                FUN_00047ec8(3, &local_838, 0);
                if (3 < DAT_0009e31c) {
                    snprintf((char *)&local_838, 0x800, "%-40s : %.4f\n",
                             "hw_threshold", (double)(float)puVar11[4]);
                    FUN_00047ec8(3, &local_838, 0);
                LAB_00034f0c:
                    if (DAT_0009e31c < 4)
                        goto LAB_00035018;
                    snprintf((char *)&local_838, 0x800, "%-40s : %.2f\n",
                             "nonce_rate_threshold", (double)(float)puVar11[5]);
                    FUN_00047ec8(3, &local_838, 0);
                    if (3 < DAT_0009e31c) {
                        snprintf((char *)&local_838, 0x800, "%-40s : %.2f\n",
                                 "nonce_rate_ideal_threshold",
                                 (double)(float)puVar11[6]);
                        FUN_00047ec8(3, &local_838, 0);
                        goto LAB_00034f94;
                    }
                }
            }
        } else {
            snprintf((char *)&local_838, 0x800, "%-40s : %s\n", "proj_type",
                     *puVar11);
            FUN_00047ec8(3, &local_838, 0);
            if (3 < DAT_0009e31c) {
                snprintf((char *)&local_838, 0x800, "%-40s : %d\n",
                         "work_mode_count", puVar11[1]);
                FUN_00047ec8(3, &local_838, 0);
                if (DAT_0009e31c < 4)
                    goto LAB_00034f0c;
                pcVar20 = "false";
                if (*(char *)(puVar11 + 2) != '\0') {
                    pcVar20 = "true";
                }
                snprintf((char *)&local_838, 0x800, "%-40s : %s\n",
                         "is_inc_freq_with_high_vol", pcVar20);
                FUN_00047ec8(3, &local_838, 0);
                if (3 < DAT_0009e31c) {
                    pcVar20 = "false";
                    if (*(char *)((int)puVar11 + 9) != '\0') {
                        pcVar20 = "true";
                    }
                    snprintf((char *)&local_838, 0x800, "%-40s : %s\n",
                             "is_inc_freq_with_high_vol_runtime", pcVar20);
                    FUN_00047ec8(3, &local_838, 0);
                    goto LAB_00034e70;
                }
            }
        }
    }
    iVar1 = *(int *)(DAT_001aea6c + 8);
    if (*(int *)(iVar1 + 4) != 0) {
        iVar17 = 0;
        uVar16 = 0;
        do {
            piVar15 = (int *)(*(int *)(iVar1 + 0x38) + iVar17);
            if (3 < DAT_0009e31c) {
                snprintf((char *)&local_838, 0x800, "[work mode %d]\n", uVar16);
                FUN_00047ec8(3, &local_838, 0);
                if (DAT_0009e31c < 4) {
                LAB_000347dc:
                    if (DAT_0009e31c < 4) {
                    LAB_000348dc:
                        if (DAT_0009e31c < 4) {
                        LAB_000349dc:
                            if (DAT_0009e31c < 4) {
                            LAB_00034adc:
                                if (3 < DAT_0009e31c) {
                                    snprintf(
                                        (char *)&local_838, 0x800,
                                        "%-40s : %d\n", "freq_basic_retry",
                                        *(undefined4 *)(piVar15[1] + 0x24));
                                    FUN_00047ec8(3, &local_838, 0);
                                    if (3 < DAT_0009e31c) {
                                        snprintf((char *)&local_838, 0x800,
                                                 "%-40s : %d\n",
                                                 "hash_rate_target",
                                                 *(undefined4 *)piVar15[2]);
                                        FUN_00047ec8(3, &local_838, 0);
                                    LAB_00034b5c:
                                        if (3 < DAT_0009e31c) {
                                            snprintf(
                                                (char *)&local_838, 0x800,
                                                "%-40s : %d\n",
                                                "hash_rate_for_vol_inc",
                                                *(undefined4 *)(piVar15[2] +
                                                                4));
                                            FUN_00047ec8(3, &local_838, 0);
                                            if (3 < DAT_0009e31c) {
                                                snprintf(
                                                    (char *)&local_838, 0x800,
                                                    "%-40s : %d\n",
                                                    "hash_rate_rank_step",
                                                    *(undefined4 *)(piVar15[2] +
                                                                    8));
                                                FUN_00047ec8(3, &local_838, 0);
                                            }
                                        }
                                    }
                                }
                            } else {
                                snprintf((char *)&local_838, 0x800,
                                         "%-40s : %d\n", "freq_basic_step",
                                         *(undefined4 *)(piVar15[1] + 0x14));
                                FUN_00047ec8(3, &local_838, 0);
                                if (3 < DAT_0009e31c) {
                                    snprintf(
                                        (char *)&local_838, 0x800,
                                        "%-40s : %d\n", "freq_pm_grade_step",
                                        *(undefined4 *)(piVar15[1] + 0x18));
                                    FUN_00047ec8(3, &local_838, 0);
                                LAB_00034a5c:
                                    if (DAT_0009e31c < 4)
                                        goto LAB_00034b5c;
                                    snprintf(
                                        (char *)&local_838, 0x800,
                                        "%-40s : %d\n",
                                        "freq_pm_grade_bad_asic_dec",
                                        *(undefined4 *)(piVar15[1] + 0x1c));
                                    FUN_00047ec8(3, &local_838, 0);
                                    if (3 < DAT_0009e31c) {
                                        snprintf(
                                            (char *)&local_838, 0x800,
                                            "%-40s : %d\n",
                                            "freq_tempeture_dec",
                                            *(undefined4 *)(piVar15[1] + 0x20));
                                        FUN_00047ec8(3, &local_838, 0);
                                        goto LAB_00034adc;
                                    }
                                }
                            }
                        } else {
                            snprintf((char *)&local_838, 0x800, "%-40s : %d\n",
                                     "freq_threshold",
                                     *(undefined4 *)(piVar15[1] + 4));
                            FUN_00047ec8(3, &local_838, 0);
                            if (3 < DAT_0009e31c) {
                                snprintf((char *)&local_838, 0x800,
                                         "%-40s : %d\n",
                                         "freq_serial_threshold",
                                         *(undefined4 *)(piVar15[1] + 8));
                                FUN_00047ec8(3, &local_838, 0);
                            LAB_0003495c:
                                if (DAT_0009e31c < 4)
                                    goto LAB_00034a5c;
                                snprintf((char *)&local_838, 0x800,
                                         "%-40s : %d\n", "freq_diff_threshold",
                                         *(undefined4 *)(piVar15[1] + 0xc));
                                FUN_00047ec8(3, &local_838, 0);
                                if (3 < DAT_0009e31c) {
                                    snprintf(
                                        (char *)&local_838, 0x800,
                                        "%-40s : %d\n",
                                        "freq_high_vol_threshold_dec",
                                        *(undefined4 *)(piVar15[1] + 0x10));
                                    FUN_00047ec8(3, &local_838, 0);
                                    goto LAB_000349dc;
                                }
                            }
                        }
                    } else {
                        snprintf((char *)&local_838, 0x800, "%-40s : %d\n",
                                 "voltage_apply_max",
                                 *(undefined4 *)(*piVar15 + 0x10));
                        FUN_00047ec8(3, &local_838, 0);
                        if (3 < DAT_0009e31c) {
                            snprintf((char *)&local_838, 0x800, "%-40s : %d\n",
                                     "voltage_unbalance_inc",
                                     *(undefined4 *)(*piVar15 + 0x14));
                            FUN_00047ec8(3, &local_838, 0);
                        LAB_0003485c:
                            if (DAT_0009e31c < 4)
                                goto LAB_0003495c;
                            snprintf((char *)&local_838, 0x800, "%-40s : %d\n",
                                     "voltage_r2_inc",
                                     *(undefined4 *)(*piVar15 + 0x18));
                            FUN_00047ec8(3, &local_838, 0);
                            if (3 < DAT_0009e31c) {
                                snprintf((char *)&local_838, 0x800,
                                         "%-40s : %d\n", "freq_base",
                                         *(undefined4 *)piVar15[1]);
                                FUN_00047ec8(3, &local_838, 0);
                                goto LAB_000348dc;
                            }
                        }
                    }
                } else {
                    snprintf((char *)&local_838, 0x800, "%-40s : %d\n",
                             "voltage_base", *(undefined4 *)*piVar15);
                    FUN_00047ec8(3, &local_838, 0);
                    if (3 < DAT_0009e31c) {
                        snprintf((char *)&local_838, 0x800, "%-40s : %d\n",
                                 "voltage_step", *(undefined4 *)(*piVar15 + 4));
                        FUN_00047ec8(3, &local_838, 0);
                        if (DAT_0009e31c < 4)
                            goto LAB_0003485c;
                        snprintf((char *)&local_838, 0x800, "%-40s : %d\n",
                                 "voltage_threshold",
                                 *(undefined4 *)(*piVar15 + 8));
                        FUN_00047ec8(3, &local_838, 0);
                        if (3 < DAT_0009e31c) {
                            snprintf((char *)&local_838, 0x800, "%-40s : %d\n",
                                     "voltage_apply_inc",
                                     *(undefined4 *)(*piVar15 + 0xc));
                            FUN_00047ec8(3, &local_838, 0);
                            goto LAB_000347dc;
                        }
                    }
                }
            }
            uVar16 = uVar16 + 1;
            iVar17 = iVar17 + 0xc;
            iVar1 = *(int *)(DAT_001aea6c + 8);
        } while (uVar16 < *(uint *)(iVar1 + 4));
    }
    iVar1 = FUN_000371e8(param_1, *(undefined4 *)(iVar1 + 0x20));
    if (iVar1 != 0) {
        DAT_001aea74 = 1;
        FUN_00033b7c();
        return iVar1;
    }
    pthread_create(&local_1054, (pthread_attr_t *)0x0,
                   (__start_routine *)&DAT_00033988, (void *)0x0);
    pthread_detach(local_1054);
    iVar1 = FUN_00024b88();
    if (iVar1 == 0) {
        iVar1 = FUN_00017308();
        *(float *)(DAT_001aea6c + 4) = (float)(longlong)iVar1;
        FUN_00021f2c();
        usleep(10000);
        FUN_00013ee8(*(undefined1 *)(*(int *)(DAT_001aea6c + 8) + 0x24));
        FUN_0001a0f0(*(undefined4 *)(*(int *)(DAT_001aea6c + 8) + 0x28));
        FUN_00030770(0xff, DAT_000a0d79,
                     *(undefined4 *)(*(int *)(DAT_001aea6c + 8) + 0x2c),
                     *(undefined1 *)(*(int *)(DAT_001aea6c + 8) + 8));
        iVar1 = FUN_0001a1c0();
        iVar17 = FUN_0001a1b0();
        if ((iVar1 == iVar17) || (iVar1 = FUN_0001a3b8(), iVar1 == 0)) {
            FUN_00038eec(DAT_001aea6c + 0x1498, DAT_001aea6c + 0x1708,
                         *(undefined4 *)(*(int *)(DAT_001aea6c + 8) + 0x30));
            iVar1 = *(int *)(DAT_001aea6c + 8);
            uVar16 = DAT_0009e31c;
            if (*(int *)(iVar1 + 4) != 0) {
                uVar18 = 0;
                do {
                    iVar1 = *(int *)(iVar1 + 0x38);
                    if (3 < uVar16) {
                        snprintf((char *)&local_838, 0x800,
                                 "Do single work mode pattern test, work_mode "
                                 "= %d.\n",
                                 uVar18);
                        FUN_00047ab4(3, &local_838, 0);
                    }
                    memset(local_ffc, 0, 0x7c4);
                    iVar17 = DAT_001aea6c;
                    memset((void *)(DAT_001aea6c + 0x13d0), 0, 0x40);
                    memset((void *)(iVar17 + 0x1410), 0, 0x40);
                    iVar10 = iVar17 + uVar18 * 4;
                    memset((void *)(iVar17 + 0x1450), 0, 0x40);
                    *(undefined4 *)(iVar10 + 0x1490) = 0;
                    *(undefined4 *)(iVar10 + 0x1494) = 0;
                    iVar17 = FUN_0003997c();
                    if (iVar17 != 0) {
                        if (3 < DAT_0009e31c) {
                            local_838._0_1_ = 'F';
                            local_838._1_1_ = 'r';
                            local_838._2_1_ = 'e';
                            local_838._3_1_ = 'q';
                            local_834._0_1_ = ' ';
                            local_834._1_1_ = 't';
                            local_834._2_1_ = 'u';
                            local_834._3_1_ = 'n';
                            local_830 = (code *)0x20676e69;
                            uStack_82c._0_1_ = 'b';
                            uStack_82c._1_1_ = 'a';
                            uStack_82c._2_1_ = 's';
                            uStack_82c._3_1_ = 'i';
                            local_828._0_1_ = 'c';
                            local_828._1_1_ = ' ';
                            local_828._2_1_ = 'i';
                            local_828._3_1_ = 'n';
                            uStack_824._0_1_ = 'i';
                            uStack_824._1_1_ = 't';
                            uStack_824._2_1_ = ' ';
                            uStack_824._3_1_ = 'f';
                            uStack_820._0_1_ = 'a';
                            uStack_820._1_1_ = 'i';
                            uStack_820._2_1_ = 'l';
                            uStack_820._3_1_ = 'e';
                            uStack_81c._0_1_ = 'd';
                            uStack_81c._1_1_ = '.';
                            uStack_81c._2_1_ = '\n';
                            uStack_81c._3_1_ = '\0';
                            FUN_00047ab4(3, &local_838, 0);
                        }
                    LAB_00035340:
                        FUN_00039ab4();
                        FUN_0003b4ec();
                        if (DAT_0009e31c < 4)
                            goto LAB_00035354;
                        local_838._0_1_ = 'D';
                        local_838._1_1_ = 'o';
                        local_838._2_1_ = ' ';
                        local_838._3_1_ = 's';
                        local_834._0_1_ = 'i';
                        local_834._1_1_ = 'n';
                        local_834._2_1_ = 'g';
                        local_834._3_1_ = 'l';
                        local_830 = (code *)0x6f772065;
                        uStack_82c._0_1_ = 'r';
                        uStack_82c._1_1_ = 'k';
                        uStack_82c._2_1_ = ' ';
                        uStack_82c._3_1_ = 'm';
                        local_828._0_1_ = 'o';
                        local_828._1_1_ = 'd';
                        local_828._2_1_ = 'e';
                        local_828._3_1_ = ' ';
                        uStack_824._0_1_ = 'p';
                        uStack_824._1_1_ = 'a';
                        uStack_824._2_1_ = 't';
                        uStack_824._3_1_ = 't';
                        uStack_820._0_1_ = 'e';
                        uStack_820._1_1_ = 'r';
                        uStack_820._2_1_ = 'n';
                        uStack_820._3_1_ = ' ';
                        uStack_81c._0_1_ = 't';
                        uStack_81c._1_1_ = 'e';
                        uStack_81c._2_1_ = 's';
                        uStack_81c._3_1_ = 't';
                        local_818._0_1_ = ' ';
                        local_818._1_1_ = 'f';
                        local_818._2_1_ = 'a';
                        local_818._3_1_ = 'i';
                        builtin_strncpy(acStack_814, "led, exit.\n", 0xc);
                        FUN_00047ab4(3, &local_838, 0);
                        uVar16 = DAT_0009e31c;
                        break;
                    }
                    puVar11 = (undefined4 *)(iVar1 + uVar18 * 0xc);
                    memset(local_103c, 0, 0x40);
                    iVar17 = FUN_00033c2c(puVar11, local_103c);
                    piVar15 = DAT_000a0d68;
                    if (iVar17 != 0)
                        goto LAB_00035340;
                    uVar16 = 0;
                    iVar17 = 0;
                    piVar7 = local_103c;
                    piVar19 = DAT_000a0d68;
                    do {
                        piVar19 = piVar19 + 1;
                        piVar4 = piVar7 + 1;
                        if (*piVar19 == 1) {
                            iVar17 = iVar17 + 1;
                            uVar16 = uVar16 + *piVar7;
                        }
                        piVar7 = piVar4;
                    } while (piVar4 != local_ffc);
                    if (iVar17 != 0) {
                        uVar16 = FUN_00077070();
                    }
                    uVar9 = *(uint *)(puVar11[1] + 0x24);
                    if (uVar16 < uVar9) {
                        if (3 < DAT_0009e31c) {
                            snprintf((char *)&local_838, 0x800,
                                     "freq_avg = %d, freq_basic_retry = %d, "
                                     "is_need_retry = %d\n",
                                     uVar16, uVar9);
                            FUN_00047ab4(3, &local_838, 0);
                            piVar15 = DAT_000a0d68;
                        }
                        uVar16 =
                            (uint)(*(int *)(puVar11[2] + 8) *
                                   *(int *)(*(int *)(DAT_001aea6c + 8) + 0x34) *
                                   1000) >>
                            1;
                        uVar9 =
                            FUN_00077070(uVar16 / 0x3a59,
                                         *(undefined1 *)((int)piVar15 + 0x3287),
                                         uVar16 * 0x46332d0f);
                        piVar15 = *(int **)(iVar1 + uVar18 * 0xc);
                        *piVar15 = *piVar15 + piVar15[6];
                        uVar16 = DAT_0009e31c;
                        *(uint *)(puVar11[1] + 4) =
                            *(int *)(puVar11[1] + 4) + (uVar9 / 5) * -5;
                        if (3 < uVar16) {
                            snprintf((char *)&local_838, 0x800,
                                     "voltage_base = %d\n",
                                     **(undefined4 **)(iVar1 + uVar18 * 0xc));
                            FUN_00047ab4(3, &local_838, 0);
                            if (3 < DAT_0009e31c) {
                                snprintf((char *)&local_838, 0x800,
                                         "freq_threshold = %d\n",
                                         *(undefined4 *)(puVar11[1] + 4));
                                FUN_00047ab4(3, &local_838, 0);
                            }
                        }
                        memset(local_103c, 0, 0x40);
                        iVar17 = FUN_00033c2c(puVar11, local_103c);
                        piVar15 = DAT_000a0d68;
                        if (iVar17 != 0)
                            goto LAB_00035340;
                    } else if (3 < DAT_0009e31c) {
                        snprintf((char *)&local_838, 0x800,
                                 "freq_avg = %d, freq_basic_retry = %d, "
                                 "is_need_retry = %d\n",
                                 uVar16, uVar9);
                        FUN_00047ab4(3, &local_838, 0);
                        piVar15 = DAT_000a0d68;
                    }
                    iVar17 = 0;
                    do {
                        if (piVar15[iVar17 + 1] == 1) {
                            fVar23 = (float)FUN_00039bec(iVar17);
                            iVar10 = DAT_001aea6c + iVar17 * 4;
                            if (*(float *)(iVar10 + 0x13d0) < fVar23) {
                                *(float *)(iVar10 + 0x13d0) = fVar23;
                            }
                        }
                        iVar17 = iVar17 + 1;
                        piVar15 = DAT_000a0d68;
                    } while (iVar17 != 0x10);
                    if (3 < DAT_0009e31c) {
                        local_838._0_1_ = 'B';
                        local_838._1_1_ = 'u';
                        local_838._2_1_ = 'i';
                        local_838._3_1_ = 'l';
                        local_834._0_1_ = 'd';
                        local_834._1_1_ = ' ';
                        local_834._2_1_ = 't';
                        local_834._3_1_ = 'u';
                        local_830 = (code *)0x676e696e;
                        uStack_82c._0_1_ = ' ';
                        uStack_82c._1_1_ = 'P';
                        uStack_82c._2_1_ = 'M';
                        uStack_82c._3_1_ = ' ';
                        local_828._0_1_ = 'g';
                        local_828._1_1_ = 'r';
                        local_828._2_1_ = 'a';
                        local_828._3_1_ = 'd';
                        uStack_824._0_1_ = 'e';
                        uStack_824._1_1_ = ' ';
                        uStack_824._2_1_ = 'c';
                        uStack_824._3_1_ = 'o';
                        uStack_820._0_1_ = 'n';
                        uStack_820._1_1_ = 'f';
                        uStack_820._2_1_ = 'i';
                        uStack_820._3_1_ = 'g';
                        uStack_81c._0_3_ = 0xa2e;
                        FUN_00047ab4(3, &local_838, 0);
                    }
                    iVar17 = DAT_001aea6c;
                    iVar12 = 4;
                    iVar10 = **(int **)(iVar1 + uVar18 * 0xc);
                    piVar15 = DAT_000a0d68;
                    do {
                        piVar15 = piVar15 + 1;
                        if (*piVar15 == 1) {
                            *(undefined4 *)((int)local_ffc + iVar12) =
                                *(undefined4 *)((int)local_103c + iVar12 + -4);
                        }
                        iVar12 = iVar12 + 4;
                    } while (iVar12 != 0x44);
                    local_fb8 = *(undefined4 *)(puVar11[1] + 4);
                    local_fb4 = *(undefined4 *)(puVar11[1] + 8);
                    local_fb0 = *(undefined4 *)(puVar11[1] + 0xc);
                    local_fac = *(undefined4 *)(puVar11[1] + 0x18);
                    local_fa8 = *(undefined4 *)(puVar11[1] + 0x1c);
                    local_fa4 = *(undefined1 *)(*(int *)(DAT_001aea6c + 8) + 8);
                    local_fa3 = *(undefined1 *)(*(int *)(DAT_001aea6c + 8) + 9);
                    local_fa0 =
                        *(undefined4 *)(*(int *)(DAT_001aea6c + 8) + 0xc);
                    local_f9c =
                        *(undefined4 *)(*(int *)(DAT_001aea6c + 8) + 0x10);
                    local_f98 =
                        *(undefined4 *)(*(int *)(DAT_001aea6c + 8) + 0x14);
                    local_f94 =
                        *(undefined4 *)(*(int *)(DAT_001aea6c + 8) + 0x1c);
                    local_f90 =
                        *(undefined4 *)(*(int *)(DAT_001aea6c + 8) + 0x30);
                    local_ffc[0] = iVar10;
                    local_f8c = FUN_00077070(
                        *(int *)(*(int *)(DAT_001aea6c + 8) + 0x30) + 5);
                    memcpy(auStack_f88, (void *)(iVar17 + 0x1498), 0x270);
                    memcpy(auStack_d18, (void *)(iVar17 + 0x1708), 0x4e0);
                    iVar17 = FUN_0003bbe8(local_ffc);
                    if (iVar17 != 0) {
                        if (3 < DAT_0009e31c) {
                            local_838._0_1_ = 'P';
                            local_838._1_1_ = 'M';
                            local_838._2_1_ = ' ';
                            local_838._3_1_ = 'g';
                            local_834._0_1_ = 'r';
                            local_834._1_1_ = 'a';
                            local_834._2_1_ = 'd';
                            local_834._3_1_ = 'e';
                            local_830 = (code *)0x696e6920;
                            uStack_82c._0_1_ = 't';
                            uStack_82c._1_1_ = ' ';
                            uStack_82c._2_1_ = 'f';
                            uStack_82c._3_1_ = 'a';
                            local_828._0_1_ = 'i';
                            local_828._1_1_ = 'l';
                            local_828._2_1_ = 'e';
                            local_828._3_1_ = 'd';
                            uStack_824._0_3_ = 0xa2e;
                            FUN_00047ab4(3, &local_838, 0);
                        }
                        goto LAB_00035340;
                    }
                    iVar17 = FUN_0003bd34();
                    if (iVar17 != 0) {
                        if (3 < DAT_0009e31c) {
                            local_838._0_1_ = 'D';
                            local_838._1_1_ = 'o';
                            local_838._2_1_ = ' ';
                            local_838._3_1_ = 'f';
                            local_834._0_1_ = 'r';
                            local_834._1_1_ = 'e';
                            local_834._2_1_ = 'q';
                            local_834._3_1_ = ' ';
                            local_830 = (code *)0x696e7574;
                            uStack_82c._0_1_ = 'n';
                            uStack_82c._1_1_ = 'g';
                            uStack_82c._2_1_ = ' ';
                            uStack_82c._3_1_ = 'P';
                            local_828._0_1_ = 'M';
                            local_828._1_1_ = ' ';
                            local_828._2_1_ = 'g';
                            local_828._3_1_ = 'r';
                            uStack_824._0_1_ = 'a';
                            uStack_824._1_1_ = 'd';
                            uStack_824._2_1_ = 'e';
                            uStack_824._3_1_ = ' ';
                            uStack_820._0_1_ = 'f';
                            uStack_820._1_1_ = 'a';
                            uStack_820._2_1_ = 'i';
                            uStack_820._3_1_ = 'l';
                            uStack_81c._0_1_ = 'e';
                            uStack_81c._1_1_ = 'd';
                            uStack_81c._2_1_ = '.';
                            uStack_81c._3_1_ = '\n';
                            local_818 = local_818 & 0xffffff00;
                            FUN_00047ab4(3, &local_838, 0);
                        }
                        goto LAB_00035340;
                    }
                    piVar15 = local_ffc;
                    iVar17 = 0;
                    do {
                        piVar15 = piVar15 + 1;
                        if (DAT_000a0d68[iVar17 + 1] == 1) {
                            iVar10 = FUN_0003b5a8(iVar17);
                            if (iVar10 == 0) {
                                iVar10 = DAT_001aea6c + 0x140;
                                piVar7 =
                                    (int *)(DAT_001aea6c + iVar17 * 0x138 + 8);
                                do {
                                    piVar7 = piVar7 + 1;
                                    *piVar7 = *piVar15;
                                } while (piVar7 !=
                                         (int *)(iVar10 + iVar17 * 0x138));
                                if (3 < DAT_0009e31c) {
                                    snprintf((char *)&local_838, 0x800,
                                             "Chain %d freq result is invalid, "
                                             "using freq_base as default.\n",
                                             iVar17);
                                    FUN_00047ab4(3, &local_838, 0);
                                }
                            } else {
                                FUN_0003b5c4(iVar17, DAT_001aea6c +
                                                         iVar17 * 0x138 + 0xc);
                            }
                            fVar23 = (float)FUN_0003b658(iVar17);
                            iVar10 = DAT_001aea6c + iVar17 * 4;
                            if (*(float *)(iVar10 + 0x13d0) < fVar23) {
                                *(float *)(iVar10 + 0x13d0) = fVar23;
                            }
                        }
                        iVar17 = iVar17 + 1;
                    } while (iVar17 != 0x10);
                    fVar23 = *(float *)(DAT_001aea6c + 4);
                    if (35.0 <= fVar23) {
                        iVar17 = 0x28;
                    } else if ((fVar23 < 25.0) || (35.0 <= fVar23)) {
                        if (fVar23 < 15.0) {
                            iVar17 = 10;
                        } else if (fVar23 < 25.0) {
                            iVar17 = 0x14;
                        } else {
                            iVar17 = 10;
                        }
                    } else {
                        iVar17 = 0x1e;
                    }
                    if (4 < DAT_0009e31c) {
                        snprintf((char *)&local_838, 0x800,
                                 "env_temp = %.2f, freq_sub = %d.\n",
                                 DAT_001aea6c, (double)fVar23, iVar17);
                        FUN_00047ab4(4, &local_838, 0);
                    }
                    uVar16 = DAT_0009e31c;
                    piVar19 = (int *)(DAT_001aea6c + 5000);
                    piVar15 = DAT_000a0d68;
                    piVar7 = (int *)(DAT_001aea6c + 8);
                    do {
                        piVar15 = piVar15 + 1;
                        piVar4 = piVar7 + 0x4e;
                        if (*piVar15 == 1) {
                            do {
                                piVar7 = piVar7 + 1;
                                *piVar7 = *piVar7 - iVar17;
                            } while (piVar7 != piVar4);
                        }
                        piVar7 = piVar4;
                    } while (piVar4 != piVar19);
                    if (3 < uVar16) {
                        snprintf((char *)&local_838, 0x800,
                                 "Sub runtime freq directly, freq_sub = %d.\n",
                                 iVar17);
                        FUN_00047ab4(3, &local_838, 0);
                    }
                    FUN_0003143c(auStack_1048);
                    uVar9 = 0;
                    uVar16 = ((uint) * (byte *)((int)DAT_000a0d68 + 0x3287) *
                              0x2477a) /
                             1000;
                    piVar15 = DAT_000a0d68;
                    piVar7 = (int *)(DAT_001aea6c + 8);
                    do {
                        piVar15 = piVar15 + 1;
                        piVar19 = piVar7 + 0x4e;
                        if (*piVar15 == 1) {
                            do {
                                piVar7 = piVar7 + 1;
                                uVar9 = uVar9 + *piVar7 * 0x17f;
                            } while (piVar7 != piVar19);
                        }
                        piVar7 = piVar19;
                    } while (piVar15 != DAT_000a0d68 + 0x10);
                    dVar24 = (double)(longlong)(int)(uVar9 / 1000) * 0.97;
                    uVar25 = (uint)(0.0 < dVar24) * (int)(longlong)dVar24;
                    if (uVar25 < local_1044) {
                        local_1064 = (uVar25 / 1000) * 1000;
                    } else {
                        local_1064 = (*local_1040)(uVar25);
                    }
                    if (3 < DAT_0009e31c) {
                        snprintf((char *)&local_838, 0x800,
                                 "hash_rate_unit_GH    = %d\n", uVar16);
                        FUN_00047ab4(3, &local_838, 0);
                        if (3 < DAT_0009e31c) {
                            snprintf((char *)&local_838, 0x800,
                                     "hash_rate_curr_GH     = %d\n",
                                     uVar9 / 1000);
                            FUN_00047ab4(3, &local_838, 0);
                            if (3 < DAT_0009e31c) {
                                snprintf((char *)&local_838, 0x800,
                                         "hash_rate_for_sale_GH = %d\n",
                                         uVar25);
                                FUN_00047ab4(3, &local_838, 0);
                                if (3 < DAT_0009e31c) {
                                    snprintf((char *)&local_838, 0x800,
                                             "hash_rate_sale_GH     = %d\n",
                                             local_1064);
                                    FUN_00047ab4(3, &local_838, 0);
                                }
                            }
                        }
                    }
                    iVar17 = DAT_001aea6c;
                    piVar15 = DAT_000a0d68;
                    uVar9 = DAT_0009e31c;
                    if ((int)(uVar25 - local_1064) < 1) {
                        iVar10 = 0;
                    } else {
                        iVar12 = FUN_00077070(uVar25 - local_1064, uVar16);
                        iVar10 = iVar12 * 5;
                        piVar7 = (int *)(iVar17 + 8);
                        piVar19 = piVar15;
                        do {
                            piVar19 = piVar19 + 1;
                            piVar4 = piVar7 + 0x4e;
                            if (*piVar19 == 1) {
                                do {
                                    piVar7 = piVar7 + 1;
                                    *piVar7 = *piVar7 + iVar12 * -5;
                                } while (piVar4 != piVar7);
                            }
                            piVar7 = piVar4;
                        } while (piVar4 != (int *)(iVar17 + 5000));
                    }
                    uVar16 = 0;
                    piVar19 = piVar15 + 0x10;
                    piVar7 = (int *)(iVar17 + 8);
                    do {
                        piVar15 = piVar15 + 1;
                        piVar4 = piVar7 + 0x4e;
                        if (*piVar15 == 1) {
                            do {
                                piVar7 = piVar7 + 1;
                                uVar16 = uVar16 + *piVar7 * 0x17f;
                            } while (piVar7 != piVar4);
                        }
                        piVar7 = piVar4;
                    } while (piVar19 != piVar15);
                    if (3 < uVar9) {
                        snprintf((char *)&local_838, 0x800,
                                 "Sub runtime freq by hash rate, freq_sub = "
                                 "%d, hash_rate_now = %d.\n",
                                 iVar10, uVar16 / 1000);
                        FUN_00047ab4(3, &local_838, 0);
                        iVar17 = DAT_001aea6c;
                    }
                    FUN_0003143c(auStack_1048);
                    uVar16 = 0;
                    piVar15 = (int *)(iVar17 + 8);
                    piVar7 = DAT_000a0d68;
                    do {
                        piVar7 = piVar7 + 1;
                        piVar19 = piVar15 + 0x4e;
                        if (*piVar7 == 1) {
                            do {
                                piVar15 = piVar15 + 1;
                                uVar16 = uVar16 + *piVar15 * 0x17f;
                            } while (piVar19 != piVar15);
                        }
                        piVar15 = piVar19;
                    } while (piVar7 != DAT_000a0d68 + 0x10);
                    uVar9 = uVar16 * 0x10624dd3;
                    if (DAT_0009e31c < 4) {
                    LAB_00035f0c:
                        piVar15 = *(int **)(iVar1 + uVar18 * 0xc);
                        if (*piVar15 < piVar15[2]) {
                        LAB_00035f28:
                            uVar9 = (*local_1040)(uVar16 / 1000);
                            if ((uVar9 < *(uint *)(puVar11[2] + 4)) ||
                                (uVar9 = FUN_00033a7c(), uVar9 != 0)) {
                                if (DAT_0009e31c < 4) {
                                    uVar5 = 0;
                                } else {
                                    local_838._0_1_ = 'N';
                                    local_838._1_1_ = 'o';
                                    local_838._2_1_ = 't';
                                    local_838._3_1_ = ' ';
                                    local_834._0_1_ = 'p';
                                    local_834._1_1_ = 'a';
                                    local_834._2_1_ = 's';
                                    local_834._3_1_ = 's';
                                    local_830 = (code *)0x6168203a;
                                    uStack_82c._0_1_ = 's';
                                    uStack_82c._1_1_ = 'h';
                                    uStack_82c._2_1_ = ' ';
                                    uStack_82c._3_1_ = 'r';
                                    local_828._0_1_ = 'a';
                                    local_828._1_1_ = 't';
                                    local_828._2_1_ = 'e';
                                    local_828._3_1_ = ' ';
                                    uStack_824._0_1_ = 'i';
                                    uStack_824._1_1_ = 's';
                                    uStack_824._2_1_ = ' ';
                                    uStack_824._3_1_ = 'n';
                                    uStack_820._0_1_ = 'o';
                                    uStack_820._1_1_ = 't';
                                    uStack_820._2_1_ = ' ';
                                    uStack_820._3_1_ = 'e';
                                    uStack_81c._0_1_ = 'n';
                                    uStack_81c._1_1_ = 'o';
                                    uStack_81c._2_1_ = 'u';
                                    uStack_81c._3_1_ = 'g';
                                    local_818._0_1_ = 'h';
                                    local_818._1_1_ = '.';
                                    local_818._2_1_ = '\n';
                                    local_818._3_1_ = '\0';
                                    uVar9 = FUN_00047ab4(3, &local_838, 0);
                                    uVar5 = 0;
                                }
                                goto LAB_00035f98;
                            }
                            if (3 < DAT_0009e31c) {
                                local_838._0_1_ = 'P';
                                local_838._1_1_ = 'a';
                                local_838._2_1_ = 's';
                                local_838._3_1_ = 's';
                                local_834._0_1_ = ':';
                                local_834._1_1_ = ' ';
                                local_834._2_1_ = 'h';
                                local_834._3_1_ = 'a';
                                local_830 = (code *)0x72206873;
                                uStack_82c._0_1_ = 'a';
                                uStack_82c._1_1_ = 't';
                                uStack_82c._2_1_ = 'e';
                                uStack_82c._3_1_ = ' ';
                                local_828._0_1_ = 'i';
                                local_828._1_1_ = 's';
                                local_828._2_1_ = ' ';
                                local_828._3_1_ = 'e';
                                uStack_824._0_1_ = 'n';
                                uStack_824._1_1_ = 'o';
                                uStack_824._2_1_ = 'u';
                                uStack_824._3_1_ = 'g';
                                uStack_820._0_1_ = 'h';
                                uStack_820._1_1_ = '.';
                                uStack_820._2_1_ = '\n';
                                uStack_820._3_1_ = '\0';
                                uVar9 = FUN_00047ab4(3, &local_838, 0);
                            }
                        }
                    LAB_00036578:
                        uVar5 = 1;
                    } else {
                        snprintf(
                            (char *)&local_838, 0x800,
                            "hash_rate_curr = %d, hash_rate_for_vol_inc = %d\n",
                            uVar16 / 1000, *(undefined4 *)(puVar11[2] + 4));
                        uVar9 = FUN_00047ab4(3, &local_838, 0);
                        if (DAT_0009e31c < 4)
                            goto LAB_00035f0c;
                        puVar8 = *(undefined4 **)(iVar1 + uVar18 * 0xc);
                        snprintf((char *)&local_838, 0x800,
                                 "voltage_base = %d, voltage_threshold = %d\n",
                                 *puVar8, puVar8[2]);
                        uVar9 = FUN_00047ab4(3, &local_838, 0);
                        piVar15 = *(int **)(iVar1 + uVar18 * 0xc);
                        if (*piVar15 < piVar15[2])
                            goto LAB_00035f28;
                        if (DAT_0009e31c < 4)
                            goto LAB_00036578;
                        local_838._0_1_ = 'P';
                        local_838._1_1_ = 'a';
                        local_838._2_1_ = 's';
                        local_838._3_1_ = 's';
                        local_834._0_1_ = ':';
                        local_834._1_1_ = ' ';
                        local_834._2_1_ = 'v';
                        local_834._3_1_ = 'o';
                        local_830 = (code *)0x6761746c;
                        uStack_82c._0_1_ = 'e';
                        uStack_82c._1_1_ = ' ';
                        uStack_82c._2_1_ = 'i';
                        uStack_82c._3_1_ = 's';
                        local_828._0_1_ = ' ';
                        local_828._1_1_ = 'r';
                        local_828._2_1_ = 'e';
                        local_828._3_1_ = 'a';
                        uStack_824._0_1_ = 'c';
                        uStack_824._1_1_ = 'h';
                        uStack_824._2_1_ = ' ';
                        uStack_824._3_1_ = 't';
                        uStack_820._0_1_ = 'h';
                        uStack_820._1_1_ = 'r';
                        uStack_820._2_1_ = 'e';
                        uStack_820._3_1_ = 's';
                        uStack_81c._0_1_ = 'h';
                        uStack_81c._1_1_ = 'o';
                        uStack_81c._2_1_ = 'l';
                        uStack_81c._3_1_ = 'd';
                        local_818 = CONCAT13(local_818._3_1_, 0xa2e);
                        uVar9 = FUN_00047ab4(3, &local_838, 0);
                        uVar5 = 1;
                    }
                LAB_00035f98:
                    iVar10 = DAT_001aea6c;
                    *(undefined4 *)(iVar17 + 0x13cc) = uVar5;
                    if (*(int *)(iVar10 + 0x13cc) != 0) {
                        iVar17 = FUN_00033a7c(uVar9);
                        if (iVar17 == 0) {
                            iVar17 = FUN_0003405c(
                                puVar11,
                                *(undefined4 *)(*(int *)(DAT_001aea6c + 8) +
                                                0xc),
                                0);
                            if (iVar17 != 0) {
                                if (3 < DAT_0009e31c) {
                                    pcVar20 = "Get ideal hash rate failed, "
                                              "round 0, exit.\n";
                                LAB_000365bc:
                                    local_838 = *(undefined4 *)pcVar20;
                                    local_834 = *(uint *)(pcVar20 + 4);
                                    local_830 = *(code **)(pcVar20 + 8);
                                    uStack_82c = *(undefined4 *)(pcVar20 + 0xc);
                                    local_828 = *(undefined4 *)(pcVar20 + 0x10);
                                    uStack_824 =
                                        *(undefined4 *)(pcVar20 + 0x14);
                                    uStack_820 =
                                        *(undefined4 *)(pcVar20 + 0x18);
                                    uStack_81c =
                                        *(undefined4 *)(pcVar20 + 0x1c);
                                    local_818 = *(uint *)(pcVar20 + 0x20);
                                    acStack_814._0_4_ =
                                        *(undefined4 *)(pcVar20 + 0x24);
                                    acStack_814._4_4_ =
                                        *(undefined4 *)(pcVar20 + 0x28);
                                    FUN_00047ab4(3, &local_838, 0);
                                }
                                goto LAB_00035340;
                            }
                            iVar17 = FUN_000378dc();
                            if (iVar17 == 0) {
                                local_1064 = 0;
                            } else {
                                iVar17 = FUN_0003405c(puVar11, 1);
                                if (iVar17 != 0) {
                                    if (3 < DAT_0009e31c) {
                                        pcVar20 = "Get ideal hash rate failed, "
                                                  "round 1, exit.\n";
                                        goto LAB_000365bc;
                                    }
                                    goto LAB_00035340;
                                }
                                local_1064 = 1;
                            }
                            iVar17 = FUN_000378dc();
                            if (iVar17 != 0) {
                                FUN_0003143c(auStack_1048);
                                uVar16 = 0;
                                iVar17 = 0;
                                piVar15 = DAT_000a0d68;
                                do {
                                    piVar15 = piVar15 + 1;
                                    if (*piVar15 == 1) {
                                        piVar7 =
                                            (int *)(DAT_001aea6c + 8 + iVar17);
                                        do {
                                            piVar7 = piVar7 + 1;
                                            uVar16 = uVar16 + *piVar7 * 0x17f;
                                        } while ((int *)(DAT_001aea6c + 0x140 +
                                                         iVar17) != piVar7);
                                    }
                                    iVar17 = iVar17 + 0x138;
                                } while (iVar17 != 0x1380);
                                uVar9 = (*local_1040)(uVar16 / 1000);
                                if (3 < DAT_0009e31c) {
                                    snprintf((char *)&local_838, 0x800,
                                             "hash_rate_curr_GH = %d\n",
                                             uVar16 / 1000);
                                    FUN_00047ab4(3, &local_838, 0);
                                    if (3 < DAT_0009e31c) {
                                        snprintf((char *)&local_838, 0x800,
                                                 "hash_rate_sale_GH = %d\n",
                                                 uVar9);
                                        FUN_00047ab4(3, &local_838, 0);
                                    }
                                }
                                piVar15 = DAT_000a0d68;
                                if (*(uint *)puVar11[2] < uVar9) {
                                    iVar10 = FUN_00077070(
                                        ((uint *)puVar11[2])[2],
                                        ((uint) *
                                         (byte *)((int)DAT_000a0d68 + 0x3287) *
                                         0x2477a) /
                                            1000,
                                        (uint) *
                                            (byte *)((int)DAT_000a0d68 +
                                                     0x3287) *
                                            -0x51eb6472);
                                    iVar17 = DAT_001aea6c;
                                    iVar12 = 1;
                                    iVar13 = DAT_001aea6c + -0x130;
                                    iVar6 = DAT_001aea6c + 8;
                                    do {
                                        if (piVar15[iVar12] == 1) {
                                            piVar7 = (int *)(iVar13 +
                                                             iVar12 * 0x138);
                                            do {
                                                piVar7 = piVar7 + 1;
                                                *piVar7 = *piVar7 + iVar10 * -5;
                                            } while (piVar7 !=
                                                     (int *)(iVar6 +
                                                             iVar12 * 0x138));
                                        }
                                        iVar12 = iVar12 + 1;
                                    } while (iVar12 != 0x11);
                                    uVar16 = 0;
                                    iVar12 = 1;
                                    do {
                                        if (piVar15[iVar12] == 1) {
                                            piVar7 = (int *)(iVar17 + -0x130 +
                                                             iVar12 * 0x138);
                                            do {
                                                piVar7 = piVar7 + 1;
                                                uVar16 =
                                                    uVar16 + *piVar7 * 0x17f;
                                            } while ((int *)(iVar17 + 8 +
                                                             iVar12 * 0x138) !=
                                                     piVar7);
                                        }
                                        iVar12 = iVar12 + 1;
                                    } while (iVar12 != 0x11);
                                    if (3 < DAT_0009e31c) {
                                        snprintf((char *)&local_838, 0x800,
                                                 "Sub runtime freq to low "
                                                 "rank, freq_sub = %d, "
                                                 "hash_rate_now = %d.\n",
                                                 iVar10 * 5, uVar16 / 1000);
                                        FUN_00047ab4(3, &local_838, 0);
                                    }
                                } else {
                                    piVar15 = *(int **)(iVar1 + uVar18 * 0xc);
                                    *piVar15 = *piVar15 + piVar15[5];
                                    if (3 < DAT_0009e31c) {
                                        snprintf(
                                            (char *)&local_838, 0x800,
                                            "Inc voltage, voltage_base = %d\n",
                                            **(undefined4 **)(iVar1 +
                                                              uVar18 * 0xc));
                                        FUN_00047ab4(3, &local_838, 0);
                                    }
                                }
                                iVar17 =
                                    FUN_0003405c(puVar11, 1, local_1064 + 1);
                                if (iVar17 != 0) {
                                    if (3 < DAT_0009e31c) {
                                        pcVar20 = "Get ideal hash rate failed, "
                                                  "round 2, exit.\n";
                                        goto LAB_000365bc;
                                    }
                                    goto LAB_00035340;
                                }
                                iVar17 = FUN_000378dc();
                                if (iVar17 != 0) {
                                    *(undefined4 *)(DAT_001aea6c +
                                                    (uVar18 + 0x524) * 4) = 1;
                                    iVar17 = 0;
                                    do {
                                        if (DAT_000a0d68[iVar17 + 1] == 1) {
                                            iVar10 = FUN_00037834(iVar17);
                                            if (iVar10 == 0) {
                                                iVar10 = 300;
                                            } else {
                                                iVar10 = 0xfa;
                                            }
                                            if (3 < DAT_0009e31c) {
                                                snprintf(
                                                    (char *)&local_838, 0x800,
                                                    "Mark unbalance, chain = "
                                                    "%d, freq = %d\n",
                                                    iVar17, iVar10);
                                                FUN_00047ab4(3, &local_838, 0);
                                            }
                                            iVar12 = DAT_001aea6c;
                                            iVar13 = DAT_001aea6c + 0x140;
                                            piVar15 =
                                                (int *)(DAT_001aea6c +
                                                        iVar17 * 0x138 + 8);
                                            do {
                                                piVar15 = piVar15 + 1;
                                                *piVar15 = iVar10;
                                            } while ((int *)(iVar13 +
                                                             iVar17 * 0x138) !=
                                                     piVar15);
                                            *(uint *)(iVar12 +
                                                      (iVar17 + 0x4e2) * 4 +
                                                      4) =
                                                (uint)(iVar10 * 0x74b2) / 1000;
                                        }
                                        iVar17 = iVar17 + 1;
                                    } while (iVar17 != 0x10);
                                }
                            }
                        } else {
                            iVar12 = 0xc;
                            iVar10 = 0;
                            iVar17 = DAT_001aea6c;
                            do {
                                if (DAT_000a0d68[iVar10 + 1] == 1) {
                                    if (*(int *)(iVar17 +
                                                 (iVar10 + 0x514) * 4) == 0) {
                                        iVar13 = 300;
                                    } else {
                                        iVar13 = 0xfa;
                                    }
                                    if (3 < DAT_0009e31c) {
                                        snprintf((char *)&local_838, 0x800,
                                                 "Mark unqualified, chain = "
                                                 "%d, freq = %d\n",
                                                 iVar10, iVar13);
                                        FUN_00047ab4(3, &local_838, 0);
                                    }
                                    iVar17 = DAT_001aea6c;
                                    iVar6 = DAT_001aea6c + iVar12;
                                    piVar15 =
                                        (int *)(DAT_001aea6c + iVar12 + -4);
                                    do {
                                        piVar15 = piVar15 + 1;
                                        *piVar15 = iVar13;
                                    } while ((int *)(iVar6 + 0x134) != piVar15);
                                    *(uint *)(iVar17 + (iVar10 + 0x4e2) * 4 +
                                              4) =
                                        (uint)(iVar13 * 0x74b2) / 1000;
                                }
                                iVar10 = iVar10 + 1;
                                iVar12 = iVar12 + 0x138;
                            } while (iVar10 != 0x10);
                            *(undefined4 *)(iVar17 + (uVar18 + 0x524) * 4 + 4) =
                                1;
                        }
                        iVar17 = DAT_001aea6c;
                        iVar10 = 0;
                        puVar14 = (undefined1 *)(DAT_001aea6c + uVar18 * 0x560 +
                                                 0x1be7);
                        puVar3 = (uint *)(DAT_001aea6c + 8);
                        piVar15 = DAT_000a0d68;
                        do {
                            piVar15 = piVar15 + 1;
                            puVar21 = puVar3 + 0x4e;
                            puVar2 = puVar14;
                            if (*piVar15 == 1) {
                                do {
                                    puVar3 = puVar3 + 1;
                                    puVar2[1] = (char)(*puVar3 / 5);
                                    puVar2 = puVar2 + 1;
                                } while (puVar21 != puVar3);
                                *(short *)(puVar14 + 0x4f) =
                                    (short)*(undefined4 *)*puVar11;
                                *(undefined4 *)(iVar17 + iVar10 * 0x56 +
                                                uVar18 * 0x560 + 0x1c38) =
                                    *(undefined4 *)(iVar17 + iVar10 * 4 +
                                                    0x138c);
                            }
                            iVar10 = iVar10 + 1;
                            puVar14 = puVar14 + 0x56;
                            puVar3 = puVar21;
                        } while (iVar10 != 0x10);
                    }
                    FUN_00039ab4();
                    FUN_0003b4ec();
                    iVar17 = DAT_001aea6c;
                    if (*(int *)(DAT_001aea6c + 0x13cc) == 0) {
                        piVar15 = *(int **)(iVar1 + uVar18 * 0xc);
                        *piVar15 = piVar15[1] + *piVar15;
                        uVar16 = DAT_0009e31c;
                        iVar10 = puVar11[1];
                        *(int *)(iVar10 + 4) =
                            *(int *)(iVar10 + 4) - *(int *)(iVar10 + 0x10);
                        if (3 < uVar16) {
                            snprintf((char *)&local_838, 0x800,
                                     "Not pass, try again, voltage = %d, "
                                     "freq_threshold = %d\n",
                                     **(undefined4 **)(iVar1 + uVar18 * 0xc),
                                     *(undefined4 *)(puVar11[1] + 4));
                            FUN_00047ab4(3, &local_838, 0);
                            uVar16 = DAT_0009e31c;
                            iVar17 = DAT_001aea6c;
                        }
                        iVar1 = *(int *)(iVar17 + 8);
                        uVar18 = uVar18 - 1;
                        uVar9 = *(uint *)(iVar1 + 4);
                    } else {
                        iVar1 = *(int *)(DAT_001aea6c + 8);
                        uVar9 = *(uint *)(iVar1 + 4);
                        uVar16 = DAT_0009e31c;
                        if (uVar9 - 1 != uVar18) {
                            FUN_000385ec(*(undefined4 *)(iVar1 + 0xc));
                            iVar1 = *(int *)(DAT_001aea6c + 8);
                            uVar9 = *(uint *)(iVar1 + 4);
                            uVar16 = DAT_0009e31c;
                        }
                    }
                    uVar18 = uVar18 + 1;
                } while (uVar18 < uVar9);
            }
            if (3 < uVar16) {
                local_838._0_1_ = 'F';
                local_838._1_1_ = 'l';
                local_838._2_1_ = 'u';
                local_838._3_1_ = 's';
                local_834._0_1_ = 'h';
                local_834._1_1_ = ' ';
                local_834._2_1_ = 'r';
                local_834._3_1_ = 'e';
                local_830 = (code *)0x746c7573;
                uStack_82c._0_3_ = 0xa2e;
                FUN_00047ab4(3, &local_838, 0);
            }
        LAB_00035354:
            iVar1 = 0;
            uVar16 = *(uint *)(*(int *)(DAT_001aea6c + 8) + 4);
            iVar17 = DAT_001aea6c;
            do {
                if (DAT_000a0d68[iVar1 + 1] == 1) {
                    FUN_00019190(iVar1, uVar16 & 0xff);
                    uVar16 = *(uint *)(*(int *)(DAT_001aea6c + 8) + 4);
                    iVar17 = DAT_001aea6c;
                }
                iVar1 = iVar1 + 1;
            } while (iVar1 != 0x10);
            if (uVar16 != 0) {
                iVar10 = 0;
                uVar16 = 0;
                do {
                    iVar12 = 0;
                    do {
                        if ((DAT_000a0d68[iVar12 + 1] == 1) &&
                            (iVar1 = FUN_00019098(iVar12, uVar16 & 0xff,
                                                  iVar17 + iVar12 * 0x56 +
                                                      iVar10 + 0x1be8),
                             iVar17 = DAT_001aea6c, iVar1 != 0)) {
                            if (3 < DAT_0009e31c) {
                                snprintf((char *)&local_838, 0x800,
                                         "Flush result to eeprom failed, "
                                         "work_mode = %d, chain = %d.\n",
                                         uVar16, iVar12);
                                FUN_00047ab4(3, &local_838, 0);
                            }
                            goto LAB_000355c4;
                        }
                        iVar12 = iVar12 + 1;
                    } while (iVar12 != 0x10);
                    uVar16 = uVar16 + 1;
                    iVar10 = iVar10 + 0x560;
                } while (uVar16 < *(uint *)(*(int *)(iVar17 + 8) + 4));
            }
            iVar1 = FUN_00018650();
        LAB_000355c4:
            if (*(int *)(*(int *)(DAT_001aea6c + 8) + 4) != 0) {
                if (*(int *)(DAT_001aea6c + 0x1494) == 0) {
                    if (*(int *)(DAT_001aea6c + 0x1490) == 0) {
                        iVar17 = 0;
                        uVar16 = 0;
                        do {
                            FUN_0003143c(&local_838);
                            uVar18 = 0;
                            iVar10 = 0;
                            piVar15 = DAT_000a0d68;
                            do {
                                piVar15 = piVar15 + 1;
                                iVar12 = *piVar15;
                                bVar22 = iVar12 == 1;
                                if (bVar22) {
                                    iVar12 = iVar10 * 0x56 + uVar16 * 0x560;
                                }
                                iVar10 = iVar10 + 1;
                                if (bVar22) {
                                    uVar18 = uVar18 + *(int *)(DAT_001aea6c +
                                                               iVar12 + 0x1c38);
                                }
                            } while (iVar10 != 0x10);
                            if (uVar18 < local_834) {
                                uVar18 = (uVar18 / 1000) * 1000;
                            } else {
                                uVar18 = (*local_830)();
                            }
                            uVar9 = **(
                                uint **)(*(int *)(*(int *)(DAT_001aea6c + 8) +
                                                  0x38) +
                                         iVar17 + 8);
                            if (uVar18 < uVar9) {
                                if (3 < DAT_0009e31c) {
                                    snprintf((char *)&local_838, 0x800,
                                             "Under target hash rate: "
                                             "work_mode = %d, hash_rate_sale = "
                                             "%d, hash_rate_target = %d.\n",
                                             uVar16, uVar18, uVar9);
                                    FUN_00047ab4(3, &local_838, 0);
                                }
                                FUN_00031794(6, 0xff);
                                break;
                            }
                            uVar16 = uVar16 + 1;
                            iVar17 = iVar17 + 0xc;
                        } while (uVar16 <
                                 *(uint *)(*(int *)(DAT_001aea6c + 8) + 4));
                    } else {
                        FUN_00031794(0x15, 0xff);
                    }
                } else {
                    FUN_00031794(0xe, 0xff);
                }
            }
            if (3 < DAT_0009e31c) {
                local_838._0_1_ = 'M';
                local_838._1_1_ = 'a';
                local_838._2_1_ = 'r';
                local_838._3_1_ = 'k';
                local_834._0_1_ = ' ';
                local_834._1_1_ = 's';
                local_834._2_1_ = 'w';
                local_834._3_1_ = 'e';
                local_830 = (code *)0x64207065;
                uStack_82c._0_1_ = 'o';
                uStack_82c._1_1_ = 'n';
                uStack_82c._2_1_ = 'e';
                uStack_82c._3_1_ = '.';
                local_828._0_2_ = 10;
                FUN_00047ab4(3, &local_838, 0);
            }
            system("touch /config/scanfreqdone");
            if ((iVar1 == 0) && (DAT_001aea74 == 2)) {
                DAT_001aea74 = 0;
                goto LAB_00034c38;
            }
        }
    } else if (3 < DAT_0009e31c) {
        local_838._0_1_ = 'B';
        local_838._1_1_ = 'o';
        local_838._2_1_ = 'a';
        local_838._3_1_ = 'r';
        local_834._0_1_ = 'd';
        local_834._1_1_ = ' ';
        local_834._2_1_ = 'i';
        local_834._3_1_ = 'n';
        local_830 = (code *)0x66207469;
        uStack_82c._0_1_ = 'a';
        uStack_82c._1_1_ = 'i';
        uStack_82c._2_1_ = 'l';
        uStack_82c._3_1_ = 'e';
        local_828._0_1_ = 'd';
        local_828._1_1_ = '.';
        local_828._2_1_ = '\n';
        local_828._3_1_ = '\0';
        FUN_00047ab4(3, &local_838, 0);
    }
    DAT_001aea74 = 1;
LAB_00034c38:
    local_107c = local_ffc;
    pthread_cancel(local_1054);
    FUN_000374d4();
    FUN_000373bc();
    FUN_00033b7c();
    FUN_0004a60c(local_107c);
    local_1050 = local_ffc[0] - local_1050;
    if (local_ffc[1] - local_104c < 0) {
        local_1050 = local_1050 + -1;
    }
    if (3 < DAT_0009e31c) {
        local_838._0_2_ = 10;
        FUN_00047ab4(3, &local_838, 0);
        if (3 < DAT_0009e31c) {
            snprintf((char *)&local_838, 0x800,
                     "*** Sweep done, time cost %ld minutes. ***\n",
                     local_1050 / 0x3c);
            FUN_00047ab4(3, &local_838, 0);
            if (3 < DAT_0009e31c) {
                local_838 = CONCAT22(local_838._2_2_, 10);
                FUN_00047ab4(3, &local_838, 0);
            }
        }
    }
    return iVar1;
}

int FUN_00036b40(undefined4 *param_1)

{
    int iVar1;
    char acStack_810[2052];

    iVar1 = FUN_00033e28(0xa1);
    if (iVar1 == 0) {
        if (DAT_0009ee38 < *(uint *)(*(int *)(DAT_001aea6c + 8) + 4)) {
            *param_1 =
                *(undefined4 *)(*(int *)(*(int *)(*(int *)(DAT_001aea6c + 8) +
                                                  0x38) +
                                         DAT_0009ee38 * 0xc + 4) +
                                4);
            if (3 < DAT_0009e31c) {
                snprintf(acStack_810, 0x800, "max_freq = %d\n");
                FUN_00047ab4(3, acStack_810, 0);
            }
        } else if (DAT_0009e31c < 4) {
            iVar1 = -1;
        } else {
            snprintf(acStack_810, 0x800,
                     "Invalid work mode, opt_bitmain_work_mode = %d\n");
            iVar1 = -1;
            FUN_00047ab4(3, acStack_810, 0);
        }
    }
    FUN_00033b7c();
    return iVar1;
}

undefined4 FUN_00036c34(void)

{
    return DAT_001aea74;
}

void FUN_00036c44(undefined4 param_1)

{
    DAT_001aea74 = param_1;
    return;
}

void FUN_00036c54(undefined4 param_1)

{
    DAT_001aea70 = param_1;
    return;
}

void FUN_00036cb4(int param_1, int param_2)

{
    uint uVar1;
    uint uVar2;
    uint uVar3;
    int iVar4;
    char local_828[2052];

    iVar4 = 0;
LAB_00036cf8:
    do {
        if (param_1 == iVar4 && *(int *)(DAT_000a0d68 + iVar4 * 4 + 4) == 1) {
            if (3 < DAT_0009e31c) {
                snprintf(local_828, 0x800,
                         "Dump asic grade table, chain = %d\n", iVar4);
                FUN_00047ec8(3, local_828, 0);
            }
            uVar1 = DAT_0009e31c;
            uVar2 = 0;
        LAB_00036d50:
            do {
                if (3 < uVar1) {
                    uVar3 = uVar2 + 1;
                    snprintf(local_828, 0x800, "[%3d]:%-3d ", uVar2,
                             (uint) * (byte *)(iVar4 * 0x4e + param_2 + uVar2));
                    FUN_00047ec8(3, local_828, 0);
                    uVar1 = DAT_0009e31c;
                    if ((uVar3 % 6 == 0) && (3 < DAT_0009e31c)) {
                        local_828[0] = '\n';
                        local_828[1] = '\0';
                        FUN_00047ec8(3, local_828);
                        uVar1 = DAT_0009e31c;
                        uVar2 = uVar3;
                        if (uVar3 == 0x4e)
                            break;
                        goto LAB_00036d50;
                    }
                }
                uVar2 = uVar2 + 1;
            } while (uVar2 != 0x4e);
            if (3 < uVar1) {
                iVar4 = iVar4 + 1;
                local_828[0] = '\n';
                local_828[1] = '\0';
                FUN_00047ec8(3, local_828, 0);
                if (iVar4 == 0x10) {
                    return;
                }
                goto LAB_00036cf8;
            }
        }
        iVar4 = iVar4 + 1;
        if (iVar4 == 0x10) {
            return;
        }
    } while (true);
}

void FUN_00036e34(void)

{
    char local_808[2052];

    builtin_strncpy(local_808, "Handle is NULL.\n", 0x10);
    local_808[0x10] = 0;
    FUN_00047ab4(3, local_808, 0);
    return;
}

undefined4 FUN_00036e78(undefined4 *param_1)

{
    char acStack_810[2052];

    if (4 < DAT_0009e31c) {
        snprintf(acStack_810, 0x800,
                 "[DEBUG] Send work one chain, chain = %d.\n", *param_1);
        FUN_00047ab4(4, acStack_810, 0);
    }
    if ((DAT_001aea78 == 0) || (*(int *)(DAT_001aea78 + 4) == 0)) {
        if (3 < DAT_0009e31c) {
            FUN_00036e34();
            return 0;
        }
    } else {
        (**(code **)(*(int *)(DAT_001aea78 + 4) + 0x1c))(*param_1, param_1[2]);
        param_1[1] = 1;
    }
    return 0;
}

undefined4 FUN_00036f30(void)

{
    char local_808[2052];

    builtin_strncpy(local_808, "Handle is NULL.\n", 0x10);
    local_808[0x10] = 0;
    FUN_00047ab4(3, local_808, 0);
    return 1;
}

void FUN_00036f78(undefined4 param_1)

{
    char local_810[2052];

    if (4 < DAT_0009e31c) {
        builtin_strncpy(local_810, "[DEBUG] Send work for hw sweep.\n", 0x20);
        local_810[0x20] = 0;
        FUN_00047ab4(4, local_810, 0);
    }
    if ((DAT_001aea78 == 0) || (*(int *)(DAT_001aea78 + 4) == 0)) {
        if (3 < DAT_0009e31c) {
            FUN_00036e34();
            return;
        }
    } else {
        (**(code **)(*(int *)(DAT_001aea78 + 4) + 0x1c))(0xff, param_1);
    }
    return;
}

void FUN_0003702c(int param_1)

{
    pthread_t *ppVar1;
    int iVar2;
    int iVar3;
    int *__arg;
    pthread_t local_860[16];
    int local_820;
    int local_81c;
    char local_818[2040];

    if ((DAT_001aea78 == 0) || (*(int *)(DAT_001aea78 + 4) == 0)) {
        if (3 < DAT_0009e31c) {
            local_820._0_1_ = 'H';
            local_820._1_1_ = 'a';
            local_820._2_1_ = 'n';
            local_820._3_1_ = 'd';
            local_81c._0_1_ = 'l';
            local_81c._1_1_ = 'e';
            local_81c._2_1_ = ' ';
            local_81c._3_1_ = 'i';
            builtin_strncpy(local_818, "s NULL.\n", 8);
            local_818[8] = 0;
            FUN_00047ab4(3, &local_820, 0);
            return;
        }
    } else {
        memset(local_860, 0, 0x40);
        iVar3 = 0;
        memset(&local_820, 0, 0xc0);
        iVar2 = DAT_000a0d68;
        __arg = &local_820;
        do {
            while ((*(int *)(iVar2 + iVar3 * 4 + 4) == 1 &&
                    (*(int *)(DAT_001aea78 + (iVar3 + 2) * 4) == 1))) {
                *__arg = iVar3;
                __arg[1] = 0;
                __arg[2] = param_1;
                pthread_create(local_860 + iVar3, (pthread_attr_t *)0x0,
                               FUN_00036e78, __arg);
                ppVar1 = local_860 + iVar3;
                iVar3 = iVar3 + 1;
                pthread_detach(*ppVar1);
                iVar2 = DAT_000a0d68;
                __arg = __arg + 3;
                if (iVar3 == 0x10)
                    goto LAB_0003710c;
            }
            iVar3 = iVar3 + 1;
            __arg = __arg + 3;
        } while (iVar3 != 0x10);
    LAB_0003710c:
        iVar3 = 0;
    LAB_00037118:
        do {
            if (((*(int *)(iVar2 + iVar3 * 4 + 4) == 1) &&
                 (local_860[iVar3] != 0)) &&
                ((&local_81c)[iVar3 * 3] == 0)) {
                while (usleep(100000), iVar2 = DAT_000a0d68,
                       *(int *)(DAT_000a0d68 + 4) == 1) {
                    iVar3 = 1;
                    if ((local_860[0] == 0) || (local_81c != 0))
                        goto LAB_00037118;
                }
                iVar3 = 1;
                goto LAB_00037118;
            }
            iVar3 = iVar3 + 1;
        } while (iVar3 != 0x10);
    }
    return;
}

undefined4 FUN_000371e8(int param_1, undefined4 param_2)

{
    int iVar1;
    undefined4 uVar2;
    int *piVar3;
    int *piVar4;
    char local_818[40];
    undefined3 uStack_7f0;
    char cStack_7ed;
    char acStack_7ec[2004];

    if (DAT_0009e31c < 5) {
        if (1 < param_1 - 0xa0U) {
        LAB_0003721c:
            FUN_00031794(0x14, 0xff);
            if (DAT_0009e31c < 4) {
                return 0xffffffff;
            }
            snprintf(local_818, 0x800, "Invalid sweep type 0x%X\n", param_1);
            goto LAB_00037324;
        }
    } else {
        snprintf(local_818, 0x800,
                 "[DEBUG] sweep_type = 0x%X, pattern_file_path = %s\n", param_1,
                 param_2);
        FUN_00047ab4(4, local_818, 0);
        if (1 < param_1 - 0xa0U)
            goto LAB_0003721c;
        if (4 < DAT_0009e31c) {
            builtin_strncpy(local_818,
                            "[DEBUG] allocate memory for pattern test", 0x28);
            uStack_7f0 = 0xa2e;
            FUN_00047ab4(4, local_818, 0);
        }
    }
    piVar3 = DAT_001aea78;
    if (DAT_001aea78 == (int *)0x0) {
        piVar3 = (int *)calloc(0xec, 1);
        DAT_001aea78 = piVar3;
        if (piVar3 == (int *)0x0) {
            FUN_00031794(0xd, 0xff);
            if (DAT_0009e31c < 4) {
                return 0xffffffff;
            }
            local_818[0] = 'F';
            local_818[1] = 'a';
            local_818[2] = 'i';
            local_818[3] = 'l';
            local_818[4] = ' ';
            local_818[5] = 't';
            local_818[6] = 'o';
            local_818[7] = ' ';
            local_818[8] = 'a';
            local_818[9] = 'l';
            local_818[10] = 'l';
            local_818[0xb] = 'o';
            local_818[0xc] = 'c';
            local_818[0xd] = 'a';
            local_818[0xe] = 't';
            local_818[0xf] = 'e';
            local_818[0x10] = ' ';
            local_818[0x11] = 'm';
            local_818[0x12] = 'e';
            local_818[0x13] = 'm';
            local_818[0x14] = 'o';
            local_818[0x15] = 'r';
            local_818[0x16] = 'y';
            local_818[0x17] = ' ';
            local_818[0x18] = 'f';
            local_818[0x19] = 'o';
            local_818[0x1a] = 'r';
            local_818[0x1b] = ' ';
            local_818[0x1c] = 's';
            local_818[0x1d] = 'e';
            local_818[0x1e] = 'n';
            local_818[0x1f] = 'd';
            local_818[0x20] = ' ';
            local_818[0x21] = 'w';
            local_818[0x22] = 'o';
            local_818[0x23] = 'r';
            local_818[0x24] = 'k';
            local_818[0x25] = ' ';
            local_818[0x26] = 'c';
            local_818[0x27] = 'o';
            uStack_7f0._0_1_ = 'n';
            uStack_7f0._1_1_ = 't';
            uStack_7f0._2_1_ = 'e';
            cStack_7ed = 'x';
            acStack_7ec[0] = 't';
            acStack_7ec[1] = '.';
            acStack_7ec[2] = '\n';
            acStack_7ec[3] = '\0';
        LAB_00037324:
            FUN_00047ab4(3, local_818, 0);
            return 0xffffffff;
        }
        piVar4 = piVar3 + 1;
        do {
            piVar4 = piVar4 + 1;
            *piVar4 = 0;
        } while (piVar4 != piVar3 + 0x11);
    }
    *piVar3 = param_1;
    if (param_1 == 0xa0) {
        iVar1 = FUN_00033918();
        piVar3[1] = iVar1;
    } else {
        iVar1 = FUN_00032b3c();
        piVar3[1] = iVar1;
    }
    uVar2 = (**(code **)(DAT_001aea78[1] + 4))(param_2);
    return uVar2;
}

void FUN_000373bc(void)

{
    char local_810[36];
    undefined2 uStack_7ec;
    undefined1 local_7ea;

    if (DAT_0009e31c < 5) {
        if (DAT_001aea78 == (void *)0x0) {
            return;
        }
    LAB_000373ec:
        if (*(int *)((int)DAT_001aea78 + 4) == 0) {
            if (DAT_0009e31c < 5)
                goto LAB_00037418;
            goto LAB_0003743c;
        }
        (**(code **)(*(int *)((int)DAT_001aea78 + 4) + 8))();
        if (4 < DAT_0009e31c)
            goto LAB_0003743c;
    } else {
        builtin_strncpy(local_810, "[DEBUG] Pattern test exit.\n", 0x1c);
        FUN_00047ab4(4, local_810, 0);
        if (DAT_001aea78 != (void *)0x0)
            goto LAB_000373ec;
        if (DAT_0009e31c < 5) {
            return;
        }
    LAB_0003743c:
        builtin_strncpy(local_810, "[DEBUG] Free memory for pattern test",
                        0x24);
        uStack_7ec = 0xa2e;
        local_7ea = 0;
        FUN_00047ab4(4, local_810, 0);
    }
    if (DAT_001aea78 == (void *)0x0) {
        return;
    }
LAB_00037418:
    free(DAT_001aea78);
    DAT_001aea78 = (void *)0x0;
    return;
}

void FUN_000374d4(void)

{
    char local_808[16];
    uint local_7f8;
    char acStack_7f4[2028];

    if (4 < DAT_0009e31c) {
        builtin_strncpy(local_808, "[DEBUG] Pattern ", 0x10);
        local_7f8._0_1_ = 't';
        local_7f8._1_1_ = 'e';
        local_7f8._2_1_ = 's';
        local_7f8._3_1_ = 't';
        builtin_strncpy(acStack_7f4, " reset.\n", 8);
        acStack_7f4[8] = 0;
        FUN_00047ab4(4, local_808, 0);
    }
    if ((DAT_001aea78 == 0) || (*(int *)(DAT_001aea78 + 4) == 0)) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_808, "Handle is NULL.\n", 0x10);
            local_7f8 = local_7f8 & 0xffffff00;
            FUN_00047ab4(3, local_808, 0);
            return;
        }
    } else {
        (**(code **)(*(int *)(DAT_001aea78 + 4) + 0x10))();
    }
    return;
}

void FUN_00037594(void)

{
    char local_808[2052];

    if ((DAT_001aea78 == 0) || (*(int *)(DAT_001aea78 + 4) == 0)) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_808, "Handle is NULL.\n", 0x10);
            local_808[0x10] = 0;
            FUN_00047ab4(3, local_808, 0);
            return;
        }
    } else if (*(int *)(DAT_001aea78 + 0xe8) != 0) {
        (**(code **)(*(int *)(DAT_001aea78 + 4) + 0x14))();
    }
    return;
}

void FUN_0003762c(byte *param_1)

{
    int iVar1;
    uint uVar2;
    uint uVar3;

    uVar2 = DAT_00241d68;
    uVar3 = DAT_00241d68 + 1;
    iVar1 = uVar3 * 8;
    (&DAT_00241d6c)[uVar3 * 2] = *(undefined4 *)(param_1 + 4);
    *(byte *)(&DAT_00241d70 + uVar3 * 2) =
        (byte)(((uint)param_1[3] << 0x1b) >> 0x1b);
    *(byte *)((int)&DAT_00241d70 + iVar1 + 1) = param_1[2];
    *(byte *)((int)&DAT_00241d70 + iVar1 + 2) = param_1[1];
    if (uVar2 < 0x1fe) {
        DAT_00241d68 = uVar3;
    }
    *(byte *)((int)&DAT_00241d70 + iVar1 + 3) =
        (byte)(((uint)*param_1 << 0x1c) >> 0x1c);
    if (0x1fd < uVar2) {
        DAT_00241d68 = 0;
    }
    if (DAT_00241d70 < 0x1ff) {
        DAT_00241d70 = DAT_00241d70 + 1;
    } else {
        DAT_00241d70 = 0x1ff;
    }
    return;
}

void FUN_000376a4(undefined4 param_1)

{
    char local_810[2052];

    if ((DAT_001aea78 == 0) || (*(int *)(DAT_001aea78 + 4) == 0)) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_810, "Handle is NULL.\n", 0x10);
            local_810[0x10] = 0;
            FUN_00047ab4(3, local_810, 0);
            return;
        }
    } else {
        pthread_mutex_lock((pthread_mutex_t *)&DAT_00138630);
        if (*(int *)(DAT_001aea78 + 0xe8) == 0) {
            FUN_0003762c(param_1);
        } else {
            (**(code **)(*(int *)(DAT_001aea78 + 4) + 0x18))(param_1);
        }
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_00138630);
    }
    return;
}

undefined4 FUN_00037770(void)

{
    undefined4 uVar1;
    char local_808[16];
    uint local_7f8;

    if (4 < DAT_0009e31c) {
        builtin_strncpy(local_808, "[DEBUG] Get stat", 0x10);
        local_7f8._0_1_ = 's';
        local_7f8._1_1_ = '.';
        local_7f8._2_1_ = '\n';
        local_7f8._3_1_ = '\0';
        FUN_00047ab4(4, local_808, 0);
    }
    if ((DAT_001aea78 == 0) || (*(int *)(DAT_001aea78 + 4) == 0)) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_808, "Handle is NULL.\n", 0x10);
            local_7f8 = local_7f8 & 0xffffff00;
            FUN_00047ab4(3, local_808, 0);
            return 0;
        }
        uVar1 = 0;
    } else {
        uVar1 = (**(code **)(*(int *)(DAT_001aea78 + 4) + 0x20))();
    }
    return uVar1;
}

void FUN_00037834(undefined4 param_1)

{
    undefined4 uVar1;
    char acStack_810[2052];

    uVar1 = param_1;
    if (4 < DAT_0009e31c) {
        snprintf(acStack_810, 0x800,
                 "[DEBUG] Check if chain is unbalance happen, chain = %d.\n",
                 param_1);
        uVar1 = FUN_00047ab4(4, acStack_810, 0);
    }
    if ((DAT_001aea78 == 0) || (*(int *)(DAT_001aea78 + 4) == 0)) {
        if (3 < DAT_0009e31c) {
            FUN_00036f30(uVar1);
            return;
        }
    } else {
        (**(code **)(*(int *)(DAT_001aea78 + 4) + 0x24))(param_1);
    }
    return;
}

undefined4 FUN_000378dc(void)

{
    int iVar1;
    int iVar2;
    char local_810[36];
    undefined2 uStack_7ec;
    undefined1 local_7ea;

    if (4 < DAT_0009e31c) {
        builtin_strncpy(local_810, "[DEBUG] Check if is unbalance happen",
                        0x24);
        uStack_7ec = 0xa2e;
        local_7ea = 0;
        FUN_00047ab4(4, local_810, 0);
    }
    iVar2 = 0;
    while (true) {
        if ((*(int *)(DAT_000a0d68 + iVar2 * 4 + 4) == 1) &&
            (iVar1 = FUN_00037834(iVar2), iVar1 != 0))
            break;
        iVar2 = iVar2 + 1;
        if (iVar2 == 0x10) {
            return 0;
        }
    }
    return 1;
}

void FUN_00037994(float param_1, int param_2)

{
    char acStack_818[2052];

    if (4 < DAT_0009e31c) {
        snprintf(acStack_818, 0x800,
                 "[DEBUG] Check if chain is unqualified happen, chain = %d, "
                 "nonce_rate_threshold = %.2f\n",
                 param_2, (double)param_1);
        FUN_00047ab4(4, acStack_818, 0);
    }
    if ((DAT_001aea78 == 0) || (*(int *)(DAT_001aea78 + 4) == 0)) {
        if (3 < DAT_0009e31c) {
            FUN_00036f30(DAT_001aea78);
            return;
        }
    } else if (*(float *)(DAT_001aea78 + param_2 * 4 + 0xa8) < param_1) {
        *(undefined1 *)(DAT_001aea78 + param_2 + 0x58) = 1;
    }
    return;
}

void FUN_00037b2c(undefined4 param_1)

{
    undefined4 uVar1;
    char acStack_810[2052];

    uVar1 = param_1;
    if (4 < DAT_0009e31c) {
        snprintf(acStack_810, 0x800,
                 "[DEBUG] Check if recv nonce enough, chain = %d.\n", param_1);
        uVar1 = FUN_00047ab4(4, acStack_810, 0);
    }
    if ((DAT_001aea78 == 0) || (*(int *)(DAT_001aea78 + 4) == 0)) {
        if (3 < DAT_0009e31c) {
            FUN_00036f30(uVar1);
            return;
        }
    } else {
        (**(code **)(*(int *)(DAT_001aea78 + 4) + 0x28))(param_1);
    }
    return;
}

void FUN_00037bd4(int param_1, int param_2)

{
    int iVar1;
    int *piVar2;
    char *pcVar3;
    int iVar4;
    char local_810[2048];

    if (DAT_0009e31c < 4) {
        if (DAT_001aea78 == 0) {
            return;
        }
        if (*(int *)(DAT_001aea78 + 4) == 0) {
            return;
        }
    } else {
        if (param_2 == 0) {
            pcVar3 = "BLOCK";
        } else if (param_2 == 1) {
            pcVar3 = "READY";
        } else {
            pcVar3 = "DONE";
            if (param_2 != 2) {
                pcVar3 = "UNKNOWN";
            }
        }
        snprintf(local_810, 0x800, "chain = %d, status = %s\n", param_1,
                 pcVar3);
        FUN_00047ab4(3, local_810, 0);
        if ((DAT_001aea78 == 0) || (*(int *)(DAT_001aea78 + 4) == 0)) {
            if (DAT_0009e31c < 4) {
                return;
            }
            builtin_strncpy(local_810, "Handle is NULL.\n", 0x10);
            local_810[0x10] = 0;
            FUN_00047ab4(3, local_810, 0);
            return;
        }
    }
    iVar1 = DAT_001aea78;
    iVar4 = 0;
    piVar2 = DAT_000a0d68;
    do {
        piVar2 = piVar2 + 1;
        if (*piVar2 == 1) {
            if (param_1 == 0xff) {
                *(int *)(iVar1 + iVar4 * 4 + 8) = param_2;
            } else if (param_1 == iVar4) {
                *(int *)(iVar1 + (param_1 + 2) * 4) = param_2;
                return;
            }
        }
        iVar4 = iVar4 + 1;
    } while (iVar4 != 0x10);
    return;
}

undefined4 FUN_00037d44(int param_1)

{
    undefined4 uVar1;
    int iVar2;
    char *pcVar3;
    char local_810[2048];

    if (4 < DAT_0009e31c) {
        iVar2 = *(int *)(DAT_001aea78 + (param_1 + 2) * 4);
        if (iVar2 == 0) {
            pcVar3 = "BLOCK";
        } else if (iVar2 == 1) {
            pcVar3 = "READY";
        } else {
            pcVar3 = "UNKNOWN";
            if (iVar2 == 2) {
                pcVar3 = "DONE";
            }
        }
        snprintf(local_810, 0x800, "[DEBUG] chain = %d, status = %s\n", param_1,
                 pcVar3);
        FUN_00047ab4(4, local_810, 0);
    }
    if ((DAT_001aea78 == 0) || (*(int *)(DAT_001aea78 + 4) == 0)) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_810, "Handle is NULL.\n", 0x10);
            local_810[0x10] = 0;
            FUN_00047ab4(3, local_810, 0);
            return 2;
        }
        uVar1 = 2;
    } else {
        uVar1 = *(undefined4 *)(DAT_001aea78 + (param_1 + 2) * 4);
    }
    return uVar1;
}

void FUN_00037e60(void)

{
    char local_808[20];
    undefined2 local_7f4;

    if (4 < DAT_0009e31c) {
        builtin_strncpy(local_808, "[DEBUG] Clear stats.", 0x14);
        local_7f4 = 10;
        FUN_00047ab4(4, local_808, 0);
    }
    if ((DAT_001aea78 == 0) || (*(int *)(DAT_001aea78 + 4) == 0)) {
        if (3 < DAT_0009e31c) {
            FUN_00036e34();
            return;
        }
    } else {
        (**(code **)(*(int *)(DAT_001aea78 + 4) + 0xc))();
    }
    return;
}

undefined4 FUN_00037ef8(void)

{
    int iVar1;
    int iVar2;

    iVar2 = 0;
    while (true) {
        if ((*(int *)(DAT_000a0d68 + iVar2 * 4 + 4) == 1) &&
            (iVar1 = FUN_00037d44(iVar2), iVar1 == 0))
            break;
        iVar2 = iVar2 + 1;
        if (iVar2 == 0x10) {
            return 0;
        }
    }
    return 1;
}

undefined4 FUN_00037f50(void)

{
    int iVar1;
    int iVar2;

    iVar2 = 0;
    do {
        while (*(int *)(DAT_000a0d68 + iVar2 * 4 + 4) != 1) {
            iVar2 = iVar2 + 1;
            if (iVar2 == 0x10) {
                return 0;
            }
        }
        iVar1 = FUN_00037d44(iVar2);
        if (iVar1 == 1) {
            return 1;
        }
        iVar2 = iVar2 + 1;
    } while (iVar2 != 0x10);
    return 0;
}

void FUN_00037fa8(uint param_1)

{
    int iVar1;
    int iVar2;
    uint uVar3;
    char acStack_818[2048];

    if (4 < DAT_0009e31c) {
        snprintf(acStack_818, 0x800,
                 "[DEBUG] Set chain serial, chain_serial_count = %d.\n",
                 param_1);
        FUN_00047ab4(4, acStack_818, 0);
    }
    uVar3 = 0;
    iVar2 = 0;
    do {
        if (*(int *)(DAT_000a0d68 + iVar2 * 4 + 4) == 1) {
            if (param_1 <= uVar3) {
                return;
            }
            iVar1 = FUN_00037d44(iVar2);
            if (iVar1 == 0) {
                uVar3 = uVar3 + 1;
                FUN_00037bd4(iVar2, 1);
            }
        }
        iVar2 = iVar2 + 1;
    } while (iVar2 != 0x10);
    return;
}

void FUN_00038064(void)

{
    int iVar1;
    char local_810[16];
    uint local_800;
    undefined1 local_7fc;

    if (4 < DAT_0009e31c) {
        builtin_strncpy(local_810, "[DEBUG] Clear ct", 0x10);
        local_800._0_1_ = 'x';
        local_800._1_1_ = 't';
        local_800._2_1_ = '.';
        local_800._3_1_ = '\n';
        local_7fc = 0;
        FUN_00047ab4(4, local_810, 0);
    }
    iVar1 = DAT_001aea78;
    if ((DAT_001aea78 == 0) || (*(int *)(DAT_001aea78 + 4) == 0)) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_810, "Handle is NULL.\n", 0x10);
            local_800 = local_800 & 0xffffff00;
            FUN_00047ab4(3, local_810, 0);
            return;
        }
    } else {
        *(undefined4 *)(DAT_001aea78 + 0x48) = 0;
        *(undefined4 *)(iVar1 + 0x4c) = 0;
        *(undefined4 *)(iVar1 + 0x50) = 0;
        *(undefined4 *)(iVar1 + 0x54) = 0;
        *(undefined4 *)(iVar1 + 0x58) = 0;
        *(undefined4 *)(iVar1 + 0x5c) = 0;
        *(undefined4 *)(iVar1 + 0x60) = 0;
        *(undefined4 *)(iVar1 + 100) = 0;
        memset((void *)(iVar1 + 0x68), 0, 0x40);
        memset((void *)(iVar1 + 0xa8), 0, 0x40);
    }
    return;
}

bool FUN_0003816c(float param_1, float param_2, float param_3, int param_4)

{
    bool bVar1;
    uint uVar2;
    int iVar3;
    int iVar4;
    uint uVar5;
    float fVar6;
    float fVar7;
    char local_820[2048];

    iVar3 = FUN_00037770();
    if (4 < DAT_0009e31c) {
        snprintf(
            local_820, 0x800,
            "[DEBUG] Check if is need stop, chain = %d, hw_threshold = %.4f, "
            "nonce_rate_threshold = %.2f, nonce_rate_dec_threshold = %.2f.\n",
            param_4, (double)param_1, (double)param_2, (double)param_3);
        FUN_00047ab4(4, local_820, 0);
    }
    uVar2 = DAT_0009e31c;
    if ((DAT_001aea78 == 0) || (*(int *)(DAT_001aea78 + 4) == 0)) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_820, "Handle is NULL.\n", 0x10);
            local_820[0x10] = 0;
            FUN_00047ab4(3, local_820, 0);
            return true;
        }
    } else {
        iVar3 = iVar3 + param_4 * 4;
        uVar5 = (uint)(0.0 < param_1 * 238992.0) * (int)(param_1 * 238992.0);
        if (*(uint *)(&DAT_001d9f80 + iVar3) <= uVar5) {
            iVar4 = DAT_001aea78 + param_4 * 4;
            fVar7 = *(float *)(iVar4 + 0x68);
            fVar6 = (float)*(uint *)(&DAT_001d4000 + iVar3) / 238992.0;
            *(float *)(iVar4 + 0x68) = fVar6;
            if (*(float *)(iVar4 + 0xa8) < fVar6) {
                *(float *)(iVar4 + 0xa8) = fVar6;
            }
            if (3 < uVar2) {
                snprintf(local_820, 0x800,
                         "chain = %d, nonce_rate_curr = %.4f, nonce_rate_last "
                         "= %.4f, nonce_rate_max = %.4f\n",
                         param_4, (double)fVar6, (double)fVar7,
                         (double)*(float *)(iVar4 + 0xa8));
                FUN_00047ab4(3, local_820, 0);
            }
            iVar3 = FUN_00037834(param_4);
            if (iVar3 != 0) {
                *(undefined1 *)(DAT_001aea78 + param_4 + 0x48) = 1;
                return true;
            }
            if (fVar7 <= fVar6) {
                return false;
            }
            bVar1 =
                fVar6 < param_3 * *(float *)(DAT_001aea78 + param_4 * 4 + 0xa8);
            if (!bVar1) {
                return bVar1;
            }
            *(undefined1 *)(DAT_001aea78 + param_4 + 0x48) = 1;
            return bVar1;
        }
        if (3 < DAT_0009e31c) {
            snprintf(local_820, 0x800,
                     "chain = %d, hw = %d, hw_threshold = %d, too much hw.\n",
                     param_4, *(uint *)(&DAT_001d9f80 + iVar3), uVar5);
            FUN_00047ab4(3, local_820, 0);
            return true;
        }
    }
    return true;
}

undefined4 FUN_000383c0(void)

{
    int *piVar1;
    int *piVar2;
    char local_808[16];
    uint local_7f8;
    char acStack_7f4[24];
    undefined2 uStack_7dc;
    undefined1 local_7da;

    if (4 < DAT_0009e31c) {
        builtin_strncpy(local_808, "[DEBUG] Check if", 0x10);
        local_7f8._0_1_ = ' ';
        local_7f8._1_1_ = 'a';
        local_7f8._2_1_ = 'l';
        local_7f8._3_1_ = 'l';
        builtin_strncpy(acStack_7f4, " chain pattern test done", 0x18);
        uStack_7dc = 0xa2e;
        local_7da = 0;
        FUN_00047ab4(4, local_808, 0);
    }
    if ((DAT_001aea78 == 0) || (*(int *)(DAT_001aea78 + 4) == 0)) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_808, "Handle is NULL.\n", 0x10);
            local_7f8 = local_7f8 & 0xffffff00;
            FUN_00047ab4(3, local_808, 0);
            return 1;
        }
    } else {
        piVar1 = (int *)(DAT_001aea78 + 8);
        piVar2 = DAT_000a0d68;
        do {
            piVar2 = piVar2 + 1;
            if ((*piVar2 == 1) && (*piVar1 != 2)) {
                return 0;
            }
            piVar1 = piVar1 + 1;
        } while (piVar2 != DAT_000a0d68 + 0x10);
    }
    return 1;
}

undefined4 FUN_000384d8(void)

{
    uint *puVar1;
    int *piVar2;
    char local_808[16];
    uint local_7f8;
    char acStack_7f4[2028];

    if (4 < DAT_0009e31c) {
        builtin_strncpy(local_808, "[DEBUG] Check if", 0x10);
        local_7f8._0_1_ = ' ';
        local_7f8._1_1_ = 'a';
        local_7f8._2_1_ = 'l';
        local_7f8._3_1_ = 'l';
        builtin_strncpy(acStack_7f4, " chain pattern test done except block.\n",
                        0x28);
        FUN_00047ab4(4, local_808, 0);
    }
    if ((DAT_001aea78 == 0) || (*(int *)(DAT_001aea78 + 4) == 0)) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_808, "Handle is NULL.\n", 0x10);
            local_7f8 = local_7f8 & 0xffffff00;
            FUN_00047ab4(3, local_808, 0);
            return 1;
        }
    } else {
        puVar1 = (uint *)(DAT_001aea78 + 8);
        piVar2 = DAT_000a0d68;
        do {
            piVar2 = piVar2 + 1;
            if ((*piVar2 == 1) && ((*puVar1 & 0xfffffffd) != 0)) {
                return 0;
            }
            puVar1 = puVar1 + 1;
        } while (piVar2 != DAT_000a0d68 + 0x10);
    }
    return 1;
}

int FUN_000385ec(int param_1)

{
    uint uVar1;
    int iVar2;
    uint uVar3;
    int iVar4;
    char local_818[2052];

    if (4 < DAT_0009e31c) {
        snprintf(local_818, 0x800, "[DEBUG] Board init, is_power_off = %d.\n",
                 param_1);
        FUN_00047ab4(4, local_818, 0);
    }
    uVar3 = 0;
    do {
        while (*(int *)(DAT_000a0d68 + uVar3 * 4 + 4) == 1) {
            uVar1 = uVar3 & 0xff;
            uVar3 = uVar3 + 1;
            thunk_FUN_00075d08(uVar1);
            if (uVar3 == 0x10)
                goto LAB_00038654;
        }
        uVar3 = uVar3 + 1;
    } while (uVar3 != 0x10);
LAB_00038654:
    if (param_1 == 0) {
        iVar4 = 0;
        do {
            while (*(int *)(DAT_000a0d68 + iVar4 * 4 + 4) == 1) {
                iVar2 = iVar4 + 1;
                FUN_00070974(iVar4);
                iVar4 = iVar2;
                if (iVar2 == 0x10)
                    goto LAB_00038698;
            }
            iVar4 = iVar4 + 1;
        } while (iVar4 != 0x10);
    LAB_00038698:
        sleep(3);
        iVar2 = FUN_0001a240();
        iVar4 = 0;
        if (iVar2 == 0) {
            do {
                while (*(int *)(DAT_000a0d68 + iVar4 * 4 + 4) != 1) {
                    iVar4 = iVar4 + 1;
                    if (iVar4 == 0x10)
                        goto LAB_000386f0;
                }
                iVar2 = iVar4 + 1;
                FUN_000709b8(iVar4);
                iVar4 = iVar2;
            } while (iVar2 != 0x10);
        LAB_000386f0:
            sleep(3);
            FUN_0004a804(10);
            FUN_00021e78(0x1c200);
            FUN_0004a804(10);
        LAB_00038714:
            uVar3 = 0;
            FUN_00024904();
            do {
                while (*(int *)(DAT_000a0d68 + uVar3 * 4 + 4) == 1) {
                    uVar1 = uVar3 & 0xff;
                    uVar3 = uVar3 + 1;
                    FUN_00017598(uVar1, 0);
                    if (uVar3 == 0x10)
                        goto LAB_00038758;
                }
                uVar3 = uVar3 + 1;
            } while (uVar3 != 0x10);
        LAB_00038758:
            FUN_0004a804(10);
            FUN_00021f2c();
            FUN_0004a804(10);
            return 0;
        }
    } else {
        iVar2 = FUN_00022ab8();
        if (iVar2 == 0) {
            if (3 < DAT_0009e31c) {
                builtin_strncpy(local_818, "Sleep 30s for power release ...\n",
                                0x20);
                local_818[0x20] = 0;
                FUN_00047ab4(3, local_818, 0);
            }
            sleep(0x1e);
            iVar2 = FUN_0001a300();
            if (iVar2 == 0) {
                FUN_00021e78(0x1c200);
                FUN_0004a804(10);
                iVar2 = FUN_000239c4();
                if ((iVar2 == 0) && (iVar2 = FUN_0001a420(), iVar2 == 0))
                    goto LAB_00038714;
            }
        }
    }
    return iVar2;
}

void FUN_0003883c(int param_1, int param_2)

{
    uint uVar1;
    uint uVar2;
    uint uVar3;
    int iVar4;
    int iVar5;
    int iVar6;
    undefined4 local_828;
    char acStack_824[2048];

    if ((DAT_001aea78 == (int *)0x0) || (DAT_001aea78[1] == 0)) {
        if (DAT_0009e31c < 4) {
            return;
        }
        local_828._0_1_ = 'H';
        local_828._1_1_ = 'a';
        local_828._2_1_ = 'n';
        local_828._3_1_ = 'd';
        builtin_strncpy(acStack_824, "le is NULL.\n", 0xc);
        acStack_824[0xc] = 0;
        FUN_00047ab4(3, &local_828, 0);
        return;
    }
    if (DAT_0009e31c < 4)
        goto LAB_00038884;
    snprintf((char *)&local_828, 0x800, "chain %d:\n", param_1);
    FUN_00047ec8(3, &local_828, 0);
    if (DAT_0009e31c < 4) {
    LAB_00038c08:
        if (3 < DAT_0009e31c) {
            snprintf((char *)&local_828, 0x800, "%-30s : %d\n",
                     "nonce_num_top_check_fail",
                     *(undefined4 *)(param_2 + (param_1 + 0x767b0) * 4));
            FUN_00047ec8(3, &local_828, 0);
            if (DAT_0009e31c < 4)
                goto LAB_00038884;
            snprintf((char *)&local_828, 0x800, "%-30s : %d\n",
                     "nonce_num_crc_err",
                     *(undefined4 *)(param_2 + (param_1 + 0x767c0) * 4));
            FUN_00047ec8(3, &local_828, 0);
            goto LAB_00038c98;
        }
    LAB_00038d28:
        if (3 < DAT_0009e31c) {
            snprintf((char *)&local_828, 0x800, "%-30s : %d\n",
                     "nonce_num_extra",
                     *(undefined4 *)(param_2 + (param_1 + 0x767f0) * 4));
            FUN_00047ec8(3, &local_828, 0);
            if (DAT_0009e31c < 4)
                goto LAB_00038884;
            snprintf((char *)&local_828, 0x800, "%-30s : %d\n",
                     "nonce_num_unknown_err",
                     *(undefined4 *)(param_2 + (param_1 + 0x76800) * 4));
            FUN_00047ec8(3, &local_828, 0);
            goto LAB_00038db8;
        }
    } else {
        snprintf((char *)&local_828, 0x800, "%-30s : %d\n", "send_nonce_num",
                 0x3a590);
        FUN_00047ec8(3, &local_828, 0);
        if (DAT_0009e31c < 4)
            goto LAB_00038884;
        snprintf((char *)&local_828, 0x800, "%-30s : %d\n", "recv_nonce_num",
                 *(undefined4 *)(param_2 + (param_1 + 0x75000) * 4));
        FUN_00047ec8(3, &local_828, 0);
        if (3 < DAT_0009e31c) {
            snprintf(
                (char *)&local_828, 0x800, "%-30s : %f\n", "nonce_return_rate",
                (double)((float)*(uint *)(param_2 + (param_1 + 0x75000) * 4) /
                         238992.0));
            FUN_00047ec8(3, &local_828, 0);
            if (DAT_0009e31c < 4)
                goto LAB_00038884;
            snprintf((char *)&local_828, 0x800, "%-30s : %d\n",
                     "nonce_num_repeated",
                     *(undefined4 *)(param_2 + (param_1 + 0x767a0) * 4));
            FUN_00047ec8(3, &local_828, 0);
            goto LAB_00038c08;
        }
    LAB_00038c98:
        if (3 < DAT_0009e31c) {
            snprintf((char *)&local_828, 0x800, "%-30s : %d\n",
                     "nonce_num_invalid",
                     *(undefined4 *)(param_2 + (param_1 + 0x767d0) * 4));
            FUN_00047ec8(3, &local_828, 0);
            if (DAT_0009e31c < 4)
                goto LAB_00038884;
            snprintf((char *)&local_828, 0x800, "%-30s : %d\n", "nonce_num_hw",
                     *(undefined4 *)(param_2 + (param_1 + 0x767e0) * 4));
            FUN_00047ec8(3, &local_828, 0);
            goto LAB_00038d28;
        }
    LAB_00038db8:
        if (DAT_0009e31c < 4)
            goto LAB_00038884;
        snprintf((char *)&local_828, 0x800, "%-30s : %d\n", "invalid_asic_num",
                 *(undefined4 *)(param_2 + (param_1 + 0xeb330) * 4 + 4));
        FUN_00047ec8(3, &local_828, 0);
        if (DAT_0009e31c < 4)
            goto LAB_00038884;
        snprintf((char *)&local_828, 0x800, "%-30s : %d\n", "invalid_chain_num",
                 *(undefined4 *)(param_2 + 0x3accc0));
        FUN_00047ec8(3, &local_828, 0);
    }
    if (3 < DAT_0009e31c) {
        local_828 = CONCAT22(local_828._2_2_, 10);
        FUN_00047ec8(3, &local_828, 0);
        if (3 < DAT_0009e31c) {
            snprintf((char *)&local_828, 0x800, "Chain %d:\n", param_1);
            FUN_00047ab4(3, &local_828, 0);
        }
    }
LAB_00038884:
    param_2 = param_1 * 0x138 + param_2;
    uVar1 = DAT_0009e31c;
    uVar2 = 0;
    do {
        while (uVar1 < 4) {
        LAB_000388a8:
            uVar2 = uVar2 + 1;
            if (uVar2 == 0x4e)
                goto LAB_00038938;
        }
        uVar3 = uVar2 + 1;
        snprintf((char *)&local_828, 0x800, "IC[%03d]:%04d ", uVar2,
                 *(undefined4 *)(&DAT_001d2c80 + param_2 + uVar2 * 4));
        FUN_00047ec8(3, &local_828, 0);
        uVar1 = DAT_0009e31c;
        if ((uVar3 % 6 != 0) || (DAT_0009e31c < 4))
            goto LAB_000388a8;
        local_828 = CONCAT22(local_828._2_2_, 10);
        FUN_00047ec8(3, &local_828);
        uVar1 = DAT_0009e31c;
        uVar2 = uVar3;
    } while (uVar3 != 0x4e);
LAB_00038938:
    if (3 < uVar1) {
        local_828 = CONCAT22(local_828._2_2_, 10);
        FUN_00047ec8(3, &local_828, 0);
    }
    if (*DAT_001aea78 != 0xa1) {
        iVar5 = 0;
        param_2 = param_1 * -0x68 + param_2;
        uVar1 = DAT_0009e31c;
        iVar6 = param_2;
        do {
            iVar4 = 0;
            do {
                if (3 < uVar1) {
                    snprintf(
                        (char *)&local_828, 0x800, "D[%02d]:%04d ",
                        iVar5 * 4 + iVar4,
                        *(undefined4 *)(&DAT_001d8e40 + iVar6 + iVar4 * 4));
                    FUN_00047ec8(3, &local_828, 0);
                    uVar1 = DAT_0009e31c;
                }
                iVar4 = iVar4 + 1;
            } while (iVar4 != 4);
            if (3 < uVar1) {
                snprintf((char *)&local_828, 0x800, "D_BIG[%02d]:%05d\n", iVar5,
                         *(undefined4 *)(&DAT_001d9b40 + param_2 + iVar5 * 4 +
                                         param_1 * -0x9c));
                FUN_00047ec8(3, &local_828, 0);
                uVar1 = DAT_0009e31c;
            }
            iVar5 = iVar5 + 1;
            iVar6 = iVar6 + 0x10;
        } while (iVar5 != 0xd);
        if (3 < uVar1) {
            local_828 = CONCAT13(local_828._3_1_, 0xa0a);
            FUN_00047ec8(3, &local_828, 0);
            return;
        }
    }
    return;
}

float FUN_00038ecc(int param_1, int param_2)

{
    return (float)*(uint *)(param_2 + (param_1 + 0x75000) * 4) / 238992.0;
}

void FUN_00038eec(void *param_1, int param_2, undefined4 param_3)

{
    int *piVar1;
    undefined1 uVar2;
    int iVar3;
    void *pvVar4;
    int iVar5;
    int iVar6;
    void *pvVar7;
    int iVar8;
    int iVar9;
    undefined4 local_a98[156];
    char local_828[2052];

    if (3 < DAT_0009e31c) {
        builtin_strncpy(local_828, "Get asic grade by PM data:\n", 0x1c);
        FUN_00047ab4(3, local_828, 0);
    }
    memset(local_a98, 0, 0x270);
    iVar9 = 0;
    do {
        while (*(int *)(DAT_000a0d68 + iVar9 * 4 + 4) != 1) {
            iVar9 = iVar9 + 1;
            if (iVar9 == 0x10) {
                return;
            }
        }
        FUN_0002df9c(iVar9, local_a98);
        iVar8 = 0;
        iVar5 = 0;
        iVar6 = iVar9 * 0x4e + param_2;
        pvVar7 = param_1;
        do {
            iVar3 = iVar5 + 6;
            pvVar4 = pvVar7;
            do {
                *(undefined4 *)((int)pvVar7 + iVar5 * 8 + iVar8) =
                    local_a98[iVar5 * 2];
                *(int *)((int)pvVar4 + 4) = iVar5;
                iVar5 = iVar5 + 1;
                pvVar4 = (void *)((int)pvVar4 + 8);
            } while (iVar3 != iVar5);
            qsort(pvVar7, 6, 8, (__compar_fn_t)&LAB_00036ca4);
            iVar3 = 0;
            pvVar4 = pvVar7;
            do {
                piVar1 = (int *)((int)pvVar4 + 4);
                pvVar4 = (void *)((int)pvVar4 + 8);
                *(char *)(iVar6 + *piVar1) = (char)iVar3;
                iVar3 = iVar3 + 1;
            } while (iVar3 != 6);
            iVar8 = iVar8 + -0x30;
            pvVar7 = (void *)((int)pvVar7 + 0x30);
        } while (iVar8 != -0x270);
        if (3 < DAT_0009e31c) {
            local_828[0] = '1';
            local_828[1] = ' ';
            local_828[2] = 's';
            local_828[3] = 't';
            local_828[4] = 'e';
            local_828[5] = 'p';
            local_828[6] = ' ';
            local_828[7] = 'r';
            local_828[8] = 'e';
            local_828[9] = 's';
            local_828[10] = 'u';
            local_828[0xb] = 'l';
            local_828[0xc] = 't';
            local_828[0xd] = ':';
            local_828[0xe] = '\n';
            local_828[0xf] = '\0';
            FUN_00047ab4(3, local_828, 0);
        }
        FUN_00036cb4(iVar9, param_2);
        pvVar7 = param_1;
        do {
            iVar5 = 0;
            pvVar4 = pvVar7;
            do {
                iVar3 = *(int *)((int)pvVar4 + 4);
                iVar8 = iVar5 + 1;
                uVar2 = FUN_00077070(iVar5, param_3);
                pvVar4 = (void *)((int)pvVar4 + 8);
                *(undefined1 *)(iVar6 + iVar3) = uVar2;
                iVar5 = iVar8;
            } while (iVar8 != 6);
            pvVar7 = (void *)((int)pvVar7 + 0x30);
        } while ((void *)((int)param_1 + 0x270) != pvVar7);
        if (3 < DAT_0009e31c) {
            snprintf(local_828, 0x800, "%d step result:\n", param_3);
            FUN_00047ab4(3, local_828, 0);
        }
        iVar5 = iVar9 + 1;
        FUN_00036cb4(iVar9, param_2);
        iVar9 = iVar5;
    } while (iVar5 != 0x10);
    return;
}

void FUN_00039138(undefined4 param_1)

{
    int *piVar1;
    uint uVar2;
    int iVar3;
    uint uVar4;
    int iVar5;
    int iVar6;
    int *piVar7;
    int iVar8;
    int *piVar9;
    int iVar10;
    int iVar11;
    int iVar12;
    int iVar13;
    int *piVar14;
    uint local_874;
    int *local_870;
    int local_85c;
    char *local_858;
    int *local_854;
    int local_838;
    int local_834;
    int local_830;
    int local_82c;
    char local_828[16];
    uint local_818;
    undefined2 uStack_814;
    undefined1 local_812;

    if ((DAT_001aea78 == (int *)0x0) || (DAT_001aea78[1] == 0)) {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_828, "Handle is NULL.\n", 0x10);
            local_818 = local_818 & 0xffffff00;
            FUN_00047ab4(3, local_828, 0);
        }
    } else {
        if (3 < DAT_0009e31c) {
            builtin_strncpy(local_828, "Pattern test sta", 0x10);
            local_818._0_1_ = 'r';
            local_818._1_1_ = 't';
            local_818._2_1_ = '.';
            local_818._3_1_ = '.';
            uStack_814 = 0xa2e;
            local_812 = 0;
            FUN_00047ab4(3, local_828, 0);
        }
        local_858 = local_828;
        FUN_0004a60c(&local_838);
        FUN_00037e60();
        uVar2 = FUN_000702ac();
        FUN_000702cc(uVar2 | 0x10000);
        iVar8 = *DAT_001aea78;
        DAT_001aea78[0x3a] = 1;
        if (iVar8 == 0xa1) {
            FUN_00036f78(param_1);
        } else {
            FUN_0003702c();
        }
        iVar8 = 0;
        piVar9 = DAT_001aea78;
        do {
            while ((DAT_000a0d68[iVar8 + 1] != 1 || (piVar9[iVar8 + 2] != 1))) {
                iVar8 = iVar8 + 1;
                if (iVar8 == 0x10)
                    goto LAB_00039240;
            }
            iVar11 = 3;
            do {
                iVar3 = FUN_00037b2c(iVar8);
                if (iVar3 != 0)
                    break;
                usleep(100000);
                iVar11 = iVar11 + -1;
            } while (iVar11 != 0);
            iVar8 = iVar8 + 1;
            piVar9 = DAT_001aea78;
        } while (iVar8 != 0x10);
    LAB_00039240:
        piVar9[0x3a] = 0;
        iVar8 = FUN_00037770();
        piVar9 = DAT_001aea78;
        local_85c = 0;
        local_854 = DAT_000a0d68;
        do {
            local_854 = local_854 + 1;
            if ((*local_854 == 1) && (piVar9[local_85c + 2] == 1)) {
                local_874 = 0;
                local_870 = (int *)(local_85c * 0x1d2c8 + iVar8 + -4);
                do {
                    iVar11 = (local_85c * 0xd + local_874 / 6) * 4;
                    iVar3 = iVar8 + iVar11;
                    iVar12 = *(int *)(&DAT_001d9b40 + iVar3);
                    uVar2 = 0;
                    piVar14 = local_870;
                    do {
                        piVar14 = piVar14 + 1;
                        iVar5 = *piVar14;
                        uVar4 = uVar2 + 1;
                        iVar12 = iVar12 + iVar5;
                        iVar6 = iVar8 +
                                (local_85c * 0x2be + local_874 * 9 + iVar5) * 4;
                        iVar13 = iVar8 + ((local_85c * 0x4e + local_874) * 4 +
                                          uVar2 / 0x60) *
                                             4;
                        iVar10 = iVar8 + (uVar2 / 0x60 + iVar11) * 4;
                        *(int *)(&DAT_001d4040 + iVar13) =
                            *(int *)(&DAT_001d4040 + iVar13) + iVar5;
                        *(int *)(&DAT_001d8e40 + iVar10) =
                            *(int *)(&DAT_001d8e40 + iVar10) + iVar5;
                        *(int *)(iVar6 + 0x3acd04) =
                            *(int *)(iVar6 + 0x3acd04) + 1;
                        uVar2 = uVar4;
                    } while (uVar4 != 0x17f);
                    local_874 = local_874 + 1;
                    *(int *)(&DAT_001d9b40 + iVar3) = iVar12;
                    local_870 = local_870 + 0x17f;
                } while (local_874 != 0x4e);
                piVar14 = (int *)(iVar8 + 0x3acd04 + local_85c * 0xaf8);
                do {
                    piVar7 = piVar14;
                    do {
                        iVar11 = *piVar7;
                        piVar1 = piVar7 + 1;
                        piVar7 = piVar7 + 1;
                        *piVar7 = *piVar1 + iVar11;
                    } while (piVar7 != piVar14 + 8);
                    piVar14 = piVar14 + 9;
                } while (piVar14 !=
                         (int *)(iVar8 + 0x3ad7fc + local_85c * 0xaf8));
            }
            local_85c = local_85c + 1;
        } while (local_85c != 0x10);
        FUN_0004a60c(&local_830);
        local_830 = local_830 - local_838;
        if (local_82c - local_834 < 0) {
            local_830 = local_830 + -1;
        }
        if (3 < DAT_0009e31c) {
            snprintf(local_858, 0x800, "Pattern test done, time cost %lds\n",
                     local_830);
            FUN_00047ab4(3, local_858, 0);
        }
    }
    return;
}

undefined4 FUN_0003954c(void)

{
    int iVar1;
    int iVar2;
    undefined4 uVar3;

    iVar1 = FUN_0001a1c0();
    iVar2 = FUN_0001a1b0();
    if (iVar1 != iVar2) {
        uVar3 = FUN_0001a3b8();
        return uVar3;
    }
    return 0;
}

int FUN_00039574(uint param_1, uint param_2, int param_3, uint param_4)

{
    uint uVar1;
    uint uVar2;
    int iVar3;
    int iVar4;
    undefined4 uVar5;
    int *piVar6;
    int iVar7;
    float fVar8;
    uint local_848;
    uint local_82c;
    undefined4 local_828;
    char acStack_824[20];
    undefined4 uStack_810;
    undefined1 local_80c;

    if (3 < DAT_0009e31c) {
        snprintf(
            (char *)&local_828, 0x800,
            "freq_prev = %d, freq_start = %d, freq_step = %d, freq_max = %d\n",
            param_1, param_2, param_3, param_4);
        FUN_00047ab4(3, &local_828, 0);
    }
    local_848 = param_1;
    local_82c = param_2;
    if (param_4 < param_2) {
        return 0;
    }
LAB_00039614:
    if (3 < DAT_0009e31c) {
        local_828 = CONCAT22(local_828._2_2_, 10);
        FUN_00047ec8(3, &local_828, 0);
        if (3 < DAT_0009e31c) {
            snprintf((char *)&local_828, 0x800, ">>>> freq_curr = %d\n",
                     local_82c);
            FUN_00047ab4(3, &local_828, 0);
            iVar3 = FUN_00037f50();
            goto joined_r0x000398a0;
        }
    }
    iVar3 = FUN_00037f50();
joined_r0x000398a0:
    if (iVar3 == 0) {
        if (DAT_0009e31c < 4) {
            return 0;
        }
        local_828._0_1_ = 'A';
        local_828._1_1_ = 'l';
        local_828._2_1_ = 'l';
        local_828._3_1_ = ' ';
        builtin_strncpy(acStack_824, "ready chain done, ex", 0x14);
        uStack_810._0_1_ = 'i';
        uStack_810._1_1_ = 't';
        uStack_810._2_1_ = '.';
        uStack_810._3_1_ = '\n';
        local_80c = 0;
        FUN_00047ab4(3, &local_828, 0);
        return 0;
    }
    iVar3 = 0;
    do {
        while ((*(int *)(DAT_000a0d68 + iVar3 * 4 + 4) == 1 &&
                (iVar4 = FUN_00037d44(iVar3), iVar4 == 1))) {
            iVar4 = iVar3 + 1;
            FUN_00030b64(iVar3, DAT_000a0d79, local_848, local_82c,
                         DAT_0009c298, *(undefined1 *)(*DAT_001aea7c + 0x15));
            iVar3 = iVar4;
            if (iVar4 == 0x10)
                goto LAB_000396a8;
        }
        iVar3 = iVar3 + 1;
    } while (iVar3 != 0x10);
LAB_000396a8:
    local_848 = local_82c;
    iVar3 = FUN_0003954c();
    if (iVar3 != 0) {
        if (3 < DAT_0009e31c) {
            local_828._0_1_ = 'S';
            local_828._1_1_ = 'e';
            local_828._2_1_ = 't';
            local_828._3_1_ = ' ';
            builtin_strncpy(acStack_824, "voltage failed, exit", 0x14);
            uStack_810 = CONCAT13(uStack_810._3_1_, 0xa2e);
            FUN_00047ab4(3, &local_828, 0);
            return iVar3;
        }
        return iVar3;
    }
    FUN_00022e9c(local_82c, 8, 0x14);
    FUN_00039138(&local_82c);
    uVar5 = FUN_00037770();
    uVar2 = local_82c;
    iVar4 = 0;
    iVar3 = DAT_000a0d68;
    do {
        while (*(int *)(iVar3 + iVar4 * 4 + 4) == 1) {
            iVar3 = FUN_00037d44(iVar4);
            if (iVar3 == 1) {
                FUN_0003883c(iVar4, uVar5);
            }
            iVar4 = iVar4 + 1;
            iVar3 = DAT_000a0d68;
            if (iVar4 == 0x10)
                goto LAB_00039728;
        }
        iVar4 = iVar4 + 1;
    } while (iVar4 != 0x10);
LAB_00039728:
    iVar4 = 0;
    do {
        iVar7 = iVar3 + iVar4 * 4;
        iVar3 = DAT_000a0d68;
        if ((*(int *)(iVar7 + 4) == 1) &&
            (iVar7 = FUN_00037d44(iVar4), iVar3 = DAT_000a0d68, iVar7 == 1)) {
            iVar3 = *DAT_001aea7c;
            iVar3 = FUN_0003816c(*(undefined4 *)(iVar3 + 0x1c),
                                 *(undefined4 *)(iVar3 + 0x20),
                                 *(undefined4 *)(iVar3 + 0x24), iVar4);
            piVar6 = DAT_001aea7c;
            uVar1 = DAT_0009e31c;
            if (iVar3 == 0) {
                DAT_001aea7c[iVar4 + 1] = uVar2;
                piVar6[iVar4 + 0x11] = 1;
                if (3 < uVar1) {
                    snprintf((char *)&local_828, 0x800,
                             "Valid freq, chain = %d, freq_result = %d.\n",
                             iVar4, uVar2);
                    FUN_00047ab4(3, &local_828, 0);
                    piVar6 = DAT_001aea7c;
                }
                if (*(uint *)(*piVar6 + 8) <= (uint)piVar6[iVar4 + 1])
                    goto LAB_00039840;
            } else {
            LAB_00039840:
                FUN_00037bd4(iVar4, 2);
            }
            fVar8 = (float)FUN_00038ecc(iVar4, uVar5);
            iVar3 = DAT_000a0d68;
            if ((float)DAT_001aea7c[iVar4 + 0x21] < fVar8) {
                DAT_001aea7c[iVar4 + 0x21] = (int)fVar8;
                iVar3 = DAT_000a0d68;
            }
        }
        DAT_000a0d68 = iVar3;
        if (iVar4 == 0xf)
            break;
        iVar4 = iVar4 + 1;
    } while (true);
    local_82c = param_3 + local_82c;
    if (param_4 < local_82c) {
        return 0;
    }
    goto LAB_00039614;
}

undefined4 FUN_0003997c(void)

{
    undefined4 uVar1;
    char local_818[32];
    uint local_7f8;
    char acStack_7f4[2016];

    if (4 < DAT_0009e31c) {
        builtin_strncpy(local_818, "[DEBUG] Freq tuning basic init.\n", 0x20);
        local_7f8 = local_7f8 & 0xffffff00;
        FUN_00047ab4(4, local_818, 0);
        if (4 < DAT_0009e31c) {
            builtin_strncpy(local_818, "[DEBUG] Allocate memory for freq",
                            0x20);
            local_7f8._0_1_ = ' ';
            local_7f8._1_1_ = 't';
            local_7f8._2_1_ = 'u';
            local_7f8._3_1_ = 'n';
            builtin_strncpy(acStack_7f4, "ing basic.\n", 0xc);
            FUN_00047ab4(4, local_818, 0);
        }
    }
    if ((DAT_001aea7c == (void *)0x0) &&
        (DAT_001aea7c = calloc(0xc4, 1), DAT_001aea7c == (void *)0x0)) {
        FUN_00031794(0xd, 0xff);
        if (DAT_0009e31c < 4) {
            uVar1 = 0xffffffff;
        } else {
            builtin_strncpy(local_818, "Fail to allocate memory for freq",
                            0x20);
            local_7f8._0_1_ = ' ';
            local_7f8._1_1_ = 't';
            local_7f8._2_1_ = 'u';
            local_7f8._3_1_ = 'n';
            builtin_strncpy(acStack_7f4, "ing basic context.\n", 0x14);
            FUN_00047ab4(3, local_818, 0);
            uVar1 = 0xffffffff;
        }
    } else {
        uVar1 = 0;
    }
    return uVar1;
}

void FUN_00039ab4(void)

{
    char local_808[32];
    uint local_7e8;
    char acStack_7e4[2012];

    if (4 < DAT_0009e31c) {
        builtin_strncpy(local_808, "[DEBUG] Freq tuning basic exit.\n", 0x20);
        local_7e8 = local_7e8 & 0xffffff00;
        FUN_00047ab4(4, local_808, 0);
        if (4 < DAT_0009e31c) {
            builtin_strncpy(local_808, "[DEBUG] Free memory for freq tun",
                            0x20);
            local_7e8._0_1_ = 'i';
            local_7e8._1_1_ = 'n';
            local_7e8._2_1_ = 'g';
            local_7e8._3_1_ = ' ';
            builtin_strncpy(acStack_7e4, "basic.\n", 8);
            FUN_00047ab4(4, local_808, 0);
        }
    }
    if (DAT_001aea7c != (void *)0x0) {
        free(DAT_001aea7c);
        DAT_001aea7c = (void *)0x0;
    }
    return;
}

undefined4 FUN_00039b70(int param_1)

{
    return *(undefined4 *)(DAT_001aea7c + param_1 * 4 + 0x44);
}

undefined4 FUN_00039b88(int param_1)

{
    char acStack_808[2048];

    if (4 < DAT_0009e31c) {
        snprintf(acStack_808, 0x800, "[DEBUG] Get freq result, chain = %d.\n",
                 param_1);
        FUN_00047ab4(4, acStack_808, 0);
    }
    return *(undefined4 *)(DAT_001aea7c + param_1 * 4 + 4);
}

undefined4 FUN_00039bec(int param_1)

{
    return *(undefined4 *)(DAT_001aea7c + param_1 * 4 + 0x84);
}

void FUN_00039c04(void)

{
    char *pcVar1;
    char acStack_818[2052];

    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(acStack_818, 0x800, "%-40s : %d\n", "voltage",
             *(undefined4 *)*DAT_001aea7c);
    FUN_00047ec8(3, acStack_818, 0);
    if (DAT_0009e31c < 4) {
    LAB_00039d94:
        if (DAT_0009e31c < 4)
            goto LAB_00039ee0;
        pcVar1 = "false";
        if (*(char *)(*DAT_001aea7c + 0x14) != '\0') {
            pcVar1 = "true";
        }
        snprintf(acStack_818, 0x800, "%-40s : %s\n",
                 "is_inc_freq_with_high_vol", pcVar1);
        FUN_00047ec8(3, acStack_818, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        pcVar1 = "false";
        if (*(char *)(*DAT_001aea7c + 0x15) != '\0') {
            pcVar1 = "true";
        }
        snprintf(acStack_818, 0x800, "%-40s : %s\n",
                 "is_inc_freq_with_high_vol_runtime", pcVar1);
        FUN_00047ec8(3, acStack_818, 0);
    } else {
        snprintf(acStack_818, 0x800, "%-40s : %d\n", "freq_base",
                 *(undefined4 *)(*DAT_001aea7c + 4));
        FUN_00047ec8(3, acStack_818, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(acStack_818, 0x800, "%-40s : %d\n", "freq_threshold",
                 *(undefined4 *)(*DAT_001aea7c + 8));
        FUN_00047ec8(3, acStack_818, 0);
        if (3 < DAT_0009e31c) {
            snprintf(acStack_818, 0x800, "%-40s : %d\n",
                     "freq_serial_threshold",
                     *(undefined4 *)(*DAT_001aea7c + 0xc));
            FUN_00047ec8(3, acStack_818, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(acStack_818, 0x800, "%-40s : %d\n", "freq_step",
                     *(undefined4 *)(*DAT_001aea7c + 0x10));
            FUN_00047ec8(3, acStack_818, 0);
            goto LAB_00039d94;
        }
    }
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(acStack_818, 0x800, "%-40s : %d\n", "is_board_init_with_power_off",
             *(undefined4 *)(*DAT_001aea7c + 0x18));
    FUN_00047ec8(3, acStack_818, 0);
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(acStack_818, 0x800, "%-40s : %.4f\n", "hw_threshold",
             (double)*(float *)(*DAT_001aea7c + 0x1c));
    FUN_00047ec8(3, acStack_818, 0);
LAB_00039ee0:
    if (3 < DAT_0009e31c) {
        snprintf(acStack_818, 0x800, "%-40s : %.2f\n", "nonce_rate_threshold",
                 (double)*(float *)(*DAT_001aea7c + 0x20));
        FUN_00047ec8(3, acStack_818, 0);
        if (3 < DAT_0009e31c) {
            snprintf(acStack_818, 0x800, "%-40s : %.2f\n",
                     "nonce_rate_dec_threshold",
                     (double)*(float *)(*DAT_001aea7c + 0x24));
            FUN_00047ec8(3, acStack_818, 0);
            return;
        }
    }
    return;
}

int FUN_00039f80(int param_1)

{
    int *piVar1;
    int iVar2;
    int iVar3;
    uint uVar4;
    uint uVar5;
    int iVar6;
    uint uVar7;
    undefined4 local_828;
    char acStack_824[16];
    undefined4 uStack_814;
    undefined2 local_810;

    if (3 < DAT_0009e31c) {
        local_828._0_1_ = 'D';
        local_828._1_1_ = 'o';
        local_828._2_1_ = ' ';
        local_828._3_1_ = 'f';
        builtin_strncpy(acStack_824, "req tuning basic", 0x10);
        uStack_814._0_3_ = 0xa2e;
        FUN_00047ab4(3, &local_828, 0);
    }
    piVar1 = DAT_001aea7c;
    memset(DAT_001aea7c + 1, 0, 0xc0);
    *piVar1 = param_1;
    iVar2 = FUN_000385ec(*(undefined4 *)(param_1 + 0x18));
    if (iVar2 == 0) {
        FUN_00038064();
        FUN_0001a0f0(*(undefined4 *)*DAT_001aea7c);
        FUN_00030770(0xff, DAT_000a0d79, *(undefined4 *)(*DAT_001aea7c + 4),
                     *(undefined1 *)(*DAT_001aea7c + 0x14));
        iVar2 = FUN_0003954c();
        if (iVar2 == 0) {
            if (3 < DAT_0009e31c) {
                local_828._0_2_ = 10;
                FUN_00047ec8(3, &local_828, 0);
                if (3 < DAT_0009e31c) {
                    local_828._0_1_ = '>';
                    local_828._1_1_ = '>';
                    local_828._2_1_ = '>';
                    local_828._3_1_ = '>';
                    builtin_strncpy(acStack_824, " Do tuning paral", 0x10);
                    uStack_814._0_1_ = 'l';
                    uStack_814._1_1_ = 'e';
                    uStack_814._2_1_ = 'l';
                    uStack_814._3_1_ = '.';
                    local_810 = 10;
                    FUN_00047ab4(3, &local_828, 0);
                }
            }
            iVar2 = 0;
            do {
                while (*(int *)(DAT_000a0d68 + iVar2 * 4 + 4) == 1) {
                    iVar6 = iVar2 + 1;
                    FUN_00037bd4(iVar2);
                    iVar2 = iVar6;
                    if (iVar6 == 0x10)
                        goto LAB_0003a0c0;
                }
                iVar2 = iVar2 + 1;
            } while (iVar2 != 0x10);
        LAB_0003a0c0:
            iVar2 = *DAT_001aea7c;
            iVar2 = FUN_00039574(
                *(undefined4 *)(iVar2 + 4), *(undefined4 *)(iVar2 + 4),
                *(undefined4 *)(iVar2 + 0x10), *(undefined4 *)(iVar2 + 0xc));
            if ((iVar2 == 0) && (iVar6 = FUN_000383c0(), iVar6 == 0)) {
                if (3 < DAT_0009e31c) {
                    local_828._0_2_ = 10;
                    FUN_00047ec8(3, &local_828, 0);
                    if (3 < DAT_0009e31c) {
                        local_828._0_1_ = '>';
                        local_828._1_1_ = '>';
                        local_828._2_1_ = '>';
                        local_828._3_1_ = '>';
                        builtin_strncpy(acStack_824, " Do tuning seria", 0x10);
                        uStack_814._0_1_ = 'l';
                        uStack_814._1_1_ = '.';
                        uStack_814._2_1_ = '\n';
                        uStack_814._3_1_ = '\0';
                        FUN_00047ab4(3, &local_828, 0);
                    }
                }
                iVar6 = 0;
                do {
                    if ((*(int *)(DAT_000a0d68 + iVar6 * 4 + 4) == 1) &&
                        (iVar3 = FUN_00037d44(iVar6), iVar3 == 1)) {
                        FUN_00037bd4(iVar6, 0);
                    }
                    iVar6 = iVar6 + 1;
                } while (iVar6 != 0x10);
                iVar6 = *DAT_001aea7c;
                uVar7 = *(uint *)(iVar6 + 4);
                uVar5 = *(uint *)(iVar6 + 0xc);
                uVar4 = uVar7;
                if (uVar7 <= uVar5) {
                    uVar7 = uVar5;
                    uVar4 = uVar5 + *(int *)(iVar6 + 0x10);
                }
                while (iVar6 = FUN_00037ef8(), iVar6 != 0) {
                    if (3 < DAT_0009e31c) {
                        local_828._0_2_ = 10;
                        FUN_00047ec8(3, &local_828, 0);
                        if (3 < DAT_0009e31c) {
                            snprintf((char *)&local_828, 0x800,
                                     ">>>> Round %d:\n");
                            FUN_00047ab4(3, &local_828, 0);
                        }
                    }
                    FUN_00037fa8(2);
                    iVar6 = FUN_00039574(uVar7, uVar4,
                                         *(undefined4 *)(*DAT_001aea7c + 0x10),
                                         *(undefined4 *)(*DAT_001aea7c + 8));
                    if (iVar6 != 0) {
                        return iVar6;
                    }
                    do {
                        if ((*(int *)(DAT_000a0d68 + iVar6 * 4 + 4) == 1) &&
                            (iVar3 = FUN_00037d44(iVar6), iVar3 == 2)) {
                            uVar5 = *(uint *)(*DAT_001aea7c + 0xc);
                            if ((uint)DAT_001aea7c[iVar6 + 1] <= uVar5) {
                                uVar5 = DAT_001aea7c[iVar6 + 1];
                            }
                            FUN_00030770(iVar6, DAT_000a0d79, uVar5, 0);
                            if (3 < DAT_0009e31c) {
                                snprintf((char *)&local_828, 0x800,
                                         "Down freq, chain = %d, freq = %d.\n",
                                         iVar6, uVar5);
                                FUN_00047ab4(3, &local_828, 0);
                            }
                        }
                        iVar6 = iVar6 + 1;
                    } while (iVar6 != 0x10);
                }
            }
        }
    } else if (3 < DAT_0009e31c) {
        local_828._0_1_ = 'B';
        local_828._1_1_ = 'o';
        local_828._2_1_ = 'a';
        local_828._3_1_ = 'r';
        builtin_strncpy(acStack_824, "d init failed.\n", 0x10);
        FUN_00047ab4(3, &local_828, 0);
        return iVar2;
    }
    return iVar2;
}

uint FUN_0003a3c4(int param_1, int param_2)

{
    int *piVar1;
    uint uVar2;
    char acStack_810[2052];

    param_2 = param_1 * 0x138 + param_2;
    uVar2 = 0;
    piVar1 = (int *)(param_2 + -4);
    do {
        piVar1 = piVar1 + 1;
        uVar2 = uVar2 + *piVar1;
    } while (piVar1 != (int *)(param_2 + 0x134));
    if (4 < DAT_0009e31c) {
        snprintf(acStack_810, 0x800, "chain = %d, freq_avg = %d\n", param_1,
                 uVar2 / 0x4e);
        FUN_00047ab4(4, acStack_810, 0);
    }
    return uVar2 / 0x4e;
}

uint FUN_0003a458(int param_1, int param_2)

{
    uint *puVar1;
    uint *puVar2;
    uint uVar3;
    int iVar4;
    int *piVar5;
    char acStack_808[2048];

    uVar3 = 0xffffff;
    iVar4 = 0;
    puVar1 = (uint *)(param_2 + -4);
    piVar5 = DAT_000a0d68;
    do {
        piVar5 = piVar5 + 1;
        puVar2 = puVar1 + 0x4e;
        if ((*piVar5 == 1) && (param_1 == 0xff || param_1 == iVar4)) {
            do {
                puVar1 = puVar1 + 1;
                if (*puVar1 <= uVar3) {
                    uVar3 = *puVar1;
                }
            } while (puVar1 != puVar2);
        }
        iVar4 = iVar4 + 1;
        puVar1 = puVar2;
    } while (iVar4 != 0x10);
    if (4 < DAT_0009e31c) {
        snprintf(acStack_808, 0x800, "chain = %d, freq_min = %d\n", param_1,
                 uVar3);
        FUN_00047ab4(4, acStack_808, 0);
    }
    return uVar3;
}

uint FUN_0003a520(int param_1, int param_2)

{
    uint *puVar1;
    uint *puVar2;
    uint uVar3;
    int iVar4;
    int *piVar5;
    char acStack_808[2048];

    uVar3 = 0;
    iVar4 = 0;
    puVar1 = (uint *)(param_2 + -4);
    piVar5 = DAT_000a0d68;
    do {
        piVar5 = piVar5 + 1;
        puVar2 = puVar1 + 0x4e;
        if ((*piVar5 == 1) && (param_1 == 0xff || param_1 == iVar4)) {
            do {
                puVar1 = puVar1 + 1;
                if (uVar3 < *puVar1) {
                    uVar3 = *puVar1;
                }
            } while (puVar1 != puVar2);
        }
        iVar4 = iVar4 + 1;
        puVar1 = puVar2;
    } while (iVar4 != 0x10);
    if (4 < DAT_0009e31c) {
        snprintf(acStack_808, 0x800, "chain = %d, freq_max = %d\n", param_1,
                 uVar3);
        FUN_00047ab4(4, acStack_808, 0);
    }
    return uVar3;
}

undefined4 FUN_0003a5e8(int param_1)

{
    uint uVar1;
    int iVar2;
    int iVar3;
    uint uVar4;
    uint uVar5;
    int iVar6;
    char acStack_818[2048];

    uVar1 = FUN_0003a3c4(param_1, DAT_001aea80 + 1);
    iVar2 = FUN_0003a458(param_1, DAT_001aea80 + 1);
    iVar3 = FUN_0003a520(param_1, DAT_001aea80 + 1);
    uVar4 = FUN_0003a520(param_1, DAT_001aea80 + 0x4f1);
    iVar6 = *DAT_001aea80;
    uVar5 = *(uint *)(iVar6 + 0x44);
    if (uVar1 < uVar5) {
        if ((uint)(iVar3 - iVar2) < *(uint *)(iVar6 + 0x4c)) {
            if (uVar5 < uVar4) {
                if (3 < DAT_0009e31c) {
                    snprintf(acStack_818, 0x800,
                             "chain = %d, freq_max_runtime = %d, "
                             "freq_threshold = %d, max freq enough\n",
                             param_1, uVar4, uVar5);
                    goto LAB_0003a748;
                }
            } else {
                if ((uint)DAT_001aea80[param_1 + 0x9d1] <
                    *(int *)(iVar6 + 0x70) - 1U) {
                    return 0;
                }
                if (3 < DAT_0009e31c) {
                    snprintf(acStack_818, 0x800,
                             "chain = %d, grade_curr = %d, grade_max = %d, "
                             "grade done\n",
                             param_1, DAT_001aea80[param_1 + 0x9d1],
                             *(int *)(iVar6 + 0x70));
                LAB_0003a748:
                    FUN_00047ab4(3, acStack_818, 0);
                    return 1;
                }
            }
        } else if (3 < DAT_0009e31c) {
            snprintf(acStack_818, 0x800,
                     "chain = %d, freq_max = %d, freq_min = %d, freq_diff = "
                     "%d, freq_diff_threshold = %d, freq diff enough\n",
                     param_1, iVar3, iVar2, iVar3 - iVar2,
                     *(uint *)(iVar6 + 0x4c));
            goto LAB_0003a748;
        }
    } else if (3 < DAT_0009e31c) {
        snprintf(
            acStack_818, 0x800,
            "chain = %d, freq_avg = %d, freq_threshold = %d, avg freq enough\n",
            param_1, uVar1, uVar5);
        goto LAB_0003a748;
    }
    return 1;
}

void FUN_0003a79c(int param_1, int param_2, int param_3)

{
    uint uVar1;
    uint uVar2;
    uint uVar3;
    int local_840;
    undefined *local_828[513];

    if (4 < DAT_0009e31c) {
        snprintf((char *)local_828, 0x800,
                 "[DEBUG] Dump freq table, chain = %d.\n", param_1);
        FUN_00047ab4(4, local_828, 0);
    }
    local_840 = 0;
    do {
        if ((*(int *)(DAT_000a0d68 + local_840 * 4 + 4) == 1) &&
            (param_1 == 0xff || param_1 == local_840)) {
            if (3 < DAT_0009e31c) {
                snprintf((char *)local_828, 0x800, "chain = %d\n", local_840);
                FUN_00047ec8(3, local_828, 0);
            }
            uVar1 = DAT_0009e31c;
            uVar2 = 0;
            do {
                while (3 < uVar1) {
                    snprintf((char *)local_828, 0x800, "[%3d]:%-3d", uVar2,
                             *(undefined4 *)(local_840 * 0x138 + param_2 +
                                             uVar2 * 4));
                    FUN_00047ec8(3, local_828, 0);
                    uVar1 = DAT_0009e31c;
                    if (param_3 == 0) {
                        if (3 < DAT_0009e31c) {
                            local_828[0] = &DAT_00202020;
                            FUN_00047ec8(3, local_828, 0);
                            goto LAB_0003a968;
                        }
                    } else {
                        if ((uint) * (byte *)(*DAT_001aea80 + param_1 * 0x4e +
                                              uVar2 + 0x2e4) <=
                            (uint)DAT_001aea80[param_1 + 0x9d1])
                            goto LAB_0003a8b8;
                        if (3 < DAT_0009e31c) {
                            local_828[0] = &DAT_0020202b;
                            FUN_00047ec8(3, local_828, 0);
                            goto LAB_0003a968;
                        }
                    }
                LAB_0003a8c4:
                    uVar2 = uVar2 + 1;
                    if (uVar2 == 0x4e)
                        goto LAB_0003a9a8;
                }
                if ((param_3 == 0) ||
                    ((uint)DAT_001aea80[param_1 + 0x9d1] <
                     (uint) * (byte *)(*DAT_001aea80 + param_1 * 0x4e + uVar2 +
                                       0x2e4)))
                    goto LAB_0003a8c4;
            LAB_0003a8b8:
                if (uVar1 < 4)
                    goto LAB_0003a8c4;
                local_828[0] = &DAT_0020203d;
                FUN_00047ec8(3, local_828, 0);
            LAB_0003a968:
                uVar3 = uVar2 + 1;
                uVar1 = DAT_0009e31c;
                if ((uVar3 % 6 != 0) || (DAT_0009e31c < 4))
                    goto LAB_0003a8c4;
                local_828[0] = (undefined *)CONCAT22(local_828[0]._2_2_, 10);
                FUN_00047ec8(3, local_828);
                uVar1 = DAT_0009e31c;
                uVar2 = uVar3;
            } while (uVar3 != 0x4e);
        LAB_0003a9a8:
            if (3 < uVar1) {
                local_828[0] = (undefined *)CONCAT22(local_828[0]._2_2_, 10);
                FUN_00047ec8(3, local_828, 0);
            }
        }
        local_840 = local_840 + 1;
        if (local_840 == 0x10) {
            return;
        }
    } while (true);
}

undefined4 FUN_0003aa80(void)

{
    int iVar1;
    int iVar2;
    undefined4 uVar3;

    iVar1 = FUN_0001a1c0();
    iVar2 = FUN_0001a1b0();
    if (iVar1 != iVar2) {
        uVar3 = FUN_0001a3b8();
        return uVar3;
    }
    return 0;
}

int FUN_0003aaa8(int param_1)

{
    bool bVar1;
    int *piVar2;
    int iVar3;
    int iVar4;
    uint uVar5;
    int iVar6;
    byte *pbVar7;
    undefined4 uVar8;
    int *piVar9;
    uint uVar10;
    uint uVar11;
    undefined4 extraout_r1;
    uint *puVar12;
    uint *puVar13;
    int *piVar14;
    char *__format;
    uint *puVar15;
    int *piVar16;
    int iVar17;
    float fVar18;
    undefined8 uVar19;
    undefined8 uVar20;
    int *local_13d8;
    int local_13c0;
    undefined4 local_13b8;
    undefined1 local_13b4[4];
    undefined4 local_13b0;
    undefined4 uStack_13ac;
    undefined4 local_13a8;
    char acStack_13a4[12];
    undefined4 local_1398;
    char acStack_1394[4];
    undefined4 local_1390;
    undefined2 local_138c;

    if (3 < DAT_0009e31c) {
        local_13a8._0_2_ = 10;
        FUN_00047ec8(3, &local_13a8, 0);
        if (3 < DAT_0009e31c) {
            local_13a8._0_1_ = '>';
            local_13a8._1_1_ = '>';
            local_13a8._2_1_ = '>';
            local_13a8._3_1_ = '>';
            builtin_strncpy(acStack_13a4, " Do single g", 0xc);
            local_1398._0_1_ = 'r';
            local_1398._1_1_ = 'a';
            local_1398._2_1_ = 'd';
            local_1398._3_1_ = 'e';
            builtin_strncpy(acStack_1394, " tun", 4);
            local_1390._0_1_ = 'i';
            local_1390._1_1_ = 'n';
            local_1390._2_1_ = 'g';
            local_1390._3_1_ = '.';
            local_138c = 10;
            FUN_00047ab4(3, &local_13a8, 0);
        }
    }
    iVar6 = 0;
    do {
        while (((*(int *)(DAT_000a0d68 + iVar6 * 4 + 4) != 1 ||
                 (iVar3 = FUN_00037d44(iVar6), iVar3 != 1)) ||
                (DAT_0009e31c < 4))) {
            iVar6 = iVar6 + 1;
            if (iVar6 == 0x10)
                goto LAB_0003ab74;
        }
        iVar3 = iVar6 + 1;
        snprintf((char *)&local_13a8, 0x800, "chain = %d, grade = %d\n", iVar6,
                 DAT_001aea80[iVar6 + 0x9d1]);
        FUN_00047ab4(3, &local_13a8, 0);
        iVar6 = iVar3;
    } while (iVar3 != 0x10);
LAB_0003ab74:
    if (3 < DAT_0009e31c) {
        local_13a8._0_1_ = 'B';
        local_13a8._1_1_ = 'o';
        local_13a8._2_1_ = 'a';
        local_13a8._3_1_ = 'r';
        builtin_strncpy(acStack_13a4, "d init start", 0xc);
        local_1398._0_3_ = 0xa2e;
        FUN_00047ab4(3, &local_13a8, 0);
    }
    local_13c0 = FUN_000385ec(*(undefined4 *)(*DAT_001aea80 + 0x5c));
    if (local_13c0 == 0) {
        FUN_00038064();
        memset(DAT_001aea80 + 0x9e1, 0, 0x40);
        iVar6 = -(int)&local_13a8;
        memset(&local_13a8, 0, 0x1380);
        iVar3 = 0;
        puVar12 = &uStack_13ac;
        do {
            while (*(int *)(DAT_000a0d68 + iVar3 * 4 + 4) != 1) {
            LAB_0003acd8:
                iVar3 = iVar3 + 1;
                puVar12 = puVar12 + 0x4e;
                if (iVar3 == 0x10)
                    goto LAB_0003ad64;
            }
            iVar4 = FUN_00037d44(iVar3);
            if (iVar4 == 1) {
                puVar15 =
                    (uint *)((int)DAT_001aea80 + (int)puVar12 + iVar6 + 4);
                puVar13 = puVar12;
                do {
                    puVar15 = puVar15 + 1;
                    puVar13 = puVar13 + 1;
                    *puVar13 = *puVar15;
                } while (puVar15 != (uint *)((int)DAT_001aea80 + (int)puVar12 +
                                             -(int)&local_13a8 + 0x13c));
                goto LAB_0003acd8;
            }
            uVar5 = FUN_0003a3c4(iVar3, DAT_001aea80 + 1);
            uVar10 = *(uint *)(*DAT_001aea80 + 0x48);
            if (uVar5 <= uVar10) {
                puVar15 =
                    (uint *)((int)DAT_001aea80 + (int)puVar12 + iVar6 + 4);
                puVar13 = puVar12;
                do {
                    puVar15 = puVar15 + 1;
                    puVar13 = puVar13 + 1;
                    *puVar13 = *puVar15;
                } while (puVar15 != (uint *)((int)DAT_001aea80 + (int)puVar12 +
                                             -(int)&local_13a8 + 0x13c));
                goto LAB_0003acd8;
            }
            puVar13 = puVar12 + 0x4e;
            while (true) {
                puVar12 = puVar12 + 1;
                *puVar12 = uVar10;
                if (puVar12 == puVar13)
                    break;
                uVar10 = *(uint *)(*DAT_001aea80 + 0x48);
            }
            iVar3 = iVar3 + 1;
            puVar12 = puVar13;
        } while (iVar3 != 0x10);
    LAB_0003ad64:
        FUN_00030cac(&local_13a8, DAT_000a0d79, DAT_0009c298,
                     *(undefined1 *)(*DAT_001aea80 + 0x58));
        local_13c0 = FUN_0003aa80();
        if (local_13c0 == 0) {
            do {
                iVar6 = FUN_00037f50();
                if (iVar6 == 0) {
                LAB_0003ae64:
                    if (DAT_0009e31c < 4) {
                        return 0;
                    }
                    iVar6 = 1;
                LAB_0003ae78:
                    snprintf((char *)&local_13a8, 0x800,
                             "is_single_grade_done = %d\n", iVar6);
                    FUN_00047ab4(3, &local_13a8, 0);
                } else {
                    if (param_1 != 0) {
                        bVar1 = false;
                        iVar6 = 0;
                        do {
                            while (
                                (*(int *)(DAT_000a0d68 + iVar6 * 4 + 4) != 1 ||
                                 (iVar3 = FUN_00037d44(iVar6), iVar3 != 1))) {
                                iVar6 = iVar6 + 1;
                                if (iVar6 == 0x10)
                                    goto LAB_0003ae5c;
                            }
                            uVar5 = FUN_0003a3c4(iVar6, DAT_001aea80 + 0x4f1);
                            if (3 < DAT_0009e31c) {
                                snprintf((char *)&local_13a8, 0x800,
                                         "chain = %d, freq_avg = %d, "
                                         "freq_threshold = %d\n",
                                         iVar6, uVar5,
                                         *(undefined4 *)(*DAT_001aea80 + 0x48));
                                FUN_00047ab4(3, &local_13a8, 0);
                            }
                            iVar6 = iVar6 + 1;
                            if (*(uint *)(*DAT_001aea80 + 0x48) < uVar5) {
                                bVar1 = true;
                            }
                        } while (iVar6 != 0x10);
                    LAB_0003ae5c:
                        if (bVar1)
                            goto LAB_0003ae64;
                    }
                    iVar6 = 1;
                    iVar3 = 0;
                    do {
                        while ((*(int *)(DAT_000a0d68 + iVar3 * 4 + 4) == 1 &&
                                (iVar4 = FUN_00037d44(iVar3), iVar4 == 1))) {
                            iVar4 = DAT_001aea80[iVar3 + 0x9e1];
                            if (3 < DAT_0009e31c) {
                                snprintf((char *)&local_13a8, 0x800,
                                         "chain = %d, grade_curr = %d, "
                                         "is_grade_curr_done = %d\n",
                                         iVar3, DAT_001aea80[iVar3 + 0x9d1],
                                         iVar4);
                                FUN_00047ab4(3, &local_13a8, 0);
                                iVar4 = DAT_001aea80[iVar3 + 0x9e1];
                            }
                            iVar3 = iVar3 + 1;
                            if (iVar4 == 0) {
                                iVar6 = 0;
                            }
                            if (iVar3 == 0x10)
                                goto LAB_0003b310;
                        }
                        iVar3 = iVar3 + 1;
                    } while (iVar3 != 0x10);
                LAB_0003b310:
                    if (3 < DAT_0009e31c)
                        goto LAB_0003ae78;
                }
                if (iVar6 != 0) {
                    return 0;
                }
                iVar6 = 0;
                do {
                    while (((*(int *)(DAT_000a0d68 + iVar6 * 4 + 4) != 1 ||
                             (iVar3 = FUN_00037d44(iVar6), iVar3 != 1)) ||
                            (DAT_001aea80[iVar6 + 0x9e1] != 0))) {
                        iVar6 = iVar6 + 1;
                        if (iVar6 == 0x10)
                            goto LAB_0003b064;
                    }
                    iVar3 = *DAT_001aea80;
                    uVar10 = DAT_001aea80[iVar6 + 0x9d1];
                    puVar12 = (uint *)(DAT_001aea80 + iVar6 * 0x4e + 0x4f0);
                    puVar15 = (uint *)(DAT_001aea80 + iVar6 * 0x4e + 0x4e);
                    puVar13 = (uint *)(DAT_001aea80 + iVar6 * 0x4e);
                    pbVar7 = (byte *)(iVar6 * 0x4e + iVar3 + 0x2e3);
                    uVar5 = 0;
                    do {
                        puVar13 = puVar13 + 1;
                        uVar11 = *puVar13;
                        puVar12 = puVar12 + 1;
                        *puVar12 = uVar11;
                        pbVar7 = pbVar7 + 1;
                        if (uVar10 < *pbVar7) {
                            uVar5 = uVar11 + *(int *)(iVar3 + 0x50);
                            *puVar12 = uVar5;
                        }
                    } while (puVar15 != puVar13);
                    if (*(char *)(iVar3 + 0x59) != '\0') {
                        FUN_000306f0(uVar5, 1);
                    }
                    FUN_00074e08((float)uVar5, &local_13b0, local_13b4, 0);
                    uStack_13ac._0_3_ =
                        CONCAT12(local_13b4[0], (undefined2)uStack_13ac);
                    if (3 < DAT_0009e31c) {
                        snprintf(
                            (char *)&local_13a8, 0x800,
                            "chain = %d, grade_curr = %d, freq_target = %d\n",
                            iVar6, DAT_001aea80[iVar6 + 0x9d1], uVar5);
                        FUN_00047ab4(3, &local_13a8, 0);
                    }
                    iVar3 = 0;
                    local_13d8 = DAT_001aea80;
                    while (iVar3 = iVar3 + 1, iVar3 != 6) {
                        while (true) {
                            iVar4 = *local_13d8;
                            uVar5 = FUN_00077070(iVar3,
                                                 *(undefined4 *)(iVar4 + 0x6c));
                            if (uVar5 <= (uint)local_13d8[iVar6 + 0x9d1])
                                break;
                            iVar17 = 0;
                            while (true) {
                                FUN_0001b1f4(
                                    iVar6, 0,
                                    *(int *)(iVar4 + (iVar3 + iVar17 * 6) * 8 +
                                             0x78) *
                                            3 &
                                        0xff,
                                    DAT_000a0d79, local_13b0, uStack_13ac);
                                if (iVar17 + 1 == 0xd)
                                    break;
                                iVar4 = *DAT_001aea80;
                                iVar17 = iVar17 + 1;
                            }
                            iVar3 = iVar3 + 1;
                            usleep(1000000);
                            local_13d8 = DAT_001aea80;
                            if (iVar3 == 6)
                                goto LAB_0003b03c;
                        }
                    }
                LAB_0003b03c:
                    iVar3 = iVar6 + 1;
                    FUN_0003a79c(iVar6, local_13d8 + 0x4f1, 1);
                    iVar6 = iVar3;
                } while (iVar3 != 0x10);
            LAB_0003b064:
                uVar8 = FUN_0003a458(0xff, DAT_001aea80 + 0x4f1);
                FUN_00022e9c(uVar8, 8, 0x14);
                iVar6 = FUN_0003aa80();
                if (iVar6 != 0) {
                    return iVar6;
                }
                local_13b8 = FUN_0003a520(0xff, DAT_001aea80 + 0x4f1);
                FUN_00039138(&local_13b8);
                uVar19 = FUN_00037770();
                uVar8 = (undefined4)((ulonglong)uVar19 >> 0x20);
                iVar6 = 0;
                iVar3 = DAT_000a0d68;
                do {
                    while (*(int *)(iVar3 + iVar6 * 4 + 4) != 1) {
                        iVar6 = iVar6 + 1;
                        if (iVar6 == 0x10)
                            goto LAB_0003b11c;
                    }
                    uVar20 = FUN_00037d44(iVar6, uVar8);
                    uVar8 = (int)((ulonglong)uVar20 >> 0x20);
                    if (((int)uVar20 == 1) &&
                        (uVar8 = (int)uVar19,
                         DAT_001aea80[iVar6 + 0x9e1] == 0)) {
                        FUN_0003883c(iVar6);
                        uVar8 = extraout_r1;
                    }
                    iVar6 = iVar6 + 1;
                    iVar3 = DAT_000a0d68;
                } while (iVar6 != 0x10);
            LAB_0003b11c:
                iVar6 = 0;
                local_13d8 = (int *)0x7f210;
                do {
                    if (((*(int *)(iVar3 + iVar6 * 4 + 4) == 1) &&
                         (iVar3 = FUN_00037d44(iVar6), iVar3 == 1)) &&
                        (DAT_001aea80[iVar6 + 0x9e1] == 0)) {
                        iVar3 = *DAT_001aea80;
                        iVar3 =
                            FUN_0003816c(*(undefined4 *)(iVar3 + 0x60),
                                         *(undefined4 *)(iVar3 + 100),
                                         *(undefined4 *)(iVar3 + 0x68), iVar6);
                        piVar2 = DAT_001aea80;
                        uVar5 = DAT_0009e31c;
                        if (iVar3 == 0) {
                            piVar16 = DAT_001aea80 + iVar6 * 0x4e;
                            piVar14 = DAT_001aea80 + iVar6 * 0x4e + 0x4f0;
                            piVar9 = DAT_001aea80 + iVar6 * 0x4e + 0x4e;
                            do {
                                piVar14 = piVar14 + 1;
                                piVar16 = piVar16 + 1;
                                *piVar16 = *piVar14;
                            } while (piVar16 != piVar9);
                            piVar2[iVar6 + 0x4e1] = 1;
                            if (3 < DAT_0009e31c) {
                                snprintf((char *)&local_13a8, 0x800,
                                         "Update freq result of high grade, "
                                         "chain = %d, grade_curr = %d.\n",
                                         iVar6, piVar2[iVar6 + 0x9d1]);
                                FUN_00047ab4(3, &local_13a8, 0);
                                if (3 < DAT_0009e31c) {
                                    iVar3 = DAT_001aea80[iVar6 + 0x9d1];
                                    __format = "Update high grade freq: chain "
                                               "= %d, grade_curr = %d\n";
                                    goto LAB_0003b42c;
                                }
                            }
                        } else {
                            piVar9 = DAT_001aea80 + iVar6 + 0x9d1;
                            DAT_001aea80[iVar6 + 0x9e1] = 1;
                            iVar3 = *piVar9 + 1;
                            piVar2[iVar6 + 0x9d1] = iVar3;
                            __format = (char *)local_13d8;
                            if (3 < uVar5) {
                            LAB_0003b42c:
                                snprintf((char *)&local_13a8, 0x800, __format,
                                         iVar6, iVar3);
                                FUN_00047ab4(3, &local_13a8, 0);
                            }
                        }
                        fVar18 = (float)FUN_00038ecc(iVar6, (int)uVar19);
                        if ((float)DAT_001aea80[iVar6 + 0x9f1] < fVar18) {
                            DAT_001aea80[iVar6 + 0x9f1] = (int)fVar18;
                        }
                        iVar3 = FUN_0003a5e8(iVar6);
                        if (iVar3 != 0) {
                            FUN_00037bd4(iVar6, 2);
                        }
                    }
                    iVar6 = iVar6 + 1;
                    iVar3 = DAT_000a0d68;
                } while (iVar6 != 0x10);
            } while (true);
        }
    } else if (3 < DAT_0009e31c) {
        local_13a8._0_1_ = 'B';
        local_13a8._1_1_ = 'o';
        local_13a8._2_1_ = 'a';
        local_13a8._3_1_ = 'r';
        builtin_strncpy(acStack_13a4, "d init faile", 0xc);
        local_1398._0_1_ = 'd';
        local_1398._1_1_ = ',';
        local_1398._2_1_ = ' ';
        local_1398._3_1_ = 'e';
        builtin_strncpy(acStack_1394, "xit.", 4);
        local_1390 = CONCAT22(local_1390._2_2_, 10);
        FUN_00047ab4(3, &local_13a8, 0);
        return local_13c0;
    }
    return local_13c0;
}

void FUN_0003b4ec(void)

{
    char local_808[32];
    undefined2 uStack_7e8;
    undefined1 local_7e6;

    if (4 < DAT_0009e31c) {
        builtin_strncpy(local_808, "[DEBUG] PM grade exit.\n", 0x18);
        FUN_00047ab4(4, local_808, 0);
        if (4 < DAT_0009e31c) {
            builtin_strncpy(local_808, "[DEBUG] Free memory for pm grade",
                            0x20);
            uStack_7e8 = 0xa2e;
            local_7e6 = 0;
            FUN_00047ab4(4, local_808, 0);
        }
    }
    if (DAT_001aea80 != (void *)0x0) {
        free(DAT_001aea80);
        DAT_001aea80 = (void *)0x0;
    }
    return;
}

undefined4 FUN_0003b5a8(int param_1)

{
    return *(undefined4 *)(DAT_001aea80 + (param_1 + 0x4e0) * 4 + 4);
}

void FUN_0003b5c4(int param_1, int param_2)

{
    int iVar1;
    undefined4 *puVar2;
    undefined4 *puVar3;
    char acStack_810[2052];

    if (4 < DAT_0009e31c) {
        snprintf(acStack_810, 0x800, "[DEBUG] Get freq result, chain = %d.\n",
                 param_1);
        FUN_00047ab4(4, acStack_810, 0);
    }
    puVar2 = (undefined4 *)(param_2 + -4);
    iVar1 = DAT_001aea80 + 0x138;
    puVar3 = (undefined4 *)(DAT_001aea80 + param_1 * 0x138);
    do {
        puVar3 = puVar3 + 1;
        puVar2 = puVar2 + 1;
        *puVar2 = *puVar3;
    } while (puVar3 != (undefined4 *)(iVar1 + param_1 * 0x138));
    return;
}

undefined4 FUN_0003b658(int param_1)

{
    return *(undefined4 *)(DAT_001aea80 + (param_1 + 0x9f0) * 4 + 4);
}

void FUN_0003b674(void)

{
    uint uVar1;
    int iVar2;
    int iVar3;
    char *pcVar4;
    undefined8 in_stack_fffff7e0;
    undefined8 uVar5;
    char local_818[2048];

    if (3 < DAT_0009e31c) {
        uVar5 = CONCAT44((int)((ulonglong)in_stack_fffff7e0 >> 0x20),
                         *(undefined4 *)*DAT_001aea80);
        snprintf(local_818, 0x800, "%-40s : %d\n", "voltage",
                 *(undefined4 *)*DAT_001aea80);
        FUN_00047ec8(3, local_818, 0);
        if (3 < DAT_0009e31c) {
            snprintf(local_818, 0x800, "%-40s : ", "freq_base", uVar5);
            FUN_00047ec8(3, local_818, 0);
        }
    }
    uVar1 = DAT_0009e31c;
    iVar2 = 0;
    do {
        while ((*(int *)(DAT_000a0d68 + iVar2 * 4 + 4) != 1 || (uVar1 < 4))) {
            iVar2 = iVar2 + 1;
            if (iVar2 == 0x10)
                goto LAB_0003b728;
        }
        iVar3 = iVar2 + 1;
        snprintf(local_818, 0x800, "[%d] = %d ", iVar2,
                 *(undefined4 *)(*DAT_001aea80 + iVar2 * 4 + 4));
        FUN_00047ec8(3, local_818, 0);
        uVar1 = DAT_0009e31c;
        iVar2 = iVar3;
    } while (iVar3 != 0x10);
LAB_0003b728:
    if (uVar1 < 4) {
        return;
    }
    local_818[0] = '\n';
    local_818[1] = '\0';
    FUN_00047ec8(3, local_818, 0);
    if (DAT_0009e31c < 4) {
    LAB_0003b900:
        if (3 < DAT_0009e31c) {
            snprintf(local_818, 0x800, "%-40s : %d\n", "freq_bad_asic_dec",
                     *(undefined4 *)(*DAT_001aea80 + 0x54));
            FUN_00047ec8(3, local_818, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            pcVar4 = "true";
            if (*(char *)(*DAT_001aea80 + 0x58) == '\0') {
                pcVar4 = "false";
            }
            snprintf(local_818, 0x800, "%-40s : %s\n",
                     "is_inc_freq_with_high_vol", pcVar4);
            FUN_00047ec8(3, local_818, 0);
            goto LAB_0003b9b0;
        }
    LAB_0003ba58:
        if (DAT_0009e31c < 4)
            goto LAB_0003bb8c;
        snprintf(local_818, 0x800, "%-40s : %.4f\n", "hw_threshold",
                 (double)*(float *)(*DAT_001aea80 + 0x60));
        FUN_00047ec8(3, local_818, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_818, 0x800, "%-40s : %.2f\n", "nonce_rate_threshold",
                 (double)*(float *)(*DAT_001aea80 + 100));
        FUN_00047ec8(3, local_818, 0);
    } else {
        snprintf(local_818, 0x800, "%-40s : %d\n", "freq_threshold",
                 *(undefined4 *)(*DAT_001aea80 + 0x44));
        FUN_00047ec8(3, local_818, 0);
        if (DAT_0009e31c < 4) {
            return;
        }
        snprintf(local_818, 0x800, "%-40s : %d\n", "freq_serial_threshold",
                 *(undefined4 *)(*DAT_001aea80 + 0x48));
        FUN_00047ec8(3, local_818, 0);
        if (3 < DAT_0009e31c) {
            snprintf(local_818, 0x800, "%-40s : %d\n", "freq_diff_threshold",
                     *(undefined4 *)(*DAT_001aea80 + 0x4c));
            FUN_00047ec8(3, local_818, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_818, 0x800, "%-40s : %d\n", "freq_step",
                     *(undefined4 *)(*DAT_001aea80 + 0x50));
            FUN_00047ec8(3, local_818, 0);
            goto LAB_0003b900;
        }
    LAB_0003b9b0:
        if (3 < DAT_0009e31c) {
            pcVar4 = "true";
            if (*(char *)(*DAT_001aea80 + 0x59) == '\0') {
                pcVar4 = "false";
            }
            snprintf(local_818, 0x800, "%-40s : %s\n",
                     "is_inc_freq_with_high_vol_runtime", pcVar4);
            FUN_00047ec8(3, local_818, 0);
            if (DAT_0009e31c < 4) {
                return;
            }
            snprintf(local_818, 0x800, "%-40s : %d\n",
                     "is_board_init_with_power_off",
                     *(undefined4 *)(*DAT_001aea80 + 0x5c));
            FUN_00047ec8(3, local_818, 0);
            goto LAB_0003ba58;
        }
    }
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_818, 0x800, "%-40s : %.2f\n", "nonce_rate_dec_threshold",
             (double)*(float *)(*DAT_001aea80 + 0x68));
    FUN_00047ec8(3, local_818, 0);
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_818, 0x800, "%-40s : %d\n", "pm_grade_step",
             *(undefined4 *)(*DAT_001aea80 + 0x6c));
    FUN_00047ec8(3, local_818, 0);
LAB_0003bb8c:
    if (DAT_0009e31c < 4) {
        return;
    }
    snprintf(local_818, 0x800, "%-40s : %d\n", "pm_grade_count",
             *(undefined4 *)(*DAT_001aea80 + 0x70));
    FUN_00047ec8(3, local_818, 0);
    return;
}

undefined4 FUN_0003bbe8(undefined4 param_1)

{
    undefined4 uVar1;
    char local_818[36];
    undefined4 uStack_7f4;
    char acStack_7f0[4];
    undefined2 uStack_7ec;
    undefined1 local_7ea;

    if (4 < DAT_0009e31c) {
        builtin_strncpy(local_818, "[DEBUG] PM grade init.\n", 0x18);
        FUN_00047ab4(4, local_818, 0);
        if (4 < DAT_0009e31c) {
            builtin_strncpy(local_818, "[DEBUG] Allocate memory for pm grade",
                            0x24);
            uStack_7f4 = CONCAT13(uStack_7f4._3_1_, 0xa2e);
            FUN_00047ab4(4, local_818, 0);
        }
    }
    if ((DAT_001aea80 == (undefined4 *)0x0) &&
        (DAT_001aea80 = (undefined4 *)calloc(0x2804, 1),
         DAT_001aea80 == (undefined4 *)0x0)) {
        FUN_00031794(0xd, 0xff);
        if (DAT_0009e31c < 4) {
            uVar1 = 0xffffffff;
        } else {
            builtin_strncpy(local_818, "Fail to allocate memory for pm grade",
                            0x24);
            uStack_7f4._0_1_ = ' ';
            uStack_7f4._1_1_ = 'c';
            uStack_7f4._2_1_ = 'o';
            uStack_7f4._3_1_ = 'n';
            builtin_strncpy(acStack_7f0, "text", 4);
            uStack_7ec = 0xa2e;
            local_7ea = 0;
            FUN_00047ab4(3, local_818, 0);
            uVar1 = 0xffffffff;
        }
    } else {
        *DAT_001aea80 = param_1;
        FUN_0003b674();
        uVar1 = 0;
    }
    return uVar1;
}

int FUN_0003bd34(void)

{
    int *piVar1;
    uint *puVar2;
    int iVar3;
    int *piVar4;
    undefined4 uVar5;
    uint uVar6;
    int *piVar7;
    uint uVar8;
    uint uVar9;
    uint *puVar10;
    bool bVar11;
    int *piVar12;
    int iVar13;
    int iVar14;
    undefined4 local_828;
    char acStack_824[20];
    undefined4 local_810;
    uint local_80c;
    uint local_808;
    char acStack_804[2016];

    if (3 < DAT_0009e31c) {
        local_828._0_1_ = 'D';
        local_828._1_1_ = 'o';
        local_828._2_1_ = ' ';
        local_828._3_1_ = 'f';
        builtin_strncpy(acStack_824, "req tuning PM grade.", 0x14);
        local_810._0_2_ = 10;
        FUN_00047ab4(3, &local_828, 0);
    }
    piVar1 = DAT_001aea80;
    bVar11 = true;
    iVar14 = 0;
    piVar7 = DAT_001aea80;
    piVar12 = DAT_000a0d68;
    do {
        while (piVar12 = piVar12 + 1, *piVar12 != 1) {
            piVar7 = piVar7 + 0x4e;
            iVar14 = iVar14 + 1;
            if (iVar14 == 0x10)
                goto LAB_0003bde8;
        }
        iVar3 = *piVar1;
        iVar13 = iVar3 + iVar14 * 4;
        uVar9 = *(uint *)(iVar13 + 4);
        if (uVar9 < *(uint *)(iVar3 + 0x44)) {
            iVar3 = *(int *)(iVar3 + 0x54);
            bVar11 = false;
        } else {
            iVar3 = 0;
        }
        piVar4 = piVar7 + 0x4e;
        while (true) {
            piVar7 = piVar7 + 1;
            *piVar7 = uVar9 - iVar3;
            if (piVar7 == piVar4)
                break;
            uVar9 = *(uint *)(iVar13 + 4);
        }
        iVar14 = iVar14 + 1;
        piVar7 = piVar4;
    } while (iVar14 != 0x10);
LAB_0003bde8:
    if (bVar11) {
        if (DAT_0009e31c < 4) {
            return 0;
        }
        local_828._0_1_ = 'F';
        local_828._1_1_ = 'r';
        local_828._2_1_ = 'e';
        local_828._3_1_ = 'q';
        builtin_strncpy(acStack_824, " is already enough o", 0x14);
        local_810._0_1_ = 'f';
        local_810._1_1_ = ' ';
        local_810._2_1_ = 'a';
        local_810._3_1_ = 'l';
        local_80c._0_1_ = 'l';
        local_80c._1_1_ = ' ';
        local_80c._2_1_ = 'c';
        local_80c._3_1_ = 'h';
        local_808._0_1_ = 'a';
        local_808._1_1_ = 'i';
        local_808._2_1_ = 'n';
        local_808._3_1_ = ',';
        builtin_strncpy(acStack_804, " exit.\n", 8);
        FUN_00047ab4(3, &local_828, 0);
        return 0;
    }
    FUN_0001a0f0(*(undefined4 *)*piVar1);
    memcpy(DAT_001aea80 + 0x4f1, DAT_001aea80 + 1, 0x1380);
    if (3 < DAT_0009e31c) {
        local_828._0_2_ = 10;
        FUN_00047ec8(3, &local_828, 0);
        if (3 < DAT_0009e31c) {
            local_828._0_1_ = '>';
            local_828._1_1_ = '>';
            local_828._2_1_ = '>';
            local_828._3_1_ = '>';
            builtin_strncpy(acStack_824, " Do PM grade tuning ", 0x14);
            local_810._0_1_ = 'p';
            local_810._1_1_ = 'a';
            local_810._2_1_ = 'r';
            local_810._3_1_ = 'a';
            local_80c._0_1_ = 'l';
            local_80c._1_1_ = 'l';
            local_80c._2_1_ = 'e';
            local_80c._3_1_ = 'l';
            local_808 = CONCAT13(local_808._3_1_, 0xa2e);
            FUN_00047ab4(3, &local_828, 0);
        }
    }
    iVar14 = 0;
    do {
        while (DAT_000a0d68[iVar14 + 1] != 1) {
            iVar14 = iVar14 + 1;
            if (iVar14 == 0x10)
                goto LAB_0003bee8;
        }
        iVar3 = FUN_0003a5e8(iVar14);
        uVar5 = 2;
        if (iVar3 == 0) {
            uVar5 = 1;
        }
        iVar3 = iVar14 + 1;
        FUN_00037bd4(iVar14, uVar5);
        iVar14 = iVar3;
    } while (iVar3 != 0x10);
LAB_0003bee8:
    do {
        iVar14 = FUN_00037f50();
        if (iVar14 == 0) {
        LAB_0003c048:
            iVar14 = FUN_000383c0();
            if (iVar14 == 0) {
                iVar14 = 0;
                if (3 < DAT_0009e31c) {
                    local_828._0_2_ = 10;
                    iVar14 = FUN_00047ec8(3, &local_828, 0);
                    if (3 < DAT_0009e31c) {
                        local_828._0_1_ = '>';
                        local_828._1_1_ = '>';
                        local_828._2_1_ = '>';
                        local_828._3_1_ = '>';
                        builtin_strncpy(acStack_824, " Do PM grade tuning ",
                                        0x14);
                        local_810._0_1_ = 's';
                        local_810._1_1_ = 'e';
                        local_810._2_1_ = 'r';
                        local_810._3_1_ = 'i';
                        local_80c._0_1_ = 'a';
                        local_80c._1_1_ = 'l';
                        local_80c._2_1_ = '.';
                        local_80c._3_1_ = '\n';
                        local_808 = local_808 & 0xffffff00;
                        iVar14 = FUN_00047ab4(3, &local_828, 0);
                    }
                }
                iVar3 = 0;
                do {
                    if ((DAT_000a0d68[iVar3 + 1] == 1) &&
                        (iVar14 = FUN_00037d44(iVar3), iVar14 == 1)) {
                        iVar14 = FUN_00037bd4(iVar3, 0);
                    }
                    iVar3 = iVar3 + 1;
                } while (iVar3 != 0x10);
                iVar3 = 0;
                while (iVar14 = FUN_00037ef8(iVar14), iVar14 != 0) {
                    FUN_00037fa8(2);
                    if (3 < DAT_0009e31c) {
                        local_828._0_2_ = 10;
                        FUN_00047ec8(3, &local_828, 0);
                        if (3 < DAT_0009e31c) {
                            snprintf((char *)&local_828, 0x800,
                                     ">>>> serial round %d:\n", iVar3);
                            iVar3 = iVar3 + 1;
                            FUN_00047ab4(3, &local_828, 0);
                        }
                    }
                    while (true) {
                        iVar13 = FUN_00037f50();
                        iVar14 = 0;
                        if (iVar13 == 0)
                            break;
                        iVar14 = FUN_0003aaa8();
                        if (iVar14 != 0) {
                            if (DAT_0009e31c < 4)
                                goto LAB_0003bff0;
                            local_828._0_1_ = 'S';
                            local_828._1_1_ = 'e';
                            local_828._2_1_ = 'r';
                            local_828._3_1_ = 'i';
                            builtin_strncpy(acStack_824, "al tuning failed, ex",
                                            0x14);
                            local_810._0_1_ = 'i';
                            local_810._1_1_ = 't';
                            local_810._2_1_ = '.';
                            local_810._3_1_ = '\n';
                            local_80c = local_80c & 0xffffff00;
                            FUN_00047ab4(3, &local_828, 0);
                            uVar9 = DAT_0009e31c;
                            goto LAB_0003c180;
                        }
                    }
                }
            }
            iVar14 = 0;
            iVar3 = 4;
            uVar9 = DAT_0009e31c;
            do {
                if (DAT_000a0d68[iVar14 + 1] == 1) {
                    uVar8 = 0;
                    puVar2 = (uint *)((int)DAT_001aea80 + iVar3 + -4);
                    puVar10 = puVar2;
                    do {
                        puVar10 = puVar10 + 1;
                        uVar8 = uVar8 + *puVar10;
                    } while (puVar10 !=
                             (uint *)((int)DAT_001aea80 + iVar3 + 0x134));
                    iVar13 = *DAT_001aea80 + iVar14 * 4;
                    uVar6 = *(uint *)(iVar13 + 4);
                    if (uVar8 < uVar6) {
                        while (true) {
                            puVar2 = puVar2 + 1;
                            *puVar2 = uVar6;
                            if (puVar10 == puVar2)
                                break;
                            uVar6 = *(uint *)(iVar13 + 4);
                        }
                        if (3 < uVar9) {
                            snprintf((char *)&local_828, 0x800,
                                     "Back to conf freq, chain = %d, "
                                     "pm_freq_avg = %d, conf_freq = %d.\n",
                                     iVar14, uVar8,
                                     *(undefined4 *)(iVar13 + 4));
                            FUN_00047ab4(3, &local_828, 0);
                            uVar9 = DAT_0009e31c;
                        }
                    }
                }
                iVar14 = iVar14 + 1;
                iVar3 = iVar3 + 0x138;
            } while (iVar14 != 0x10);
            iVar14 = 0;
            goto LAB_0003c180;
        }
        iVar3 = 0;
        iVar14 = 0;
    LAB_0003bf0c:
        do {
            if ((DAT_000a0d68[iVar14 + 1] == 1) &&
                (iVar13 = FUN_00037d44(iVar14), iVar13 == 1)) {
                uVar9 = FUN_0003a3c4(iVar14, DAT_001aea80 + 0x4f1);
                if (*(uint *)(*DAT_001aea80 + 0x48) <= uVar9) {
                    iVar3 = 1;
                }
                if (3 < DAT_0009e31c) {
                    snprintf((char *)&local_828, 0x800,
                             "chain = %d, freq_avg = %d, freq_serial_threshold "
                             "= %d\n",
                             iVar14, uVar9, *(uint *)(*DAT_001aea80 + 0x48));
                    iVar14 = iVar14 + 1;
                    FUN_00047ab4(3, &local_828, 0);
                    if (iVar14 == 0x10)
                        break;
                    goto LAB_0003bf0c;
                }
            }
            iVar14 = iVar14 + 1;
        } while (iVar14 != 0x10);
        if (3 < DAT_0009e31c) {
            snprintf((char *)&local_828, 0x800, "is_need_serial = %d\n", iVar3);
            FUN_00047ab4(3, &local_828, 0);
        }
        if (iVar3 != 0)
            goto LAB_0003c048;
        iVar14 = FUN_0003aaa8(1);
    } while (iVar14 == 0);
    if (3 < DAT_0009e31c) {
        local_828._0_1_ = 'P';
        local_828._1_1_ = 'a';
        local_828._2_1_ = 'r';
        local_828._3_1_ = 'a';
        builtin_strncpy(acStack_824, "llel tuning failed, ", 0x14);
        local_810._0_1_ = 'e';
        local_810._1_1_ = 'x';
        local_810._2_1_ = 'i';
        local_810._3_1_ = 't';
        local_80c = CONCAT13(local_80c._3_1_, 0xa2e);
        FUN_00047ab4(3, &local_828, 0);
        uVar9 = DAT_0009e31c;
    LAB_0003c180:
        if (3 < uVar9) {
            local_828._0_1_ = 'D';
            local_828._1_1_ = 'u';
            local_828._2_1_ = 'm';
            local_828._3_1_ = 'p';
            builtin_strncpy(acStack_824, " PM grade tuning res", 0x14);
            local_810._0_1_ = 'u';
            local_810._1_1_ = 'l';
            local_810._2_1_ = 't';
            local_810._3_1_ = ':';
            local_80c = CONCAT22(local_80c._2_2_, 10);
            FUN_00047ab4(3, &local_828, 0);
        }
    }
LAB_0003bff0:
    FUN_0003a79c(0xff, DAT_001aea80 + 1, 0);
    return iVar14;
}

void FUN_0003c398(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4, undefined4 param_5, undefined4 param_6,
                  undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
    int iVar1;
    void *pvVar2;
    char local_818[2048];

    pthread_mutex_lock((pthread_mutex_t *)&DAT_001aea88);
    pvVar2 = realloc(DAT_001aeaa4, (DAT_001aeaa0 + 1) * 0x24);
    if (pvVar2 != (void *)0x0) {
        *(undefined4 *)((int)pvVar2 + DAT_001aeaa0 * 0x24) = param_1;
        *(undefined4 *)((int)pvVar2 + DAT_001aeaa0 * 0x24 + 4) = param_2;
        *(undefined4 *)((int)pvVar2 + DAT_001aeaa0 * 0x24 + 8) = param_3;
        *(undefined4 *)((int)pvVar2 + DAT_001aeaa0 * 0x24 + 0xc) = param_4;
        *(undefined4 *)((int)pvVar2 + DAT_001aeaa0 * 0x24 + 0x10) = param_5;
        *(undefined4 *)((int)pvVar2 + DAT_001aeaa0 * 0x24 + 0x14) = param_6;
        *(undefined4 *)((int)pvVar2 + DAT_001aeaa0 * 0x24 + 0x18) = param_7;
        *(undefined4 *)((int)pvVar2 + DAT_001aeaa0 * 0x24 + 0x1c) = param_8;
        iVar1 = DAT_001aeaa0 * 0x24;
        DAT_001aeaa0 = DAT_001aeaa0 + 1;
        *(undefined4 *)((int)pvVar2 + iVar1 + 0x20) = param_9;
        DAT_001aeaa4 = pvVar2;
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_001aea88);
        return;
    }
    if (3 < DAT_0009e31c) {
        builtin_strncpy(local_818, "realloc fail when register miner config\n",
                        0x28);
        local_818[0x28] = 0;
        FUN_00047ab4(3, local_818, 0);
    }
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_001aea88);
    return;
}

int FUN_0003c4fc(int param_1)

{
    int iVar1;
    int iVar2;
    int iVar3;

    if (param_1 == 0 && DAT_001aea84 == '\x01') {
        iVar3 = 1;
    } else {
        FUN_0003c6cc();
        pthread_mutex_lock((pthread_mutex_t *)&DAT_001aea88);
        if (0 < DAT_001aeaa0) {
            iVar1 = 0;
            iVar2 = 0;
            do {
                iVar2 = iVar2 + 1;
                FUN_00019720(*(undefined4 *)((int)DAT_001aeaa4 + iVar1 + 4),
                             *(undefined4 *)((int)DAT_001aeaa4 + iVar1));
                iVar3 = FUN_0001942c();
                if (iVar3 != 0) {
                    FUN_000313f8(
                        *(undefined4 *)((int)DAT_001aeaa4 + iVar1 + 8));
                    FUN_0003142c(
                        *(undefined4 *)((int)DAT_001aeaa4 + iVar1 + 0xc));
                    FUN_000175e4(
                        *(undefined4 *)((int)DAT_001aeaa4 + iVar1 + 0x10));
                    FUN_00036c54(
                        *(undefined4 *)((int)DAT_001aeaa4 + iVar1 + 0x14));
                    FUN_0001a79c(
                        *(undefined4 *)((int)DAT_001aeaa4 + iVar1 + 0x18));
                    FUN_00024848(
                        *(undefined4 *)((int)DAT_001aeaa4 + iVar1 + 0x1c));
                    FUN_00022a54(
                        *(undefined4 *)((int)DAT_001aeaa4 + iVar1 + 0x20));
                    DAT_001aea84 = '\x01';
                    goto LAB_0003c5f0;
                }
                FUN_00019750();
                iVar1 = iVar1 + 0x24;
            } while (iVar2 < DAT_001aeaa0);
        }
        iVar3 = 0;
    LAB_0003c5f0:
        DAT_001aeaa0 = 0;
        free(DAT_001aeaa4);
        DAT_001aeaa4 = (void *)0x0;
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_001aea88);
    }
    return iVar3;
}

void FUN_0003c6cc(void)

{
    FUN_0003c398(1, &DAT_0009cf54, &DAT_0009caec, &DAT_0009cae0, &DAT_0009d05c,
                 &DAT_0009d020, &DAT_0009d01c, &DAT_0009d018, &DAT_0009d014);
    FUN_0003c398(3, &DAT_0009d4d4, &DAT_0009d06c, &DAT_0009cae0, &DAT_0009d05c,
                 &DAT_0009d718, &DAT_0009d01c, &DAT_0009d018, &DAT_0009d714);
    return;
}

undefined4 FUN_0003c770(uint *param_1, char *param_2)

{
    size_t sVar1;
    void *pvVar2;
    void *__dest;
    uint uVar3;
    size_t __size;
    int iVar4;
    float fVar5;

    sVar1 = strlen(param_2);
    __dest = (void *)param_1[2];
    iVar4 = (int)__dest - (int)param_1[1];
    uVar3 = iVar4 + 0xc + sVar1;
    if (*param_1 < uVar3) {
        __size = *param_1 + 0x20000;
        if (__size < uVar3) {
            fVar5 = (float)FixedToFP(uVar3, 0x20, 0x20, 0x10, 1, 0);
            __size = ((uint)(0.0 < fVar5) * (int)fVar5 + 2) * 0x10000;
        }
        pvVar2 = realloc((void *)param_1[1], __size);
        __dest = (void *)((int)pvVar2 + iVar4);
        *param_1 = __size;
        param_1[1] = (uint)pvVar2;
        param_1[2] = (uint)__dest;
    }
    memcpy(__dest, param_2, sVar1 + 1);
    param_1[2] = param_1[2] + sVar1;
    return 1;
}

void FUN_0003c804(int param_1, undefined4 param_2, undefined4 param_3,
                  int param_4)

{
    char *pcVar1;
    undefined1 *puVar2;

    puVar2 = *(undefined1 **)(param_1 + 4);
    if (param_4 == 0) {
        pcVar1 = "BYE";
        *(undefined1 **)(param_1 + 8) = puVar2;
    } else {
        pcVar1 = "{\"STATUS\":\"BYE\"";
        *(undefined1 **)(param_1 + 8) = puVar2;
    }
    *puVar2 = 0;
    *(undefined1 *)(param_1 + 0xd) = 0;
    FUN_0003c770(param_1, pcVar1);
    DAT_001aeb6c = 1;
    DAT_001aeb6d = 1;
    return;
}

void FUN_0003c850(int param_1, undefined4 param_2, undefined4 param_3,
                  int param_4)

{
    char *pcVar1;
    undefined1 *puVar2;

    puVar2 = *(undefined1 **)(param_1 + 4);
    if (param_4 == 0) {
        pcVar1 = "RESTART";
        *(undefined1 **)(param_1 + 8) = puVar2;
    } else {
        pcVar1 = "{\"STATUS\":\"RESTART\"";
        *(undefined1 **)(param_1 + 8) = puVar2;
    }
    *puVar2 = 0;
    *(undefined1 *)(param_1 + 0xd) = 0;
    FUN_0003c770(param_1, pcVar1);
    DAT_001aeb6c = 1;
    DAT_001aeb6e = 1;
    return;
}

byte *FUN_0003c89c(byte *param_1, int param_2)

{
    size_t sVar1;
    byte *pbVar2;
    byte *pbVar3;
    byte *pbVar4;
    byte bVar5;
    byte bVar6;
    int iVar7;
    char acStack_818[2048];

    bVar6 = *param_1;
    if (bVar6 != 0) {
        iVar7 = 0;
        pbVar3 = param_1;
        bVar5 = bVar6;
    LAB_0003c8e8:
        do {
            if (bVar5 == 0x3d) {
            LAB_0003c904:
                if (param_2 != 0) {
                LAB_0003c90c:
                    pbVar3 = pbVar3 + 1;
                    bVar5 = *pbVar3;
                    if (bVar5 == 0)
                        break;
                    goto LAB_0003c8e8;
                }
            LAB_0003c8d8:
                iVar7 = iVar7 + 1;
            } else {
                if (0x3d < bVar5) {
                    if (bVar5 != 0x5c) {
                        if (bVar5 != 0x7c)
                            goto LAB_0003c8dc;
                        goto LAB_0003c904;
                    }
                    goto LAB_0003c8d8;
                }
                if (bVar5 == 0x22) {
                    if (param_2 != 0)
                        goto LAB_0003c8d8;
                } else if (bVar5 == 0x2c) {
                    if (param_2 == 0)
                        goto LAB_0003c8d8;
                    goto LAB_0003c90c;
                }
            }
        LAB_0003c8dc:
            pbVar3 = pbVar3 + 1;
            bVar5 = *pbVar3;
        } while (bVar5 != 0);
        if (iVar7 != 0) {
            sVar1 = strlen((char *)param_1);
            sVar1 = sVar1 + iVar7 + 1;
            pbVar2 = (byte *)malloc(sVar1);
            pbVar3 = pbVar2;
            if (pbVar2 == (byte *)0x0) {
                snprintf(acStack_818, 0x800,
                         "Failed to malloc escape buf %d in %s %s():%d", sVar1,
                         "api.c", "escape_string", 0x344);
                FUN_00047ab4(3, acStack_818, 1);
                FUN_00062ec0(1);
                bVar6 = *param_1;
            }
            do {
                if (bVar6 == 0) {
                    *pbVar3 = 0;
                    return pbVar2;
                }
                if (bVar6 == 0x3d) {
                LAB_0003c9d4:
                    pbVar4 = pbVar3 + 1;
                    if (param_2 == 0) {
                        pbVar4 = pbVar3 + 2;
                        *pbVar3 = 0x5c;
                        pbVar3 = pbVar3 + 1;
                    }
                    *pbVar3 = bVar6;
                } else if (bVar6 < 0x3e) {
                    if (bVar6 != 0x22) {
                        if (bVar6 != 0x2c)
                            goto LAB_0003ca00;
                        goto LAB_0003c9d4;
                    }
                    pbVar4 = pbVar3 + 1;
                    if (param_2 != 0) {
                        pbVar4 = pbVar3 + 2;
                        *pbVar3 = 0x5c;
                        pbVar3 = pbVar3 + 1;
                    }
                    *pbVar3 = 0x22;
                } else if (bVar6 == 0x5c) {
                    pbVar4 = pbVar3 + 2;
                    *pbVar3 = 0x5c;
                    pbVar3[1] = 0x5c;
                } else {
                    if (bVar6 == 0x7c)
                        goto LAB_0003c9d4;
                LAB_0003ca00:
                    *pbVar3 = bVar6;
                    pbVar4 = pbVar3 + 1;
                }
                param_1 = param_1 + 1;
                bVar6 = *param_1;
                pbVar3 = pbVar4;
            } while (true);
        }
    }
    return param_1;
}

void FUN_0003ca78(undefined4 param_1, void *param_2, int param_3, char *param_4)

{
    void *__ptr;

    if (*param_4 == '\0') {
        if (param_3 == 0)
            goto LAB_0003caa0;
        FUN_0003c770(param_1, &DAT_00086c58);
        __ptr = (void *)FUN_0003c89c(param_2, 1);
    } else {
        if (param_3 == 0) {
            *param_4 = '\0';
        LAB_0003caa0:
            __ptr = (void *)FUN_0003c89c(param_2, param_3);
            FUN_0003c770(param_1, &DAT_0007f74c);
            FUN_0003c770(param_1, __ptr);
            FUN_0003c770(param_1, &DAT_0007f754);
            goto joined_r0x0003cae0;
        }
        FUN_0003c770(param_1, &DAT_00079dfc);
        *param_4 = '\0';
        __ptr = (void *)FUN_0003c89c(param_2, 1);
    }
    FUN_0003c770(param_1, &DAT_00086d08);
    FUN_0003c770(param_1, __ptr);
    FUN_0003c770(param_1, &DAT_0007fe8c);
joined_r0x0003cae0:
    if (param_2 != __ptr) {
        free(__ptr);
        return;
    }
    return;
}

char FUN_0003cb84(sockaddr *param_1, undefined4 *param_2, byte *param_3)

{
    char *__host;
    __int32_t **pp_Var1;
    byte *pbVar2;
    byte *pbVar3;
    byte *pbVar4;
    char cVar5;
    byte *pbVar6;
    int iVar7;
    int local_50;
    int local_4c;
    int local_48;
    int local_44;
    char acStack_40[36];

    __host = (char *)malloc(0x2e);
    *param_2 = __host;
    getnameinfo(param_1, 0x80, __host, 0x2e, (char *)0x0, 0, 1);
    if (param_1->sa_family == 2) {
        sprintf(acStack_40, "::ffff:%s", *param_2);
        inet_pton(10, acStack_40, &local_50);
    } else {
        inet_pton(10, (char *)*param_2, &local_50);
    }
    pp_Var1 = __ctype_toupper_loc();
    *param_3 = (byte)(*pp_Var1)[0x52];
    cVar5 = DAT_0024633c;
    if (DAT_001b0b20 == 0) {
        if (DAT_0024633c == '\0') {
            iVar7 = strcmp((char *)*param_2, "127.0.0.1");
            if (iVar7 == 0) {
                cVar5 = '\x01';
            } else if (((local_50 == 0) && (local_4c == 0)) &&
                       (local_48 == 0)) {
                cVar5 = local_44 == 0x1000000;
            }
        }
        return cVar5;
    }
    if (0 < DAT_001aeb74) {
        iVar7 = 0;
        pbVar6 = (byte *)(DAT_001aeb70 + 0xf);
        do {
            pbVar4 = pbVar6 + -0x10;
            pbVar2 = (byte *)&local_50;
            pbVar3 = pbVar6;
            while (true) {
                pbVar3 = pbVar3 + 1;
                pbVar4 = pbVar4 + 1;
                if (*pbVar4 != (*pbVar2 & *pbVar3))
                    break;
                pbVar2 = pbVar2 + 1;
                if (pbVar4 == pbVar6) {
                    *param_3 = pbVar6[0x11];
                    return '\x01';
                }
            }
            iVar7 = iVar7 + 1;
            pbVar6 = pbVar6 + 0x24;
        } while (iVar7 != DAT_001aeb74);
    }
    return '\0';
}

void FUN_0003cd2c(void)

{
    int iVar1;
    int iVar2;
    int *piVar3;
    char *pcVar4;
    time_t tVar5;
    time_t tVar6;
    size_t sVar7;
    char *__s;
    uint uVar8;
    int iVar9;
    long lVar10;
    ssize_t sVar11;
    uint uVar12;
    sockaddr *psVar13;
    uint __n;
    addrinfo *paVar14;
    char *pcVar15;
    int local_111c;
    char *local_1118;
    undefined1 uStack_10fd;
    socklen_t local_10fc;
    char *local_10f8;
    addrinfo *local_10f4;
    undefined4 local_10f0;
    char local_10ec[12];
    char acStack_10e0[12];
    char acStack_10d4[12];
    addrinfo aStack_10c8;
    sockaddr asStack_10a8[7];
    char acStack_1029[10];
    char acStack_101f[1015];
    undefined4 local_c28;
    undefined4 local_c24;
    undefined4 uStack_c20;
    undefined4 uStack_c1c;
    undefined4 local_c18;
    char local_828[28];
    undefined4 local_80c;
    undefined2 uStack_808;
    undefined1 local_806;

    pcVar4 = acStack_1029 + 1;
    builtin_strncpy(local_10ec, "bmminer-", 8);
    local_10ec[8] = 0;
    sprintf(acStack_10e0, "%d", DAT_0009ee48);
    memset(&aStack_10c8, 0, 0x20);
    iVar1 = getaddrinfo(DAT_0009ee54, acStack_10e0, &aStack_10c8, &local_10f4);
    if (iVar1 != 0) {
        builtin_strncpy(local_828, "Invalid API Multicast Addres", 0x1c);
        local_80c._0_2_ = 0x73;
        FUN_00047ab4(3, local_828, 1);
        FUN_00062ec0(1);
    }
    paVar14 = local_10f4;
    if (local_10f4 == (addrinfo *)0x0) {
    LAB_0003cef8:
        freeaddrinfo(local_10f4);
        paVar14 = (addrinfo *)0x0;
        iVar1 = -1;
        builtin_strncpy(local_828, "API mcast could not open soc", 0x1c);
        local_80c._0_1_ = 'k';
        local_80c._1_1_ = 'e';
        local_80c._2_1_ = 't';
        local_80c._3_1_ = '\0';
        FUN_00047ab4(3, local_828, 1);
        FUN_00062ec0(1);
    } else {
        do {
            iVar1 = socket(local_10f4->ai_family, 2, 0);
            if (0 < iVar1)
                goto LAB_0003ce28;
            paVar14 = paVar14->ai_next;
        } while (paVar14 != (addrinfo *)0x0);
        if (iVar1 == -1)
            goto LAB_0003cef8;
    }
LAB_0003ce28:
    local_10f0 = 1;
    iVar2 = setsockopt(iVar1, 1, 2, &local_10f0, 4);
    if (iVar2 < 0) {
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 3))
            goto LAB_0003ced8;
        piVar3 = __errno_location();
        pcVar4 = strerror(*piVar3);
        snprintf(local_828, 0x800,
                 "API mcast setsockopt SO_REUSEADDR failed (%s)%s", pcVar4,
                 " - API multicast listener will not be available");
    } else {
        tVar5 = time((time_t *)0x0);
        while (iVar2 = bind(iVar1, paVar14->ai_addr, paVar14->ai_addrlen),
               iVar2 < 0) {
            piVar3 = __errno_location();
            pcVar15 = strerror(*piVar3);
            tVar6 = time((time_t *)0x0);
            if (0x3d < tVar6 - tVar5) {
                if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                    (DAT_0009e320 < 3))
                    goto LAB_0003ced8;
                snprintf(local_828, 0x800,
                         "API mcast bind to port %d failed (%s)%s",
                         DAT_0009ee48, pcVar15,
                         " - API multicast listener will not be available");
                goto LAB_0003cec4;
            }
            FUN_0004a804(30000);
        }
        if (paVar14->ai_family == 2) {
            local_c24 = 0;
            local_c28 = *(undefined4 *)(paVar14->ai_addr->sa_data + 2);
            iVar2 = setsockopt(iVar1, 0, 0x23, &local_c28, 8);
        } else {
            if (paVar14->ai_family != 10)
                goto LAB_0003d008;
            psVar13 = paVar14->ai_addr;
            local_c28 = *(undefined4 *)(psVar13->sa_data + 6);
            local_c24 = *(undefined4 *)(psVar13->sa_data + 10);
            uStack_c20._0_2_ = psVar13[1].sa_family;
            uStack_c20._2_1_ = psVar13[1].sa_data[0];
            uStack_c20._3_1_ = psVar13[1].sa_data[1];
            uStack_c1c = *(undefined4 *)(psVar13[1].sa_data + 2);
            local_c18 = 0;
            iVar2 = setsockopt(iVar1, 0x29, 0x14, &local_c28, 0x14);
        }
        if (-1 < iVar2) {
        LAB_0003d008:
            local_1118 = (char *)&local_c28;
            freeaddrinfo(local_10f4);
            pcVar15 = DAT_0009ee50;
            sVar7 = strlen(DAT_0009ee50);
            __n = sVar7 + 9;
            __s = (char *)malloc(sVar7 + 10);
            if (__s == (char *)0x0) {
                builtin_strncpy(local_828, "Failed to malloc mcast expec",
                                0x1c);
                local_80c._0_1_ = 't';
                local_80c._1_1_ = '_';
                local_80c._2_1_ = 'c';
                local_80c._3_1_ = 'o';
                uStack_808 = 0x6564;
                local_806 = 0;
                FUN_00047ab4(3, local_828, 1);
                FUN_00062ec0(1);
                pcVar15 = DAT_0009ee50;
            }
            local_111c = -1;
            iVar2 = 0;
            snprintf(__s, sVar7 + 10, "%s%s-", local_10ec, pcVar15);
        LAB_0003d0e4:
            do {
                do {
                    while (true) {
                        iVar2 = iVar2 + 1;
                        FUN_0004a804(1000);
                        local_10fc = 0x80;
                        uVar8 = recvfrom(iVar1, pcVar4, 0x3ff, 0, asStack_10a8,
                                         &local_10fc);
                        if (-1 < (int)uVar8)
                            break;
                        if ((DAT_001aecc5 != '\0') &&
                            (((DAT_00244080 != '\0' ||
                               (DAT_001aecc4 != '\0')) ||
                              (6 < DAT_0009e320)))) {
                            piVar3 = __errno_location();
                            pcVar15 = strerror(*piVar3);
                            snprintf(local_828, 0x800,
                                     "API mcast failed count=%d (%s) (%d)",
                                     iVar2, pcVar15, iVar1);
                            FUN_00047ab4(7, local_828, 0);
                        }
                    }
                    iVar9 =
                        FUN_0003cb84(asStack_10a8, &local_10f8, &uStack_10fd);
                    if ((DAT_001aecc5 != '\0') &&
                        (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                          (6 < DAT_0009e320)))) {
                        pcVar15 = "Ignored";
                        if (iVar9 != 0) {
                            pcVar15 = "Accepted";
                        }
                        snprintf(local_828, 0x800, "API mcast from %s - %s",
                                 local_10f8, pcVar15);
                        FUN_00047ab4(7, local_828, 0);
                    }
                } while (iVar9 == 0);
                pcVar4[uVar8] = '\0';
                if (uVar8 == 0)
                    goto LAB_0003d3b0;
                uVar12 = uVar8 - 1;
                if (pcVar4[uVar12] == '\n') {
                    pcVar4[uVar12] = '\0';
                    uVar8 = uVar12;
                }
                getnameinfo(asStack_10a8, local_10fc, (char *)0x0, 0,
                            acStack_10d4, 10, 1);
                if (DAT_001aecc5 != '\0')
                    goto LAB_0003d3e4;
            } while ((uVar8 <= __n) ||
                     (iVar9 = memcmp(pcVar4, __s, __n), iVar9 != 0));
            goto LAB_0003d23c;
        }
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 3))
            goto LAB_0003ced8;
        piVar3 = __errno_location();
        pcVar4 = strerror(*piVar3);
        snprintf(local_828, 0x800, "API mcast join failed (%s)%s", pcVar4,
                 " - API multicast listener will not be available");
    }
LAB_0003cec4:
    FUN_00047ab4(3, local_828, 0);
LAB_0003ced8:
    close(iVar1);
    return;
LAB_0003d3b0:
    getnameinfo(asStack_10a8, local_10fc, (char *)0x0, 0, acStack_10d4, 10, 1);
    if (DAT_001aecc5 != '\0') {
    LAB_0003d3e4:
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (6 < DAT_0009e320)) {
            snprintf(local_828, 0x800,
                     "API mcast request rep=%d (%s) from [%s]:%s", uVar8,
                     pcVar4, local_10f8, acStack_10d4);
            FUN_00047ab4(7, local_828, 0);
        }
        if ((__n < uVar8) && (iVar9 = memcmp(pcVar4, __s, __n), iVar9 == 0)) {
        LAB_0003d23c:
            pcVar15 = pcVar4 + __n;
            lVar10 = strtol(pcVar15, (char **)0x0, 10);
            if (0xfffe < lVar10 - 1U) {
                if ((DAT_001aecc5 != '\0') &&
                    (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                      (6 < DAT_0009e320)))) {
                    snprintf(local_828, 0x800,
                             "API mcast request ignored - invalid port (%s)",
                             pcVar15);
                    FUN_00047ab4(7, local_828, 0);
                }
                goto LAB_0003d0e4;
            }
            if ((DAT_001aecc5 != '\0') &&
                (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                  (6 < DAT_0009e320)))) {
                snprintf(local_828, 0x800, "API mcast request OK port %s=%d",
                         pcVar15, lVar10);
                FUN_00047ab4(7, local_828, 0);
            }
            iVar9 = getaddrinfo(local_10f8, pcVar15, &aStack_10c8, &local_10f4);
            paVar14 = local_10f4;
            if (iVar9 == 0) {
                while ((paVar14 != (addrinfo *)0x0 &&
                        (local_111c = socket(local_10f4->ai_family, 2, 0),
                         iVar1 < 1))) {
                    paVar14 = paVar14->ai_next;
                }
                if (local_111c != -1) {
                    snprintf(local_1118, 0x400, "cgm-FTW-%d-%s", DAT_0009ee5c,
                             DAT_0009ee4c);
                    sVar7 = strlen(local_1118);
                    sVar11 = sendto(local_111c, local_1118, sVar7 + 1, 0,
                                    paVar14->ai_addr, paVar14->ai_addrlen);
                    freeaddrinfo(local_10f4);
                    if (sVar11 < 0) {
                        if ((DAT_001aecc5 != '\0') &&
                            (((DAT_00244080 != '\0' ||
                               (DAT_001aecc4 != '\0')) ||
                              (6 < DAT_0009e320)))) {
                            piVar3 = __errno_location();
                            pcVar15 = strerror(*piVar3);
                            snprintf(local_828, 0x800,
                                     "API mcast send reply failed (%s) (%d)",
                                     pcVar15, local_111c);
                            FUN_00047ab4(7, local_828, 0);
                        }
                    } else if ((DAT_001aecc5 != '\0') &&
                               (((DAT_00244080 != '\0' ||
                                  (DAT_001aecc4 != '\0')) ||
                                 (6 < DAT_0009e320)))) {
                        snprintf(
                            local_828, 0x800,
                            "API mcast send reply (%s) succeeded (%d) (%d)",
                            local_1118, sVar11, local_111c);
                        FUN_00047ab4(7, local_828, 0);
                    }
                    close(local_111c);
                    goto LAB_0003d0e4;
                }
                freeaddrinfo(local_10f4);
                if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                    (DAT_0009e320 < 3))
                    goto LAB_0003d0e4;
                pcVar15 = "API mcast could not open socket to client %s";
            } else {
                if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                    (DAT_0009e320 < 3))
                    goto LAB_0003d0e4;
                pcVar15 = "Invalid client address %s";
            }
            snprintf(local_828, 0x800, pcVar15, local_10f8);
            FUN_00047ab4(3, local_828, 0);
            goto LAB_0003d0e4;
        }
        if ((DAT_001aecc5 != '\0') &&
            (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
              (6 < DAT_0009e320)))) {
            builtin_strncpy(local_828, "API mcast request was no goo", 0x1c);
            local_80c._0_2_ = 100;
            FUN_00047ab4(7, local_828, 0);
        }
    }
    goto LAB_0003d0e4;
}

void FUN_0003d8ec(int param_1)

{
    pthread_t __th;

    __th = pthread_self();
    pthread_detach(__th);
    pthread_setcanceltype(1, (int *)0x0);
    FUN_0004bd10("APIMcast");
    FUN_0003cd2c();
    *(undefined4 *)(param_1 + 0xc) = 0;
    return;
}

void FUN_0003d924(int param_1, int param_2)

{
    if (*(char *)(param_1 + 0xd) == '\0') {
        if (param_2 == 0) {
            return;
        }
    } else {
        FUN_0003c770(param_1, "]");
        *(undefined1 *)(param_1 + 0xd) = 0;
        if (param_2 == 0) {
            return;
        }
    }
    FUN_0003c770(param_1, &DAT_0007fa30);
    FUN_0003c770(param_1, "]");
    return;
}

void FUN_0003d988(int *param_1, char *param_2)

{
    size_t sVar1;
    undefined4 *puVar2;
    void *__ptr;
    int iVar3;
    int iVar4;
    char acStack_820[2048];

    puVar2 = (undefined4 *)*param_1;
    sVar1 = strlen(param_2);
    iVar3 = puVar2[1];
    __ptr = (void *)*puVar2;
    if ((uint)puVar2[2] < iVar3 + 1 + sVar1) {
        iVar4 = (sVar1 + 0x1001) - (sVar1 + 1 & 0xfff);
        __ptr = realloc(__ptr, puVar2[2] + iVar4);
        *(void **)*param_1 = __ptr;
        if (__ptr == (void *)0x0) {
            snprintf(acStack_820, 0x800,
                     "OOM buf siz=%d tot=%d ext=%d in %s %s():%d", sVar1,
                     *(undefined4 *)(*param_1 + 8), iVar4, "api.c",
                     "add_item_buf", 0x498);
            FUN_00047ab4(3, acStack_820, 1);
            FUN_00062ec0(1);
        }
        *(int *)(*param_1 + 8) = *(int *)(*param_1 + 8) + iVar4;
    }
    memcpy((void *)((int)__ptr + iVar3), param_2, sVar1 + 1);
    *(size_t *)(*param_1 + 4) = *(int *)(*param_1 + 4) + sVar1;
    return;
}

void FUN_0003daa0(char *param_1, int param_2, uint param_3, int param_4)

{
    size_t sVar1;
    int iVar2;
    size_t sVar3;
    int *piVar4;
    char *pcVar5;
    size_t sVar6;
    uint uVar7;
    uint uVar8;
    __suseconds_t *p_Var9;
    int iVar10;
    int iVar11;
    timeval local_8b0;
    fd_set local_8a8;
    char acStack_828[2052];

    sVar1 = strlen(param_1);
    sVar6 = sVar1;
    if (param_2 != 0) {
        sVar6 = sVar1 + 1;
        (param_1 + sVar1)[0] = ']';
        (param_1 + sVar1)[1] = '\0';
    }
    if (param_4 != 0) {
        builtin_strncpy(param_1 + sVar6, ",\"id\":1}", 9);
        sVar6 = strlen(param_1);
    }
    sVar1 = sVar6 + 1;
    if ((DAT_001aecc5 != '\0') &&
        (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
          (6 < DAT_0009e320)))) {
        pcVar5 = "";
        if (10 < sVar6) {
            pcVar5 = "...";
        }
        snprintf(acStack_828, 0x800, "API: send reply: (%d) \'%.10s%s\'", sVar1,
                 param_1, pcVar5);
        FUN_00047ab4(7, acStack_828, 0);
    }
    uVar8 = param_3 + 0x1f;
    if (-1 < (int)param_3) {
        uVar8 = param_3;
    }
    uVar7 = param_3 & 0x1f;
    if ((int)param_3 < 1) {
        uVar7 = -(-param_3 & 0x1f);
    }
    iVar10 = 0;
    iVar11 = 0;
    sVar6 = sVar1;
    while (true) {
        if ((int)sVar6 < 1 || 4 < iVar11) {
            return;
        }
        p_Var9 = &local_8b0.tv_usec;
        local_8b0.tv_sec = 0;
        local_8b0.tv_usec = 50000;
        do {
            p_Var9 = p_Var9 + 1;
            *p_Var9 = 0;
        } while (local_8a8.fds_bits + 0x1f != p_Var9);
        local_8a8.fds_bits[(int)uVar8 >> 5] =
            local_8a8.fds_bits[(int)uVar8 >> 5] | 1 << (uVar7 & 0xff);
        iVar2 = select(param_3 + 1, (fd_set *)0x0, &local_8a8, (fd_set *)0x0,
                       &local_8b0);
        if (iVar2 < 1) {
            if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                (DAT_0009e320 < 4)) {
                return;
            }
            snprintf(acStack_828, 0x800, "API: send select failed (%d)", iVar2);
            FUN_00047ab4(4, acStack_828, 0);
            return;
        }
        sVar3 = send(param_3, param_1, sVar6, 0);
        iVar10 = iVar10 + 1;
        if ((int)sVar3 < 0)
            break;
        if (iVar10 == 1) {
            if (sVar6 != sVar3) {
                if ((DAT_001aecc5 != '\0') &&
                    (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                      (6 < DAT_0009e320)))) {
                    snprintf(acStack_828, 0x800, "API: sent %d of %d first go",
                             sVar3, sVar6);
                    FUN_00047ab4(7, acStack_828, 0);
                }
                goto LAB_0003dce4;
            }
            if ((DAT_001aecc5 != '\0') &&
                (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                  (6 < DAT_0009e320)))) {
                snprintf(acStack_828, 0x800, "API: sent all of %d first go",
                         sVar6);
                FUN_00047ab4(7, acStack_828, 0);
            }
        LAB_0003de88:
            sVar6 = sVar6 - sVar3;
            param_1 = param_1 + sVar3;
        } else if (sVar6 == sVar3) {
            if ((DAT_001aecc5 == '\0') ||
                (((DAT_00244080 == '\0' && (DAT_001aecc4 == '\0')) &&
                  (DAT_0009e320 < 7))))
                goto LAB_0003de88;
            snprintf(acStack_828, 0x800,
                     "API: sent all of remaining %d (sendc=%d)", sVar6, iVar10);
            sVar6 = sVar6 - sVar3;
            FUN_00047ab4(7, acStack_828, 0);
            param_1 = param_1 + sVar3;
        } else {
            if ((DAT_001aecc5 != '\0') &&
                (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                  (6 < DAT_0009e320)))) {
                snprintf(acStack_828, 0x800,
                         "API: sent %d of remaining %d (sendc=%d)", sVar3,
                         sVar6, iVar10);
                FUN_00047ab4(7, acStack_828, 0);
            }
        LAB_0003dce4:
            sVar6 = sVar6 - sVar3;
            param_1 = param_1 + sVar3;
            if (sVar3 == 0) {
            LAB_0003dcf4:
                iVar11 = iVar11 + 1;
            }
        }
    }
    piVar4 = __errno_location();
    if (*piVar4 != 0xb) {
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 4)) {
            return;
        }
        pcVar5 = strerror(*piVar4);
        snprintf(acStack_828, 0x800, "API: send (%d:%d) failed: %s", sVar1,
                 sVar1 - sVar6, pcVar5);
        FUN_00047ab4(4, acStack_828, 0);
        return;
    }
    goto LAB_0003dcf4;
}

void FUN_0003dfac(undefined4 *param_1, undefined4 *param_2)

{
    char cVar1;
    char *pcVar2;
    char *pcVar3;
    undefined1 *puVar4;

    pcVar2 = (char *)*param_1;
    cVar1 = *pcVar2;
    do {
        if (cVar1 == '\0') {
        LAB_0003e014:
            puVar4 = (undefined1 *)*param_2;
            *param_2 = puVar4 + 1;
            *puVar4 = 0;
            return;
        }
        if (cVar1 == ',') {
            *param_1 = pcVar2 + 1;
            goto LAB_0003e014;
        }
        if ((cVar1 == '\\') && (pcVar2[1] != '\0')) {
            pcVar2 = pcVar2 + 1;
        }
        *param_1 = pcVar2 + 1;
        pcVar3 = (char *)*param_2;
        *param_2 = pcVar3 + 1;
        *pcVar3 = *pcVar2;
        pcVar2 = (char *)*param_1;
        cVar1 = *pcVar2;
    } while (true);
}

undefined4 FUN_0003e02c(char *param_1, undefined4 *param_2, undefined4 *param_3,
                        undefined4 *param_4)

{
    size_t sVar1;
    void *__ptr;
    undefined1 local_824[8];
    void *local_81c;
    char local_818[2048];

    sVar1 = strlen(param_1);
    __ptr = malloc(sVar1 + 1);
    local_81c = __ptr;
    if (__ptr == (void *)0x0) {
        builtin_strncpy(local_818, "Failed to malloc pooldetails buf", 0x20);
        local_818[0x20] = 0;
        FUN_00047ab4(3, local_818, 1);
        FUN_00062ec0(1);
    }
    *param_2 = local_81c;
    FUN_0003dfac(local_824, &local_81c);
    if (*param_1 != '\0') {
        *param_3 = local_81c;
        FUN_0003dfac(local_824, &local_81c);
        if (*param_1 != '\0') {
            *param_4 = local_81c;
            FUN_0003dfac(local_824, &local_81c);
            return 1;
        }
    }
    free(__ptr);
    return 0;
}

void FUN_0003e12c(undefined4 param_1, undefined4 param_2)

{
    int *piVar1;
    char acStack_810[2052];

    piVar1 = __errno_location();
    snprintf(acStack_810, 0x800,
             "WTF RDLOCK ERROR ON LOCK! errno=%d in %s %s():%d", *piVar1,
             "api.c", param_1, param_2);
    FUN_00047ab4(3, acStack_810, 1);
    FUN_00062ec0(1);
    return;
}

void FUN_0003e190(undefined4 param_1, undefined4 param_2)

{
    int *piVar1;
    char acStack_810[2052];

    piVar1 = __errno_location();
    snprintf(acStack_810, 0x800,
             "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar1,
             "api.c", param_1, param_2);
    FUN_00047ab4(3, acStack_810, 1);
    FUN_00062ec0(1);
    return;
}

void FUN_0003e1f4(undefined4 param_1, undefined4 param_2)

{
    int *piVar1;
    char acStack_810[2052];

    piVar1 = __errno_location();
    snprintf(acStack_810, 0x800,
             "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar1,
             "api.c", param_1, param_2);
    FUN_00047ab4(3, acStack_810, 1);
    FUN_00062ec0(1);
    return;
}

void FUN_0003e258(undefined4 param_1, undefined4 param_2)

{
    int *piVar1;
    char acStack_810[2052];

    piVar1 = __errno_location();
    snprintf(acStack_810, 0x800,
             "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar1,
             "api.c", param_1, param_2);
    FUN_00047ab4(3, acStack_810, 1);
    FUN_00062ec0(1);
    return;
}

int FUN_0003e2bc(void)

{
    int iVar1;
    int iVar2;
    int *piVar3;
    int *piVar4;

    iVar1 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_0024638c);
    if (iVar1 != 0) {
        FUN_0003e12c("numascs", 0x565);
    }
    if (DAT_00245140 < 1) {
        iVar1 = 0;
    } else {
        iVar1 = 0;
        piVar3 = DAT_00242fec;
        do {
            piVar4 = piVar3 + 1;
            if ((**(int **)(*piVar3 + 4) == 2) ||
                (**(int **)(*piVar3 + 4) == 3)) {
                iVar1 = iVar1 + 1;
            }
            piVar3 = piVar4;
        } while (piVar4 != DAT_00242fec + DAT_00245140);
    }
    iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0024638c);
    if (iVar2 != 0) {
        FUN_0003e258("numascs", 0x56a);
    }
    (*DAT_0009e444)();
    return iVar1;
}

int FUN_0003e378(int param_1)

{
    int iVar1;
    int *piVar2;
    int iVar3;

    iVar1 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_0024638c);
    if (iVar1 != 0) {
        FUN_0003e12c("ascdevice", 0x573);
    }
    if (0 < DAT_00245140) {
        iVar3 = 0;
        iVar1 = 0;
        piVar2 = (int *)(DAT_00242fec + -4);
        do {
            piVar2 = piVar2 + 1;
            if ((**(int **)(*piVar2 + 4) == 2) ||
                (**(int **)(*piVar2 + 4) == 3)) {
                iVar1 = iVar1 + 1;
            }
            if (iVar1 == param_1 + 1) {
                iVar1 =
                    pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0024638c);
                if (iVar1 != 0) {
                    FUN_0003e258("ascdevice", 0x580);
                }
                (*DAT_0009e444)();
                return iVar3;
            }
            iVar3 = iVar3 + 1;
        } while (DAT_00245140 != iVar3);
    }
    iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0024638c);
    if (iVar1 != 0) {
        FUN_0003e258("ascdevice", 0x57b);
    }
    (*DAT_0009e444)();
    return -1;
}

void FUN_0003e48c(int *param_1)

{
    int *piVar1;
    int iVar2;
    int *__ptr;
    int *piVar3;

    iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001aeb78);
    if (iVar2 != 0) {
        FUN_0003e190("tidyup", 0x1194);
    }
    DAT_001aeb6c = 1;
    if (*param_1 != -1) {
        shutdown(*param_1, 2);
        close(*param_1);
        *param_1 = -1;
    }
    if (DAT_001aeb70 != (void *)0x0) {
        free(DAT_001aeb70);
        DAT_001aeb70 = (void *)0x0;
    }
    piVar1 = DAT_001aeb90;
    __ptr = DAT_001aeb90;
    if (DAT_001aeb90 != (int *)0x0) {
        do {
            piVar3 = (int *)__ptr[2];
            free(*(void **)(*__ptr + 4));
            free((void *)*__ptr);
            free(__ptr);
            __ptr = piVar3;
        } while (piVar1 != piVar3);
        DAT_001aeb90 = (int *)0x0;
    }
    iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_001aeb78);
    if (iVar2 != 0) {
        FUN_0003e1f4("tidyup", 0x11a9);
    }
    (*DAT_0009e444)();
    return;
}

undefined4 FUN_0003e580(void)

{
    int iVar1;
    int *piVar2;
    char local_808[2052];

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001aeb78);
    if (iVar1 == 0) {
        iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_001aeb78);
    } else {
        piVar2 = __errno_location();
        snprintf(local_808, 0x800,
                 "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar2,
                 "api.c", "quit_thread", 0x12d1);
        FUN_00047ab4(3, local_808, 1);
        FUN_00062ec0(1);
        iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_001aeb78);
    }
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(local_808, 0x800,
                 "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar2,
                 "api.c", "quit_thread", 0x12d2);
        FUN_00047ab4(3, local_808, 1);
        FUN_00062ec0(1);
    }
    (*DAT_0009e444)();
    if ((DAT_001aecc5 != '\0') &&
        (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
          (6 < DAT_0009e320)))) {
        builtin_strncpy(local_808, "API: killing bmminer", 0x14);
        local_808[0x14] = 0;
        FUN_00047ab4(7, local_808, 0);
    }
    FUN_00054d4c();
    return 0;
}

undefined4 FUN_0003e708(void)

{
    int iVar1;
    int *piVar2;
    char local_808[2052];

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001aeb78);
    if (iVar1 == 0) {
        iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_001aeb78);
    } else {
        piVar2 = __errno_location();
        snprintf(local_808, 0x800,
                 "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar2,
                 "api.c", "restart_thread", 0x12df);
        FUN_00047ab4(3, local_808, 1);
        FUN_00062ec0(1);
        iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_001aeb78);
    }
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(local_808, 0x800,
                 "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar2,
                 "api.c", "restart_thread", 0x12e0);
        FUN_00047ab4(3, local_808, 1);
        FUN_00062ec0(1);
    }
    (*DAT_0009e444)();
    if ((DAT_001aecc5 != '\0') &&
        (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
          (6 < DAT_0009e320)))) {
        builtin_strncpy(local_808, "API: restarting bmminer", 0x18);
        FUN_00047ab4(7, local_808, 0);
    }
    FUN_00057a6c();
    return 0;
}

undefined4 FUN_0003e88c(undefined4 param_1, undefined4 *param_2, int param_3,
                        int param_4)

{
    int iVar1;
    int iVar2;
    void *__ptr;
    char *pcVar3;
    float *pfVar4;
    undefined4 *__ptr_00;
    pthread_mutex_t *ppVar5;
    int *piVar6;
    void *local_874;
    char acStack_870[64];
    char acStack_830[2052];

    ppVar5 = *(pthread_mutex_t **)(DAT_001aeb94 + 8);
    iVar1 = pthread_mutex_lock(ppVar5);
    if (iVar1 == 0) {
        iVar1 = pthread_rwlock_wrlock((pthread_rwlock_t *)(ppVar5 + 1));
    } else {
        piVar6 = __errno_location();
        snprintf(acStack_830, 0x800,
                 "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar6,
                 "api.c", "print_data", 0x4a9);
        FUN_00047ab4(3, acStack_830, 1);
        FUN_00062ec0(1);
        iVar1 = pthread_rwlock_wrlock((pthread_rwlock_t *)(ppVar5 + 1));
    }
    if (iVar1 != 0) {
        piVar6 = __errno_location();
        snprintf(acStack_830, 0x800,
                 "WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d", *piVar6,
                 "api.c", "print_data", 0x4a9);
        FUN_00047ab4(3, acStack_830, 1);
        FUN_00062ec0(1);
    }
    iVar1 = FUN_00046f04(DAT_001aeb94, "api.c", "print_data", 0x4aa);
    ppVar5 = *(pthread_mutex_t **)(DAT_001aeb94 + 8);
    iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)(ppVar5 + 1));
    if (iVar2 == 0) {
        iVar2 = pthread_mutex_unlock(ppVar5);
    } else {
        piVar6 = __errno_location();
        snprintf(acStack_830, 0x800,
                 "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar6,
                 "api.c", "print_data", 0x4ab);
        FUN_00047ab4(3, acStack_830, 1);
        FUN_00062ec0(1);
        iVar2 = pthread_mutex_unlock(ppVar5);
    }
    if (iVar2 != 0) {
        piVar6 = __errno_location();
        snprintf(acStack_830, 0x800,
                 "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar6,
                 "api.c", "print_data", 0x4ab);
        FUN_00047ab4(3, acStack_830, 1);
        FUN_00062ec0(1);
    }
    (*DAT_0009e444)();
    piVar6 = (int *)(iVar1 + 0xc);
    *(undefined4 *)(*piVar6 + 4) = 0;
    if (param_4 != 0) {
        FUN_0003d988(piVar6, &DAT_00086c58);
    }
    if (param_3 == 0) {
        if (param_2 != (undefined4 *)0x0) {
        LAB_0003e96c:
            if (param_3 != 0)
                goto LAB_0003eaa4;
        LAB_0003e994:
            FUN_0003d988(piVar6, param_2[1]);
            FUN_0003d988(piVar6, &DAT_0007fc20);
            switch (*param_2) {
            case 0:
                local_874 = (void *)param_2[2];
                __ptr = (void *)FUN_0003c89c(local_874, 0);
                FUN_0003d988(piVar6, __ptr);
                break;
            case 1:
            case 2:
                goto switchD_0003e9b4_caseD_1;
            case 3:
                goto switchD_0003e9b4_caseD_3;
            case 4:
                goto switchD_0003e9b4_caseD_4;
            case 5:
                goto switchD_0003e9b4_caseD_5;
            case 6:
                goto switchD_0003e9b4_caseD_6;
            case 7:
            case 8:
                goto switchD_0003e9b4_caseD_7;
            case 9:
                goto switchD_0003e9b4_caseD_9;
            case 10:
                goto switchD_0003e9b4_caseD_a;
            case 0xb:
                goto switchD_0003e9b4_caseD_b;
            case 0xc:
                goto switchD_0003e9b4_caseD_c;
            case 0xd:
                goto switchD_0003e9b4_caseD_d;
            case 0xe:
                goto switchD_0003e9b4_caseD_e;
            case 0xf:
                goto switchD_0003e9b4_caseD_f;
            case 0x10:
                goto switchD_0003e9b4_caseD_10;
            case 0x11:
            case 0x14:
            case 0x15:
                goto switchD_0003e9b4_caseD_11;
            case 0x12:
                goto switchD_0003e9b4_caseD_12;
            case 0x13:
                goto switchD_0003e9b4_caseD_13;
            case 0x16:
            case 0x1a:
                goto switchD_0003e9b4_caseD_16;
            case 0x17:
                goto switchD_0003e9b4_caseD_17;
            case 0x18:
                goto switchD_0003e9b4_caseD_18;
            case 0x19:
                goto switchD_0003e9b4_caseD_19;
            default:
                goto switchD_0003e9b4_default;
            }
        LAB_0003f034:
            __ptr_00 = param_2;
            if (local_874 != __ptr) {
                free(__ptr);
            }
        LAB_0003ea54:
            free((void *)__ptr_00[1]);
            if (*(char *)(__ptr_00 + 3) == '\0') {
                param_2 = (undefined4 *)__ptr_00[5];
            } else {
                free((void *)__ptr_00[2]);
                param_2 = (undefined4 *)__ptr_00[5];
            }
            if (param_2 == __ptr_00) {
                free(__ptr_00);
                if (param_3 == 0)
                    goto LAB_0003eb88;
                goto LAB_0003ec4c;
            }
            iVar2 = __ptr_00[4];
            param_2[4] = iVar2;
            *(undefined4 **)(iVar2 + 0x14) = param_2;
            free(__ptr_00);
            FUN_0003d988(piVar6, &DAT_00086c58);
            if (param_3 == 0)
                goto LAB_0003e994;
        LAB_0003eaa4:
            FUN_0003d988(piVar6, &DAT_00086d08);
            FUN_0003d988(piVar6, param_2[1]);
            FUN_0003d988(piVar6, &DAT_00086d08);
            FUN_0003d988(piVar6, &DAT_000827b8);
            switch (*param_2) {
            case 0:
                goto switchD_0003eae8_caseD_0;
            case 1:
            case 2:
                if (param_3 != 0) {
                    FUN_0003d988(piVar6, &DAT_00086d08);
                    pcVar3 = (char *)param_2[2];
                    goto LAB_0003f0b0;
                }
            switchD_0003e9b4_caseD_1:
                FUN_0003d988(piVar6, param_2[2]);
                __ptr_00 = param_2;
                goto LAB_0003ea54;
            case 3:
            switchD_0003e9b4_caseD_3:
                snprintf(acStack_870, 0x40, "%u", (uint) * (byte *)param_2[2]);
                break;
            case 4:
            switchD_0003e9b4_caseD_4:
                snprintf(acStack_870, 0x40, "%d", (int)*(short *)param_2[2]);
                break;
            case 5:
            switchD_0003e9b4_caseD_5:
                snprintf(acStack_870, 0x40, "%u",
                         (uint) * (ushort *)param_2[2]);
                break;
            case 6:
            switchD_0003e9b4_caseD_6:
                snprintf(acStack_870, 0x40, "%d", *(undefined4 *)param_2[2]);
                break;
            case 7:
            case 8:
            switchD_0003e9b4_caseD_7:
                snprintf(acStack_870, 0x40, "%u", *(undefined4 *)param_2[2]);
                break;
            case 9:
                if (param_3 == 0) {
                switchD_0003e9b4_caseD_9:
                    snprintf(acStack_870, 0x40, "0x%08x",
                             *(undefined4 *)param_2[2]);
                    FUN_0003d988(piVar6, acStack_870);
                    __ptr_00 = param_2;
                } else {
                    FUN_0003d988(piVar6, &DAT_00086d08);
                    snprintf(acStack_870, 0x40, "0x%08x",
                             *(undefined4 *)param_2[2]);
                    pcVar3 = acStack_870;
                LAB_0003f0b0:
                    FUN_0003d988(piVar6, pcVar3);
                    FUN_0003d988(piVar6, &DAT_00086d08);
                    __ptr_00 = param_2;
                }
                goto LAB_0003ea54;
            case 10:
            switchD_0003e9b4_caseD_a:
                snprintf(acStack_870, 0x40, "%llu", (undefined4 *)param_2[2],
                         *(undefined4 *)param_2[2]);
                break;
            case 0xb:
            switchD_0003e9b4_caseD_b:
                snprintf(acStack_870, 0x40, "%lld", (undefined4 *)param_2[2],
                         *(undefined4 *)param_2[2]);
                break;
            case 0xc:
            switchD_0003e9b4_caseD_c:
                snprintf(acStack_870, 0x40, "%f", (undefined8 *)param_2[2],
                         *(undefined8 *)param_2[2]);
                break;
            case 0xd:
            switchD_0003e9b4_caseD_d:
                snprintf(acStack_870, 0x40, "%.0f", (undefined8 *)param_2[2],
                         *(undefined8 *)param_2[2]);
                break;
            case 0xe:
            switchD_0003e9b4_caseD_e:
                pcVar3 = "false";
                if (*(char *)param_2[2] != '\0') {
                    pcVar3 = "true";
                }
                snprintf(acStack_870, 0x40, "%s", pcVar3);
                break;
            case 0xf:
            switchD_0003e9b4_caseD_f:
                snprintf(acStack_870, 0x40, "%ld.%06ld",
                         *(undefined4 *)param_2[2],
                         ((undefined4 *)param_2[2])[1]);
                break;
            case 0x10:
            switchD_0003e9b4_caseD_10:
                snprintf(acStack_870, 0x40, "%lu", *(undefined4 *)param_2[2]);
                break;
            case 0x11:
            case 0x14:
            case 0x15:
            switchD_0003e9b4_caseD_11:
                snprintf(acStack_870, 0x40, "%.2f", (undefined8 *)param_2[2],
                         *(undefined8 *)param_2[2]);
                break;
            case 0x12:
            switchD_0003e9b4_caseD_12:
                snprintf(acStack_870, 0x40, "%.4f", (undefined8 *)param_2[2],
                         *(undefined8 *)param_2[2]);
                break;
            case 0x13:
            switchD_0003e9b4_caseD_13:
                pfVar4 = (float *)param_2[2];
                pcVar3 = "%.2f";
                goto LAB_0003ed30;
            case 0x16:
            case 0x1a:
            switchD_0003e9b4_caseD_16:
                pfVar4 = (float *)param_2[2];
                pcVar3 = "%.3f";
            LAB_0003ed30:
                snprintf(acStack_870, 0x40, pcVar3, pfVar4, (double)*pfVar4);
                break;
            case 0x17:
            switchD_0003e9b4_caseD_17:
                snprintf(acStack_870, 0x40, "%.15f", (undefined8 *)param_2[2],
                         *(undefined8 *)param_2[2]);
                break;
            case 0x18:
            switchD_0003e9b4_caseD_18:
                snprintf(acStack_870, 0x40, "%.8f", (undefined8 *)param_2[2],
                         *(undefined8 *)param_2[2]);
                break;
            case 0x19:
            switchD_0003e9b4_caseD_19:
                snprintf(acStack_870, 0x40, "%.4f", (double *)param_2[2],
                         *(double *)param_2[2] * 100.0);
                break;
            default:
            switchD_0003e9b4_default:
                if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                    (2 < DAT_0009e320)) {
                    snprintf(acStack_830, 0x800,
                             "API: unknown2 data type %d ignored");
                    FUN_00047ab4(3, acStack_830, 0);
                }
                if (param_3 != 0) {
                    FUN_0003d988(piVar6, &DAT_00086d08);
                    pcVar3 = "Unknown";
                    goto LAB_0003f0b0;
                }
                FUN_0003d988(piVar6, "Unknown");
                __ptr_00 = param_2;
                goto LAB_0003ea54;
            }
            FUN_0003d988(piVar6, acStack_870);
            __ptr_00 = param_2;
            goto LAB_0003ea54;
        }
    LAB_0003eb88:
        FUN_0003d988(piVar6, &DAT_0007f754);
    } else {
        FUN_0003d988(piVar6, &DAT_00079dfc);
        if (param_2 != (undefined4 *)0x0)
            goto LAB_0003e96c;
    LAB_0003ec4c:
        FUN_0003d988(piVar6, "}");
    }
    FUN_0003c770(param_1, **(undefined4 **)(iVar1 + 0xc));
    ppVar5 = *(pthread_mutex_t **)(DAT_001aeb94 + 8);
    iVar2 = pthread_mutex_lock(ppVar5);
    if (iVar2 == 0) {
        iVar2 = pthread_rwlock_wrlock((pthread_rwlock_t *)(ppVar5 + 1));
    } else {
        piVar6 = __errno_location();
        snprintf(acStack_830, 0x800,
                 "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar6,
                 "api.c", "print_data", 0x555);
        FUN_00047ab4(3, acStack_830, 1);
        FUN_00062ec0(1);
        iVar2 = pthread_rwlock_wrlock((pthread_rwlock_t *)(ppVar5 + 1));
    }
    if (iVar2 != 0) {
        piVar6 = __errno_location();
        snprintf(acStack_830, 0x800,
                 "WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d", *piVar6,
                 "api.c", "print_data", 0x555);
        FUN_00047ab4(3, acStack_830, 1);
        FUN_00062ec0(1);
    }
    FUN_00047080(DAT_001aeb94, iVar1, "api.c", "print_data", 0x556);
    ppVar5 = *(pthread_mutex_t **)(DAT_001aeb94 + 8);
    iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)(ppVar5 + 1));
    if (iVar1 == 0) {
        iVar1 = pthread_mutex_unlock(ppVar5);
    } else {
        piVar6 = __errno_location();
        snprintf(acStack_830, 0x800,
                 "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar6,
                 "api.c", "print_data", 0x557);
        FUN_00047ab4(3, acStack_830, 1);
        FUN_00062ec0(1);
        iVar1 = pthread_mutex_unlock(ppVar5);
    }
    if (iVar1 != 0) {
        piVar6 = __errno_location();
        snprintf(acStack_830, 0x800,
                 "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar6,
                 "api.c", "print_data", 0x557);
        FUN_00047ab4(3, acStack_830, 1);
        FUN_00062ec0(1);
    }
    (*DAT_0009e444)();
    return 0;
switchD_0003eae8_caseD_0:
    local_874 = (void *)param_2[2];
    __ptr = (void *)FUN_0003c89c(local_874, 1);
    FUN_0003d988(piVar6, &DAT_00086d08);
    FUN_0003d988(piVar6, __ptr);
    FUN_0003d988(piVar6, &DAT_00086d08);
    goto LAB_0003f034;
}

undefined4 *FUN_0003f3d8(undefined4 *param_1, undefined4 param_2,
                         undefined4 param_3, char *param_4, char param_5)

{
    char cVar1;
    undefined2 uVar2;
    undefined4 *puVar3;
    undefined4 *puVar4;
    undefined4 uVar5;
    undefined2 *puVar6;
    char *pcVar7;
    undefined4 *puVar8;
    size_t sVar9;
    void *__dest;
    undefined4 uVar10;
    int extraout_r3;
    int iVar11;
    char acStack_820[2052];

    puVar4 = (undefined4 *)malloc(0x18);
    uVar5 = __strdup(param_2);
    puVar4[1] = uVar5;
    puVar3 = puVar4;
    iVar11 = extraout_r3;
    if (param_1 != (undefined4 *)0x0) {
        iVar11 = param_1[4];
        puVar4[5] = param_1;
        param_1[4] = puVar4;
        puVar4[4] = iVar11;
        puVar3 = param_1;
    }
    *puVar4 = param_3;
    if (param_1 != (undefined4 *)0x0) {
        *(undefined4 **)(iVar11 + 0x14) = puVar4;
    } else {
        puVar4[4] = puVar4;
        puVar4[5] = puVar4;
    }
    *(char *)(puVar4 + 3) = param_5;
    if (param_4 == (char *)0x0) {
        *(undefined1 *)(puVar4 + 3) = 0;
        param_4 = "(null)";
        *puVar4 = 2;
    } else if (param_5 != '\0') {
        switch (param_3) {
        case 0:
        case 1:
        case 2:
            sVar9 = strlen(param_4);
            __dest = malloc(sVar9 + 1);
            puVar4[2] = __dest;
            memcpy(__dest, param_4, sVar9 + 1);
            return puVar3;
        case 3:
            pcVar7 = (char *)malloc(4);
            cVar1 = *param_4;
            puVar4[2] = pcVar7;
            *pcVar7 = cVar1;
            return puVar3;
        case 4:
        case 5:
            puVar6 = (undefined2 *)malloc(4);
            uVar2 = *(undefined2 *)param_4;
            puVar4[2] = puVar6;
            *puVar6 = uVar2;
            return puVar3;
        case 6:
        case 7:
        case 8:
        case 9:
        case 0x10:
            puVar8 = (undefined4 *)malloc(4);
            uVar5 = *(undefined4 *)param_4;
            puVar4[2] = puVar8;
            *puVar8 = uVar5;
            return puVar3;
        case 10:
        case 0xb:
            puVar8 = (undefined4 *)malloc(8);
            uVar5 = *(undefined4 *)param_4;
            uVar10 = *(undefined4 *)(param_4 + 4);
            puVar4[2] = puVar8;
            *puVar8 = uVar5;
            puVar8[1] = uVar10;
            return puVar3;
        case 0xc:
        case 0xd:
        case 0xf:
        case 0x11:
        case 0x12:
        case 0x14:
        case 0x15:
        case 0x17:
        case 0x18:
        case 0x19:
            puVar8 = (undefined4 *)malloc(8);
            uVar10 = *(undefined4 *)(param_4 + 4);
            uVar5 = *(undefined4 *)param_4;
            puVar4[2] = puVar8;
            *puVar8 = uVar5;
            puVar8[1] = uVar10;
            return puVar3;
        case 0xe:
            pcVar7 = (char *)malloc(1);
            cVar1 = *param_4;
            puVar4[2] = pcVar7;
            *pcVar7 = cVar1;
            return puVar3;
        case 0x13:
        case 0x16:
        case 0x1a:
            puVar8 = (undefined4 *)malloc(4);
            uVar5 = *(undefined4 *)param_4;
            puVar4[2] = puVar8;
            *puVar8 = uVar5;
            return puVar3;
        }
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (2 < DAT_0009e320)) {
            snprintf(acStack_820, 0x800, "API: unknown1 data type %d ignored",
                     param_3);
            FUN_00047ab4(3, acStack_820, 0);
        }
        puVar4[2] = "Unknown";
        *puVar4 = 1;
        *(undefined1 *)(puVar4 + 3) = 0;
        return puVar3;
    }
    puVar4[2] = param_4;
    return puVar3;
}

void FUN_0003f65c(undefined4 param_1, int param_2, int param_3,
                  undefined4 param_4, char param_5)

{
    int *piVar1;
    int iVar2;
    undefined4 uVar3;
    int iVar4;
    undefined4 *puVar5;
    int iVar6;
    char *pcVar7;
    int local_202c;
    undefined1 local_2028;
    undefined1 local_2027;
    undefined4 local_2024;
    char acStack_2020[8196];

    local_202c = param_2;
    if (param_5 != '\0') {
        FUN_0003c770(param_1, "{\"STATUS\":[");
    }
    if (DAT_0009d80c == 4) {
    LAB_0003f6dc:
        uVar3 = FUN_0003f3d8(0, "STATUS", 1, &DAT_0007fc84, 0);
        uVar3 = FUN_0003f3d8(uVar3, &DAT_0007fc64, 0x10, &DAT_001aeb98, 0);
        local_2024 = 0xffffffff;
        uVar3 = FUN_0003f3d8(uVar3, &DAT_0007fc6c, 6, &local_2024, 0);
        sprintf(acStack_2020, "%d", local_202c);
    } else {
        if (DAT_0009d810 == local_202c) {
            iVar2 = 0;
            iVar4 = DAT_0009d80c;
        } else {
            iVar2 = 0;
            puVar5 = &DAT_0009d80c;
            do {
                iVar4 = puVar5[4];
                iVar2 = iVar2 + 1;
                if (iVar4 == 4)
                    goto LAB_0003f6dc;
                piVar1 = puVar5 + 5;
                puVar5 = puVar5 + 4;
            } while (*piVar1 != local_202c);
        }
        if (iVar4 == 2) {
            local_2028 = 0x49;
        } else if (iVar4 == 3) {
            local_2028 = 0x53;
        } else {
            iVar6 = DAT_0009d810;
            if (iVar4 == 1) {
                iVar6 = 0x57;
            }
            local_2028 = (undefined1)iVar6;
            if (iVar4 != 1) {
                local_2028 = 0x45;
            }
        }
        local_2027 = 0;
        switch ((&DAT_0009d814)[iVar2 * 4]) {
        case 0:
        case 1:
        case 2:
        case 0xe:
            snprintf(acStack_2020, 0x1fff, (char *)(&DAT_0009d818)[iVar2 * 4],
                     param_3);
            break;
        default:
            strcpy(acStack_2020, (char *)(&DAT_0009d818)[iVar2 * 4]);
            break;
        case 4:
            iVar4 = FUN_0003e2bc();
            snprintf(acStack_2020, 0x1fff, (char *)(&DAT_0009d818)[iVar2 * 4],
                     param_3, iVar4 + -1);
            break;
        case 5:
            snprintf(acStack_2020, 0x1fff, (char *)(&DAT_0009d818)[iVar2 * 4],
                     DAT_00242f4c);
            break;
        case 6:
            snprintf(acStack_2020, 0x1fff, (char *)(&DAT_0009d818)[iVar2 * 4],
                     param_3, DAT_00242f4c + -1);
            break;
        case 7:
            uVar3 = FUN_0003e2bc();
            snprintf(acStack_2020, 0x1fff, (char *)(&DAT_0009d818)[iVar2 * 4],
                     uVar3);
            break;
        case 8:
            snprintf(acStack_2020, 0x1fff, (char *)(&DAT_0009d818)[iVar2 * 4],
                     "command");
            break;
        case 9:
            snprintf(
                acStack_2020, 0x1fff, (char *)(&DAT_0009d818)[iVar2 * 4],
                param_3,
                *(undefined4 *)(*(int *)(DAT_00244048 + param_3 * 4) + 0xa4));
            break;
        case 10:
            snprintf(acStack_2020, 0x1fff, (char *)(&DAT_0009d818)[iVar2 * 4],
                     param_4);
            break;
        case 0xb:
            snprintf(acStack_2020, 0x1fff, (char *)(&DAT_0009d818)[iVar2 * 4],
                     param_3, param_4);
            break;
        case 0xc:
            pcVar7 = "false";
            if (param_3 != 0) {
                pcVar7 = "true";
            }
            snprintf(acStack_2020, 0x1fff, (char *)(&DAT_0009d818)[iVar2 * 4],
                     pcVar7);
            break;
        case 0xd:
            snprintf(acStack_2020, 0x1fff, (char *)(&DAT_0009d818)[iVar2 * 4],
                     param_4, param_3);
        }
        uVar3 = FUN_0003f3d8(0, "STATUS", 1, &local_2028, 0);
        uVar3 = FUN_0003f3d8(uVar3, &DAT_0007fc64, 0x10, &DAT_001aeb98, 0);
        uVar3 = FUN_0003f3d8(uVar3, &DAT_0007fc6c, 6, &local_202c, 0);
    }
    uVar3 = FUN_0003f3d8(uVar3, &DAT_0007fc74, 0, acStack_2020, 0);
    uVar3 = FUN_0003f3d8(uVar3, "Description", 0, DAT_0009ee60, 0);
    FUN_0003e88c(param_1, uVar3, param_5, 0);
    if (param_5 != '\0') {
        FUN_0003c770(param_1, "]");
    }
    return;
}

void FUN_0003fa8c(undefined4 param_1, undefined4 param_2, char *param_3,
                  undefined4 param_4)

{
    FILE *__stream;
    char *pcVar1;
    char acStack_1018[4096];

    if ((param_3 == (char *)0x0) || (*param_3 == '\0')) {
        FUN_00053cd4(acStack_1018);
        param_3 = acStack_1018;
    }
    __stream = fopen64(param_3, "w");
    if (__stream == (FILE *)0x0) {
        pcVar1 = (char *)FUN_0003c89c(param_3, param_4);
        FUN_0003f65c(param_1, 0x2b, 0, pcVar1, param_4);
        if (param_3 != pcVar1) {
            free(pcVar1);
            return;
        }
    } else {
        FUN_00053654();
        fclose(__stream);
        pcVar1 = (char *)FUN_0003c89c(param_3, param_4);
        FUN_0003f65c(param_1, 0x2c, 0, pcVar1, param_4);
        if (param_3 != pcVar1) {
            free(pcVar1);
        }
    }
    return;
}

void FUN_0003fb84(undefined4 param_1, undefined4 param_2, char *param_3,
                  undefined4 param_4)

{
    int iVar1;
    char *pcVar2;
    long lVar3;
    undefined4 uVar4;
    code *pcVar5;
    char *__s;
    int iVar6;
    undefined1 auStack_2020[8192];

    iVar1 = FUN_0003e2bc();
    if (iVar1 == 0) {
        FUN_0003f65c(param_1, 0x69, 0, 0, param_4);
        return;
    }
    if ((param_3 == (char *)0x0) || (*param_3 == '\0')) {
        FUN_0003f65c(param_1, 0xf, 0, 0, param_4);
        return;
    }
    pcVar2 = strchr(param_3, 0x2c);
    if (pcVar2 != (char *)0x0) {
        __s = pcVar2 + 1;
        *pcVar2 = '\0';
        if ((__s != (char *)0x0) && (pcVar2[1] != '\0')) {
            lVar3 = strtol(param_3, (char **)0x0, 10);
            if (iVar1 <= lVar3 || lVar3 < 0) {
                FUN_0003f65c(param_1, 0x6b, lVar3, 0, param_4);
                return;
            }
            iVar1 = FUN_0003e378();
            if (-1 < iVar1) {
                iVar1 = FUN_00056518();
                iVar6 = *(int *)(iVar1 + 4);
                pcVar2 = strchr(__s, 0x2c);
                if (pcVar2 != (char *)0x0) {
                    *pcVar2 = '\0';
                    pcVar2 = pcVar2 + 1;
                }
                pcVar5 = *(code **)(iVar6 + 0x28);
                if (pcVar5 != (code *)0x0) {
                    iVar1 = (*pcVar5)(iVar1, __s, pcVar2, auStack_2020);
                    if (iVar1 != 0) {
                        iVar6 = strcasecmp(__s, "help");
                        if (iVar6 == 0) {
                            uVar4 = 0x76;
                        } else {
                            uVar4 = 0x78;
                        }
                        FUN_0003f65c(param_1, uVar4, lVar3, iVar1, param_4);
                        return;
                    }
                    FUN_0003f65c(param_1, 0x77, lVar3, 0, param_4);
                    return;
                }
                FUN_0003f65c(param_1, 0x75, lVar3, 0, param_4);
                return;
            }
            FUN_0003f65c(param_1, 0x6b, lVar3, 0, param_4);
            return;
        }
    }
    FUN_0003f65c(param_1, 0x74, 0, 0, param_4);
    return;
}

void FUN_0003fd78(undefined4 param_1, undefined4 param_2, char *param_3)

{
    int iVar1;
    long lVar2;
    code *pcVar3;

    iVar1 = FUN_0003e2bc();
    if (iVar1 == 0) {
        FUN_0003f65c(param_1, 0x69, 0, 0);
        return;
    }
    if ((param_3 == (char *)0x0) || (*param_3 == '\0')) {
        FUN_0003f65c(param_1, 0xf, 0);
        return;
    }
    lVar2 = strtol(param_3, (char **)0x0, 10);
    if (iVar1 <= lVar2 || lVar2 < 0) {
        FUN_0003f65c(param_1, 0x6b, lVar2, 0);
        return;
    }
    iVar1 = FUN_0003e378();
    if (-1 < iVar1) {
        iVar1 = FUN_00056518();
        pcVar3 = *(code **)(*(int *)(iVar1 + 4) + 0x24);
        if (pcVar3 == (code *)0x0) {
            FUN_0003f65c(param_1, 0x72, lVar2);
            return;
        }
        (*pcVar3)();
        FUN_0003f65c(param_1, 0x71, lVar2, 0);
        return;
    }
    FUN_0003f65c(param_1, 0x6b, lVar2, 0);
    return;
}

void FUN_0003fe98(undefined4 param_1, undefined4 param_2, char *param_3,
                  undefined4 param_4)

{
    int iVar1;
    long lVar2;
    int iVar3;
    char acStack_818[2048];

    iVar1 = FUN_0003e2bc();
    if (iVar1 == 0) {
        FUN_0003f65c(param_1, 0x69, 0, 0, param_4);
        return;
    }
    if ((param_3 == (char *)0x0) || (*param_3 == '\0')) {
        FUN_0003f65c(param_1, 0xf, 0, 0, param_4);
    } else {
        lVar2 = strtol(param_3, (char **)0x0, 10);
        if (iVar1 <= lVar2 || lVar2 < 0) {
            FUN_0003f65c(param_1, 0x6b, lVar2, 0, param_4);
            return;
        }
        iVar1 = FUN_0003e378();
        if (iVar1 < 0) {
            FUN_0003f65c(param_1, 0x6b, lVar2, 0, param_4);
        } else {
            iVar3 = FUN_00056518();
            if ((DAT_001aecc5 != '\0') &&
                (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                  (6 < DAT_0009e320)))) {
                snprintf(acStack_818, 0x800,
                         "API: request to ascdisable ascid %d device %d %s%u",
                         lVar2, iVar1, *(undefined4 *)(*(int *)(iVar3 + 4) + 8),
                         *(undefined4 *)(iVar3 + 8));
                FUN_00047ab4(7, acStack_818, 0);
            }
            if (*(int *)(iVar3 + 0x20) == 1) {
                FUN_0003f65c(param_1, 0x6d, lVar2, 0, param_4);
            } else {
                *(undefined4 *)(iVar3 + 0x20) = 1;
                FUN_0003f65c(param_1, 0x6f, lVar2, 0, param_4);
            }
        }
    }
    return;
}

void FUN_0004005c(undefined4 param_1, undefined4 param_2, char *param_3,
                  undefined4 param_4)

{
    int iVar1;
    long lVar2;
    int iVar3;
    undefined4 *puVar4;
    int iVar5;
    int iVar6;
    bool bVar7;
    char acStack_828[2052];

    iVar1 = FUN_0003e2bc();
    if (iVar1 == 0) {
        FUN_0003f65c(param_1, 0x69, 0, 0, param_4);
        return;
    }
    if ((param_3 == (char *)0x0) || (*param_3 == '\0')) {
        FUN_0003f65c(param_1, 0xf, 0, 0, param_4);
    } else {
        lVar2 = strtol(param_3, (char **)0x0, 10);
        if (iVar1 <= lVar2 || lVar2 < 0) {
            FUN_0003f65c(param_1, 0x6b, lVar2, 0, param_4);
            return;
        }
        iVar1 = FUN_0003e378();
        if (iVar1 < 0) {
            FUN_0003f65c(param_1, 0x6b, lVar2, 0, param_4);
        } else {
            iVar3 = FUN_00056518();
            if ((DAT_001aecc5 != '\0') &&
                (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                  (6 < DAT_0009e320)))) {
                snprintf(acStack_828, 0x800,
                         "API: request to ascenable ascid %d device %d %s%u",
                         lVar2, iVar1, *(undefined4 *)(*(int *)(iVar3 + 4) + 8),
                         *(undefined4 *)(iVar3 + 8));
                FUN_00047ab4(7, acStack_828, 0);
            }
            if (*(int *)(iVar3 + 0x20) == 1) {
                if (0 < DAT_00245108) {
                    iVar5 = 0;
                    do {
                        iVar6 = iVar5 + 1;
                        puVar4 = (undefined4 *)FUN_00057bac(iVar5);
                        if (iVar1 == *(int *)puVar4[9]) {
                            bVar7 = DAT_001aecc5 != '\0';
                            *(undefined4 *)(iVar3 + 0x20) = 0;
                            if ((bVar7) && (((DAT_00244080 != '\0' ||
                                              (DAT_001aecc4 != '\0')) ||
                                             (6 < DAT_0009e320)))) {
                                snprintf(acStack_828, 0x800,
                                         "API: Pushing sem post to thread %d",
                                         *puVar4);
                                FUN_00047ab4(7, acStack_828, 0);
                            }
                            FUN_0004be14(puVar4 + 4, "api.c", "ascenable",
                                         0xfa1);
                        }
                        iVar5 = iVar6;
                    } while (iVar6 < DAT_00245108);
                }
                FUN_0003f65c(param_1, 0x6e, lVar2, 0, param_4);
            } else {
                FUN_0003f65c(param_1, 0x6c, lVar2, 0, param_4);
            }
        }
    }
    return;
}

void FUN_00040e64(undefined4 param_1, undefined4 param_2, char *param_3,
                  undefined4 param_4)

{
    int iVar1;
    char *__ptr;
    undefined4 *puVar2;
    void *__ptr_00;
    void *local_24;
    undefined4 local_20;
    undefined4 local_1c;

    if ((param_3 == (char *)0x0) || (*param_3 == '\0')) {
        FUN_0003f65c(param_1, 0x34, 0, 0, param_4);
    } else {
        iVar1 = FUN_0003e02c(param_3, &local_24, &local_20, &local_1c);
        if (iVar1 == 0) {
            __ptr = (char *)FUN_0003c89c(param_3, param_4);
            FUN_0003f65c(param_1, 0x35, 0, __ptr, param_4);
            if (param_3 != __ptr) {
                free(__ptr);
            }
        } else {
            puVar2 = (undefined4 *)FUN_00058548();
            FUN_00052d98(puVar2, local_24);
            FUN_00062ecc(puVar2, 1, local_24, local_20, local_1c);
            __ptr_00 = (void *)FUN_0003c89c(local_24, param_4);
            FUN_0003f65c(param_1, 0x37, *puVar2, __ptr_00, param_4);
            if (local_24 != __ptr_00) {
                free(__ptr_00);
            }
        }
    }
    return;
}

void FUN_00040f6c(undefined4 param_1, undefined4 param_2, char *param_3)

{
    long lVar1;
    int iVar2;
    int iVar3;

    if (DAT_00242f4c == 0) {
        FUN_0003f65c(param_1, 8, 0);
        return;
    }
    if ((param_3 != (char *)0x0) && (*param_3 != '\0')) {
        lVar1 = strtol(param_3, (char **)0x0, 10);
        iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_002440bc);
        if (iVar2 != 0) {
            FUN_0003e190("switchpool", 0xb5b);
        }
        iVar2 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_002440d4);
        if (iVar2 != 0) {
            FUN_0003e12c("switchpool", 0xb5b);
        }
        iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_002440bc);
        if (iVar2 != 0) {
            FUN_0003e1f4("switchpool", 0xb5b);
        }
        if ((-1 < lVar1) && (lVar1 < DAT_00242f4c)) {
            iVar3 = *(int *)(DAT_00244048 + lVar1 * 4);
            *(undefined4 *)(iVar3 + 100) = 1;
            iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_002440d4);
            if (iVar2 != 0) {
                FUN_0003e258("switchpool", 0xb65);
            }
            (*DAT_0009e444)();
            FUN_00059e6c(iVar3);
            FUN_0003f65c(param_1, 0x1b, lVar1, 0);
            return;
        }
        iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_002440d4);
        if (iVar2 != 0) {
            FUN_0003e258("switchpool", 0xb5e);
        }
        (*DAT_0009e444)();
        FUN_0003f65c(param_1, 0x1a, lVar1, 0);
        return;
    }
    FUN_0003f65c(param_1, 0x19, 0);
    return;
}

void FUN_00041120(int param_1, undefined4 param_2, undefined4 param_3,
                  int param_4)

{
    int iVar1;
    undefined4 uVar2;
    undefined4 local_14;

    local_14 = 0;
    local_14 = FUN_0003e2bc();
    FUN_0003f65c(param_1, 0x68, 0, 0, param_4);
    if (param_4 == 0) {
        FUN_0003c770(param_1, "ASCS,");
        uVar2 = FUN_0003f3d8(0, "Count", 6, &local_14, 0);
        FUN_0003e88c(param_1, uVar2, 0, 0);
        return;
    }
    iVar1 = FUN_0003c770(param_1, ",\"ASCS\":[");
    uVar2 = FUN_0003f3d8(0, "Count", 6, &local_14, 0);
    FUN_0003e88c(param_1, uVar2, 1, 0);
    if (iVar1 != 0) {
        *(undefined1 *)(param_1 + 0xd) = 1;
    }
    return;
}

void FUN_00041200(int param_1, undefined4 param_2, byte *param_3, int param_4)

{
    byte bVar1;
    __int32_t **pp_Var2;
    int iVar3;
    undefined4 uVar4;
    byte *pbVar5;

    if (param_3 == (byte *)0x0)
        goto switchD_00041234_caseD_65;
    pp_Var2 = __ctype_tolower_loc();
    bVar1 = *(byte *)(*pp_Var2 + *param_3);
    *param_3 = bVar1;
    switch (bVar1) {
    case 100:
        DAT_001aecc4 = DAT_001aecc5 ^ 1;
        DAT_001aecc5 = DAT_001aecc4;
        if (DAT_001aecc4 == 0)
            break;
        goto LAB_000412b4;
    case 0x6e:
        DAT_001aecc4 = 0;
        DAT_001aecc5 = 0;
        DAT_00242ef8 = 0;
        DAT_00242f18 = 0;
        DAT_00242f08 = 0;
        DAT_0024401c = 0;
        break;
    case 0x70:
        DAT_001aecc4 = DAT_00242f08 ^ 1;
        DAT_00242f08 = DAT_001aecc4;
        break;
    case 0x71:
        DAT_00242ef8 = DAT_00242ef8 ^ 1;
        break;
    case 0x72:
        pbVar5 = &DAT_00242f18;
        goto LAB_0004158c;
    case 0x73:
        DAT_0024511c = 1;
        break;
    case 0x76:
        pbVar5 = &DAT_001aecc4;
    LAB_0004158c:
        bVar1 = *pbVar5;
        *pbVar5 = bVar1 ^ 1;
        if ((bVar1 ^ 1) != 0) {
        LAB_000412b4:
            DAT_00242ef8 = 0;
        }
        break;
    case 0x77:
        DAT_0024401c = DAT_0024401c ^ 1;
    }
switchD_00041234_caseD_65:
    FUN_0003f65c(param_1, 0x4f, 0, 0, param_4);
    if (param_4 == 0) {
        FUN_0003c770(param_1, "DEBUG,");
        uVar4 = FUN_0003f3d8(0, "Silent", 0xe, &DAT_0024511c, 0);
        uVar4 = FUN_0003f3d8(uVar4, "Quiet", 0xe, &DAT_00242ef8, 0);
        uVar4 = FUN_0003f3d8(uVar4, "Verbose", 0xe, &DAT_001aecc4, 0);
        uVar4 = FUN_0003f3d8(uVar4, "Debug", 0xe, &DAT_001aecc5, 0);
        uVar4 = FUN_0003f3d8(uVar4, "RPCProto", 0xe, &DAT_00242f18, 0);
        uVar4 = FUN_0003f3d8(uVar4, "PerDevice", 0xe, &DAT_00242f08, 0);
        uVar4 = FUN_0003f3d8(uVar4, "WorkTime", 0xe, &DAT_0024401c, 0);
        FUN_0003e88c(param_1, uVar4, 0, 0);
        return;
    }
    iVar3 = FUN_0003c770(param_1, ",\"DEBUG\":[");
    uVar4 = FUN_0003f3d8(0, "Silent", 0xe, &DAT_0024511c, 0);
    uVar4 = FUN_0003f3d8(uVar4, "Quiet", 0xe, &DAT_00242ef8, 0);
    uVar4 = FUN_0003f3d8(uVar4, "Verbose", 0xe, &DAT_001aecc4, 0);
    uVar4 = FUN_0003f3d8(uVar4, "Debug", 0xe, &DAT_001aecc5, 0);
    uVar4 = FUN_0003f3d8(uVar4, "RPCProto", 0xe, &DAT_00242f18, 0);
    uVar4 = FUN_0003f3d8(uVar4, "PerDevice", 0xe, &DAT_00242f08, 0);
    uVar4 = FUN_0003f3d8(uVar4, "WorkTime", 0xe, &DAT_0024401c, 0);
    FUN_0003e88c(param_1, uVar4, 1, 0);
    if (iVar3 != 0) {
        *(undefined1 *)(param_1 + 0xd) = 1;
    }
    return;
}

void FUN_000415c4(int param_1, undefined4 param_2, char *param_3, uint param_4,
                  byte param_5)

{
    int iVar1;
    __int32_t **pp_Var2;
    char *pcVar3;
    uint uVar4;
    undefined4 uVar5;
    __int32_t *p_Var6;
    int *piVar7;
    char acStack_7c[100];

    if ((param_3 == (char *)0x0) || (*param_3 == '\0')) {
        FUN_0003f65c(param_1, 0x47, 0, 0, param_4);
        return;
    }
    if (DAT_0009dd3c == (char *)0x0) {
        FUN_0003f65c(param_1, 0x48, 0, 0, param_4);
    } else {
        piVar7 = (int *)&DAT_0009dd3c;
        pcVar3 = DAT_0009dd3c;
        do {
            iVar1 = strcmp(pcVar3, param_3);
            if (iVar1 == 0) {
                sprintf(acStack_7c, "|%s|", param_3);
                pp_Var2 = __ctype_toupper_loc();
                p_Var6 = *pp_Var2;
                if ((p_Var6[param_5] != p_Var6[0x57]) &&
                    (pcVar3 = strstr(
                         *(char **)(&DAT_00242df4 +
                                    (p_Var6[param_5] - p_Var6[0x41]) * 4),
                         acStack_7c),
                     pcVar3 == (char *)0x0)) {
                    FUN_0003f65c(param_1, 0x48, 0, 0, param_4);
                    if (param_4 == 0) {
                        uVar4 = FUN_0003c770(param_1, "CHECK,");
                        pcVar3 = "Y";
                    } else {
                        uVar4 = FUN_0003c770(param_1, ",\"CHECK\":[");
                        pcVar3 = "Y";
                    }
                    goto LAB_0004176c;
                }
                FUN_0003f65c(param_1, 0x48, 0, 0, param_4);
                if (param_4 == 0) {
                    uVar4 = FUN_0003c770(param_1, "CHECK,");
                } else {
                    uVar4 = FUN_0003c770(param_1, ",\"CHECK\":[");
                }
                uVar5 = FUN_0003f3d8(0, "Exists", 2, "Y", 0);
                pcVar3 = "Y";
                goto LAB_000416d4;
            }
            piVar7 = piVar7 + 3;
            pcVar3 = (char *)*piVar7;
        } while (pcVar3 != (char *)0x0);
        FUN_0003f65c(param_1, 0x48, 0, 0, param_4);
    }
    if (param_4 == 0) {
        uVar4 = FUN_0003c770(param_1, "CHECK,");
        pcVar3 = "N";
    } else {
        uVar4 = FUN_0003c770(param_1, ",\"CHECK\":[");
        pcVar3 = "N";
    }
LAB_0004176c:
    uVar5 = FUN_0003f3d8(0, "Exists", 2, pcVar3, 0);
    pcVar3 = "N";
LAB_000416d4:
    uVar5 = FUN_0003f3d8(uVar5, "Access", 2, pcVar3, 0);
    FUN_0003e88c(param_1, uVar5, param_4, 0);
    if ((param_4 & uVar4) != 0) {
        *(undefined1 *)(param_1 + 0xd) = 1;
    }
    return;
}

void FUN_0004183c(int param_1, undefined4 param_2, undefined4 param_3,
                  int param_4)

{
    int iVar1;
    int iVar2;
    char *pcVar3;
    char *pcVar4;
    undefined4 uVar5;
    int local_2c[2];

    if (DAT_00245140 == 0) {
        FUN_0003f65c(param_1, 10, 0, 0, param_4);
        return;
    }
    FUN_0003f65c(param_1, 0x45, 0, 0, param_4);
    if (param_4 == 0) {
        if (DAT_00245140 < 1) {
            return;
        }
        iVar2 = 0;
    } else {
        iVar2 = FUN_0003c770(param_1, ",\"DEVDETAILS\":[");
        if (DAT_00245140 < 1)
            goto LAB_000419c0;
    }
    local_2c[0] = 0;
    uVar5 = 0;
    pcVar4 = "";
    do {
        iVar1 = FUN_00056518(local_2c[0]);
        uVar5 = FUN_0003f3d8(uVar5, "DEVDETAILS", 6, local_2c, 0);
        uVar5 = FUN_0003f3d8(uVar5, "Name", 1,
                             *(undefined4 *)(*(int *)(iVar1 + 4) + 8), 0);
        uVar5 = FUN_0003f3d8(uVar5, &DAT_0007fe08, 6, iVar1 + 8, 0);
        uVar5 = FUN_0003f3d8(uVar5, "Driver", 1,
                             *(undefined4 *)(*(int *)(iVar1 + 4) + 4), 0);
        pcVar3 = *(char **)(iVar1 + 0xa8);
        if (*(char **)(iVar1 + 0xa8) == (char *)0x0) {
            pcVar3 = pcVar4;
        }
        uVar5 = FUN_0003f3d8(uVar5, "Kernel", 2, pcVar3, 0);
        pcVar3 = *(char **)(iVar1 + 0xc);
        if (*(char **)(iVar1 + 0xc) == (char *)0x0) {
            pcVar3 = pcVar4;
        }
        uVar5 = FUN_0003f3d8(uVar5, "Model", 2, pcVar3, 0);
        pcVar3 = *(char **)(iVar1 + 0x10);
        if (*(char **)(iVar1 + 0x10) == (char *)0x0) {
            pcVar3 = pcVar4;
        }
        uVar5 = FUN_0003f3d8(uVar5, "Device Path", 2, pcVar3, 0);
        iVar1 = param_4;
        if (param_4 != 0) {
            if (local_2c[0] < 1) {
                iVar1 = 0;
            } else {
                iVar1 = 1;
            }
        }
        uVar5 = FUN_0003e88c(param_1, uVar5, param_4, iVar1);
        local_2c[0] = local_2c[0] + 1;
    } while (local_2c[0] < DAT_00245140);
LAB_000419c0:
    if (iVar2 != 0) {
        *(undefined1 *)(param_1 + 0xd) = 1;
    }
    return;
}

void FUN_00041a18(int param_1, undefined4 param_2, undefined4 param_3,
                  int param_4)

{
    int iVar1;
    undefined4 uVar2;
    undefined4 local_14;

    local_14 = 0;
    FUN_0003f65c(param_1, 0x3b, 0, 0, param_4);
    if (param_4 == 0) {
        FUN_0003c770(param_1, "PGAS,");
        uVar2 = FUN_0003f3d8(0, "Count", 6, &local_14, 0);
        FUN_0003e88c(param_1, uVar2, 0, 0);
        return;
    }
    iVar1 = FUN_0003c770(param_1, ",\"PGAS\":[");
    uVar2 = FUN_0003f3d8(0, "Count", 6, &local_14, 0);
    FUN_0003e88c(param_1, uVar2, 1, 0);
    if (iVar1 != 0) {
        *(undefined1 *)(param_1 + 0xd) = 1;
    }
    return;
}

void FUN_00041aec(int param_1, undefined4 param_2, undefined4 param_3,
                  int param_4)

{
    int iVar1;
    undefined4 uVar2;

    FUN_0003f65c(param_1, 0x10, 0, 0, param_4);
    if (param_4 == 0) {
        FUN_0003c770(param_1, "NONCENUM,");
        uVar2 = FUN_0003f3d8(0, "10min nonce", 1, &DAT_00245234, 0);
        uVar2 = FUN_0003f3d8(uVar2, "30min nonce", 1, &DAT_002440fc, 0);
        uVar2 = FUN_0003f3d8(uVar2, "60min nonce", 1, &DAT_00243004, 0);
        FUN_0003e88c(param_1, uVar2, 0, 0);
        return;
    }
    iVar1 = FUN_0003c770(param_1, ",\"NONCENUM\":[");
    uVar2 = FUN_0003f3d8(0, "10min nonce", 1, &DAT_00245234, 0);
    uVar2 = FUN_0003f3d8(uVar2, "30min nonce", 1, &DAT_002440fc, 0);
    uVar2 = FUN_0003f3d8(uVar2, "60min nonce", 1, &DAT_00243004, 0);
    FUN_0003e88c(param_1, uVar2, 1, 0);
    if (iVar1 != 0) {
        *(undefined1 *)(param_1 + 0xd) = 1;
    }
    return;
}

void FUN_00041c34(int param_1, undefined4 param_2, undefined4 param_3,
                  uint param_4)

{
    uint uVar1;
    undefined4 uVar2;
    char *pcVar3;
    undefined4 local_20;
    undefined4 local_1c;

    local_20 = 0;
    local_1c = 0;
    local_20 = FUN_0003e2bc();
    FUN_0003f65c(param_1, 0x21, 0, 0, param_4);
    pcVar3 = ",\"CONFIG\":[";
    if (param_4 == 0) {
        pcVar3 = "CONFIG,";
    }
    uVar1 = FUN_0003c770(param_1, pcVar3);
    uVar2 = FUN_0003f3d8(0, "ASC Count", 6, &local_20, 0);
    uVar2 = FUN_0003f3d8(uVar2, "PGA Count", 6, &local_1c, 0);
    uVar2 = FUN_0003f3d8(uVar2, "Pool Count", 6, &DAT_00242f4c, 0);
    uVar2 = FUN_0003f3d8(uVar2, "Strategy", 2,
                         (&PTR_s_Failover_0009ee70)[DAT_001aeeb8], 0);
    uVar2 = FUN_0003f3d8(uVar2, "Log Interval", 6, &DAT_0009ed78, 0);
    uVar2 = FUN_0003f3d8(uVar2, "Device Code", 2, "", 0);
    uVar2 = FUN_0003f3d8(uVar2, &DAT_0007feec, 2, "Linux", 0);
    uVar2 = FUN_0003f3d8(uVar2, "Failover-Only", 0xe, &DAT_00245154, 0);
    uVar2 = FUN_0003f3d8(uVar2, 0x7ff00, 6, &DAT_0009ed98, 0);
    uVar2 = FUN_0003f3d8(uVar2, "Queue", 6, &DAT_0009ee6c, 0);
    uVar2 = FUN_0003f3d8(uVar2, "Expiry", 6, &DAT_0009ed9c, 0);
    uVar2 = FUN_0003f3d8(uVar2, "Hotplug", 2, &DAT_0007ff1c, 0);
    FUN_0003e88c(param_1, uVar2, param_4, 0);
    if ((param_4 & uVar1) != 0) {
        *(undefined1 *)(param_1 + 0xd) = 1;
    }
    return;
}

void FUN_00041e1c(int param_1, undefined4 param_2, undefined4 param_3,
                  int param_4)

{
    int iVar1;
    undefined4 uVar2;

    FUN_0003f65c(param_1, 0x16, 0, 0, param_4);
    if (param_4 == 0) {
        FUN_0003c770(param_1, "VERSION,");
        uVar2 = FUN_0003f3d8(0, "BMMiner", 1, &DAT_0007ff3c, 0);
        uVar2 = FUN_0003f3d8(uVar2, &DAT_0007ff50, 2, &DAT_0007ff4c, 0);
        uVar2 = FUN_0003f3d8(uVar2, "Miner", 1, &DAT_001b0a18, 0);
        uVar2 = FUN_0003f3d8(uVar2, "CompileTime", 1, &DAT_001b07e4, 0);
        uVar2 = FUN_0003f3d8(uVar2, &DAT_0007ff68, 1, &DAT_001b08e4, 0);
        FUN_0003e88c(param_1, uVar2, 0, 0);
        return;
    }
    iVar1 = FUN_0003c770(param_1, ",\"VERSION\":[");
    uVar2 = FUN_0003f3d8(0, "BMMiner", 1, &DAT_0007ff3c, 0);
    uVar2 = FUN_0003f3d8(uVar2, &DAT_0007ff50, 2, &DAT_0007ff4c, 0);
    uVar2 = FUN_0003f3d8(uVar2, "Miner", 1, &DAT_001b0a18, 0);
    uVar2 = FUN_0003f3d8(uVar2, "CompileTime", 1, &DAT_001b07e4, 0);
    uVar2 = FUN_0003f3d8(uVar2, &DAT_0007ff68, 1, &DAT_001b08e4, 0);
    FUN_0003e88c(param_1, uVar2, 1, 0);
    if (iVar1 != 0) {
        *(undefined1 *)(param_1 + 0xd) = 1;
    }
    return;
}

void FUN_00041fd4(int param_1, undefined4 param_2, undefined4 param_3,
                  uint param_4)

{
    uint uVar1;
    undefined4 uVar2;
    int iVar3;
    char *pcVar4;

    FUN_0003f65c(param_1, 0x4e, 0, 0, param_4);
    pcVar4 = ",\"COIN\":[";
    if (param_4 == 0) {
        pcVar4 = "COIN,";
    }
    uVar1 = FUN_0003c770(param_1, pcVar4);
    uVar2 = FUN_0003f3d8(0, "Hash Method", 2, "sha256", 0);
    iVar3 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00244084);
    if (iVar3 == 0) {
        iVar3 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_0024409c);
    } else {
        FUN_0003e190("minecoin", 0xe31);
        iVar3 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_0024409c);
    }
    if (iVar3 != 0) {
        FUN_0003e12c("minecoin", 0xe31);
    }
    iVar3 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00244084);
    if (iVar3 != 0) {
        FUN_0003e1f4("minecoin", 0xe31);
    }
    uVar2 = FUN_0003f3d8(uVar2, "Current Block Time", 0xf, &DAT_00245170, 1);
    uVar2 = FUN_0003f3d8(uVar2, "Current Block Hash", 1, &DAT_00242ea4, 1);
    iVar3 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0024409c);
    if (iVar3 != 0) {
        FUN_0003e258("minecoin", 0xe34);
    }
    (*DAT_0009e444)();
    uVar2 = FUN_0003f3d8(uVar2, &DAT_0007ffcc, 0xe, &DAT_00244082, 0);
    uVar2 = FUN_0003f3d8(uVar2, "Network Difficulty", 0x18, &DAT_0009ed90, 1);
    FUN_0003e88c(param_1, uVar2, param_4, 0);
    if ((param_4 & uVar1) != 0) {
        *(undefined1 *)(param_1 + 0xd) = 1;
    }
    return;
}

void FUN_00042198(undefined4 param_1, uint param_2, undefined4 param_3,
                  undefined4 param_4)

{
    int iVar1;
    char *pcVar2;
    uint uVar3;
    char *pcVar4;
    int iVar5;
    int iVar6;
    undefined4 uVar7;
    undefined4 extraout_s1;
    double dVar8;
    uint local_7c;
    float local_78;
    undefined4 local_74;
    double local_70;
    double local_68;
    undefined4 local_60;
    undefined4 uStack_5c;
    undefined4 local_58;
    undefined4 uStack_54;
    char acStack_4c[32];

    local_7c = param_2;
    iVar1 = FUN_0003e2bc();
    if ((-1 < (int)local_7c &&
         (int)(local_7c & ~((int)local_7c >> 0x1f)) < iVar1) &&
        (iVar1 = FUN_0003e378(local_7c), -1 < iVar1)) {
        iVar1 = FUN_00056518();
        local_78 = (float)*(double *)(iVar1 + 0xb0);
        uVar7 = FUN_00053118();
        local_70 = (double)CONCAT44(extraout_s1, uVar7);
        pcVar2 = "Y";
        if (*(int *)(iVar1 + 0x20) == 1) {
            pcVar2 = "N";
        }
        *(double *)(iVar1 + 0x58) =
            ((double)(longlong) * (int *)(iVar1 + 0x24) / local_70) * 60.0;
        switch (*(undefined4 *)(iVar1 + 0x60)) {
        case 0:
            pcVar4 = "Alive";
            break;
        case 1:
            pcVar4 = "Sick";
            break;
        case 2:
            pcVar4 = "Dead";
            break;
        case 3:
            pcVar4 = "NoStart";
            break;
        case 4:
            pcVar4 = "Initialising";
            break;
        default:
            pcVar4 = "Unknown";
        }
        uVar7 = FUN_0003f3d8(0, &DAT_00080014, 6, &local_7c, 0);
        uVar7 = FUN_0003f3d8(uVar7, "Name", 1,
                             *(undefined4 *)(*(int *)(iVar1 + 4) + 8), 0);
        uVar7 = FUN_0003f3d8(uVar7, &DAT_0007fe08, 6, iVar1 + 8, 0);
        uVar7 = FUN_0003f3d8(uVar7, "Enabled", 1, pcVar2, 0);
        uVar7 = FUN_0003f3d8(uVar7, "Status", 1, pcVar4, 0);
        uVar7 = FUN_0003f3d8(uVar7, "Temperature", 0x13, &local_78, 0);
        local_68 = *(double *)(iVar1 + 0x50) / local_70;
        uVar7 = FUN_0003f3d8(uVar7, "MHS av", 0x11, &local_68, 0);
        sprintf(acStack_4c, "MHS %ds", DAT_0009ed78);
        uVar7 = FUN_0003f3d8(uVar7, acStack_4c, 0x11, iVar1 + 0x30, 0);
        uVar7 = FUN_0003f3d8(uVar7, "Accepted", 6, iVar1 + 0x24, 0);
        uVar7 = FUN_0003f3d8(uVar7, "Rejected", 6, iVar1 + 0x28, 0);
        uVar7 = FUN_0003f3d8(uVar7, "Hardware Errors", 6, iVar1 + 0x2c, 0);
        uVar7 = FUN_0003f3d8(uVar7, "Utility", 0x14, iVar1 + 0x58, 0);
        if (*(int *)(iVar1 + 0xdc) < 1) {
            local_74 = 0xffffffff;
        } else {
            local_74 = *(undefined4 *)(iVar1 + 0xd8);
        }
        uVar7 = FUN_0003f3d8(uVar7, "Last Share Pool", 6, &local_74, 0);
        uVar7 = FUN_0003f3d8(uVar7, "Last Share Time", 0x10, iVar1 + 0xdc, 0);
        uVar7 = FUN_0003f3d8(uVar7, "Total MH", 0x12, iVar1 + 0x50, 0);
        uVar7 = FUN_0003f3d8(uVar7, "Diff1 Work", 0xb, iVar1 + 0xc0, 0);
        uVar7 =
            FUN_0003f3d8(uVar7, "Difficulty Accepted", 0x18, iVar1 + 200, 0);
        uVar7 =
            FUN_0003f3d8(uVar7, "Difficulty Rejected", 0x18, iVar1 + 0xd0, 0);
        uVar7 =
            FUN_0003f3d8(uVar7, "Last Share Difficulty", 0x18, iVar1 + 0xe0, 0);
        uVar7 = FUN_0003f3d8(uVar7, "Last Valid Work", 0x10, iVar1 + 0xe8, 0);
        uVar3 = *(uint *)(iVar1 + 0x2c);
        iVar5 = *(uint *)(iVar1 + 0xc0) + uVar3;
        iVar6 = *(int *)(iVar1 + 0xc4) + ((int)uVar3 >> 0x1f) +
                (uint)CARRY4(*(uint *)(iVar1 + 0xc0), uVar3);
        if (iVar5 == 0 && iVar6 == 0) {
            dVar8 = 0.0;
        } else {
            dVar8 = (double)FUN_000778b4(iVar5, iVar6);
            dVar8 = (double)(longlong)(int)uVar3 / dVar8;
        }
        uStack_5c = (undefined4)((ulonglong)dVar8 >> 0x20);
        local_60 = SUB84(dVar8, 0);
        uVar7 = FUN_0003f3d8(uVar7, "Device Hardware%", 0x19, &local_60, 0);
        if (*(int *)(iVar1 + 0xc0) == 0 && *(int *)(iVar1 + 0xc4) == 0) {
            dVar8 = 0.0;
        } else {
            dVar8 = (double)FUN_000778b4();
            dVar8 = *(double *)(iVar1 + 0xd0) / dVar8;
        }
        uStack_54 = (undefined4)((ulonglong)dVar8 >> 0x20);
        local_58 = SUB84(dVar8, 0);
        uVar7 = FUN_0003f3d8(uVar7, "Device Rejected%", 0x19, &local_58, 0);
        uVar7 = FUN_0003f3d8(uVar7, "Device Elapsed", 0xd, &local_70, 0);
        FUN_0003e88c(param_1, uVar7, param_3, param_4);
    }
    return;
}

void FUN_000425e8(int param_1, undefined4 param_2, char *param_3, int param_4)

{
    int iVar1;
    long lVar2;

    iVar1 = FUN_0003e2bc();
    if (iVar1 == 0) {
        FUN_0003f65c(param_1, 0x69, 0, 0);
        return;
    }
    if ((param_3 == (char *)0x0) || (*param_3 == '\0')) {
        FUN_0003f65c(param_1, 0xf, 0);
        return;
    }
    lVar2 = strtol(param_3, (char **)0x0, 10);
    if (iVar1 <= lVar2 || lVar2 < 0) {
        FUN_0003f65c(param_1, 0x6b, lVar2, 0);
        return;
    }
    FUN_0003f65c(param_1, 0x6a, lVar2, 0, param_4);
    if (param_4 != 0) {
        iVar1 = FUN_0003c770(param_1, ",\"ASC\":[");
        FUN_00042198(param_1, lVar2, 1, 0);
        if (iVar1 != 0) {
            *(undefined1 *)(param_1 + 0xd) = 1;
        }
        return;
    }
    FUN_00042198(param_1, lVar2, 0, 0);
    return;
}

void FUN_0004271c(int param_1, undefined4 param_2, undefined4 param_3,
                  uint param_4)

{
    int iVar1;
    int iVar2;
    uint uVar3;
    int iVar4;
    int iVar5;

    iVar1 = FUN_0003e2bc();
    if (iVar1 == 0) {
        FUN_0003f65c(param_1, 10, 0, 0);
        return;
    }
    FUN_0003f65c(param_1, 9, 0, 0, param_4);
    if (param_4 == 0) {
        if (iVar1 < 1) {
            return;
        }
        iVar2 = 0;
    } else {
        iVar2 = FUN_0003c770(param_1, ",\"DEVS\":[");
        if (iVar1 < 1)
            goto LAB_00042790;
    }
    iVar4 = 0;
    do {
        if (iVar4 < 1) {
            uVar3 = 0;
        } else {
            uVar3 = param_4 & 1;
        }
        iVar5 = iVar4 + 1;
        FUN_00042198(param_1, iVar4, param_4, uVar3);
        iVar4 = iVar5;
    } while (iVar5 < iVar1);
LAB_00042790:
    if (iVar2 != 0) {
        *(undefined1 *)(param_1 + 0xd) = 1;
    }
    return;
}

void FUN_000427e4(int param_1, undefined4 param_2, undefined4 param_3,
                  uint param_4)

{
    int iVar1;
    int iVar2;
    uint uVar3;
    int iVar4;
    int iVar5;

    iVar1 = FUN_0003e2bc();
    if (iVar1 == 0) {
        FUN_0003f65c(param_1, 10, 0, 0);
        return;
    }
    FUN_0003f65c(param_1, 9, 0, 0, param_4);
    if (param_4 == 0) {
        if (iVar1 < 1) {
            return;
        }
        iVar2 = 0;
    } else {
        iVar2 = FUN_0003c770(param_1, ",\"DEVS\":[");
        if (iVar1 < 1)
            goto LAB_00042858;
    }
    iVar4 = 0;
    do {
        if (iVar4 < 1) {
            uVar3 = 0;
        } else {
            uVar3 = param_4 & 1;
        }
        iVar5 = iVar4 + 1;
        FUN_00042198(param_1, iVar4, param_4, uVar3);
        iVar4 = iVar5;
    } while (iVar5 < iVar1);
LAB_00042858:
    if (iVar2 != 0) {
        *(undefined1 *)(param_1 + 0xd) = 1;
    }
    return;
}

void FUN_000428ac(int param_1, undefined4 param_2, undefined4 param_3,
                  int param_4)

{
    time_t tVar1;
    undefined4 uVar2;
    int iVar3;
    int iVar4;
    char *pcVar5;
    undefined4 uVar6;
    uint uVar7;
    uint uVar8;
    double dVar9;
    double dVar10;
    char *local_15c;
    int local_14c;
    int local_144;
    undefined4 local_140;
    undefined4 local_13c;
    undefined4 local_138;
    undefined4 local_134;
    undefined2 local_130[130];

    memset(local_130, 0, 0x100);
    if (DAT_00242f4c == 0) {
        FUN_0003f65c(param_1, 8, 0, 0, param_4);
        return;
    }
    FUN_0003f65c(param_1, 7, 0, 0, param_4);
    if (param_4 == 0) {
        if (DAT_00242f4c < 1) {
            return;
        }
        local_14c = 0;
    } else {
        local_14c = FUN_0003c770(param_1, ",\"POOLS\":[");
        if (DAT_00242f4c < 1)
            goto LAB_00042e24;
    }
    local_144 = 0;
    uVar6 = 0;
    do {
        iVar4 = *(int *)(DAT_00244048 + local_144 * 4);
        if (*(char *)(iVar4 + 0x69) == '\0') {
            iVar3 = *(int *)(iVar4 + 100);
            if (iVar3 == 1) {
                local_15c = "Alive";
                if (*(char *)(iVar4 + 0x61) != '\0') {
                    local_15c = "Dead";
                }
            } else if (iVar3 == 0) {
                local_15c = "Disabled";
            } else {
                local_15c = "Rejecting";
                if (iVar3 != 2) {
                    local_15c = "Unknown";
                }
            }
            pcVar5 = "N";
            if (*(int *)(iVar4 + 0x6c) != 0) {
                pcVar5 = "Y";
            }
            if (*(int *)(iVar4 + 0x160) < 1) {
                local_130[0] = 0x30;
            } else {
                tVar1 = time((time_t *)0x0);
                uVar8 = tVar1 - *(int *)(iVar4 + 0x160);
                uVar8 = uVar8 & ~((int)uVar8 >> 0x1f);
                uVar7 = uVar8 % 0xe10;
                sprintf((char *)local_130, "%d:%02d:%02d", uVar8 / 0xe10,
                        uVar7 / 0x3c, uVar7 % 0x3c);
            }
            uVar6 = FUN_0003f3d8(uVar6, &DAT_00080160, 6, &local_144, 0);
            uVar6 =
                FUN_0003f3d8(uVar6, "URL", 0, *(undefined4 *)(iVar4 + 0xa4), 0);
            uVar6 = FUN_0003f3d8(uVar6, "Status", 1, local_15c, 0);
            uVar6 = FUN_0003f3d8(uVar6, "Priority", 6, iVar4 + 4, 0);
            uVar6 = FUN_0003f3d8(uVar6, "Quota", 6, iVar4 + 0x38, 0);
            uVar6 = FUN_0003f3d8(uVar6, "Long Poll", 1, pcVar5, 0);
            uVar6 = FUN_0003f3d8(uVar6, "Getworks", 7, iVar4 + 0x74, 0);
            uVar6 = FUN_0003f3d8(uVar6, "Accepted", 0xb, iVar4 + 8, 0);
            uVar6 = FUN_0003f3d8(uVar6, "Rejected", 0xb, iVar4 + 0x10, 0);
            uVar6 = FUN_0003f3d8(uVar6, "Discarded", 7, iVar4 + 0x7c, 0);
            uVar6 = FUN_0003f3d8(uVar6, "Stale", 7, iVar4 + 0x78, 0);
            uVar6 = FUN_0003f3d8(uVar6, "Get Failures", 7, iVar4 + 0x80, 0);
            uVar6 = FUN_0003f3d8(uVar6, "Remote Failures", 7, iVar4 + 0x84, 0);
            uVar6 = FUN_0003f3d8(uVar6, &DAT_000801c8, 0,
                                 *(undefined4 *)(iVar4 + 0xac), 0);
            uVar6 = FUN_0003f3d8(uVar6, "Last Share Time", 1, local_130, 0);
            uVar6 = FUN_0003f3d8(uVar6, &DAT_000801d0, 1, iVar4 + 0x30, 0);
            uVar6 = FUN_0003f3d8(uVar6, "Diff1 Shares", 0xb, iVar4 + 0x28, 0);
            if (*(int *)(iVar4 + 0xb8) == 0) {
                uVar6 = FUN_0003f3d8(uVar6, "Proxy Type", 2, "", 0);
                uVar6 = FUN_0003f3d8(uVar6, "Proxy", 2, "", 0);
            } else {
                uVar2 = FUN_000497d0(*(undefined4 *)(iVar4 + 0xb4));
                uVar6 = FUN_0003f3d8(uVar6, "Proxy Type", 2, uVar2, 0);
                uVar6 = FUN_0003f3d8(uVar6, "Proxy", 0,
                                     *(undefined4 *)(iVar4 + 0xb8), 0);
            }
            uVar6 = FUN_0003f3d8(uVar6, "Difficulty Accepted", 0x18,
                                 iVar4 + 0x48, 0);
            uVar6 = FUN_0003f3d8(uVar6, "Difficulty Rejected", 0x18,
                                 iVar4 + 0x50, 0);
            uVar6 =
                FUN_0003f3d8(uVar6, "Difficulty Stale", 0x18, iVar4 + 0x58, 0);
            uVar6 = FUN_0003f3d8(uVar6, "Last Share Difficulty", 0x18,
                                 iVar4 + 0x168, 0);
            uVar6 = FUN_0003f3d8(uVar6, "Has Stratum", 0xe, iVar4 + 0x280, 0);
            uVar6 =
                FUN_0003f3d8(uVar6, "Stratum Active", 0xe, iVar4 + 0x281, 0);
            if (*(char *)(iVar4 + 0x281) == '\0') {
                uVar6 = FUN_0003f3d8(uVar6, "Stratum URL", 2, "", 0);
            } else {
                uVar6 = FUN_0003f3d8(uVar6, "Stratum URL", 0,
                                     *(undefined4 *)(iVar4 + 0x240), 0);
            }
            uVar6 = FUN_0003f3d8(uVar6, "Has GBT", 0xe, iVar4 + 0x2e0, 0);
            uVar6 = FUN_0003f3d8(uVar6, "Best Share", 10, iVar4 + 0x170, 1);
            dVar10 = *(double *)(iVar4 + 0x50) + *(double *)(iVar4 + 0x48) +
                     *(double *)(iVar4 + 0x58);
            dVar9 = 0.0;
            if (dVar10 != 0.0) {
                dVar9 = *(double *)(iVar4 + 0x50) / dVar10;
            }
            local_13c = (undefined4)((ulonglong)dVar9 >> 0x20);
            local_140 = SUB84(dVar9, 0);
            uVar6 = FUN_0003f3d8(uVar6, "Pool Rejected%", 0x19, &local_140, 0);
            dVar10 = *(double *)(iVar4 + 0x48) + *(double *)(iVar4 + 0x50) +
                     *(double *)(iVar4 + 0x58);
            dVar9 = 0.0;
            if (dVar10 != 0.0) {
                dVar9 = *(double *)(iVar4 + 0x58) / dVar10;
            }
            local_134 = (undefined4)((ulonglong)dVar9 >> 0x20);
            local_138 = SUB84(dVar9, 0);
            uVar6 = FUN_0003f3d8(uVar6, "Pool Stale%", 0x19, &local_138, 0);
            uVar6 = FUN_0003e88c(param_1, uVar6, param_4);
        }
        local_144 = local_144 + 1;
    } while (local_144 < DAT_00242f4c);
LAB_00042e24:
    if (local_14c != 0) {
        *(undefined1 *)(param_1 + 0xd) = 1;
    }
    return;
}

void FUN_00042ed4(int param_1, undefined4 param_2, undefined4 param_3,
                  int param_4)

{
    int iVar1;
    undefined4 uVar2;
    int iVar3;
    double local_c8;
    undefined2 local_c0[16];
    char acStack_a0[32];
    char acStack_80[32];
    undefined2 local_60;
    undefined1 local_5e;
    undefined2 local_40;
    undefined1 local_3e;

    memset(local_c0, 0, 0x20);
    memset(acStack_a0, 0, 0x20);
    memset(acStack_80, 0, 0x20);
    memset(&local_60, 0, 0x20);
    memset(&local_40, 0, 0x20);
    iVar1 = FUN_00058084();
    FUN_0003f65c(param_1, 7, 0, 0, param_4);
    if (param_4 == 0) {
        iVar3 = 0;
    } else {
        iVar3 = FUN_0003c770(param_1, ",\"POOLS\":[");
    }
    local_c0[0] = 0x30;
    local_c8 = ((DAT_00245228 - DAT_002463b0) / 1000.0) /
               (DAT_0009ed68 - DAT_0009ed80);
    uVar2 = FUN_0003f3d8(0, &DAT_00080268, 1, local_c0, 0);
    uVar2 = FUN_0003f3d8(uVar2, "GHS5s", 0x11, &DAT_001b0650, 0);
    uVar2 = FUN_0003f3d8(uVar2, "GHSavg", 0x11, &local_c8, 0);
    sprintf(acStack_a0, "%d", DAT_00245100);
    uVar2 = FUN_0003f3d8(uVar2, &DAT_0008027c, 1, acStack_a0, 0);
    sprintf(acStack_80, "%d", DAT_00245104);
    uVar2 = FUN_0003f3d8(uVar2, &DAT_00080280, 1, acStack_80, 0);
    if (iVar1 == 0) {
        local_60 = 0x6f6e;
        local_5e = 0;
        local_40 = local_60;
        local_3e = local_5e;
        uVar2 = FUN_0003f3d8(uVar2, &DAT_0008028c, 1, &local_60, 0);
        uVar2 = FUN_0003f3d8(uVar2, &DAT_00080294, 1, &local_40, 0);
    } else {
        uVar2 = FUN_0003f3d8(uVar2, &DAT_0008028c, 1,
                             *(undefined4 *)(iVar1 + 0xa4), 0);
        uVar2 = FUN_0003f3d8(uVar2, &DAT_00080294, 1,
                             *(undefined4 *)(iVar1 + 0xac), 0);
    }
    FUN_0003e88c(param_1, uVar2, param_4, param_4);
    if (iVar3 != 0) {
        *(undefined1 *)(param_1 + 0xd) = 1;
    }
    return;
}

int FUN_00043158(undefined4 param_1, int param_2, undefined4 param_3,
                 int param_4, int param_5, undefined1 param_6)

{
    undefined4 uVar1;
    int iVar2;
    double *pdVar3;
    int iVar4;
    int local_34;
    double local_30;
    double dStack_28;

    local_30 = ((DAT_00245228 - DAT_002463b0) / 1000.0) /
               (DAT_0009ed68 - DAT_0009ed80);
    local_34 = param_2;
    uVar1 = FUN_0003f3d8(0, "STATS", 6, &local_34, 0);
    uVar1 = FUN_0003f3d8(uVar1, &DAT_0007fe08, 1, param_3, 0);
    dStack_28 = (double)(longlong)DAT_001b09f8 + DAT_0009ed68;
    uVar1 = FUN_0003f3d8(uVar1, "Elapsed", 0xd, &dStack_28, 0);
    uVar1 = FUN_0003f3d8(uVar1, "Calls", 8, param_4, 0);
    uVar1 = FUN_0003f3d8(uVar1, &DAT_000802b4, 0xf, param_4 + 4, 0);
    uVar1 = FUN_0003f3d8(uVar1, &DAT_000802bc, 0xf, param_4 + 0xc, 0);
    uVar1 = FUN_0003f3d8(uVar1, &DAT_000802c0, 0xf, param_4 + 0x14, 0);
    if ((char)DAT_001b09fc == '\0') {
        sprintf((char *)&DAT_001b09fc, "%.2f", 0, 0);
    }
    uVar1 = FUN_0003f3d8(uVar1, "GHS 5s", 1, &DAT_001b09fc, 0);
    uVar1 = FUN_0003f3d8(uVar1, "GHS av", 0x11, &local_30, 0);
    pdVar3 = &DAT_001b0a10;
    if (DAT_001b0a10 < 0.01) {
        pdVar3 = &local_30;
    }
    uVar1 = FUN_0003f3d8(uVar1, "GHS 30m", 0x11, pdVar3, 0);
    iVar2 = FUN_0003f3d8(uVar1, &DAT_000802dc, 6, &DAT_0009ee38, 0);
    iVar4 = iVar2;
    if ((param_5 != 0) && (iVar4 = param_5, iVar2 != 0)) {
        iVar4 = *(int *)(param_5 + 0x10);
        *(undefined4 *)(param_5 + 0x10) = *(undefined4 *)(iVar2 + 0x10);
        *(int *)(*(int *)(iVar2 + 0x10) + 0x14) = param_5;
        *(int *)(iVar4 + 0x14) = iVar2;
        *(int *)(iVar2 + 0x10) = iVar4;
        iVar4 = iVar2;
    }
    FUN_0003e88c(param_1, iVar4, param_6, 1);
    return local_34 + 1;
}

void FUN_000433a8(int param_1, undefined4 param_2, undefined4 param_3,
                  int param_4)

{
    int iVar1;
    int iVar2;
    int iVar3;
    code *pcVar4;
    undefined4 uVar5;
    int local_44;
    char acStack_3c[24];

    FUN_0003f65c(param_1, 0x46, 0, 0, param_4);
    if (param_4 == 0) {
        if (DAT_00245140 < 1) {
            return;
        }
        local_44 = 0;
    } else {
        local_44 = FUN_0003c770(param_1, ",\"STATS\":[");
        if (DAT_00245140 < 1)
            goto LAB_00043474;
    }
    iVar3 = 0;
    uVar5 = 0;
    do {
        iVar1 = FUN_00056518(iVar3);
        if ((iVar1 != 0) && (iVar2 = *(int *)(iVar1 + 4), iVar2 != 0)) {
            pcVar4 = *(code **)(iVar2 + 0x1c);
            if (pcVar4 != (code *)0x0) {
                pcVar4 = (code *)(*pcVar4)();
                iVar2 = *(int *)(iVar1 + 4);
            }
            sprintf(acStack_3c, "%s%d", *(undefined4 *)(iVar2 + 8),
                    *(undefined4 *)(iVar1 + 8));
            uVar5 = FUN_00043158(param_1, uVar5, acStack_3c, iVar1 + 0x124,
                                 pcVar4, param_4);
        }
        iVar3 = iVar3 + 1;
    } while (iVar3 < DAT_00245140);
LAB_00043474:
    if (local_44 != 0) {
        *(undefined1 *)(param_1 + 0xd) = 1;
    }
    return;
}

void FUN_000434b8(int param_1, undefined4 param_2, undefined4 param_3,
                  int param_4)

{
    undefined4 uVar1;
    int iVar2;
    int iVar3;
    int iVar4;
    code *pcVar5;
    int local_44;
    char acStack_3c[24];

    FUN_0003f65c(param_1, 0x46, 0, 0, param_4);
    if (param_4 == 0) {
        uVar1 = FUN_0003f3d8(0, "BMMiner", 1, &DAT_0007ff3c, 0);
        uVar1 = FUN_0003f3d8(uVar1, "Miner", 1, &DAT_001b0a18, 0);
        uVar1 = FUN_0003f3d8(uVar1, "CompileTime", 1, &DAT_001b07e4, 0);
        uVar1 = FUN_0003f3d8(uVar1, &DAT_0007ff68, 1, &DAT_001b08e4, 0);
        FUN_0003e88c(param_1, uVar1, 0, 0);
        if (DAT_00245140 < 1) {
            return;
        }
        local_44 = 0;
    } else {
        local_44 = FUN_0003c770(param_1, ",\"STATS\":[");
        uVar1 = FUN_0003f3d8(0, "BMMiner", 1, &DAT_0007ff3c, 0);
        uVar1 = FUN_0003f3d8(uVar1, "Miner", 1, &DAT_001b0a18, 0);
        uVar1 = FUN_0003f3d8(uVar1, "CompileTime", 1, &DAT_001b07e4, 0);
        uVar1 = FUN_0003f3d8(uVar1, &DAT_0007ff68, 1, &DAT_001b08e4, 0);
        FUN_0003e88c(param_1, uVar1, 1, 0);
        if (DAT_00245140 < 1)
            goto LAB_0004360c;
    }
    iVar4 = 0;
    uVar1 = 0;
    do {
        iVar2 = FUN_00056518(iVar4);
        if ((iVar2 != 0) && (iVar3 = *(int *)(iVar2 + 4), iVar3 != 0)) {
            pcVar5 = *(code **)(iVar3 + 0x1c);
            if (pcVar5 != (code *)0x0) {
                pcVar5 = (code *)(*pcVar5)();
                iVar3 = *(int *)(iVar2 + 4);
            }
            sprintf(acStack_3c, "%s%d", *(undefined4 *)(iVar3 + 8),
                    *(undefined4 *)(iVar2 + 8));
            uVar1 = FUN_00043158(param_1, uVar1, acStack_3c, iVar2 + 0x124,
                                 pcVar5, param_4);
        }
        iVar4 = iVar4 + 1;
    } while (iVar4 < DAT_00245140);
LAB_0004360c:
    if (local_44 != 0) {
        *(undefined1 *)(param_1 + 0xd) = 1;
    }
    return;
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */
/* WARNING: Restarted to delay deadcode elimination for space: ram */

void FUN_000436dc(int param_1, undefined4 param_2, undefined4 param_3,
                  uint param_4)

{
    bool bVar1;
    longlong lVar2;
    uint uVar3;
    int iVar4;
    undefined4 uVar5;
    char *pcVar6;
    double *pdVar7;
    double dVar8;
    double unaff_d10;
    undefined8 uVar9;
    double local_80;
    double local_78;
    double local_70;
    double local_68;
    undefined4 local_60;
    undefined4 uStack_5c;
    undefined4 local_58;
    undefined4 uStack_54;
    undefined4 local_50;
    undefined4 uStack_4c;
    double dStack_48;

    FUN_0003f65c(param_1, 0xb, 0, 0, param_4);
    pcVar6 = "SUMMARY,";
    if (param_4 != 0) {
        pcVar6 = ",\"SUMMARY\":[";
    }
    uVar3 = FUN_0003c770(param_1, pcVar6);
    iVar4 = pthread_mutex_lock((pthread_mutex_t *)&DAT_002463b8);
    if (iVar4 != 0) {
        FUN_0003e190("summary", 0xae4);
    }
    dVar8 = DAT_00242ef0 + _DAT_00242f10 + DAT_00246238;
    uVar9 = FUN_0007794c(SUB84(dVar8, 0), (int)((ulonglong)dVar8 >> 0x20));
    iVar4 = (int)((ulonglong)uVar9 >> 0x20);
    DAT_002463d0 = (uint)uVar9;
    DAT_002463d4 = iVar4;
    local_80 = (double)FUN_000778b4(DAT_00245158, DAT_0024515c);
    local_68 = DAT_0009ed68;
    bVar1 = DAT_0009ed68 == 0.0;
    if (!bVar1) {
        local_80 = local_80 / DAT_0009ed68;
    }
    if (!bVar1) {
        unaff_d10 = DAT_0009ed68;
    }
    if (bVar1) {
        unaff_d10 = 1.0;
    }
    local_80 = local_80 * 60.0;
    local_78 = ((DAT_00245228 - DAT_002463b0) / 1000.0) /
               (DAT_0009ed68 - DAT_0009ed80);
    dVar8 = (double)FUN_000778b4((uint)uVar9, iVar4);
    local_68 = (double)(longlong)DAT_001b09f8 + local_68;
    local_70 = (dVar8 / unaff_d10) * 60.0;
    uVar5 = FUN_0003f3d8(0, "Elapsed", 0xd, &local_68, 1);
    if ((char)DAT_001b09fc == '\0') {
        sprintf((char *)&DAT_001b09fc, "%.2f", 0, 0);
    }
    uVar5 = FUN_0003f3d8(uVar5, "GHS 5s", 1, &DAT_001b09fc, 0);
    uVar5 = FUN_0003f3d8(uVar5, "GHS av", 0x11, &local_78, 0);
    pdVar7 = &DAT_001b0a10;
    if (DAT_001b0a10 < 0.01) {
        pdVar7 = &local_78;
    }
    uVar5 = FUN_0003f3d8(uVar5, "GHS 30m", 0x11, pdVar7, 0);
    uVar5 = FUN_0003f3d8(uVar5, "Found Blocks", 7, &DAT_00242fdc, 1);
    uVar5 = FUN_0003f3d8(uVar5, "Getworks", 0xb, &DAT_00245168, 1);
    uVar5 = FUN_0003f3d8(uVar5, "Accepted", 0xb, &DAT_00245158, 1);
    uVar5 = FUN_0003f3d8(uVar5, "Rejected", 0xb, &DAT_00246368, 1);
    uVar5 = FUN_0003f3d8(uVar5, "Hardware Errors", 6, &DAT_00242ee8, 1);
    uVar5 = FUN_0003f3d8(uVar5, "Utility", 0x14, &local_80, 0);
    uVar5 = FUN_0003f3d8(uVar5, "Discarded", 0xb, &DAT_00242f00, 1);
    uVar5 = FUN_0003f3d8(uVar5, "Stale", 0xb, &DAT_00242e98, 1);
    uVar5 = FUN_0003f3d8(uVar5, "Get Failures", 7, &DAT_00245150, 1);
    uVar5 = FUN_0003f3d8(uVar5, "Local Work", 7, &DAT_00246360, 1);
    uVar5 = FUN_0003f3d8(uVar5, "Remote Failures", 7, &DAT_00244014, 1);
    uVar5 = FUN_0003f3d8(uVar5, "Network Blocks", 7, &DAT_0024625c, 1);
    uVar5 = FUN_0003f3d8(uVar5, "Total MH", 0x12, &DAT_00245228, 1);
    uVar5 = FUN_0003f3d8(uVar5, "Work Utility", 0x14, &local_70, 0);
    uVar5 = FUN_0003f3d8(uVar5, "Difficulty Accepted", 0x18, &DAT_00242ef0, 1);
    uVar5 = FUN_0003f3d8(uVar5, "Difficulty Rejected", 0x18, &DAT_00242f10, 1);
    uVar5 = FUN_0003f3d8(uVar5, "Difficulty Stale", 0x18, &DAT_00246238, 1);
    uVar5 = FUN_0003f3d8(uVar5, "Best Share", 10, &DAT_001af0d0, 1);
    iVar4 = DAT_002463d4 + ((int)DAT_00242ee8 >> 0x1f) +
            (uint)CARRY4(DAT_002463d0, DAT_00242ee8);
    if (DAT_002463d0 + DAT_00242ee8 == 0 && iVar4 == 0) {
        dVar8 = 0.0;
    } else {
        lVar2 = (longlong)(int)DAT_00242ee8;
        dVar8 = (double)FUN_000778b4(DAT_002463d0 + DAT_00242ee8, iVar4);
        dVar8 = (double)lVar2 / dVar8;
    }
    uStack_5c = (undefined4)((ulonglong)dVar8 >> 0x20);
    local_60 = SUB84(dVar8, 0);
    uVar5 = FUN_0003f3d8(uVar5, "Device Hardware%", 0x19, &local_60, 0);
    if (DAT_002463d0 == 0 && DAT_002463d4 == 0) {
        dVar8 = 0.0;
    } else {
        dVar8 = (double)FUN_000778b4();
        dVar8 = _DAT_00242f10 / dVar8;
    }
    uStack_54 = (undefined4)((ulonglong)dVar8 >> 0x20);
    local_58 = SUB84(dVar8, 0);
    uVar5 = FUN_0003f3d8(uVar5, "Device Rejected%", 0x19, &local_58, 0);
    dVar8 = _DAT_00242f10 + DAT_00242ef0 + DAT_00246238;
    if (dVar8 == 0.0) {
        dVar8 = 0.0;
    } else {
        dVar8 = _DAT_00242f10 / dVar8;
    }
    uStack_4c = (undefined4)((ulonglong)dVar8 >> 0x20);
    local_50 = SUB84(dVar8, 0);
    uVar5 = FUN_0003f3d8(uVar5, "Pool Rejected%", 0x19, &local_50, 0);
    dStack_48 = DAT_00242ef0 + _DAT_00242f10 + DAT_00246238;
    if (dStack_48 == 0.0) {
        dStack_48 = 0.0;
    } else {
        dStack_48 = DAT_00246238 / dStack_48;
    }
    uVar5 = FUN_0003f3d8(uVar5, "Pool Stale%", 0x19, &dStack_48, 0);
    uVar5 = FUN_0003f3d8(uVar5, "Last getwork", 0x10, &DAT_00244020, 0);
    iVar4 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_002463b8);
    if (iVar4 != 0) {
        FUN_0003e1f4("summary", 0xb1c);
    }
    (*DAT_0009e444)();
    FUN_0003e88c(param_1, uVar5, param_4, 0);
    if ((param_4 & uVar3) != 0) {
        *(undefined1 *)(param_1 + 0xd) = 1;
    }
    return;
}

void FUN_00043d0c(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0003f3d8(param_1, param_2, 0, param_3, param_4);
    return;
}

void FUN_00043d2c(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0003f3d8(param_1, param_2, 1, param_3, param_4);
    return;
}

void FUN_00043d6c(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0003f3d8(param_1, param_2, 3, param_3, param_4);
    return;
}

void FUN_00043d8c(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0003f3d8(param_1, param_2, 4, param_3, param_4);
    return;
}

void FUN_00043dcc(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0003f3d8(param_1, param_2, 6, param_3, param_4);
    return;
}

void FUN_00043dec(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0003f3d8(param_1, param_2, 7, param_3, param_4);
    return;
}

void FUN_00043e0c(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0003f3d8(param_1, param_2, 8, param_3, param_4);
    return;
}

void FUN_00043f2c(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0003f3d8(param_1, param_2, 0x11, param_3, param_4);
    return;
}

void FUN_00044518(undefined4 param_1, int param_2, int param_3,
                  undefined4 param_4)

{
    undefined4 uVar1;
    char *pcVar2;
    int local_1c;

    if (*(int *)(param_3 + 0xf4) == 0) {
        pcVar2 = "None";
    } else if (*(uint *)(param_3 + 0xf8) < 9) {
        pcVar2 =
            (&PTR_s_Thread_failed_to_init_0007f6bc)[*(uint *)(param_3 + 0xf8)];
    } else {
        pcVar2 = "Unknown reason - code bug";
    }
    local_1c = param_2;
    uVar1 = FUN_0003f3d8(0, "NOTIFY", 6, &local_1c, 0);
    uVar1 = FUN_0003f3d8(uVar1, "Name", 1,
                         *(undefined4 *)(*(int *)(param_3 + 4) + 8), 0);
    uVar1 = FUN_0003f3d8(uVar1, &DAT_0007fe08, 6, param_3 + 8, 0);
    uVar1 = FUN_0003f3d8(uVar1, "Last Well", 0x10, param_3 + 0xf0, 0);
    uVar1 = FUN_0003f3d8(uVar1, "Last Not Well", 0x10, param_3 + 0xf4, 0);
    uVar1 = FUN_0003f3d8(uVar1, "Reason Not Well", 1, pcVar2, 0);
    uVar1 = FUN_0003f3d8(uVar1, "*Thread Fail Init", 6, param_3 + 0xfc, 0);
    uVar1 = FUN_0003f3d8(uVar1, "*Thread Zero Hash", 6, param_3 + 0x100, 0);
    uVar1 = FUN_0003f3d8(uVar1, "*Thread Fail Queue", 6, param_3 + 0x104, 0);
    uVar1 = FUN_0003f3d8(uVar1, "*Dev Sick Idle 60s", 6, param_3 + 0x108, 0);
    uVar1 = FUN_0003f3d8(uVar1, "*Dev Dead Idle 600s", 6, param_3 + 0x10c, 0);
    uVar1 = FUN_0003f3d8(uVar1, "*Dev Nostart", 6, param_3 + 0x110, 0);
    uVar1 = FUN_0003f3d8(uVar1, "*Dev Over Heat", 6, param_3 + 0x114, 0);
    uVar1 = FUN_0003f3d8(uVar1, "*Dev Thermal Cutoff", 6, param_3 + 0x118, 0);
    uVar1 = FUN_0003f3d8(uVar1, "*Dev Comms Error", 6, param_3 + 0x11c, 0);
    uVar1 = FUN_0003f3d8(uVar1, "*Dev Throttle", 6, param_3 + 0x120, 0);
    FUN_0003e88c(param_1, uVar1, param_4);
    return;
}

void FUN_00044724(int param_1, undefined4 param_2, undefined4 param_3,
                  int param_4, undefined1 param_5)

{
    undefined4 uVar1;
    int iVar2;
    int iVar3;
    int iVar4;

    if (DAT_00245140 == 0) {
        FUN_0003f65c(param_1, 10, 0, 0);
        return;
    }
    FUN_0003f65c(param_1, 0x3c, 0, 0, param_4);
    if (param_4 == 0) {
        if (DAT_00245140 < 1) {
            return;
        }
        iVar2 = 0;
    } else {
        iVar2 = FUN_0003c770(param_1, ",\"NOTIFY\":[");
        if (DAT_00245140 < 1)
            goto LAB_000447ac;
    }
    iVar3 = 0;
    do {
        uVar1 = FUN_00056518(iVar3);
        iVar4 = iVar3 + 1;
        FUN_00044518(param_1, iVar3, uVar1, param_4, param_5);
        iVar3 = iVar4;
    } while (iVar4 < DAT_00245140);
LAB_000447ac:
    if (iVar2 != 0) {
        *(undefined1 *)(param_1 + 0xd) = 1;
    }
    return;
}

void FUN_000447fc(void)

{
    void *pvVar1;
    int iVar2;
    char local_808[24];
    undefined4 uStack_7f0;
    undefined2 uStack_7ec;
    undefined1 local_7ea;

    pvVar1 = calloc(1, 0x40);
    if (pvVar1 == (void *)0x0) {
        builtin_strncpy(local_808, "Failed to calloc mcast t", 0x18);
        uStack_7f0 = CONCAT13(uStack_7f0._3_1_, 0x7268);
        FUN_00047ab4(3, local_808, 1);
        FUN_00062ec0(1);
    }
    iVar2 = FUN_0004bdcc(pvVar1, 0, FUN_0003d8ec, pvVar1);
    if (iVar2 != 0) {
        builtin_strncpy(local_808, "API mcast thread create ", 0x18);
        uStack_7f0._0_1_ = 'f';
        uStack_7f0._1_1_ = 'a';
        uStack_7f0._2_1_ = 'i';
        uStack_7f0._3_1_ = 'l';
        uStack_7ec = 0x6465;
        local_7ea = 0;
        FUN_00047ab4(3, local_808, 1);
        FUN_00062ec0(1);
    }
    return;
}

void FUN_00046870(undefined4 *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    char cVar1;
    void *pvVar2;
    undefined4 *puVar3;
    undefined4 uVar4;
    int iVar5;
    int iVar6;
    undefined4 *puVar7;
    size_t __nmemb;
    char acStack_818[2048];

    if (*(char *)(param_1 + 1) != '\0') {
        snprintf(
            acStack_818, 0x800,
            "List %s store can\'t %s() - from %s %s() line %d in %s %s():%d",
            *param_1, "k_alloc_items", param_2, param_3, param_4, "klist.c",
            "k_alloc_items", 0x13);
        FUN_00047ab4(3, acStack_818, 1);
        FUN_00062ec0(1);
    }
    iVar6 = param_1[10];
    if (iVar6 < 1) {
        __nmemb = param_1[9];
    } else {
        iVar5 = param_1[6];
        if (iVar6 <= iVar5) {
            return;
        }
        __nmemb = param_1[9];
        if (iVar6 < (int)(iVar5 + __nmemb)) {
            __nmemb = iVar6 - iVar5;
        }
    }
    iVar6 = param_1[0xc];
    param_1[0xc] = iVar6 + 1;
    pvVar2 = realloc((void *)param_1[0xd], (iVar6 + 1) * 4);
    param_1[0xd] = pvVar2;
    if (pvVar2 == (void *)0x0) {
        snprintf(acStack_818, 0x800,
                 "List %s item_memory failed to realloc count=%d in %s %s():%d",
                 *param_1, param_1[0xc], "klist.c", "k_alloc_items", 0x21);
        FUN_00047ab4(3, acStack_818, 1);
        FUN_00062ec0(1);
    }
    puVar3 = (undefined4 *)calloc(__nmemb, 0x10);
    if (puVar3 == (undefined4 *)0x0) {
        snprintf(acStack_818, 0x800,
                 "List %s failed to calloc %d new items - total was %d, limit "
                 "was %d in %s %s():%d",
                 *param_1, __nmemb, param_1[6], param_1[10], "klist.c",
                 "k_alloc_items", 0x26);
        FUN_00047ab4(3, acStack_818, 1);
        FUN_00062ec0(1);
    }
    *(undefined4 **)(param_1[0xd] + (param_1[0xc] + 0x3fffffff) * 4) = puVar3;
    uVar4 = *param_1;
    param_1[7] = __nmemb;
    param_1[8] = __nmemb;
    param_1[6] = param_1[6] + __nmemb;
    *puVar3 = uVar4;
    puVar3[1] = 0;
    puVar3[2] = puVar3 + 4;
    if (2 < (int)__nmemb) {
        puVar7 = puVar3 + 8;
        do {
            puVar7[-4] = uVar4;
            puVar7[-3] = puVar7 + -8;
            puVar7[-2] = puVar7;
            puVar7 = puVar7 + 4;
        } while (puVar7 != puVar3 + __nmemb * 4);
    }
    iVar6 = __nmemb + 0xfffffff;
    cVar1 = *(char *)(param_1 + 0xb);
    puVar3[iVar6 * 4] = uVar4;
    param_1[3] = puVar3;
    puVar7 = puVar3 + iVar6 * 4;
    puVar7[1] = puVar3 + iVar6 * 4 + -4;
    puVar7[2] = 0;
    if (cVar1 != '\0') {
        param_1[4] = puVar7;
    }
    do {
        iVar6 = param_1[0xe];
        param_1[0xe] = iVar6 + 1;
        pvVar2 = realloc((void *)param_1[0xf], (iVar6 + 1) * 4);
        param_1[0xf] = pvVar2;
        if (pvVar2 == (void *)0x0) {
            snprintf(
                acStack_818, 0x800,
                "List %s data_memory failed to realloc count=%d in %s %s():%d",
                *param_1, param_1[0xe], "klist.c", "k_alloc_items", 0x45);
            FUN_00047ab4(3, acStack_818, 1);
            FUN_00062ec0(1);
        }
        pvVar2 = calloc(1, param_1[5]);
        puVar3[3] = pvVar2;
        if (pvVar2 == (void *)0x0) {
            snprintf(acStack_818, 0x800,
                     "List %s failed to calloc item data in %s %s():%d",
                     *param_1, "klist.c", "k_alloc_items", 0x49);
            FUN_00047ab4(3, acStack_818, 1);
            FUN_00062ec0(1);
            pvVar2 = (void *)puVar3[3];
        }
        *(void **)(param_1[0xf] + (param_1[0xe] + 0x3fffffff) * 4) = pvVar2;
        puVar3 = (undefined4 *)puVar3[2];
    } while (puVar3 != (undefined4 *)0x0);
    return;
}

undefined4 *FUN_00046bac(undefined4 *param_1)

{
    undefined1 uVar1;
    undefined4 *puVar2;
    undefined4 uVar3;
    undefined4 uVar4;
    char acStack_810[2052];

    puVar2 = (undefined4 *)calloc(1, 0x40);
    uVar3 = *param_1;
    if (puVar2 == (undefined4 *)0x0) {
        snprintf(acStack_810, 0x800,
                 "Failed to calloc store for %s in %s %s():%d", uVar3,
                 "klist.c", "k_new_store", 0x55);
        FUN_00047ab4(3, acStack_810, 1);
        FUN_00062ec0(1);
        uVar3 = *param_1;
    }
    uVar4 = param_1[2];
    uVar1 = *(undefined1 *)(param_1 + 0xb);
    *puVar2 = uVar3;
    puVar2[2] = uVar4;
    *(undefined1 *)(puVar2 + 0xb) = uVar1;
    *(undefined1 *)(puVar2 + 1) = 1;
    return puVar2;
}

undefined4 *FUN_00046c54(undefined4 param_1, undefined4 param_2, int param_3,
                         int param_4, undefined1 param_5, undefined4 param_6,
                         undefined4 param_7, undefined4 param_8)

{
    undefined4 *puVar1;
    pthread_mutex_t *__mutex;
    int iVar2;
    int *piVar3;
    char acStack_820[2048];

    if (param_3 < 1) {
        snprintf(
            acStack_820, 0x800,
            "Invalid new list %s with allocate %d must be > 0 in %s %s():%d",
            param_1, param_3, "klist.c", "_k_new_list", 100);
        FUN_00047ab4(3, acStack_820, 1);
        FUN_00062ec0(1);
    }
    if (param_4 < 0) {
        snprintf(acStack_820, 0x800,
                 "Invalid new list %s with limit %d must be >= 0 in %s %s():%d",
                 param_1, param_4, "klist.c", "_k_new_list", 0x67);
        FUN_00047ab4(3, acStack_820, 1);
        FUN_00062ec0(1);
    }
    puVar1 = (undefined4 *)calloc(1, 0x40);
    if (puVar1 == (undefined4 *)0x0) {
        snprintf(acStack_820, 0x800, "Failed to calloc list %s in %s %s():%d",
                 param_1, "klist.c", "_k_new_list", 0x6b);
        FUN_00047ab4(3, acStack_820, 1);
        FUN_00062ec0(1);
    }
    *(undefined1 *)(puVar1 + 1) = 0;
    __mutex = (pthread_mutex_t *)calloc(1, 0x38);
    puVar1[2] = __mutex;
    if (__mutex == (pthread_mutex_t *)0x0) {
        snprintf(acStack_820, 0x800,
                 "Failed to calloc lock for list %s in %s %s():%d", param_1,
                 "klist.c", "_k_new_list", 0x71);
        FUN_00047ab4(3, acStack_820, 1);
        FUN_00062ec0(1);
        __mutex = (pthread_mutex_t *)puVar1[2];
    }
    iVar2 = pthread_mutex_init(__mutex, (pthread_mutexattr_t *)0x0);
    if (iVar2 != 0) {
        piVar3 = __errno_location();
        snprintf(acStack_820, 0x800,
                 "Failed to pthread_mutex_init errno=%d in %s %s():%d", *piVar3,
                 "klist.c", "_k_new_list", 0x73);
        FUN_00047ab4(3, acStack_820, 1);
        FUN_00062ec0(1);
    }
    iVar2 = pthread_rwlock_init((pthread_rwlock_t *)(__mutex + 1),
                                (pthread_rwlockattr_t *)0x0);
    if (iVar2 != 0) {
        piVar3 = __errno_location();
        snprintf(acStack_820, 0x800,
                 "Failed to pthread_rwlock_init errno=%d in %s %s():%d",
                 *piVar3, "klist.c", "_k_new_list", 0x73);
        FUN_00047ab4(3, acStack_820, 1);
        FUN_00062ec0(1);
    }
    *puVar1 = param_1;
    puVar1[5] = param_2;
    puVar1[9] = param_3;
    puVar1[10] = param_4;
    *(undefined1 *)(puVar1 + 0xb) = param_5;
    FUN_00046870(puVar1, param_6, param_7, param_8);
    return puVar1;
}

int FUN_00046f04(int param_1)

{
    int iVar1;
    int iVar2;

    iVar2 = *(int *)(param_1 + 0xc);
    if (iVar2 == 0) {
        if (*(char *)(param_1 + 4) == '\0') {
            FUN_00046870();
            iVar2 = *(int *)(param_1 + 0xc);
            if (iVar2 != 0)
                goto LAB_00046f18;
        }
        return 0;
    }
LAB_00046f18:
    iVar1 = *(int *)(iVar2 + 8);
    *(int *)(param_1 + 0xc) = iVar1;
    if (iVar1 == 0) {
        if (*(char *)(param_1 + 0x2c) != '\0') {
            *(undefined4 *)(param_1 + 0x10) = 0;
        }
    } else {
        *(undefined4 *)(iVar1 + 4) = 0;
    }
    *(undefined4 *)(iVar2 + 8) = 0;
    *(undefined4 *)(iVar2 + 4) = 0;
    *(int *)(param_1 + 0x1c) = *(int *)(param_1 + 0x1c) + -1;
    return iVar2;
}

int FUN_00046f8c(int param_1)

{
    int iVar1;

    iVar1 = FUN_00046f04();
    if (iVar1 != 0) {
        memset(*(void **)(iVar1 + 0xc), 0, *(size_t *)(param_1 + 0x14));
    }
    return iVar1;
}

void FUN_00046fb8(undefined4 *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    int iVar1;
    int iVar2;
    char acStack_810[2052];

    if (*(char *)(param_1 + 0xb) == '\0') {
        snprintf(acStack_810, 0x800,
                 "List %s can\'t %s() - do_tail is false - from %s %s() line "
                 "%d in %s %s():%d",
                 *param_1, "_k_unlink_tail", param_2, param_3, param_4,
                 "klist.c", "_k_unlink_tail", 0xb5);
        FUN_00047ab4(3, acStack_810, 1);
        FUN_00062ec0(1);
    }
    iVar1 = param_1[4];
    if (iVar1 != 0) {
        iVar2 = *(int *)(iVar1 + 4);
        param_1[4] = iVar2;
        if (iVar2 == 0) {
            param_1[3] = 0;
        } else {
            *(undefined4 *)(iVar2 + 8) = 0;
        }
        *(undefined4 *)(iVar1 + 8) = 0;
        *(undefined4 *)(iVar1 + 4) = 0;
        param_1[7] = param_1[7] + -1;
    }
    return;
}

void FUN_00047080(int *param_1, int *param_2, undefined4 param_3,
                  undefined4 param_4, undefined4 param_5)

{
    char acStack_810[2048];

    if (*param_2 != *param_1) {
        snprintf(acStack_810, 0x800,
                 "List %s can\'t %s() a %s item - from %s %s() line %d in %s "
                 "%s():%d",
                 *param_1, "_k_add_head", *param_2, param_3, param_4, param_5,
                 "klist.c", "_k_add_head", 0xcd);
        FUN_00047ab4(3, acStack_810, 1);
        FUN_00062ec0(1);
    }
    param_2[1] = 0;
    param_2[2] = param_1[3];
    if (param_1[3] != 0) {
        *(int **)(param_1[3] + 4) = param_2;
    }
    param_1[3] = (int)param_2;
    if (((char)param_1[0xb] != '\0') && (param_1[4] == 0)) {
        param_1[4] = (int)param_2;
    }
    param_1[7] = param_1[7] + 1;
    param_1[8] = param_1[8] + 1;
    return;
}

void FUN_00047154(int *param_1, int *param_2, undefined4 param_3,
                  undefined4 param_4, undefined4 param_5)

{
    int iVar1;
    char acStack_818[2052];

    if (*param_2 != *param_1) {
        snprintf(acStack_818, 0x800,
                 "List %s can\'t %s() a %s item - from %s %s() line %d in %s "
                 "%s():%d",
                 *param_1, "_k_add_tail", *param_2, param_3, param_4, param_5,
                 "klist.c", "_k_add_tail", 0xec);
        FUN_00047ab4(3, acStack_818, 1);
        FUN_00062ec0(1);
    }
    if ((char)param_1[0xb] == '\0') {
        snprintf(acStack_818, 0x800,
                 "List %s can\'t %s() - do_tail is false - from %s %s() line "
                 "%d in %s %s():%d",
                 *param_1, "_k_add_tail", param_3, param_4, param_5, "klist.c",
                 "_k_add_tail", 0xf1);
        FUN_00047ab4(3, acStack_818, 1);
        FUN_00062ec0(1);
    }
    iVar1 = param_1[4];
    param_2[2] = 0;
    param_2[1] = iVar1;
    if (param_1[4] != 0) {
        *(int **)(param_1[4] + 8) = param_2;
    }
    param_1[4] = (int)param_2;
    if (param_1[3] == 0) {
        param_1[3] = (int)param_2;
    }
    param_1[7] = param_1[7] + 1;
    param_1[8] = param_1[8] + 1;
    return;
}

void FUN_000472a0(int *param_1, int *param_2, int param_3, undefined4 param_4,
                  undefined4 param_5, undefined4 param_6)

{
    char acStack_818[2052];

    if (*param_2 != *param_1) {
        snprintf(acStack_818, 0x800,
                 "List %s can\'t %s() a %s item - from %s %s() line %d in %s "
                 "%s():%d",
                 *param_1, "_k_insert_before", *param_2, param_4, param_5,
                 param_6, "klist.c", "_k_insert_before", 0x106);
        FUN_00047ab4(3, acStack_818, 1);
        FUN_00062ec0(1);
    }
    if (param_3 == 0) {
        snprintf(acStack_818, 0x800,
                 "%s() (%s) can\'t before a null item - from %s %s() line %d "
                 "in %s %s():%d",
                 "_k_insert_before", *param_1, param_4, param_5, param_6,
                 "klist.c", "_k_insert_before", 0x10b);
        FUN_00047ab4(3, acStack_818, 1);
        FUN_00062ec0(1);
    }
    param_2[2] = param_3;
    param_2[1] = *(int *)(param_3 + 4);
    if (*(int *)(param_3 + 4) == 0) {
        param_1[3] = (int)param_2;
    } else {
        *(int **)(*(int *)(param_3 + 4) + 8) = param_2;
    }
    *(int **)(param_3 + 4) = param_2;
    param_1[7] = param_1[7] + 1;
    param_1[8] = param_1[8] + 1;
    return;
}

void FUN_000473e8(int *param_1, int *param_2, int param_3, undefined4 param_4,
                  undefined4 param_5, undefined4 param_6)

{
    char acStack_818[2052];

    if (*param_2 != *param_1) {
        snprintf(acStack_818, 0x800,
                 "List %s can\'t %s() a %s item - from %s %s() line %d in %s "
                 "%s():%d",
                 *param_1, "_k_insert_after", *param_2, param_4, param_5,
                 param_6, "klist.c", "_k_insert_after", 0x11e);
        FUN_00047ab4(3, acStack_818, 1);
        FUN_00062ec0(1);
    }
    if (param_3 == 0) {
        snprintf(acStack_818, 0x800,
                 "%s() (%s) can\'t after a null item - from %s %s() line %d in "
                 "%s %s():%d",
                 "_k_insert_after", *param_1, param_4, param_5, param_6,
                 "klist.c", "_k_insert_after", 0x123);
        FUN_00047ab4(3, acStack_818, 1);
        FUN_00062ec0(1);
    }
    param_2[1] = param_3;
    param_2[2] = *(int *)(param_3 + 8);
    if (*(int *)(param_3 + 8) == 0) {
        if ((char)param_1[0xb] != '\0') {
            param_1[4] = (int)param_2;
        }
    } else {
        *(int **)(*(int *)(param_3 + 8) + 4) = param_2;
    }
    *(int **)(param_3 + 8) = param_2;
    param_1[7] = param_1[7] + 1;
    param_1[8] = param_1[8] + 1;
    return;
}

void FUN_0004753c(int *param_1, int *param_2, undefined4 param_3,
                  undefined4 param_4, undefined4 param_5)

{
    int iVar1;
    char acStack_810[2048];

    if (*param_2 != *param_1) {
        snprintf(acStack_810, 0x800,
                 "List %s can\'t %s() a %s item - from %s %s() line %d in %s "
                 "%s():%d",
                 *param_1, "_k_unlink_item", *param_2, param_3, param_4,
                 param_5, "klist.c", "_k_unlink_item", 0x138);
        FUN_00047ab4(3, acStack_810, 1);
        FUN_00062ec0(1);
    }
    iVar1 = param_2[2];
    if (param_2[1] != 0) {
        *(int *)(param_2[1] + 8) = iVar1;
        iVar1 = param_2[2];
    }
    if (iVar1 != 0) {
        *(int *)(iVar1 + 4) = param_2[1];
    }
    if ((int *)param_1[3] == param_2) {
        param_1[3] = param_2[2];
    }
    if (((char)param_1[0xb] != '\0') && ((int *)param_1[4] == param_2)) {
        param_1[4] = param_2[1];
    }
    param_2[2] = 0;
    param_2[1] = 0;
    param_1[7] = param_1[7] + -1;
    return;
}

void FUN_00047628(int *param_1, int *param_2, undefined4 param_3,
                  undefined4 param_4, undefined4 param_5)

{
    int iVar1;
    char acStack_818[2048];

    if (*param_1 != *param_2) {
        snprintf(acStack_818, 0x800,
                 "List %s can\'t %s() to a %s list - from %s %s() line %d in "
                 "%s %s():%d",
                 *param_1, "_k_list_transfer_to_head", *param_2, param_3,
                 param_4, param_5, "klist.c", "_k_list_transfer_to_head",
                 0x152);
        FUN_00047ab4(3, acStack_818, 1);
        FUN_00062ec0(1);
    }
    if ((char)param_1[0xb] == '\0') {
        snprintf(acStack_818, 0x800,
                 "List %s can\'t %s() - do_tail is false - from %s %s() line "
                 "%d in %s %s():%d",
                 *param_1, "_k_list_transfer_to_head", param_3, param_4,
                 param_5, "klist.c", "_k_list_transfer_to_head", 0x157);
        FUN_00047ab4(3, acStack_818, 1);
        FUN_00062ec0(1);
    }
    if (param_1[3] != 0) {
        if (param_2[3] == 0) {
            param_2[4] = param_1[4];
            iVar1 = 0;
        } else {
            *(int *)(param_2[3] + 4) = param_1[4];
            iVar1 = param_2[3];
        }
        *(int *)(param_1[4] + 8) = iVar1;
        param_2[3] = param_1[3];
        param_1[4] = 0;
        param_1[3] = 0;
        param_2[7] = param_2[7] + param_1[7];
        param_1[7] = 0;
        param_2[8] = param_2[8] + param_1[8];
        param_1[8] = 0;
    }
    return;
}

void FUN_00047798(int *param_1, int *param_2, undefined4 param_3,
                  undefined4 param_4, undefined4 param_5)

{
    int iVar1;
    char acStack_818[2048];

    if (*param_1 != *param_2) {
        snprintf(acStack_818, 0x800,
                 "List %s can\'t %s() to a %s list - from %s %s() line %d in "
                 "%s %s():%d",
                 *param_1, "_k_list_transfer_to_tail", *param_2, param_3,
                 param_4, param_5, "klist.c", "_k_list_transfer_to_tail",
                 0x170);
        FUN_00047ab4(3, acStack_818, 1);
        FUN_00062ec0(1);
    }
    if ((char)param_1[0xb] == '\0') {
        snprintf(acStack_818, 0x800,
                 "List %s can\'t %s() - do_tail is false - from %s %s() line "
                 "%d in %s %s():%d",
                 *param_1, "_k_list_transfer_to_tail", param_3, param_4,
                 param_5, "klist.c", "_k_list_transfer_to_tail", 0x175);
        FUN_00047ab4(3, acStack_818, 1);
        FUN_00062ec0(1);
    }
    iVar1 = param_1[3];
    if (iVar1 != 0) {
        if (param_2[4] == 0) {
            param_2[3] = iVar1;
            iVar1 = 0;
        } else {
            *(int *)(param_2[4] + 8) = iVar1;
            iVar1 = param_2[4];
        }
        *(int *)(param_1[3] + 4) = iVar1;
        param_2[4] = param_1[4];
        param_1[4] = 0;
        param_1[3] = 0;
        param_2[7] = param_2[7] + param_1[7];
        param_1[7] = 0;
        param_2[8] = param_2[8] + param_1[8];
        param_1[8] = 0;
    }
    return;
}

undefined4 FUN_00047904(undefined4 *param_1, undefined4 param_2,
                        undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int iVar2;
    pthread_mutex_t *__mutex;
    char acStack_810[2052];

    if (*(char *)(param_1 + 1) != '\0') {
        snprintf(
            acStack_810, 0x800,
            "List %s can\'t %s() a store - from %s %s() line %d in %s %s():%d",
            *param_1, "_k_free_list", param_2, param_3, param_4, "klist.c",
            "_k_free_list", 400);
        FUN_00047ab4(3, acStack_810, 1);
        FUN_00062ec0(1);
    }
    if (0 < (int)param_1[0xc]) {
        iVar2 = 0;
        do {
            iVar1 = iVar2 * 4;
            iVar2 = iVar2 + 1;
            free(*(void **)(param_1[0xd] + iVar1));
        } while (iVar2 < (int)param_1[0xc]);
    }
    free((void *)param_1[0xd]);
    if (0 < (int)param_1[0xe]) {
        iVar2 = 0;
        do {
            iVar1 = iVar2 * 4;
            iVar2 = iVar2 + 1;
            free(*(void **)(param_1[0xf] + iVar1));
        } while (iVar2 < (int)param_1[0xe]);
    }
    free((void *)param_1[0xf]);
    __mutex = (pthread_mutex_t *)param_1[2];
    pthread_rwlock_destroy((pthread_rwlock_t *)(__mutex + 1));
    pthread_mutex_destroy(__mutex);
    free((void *)param_1[2]);
    free(param_1);
    return 0;
}

undefined4 FUN_00047a20(undefined4 *param_1, undefined4 param_2,
                        undefined4 param_3, undefined4 param_4)

{
    char acStack_810[2052];

    if (*(char *)(param_1 + 1) == '\0') {
        snprintf(acStack_810, 0x800,
                 "Store %s can\'t %s() the list - from %s %s() line %d in %s "
                 "%s():%d",
                 *param_1, "_k_free_store", param_2, param_3, param_4,
                 "klist.c", "_k_free_store", 0x1a8);
        FUN_00047ab4(3, acStack_810, 1);
        FUN_00062ec0(1);
    }
    free(param_1);
    return 0;
}

void FUN_00047ab4(uint param_1, char *param_2, undefined4 param_3)

{
    FILE *__s;
    tm *ptVar1;
    int iVar2;
    size_t sVar3;
    byte bVar4;
    uint local_6c;
    uint local_68;
    uint local_64;
    char acStack_60[64];

    local_68 = (uint)DAT_00244080;
    if (local_68 == 0) {
        local_64 = local_68;
        FUN_0004a60c(&local_68);
        local_6c = local_68;
        iVar2 = (int)local_64 / 1000;
        ptVar1 = localtime((time_t *)&local_6c);
        snprintf(acStack_60, 0x40, " [%d-%02d-%02d %02d:%02d:%02d.%03d] ",
                 ptVar1->tm_year + 0x76c, ptVar1->tm_mon + 1, ptVar1->tm_mday,
                 ptVar1->tm_hour, ptVar1->tm_min, ptVar1->tm_sec, iVar2);
        iVar2 = fileno(stderr);
        iVar2 = isatty(iVar2);
        if (iVar2 == 0) {
            fprintf(stderr, "%s%s\n", acStack_60, param_2);
            fflush(stderr);
        }
        if ((DAT_001aeb9c != '\0') &&
            ((DAT_001aeba0 != (FILE *)0x0 ||
              (DAT_001aeba0 = fopen64(&DAT_001aebc4, (char *)&DAT_001aeba4),
               DAT_001aeba0 != (FILE *)0x0)))) {
            __s = DAT_001aeba0;
            sVar3 = strlen(acStack_60);
            fwrite(acStack_60, sVar3, 1, __s);
            sVar3 = strlen(param_2);
            fwrite(param_2, sVar3, 1, DAT_001aeba0);
            fwrite("\n", 1, 1, DAT_001aeba0);
            fflush(DAT_001aeba0);
        }
        if (param_1 == 3) {
            bVar4 = 0;
        } else {
            bVar4 = DAT_00242ef8 & 1;
        }
        if (bVar4 == 0) {
            FUN_00047da0(acStack_60, param_2, param_3);
        }
        return;
    }
    syslog(param_1 | 0x80, "%s", param_2);
    return;
}

void FUN_00047c94(undefined4 param_1)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00246264);
    if (iVar1 == 0) {
        return;
    }
    piVar2 = __errno_location();
    snprintf(acStack_808, 0x800,
             "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar2,
             "logging.c", "my_log_curses", param_1);
    FUN_00047ab4(3, acStack_808, 1);
    FUN_00062ec0(1);
    return;
}

void FUN_00047d14(void)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2052];

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00246264);
    if (iVar1 == 0) {
        return;
    }
    piVar2 = __errno_location();
    snprintf(acStack_808, 0x800,
             "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar2,
             "logging.c", "my_log_curses", 0x35);
    FUN_00047ab4(3, acStack_808, 1);
    FUN_00062ec0(1);
    return;
}

void FUN_00047da0(undefined4 param_1, undefined4 param_2, int param_3)

{
    if (param_3 != 0) {
        pthread_mutex_trylock((pthread_mutex_t *)&DAT_00246264);
        FUN_00047c94(0x2a);
        (*DAT_0009e444)();
    }
    FUN_00047d14();
    printf("%s%s%s", param_1, param_2, "                    \n");
    FUN_00047c94(0x37);
    (*DAT_0009e444)();
    return;
}

void FUN_00047ec8(uint param_1, char *param_2, undefined4 param_3)

{
    FILE *__s;
    byte bVar1;
    int iVar2;
    size_t __size;

    if (DAT_00244080 != '\0') {
        syslog(param_1 | 0x80, "%s", param_2);
        return;
    }
    iVar2 = fileno(stderr);
    iVar2 = isatty(iVar2);
    if (iVar2 == 0) {
        fputs(param_2, stderr);
        fflush(stderr);
    }
    if ((DAT_001aeb9c != '\0') &&
        ((DAT_001aeba0 != (FILE *)0x0 ||
          (DAT_001aeba0 = fopen64(&DAT_001aebc4, (char *)&DAT_001aeba4),
           DAT_001aeba0 != (FILE *)0x0)))) {
        __s = DAT_001aeba0;
        __size = strlen(param_2);
        fwrite(param_2, __size, 1, __s);
        fflush(DAT_001aeba0);
    }
    if (param_1 == 3) {
        bVar1 = 0;
    } else {
        bVar1 = DAT_00242ef8 & 1;
    }
    if (bVar1 != 0) {
        return;
    }
    FUN_00047da0("", param_2, param_3);
    return;
}

void FUN_00047fd4(int param_1, undefined4 param_2)

{
    undefined4 *puVar1;
    undefined4 uVar2;
    char acStack_818[2052];

    puVar1 = (undefined4 *)calloc(1, 0x20);
    if (puVar1 == (undefined4 *)0x0) {
        snprintf(acStack_818, 0x800, "Failed to calloc dupdata in %s %s():%d",
                 "noncedup.c", "dupalloc", 0x24);
        FUN_00047ab4(3, acStack_818, 1);
        FUN_00062ec0(1);
    }
    *puVar1 = param_2;
    uVar2 = FUN_00046c54("Nonces", 0x10, 0x400, 0, 1, "noncedup.c", "dupalloc",
                         0x27);
    puVar1[1] = uVar2;
    uVar2 = FUN_00046bac();
    *(undefined4 **)(param_1 + 0x18) = puVar1;
    puVar1[2] = uVar2;
    return;
}

undefined4 FUN_000480d8(int param_1, int param_2, int param_3)

{
    bool bVar1;
    bool bVar2;
    int iVar3;
    int *piVar4;
    uint uVar5;
    int *piVar6;
    pthread_mutex_t *ppVar7;
    int iVar8;
    undefined4 uVar9;
    undefined4 extraout_s1;
    undefined4 local_830;
    undefined4 uStack_82c;
    char acStack_828[2052];

    piVar6 = *(int **)(param_1 + 0x18);
    if (piVar6 == (int *)0x0) {
        uVar9 = 0;
    } else {
        FUN_0004a60c(&local_830);
        uVar5 = piVar6[4];
        piVar6[4] = uVar5 + 1;
        piVar6[5] = piVar6[5] + (uint)(0xfffffffe < uVar5);
        ppVar7 = *(pthread_mutex_t **)(piVar6[1] + 8);
        iVar3 = pthread_mutex_lock(ppVar7);
        if (iVar3 != 0) {
            piVar4 = __errno_location();
            snprintf(acStack_828, 0x800,
                     "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar4,
                     "noncedup.c", "isdupnonce", 0x46);
            FUN_00047ab4(3, acStack_828, 1);
            FUN_00062ec0(1);
        }
        iVar3 = pthread_rwlock_wrlock((pthread_rwlock_t *)(ppVar7 + 1));
        if (iVar3 != 0) {
            piVar4 = __errno_location();
            snprintf(acStack_828, 0x800,
                     "WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d",
                     *piVar4, "noncedup.c", "isdupnonce", 0x46);
            FUN_00047ab4(3, acStack_828, 1);
            FUN_00062ec0(1);
        }
        iVar3 = *(int *)(piVar6[2] + 0x10);
        bVar2 = true;
        while (true) {
            bVar1 = bVar2;
            if (iVar3 == 0) {
                bVar1 = false;
            }
            if (!bVar1)
                break;
            if ((**(int **)(iVar3 + 0xc) == *(int *)(param_2 + 0x154)) &&
                ((*(int **)(iVar3 + 0xc))[1] == param_3)) {
                if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                    (bVar2 = false, 3 < DAT_0009e320)) {
                    bVar2 = false;
                    snprintf(acStack_828, 0x800, "%s%d: Duplicate nonce %08x",
                             *(undefined4 *)(*(int *)(param_1 + 4) + 8),
                             *(undefined4 *)(param_1 + 8), param_3);
                    FUN_00047ab4(4, acStack_828, 0);
                }
            } else {
                iVar3 = *(int *)(iVar3 + 4);
                bVar2 = bVar1;
            }
        }
        if (bVar2) {
            iVar3 = FUN_00046f04(piVar6[1], "noncedup.c", "isdupnonce", 0x51);
            **(undefined4 **)(iVar3 + 0xc) = *(undefined4 *)(param_2 + 0x154);
            *(int *)(*(int *)(iVar3 + 0xc) + 4) = param_3;
            iVar8 = *(int *)(iVar3 + 0xc);
            *(undefined4 *)(iVar8 + 0xc) = uStack_82c;
            *(undefined4 *)(iVar8 + 8) = local_830;
            FUN_00047080(piVar6[2], iVar3, "noncedup.c", "isdupnonce", 0x55);
        }
        iVar3 = *(int *)(piVar6[2] + 0x10);
        while ((iVar3 != 0 &&
                (uVar9 = FUN_0004a8fc(*(int *)(iVar3 + 0xc) + 8, &local_830),
                 (double)(longlong)*piVar6 <
                     (double)CONCAT44(extraout_s1, uVar9)))) {
            uVar9 = FUN_00046fb8(piVar6[2], "noncedup.c", "isdupnonce", 0x59);
            FUN_00047080(piVar6[1], uVar9, "noncedup.c", "isdupnonce", 0x5a);
            iVar3 = *(int *)(piVar6[2] + 0x10);
        }
        ppVar7 = *(pthread_mutex_t **)(piVar6[1] + 8);
        iVar3 = pthread_rwlock_unlock((pthread_rwlock_t *)(ppVar7 + 1));
        if (iVar3 != 0) {
            piVar4 = __errno_location();
            snprintf(acStack_828, 0x800,
                     "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d",
                     *piVar4, "noncedup.c", "isdupnonce", 0x5d);
            FUN_00047ab4(3, acStack_828, 1);
            FUN_00062ec0(1);
        }
        iVar3 = pthread_mutex_unlock(ppVar7);
        if (iVar3 != 0) {
            piVar4 = __errno_location();
            snprintf(acStack_828, 0x800,
                     "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d",
                     *piVar4, "noncedup.c", "isdupnonce", 0x5d);
            FUN_00047ab4(3, acStack_828, 1);
            FUN_00062ec0(1);
        }
        (*DAT_0009e444)();
        uVar9 = 0;
        if (!bVar2) {
            uVar5 = piVar6[6];
            uVar9 = 1;
            piVar6[6] = uVar5 + 1;
            piVar6[7] = piVar6[7] + (uint)(0xfffffffe < uVar5);
        }
    }
    return uVar9;
}

void FUN_000484d8(int param_1, byte *param_2, int param_3)

{
    byte *pbVar1;
    uint uVar2;
    int *piVar3;
    int *piVar4;
    int *piVar6;
    int iVar7;
    uint *puVar8;
    uint *puVar9;
    uint uVar10;
    byte *local_164;
    int local_14c;
    int local_148[7];
    uint local_12c;
    uint local_128[65];
    int *piVar5;

    if (0 < param_3) {
        local_164 = param_2;
        do {
            puVar9 = &local_12c;
            pbVar1 = local_164;
            do {
                puVar9 = puVar9 + 1;
                *puVar9 = (uint)pbVar1[1] << 0x10 | (uint)pbVar1[2] << 8 |
                          (uint)pbVar1[3] | (uint)*pbVar1 << 0x18;
                pbVar1 = pbVar1 + 4;
                puVar8 = local_128;
            } while (local_128 + 0xf != puVar9);
            do {
                uVar10 = puVar8[0xe];
                puVar9 = puVar8 + 1;
                uVar2 = *puVar9;
                puVar8[0x10] =
                    ((uVar10 >> 0x13 | uVar10 << 0xd) ^
                     (uVar10 >> 0x11 | uVar10 << 0xf) ^ uVar10 >> 10) +
                    puVar8[9] + *puVar8 +
                    ((uVar2 >> 0x12 | uVar2 << 0xe) ^
                     (uVar2 >> 7 | uVar2 << 0x19) ^ uVar2 >> 3);
                puVar8 = puVar9;
            } while (local_128 + 0x30 != puVar9);
            piVar3 = &local_14c;
            piVar4 = (int *)(param_1 + 0x88);
            piVar6 = piVar3;
            do {
                piVar5 = piVar4 + 1;
                piVar6 = piVar6 + 1;
                *piVar6 = *piVar4;
                piVar4 = piVar5;
            } while ((int *)(param_1 + 0xa8) != piVar5);
            iVar7 = 0;
            do {
                iVar7 = iVar7 + 1;
                piVar4 = (int *)(param_1 + 0x88);
            } while (iVar7 != 0x40);
            do {
                piVar3 = piVar3 + 1;
                piVar6 = piVar4 + 1;
                *piVar4 = *piVar3 + *piVar4;
                piVar4 = piVar6;
            } while (piVar5 != piVar6);
            local_164 = local_164 + 0x40;
        } while (param_2 + param_3 * 0x40 != local_164);
        return;
    }
    return;
}

void FUN_000486d4(undefined4 *param_1)

{
    undefined4 *puVar1;
    undefined4 *puVar2;
    undefined4 *puVar3;

    puVar1 = (undefined4 *)0x9e420;
    puVar2 = param_1 + 0x22;
    do {
        puVar1 = puVar1 + 1;
        puVar3 = puVar2 + 1;
        *puVar2 = *puVar1;
        puVar2 = puVar3;
    } while (puVar3 != param_1 + 0x2a);
    param_1[1] = 0;
    *param_1 = 0;
    return;
}

void FUN_00048704(int *param_1, void *param_2, uint param_3)

{
    uint __n;

    __n = 0x40 - param_1[1];
    if (param_3 <= __n) {
        __n = param_3;
    }
    memcpy((void *)((int)param_1 + param_1[1] + 8), param_2, __n);
    if (param_3 + param_1[1] < 0x40) {
        param_1[1] = param_3 + param_1[1];
        return;
    }
    param_3 = param_3 - __n;
    FUN_000484d8(param_1, param_1 + 2, 1);
    FUN_000484d8(param_1, (int)param_2 + __n, param_3 >> 6);
    memcpy(param_1 + 2, (void *)((int)param_2 + __n + (param_3 & 0xffffffc0)),
           param_3 & 0x3f);
    param_1[1] = param_3 & 0x3f;
    *param_1 = *param_1 + ((param_3 >> 6) + 1) * 0x40;
    return;
}

void FUN_000487b0(int *param_1, undefined1 *param_2)

{
    int iVar1;
    int iVar2;
    uint uVar3;
    int iVar4;
    int *piVar5;
    int *piVar6;
    int iVar7;
    int iVar8;
    int iVar9;
    undefined4 uVar10;
    bool bVar11;

    uVar3 = param_1[1];
    piVar5 = param_1 + 2;
    bVar11 = (uVar3 & 0x3f) < 0x38;
    if (bVar11) {
        iVar2 = 0x40;
    } else {
        iVar2 = 0x80;
    }
    if (bVar11) {
        iVar4 = 0x3c;
    } else {
        iVar4 = 0x7c;
    }
    iVar1 = (uVar3 + *param_1) * 8;
    if (bVar11) {
        iVar7 = 0x3d;
        iVar8 = 0x3e;
        iVar9 = 0x3f;
        uVar10 = 1;
    } else {
        iVar7 = 0x7d;
        iVar8 = 0x7e;
        iVar9 = 0x7f;
        uVar10 = 2;
    }
    memset((void *)((int)piVar5 + uVar3), 0, iVar2 - uVar3);
    *(undefined1 *)((int)param_1 + param_1[1] + 8) = 0x80;
    *(char *)((int)piVar5 + iVar9) = (char)iVar1;
    *(char *)((int)piVar5 + iVar8) = (char)((uint)iVar1 >> 8);
    *(char *)((int)piVar5 + iVar7) = (char)((uint)iVar1 >> 0x10);
    *(char *)((int)piVar5 + iVar4) = (char)((uint)iVar1 >> 0x18);
    FUN_000484d8(param_1, piVar5, uVar10);
    piVar5 = param_1 + 0x22;
    do {
        param_2[3] = (char)*piVar5;
        piVar6 = piVar5 + 1;
        param_2[2] = (char)((uint)*piVar5 >> 8);
        param_2[1] = (char)*(undefined2 *)((int)piVar5 + 2);
        *param_2 = *(undefined1 *)((int)piVar5 + 3);
        piVar5 = piVar6;
        param_2 = param_2 + 4;
    } while (param_1 + 0x2a != piVar6);
    return;
}

void FUN_0004889c(undefined4 param_1, undefined4 param_2, undefined4 param_3)

{
    undefined4 *puVar1;
    undefined4 *puVar2;
    undefined4 local_b8;
    undefined4 local_b4;
    undefined4 auStack_30[9];

    puVar2 = (undefined4 *)0x9e420;
    puVar1 = auStack_30;
    do {
        puVar2 = puVar2 + 1;
        *puVar1 = *puVar2;
        puVar1 = puVar1 + 1;
    } while (puVar2 != (undefined4 *)0x9e440);
    local_b8 = 0;
    local_b4 = 0;
    FUN_00048704(&local_b8, param_1, param_2);
    FUN_000487b0(&local_b8, param_3);
    return;
}

undefined4 FUN_00048900(void)

{
    return 0;
}

undefined4 FUN_00048908(int param_1, char *param_2, int param_3)

{
    size_t sVar1;
    int iVar2;
    int *piVar3;
    ssize_t sVar4;
    uint uVar5;
    __suseconds_t *p_Var6;
    uint uVar7;
    uint uVar8;
    size_t local_844;
    uint local_840;
    timeval local_830;
    fd_set local_828[16];

    uVar7 = *(uint *)(param_1 + 0x24c);
    if (((DAT_00242f18 != '\0') && (DAT_001aecc5 != '\0')) &&
        ((DAT_00244080 != '\0' ||
          ((DAT_001aecc4 != '\0' || (6 < DAT_0009e320)))))) {
        snprintf((char *)local_828, 0x800, "SEND: %s", param_2);
        FUN_00047ab4(7, local_828, 0);
    }
    local_844 = param_3 + 1;
    sVar1 = strlen(param_2);
    (param_2 + sVar1)[0] = '\n';
    (param_2 + sVar1)[1] = '\0';
    if ((int)local_844 < 1) {
        local_840 = 0;
        iVar2 = 0;
    } else {
        uVar5 = uVar7 + 0x1f;
        if (-1 < (int)uVar7) {
            uVar5 = uVar7;
        }
        uVar8 = uVar7 & 0x1f;
        if ((int)uVar7 < 1) {
            uVar8 = -(-uVar7 & 0x1f);
        }
        local_840 = 0;
        do {
            while (true) {
                local_830.tv_usec = 0;
                local_830.tv_sec = 1;
                while (true) {
                    p_Var6 = &local_830.tv_usec;
                    do {
                        p_Var6 = p_Var6 + 1;
                        *p_Var6 = 0;
                    } while (local_828[0].fds_bits + 0x1f != p_Var6);
                    local_828[0].fds_bits[(int)uVar5 >> 5] =
                        local_828[0].fds_bits[(int)uVar5 >> 5] |
                        1 << (uVar8 & 0xff);
                    iVar2 = select(uVar7 + 1, (fd_set *)0x0, local_828,
                                   (fd_set *)0x0, &local_830);
                    if (0 < iVar2)
                        break;
                    piVar3 = __errno_location();
                    if (*piVar3 != 4) {
                        return 1;
                    }
                }
                sVar4 = send(*(int *)(param_1 + 0x24c), param_2 + local_840,
                             local_844, 0x4000);
                if (-1 < sVar4)
                    break;
                piVar3 = __errno_location();
                if (*piVar3 != 0xb) {
                    return 2;
                }
            }
            local_840 = local_840 + sVar4;
            local_844 = local_844 - sVar4;
        } while (0 < (int)local_844);
        iVar2 = (int)local_840 >> 0x1f;
    }
    uVar5 = *(uint *)(param_1 + 0x1f0);
    uVar7 = *(uint *)(param_1 + 0x1f8);
    *(uint *)(param_1 + 0x1f0) = uVar5 + 1;
    uVar8 = *(uint *)(param_1 + 0x200);
    *(uint *)(param_1 + 500) =
        *(int *)(param_1 + 500) + (uint)(0xfffffffe < uVar5);
    *(uint *)(param_1 + 0x1f8) = uVar7 + local_840;
    *(uint *)(param_1 + 0x1fc) =
        *(int *)(param_1 + 0x1fc) + iVar2 + (uint)CARRY4(uVar7, local_840);
    *(uint *)(param_1 + 0x200) = uVar8 + local_840;
    *(uint *)(param_1 + 0x204) =
        *(int *)(param_1 + 0x204) + iVar2 + (uint)CARRY4(uVar8, local_840);
    return 0;
}

char FUN_00048b74(int param_1, int param_2, int param_3)

{
    char cVar1;
    undefined4 uVar2;
    size_t __n;
    ssize_t sVar3;
    int iVar4;
    undefined4 uVar5;
    char local_c20[1024];
    char local_820[2048];

    uVar2 = *(undefined4 *)(param_1 + 600);
    uVar5 = *(undefined4 *)(param_1 + 0x248);
    if (param_3 == 0) {
        snprintf(local_c20, 0x400,
                 "CONNECT %s:%s HTTP/1.1\r\nHost: %s:%s\r\n\r\n", uVar2, uVar5,
                 uVar2, uVar5);
    } else {
        snprintf(local_c20, 0x400, "CONNECT %s:%s HTTP/1.0\r\n\r\n", uVar2,
                 uVar5);
    }
    if ((DAT_001aecc5 != '\0') &&
        (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
          (6 < DAT_0009e320)))) {
        snprintf(local_820, 0x800, "Sending proxy %s:%s - %s",
                 *(undefined4 *)(param_1 + 0x25c),
                 *(undefined4 *)(param_1 + 0x260), local_c20);
        FUN_00047ab4(7, local_820, 0);
    }
    __n = strlen(local_c20);
    send(param_2, local_c20, __n, 0);
    sVar3 = recv(param_2, local_c20, 0xc, 0);
    if (sVar3 < 1) {
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (3 < DAT_0009e320)) {
            snprintf(local_820, 0x800,
                     "Couldn\'t read from proxy %s:%s after sending CONNECT",
                     *(undefined4 *)(param_1 + 0x25c),
                     *(undefined4 *)(param_1 + 0x260));
            FUN_00047ab4(4, local_820, 0);
            return '\0';
        }
    } else {
        local_c20[sVar3] = '\0';
        if ((DAT_001aecc5 != '\0') &&
            (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
              (6 < DAT_0009e320)))) {
            snprintf(local_820, 0x800, "Received from proxy %s:%s - %s",
                     *(undefined4 *)(param_1 + 0x25c),
                     *(undefined4 *)(param_1 + 0x260), local_c20);
            FUN_00047ab4(7, local_820, 0);
        }
        iVar4 = strcmp(local_c20, "HTTP/1.1 200");
        if ((iVar4 == 0) ||
            (iVar4 = strcmp(local_c20, "HTTP/1.0 200"), iVar4 == 0)) {
            do {
                sVar3 = recv(param_2, local_820, 1, 0);
                if (sVar3 == -1) {
                    local_c20[iVar4] = -1;
                    goto LAB_00048e5c;
                }
                local_c20[iVar4] = local_820[0];
                iVar4 = iVar4 + 1;
                if (local_820[0] == -1)
                    goto LAB_00048e5c;
            } while (iVar4 != 4);
            do {
                iVar4 = strncmp(local_c20, "\r\n\r\n", 4);
                cVar1 = DAT_001aecc5;
                if (iVar4 == 0) {
                    if (DAT_001aecc5 == '\0') {
                        return '\x01';
                    }
                    if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                        (DAT_0009e320 < 7)) {
                        return DAT_001aecc5;
                    }
                    snprintf(local_820, 0x800,
                             "Success negotiating with %s:%s HTTP proxy",
                             *(undefined4 *)(param_1 + 0x25c),
                             *(undefined4 *)(param_1 + 0x260));
                    FUN_00047ab4(7, local_820, 0);
                    return cVar1;
                }
                local_c20[0] = local_c20[1];
                local_c20[1] = local_c20[2];
                local_c20[2] = local_c20[3];
                sVar3 = recv(param_2, local_820, 1, 0);
                if (sVar3 == -1) {
                    local_c20[3] = -1;
                    break;
                }
                local_c20[3] = local_820[0];
            } while (local_820[0] != -1);
        LAB_00048e5c:
            if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                (3 < DAT_0009e320)) {
                snprintf(local_820, 0x800,
                         "Couldn\'t read HTTP byte from proxy %s:%s",
                         *(undefined4 *)(param_1 + 0x25c),
                         *(undefined4 *)(param_1 + 0x260));
                FUN_00047ab4(4, local_820, 0);
                return '\0';
            }
        } else if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                   (3 < DAT_0009e320)) {
            snprintf(local_820, 0x800, "HTTP Error from proxy %s:%s - %s",
                     *(undefined4 *)(param_1 + 0x25c),
                     *(undefined4 *)(param_1 + 0x260), local_c20);
            FUN_00047ab4(4, local_820);
            return '\0';
        }
    }
    return '\0';
}

void FUN_00049028(int param_1)

{
    if (*(undefined1 **)(param_1 + 0x250) != (undefined1 *)0x0) {
        **(undefined1 **)(param_1 + 0x250) = 0;
    }
    *(undefined1 *)(param_1 + 0x283) = 0;
    *(undefined1 *)(param_1 + 0x281) = 0;
    if (*(int *)(param_1 + 0x24c) != 0) {
        close(*(int *)(param_1 + 0x24c));
    }
    *(undefined4 *)(param_1 + 0x24c) = 0;
    return;
}

void FUN_00049068(int param_1)

{
    uint uVar1;

    uVar1 = fcntl(param_1, 3, 0);
    fcntl(param_1, 4, uVar1 & 0xfffff7ff);
    return;
}

bool FUN_00049090(uint param_1, uint param_2)

{
    int iVar1;
    __suseconds_t *p_Var2;
    uint uVar3;
    uint uVar4;
    timeval local_90;
    fd_set local_88;

    local_90.tv_sec = param_2 & ~((int)param_2 >> 0x1f);
    p_Var2 = &local_90.tv_usec;
    do {
        p_Var2 = p_Var2 + 1;
        *p_Var2 = 0;
    } while (local_88.fds_bits + 0x1f != p_Var2);
    uVar4 = param_1 + 0x1f;
    if (-1 < (int)param_1) {
        uVar4 = param_1;
    }
    local_90.tv_usec = 0;
    uVar3 = param_1 & 0x1f;
    if ((int)param_1 < 1) {
        uVar3 = -(-param_1 & 0x1f);
    }
    local_88.fds_bits[(int)uVar4 >> 5] =
        local_88.fds_bits[(int)uVar4 >> 5] | 1 << (uVar3 & 0xff);
    iVar1 =
        select(param_1 + 1, &local_88, (fd_set *)0x0, (fd_set *)0x0, &local_90);
    return 0 < iVar1;
}

undefined4 FUN_00049124(int *param_1, uint param_2)

{
    uint uVar1;
    int *piVar2;
    undefined4 uVar3;

    if ((param_1 == (int *)0x0) || (*param_1 != 1)) {
        return 0;
    }
    uVar1 = FUN_0006e1a8();
    if (((param_2 <= uVar1) && (piVar2 = (int *)FUN_0006e1c4(param_1, param_2),
                                piVar2 != (int *)0x0)) &&
        (*piVar2 == 2)) {
        uVar3 = FUN_0006e350();
        return uVar3;
    }
    return 0;
}

void FUN_00049188(void)

{
    int iVar1;

    iVar1 = FUN_00049124();
    if (iVar1 == 0) {
        return;
    }
    __strdup();
    return;
}

undefined1 FUN_00049208(byte *param_1, undefined4 param_2, undefined4 param_3)

{
    size_t sVar1;
    byte *pbVar2;
    uint uVar3;
    char acStack_810[2048];

    if (param_1 == (byte *)0x0) {
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 3)) {
            return 0;
        }
        snprintf(acStack_810, 0x800,
                 "Null string passed to valid_hex from in %s %s():%d", "util.c",
                 param_2, param_3);
    } else {
        sVar1 = strlen((char *)param_1);
        if (sVar1 == 0) {
            return 1;
        }
        uVar3 = (uint)*param_1;
        if (-1 < *(int *)(&DAT_00081958 + uVar3 * 4)) {
            pbVar2 = param_1 + (sVar1 - 1);
            do {
                if (param_1 == pbVar2) {
                    return 1;
                }
                param_1 = param_1 + 1;
                uVar3 = (uint)*param_1;
            } while (-1 < *(int *)(&DAT_00081958 + uVar3 * 4));
        }
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 3)) {
            return 0;
        }
        snprintf(acStack_810, 0x800,
                 "Invalid char 0x%x passed to valid_hex from in %s %s():%d",
                 uVar3, "util.c", param_2, param_3);
    }
    FUN_00047ab4(3, acStack_810, 0);
    return 0;
}

void FUN_00049358(pthread_rwlock_t *param_1, undefined4 param_2,
                  undefined4 param_3)

{
    int iVar1;
    int *piVar2;
    char acStack_810[2052];

    iVar1 = pthread_rwlock_wrlock(param_1);
    if (iVar1 == 0) {
        return;
    }
    piVar2 = __errno_location();
    snprintf(acStack_810, 0x800,
             "WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d", *piVar2,
             "util.c", param_2, param_3);
    FUN_00047ab4(3, acStack_810, 1);
    FUN_00062ec0(1);
    return;
}

void FUN_000493d4(pthread_rwlock_t *param_1, undefined4 param_2,
                  undefined4 param_3)

{
    int iVar1;
    int *piVar2;
    char acStack_810[2052];

    iVar1 = pthread_rwlock_unlock(param_1);
    if (iVar1 == 0) {
        return;
    }
    piVar2 = __errno_location();
    snprintf(acStack_810, 0x800,
             "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar2,
             "util.c", param_2, param_3);
    FUN_00047ab4(3, acStack_810, 1);
    FUN_00062ec0(1);
    return;
}

void FUN_00049450(pthread_mutex_t *param_1, undefined4 param_2,
                  undefined4 param_3)

{
    int iVar1;
    int *piVar2;
    char acStack_810[2052];

    iVar1 = pthread_mutex_unlock(param_1);
    if (iVar1 == 0) {
        return;
    }
    piVar2 = __errno_location();
    snprintf(acStack_810, 0x800,
             "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar2,
             "util.c", param_2, param_3);
    FUN_00047ab4(3, acStack_810, 1);
    FUN_00062ec0(1);
    return;
}

void FUN_000494cc(undefined4 param_1, undefined4 param_2)

{
    int *piVar1;
    char acStack_810[2052];

    piVar1 = __errno_location();
    snprintf(acStack_810, 0x800,
             "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar1,
             "util.c", param_1, param_2);
    FUN_00047ab4(3, acStack_810, 1);
    FUN_00062ec0(1);
    return;
}

void FUN_00049530(int param_1)

{
    int iVar1;
    ssize_t sVar2;

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0x2c0));
    if (iVar1 != 0) {
        FUN_000494cc("clear_sock", 0x6e5);
    }
    do {
        if (*(int *)(param_1 + 0x24c) == 0)
            break;
        sVar2 = recv(*(int *)(param_1 + 0x24c), *(void **)(param_1 + 0x250),
                     0x1ffc, 0);
    } while (0 < sVar2);
    FUN_00049450((pthread_mutex_t *)(param_1 + 0x2c0), "clear_sock", 0x6ee);
    (*DAT_0009e444)();
    if (*(undefined1 **)(param_1 + 0x250) != (undefined1 *)0x0) {
        **(undefined1 **)(param_1 + 0x250) = 0;
    }
    return;
}

void *FUN_00049624(uint param_1, undefined4 param_2, undefined4 param_3,
                   undefined4 param_4)

{
    void *pvVar1;
    char acStack_818[2048];

    if ((param_1 & 3) != 0) {
        param_1 = (param_1 & 0xfffffffc) + 4;
    }
    pvVar1 = malloc(param_1);
    if (pvVar1 == (void *)0x0) {
        snprintf(acStack_818, 0x800, "Failed to malloc size %d from %s %s:%d",
                 param_1, param_2, param_3, param_4);
        FUN_00047ab4(3, acStack_818, 1);
        FUN_00062ec0(1);
        return (void *)0x0;
    }
    return pvVar1;
}

void *FUN_000496ac(size_t param_1, uint param_2, undefined4 param_3,
                   undefined4 param_4, undefined4 param_5)

{
    void *pvVar1;
    char acStack_818[2048];

    if ((param_2 & 3) != 0) {
        param_2 = (param_2 & 0xfffffffc) + 4;
    }
    pvVar1 = calloc(param_1, param_2);
    if (pvVar1 == (void *)0x0) {
        snprintf(acStack_818, 0x800,
                 "Failed to calloc memb %d size %d from %s %s:%d", param_1,
                 param_2, param_3, param_4, param_5);
        FUN_00047ab4(3, acStack_818, 1);
        FUN_00062ec0(1);
        return (void *)0x0;
    }
    return pvVar1;
}

void *FUN_0004973c(void *param_1, uint param_2, undefined4 param_3,
                   undefined4 param_4, undefined4 param_5)

{
    void *pvVar1;
    char acStack_818[2052];

    if ((param_2 & 3) != 0) {
        param_2 = (param_2 & 0xfffffffc) + 4;
    }
    pvVar1 = realloc(param_1, param_2);
    if (pvVar1 == (void *)0x0) {
        snprintf(acStack_818, 0x800, "Failed to realloc size %d from %s %s:%d",
                 param_2, param_3, param_4, param_5);
        FUN_00047ab4(3, acStack_818, 1);
        FUN_00062ec0(1);
        return (void *)0x0;
    }
    return pvVar1;
}

char *FUN_000497d0(int param_1)

{
    char *pcVar1;
    undefined *puVar2;

    if (param_1 == 0) {
        return "http:";
    }
    pcVar1 = "http0:";
    puVar2 = &UNK_00081d74;
    do {
        if (*(int *)(puVar2 + 0xc) == param_1) {
            return pcVar1;
        }
        pcVar1 = *(char **)(puVar2 + 0x10);
        puVar2 = puVar2 + 8;
    } while (pcVar1 != (char *)0x0);
    return "invalid";
}

void FUN_0004981c(undefined1 *param_1, int param_2, int param_3)

{
    byte *pbVar1;
    undefined1 *puVar2;

    if (0 < param_3) {
        pbVar1 = (byte *)(param_2 + -1);
        puVar2 = param_1 + 2;
        do {
            pbVar1 = pbVar1 + 1;
            puVar2[-2] = "0123456789abcdefbin2hex"[*pbVar1 >> 4];
            puVar2[-1] = "0123456789abcdefbin2hex"[*pbVar1 & 0xf];
            puVar2 = puVar2 + 2;
        } while (pbVar1 != (byte *)(param_2 + param_3 + -1));
        param_1[param_3 * 2] = 0;
        return;
    }
    *param_1 = 0;
    return;
}

void FUN_0004988c(int param_1, int param_2)

{
    char *pcVar1;
    uint uVar2;
    char *pcVar3;
    byte *pbVar4;
    byte *pbVar5;
    uint uVar6;

    uVar2 = param_2 * 2 + 1;
    uVar6 = uVar2 & 3;
    if ((int)uVar2 < 1) {
        uVar6 = -(-uVar2 & 3);
    }
    pcVar3 = (char *)FUN_000496ac((4 - uVar6) + uVar2, 1, "util.c", "bin2hex",
                                  0x315);
    if (0 < param_2) {
        pbVar5 = (byte *)(param_1 + -1);
        pbVar4 = pbVar5 + param_2;
        pcVar1 = pcVar3;
        do {
            pbVar5 = pbVar5 + 1;
            *pcVar1 = "0123456789abcdefbin2hex"[*pbVar5 >> 4];
            pcVar1[1] = "0123456789abcdefbin2hex"[*pbVar5 & 0xf];
            pcVar1 = pcVar1 + 2;
        } while (pbVar5 != pbVar4);
        pcVar3 = pcVar3 + param_2 * 2;
    }
    *pcVar3 = '\0';
    return;
}

undefined4 FUN_00049940(byte *param_1, byte *param_2, int param_3)

{
    byte *pbVar1;
    byte *pbVar2;
    uint uVar3;
    uint uVar4;
    char local_810[20];
    undefined2 local_7fc;

    if (*param_2 == 0) {
    LAB_00049ac4:
        if (param_3 == 0) {
            return 1;
        }
    } else {
        if (param_3 == 0) {
            return 0;
        }
        if (param_2[1] == 0) {
        LAB_00049a48:
            if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                (2 < DAT_0009e320)) {
                builtin_strncpy(local_810, "hex2bin str truncate", 0x14);
                local_7fc = 100;
                FUN_00047ab4(3, local_810, 0);
            }
        } else {
            uVar3 = *(uint *)(&DAT_00081958 + (uint)param_2[1] * 4);
            uVar4 = *(uint *)(&DAT_00081958 + (uint)*param_2 * 4);
            if (-1 < (int)(uVar3 | uVar4)) {
                param_2 = param_2 + 4;
                do {
                    param_3 = param_3 + -1;
                    *param_1 = (byte)uVar3 | (byte)(uVar4 << 4);
                    pbVar1 = param_2 + -2;
                    if (*pbVar1 == 0)
                        goto LAB_00049ac4;
                    if (param_3 == 0) {
                        return 0;
                    }
                    pbVar2 = param_2 + -1;
                    param_2 = param_2 + 2;
                    if (*pbVar2 == 0)
                        goto LAB_00049a48;
                    uVar4 = *(uint *)(&DAT_00081958 + (uint)*pbVar1 * 4);
                    uVar3 = *(uint *)(&DAT_00081958 + (uint)*pbVar2 * 4);
                    param_1 = param_1 + 1;
                } while (-1 < (int)(uVar4 | uVar3));
            }
            if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                (2 < DAT_0009e320)) {
                builtin_strncpy(local_810, "hex2bin scan failed", 0x14);
                FUN_00047ab4(3, local_810, 0);
                return 0;
            }
        }
    }
    return 0;
}

void FUN_00049ae4(undefined4 *param_1, char *param_2)

{
    size_t sVar1;
    char *pcVar2;
    int iVar3;
    char *pcVar4;
    uint uVar5;
    uint uVar6;
    uint local_820;
    char local_81c[4];
    char acStack_818[3];
    char acStack_815[5];
    char acStack_810[2052];

    local_81c[0] = '0';
    local_81c[1] = '0';
    local_81c[2] = '0';
    local_81c[3] = '0';
    acStack_818[0] = '0';
    acStack_818[1] = '0';
    acStack_818[2] = '0';
    register0x00000027 = '0';
    acStack_815[1] = 0x30;
    sVar1 = strlen(param_2);
    local_820 = 0;
    if (sVar1 != 0) {
        param_2 = param_2 + -1;
        pcVar2 = param_2 + sVar1;
        pcVar4 = acStack_818 + (3 - sVar1);
        do {
            param_2 = param_2 + 1;
            pcVar4 = pcVar4 + 1;
            *pcVar4 = *param_2;
        } while (param_2 != pcVar2);
    }
    acStack_815[1] = 0;
    FUN_00049940(&local_820, local_81c, 4);
    iVar3 = 0;
    uVar6 = 0;
    uVar5 = 0;
    do {
        if (((local_820 & 0xe000) >> (uVar5 & 0xff) & 1) != 0) {
            iVar3 = iVar3 + 1;
            uVar6 = uVar6 | 1 << (uVar5 & 0xff);
            if (iVar3 == 3)
                break;
        }
        uVar5 = uVar5 + 1;
    } while (uVar5 != 0x20);
    if ((uVar6 & 0xe000) != 0) {
        *(undefined1 *)(param_1 + 0xa1) = 1;
        param_1[0xa2] = 8;
        return;
    }
    if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
        (4 < DAT_0009e320)) {
        local_820 = uVar6;
        snprintf(acStack_810, 0x800, "Pool %d rolling mask do not match!",
                 *param_1);
        FUN_00047ab4(5, acStack_810, 0);
    }
    *(undefined1 *)(param_1 + 0xa1) = 0;
    param_1[0xa2] = 1;
    return;
}

void FUN_00049c54(undefined1 *param_1, char *param_2)

{
    longlong lVar1;
    size_t sVar2;
    uint uVar3;
    uint *puVar4;
    uint *puVar5;
    uint uVar6;
    byte *pbVar7;
    byte *pbVar8;
    uint uStack_38;
    undefined4 local_34;
    uint local_30[6];

    local_30[0] = 0;
    local_34 = 0;
    local_30[1] = 0;
    local_30[2] = 0;
    local_30[3] = 0;
    local_30[4] = 0;
    local_30[5] = 0;
    sVar2 = strlen(param_2);
    if (sVar2 == 0) {
        local_34._0_1_ = 0;
        uVar3 = 0;
    } else {
        pbVar8 = (byte *)(param_2 + -1);
        pbVar7 = pbVar8 + sVar2;
        uVar3 = 0;
        do {
            pbVar8 = pbVar8 + 1;
            uVar6 = *(uint *)(&DAT_00081dd0 + (uint)*pbVar8 * 4);
            puVar4 = local_30 + 5;
            while (true) {
                lVar1 = (ulonglong)uVar3 * 0x3a + (ulonglong)uVar6;
                uVar6 = (uint)((ulonglong)lVar1 >> 0x20);
                puVar5 = puVar4 + -1;
                *puVar4 = (uint)lVar1;
                if (&uStack_38 == puVar5)
                    break;
                uVar3 = *puVar5;
                puVar4 = puVar5;
            }
            uVar3 = local_30[5];
        } while (pbVar7 != pbVar8);
        uVar3 = local_30[0] << 0x18 | (local_30[0] >> 8 & 0xff) << 0x10 |
                (local_30[0] >> 0x10 & 0xff) << 8 | local_30[0] >> 0x18;
    }
    puVar5 = local_30;
    *param_1 = (undefined1)local_34;
    puVar4 = (uint *)(param_1 + 1);
    while (true) {
        *puVar4 = uVar3;
        if (puVar4 + 1 == (uint *)(param_1 + 0x19))
            break;
        puVar5 = puVar5 + 1;
        uVar3 = *puVar5;
        uVar3 = uVar3 << 0x18 | (uVar3 >> 8 & 0xff) << 0x10 |
                (uVar3 >> 0x10 & 0xff) << 8 | uVar3 >> 0x18;
        puVar4 = puVar4 + 1;
    }
    return;
}

int FUN_00049d78(uint *param_1, uint *param_2)

{
    void *__ptr;
    void *__ptr_00;
    uint *puVar1;
    uint *puVar2;
    char *pcVar3;
    int iVar4;
    uint uVar5;
    uint uVar6;
    uint uVar7;
    uint uVar8;
    uint local_858;
    uint local_854;
    uint local_850;
    uint local_84c;
    uint local_848;
    uint local_844;
    uint local_840;
    uint local_83c;
    uint local_838;
    uint local_834;
    uint local_830;
    uint local_82c;
    uint local_828;
    uint local_824;
    uint local_820;
    uint uStack_81c;
    char acStack_818[2052];

    puVar2 = param_1 + 8;
    puVar1 = param_2 + 8;
    do {
        puVar2 = puVar2 + -1;
        puVar1 = puVar1 + -1;
        if (*puVar1 < *puVar2) {
            iVar4 = 0;
            goto LAB_00049dac;
        }
    } while ((*puVar1 <= *puVar2) && (param_1 != puVar2));
    iVar4 = 1;
LAB_00049dac:
    if (DAT_001aecc5 != '\0') {
        uVar5 = param_1[6];
        uVar6 = param_1[7];
        uVar8 = param_1[5];
        uVar7 = param_1[4];
        local_854 = uVar5 << 0x18 | (uVar5 >> 8 & 0xff) << 0x10 |
                    (uVar5 >> 0x10 & 0xff) << 8 | uVar5 >> 0x18;
        local_858 = uVar6 << 0x18 | (uVar6 >> 8 & 0xff) << 0x10 |
                    (uVar6 >> 0x10 & 0xff) << 8 | uVar6 >> 0x18;
        uVar5 = param_1[2];
        local_850 = uVar8 << 0x18 | (uVar8 >> 8 & 0xff) << 0x10 |
                    (uVar8 >> 0x10 & 0xff) << 8 | uVar8 >> 0x18;
        local_84c = uVar7 << 0x18 | (uVar7 >> 8 & 0xff) << 0x10 |
                    (uVar7 >> 0x10 & 0xff) << 8 | uVar7 >> 0x18;
        uVar6 = param_1[3];
        uVar7 = *param_1;
        uVar8 = param_1[1];
        local_844 = uVar5 << 0x18 | (uVar5 >> 8 & 0xff) << 0x10 |
                    (uVar5 >> 0x10 & 0xff) << 8 | uVar5 >> 0x18;
        local_848 = uVar6 << 0x18 | (uVar6 >> 8 & 0xff) << 0x10 |
                    (uVar6 >> 0x10 & 0xff) << 8 | uVar6 >> 0x18;
        uVar5 = param_2[7];
        local_840 = uVar8 << 0x18 | (uVar8 >> 8 & 0xff) << 0x10 |
                    (uVar8 >> 0x10 & 0xff) << 8 | uVar8 >> 0x18;
        local_83c = uVar7 << 0x18 | (uVar7 >> 8 & 0xff) << 0x10 |
                    (uVar7 >> 0x10 & 0xff) << 8 | uVar7 >> 0x18;
        local_838 = uVar5 << 0x18 | (uVar5 >> 8 & 0xff) << 0x10 |
                    (uVar5 >> 0x10 & 0xff) << 8 | uVar5 >> 0x18;
        uVar5 = param_2[6];
        uVar7 = param_2[5];
        local_834 = uVar5 << 0x18 | (uVar5 >> 8 & 0xff) << 0x10 |
                    (uVar5 >> 0x10 & 0xff) << 8 | uVar5 >> 0x18;
        uVar5 = param_2[4];
        uVar6 = param_2[3];
        local_830 = uVar7 << 0x18 | (uVar7 >> 8 & 0xff) << 0x10 |
                    (uVar7 >> 0x10 & 0xff) << 8 | uVar7 >> 0x18;
        local_82c = uVar5 << 0x18 | (uVar5 >> 8 & 0xff) << 0x10 |
                    (uVar5 >> 0x10 & 0xff) << 8 | uVar5 >> 0x18;
        uVar7 = param_2[2];
        local_828 = uVar6 << 0x18 | (uVar6 >> 8 & 0xff) << 0x10 |
                    (uVar6 >> 0x10 & 0xff) << 8 | uVar6 >> 0x18;
        uVar5 = *param_2;
        uVar6 = param_2[1];
        local_824 = uVar7 << 0x18 | (uVar7 >> 8 & 0xff) << 0x10 |
                    (uVar7 >> 0x10 & 0xff) << 8 | uVar7 >> 0x18;
        uStack_81c = uVar5 << 0x18 | (uVar5 >> 8 & 0xff) << 0x10 |
                     (uVar5 >> 0x10 & 0xff) << 8 | uVar5 >> 0x18;
        local_820 = uVar6 << 0x18 | (uVar6 >> 8 & 0xff) << 0x10 |
                    (uVar6 >> 0x10 & 0xff) << 8 | uVar6 >> 0x18;
        __ptr = (void *)FUN_0004988c(&local_858, 0x20);
        __ptr_00 = (void *)FUN_0004988c(&local_838, 0x20);
        if ((DAT_001aecc5 != '\0') &&
            (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
              (6 < DAT_0009e320)))) {
            pcVar3 = "YES (hash <= target)";
            if (iVar4 == 0) {
                pcVar3 = "no (false positive; hash > target)";
            }
            snprintf(acStack_818, 0x800, " Proof: %s\nTarget: %s\nTrgVal? %s",
                     __ptr, __ptr_00, pcVar3);
            FUN_00047ab4(7, acStack_818, 0);
        }
        free(__ptr);
        free(__ptr_00);
        return iVar4;
    }
    return iVar4;
}

int FUN_00049f68(void)

{
    int iVar1;

    iVar1 = FUN_000496ac(1, 0x58, "util.c", "tq_new", 0x435);
    *(int *)iVar1 = iVar1;
    *(int *)(iVar1 + 4) = iVar1;
    pthread_mutex_init((pthread_mutex_t *)(iVar1 + 0xc),
                       (pthread_mutexattr_t *)0x0);
    pthread_cond_init((pthread_cond_t *)(iVar1 + 0x28),
                      (pthread_condattr_t *)0x0);
    return iVar1;
}

void FUN_00049fc4(int *param_1)

{
    int *piVar1;
    int *piVar2;
    int *piVar3;

    if (param_1 != (int *)0x0) {
        piVar3 = (int *)*(int *)*param_1;
        piVar2 = (int *)*param_1;
        while (piVar1 = piVar3, param_1 != piVar2) {
            piVar3 = (int *)piVar2[1];
            piVar1[1] = (int)piVar3;
            *piVar3 = (int)piVar1;
            free(piVar2 + -1);
            piVar3 = (int *)*piVar1;
            piVar2 = piVar1;
        }
        pthread_cond_destroy((pthread_cond_t *)(param_1 + 10));
        pthread_mutex_destroy((pthread_mutex_t *)(param_1 + 3));
        free(param_1);
        return;
    }
    return;
}

void FUN_0004a02c(int param_1)

{
    int iVar1;

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0xc));
    if (iVar1 != 0) {
        FUN_000494cc("tq_freezethaw", 0x454);
    }
    *(undefined1 *)(param_1 + 8) = 1;
    pthread_cond_signal((pthread_cond_t *)(param_1 + 0x28));
    FUN_00049450((pthread_mutex_t *)(param_1 + 0xc), "tq_freezethaw", 0x457);
    (*DAT_0009e444)();
    return;
}

bool FUN_0004a03c(int param_1, undefined4 param_2)

{
    undefined4 *__ptr;
    int iVar1;
    undefined4 *puVar2;
    undefined4 *puVar3;
    bool bVar4;

    __ptr = (undefined4 *)FUN_000496ac(1, 0xc, "util.c", "tq_push", 0x469);
    puVar3 = __ptr + 1;
    *__ptr = param_2;
    __ptr[1] = puVar3;
    __ptr[2] = puVar3;
    iVar1 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0xc));
    if (iVar1 != 0) {
        FUN_000494cc("tq_push", 0x46d);
    }
    bVar4 = *(char *)(param_1 + 8) != '\0';
    if (bVar4) {
        free(__ptr);
    } else {
        puVar2 = *(undefined4 **)(param_1 + 4);
        *(undefined4 **)(param_1 + 4) = puVar3;
        __ptr[1] = param_1;
        __ptr[2] = puVar2;
        *puVar2 = puVar3;
    }
    pthread_cond_signal((pthread_cond_t *)(param_1 + 0x28));
    FUN_00049450((pthread_mutex_t *)(param_1 + 0xc), "tq_push", 0x47a);
    (*DAT_0009e444)();
    return !bVar4;
}

int FUN_0004a110(int *param_1, timespec *param_2)

{
    int iVar1;
    int iVar2;
    int *piVar3;
    int *piVar4;
    pthread_mutex_t *__mutex;

    __mutex = (pthread_mutex_t *)(param_1 + 3);
    iVar1 = pthread_mutex_lock(__mutex);
    if (iVar1 != 0) {
        FUN_000494cc("tq_pop", 0x486);
    }
    piVar4 = (int *)*param_1;
    piVar3 = piVar4;
    if (param_1 == piVar4) {
        if (param_2 == (timespec *)0x0) {
            iVar1 =
                pthread_cond_wait((pthread_cond_t *)(param_1 + 10), __mutex);
        } else {
            iVar1 = pthread_cond_timedwait((pthread_cond_t *)(param_1 + 10),
                                           __mutex, param_2);
        }
        if (iVar1 != 0) {
            iVar1 = 0;
            goto LAB_0004a164;
        }
        piVar3 = (int *)*param_1;
        if (piVar4 == piVar3) {
            iVar1 = 0;
            goto LAB_0004a164;
        }
    }
    piVar4 = (int *)piVar3[1];
    iVar2 = *piVar3;
    iVar1 = piVar3[-1];
    *(int **)(iVar2 + 4) = piVar4;
    *piVar4 = iVar2;
    *piVar3 = 0;
    piVar3[1] = 0;
    free(piVar3 + -1);
LAB_0004a164:
    FUN_00049450(__mutex, "tq_pop", 0x4a0);
    (*DAT_0009e444)();
    return iVar1;
}

void FUN_0004a1f0(int param_1)

{
    if (param_1 != 0) {
        if (*(pthread_t *)(param_1 + 0xc) != 0) {
            pthread_cancel(*(pthread_t *)(param_1 + 0xc));
            *(undefined4 *)(param_1 + 0xc) = 0;
        }
        sem_destroy((sem_t *)(param_1 + 0x10));
        return;
    }
    return;
}

void FUN_0004a22c(int *param_1, int *param_2)

{
    int iVar1;
    int iVar2;
    int iVar3;

    iVar2 = *param_2;
    iVar1 = *param_1;
    *param_2 = iVar1 - iVar2;
    iVar3 = param_1[1] - param_2[1];
    param_2[1] = iVar3;
    if (iVar3 < 0) {
        *param_2 = (iVar1 - iVar2) + -1;
        param_2[1] = (int)(&DAT_000f4240 + iVar3);
    }
    return;
}

void FUN_0004a260(int *param_1, int *param_2)

{
    int iVar1;
    int iVar2;
    int iVar3;

    iVar1 = *param_1;
    iVar2 = *param_2;
    *param_2 = iVar1 + iVar2;
    iVar3 = param_1[1] + param_2[1];
    param_2[1] = iVar3;
    if (999999 < iVar3) {
        *param_2 = iVar1 + iVar2 + 1;
        param_2[1] = iVar3 + -1000000;
    }
    return;
}

bool FUN_0004a2a4(int *param_1, int *param_2)

{
    if (*param_1 != *param_2) {
        return *param_2 < *param_1;
    }
    return param_2[1] < param_1[1];
}

bool FUN_0004a2d8(int *param_1, int *param_2)

{
    if (*param_1 == *param_2) {
        return param_1[1] < param_2[1];
    }
    return *param_1 < *param_2;
}

void FUN_0004a358(undefined4 *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    lldiv_t local_20;

    lldiv(&local_20, CONCAT44(param_4, param_3), 1000000);
    *param_1 = (undefined4)local_20.quot;
    param_1[1] = (undefined4)local_20.rem;
    return;
}

void FUN_0004a390(undefined4 *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    lldiv_t local_20;

    lldiv(&local_20, CONCAT44(param_4, param_3), 1000000);
    *param_1 = (undefined4)local_20.quot;
    param_1[1] = (int)local_20.rem * 1000;
    return;
}

void FUN_0004a3d0(undefined4 *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    lldiv_t local_20;

    lldiv(&local_20, CONCAT44(param_4, param_3), 1000);
    *param_1 = (undefined4)local_20.quot;
    param_1[1] = (int)local_20.rem * 1000000;
    return;
}

void FUN_0004a410(undefined4 *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    lldiv_t local_20;

    lldiv(&local_20, CONCAT44(param_4, param_3), 1000);
    *param_1 = (undefined4)local_20.quot;
    param_1[1] = (int)local_20.rem * 1000;
    return;
}

char *FUN_0004a5c4(undefined4 *param_1, char *param_2)

{
    char *pcVar1;
    char *__s;

    __s = (char *)*param_1;
    if ((__s != (char *)0x0) &&
        (pcVar1 = strpbrk(__s, param_2), pcVar1 != (char *)0x0)) {
        *pcVar1 = '\0';
        *param_1 = pcVar1 + 1;
        return __s;
    }
    *param_1 = 0;
    return __s;
}

void FUN_0004a60c(timeval *param_1)

{
    gettimeofday(param_1, (__timezone_ptr_t)0x0);
    return;
}

void FUN_0004a68c(int *param_1, int param_2)

{
    int iVar1;
    int iVar2;
    bool bVar3;
    bool bVar4;
    timespec local_10;

    FUN_0004a3d0(&local_10, param_2, param_2, param_2 >> 0x1f);
    iVar2 = local_10.tv_nsec + param_1[1];
    iVar1 = local_10.tv_sec + *param_1;
    local_10.tv_nsec = iVar2;
    local_10.tv_sec = iVar1;
    if (iVar2 < 1000000000) {
        for (; local_10.tv_nsec < 0;
             local_10.tv_nsec = local_10.tv_nsec + 1000000000) {
            local_10.tv_sec = local_10.tv_sec + -1;
        }
    } else {
        local_10.tv_sec = iVar1 + 1;
        local_10.tv_nsec = iVar2 + -1000000000;
        bVar4 = SBORROW4(local_10.tv_nsec, 999999999);
        bVar3 = local_10.tv_nsec != 999999999;
        if (999999999 < local_10.tv_nsec) {
            local_10.tv_sec = iVar1 + 2;
            local_10.tv_nsec = -2000000000;
        }
        if (bVar3 && iVar2 + -1999999999 < 0 == bVar4) {
            local_10.tv_nsec = iVar2 + local_10.tv_nsec;
        }
    }
    do {
        iVar1 = clock_nanosleep(1, 1, &local_10, (timespec *)0x0);
    } while (iVar1 == 4);
    return;
}

void FUN_0004a74c(int *param_1)

{
    int iVar1;
    int iVar2;
    bool bVar3;
    bool bVar4;
    timespec local_10;

    FUN_0004a390(&local_10);
    iVar2 = local_10.tv_nsec + param_1[1];
    iVar1 = local_10.tv_sec + *param_1;
    local_10.tv_nsec = iVar2;
    local_10.tv_sec = iVar1;
    if (iVar2 < 1000000000) {
        for (; local_10.tv_nsec < 0;
             local_10.tv_nsec = local_10.tv_nsec + 1000000000) {
            local_10.tv_sec = local_10.tv_sec + -1;
        }
    } else {
        local_10.tv_sec = iVar1 + 1;
        local_10.tv_nsec = iVar2 + -1000000000;
        bVar4 = SBORROW4(local_10.tv_nsec, 999999999);
        bVar3 = local_10.tv_nsec != 999999999;
        if (999999999 < local_10.tv_nsec) {
            local_10.tv_sec = iVar1 + 2;
            local_10.tv_nsec = -2000000000;
        }
        if (bVar3 && iVar2 + -1999999999 < 0 == bVar4) {
            local_10.tv_nsec = iVar2 + local_10.tv_nsec;
        }
    }
    do {
        iVar1 = clock_nanosleep(1, 1, &local_10, (timespec *)0x0);
    } while (iVar1 == 4);
    return;
}

void FUN_0004a804(undefined4 param_1)

{
    timespec tStack_10;

    clock_gettime(1, &tStack_10);
    FUN_0004a68c(&tStack_10, param_1);
    return;
}

void FUN_0004a830(void)

{
    timespec tStack_18;

    clock_gettime(1, &tStack_18);
    FUN_0004a74c(&tStack_18);
    return;
}

undefined4 FUN_0004a8fc(int *param_1, int *param_2)

{
    return SUB84((double)(longlong)(param_1[1] - param_2[1]) / 1000000.0 +
                     (double)(longlong)(*param_1 - *param_2),
                 0);
}

undefined4 FUN_0004a940(char *param_1, undefined4 *param_2, undefined4 *param_3)

{
    char *pcVar1;
    char *pcVar2;
    uint uVar3;
    undefined4 uVar4;
    char *pcVar5;
    uint uVar6;
    int iVar7;
    undefined2 local_128;
    undefined1 local_126;
    char acStack_120[260];

    *param_2 = param_1;
    pcVar1 = strstr(param_1, "//");
    if (pcVar1 != (char *)0x0) {
        param_1 = pcVar1 + 2;
    }
    pcVar2 = strchr(param_1, 0x5b);
    pcVar1 = strchr(param_1, 0x5d);
    pcVar5 = pcVar1;
    if (pcVar1 != (char *)0x0) {
        pcVar5 = (char *)0x1;
    }
    if (pcVar2 == (char *)0x0) {
        pcVar5 = (char *)0x0;
    }
    if (pcVar2 < pcVar1) {
        uVar6 = (uint)pcVar5 & 1;
    } else {
        uVar6 = 0;
    }
    if (uVar6 == 0) {
        pcVar1 = param_1;
    }
    pcVar1 = strchr(pcVar1, 0x3a);
    uVar3 = strlen(param_1);
    if (pcVar1 == (char *)0x0) {
        pcVar5 = (char *)0x0;
        iVar7 = 0;
    } else {
        iVar7 = ~((int)pcVar1 - (int)param_1) + uVar3;
        if (iVar7 < 1) {
            return 0;
        }
        pcVar5 = pcVar1 + 1;
        uVar3 = (int)pcVar1 - (int)param_1;
    }
    if ((int)uVar3 < 1) {
        return 0;
    }
    if (uVar6 != 0) {
        param_1 = param_1 + 1;
        uVar3 = uVar3 - 2;
    }
    snprintf(acStack_120, 0xfe, "%.*s", uVar3, param_1);
    if (iVar7 == 0) {
        local_128 = 0x3038;
        local_126 = 0;
    } else {
        snprintf((char *)&local_128, 6, "%.*s", iVar7, pcVar5);
        pcVar1 = strpbrk((char *)&local_128, "/#");
        if (pcVar1 != (char *)0x0) {
            *pcVar1 = '\0';
        }
    }
    uVar4 = __strdup(&local_128);
    *param_3 = uVar4;
    uVar4 = __strdup(acStack_120);
    *param_2 = uVar4;
    return 1;
}

char *FUN_0004aab4(char *param_1, int param_2)

{
    int iVar1;
    char *__dest;
    char *__src;
    char *pcVar2;
    int iVar3;
    size_t __n;

    iVar3 = 0;
    pcVar2 = "http:";
    __n = 5;
    *(undefined4 *)(param_2 + 0xb8) = 0;
    while (true) {
        iVar1 = strncmp(param_1, pcVar2, __n);
        if (iVar1 == 0) {
            pcVar2 = strchr(param_1, 0x7c);
            if (pcVar2 != (char *)0x0) {
                *pcVar2 = '\0';
                __dest =
                    (char *)FUN_00049624(pcVar2 + ((1 - __n) - (int)param_1),
                                         "util.c", "get_proxy", 0x2ee);
                __src = param_1 + __n;
                *(char **)(param_2 + 0xb8) = __dest;
                param_1 = pcVar2 + 1;
                strcpy(__dest, __src);
                FUN_0004a940(*(undefined4 *)(param_2 + 0xb8), param_2 + 0x25c,
                             param_2 + 0x260);
                *(undefined4 *)(param_2 + 0xb4) = (&DAT_00081d78)[iVar3 * 2];
            }
            return param_1;
        }
        iVar3 = iVar3 + 1;
        pcVar2 = *(char **)(&UNK_00081d74 + iVar3 * 8);
        if (pcVar2 == (char *)0x0)
            break;
        __n = strlen(pcVar2);
    }
    return param_1;
}

undefined4 FUN_0004ab90(int param_1)

{
    undefined4 uVar1;

    if (**(char **)(param_1 + 0x250) != '\0') {
        return 1;
    }
    uVar1 = FUN_00049090(*(undefined4 *)(param_1 + 0x24c));
    return uVar1;
}

undefined1 FUN_0004ac60(undefined4 *param_1, undefined4 param_2)

{
    bool bVar1;
    int iVar2;
    int *piVar3;
    int *piVar4;
    char *__s1;
    undefined4 uVar5;
    size_t sVar6;
    int iVar7;
    undefined1 uVar8;
    undefined4 local_924[23];
    undefined1 auStack_8c8[160];
    char acStack_828[2052];

    iVar2 = FUN_0006d110(param_2, 0, local_924);
    if (iVar2 == 0) {
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 6)) {
            return 0;
        }
        snprintf(acStack_828, 0x800, "JSON decode failed(%d): %s", local_924[0],
                 auStack_8c8);
        FUN_00047ab4(6, acStack_828, 0);
        return 0;
    }
    piVar3 = (int *)FUN_0006dfcc(iVar2, "result");
    piVar4 = (int *)FUN_0006dfcc(iVar2, "error");
    if (((piVar3 != (int *)0x0) && (*piVar3 != 7)) &&
        ((piVar4 == (int *)0x0 || (*piVar4 == 7)))) {
        FUN_0006e048(piVar3);
        __s1 = (char *)FUN_0006e0c8();
        if (__s1 != (char *)0x0) {
            uVar8 = 0;
            do {
                FUN_0006e138(__s1);
                piVar4 = (int *)FUN_0006e0d4();
                if (piVar4 == (int *)0x0)
                    break;
                iVar7 = strcasecmp(__s1, "version-rolling");
                if ((iVar7 == 0) && (sVar6 = strlen(__s1), sVar6 == 0xf)) {
                    if (*piVar4 != 5) {
                        if (((DAT_00244080 != '\0') ||
                             (DAT_001aecc4 != '\0')) ||
                            (4 < DAT_0009e320)) {
                            snprintf(acStack_828, 0x800,
                                     "Pool %d don\'t support ab!", *param_1);
                            FUN_00047ab4(5, acStack_828, 0);
                        }
                        uVar8 = 1;
                        *(undefined1 *)(param_1 + 0xa1) = 0;
                        param_1[0xa2] = 1;
                        break;
                    }
                    if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                        (4 < DAT_0009e320)) {
                        snprintf(acStack_828, 0x800, "POOL %d support ab mode!",
                                 *param_1);
                        FUN_00047ab4(5, acStack_828, 0);
                    }
                } else {
                    iVar7 = strcasecmp(__s1, "version-rolling.mask");
                    if ((iVar7 == 0) && (sVar6 = strlen(__s1), sVar6 == 0x14)) {
                        uVar8 = 1;
                        uVar5 = FUN_0006e350(piVar4);
                        FUN_00049ae4(param_1, uVar5);
                    } else if (((DAT_00244080 != '\0') ||
                                (DAT_001aecc4 != '\0')) ||
                               (2 < DAT_0009e320)) {
                        snprintf(
                            acStack_828, 0x800,
                            "JSON-RPC unexpected mining.configure value: %s",
                            __s1);
                        FUN_00047ab4(3, acStack_828, 0);
                    }
                }
                uVar5 = FUN_0006e138(__s1);
                FUN_0006e094(piVar3, uVar5);
                __s1 = (char *)FUN_0006e0c8();
            } while (__s1 != (char *)0x0);
            goto LAB_0004acd4;
        }
    }
    uVar8 = 0;
LAB_0004acd4:
    if (*(int *)(iVar2 + 4) != -1) {
        piVar3 = (int *)(iVar2 + 4);
        DataMemoryBarrier(0xb);
        do {
            iVar7 = *piVar3;
            bVar1 = (bool)hasExclusiveAccess(piVar3);
        } while (!bVar1);
        *piVar3 = iVar7 + -1;
        if (iVar7 + -1 == 0) {
            FUN_0006e5dc(iVar2);
        }
    }
    return uVar8;
}

void FUN_0004afa8(undefined4 *param_1)

{
    int iVar1;
    int *piVar2;
    char acStack_810[2052];

    if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
        (5 < DAT_0009e320)) {
        snprintf(acStack_810, 0x800, "Closing socket for stratum pool %d",
                 *param_1);
        FUN_00047ab4(6, acStack_810, 0);
    }
    iVar1 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0xb0));
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_810, 0x800,
                 "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar2,
                 "util.c", "suspend_stratum", 0xc3a);
        FUN_00047ab4(3, acStack_810, 1);
        FUN_00062ec0(1);
    }
    FUN_00049028(param_1);
    iVar1 = pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0xb0));
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_810, 0x800,
                 "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar2,
                 "util.c", "suspend_stratum", 0xc3c);
        FUN_00047ab4(3, acStack_810, 1);
        FUN_00062ec0(1);
    }
    (*DAT_0009e444)();
    return;
}

bool FUN_0004b10c(undefined4 *param_1, undefined4 param_2, undefined4 param_3)

{
    char cVar1;
    int iVar2;
    int *piVar3;
    int iVar4;
    pthread_mutex_t *__mutex;
    char local_818[28];
    undefined4 uStack_7fc;
    char local_7f8[16];
    undefined2 local_7e8;

    if (((DAT_00242f18 != '\0') && (DAT_001aecc5 != '\0')) &&
        ((DAT_00244080 != '\0' ||
          ((DAT_001aecc4 != '\0' || (6 < DAT_0009e320)))))) {
        snprintf(local_818, 0x800, "SEND: %s", param_2);
        FUN_00047ab4(7, local_818, 0);
    }
    __mutex = (pthread_mutex_t *)(param_1 + 0xb0);
    iVar2 = pthread_mutex_lock(__mutex);
    if (iVar2 != 0) {
        piVar3 = __errno_location();
        snprintf(local_818, 0x800,
                 "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar3,
                 "util.c", "stratum_send", 0x698);
        FUN_00047ab4(3, local_818, 1);
        FUN_00062ec0(1);
    }
    if (*(char *)((int)param_1 + 0x281) == '\0') {
        iVar2 = pthread_mutex_unlock(__mutex);
        if (iVar2 == 0) {
            (*DAT_0009e444)();
            goto LAB_0004b248;
        }
        iVar2 = 3;
    LAB_0004b180:
        piVar3 = __errno_location();
        snprintf(local_818, 0x800,
                 "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar3,
                 "util.c", "stratum_send", 0x69e);
        FUN_00047ab4(3, local_818, 1);
        FUN_00062ec0(1);
    } else {
        iVar2 = FUN_00048908(param_1, param_2, param_3);
        iVar4 = pthread_mutex_unlock(__mutex);
        if (iVar4 != 0)
            goto LAB_0004b180;
    }
    (*DAT_0009e444)();
    if (iVar2 == 2) {
        if ((DAT_001aecc5 != '\0') &&
            (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
              (6 < DAT_0009e320)))) {
            builtin_strncpy(local_818, "Failed to send in stratum_se", 0x1c);
            uStack_7fc = CONCAT13(uStack_7fc._3_1_, 0x646e);
            FUN_00047ab4(7, local_818, 0);
            FUN_0004afa8(param_1);
            return false;
        }
    } else {
        if (iVar2 == 3) {
        LAB_0004b248:
            cVar1 = DAT_001aecc5;
            if (DAT_001aecc5 != '\0') {
                if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                    (DAT_0009e320 < 7)) {
                    cVar1 = '\0';
                } else {
                    builtin_strncpy(local_818, "Stratum send failed due to n",
                                    0x1c);
                    uStack_7fc._0_1_ = 'o';
                    uStack_7fc._1_1_ = ' ';
                    uStack_7fc._2_1_ = 'p';
                    uStack_7fc._3_1_ = 'o';
                    builtin_strncpy(local_7f8, "ol stratum_activ", 0x10);
                    local_7e8 = 0x65;
                    FUN_00047ab4(7, local_818, 0);
                    cVar1 = '\0';
                }
            }
            return (bool)cVar1;
        }
        if (iVar2 != 1) {
            return iVar2 == 0;
        }
        if ((DAT_001aecc5 != '\0') &&
            (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
              (6 < DAT_0009e320)))) {
            snprintf(local_818, 0x800, "Write select failed on pool %d sock",
                     *param_1);
            FUN_00047ab4(7, local_818, 0);
        }
    }
    FUN_0004afa8(param_1);
    return false;
}

char *FUN_0004b4c0(int param_1)

{
    char cVar1;
    char *pcVar2;
    size_t sVar3;
    size_t sVar4;
    int iVar5;
    int *piVar6;
    ssize_t sVar7;
    int iVar8;
    uint uVar9;
    uint uVar10;
    uint uVar11;
    char *__s;
    int iVar12;
    timeval local_2838;
    timeval local_2830;
    char local_2828[32];
    ushort local_2808;
    undefined1 local_2806;
    char local_2028[40];
    undefined4 local_2000;
    char acStack_1ffc[8152];

    __s = *(char **)(param_1 + 0x250);
    pcVar2 = strchr(__s, 10);
    if (pcVar2 == (char *)0x0) {
        gettimeofday(&local_2838, (__timezone_ptr_t)0x0);
        iVar5 = FUN_00049090(*(undefined4 *)(param_1 + 0x24c), 0x3c);
        if (iVar5 == 0) {
            if ((DAT_001aecc5 != '\0') &&
                (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                  (6 < DAT_0009e320)))) {
                builtin_strncpy(local_2028,
                                "Timed out waiting for data on socket_ful",
                                0x28);
                local_2000._0_2_ = 0x6c;
                FUN_00047ab4(7, local_2028, 0);
            }
            goto LAB_0004b854;
        }
        while (true) {
            memset(local_2028, 0, 0x2000);
            sVar7 = recv(*(int *)(param_1 + 0x24c), local_2028, 0x1ffc, 0);
            if (sVar7 == 0)
                break;
            gettimeofday(&local_2830, (__timezone_ptr_t)0x0);
            iVar5 = (int)(longlong)((double)(longlong)(local_2830.tv_usec -
                                                       local_2838.tv_usec) /
                                        1000000.0 +
                                    (double)(longlong)(local_2830.tv_sec -
                                                       local_2838.tv_sec));
            if (sVar7 < 0) {
                piVar6 = __errno_location();
                if ((*piVar6 != 0xb) ||
                    (iVar8 = FUN_00049090(*(undefined4 *)(param_1 + 0x24c),
                                          0x3c - iVar5),
                     iVar8 == 0)) {
                    if ((DAT_001aecc5 != '\0') &&
                        (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                          (6 < DAT_0009e320)))) {
                        builtin_strncpy(local_2828,
                                        "Failed to recv sock in recv_line",
                                        0x20);
                        local_2808 = local_2808 & 0xff00;
                        FUN_00047ab4(7, local_2828, 0);
                    }
                    goto LAB_0004b8e8;
                }
            } else {
                sVar3 = strlen(local_2028);
                pcVar2 = *(char **)(param_1 + 0x250);
                sVar4 = strlen(pcVar2);
                uVar9 = sVar3 + sVar4 + 1;
                if (*(uint *)(param_1 + 0x254) <= uVar9) {
                    iVar12 = (uVar9 & 0xffffe000) + 0x2000;
                    iVar8 = FUN_0004973c(pcVar2, iVar12, "util.c",
                                         "recalloc_sock", 0x70b);
                    *(int *)(param_1 + 0x250) = iVar8;
                    memset((void *)(iVar8 + sVar4), 0, iVar12 - sVar4);
                    pcVar2 = *(char **)(param_1 + 0x250);
                    *(int *)(param_1 + 0x254) = iVar12;
                }
                strcat(pcVar2, local_2028);
            }
            __s = *(char **)(param_1 + 0x250);
            if ((0x3b < iVar5) ||
                (pcVar2 = strchr(__s, 10), pcVar2 != (char *)0x0))
                goto LAB_0004b4ec;
        }
        if ((DAT_001aecc5 != '\0') &&
            (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
              (6 < DAT_0009e320)))) {
            builtin_strncpy(local_2828, "Socket closed waiting in recv_li",
                            0x20);
            local_2808 = 0x656e;
            local_2806 = 0;
            FUN_00047ab4(7, local_2828, 0);
        }
    LAB_0004b8e8:
        FUN_0004afa8(param_1);
        __s = *(char **)(param_1 + 0x250);
    }
LAB_0004b4ec:
    sVar3 = strlen(__s);
    pcVar2 = strtok(__s, "\n");
    if (pcVar2 != (char *)0x0) {
        pcVar2 = (char *)__strdup();
        sVar4 = strlen(pcVar2);
        if ((int)(sVar4 + 1) < (int)sVar3) {
            memmove(*(void **)(param_1 + 0x250),
                    (void *)((int)*(void **)(param_1 + 0x250) + sVar4 + 1),
                    (sVar3 - sVar4) + 1);
        } else {
            **(undefined1 **)(param_1 + 0x250) = 0;
        }
        uVar9 = *(uint *)(param_1 + 0x208);
        uVar10 = *(uint *)(param_1 + 0x210);
        uVar11 = *(uint *)(param_1 + 0x218);
        *(uint *)(param_1 + 0x208) = uVar9 + 1;
        *(uint *)(param_1 + 0x210) = uVar10 + sVar4;
        *(uint *)(param_1 + 0x214) =
            *(int *)(param_1 + 0x214) + (uint)CARRY4(uVar10, sVar4);
        cVar1 = DAT_00242f18;
        *(uint *)(param_1 + 0x20c) =
            *(int *)(param_1 + 0x20c) + (uint)(0xfffffffe < uVar9);
        *(uint *)(param_1 + 0x218) = uVar11 + sVar4;
        *(uint *)(param_1 + 0x21c) =
            *(int *)(param_1 + 0x21c) + (uint)CARRY4(uVar11, sVar4);
        if (cVar1 == '\0') {
            return pcVar2;
        }
        if (DAT_001aecc5 == '\0') {
            return pcVar2;
        }
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 7)) {
            return pcVar2;
        }
        snprintf(local_2028, 0x800, "RECVD: %s", pcVar2);
        FUN_00047ab4(7, local_2028, 0);
        return pcVar2;
    }
    if ((DAT_001aecc5 != '\0') &&
        (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
          (6 < DAT_0009e320)))) {
        builtin_strncpy(local_2028, "Failed to parse a \\n terminated string i",
                        0x28);
        local_2000._0_1_ = 'n';
        local_2000._1_1_ = ' ';
        local_2000._2_1_ = 'r';
        local_2000._3_1_ = 'e';
        builtin_strncpy(acStack_1ffc, "cv_line", 8);
        FUN_00047ab4(7, local_2028, 0);
    }
LAB_0004b854:
    FUN_00049530(param_1);
    return (char *)0x0;
}

void FUN_0004ba2c(int param_1, undefined4 param_2)

{
    time_t tVar1;

    tVar1 = time((time_t *)0x0);
    *(undefined4 *)(param_1 + 0xf8) = param_2;
    *(time_t *)(param_1 + 0xf4) = tVar1;
    switch (param_2) {
    case 0:
        *(int *)(param_1 + 0xfc) = *(int *)(param_1 + 0xfc) + 1;
        return;
    case 1:
        *(int *)(param_1 + 0x100) = *(int *)(param_1 + 0x100) + 1;
        return;
    case 2:
        *(int *)(param_1 + 0x104) = *(int *)(param_1 + 0x104) + 1;
        return;
    case 3:
        *(int *)(param_1 + 0x108) = *(int *)(param_1 + 0x108) + 1;
        return;
    case 4:
        *(int *)(param_1 + 0x10c) = *(int *)(param_1 + 0x10c) + 1;
        return;
    case 5:
        *(int *)(param_1 + 0x110) = *(int *)(param_1 + 0x110) + 1;
        return;
    case 6:
        *(int *)(param_1 + 0x114) = *(int *)(param_1 + 0x114) + 1;
        return;
    case 7:
        *(int *)(param_1 + 0x118) = *(int *)(param_1 + 0x118) + 1;
        return;
    case 8:
        *(int *)(param_1 + 0x11c) = *(int *)(param_1 + 0x11c) + 1;
        return;
    case 9:
        *(int *)(param_1 + 0x120) = *(int *)(param_1 + 0x120) + 1;
    }
    return;
}

char *FUN_0004bb1c(char *param_1, char *param_2)

{
    size_t sVar1;
    char *pcVar2;
    uint uVar3;

    sVar1 = strlen(param_2);
    if (sVar1 != 0) {
        uVar3 = sVar1 + 1;
        if (param_1 == (char *)0x0) {
            if ((uVar3 & 3) != 0) {
                uVar3 = (uVar3 & 0xfffffffc) + 4;
            }
            pcVar2 =
                (char *)FUN_00049624(uVar3, "util.c", "realloc_strcat", 0xd2a);
            strcpy(pcVar2, param_2);
            return pcVar2;
        }
        sVar1 = strlen(param_1);
        uVar3 = sVar1 + uVar3;
        if ((uVar3 & 3) != 0) {
            uVar3 = (uVar3 & 0xfffffffc) + 4;
        }
        pcVar2 = (char *)FUN_00049624(uVar3, "util.c", "realloc_strcat", 0xd2a);
        sprintf(pcVar2, "%s%s", param_1, param_2);
        free(param_1);
        param_1 = pcVar2;
    }
    return param_1;
}

byte *FUN_0004bbf0(char *param_1)

{
    size_t sVar1;
    byte *pbVar2;
    undefined4 *puVar3;
    byte bVar4;
    byte *__s;
    byte *pbVar5;
    char acStack_818[2052];

    if (param_1 == (char *)0x0) {
        puVar3 = (undefined4 *)malloc(7);
        if (puVar3 == (undefined4 *)0x0) {
            snprintf(acStack_818, 0x800, "Failed to malloc null in %s %s():%d",
                     "util.c", "str_text", 0xd43);
            FUN_00047ab4(3, acStack_818, 1);
            FUN_00062ec0(1);
        } else {
            *puVar3 = 0x6c756e28;
            *(undefined2 *)(puVar3 + 1) = 0x296c;
            *(undefined1 *)((int)puVar3 + 6) = 0;
        }
    }
    sVar1 = strlen(param_1);
    pbVar2 = (byte *)FUN_00049624(sVar1 * 4 + 5, "util.c", "str_text", 0xd48);
    pbVar5 = (byte *)(param_1 + -1);
    __s = pbVar2;
    do {
        while (true) {
            pbVar5 = pbVar5 + 1;
            if (*pbVar5 - 0x20 < 0x5f)
                break;
            sprintf((char *)__s, "0x%02x");
            bVar4 = *pbVar5;
            __s = __s + 4;
            if (bVar4 == 0)
                goto LAB_0004bc80;
        }
        *__s = *pbVar5;
        __s = __s + 1;
        bVar4 = *pbVar5;
    } while (bVar4 != 0);
LAB_0004bc80:
    *__s = bVar4;
    return pbVar2;
}

void FUN_0004bd10(undefined4 param_1)

{
    char acStack_18[20];

    snprintf(acStack_18, 0x10, "cg@%s", param_1);
    prctl(0xf, acStack_18, 0, 0, 0);
    return;
}

void FUN_0004bd50(sem_t *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_818[2052];

    iVar1 = sem_init(param_1, 0, 0);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_818, 0x800,
                 "Failed to sem_init ret=%d errno=%d in %s %s():%d", iVar1,
                 *piVar2, param_2, param_3, param_4);
        FUN_00047ab4(3, acStack_818, 1);
        FUN_00062ec0(1);
    }
    return;
}

void FUN_0004bdcc(int param_1, pthread_attr_t *param_2,
                  __start_routine *param_3, void *param_4)

{
    FUN_0004bd50(param_1 + 0x10, "util.c", "thr_info_create", 0x4a7);
    pthread_create((pthread_t *)(param_1 + 0xc), param_2, param_3, param_4);
    return;
}

void FUN_0004be14(sem_t *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    int *piVar1;
    int iVar2;
    char acStack_818[2048];

    iVar2 = sem_post(param_1);
    if (iVar2 == 0) {
        return;
    }
    piVar1 = __errno_location();
    snprintf(acStack_818, 0x800,
             "Failed to sem_post errno=%d cgsem=0x%p in %s %s():%d", *piVar1,
             param_1, param_2, param_3, param_4);
    FUN_00047ab4(3, acStack_818, 1);
    FUN_00062ec0(1);
    return;
}

undefined4 FUN_0004be4c(int param_1)

{
    pthread_setcanceltype(1, (int *)0x0);
    (**(code **)(param_1 + 0x10))(*(undefined4 *)(param_1 + 0x14));
    FUN_0004be14(param_1, "util.c", "completion_thread", 0xe2a);
    return 0;
}

void FUN_0004be90(sem_t *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_818[2052];

    do {
        iVar1 = sem_wait(param_1);
        if (iVar1 == 0) {
            return;
        }
        piVar2 = __errno_location();
    } while (*piVar2 == 4);
    snprintf(acStack_818, 0x800,
             "Failed to sem_wait errno=%d cgsem=0x%p in %s %s():%d", *piVar2,
             param_1, param_2, param_3, param_4);
    FUN_00047ab4(3, acStack_818, 1);
    FUN_00062ec0(1);
    return;
}

undefined4 FUN_0004bf10(sem_t *param_1, int param_2, undefined4 param_3,
                        undefined4 param_4, undefined4 param_5)

{
    int *piVar1;
    int iVar2;
    int iVar3;
    timespec local_838;
    timeval local_830;
    char acStack_828[2052];

    gettimeofday(&local_830, (__timezone_ptr_t)0x0);
    FUN_0004a3d0(&local_838, local_830.tv_usec, param_2, param_2 >> 0x1f);
    do {
        iVar3 = local_830.tv_usec * 1000 + local_838.tv_nsec;
        iVar2 = local_830.tv_sec + local_838.tv_sec;
        local_838.tv_nsec = iVar3;
        local_838.tv_sec = iVar2;
        if (iVar3 < 1000000000) {
            for (; local_838.tv_nsec < 0;
                 local_838.tv_nsec = local_838.tv_nsec + 1000000000) {
                local_838.tv_sec = local_838.tv_sec + -1;
            }
        } else {
            local_838.tv_nsec = iVar3 + -1000000000;
            local_838.tv_sec = iVar2 + 1;
            if (999999999 < local_838.tv_nsec) {
                local_838.tv_nsec = iVar3 + -2000000000;
                local_838.tv_sec = iVar2 + 2;
            }
        }
        iVar2 = sem_timedwait(param_1, &local_838);
        if (iVar2 == 0) {
            return 0;
        }
        piVar1 = __errno_location();
        iVar2 = *piVar1;
        if (iVar2 == 0x6e) {
            return 0x6e;
        }
    } while (iVar2 == 4);
    snprintf(acStack_828, 0x800,
             "Failed to sem_timedwait errno=%d cgsem=0x%p in %s %s():%d", iVar2,
             param_1, param_3, param_4, param_5);
    FUN_00047ab4(3, acStack_828, 1);
    FUN_00062ec0(1);
    return 0;
}

void FUN_0004c04c(sem_t *param_1)

{
    int iVar1;
    int *piVar2;

    do {
        while (true) {
            iVar1 = sem_trywait(param_1);
            if (-1 < iVar1)
                break;
            piVar2 = __errno_location();
            if (*piVar2 != 4) {
                return;
            }
        }
    } while (iVar1 == 0);
    return;
}

bool FUN_0004c084(undefined4 param_1, undefined4 param_2, undefined4 param_3)

{
    void *__arg;
    int iVar1;
    pthread_t local_1c[2];

    __arg =
        (void *)FUN_00049624(0x18, "util.c", "cg_completion_timeout", 0xe35);
    FUN_0004bd50(__arg, "util.c", "cg_completion_timeout", 0xe36);
    *(undefined4 *)((int)__arg + 0x10) = param_1;
    *(undefined4 *)((int)__arg + 0x14) = param_2;
    pthread_create(local_1c, (pthread_attr_t *)0x0, FUN_0004be4c, __arg);
    iVar1 =
        FUN_0004bf10(__arg, param_3, "util.c", "cg_completion_timeout", 0xe3c);
    if (iVar1 != 0) {
        pthread_cancel(local_1c[0]);
        return iVar1 == 0;
    }
    pthread_join(local_1c[0], (void **)0x0);
    free(__arg);
    return true;
}

void FUN_0004c150(void *param_1, void *param_2, size_t param_3,
                  undefined4 param_4, undefined4 param_5, undefined4 param_6)

{
    char *__format;
    char acStack_810[2048];

    if ((int)(param_3 - 1) < 0) {
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 3)) {
            return;
        }
        __format = "ERR: Asked to memcpy %u bytes from %s %s():%d";
    } else if (param_1 == (void *)0x0) {
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 3)) {
            return;
        }
        __format = "ERR: Asked to memcpy %u bytes to NULL from %s %s():%d";
    } else {
        if (param_2 != (void *)0x0) {
            memcpy(param_1, param_2, param_3);
            return;
        }
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 3)) {
            return;
        }
        __format = "ERR: Asked to memcpy %u bytes from NULL from %s %s():%d";
    }
    snprintf(acStack_810, 0x800, __format, param_3, param_4, param_5, param_6);
    FUN_00047ab4(3, acStack_810, 0);
    return;
}

void FUN_0004c2c0(undefined1 *param_1)

{
    undefined4 local_24;
    undefined4 local_20;
    undefined4 local_1c;
    undefined4 local_18;
    undefined4 local_14;
    undefined4 local_10;
    undefined1 local_c;

    local_20 = 0;
    local_24 = 0;
    local_1c = 0;
    local_18 = 0;
    local_14 = 0;
    local_10 = 0;
    local_c = 0;
    FUN_00049c54(&local_24);
    *param_1 = 0x76;
    param_1[1] = 0xa9;
    param_1[2] = 0x14;
    FUN_0004c150(param_1 + 3, (int)&local_24 + 1, 0x14, "util.c",
                 "address_to_pubkeyhash", 0x3c6);
    param_1[0x17] = 0x88;
    param_1[0x18] = 0xac;
    return;
}

undefined1 *FUN_0004c34c(char *param_1, int *param_2)

{
    size_t sVar1;
    undefined1 *puVar2;

    sVar1 = strlen(param_1);
    puVar2 =
        (undefined1 *)FUN_00049624(sVar1 + 9, "util.c", "ser_string", 0x3e4);
    if (sVar1 < 0xfd) {
        *puVar2 = (char)sVar1;
        FUN_0004c150(puVar2 + 1, param_1, sVar1, "util.c", "ser_string", 1000);
        *param_2 = sVar1 + 1;
        return puVar2;
    }
    if (0xffff < sVar1) {
        *puVar2 = 0xfe;
        *(size_t *)(puVar2 + 1) = sVar1 << 0x18 | (sVar1 >> 8 & 0xff) << 0x10 |
                                  (sVar1 >> 0x10 & 0xff) << 8 | sVar1 >> 0x18;
        FUN_0004c150(puVar2 + 5, param_1, sVar1, "util.c", "ser_string", 0x3fb);
        *param_2 = sVar1 + 5;
        return puVar2;
    }
    *puVar2 = 0xfd;
    *(ushort *)(puVar2 + 1) =
        (ushort)((sVar1 & 0xff) << 8) | (ushort)(sVar1 >> 8) & 0xff;
    FUN_0004c150(puVar2 + 3, param_1, sVar1, "util.c", "ser_string", 0x3f1);
    *param_2 = sVar1 + 3;
    return puVar2;
}

void FUN_0004c460(undefined4 param_1, undefined4 param_2)

{
    FUN_0004c150(param_1, param_2, 8, "util.c", "copy_time", 0x4d4);
    return;
}

uint FUN_0004c494(undefined4 *param_1, undefined4 param_2)

{
    uint uVar1;
    int *piVar2;
    int iVar3;
    char *pcVar4;
    byte *pbVar5;
    size_t sVar6;
    undefined4 uVar7;
    int iVar8;
    undefined4 *puVar9;
    void *__ptr;
    byte *pbVar10;
    int iVar12;
    int iVar13;
    uint uVar14;
    uint uVar15;
    int iVar16;
    bool bVar17;
    char *local_980[5];
    undefined4 local_96c;
    undefined1 auStack_968[4];
    char *local_964;
    char *local_960;
    int local_95c;
    undefined4 *local_958;
    pthread_mutex_t *local_954;
    int local_950;
    char *local_94c;
    char *local_948;
    char *local_944;
    char *local_940;
    byte *local_93c;
    char *local_938;
    uint local_934;
    uint local_930;
    uint local_92c;
    undefined4 local_928;
    undefined4 local_924;
    undefined4 local_920;
    undefined4 local_91c;
    char *local_918;
    char *local_914;
    char acStack_90c[228];
    undefined4 local_828;
    undefined4 uStack_824;
    undefined4 uStack_820;
    undefined4 uStack_81c;
    undefined4 local_818;
    undefined4 uStack_814;
    undefined4 uStack_810;
    undefined4 uStack_80c;
    undefined4 local_808;
    undefined4 uStack_804;
    undefined4 uStack_800;
    undefined4 uStack_7fc;
    undefined4 local_7f8;
    undefined2 uStack_7f4;
    undefined1 local_7f2;
    byte *pbVar11;

    piVar2 = (int *)FUN_0006e1c4(param_2, 4);
    if ((piVar2 == (int *)0x0) || (*piVar2 != 1)) {
        return 0;
    }
    iVar3 = FUN_0006e1a8();
    if (iVar3 < 1) {
        uVar14 = 0;
    } else {
        iVar13 = 0;
        uVar14 = 0;
        do {
            memset(acStack_90c, 0, 0x20);
            pcVar4 = (char *)FUN_00049188(piVar2, iVar13);
            if (pcVar4 == (char *)0x0) {
                return uVar14;
            }
            uVar14 = FUN_00049940(acStack_90c, pcVar4, 0x20);
            if (uVar14 == 0) {
                if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                    (DAT_0009e320 < 3)) {
                LAB_0004c5d0:
                    if (DAT_0009e320 < 3)
                        goto LAB_0004c62c;
                } else {
                    local_980[0] = pcVar4;
                    snprintf((char *)&local_828, 0x800, "merkle %d: %s",
                             iVar13);
                    FUN_00047ab4(3, &local_828, 0);
                    if ((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0'))
                        goto LAB_0004c5d0;
                }
                FUN_00047ab4(3, &local_828, 0);
            LAB_0004c62c:
                free(pcVar4);
                return 0;
            }
            iVar13 = iVar13 + 1;
            free(pcVar4);
        } while (iVar3 != iVar13);
    }
    pbVar5 = (byte *)FUN_00049188(param_2, 0);
    local_91c = FUN_00049124(param_2, 1);
    local_914 = (char *)FUN_00049188(param_2, 2);
    local_918 = (char *)FUN_00049188(param_2, 3);
    local_920 = FUN_00049124(param_2, 5);
    local_924 = FUN_00049124(param_2, 6);
    local_928 = FUN_00049124(param_2, 7);
    iVar13 = FUN_0006e1c4(param_2, 8);
    if (iVar13 == 0) {
        uVar15 = 0;
    } else {
        piVar2 = (int *)FUN_0006e1c4(param_2, 8);
        uVar15 = (uint)(*piVar2 == 5);
    }
    local_92c = uVar15;
    if (pbVar5 == (byte *)0x0) {
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 3))
            goto LAB_0004c7bc;
        pcVar4 = "Null string passed to valid_ascii from in %s %s():%d";
    } else {
        sVar6 = strlen((char *)pbVar5);
        pbVar11 = pbVar5;
        if (sVar6 != 0) {
            do {
                pbVar10 = pbVar11 + 1;
                if (0x5e < *pbVar11 - 0x20) {
                    if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                        (DAT_0009e320 < 3))
                        goto LAB_0004c7bc;
                    local_980[0] = "util.c";
                    local_980[1] = "parse_notify";
                    local_980[2] = (char *)0x7b1;
                    snprintf((char *)&local_828, 0x800,
                             "Invalid char 0x%x passed to valid_ascii from in "
                             "%s %s():%d");
                    goto LAB_0004c7a8;
                }
                pbVar11 = pbVar10;
            } while ((int)pbVar10 - (int)pbVar5 < (int)sVar6);
            iVar13 = FUN_00049208(local_91c, "parse_notify", 0x7b1);
            if (((iVar13 == 0) ||
                 (iVar13 = FUN_00049208(local_914, "parse_notify", 0x7b1),
                  iVar13 == 0)) ||
                (((iVar13 = FUN_00049208(local_918, "parse_notify", 0x7b2),
                   iVar13 == 0 ||
                       ((iVar13 =
                             FUN_00049208(local_920, "parse_notify", 0x7b2),
                         iVar13 == 0 || (iVar13 = FUN_00049208(
                                             local_924, "parse_notify", 0x7b2),
                                         iVar13 == 0)))) ||
                  (iVar13 = FUN_00049208(local_928, "parse_notify", 0x7b3),
                   iVar13 == 0))))
                goto LAB_0004c7bc;
            local_954 = (pthread_mutex_t *)(param_1 + 0x35);
            iVar13 = pthread_mutex_lock(local_954);
            if (iVar13 != 0) {
                FUN_000494cc("parse_notify", 0x7bc);
            }
            local_958 = param_1 + 0x3b;
            FUN_00049358(local_958, "parse_notify", 0x7bc);
            local_940 = (char *)(param_1 + 0x1ac);
            free((void *)param_1[0xa8]);
            param_1[0xa8] = pbVar5;
            snprintf((char *)(param_1 + 0x1ac), 0x41, "%s", local_91c);
            sVar6 = strlen(local_914);
            local_930 = sVar6 >> 1;
            sVar6 = strlen(local_918);
            local_934 = sVar6 >> 1;
            local_944 = (char *)(param_1 + 0x1bd);
            snprintf(local_944, 9, "%s", local_920);
            local_948 = (char *)(param_1 + 0x1c0);
            snprintf(local_948, 9, "%s", local_924);
            local_94c = (char *)(param_1 + 0x1c3);
            iVar13 = 0;
            snprintf(local_94c, 9, "%s", local_928);
            *(char *)(param_1 + 0xaa) = (char)uVar15;
            if (0.0 < *(double *)(param_1 + 0x1c6)) {
                *(double *)(param_1 + 0x1c8) = *(double *)(param_1 + 0x1c6);
            }
            param_1[0x18a] = local_930 + param_1[0x187];
            local_950 = local_934 + param_1[0x9e] + local_930 + param_1[0x187];
            param_1[0x189] = local_950;
            for (; iVar13 < (int)param_1[0x1ab]; iVar13 = iVar13 + 1) {
                free(*(void **)(param_1[0xa9] + iVar13 * 4));
            }
            if (iVar3 == 0) {
                param_1[0x1ab] = 0;
                local_938 = &DAT_00242f18;
            LAB_0004caa8:
                uVar14 = param_1[0x5e];
                param_1[0x5e] = uVar14 + 1;
                param_1[0x5f] = param_1[0x5f] + (uint)(0xfffffffe < uVar14);
            LAB_0004cac0:
                if (local_92c != 0) {
                    param_1[0x9c] = 0;
                    param_1[0x9d] = 0;
                }
                local_980[3] = local_948;
                local_980[4] = "00000000";
                local_96c = DAT_0009eda4;
                local_980[2] = local_94c;
                local_980[1] = "00000000000000000000000000000000000000000000000"
                               "00000000000000000";
                local_980[0] = local_940;
                snprintf(acStack_90c, 0xe1, "%s%s%s%s%s%s%s", local_944);
                iVar3 = FUN_00049940(param_1 + 0x18b, acStack_90c, 0x70);
                if (iVar3 == 0) {
                    if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                        (2 < DAT_0009e320)) {
                        pcVar4 = "Failed to convert header to header_bin in "
                                 "parse_notify";
                        goto LAB_0004d284;
                    }
                LAB_0004d1e0:
                    uVar14 = 0;
                } else {
                    iVar3 = -(local_930 + 0xe & 0xfffffff8);
                    iVar13 = FUN_00049940(auStack_968 + iVar3, local_914);
                    if (iVar13 == 0) {
                        if (((DAT_00244080 == '\0') &&
                             (DAT_001aecc4 == '\0')) &&
                            (DAT_0009e320 < 3))
                            goto LAB_0004d1e0;
                        pcVar4 =
                            "Failed to convert cb1 to cb1_bin in parse_notify";
                        uVar14 = 0;
                    } else {
                        iVar13 = -(local_934 + 0xe & 0xfffffff8);
                        uVar14 = FUN_00049940(auStack_968 + iVar13 + iVar3,
                                              local_918);
                        if (uVar14 != 0) {
                            free((void *)param_1[0x188]);
                            *(undefined4 *)((int)local_980 + iVar13 + iVar3) =
                                0x80f;
                            uVar7 = FUN_000496ac(local_950, 1, "util.c",
                                                 "parse_notify");
                            param_1[0x188] = uVar7;
                            *(undefined4 *)((int)local_980 + iVar13 + iVar3 +
                                            4) = 0x810;
                            *(char **)((int)local_980 + iVar13 + iVar3) =
                                "parse_notify";
                            FUN_0004c150(uVar7, auStack_968 + iVar3, local_930,
                                         "util.c");
                            iVar16 = param_1[0x187];
                            if (iVar16 != 0) {
                                iVar8 = param_1[0x188];
                                *(undefined4 *)((int)local_980 + iVar13 +
                                                iVar3 + 4) = 0x812;
                                uVar15 = local_930;
                                *(char **)((int)local_980 + iVar13 + iVar3) =
                                    "parse_notify";
                                FUN_0004c150(iVar8 + uVar15, param_1[0x9a],
                                             iVar16, "util.c");
                                iVar16 = param_1[0x187];
                            }
                            uVar1 = local_930;
                            uVar15 = local_934;
                            iVar12 = param_1[0x9e];
                            iVar8 = param_1[0x188];
                            *(char **)((int)local_980 + iVar13 + iVar3) =
                                "parse_notify";
                            *(undefined4 *)((int)local_980 + iVar13 + iVar3 +
                                            4) = 0x813;
                            FUN_0004c150(iVar8 + iVar16 + iVar12 + uVar1,
                                         auStack_968 + iVar13 + iVar3, uVar15,
                                         "util.c");
                            uVar15 = (uint)DAT_001aecc5;
                            if (uVar15 != 0) {
                                __ptr = (void *)FUN_0004988c(param_1[0x188],
                                                             param_1[0x189]);
                                if ((DAT_001aecc5 != 0) &&
                                    (((DAT_00244080 != '\0' ||
                                       (DAT_001aecc4 != '\0')) ||
                                      (6 < DAT_0009e320)))) {
                                    *(void **)((int)local_980 + iVar13 +
                                               iVar3) = __ptr;
                                    snprintf((char *)&local_828, 0x800,
                                             "Pool %d coinbase %s", *param_1);
                                    FUN_00047ab4(7, &local_828, 0);
                                }
                                free(__ptr);
                                uVar14 = uVar15;
                            }
                            goto LAB_0004cc78;
                        }
                        if (((DAT_00244080 == '\0') &&
                             (DAT_001aecc4 == '\0')) &&
                            (DAT_0009e320 < 3))
                            goto LAB_0004d1e0;
                        pcVar4 =
                            "Failed to convert cb2 to cb2_bin in parse_notify";
                    }
                    local_828 = *(undefined4 *)pcVar4;
                    uStack_824 = *(undefined4 *)(pcVar4 + 4);
                    uStack_820 = *(undefined4 *)(pcVar4 + 8);
                    uStack_81c = *(undefined4 *)(pcVar4 + 0xc);
                    local_818 = *(undefined4 *)(pcVar4 + 0x10);
                    uStack_814 = *(undefined4 *)(pcVar4 + 0x14);
                    uStack_810 = *(undefined4 *)(pcVar4 + 0x18);
                    uStack_80c = *(undefined4 *)(pcVar4 + 0x1c);
                    local_808 = *(undefined4 *)(pcVar4 + 0x20);
                    uStack_804 = *(undefined4 *)(pcVar4 + 0x24);
                    uStack_800 = *(undefined4 *)(pcVar4 + 0x28);
                    uStack_7fc = *(undefined4 *)(pcVar4 + 0x2c);
                    local_7f8 = CONCAT31(local_7f8._1_3_,
                                         (char)*(undefined4 *)(pcVar4 + 0x30));
                    FUN_00047ab4(3, &local_828, 0);
                }
            } else {
                local_980[0] = (char *)0x7d1;
                uVar7 = FUN_0004973c(param_1[0xa9], iVar3 * 4 + 1, "util.c",
                                     "parse_notify");
                local_960 = "util.c";
                iVar13 = 0;
                param_1[0xa9] = uVar7;
                local_938 = &DAT_00242f18;
                local_964 = (char *)&DAT_001aecc5;
                local_93c = pbVar5;
                do {
                    local_95c = iVar13 << 2;
                    if (iVar3 <= iVar13) {
                        param_1[0x1ab] = iVar3;
                        pbVar5 = local_93c;
                        if (1 < iVar3)
                            goto LAB_0004cac0;
                        goto LAB_0004caa8;
                    }
                    pcVar4 = (char *)FUN_00049188();
                    iVar16 = param_1[0xa9];
                    uVar7 =
                        FUN_00049624(0x20, local_960, "parse_notify", 0x7d6);
                    *(undefined4 *)(iVar16 + iVar13 * 4) = uVar7;
                    if (((*local_938 != '\0') && (*local_964 != '\0')) &&
                        ((DAT_00244080 != '\0' ||
                          ((DAT_001aecc4 != '\0' || (6 < DAT_0009e320)))))) {
                        local_980[0] = pcVar4;
                        snprintf((char *)&local_828, 0x800, "merkle %d: %s",
                                 iVar13);
                        FUN_00047ab4(7, &local_828, 0);
                    }
                    iVar13 = iVar13 + 1;
                    iVar16 =
                        FUN_00049940(*(undefined4 *)(param_1[0xa9] + local_95c),
                                     pcVar4, 0x20);
                    free(pcVar4);
                } while (iVar16 != 0);
                pbVar5 = local_93c;
                if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                    (DAT_0009e320 < 3))
                    goto LAB_0004d1e0;
                pcVar4 =
                    "Failed to convert merkle to merkle_bin in parse_notify";
            LAB_0004d284:
                uVar14 = 0;
                local_828 = *(undefined4 *)pcVar4;
                uStack_824 = *(undefined4 *)(pcVar4 + 4);
                uStack_820 = *(undefined4 *)(pcVar4 + 8);
                uStack_81c = *(undefined4 *)(pcVar4 + 0xc);
                local_818 = *(undefined4 *)(pcVar4 + 0x10);
                uStack_814 = *(undefined4 *)(pcVar4 + 0x14);
                uStack_810 = *(undefined4 *)(pcVar4 + 0x18);
                uStack_80c = *(undefined4 *)(pcVar4 + 0x1c);
                local_808 = *(undefined4 *)(pcVar4 + 0x20);
                uStack_804 = *(undefined4 *)(pcVar4 + 0x24);
                uStack_800 = *(undefined4 *)(pcVar4 + 0x28);
                uStack_7fc = *(undefined4 *)(pcVar4 + 0x2c);
                local_7f8 = *(undefined4 *)(pcVar4 + 0x30);
                uStack_7f4 = (undefined2) * (undefined4 *)(pcVar4 + 0x34);
                local_7f2 =
                    (undefined1)((uint) * (undefined4 *)(pcVar4 + 0x34) >>
                                 0x10);
                FUN_00047ab4(3, &local_828, 0);
            }
        LAB_0004cc78:
            FUN_000493d4(local_958, "parse_notify", 0x81c);
            FUN_00049450(local_954, "parse_notify", 0x81c);
            (*DAT_0009e444)();
            if (*local_938 == '\0')
                goto LAB_0004d068;
            if (DAT_001aecc5 == 0) {
            LAB_0004ce88:
                if (DAT_001aecc5 == 0)
                    goto LAB_0004d068;
                if (DAT_00244080 != '\0') {
                LAB_0004ced0:
                    snprintf((char *)&local_828, 0x800, "bbversion: %s",
                             local_920);
                    FUN_00047ab4(7, &local_828, 0);
                    goto LAB_0004cf00;
                }
            LAB_0004ceb0:
                if ((DAT_001aecc4 != '\0') || (6 < DAT_0009e320))
                    goto LAB_0004ced0;
            LAB_0004cf20:
                if ((DAT_001aecc4 != '\0') || (6 < DAT_0009e320)) {
                LAB_0004cf48:
                    snprintf((char *)&local_828, 0x800, "nbit: %s", local_924);
                    FUN_00047ab4(7, &local_828, 0);
                LAB_0004cf70:
                    if (DAT_001aecc5 == 0)
                        goto LAB_0004d068;
                    if (DAT_00244080 == '\0')
                        goto LAB_0004cf90;
                LAB_0004cfb8:
                    snprintf((char *)&local_828, 0x800, "ntime: %s", local_928);
                    FUN_00047ab4(7, &local_828, 0);
                    goto LAB_0004cfe0;
                }
            LAB_0004cf90:
                if ((DAT_001aecc4 != '\0') || (6 < DAT_0009e320))
                    goto LAB_0004cfb8;
            LAB_0004d000:
                if ((DAT_001aecc4 == '\0') && (DAT_0009e320 < 7))
                    goto LAB_0004d068;
            } else {
                if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                    (6 < DAT_0009e320)) {
                    snprintf((char *)&local_828, 0x800, "job_id: %s", pbVar5);
                    FUN_00047ab4(7, &local_828, 0);
                    if (DAT_001aecc5 != 0) {
                        if (DAT_00244080 == '\0')
                            goto LAB_0004cd58;
                        goto LAB_0004cd80;
                    }
                LAB_0004cf00:
                    if (DAT_001aecc5 == 0)
                        goto LAB_0004d068;
                    if (DAT_00244080 == '\0')
                        goto LAB_0004cf20;
                    goto LAB_0004cf48;
                }
            LAB_0004cd58:
                if ((DAT_001aecc4 != '\0') || (6 < DAT_0009e320)) {
                LAB_0004cd80:
                    snprintf((char *)&local_828, 0x800, "prev_hash: %s",
                             local_91c);
                    FUN_00047ab4(7, &local_828, 0);
                    if (DAT_001aecc5 != 0) {
                        if (DAT_00244080 == '\0')
                            goto LAB_0004cdc8;
                        goto LAB_0004cdf0;
                    }
                    goto LAB_0004cf70;
                }
            LAB_0004cdc8:
                if ((DAT_001aecc4 == '\0') && (DAT_0009e320 < 7)) {
                LAB_0004ce38:
                    if ((DAT_001aecc4 != '\0') || (6 < DAT_0009e320)) {
                    LAB_0004ce60:
                        snprintf((char *)&local_828, 0x800, "coinbase2: %s",
                                 local_918);
                        FUN_00047ab4(7, &local_828, 0);
                        goto LAB_0004ce88;
                    }
                    goto LAB_0004ceb0;
                }
            LAB_0004cdf0:
                snprintf((char *)&local_828, 0x800, "coinbase1: %s", local_914);
                FUN_00047ab4(7, &local_828, 0);
                if (DAT_001aecc5 != 0) {
                    if (DAT_00244080 == '\0')
                        goto LAB_0004ce38;
                    goto LAB_0004ce60;
                }
            LAB_0004cfe0:
                if (DAT_001aecc5 == 0)
                    goto LAB_0004d068;
                if (DAT_00244080 == '\0')
                    goto LAB_0004d000;
            }
            puVar9 = (undefined4 *)&DAT_00082be0;
            if (local_92c == 0) {
                puVar9 = &DAT_00080288;
            }
            snprintf((char *)&local_828, 0x800, "clean: %s", puVar9);
            FUN_00047ab4(7, &local_828, 0);
        LAB_0004d068:
            free(local_914);
            free(local_918);
            param_1[0x1d] = param_1[0x1d] + 1;
            bVar17 = 0xfffffffe < DAT_00245168;
            DAT_00245168 = DAT_00245168 + 1;
            DAT_0024516c = DAT_0024516c + (uint)bVar17;
            puVar9 = (undefined4 *)FUN_00058084();
            if (param_1 != puVar9) {
                return uVar14;
            }
            DAT_00246370 = 1;
            return uVar14;
        }
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 3))
            goto LAB_0004c7bc;
        pcVar4 = "Zero length string passed to valid_ascii from in %s %s():%d";
    }
    local_980[0] = "parse_notify";
    local_980[1] = (char *)0x7b1;
    snprintf((char *)&local_828, 0x800, pcVar4, "util.c");
LAB_0004c7a8:
    FUN_00047ab4(3, &local_828, 0);
LAB_0004c7bc:
    free(pbVar5);
    free(local_914);
    free(local_918);
    return uVar14;
}

undefined4 FUN_0004d498(int param_1, int param_2, int param_3)

{
    long lVar1;
    in_addr_t iVar2;
    ssize_t sVar3;
    size_t sVar4;
    int iVar5;
    uint uVar6;
    char *__s;
    addrinfo *local_a48;
    addrinfo aStack_a44;
    undefined2 local_a24;
    undefined1 local_a22;
    undefined1 local_a21;
    undefined4 local_a20;
    char acStack_a1c[508];
    addrinfo local_820[64];

    local_a24 = 0x104;
    lVar1 = strtol(*(char **)(param_1 + 0x248), (char **)0x0, 10);
    local_a21 = (undefined1)lVar1;
    local_a22 = (undefined1)((uint)lVar1 >> 8);
    builtin_strncpy(acStack_a1c, "CGMINER", 8);
    iVar2 = inet_addr(*(char **)(param_1 + 600));
    uVar6 = iVar2 << 0x18 | (iVar2 >> 8 & 0xff) << 0x10 |
            (iVar2 >> 0x10 & 0xff) << 8 | iVar2 >> 0x18;
    if (uVar6 == 0xffffffff) {
        local_a48 = &aStack_a44;
        memset(local_820, 0, 0x20);
        local_820[0].ai_family = 2;
        iVar5 = getaddrinfo(*(char **)(param_1 + 600), (char *)0x0, local_820,
                            &local_a48);
        if (iVar5 == 0) {
            uVar6 = *(uint *)(local_a48->ai_addr->sa_data + 2);
            freeaddrinfo(local_a48);
            uVar6 = uVar6 << 0x18 | (uVar6 >> 8 & 0xff) << 0x10 |
                    (uVar6 >> 0x10 & 0xff) << 8 | uVar6 >> 0x18;
            if (uVar6 == 0xffffffff)
                goto LAB_0004d6ec;
            goto LAB_0004d4fc;
        }
        if (param_3 == 0) {
        LAB_0004d6ec:
            if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                (DAT_0009e320 < 4)) {
                return 0;
            }
            snprintf((char *)local_820, 0x800,
                     "Invalid IP address specified for socks4 proxy: %s",
                     *(undefined4 *)(param_1 + 600));
            goto LAB_0004d5b0;
        }
        __s = *(char **)(param_1 + 600);
        local_a20 = 0x1000000;
        sVar4 = strlen(__s);
        if (0xfe < sVar4) {
            sVar4 = 0xff;
        }
        FUN_0004c150(acStack_a1c + 8, __s, sVar4, "util.c", "socks4_negotiate",
                     0xb52);
        acStack_a1c[sVar4 + 8] = '\0';
        send(param_2, &local_a24, sVar4 + 0x11, 0);
    } else {
    LAB_0004d4fc:
        local_a20._3_1_ = (undefined1)uVar6;
        local_a20._0_3_ =
            CONCAT12((char)(uVar6 >> 8),
                     CONCAT11((char)(uVar6 >> 0x10), (char)(uVar6 >> 0x18)));
        send(param_2, &local_a24, 0x10, 0);
    }
    sVar3 = recv(param_2, local_820, 1, 0);
    if (((sVar3 != -1) && ((char)local_820[0].ai_flags == '\0')) &&
        ((sVar3 = recv(param_2, local_820, 1, 0),
          sVar3 != -1 && ((char)local_820[0].ai_flags == 'Z')))) {
        iVar5 = 6;
        do {
            recv(param_2, local_820, 1, 0);
            iVar5 = iVar5 + -1;
        } while (iVar5 != 0);
        return 1;
    }
    if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
        (DAT_0009e320 < 4)) {
        return 0;
    }
    snprintf((char *)local_820, 0x800, "Bad response from %s:%s SOCKS4 server",
             *(undefined4 *)(param_1 + 0x25c),
             *(undefined4 *)(param_1 + 0x260));
LAB_0004d5b0:
    FUN_00047ab4(4, local_820, 0);
    return 0;
}

/* WARNING: Restarted to delay deadcode elimination for space: ram */

uint FUN_0004d754(undefined4 *param_1)

{
    bool bVar1;
    bool bVar2;
    int iVar3;
    undefined4 uVar4;
    uint uVar5;
    uint uVar6;
    int iVar7;
    size_t sVar8;
    ssize_t sVar9;
    long lVar10;
    void *__ptr;
    int *piVar11;
    char *pcVar12;
    int *piVar13;
    char *__s;
    int *piVar14;
    uint uVar15;
    undefined4 *puVar16;
    byte bVar17;
    addrinfo *paVar18;
    uint *puVar19;
    undefined4 uVar20;
    uint *local_2b8c;
    char *local_2b88;
    char *local_2b84;
    int local_2b74;
    int local_2b6c;
    addrinfo *local_2b5c;
    socklen_t local_2b58;
    int local_2b54;
    timeval local_2b50;
    addrinfo aStack_2b48;
    undefined4 local_2b28[23];
    undefined1 auStack_2acc[156];
    undefined4 uStack_2a30;
    fd_set local_2a2c[4];
    uint local_2828;
    char acStack_2824[12];
    uint local_2818;
    char acStack_2814[4];
    undefined4 local_2810;
    char acStack_280c[8];
    uint local_2804;
    char acStack_2800[4];
    undefined4 uStack_27fc;
    undefined2 uStack_27f8;
    undefined1 local_27f6;
    char acStack_2028[8196];

    local_2b74 = 0;
    bVar1 = false;
    do {
        iVar3 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0xb0));
        if (iVar3 != 0) {
            piVar14 = __errno_location();
            snprintf((char *)&local_2828, 0x800,
                     "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d",
                     *piVar14, "util.c", "setup_stratum_socket", 0xb81);
            FUN_00047ab4(3, &local_2828, 1);
            FUN_00062ec0(1);
        }
        *(undefined1 *)((int)param_1 + 0x281) = 0;
        if (param_1[0x93] != 0) {
            close(param_1[0x93]);
        }
        param_1[0x93] = 0;
        iVar3 = pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0xb0));
        if (iVar3 != 0) {
            piVar14 = __errno_location();
            snprintf((char *)&local_2828, 0x800,
                     "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d",
                     *piVar14, "util.c", "setup_stratum_socket", 0xb86);
            FUN_00047ab4(3, &local_2828, 1);
            FUN_00062ec0(1);
        }
        (*DAT_0009e444)();
        memset(&aStack_2b48, 0, 0x20);
        iVar3 = DAT_001b09f4;
        aStack_2b48.ai_socktype = 1;
        if (param_1[0x2e] == 0) {
            if (DAT_001b09f4 == 0) {
                local_2b84 = (char *)param_1[0x96];
            } else {
                param_1[0x2e] = DAT_001b09f4;
                FUN_0004a940(iVar3, param_1 + 0x97, param_1 + 0x98);
                param_1[0x2d] = 3;
                local_2b84 = (char *)param_1[0x96];
                if (param_1[0x2e] != 0)
                    goto LAB_0004d808;
            }
            local_2b88 = (char *)param_1[0x92];
        } else {
        LAB_0004d808:
            local_2b84 = (char *)param_1[0x97];
            local_2b88 = (char *)param_1[0x98];
        }
        iVar3 = getaddrinfo(local_2b84, local_2b88, &aStack_2b48, &local_2b5c);
        paVar18 = local_2b5c;
        if (iVar3 != 0) {
            if (*(char *)((int)param_1 + 99) == '\0') {
                if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                    (3 < DAT_0009e320)) {
                    snprintf((char *)&local_2828, 0x800,
                             "Failed to resolve (?wrong URL) %s:%s", local_2b84,
                             local_2b88);
                    FUN_00047ab4(4, &local_2828, 0);
                }
                *(undefined1 *)((int)param_1 + 99) = 1;
            } else {
                if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                    (DAT_0009e320 < 6)) {
                LAB_0004e140:
                    if (DAT_001aecc5 == 0)
                        goto LAB_0004d8cc;
                    bVar17 = 0;
                    goto LAB_0004e3f4;
                }
                snprintf((char *)&local_2828, 0x800,
                         "Failed to getaddrinfo for %s:%s", local_2b84,
                         local_2b88);
                FUN_00047ab4(6, &local_2828, 0);
            }
        LAB_0004d8c0:
            if (DAT_001aecc5 != 0) {
                bVar17 = 0;
            LAB_0004e3e0:
                if (DAT_00244080 == '\0') {
                LAB_0004e3f4:
                    if ((DAT_001aecc4 != '\0') || (6 < DAT_0009e320))
                        goto LAB_0004e400;
                } else {
                LAB_0004e400:
                    local_2828._0_1_ = 'I';
                    local_2828._1_1_ = 'n';
                    local_2828._2_1_ = 'i';
                    local_2828._3_1_ = 't';
                    builtin_strncpy(acStack_2824, "iate stratum", 0xc);
                    local_2818._0_1_ = ' ';
                    local_2818._1_1_ = 'f';
                    local_2818._2_1_ = 'a';
                    local_2818._3_1_ = 'i';
                    builtin_strncpy(acStack_2814, "led", 4);
                    FUN_00047ab4(7, &local_2828, 0);
                }
                if (bVar17 != 0) {
                LAB_0004e394:
                    FUN_0004afa8(param_1);
                }
            }
        LAB_0004d8cc:
            if (local_2b74 == 0) {
                uVar6 = 0;
            } else {
                uVar6 = 0;
            LAB_0004dc4c:
                if (*(int *)(local_2b74 + 4) != -1) {
                    piVar14 = (int *)(local_2b74 + 4);
                    DataMemoryBarrier(0xb);
                    do {
                        iVar3 = *piVar14;
                        bVar1 = (bool)hasExclusiveAccess(piVar14);
                    } while (!bVar1);
                    *piVar14 = iVar3 + -1;
                    if (iVar3 + -1 == 0) {
                        FUN_0006e5dc(local_2b74);
                        return uVar6;
                    }
                }
            }
            return uVar6;
        }
        while (true) {
            if (paVar18 == (addrinfo *)0x0) {
                if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                    (5 < DAT_0009e320)) {
                    snprintf((char *)&local_2828, 0x800,
                             "Failed to connect to stratum on %s:%s",
                             local_2b84, local_2b88);
                    FUN_00047ab4(6, &local_2828, 0);
                }
                freeaddrinfo(local_2b5c);
                goto LAB_0004d8c0;
            }
            uVar6 = socket(paVar18->ai_family, paVar18->ai_socktype,
                           paVar18->ai_protocol);
            if (uVar6 != 0xffffffff)
                break;
            if ((DAT_001aecc5 == 0) ||
                (((DAT_00244080 == '\0' && (DAT_001aecc4 == '\0')) &&
                  (DAT_0009e320 < 7)))) {
            LAB_0004dd88:
                paVar18 = paVar18->ai_next;
            } else {
                puVar19 = &local_2828;
                uVar6._0_1_ = 'F';
                uVar6._1_1_ = 'a';
                uVar6._2_1_ = 'i';
                uVar6._3_1_ = 'l';
                uVar5._0_1_ = 'e';
                uVar5._1_1_ = 'd';
                uVar5._2_1_ = ' ';
                uVar5._3_1_ = 's';
                uVar15._0_1_ = 'o';
                uVar15._1_1_ = 'c';
                uVar15._2_1_ = 'k';
                uVar15._3_1_ = 'e';
            LAB_0004de08:
                *puVar19 = uVar6;
                puVar19[1] = uVar5;
                puVar19[2] = uVar15;
                *(undefined2 *)(puVar19 + 3) = 0x74;
                FUN_00047ab4(7, &local_2828, 0);
                paVar18 = paVar18->ai_next;
            }
        }
        uVar5 = fcntl(uVar6, 3, 0);
        fcntl(uVar6, 4, uVar5 | 0x800);
        iVar3 = connect(uVar6, paVar18->ai_addr, paVar18->ai_addrlen);
        if (iVar3 == -1) {
            local_2b50.tv_usec = 0;
            local_2b50.tv_sec = 1;
            piVar14 = __errno_location();
            if (*piVar14 == 0x73) {
                uVar5 = uVar6 + 0x1f;
                if (-1 < (int)uVar6) {
                    uVar5 = uVar6;
                }
                uVar15 = uVar6 & 0x1f;
                if ((int)uVar6 < 1) {
                    uVar15 = -(-uVar6 & 0x1f);
                }
                iVar3 = (int)uVar5 >> 5;
                uVar5 = 1 << (uVar15 & 0xff);
                while (true) {
                    puVar16 = &uStack_2a30;
                    do {
                        puVar16 = puVar16 + 1;
                        *puVar16 = 0;
                    } while (local_2a2c[0].fds_bits + 0x1f != puVar16);
                    local_2a2c[0].fds_bits[iVar3] =
                        local_2a2c[0].fds_bits[iVar3] | uVar5;
                    iVar7 = select(uVar6 + 1, (fd_set *)0x0, local_2a2c,
                                   (fd_set *)0x0, &local_2b50);
                    if (0 < iVar7)
                        break;
                    if ((iVar7 == 0) || (*piVar14 != 4))
                        goto LAB_0004df30;
                }
                if ((uVar5 & local_2a2c[0].fds_bits[iVar3]) != 0) {
                    local_2b58 = 4;
                    iVar3 = getsockopt(uVar6, 1, 4, &local_2b54, &local_2b58);
                    if ((iVar3 == 0) && (local_2b54 == 0)) {
                        if ((DAT_001aecc5 != 0) && (((DAT_00244080 != '\0' ||
                                                      (DAT_001aecc4 != '\0')) ||
                                                     (6 < DAT_0009e320)))) {
                            local_2828._0_1_ = 'S';
                            local_2828._1_1_ = 'u';
                            local_2828._2_1_ = 'c';
                            local_2828._3_1_ = 'c';
                            builtin_strncpy(acStack_2824, "eeded delaye", 0xc);
                            local_2818._0_1_ = 'd';
                            local_2818._1_1_ = ' ';
                            local_2818._2_1_ = 'c';
                            local_2818._3_1_ = 'o';
                            builtin_strncpy(acStack_2814, "nnec", 4);
                            local_2810._0_2_ = 0x74;
                            FUN_00047ab4(7, &local_2828, 0);
                        }
                        goto LAB_0004e078;
                    }
                }
            LAB_0004df30:
                close(uVar6);
                if ((DAT_001aecc5 != 0) &&
                    (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                      (6 < DAT_0009e320)))) {
                    local_2828._0_1_ = 'S';
                    local_2828._1_1_ = 'e';
                    local_2828._2_1_ = 'l';
                    local_2828._3_1_ = 'e';
                    acStack_2824[0] = 'c';
                    acStack_2824[1] = 't';
                    acStack_2824[2] = ' ';
                    acStack_2824[3] = 't';
                    acStack_2824[4] = 'i';
                    acStack_2824[5] = 'm';
                    acStack_2824[6] = 'e';
                    acStack_2824[7] = 'o';
                    acStack_2824[8] = 'u';
                    acStack_2824[9] = 't';
                    acStack_2824[10] = '/';
                    acStack_2824[0xb] = 'f';
                    puVar19 = (uint *)(acStack_2824 + 0xc);
                    uVar6._0_1_ = 'a';
                    uVar6._1_1_ = 'i';
                    uVar6._2_1_ = 'l';
                    uVar6._3_1_ = 'e';
                    uVar5._0_1_ = 'd';
                    uVar5._1_1_ = ' ';
                    uVar5._2_1_ = 'c';
                    uVar5._3_1_ = 'o';
                    uVar15._0_1_ = 'n';
                    uVar15._1_1_ = 'n';
                    uVar15._2_1_ = 'e';
                    uVar15._3_1_ = 'c';
                    goto LAB_0004de08;
                }
            } else {
                close(uVar6);
                if ((DAT_001aecc5 != 0) &&
                    (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                      (6 < DAT_0009e320)))) {
                    local_2828._0_1_ = 'F';
                    local_2828._1_1_ = 'a';
                    local_2828._2_1_ = 'i';
                    local_2828._3_1_ = 'l';
                    builtin_strncpy(acStack_2824, "ed sock conn", 0xc);
                    local_2818._0_1_ = 'e';
                    local_2818._1_1_ = 'c';
                    local_2818._2_1_ = 't';
                    local_2818._3_1_ = '\0';
                    FUN_00047ab4(7, &local_2828, 0);
                }
            }
            goto LAB_0004dd88;
        }
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (3 < DAT_0009e320)) {
            local_2828._0_1_ = 'S';
            local_2828._1_1_ = 'u';
            local_2828._2_1_ = 'c';
            local_2828._3_1_ = 'c';
            builtin_strncpy(acStack_2824, "eeded immedi", 0xc);
            local_2818._0_1_ = 'a';
            local_2818._1_1_ = 't';
            local_2818._2_1_ = 'e';
            local_2818._3_1_ = ' ';
            builtin_strncpy(acStack_2814, "conn", 4);
            local_2810._0_1_ = 'e';
            local_2810._1_1_ = 'c';
            local_2810._2_1_ = 't';
            local_2810._3_1_ = '\0';
            FUN_00047ab4(4, &local_2828, 0);
        }
    LAB_0004e078:
        FUN_00049068(uVar6);
        freeaddrinfo(local_2b5c);
        if (param_1[0x2e] == 0)
            goto LAB_0004e22c;
        switch (param_1[0x2d]) {
        case 0:
            uVar4 = 0;
            break;
        case 1:
            uVar4 = 1;
            break;
        case 2:
            uVar4 = 0;
            goto LAB_0004e20c;
        case 3:
        case 5:
            uVar5 = (uint)local_2a2c[0].fds_bits[0] >> 0x10;
            local_2a2c[0].fds_bits[0] = CONCAT22((ushort)uVar5 & 0xff00, 0x105);
            if ((DAT_001aecc5 != 0) &&
                (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                  (6 < DAT_0009e320)))) {
                snprintf((char *)&local_2828, 0x800,
                         "Attempting to negotiate with %s:%s SOCKS5 proxy",
                         param_1[0x97], param_1[0x98]);
                FUN_00047ab4(7, &local_2828, 0);
            }
            local_2b8c = &local_2828;
            send(uVar6, local_2a2c, 3, 0);
            sVar9 = recv(uVar6, local_2b8c, 1, 0);
            if (((sVar9 == -1) || ((char)local_2828 != '\x05')) ||
                ((sVar9 = recv(uVar6, local_2b8c, 1, 0),
                  sVar9 == -1 || (((uint)local_2a2c[0].fds_bits[0] >> 0x10 &
                                   0xff) != (local_2828 & 0xff))))) {
                if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                    (DAT_0009e320 < 4))
                    goto LAB_0004e140;
                uVar4 = param_1[0x97];
                uVar20 = param_1[0x98];
            } else {
                pcVar12 = (char *)param_1[0x96];
                local_2a2c[0].fds_bits[0] = 0x3000105;
                sVar8 = strlen(pcVar12);
                if (0xfe < sVar8) {
                    sVar8 = 0xff;
                }
                local_2a2c[0].fds_bits[1]._0_1_ = (undefined1)sVar8;
                FUN_0004c150((undefined1 *)((int)local_2a2c[0].fds_bits + 5),
                             pcVar12, sVar8, "util.c", "socks5_negotiate",
                             0xaec);
                lVar10 = strtol((char *)param_1[0x92], (char **)0x0, 10);
                *(char *)((int)local_2a2c[0].fds_bits + sVar8 + 6) =
                    (char)lVar10;
                *(char *)((int)local_2a2c[0].fds_bits + sVar8 + 5) =
                    (char)((uint)lVar10 >> 8);
                send(uVar6, local_2a2c, sVar8 + 7, 0);
                sVar9 = recv(uVar6, local_2b8c, 1, 0);
                if ((((sVar9 != -1) && ((char)local_2828 == '\x05')) &&
                     (sVar9 = recv(uVar6, local_2b8c, 1, 0), sVar9 != -1)) &&
                    ((local_2828 & 0xff) == 0)) {
                    recv(uVar6, local_2b8c, 1, 0);
                    sVar9 = recv(uVar6, local_2b8c, 1, 0);
                    if (sVar9 != -1) {
                        if ((local_2828 & 0xff) == 1) {
                            iVar3 = 4;
                            do {
                                recv(uVar6, local_2b8c, 1, 0);
                                iVar3 = iVar3 + -1;
                            } while (iVar3 != 0);
                        } else {
                            if ((local_2828 & 0xff) != 3)
                                goto LAB_0004e830;
                            sVar9 = recv(uVar6, local_2b8c, 1, 0);
                            iVar3 = 0;
                            if (sVar9 == -1) {
                                uVar5 = 0xffffffff;
                            } else {
                                uVar5 = local_2828 & 0xff;
                            }
                            while (iVar3 < (int)uVar5) {
                                recv(uVar6, local_2b8c, 1, 0);
                                iVar3 = iVar3 + 1;
                            }
                        }
                        recv(uVar6, local_2b8c, 1, 0);
                        recv(uVar6, local_2b8c, 1, 0);
                        if ((DAT_001aecc5 != 0) && (((DAT_00244080 != '\0' ||
                                                      (DAT_001aecc4 != '\0')) ||
                                                     (6 < DAT_0009e320)))) {
                            snprintf(
                                (char *)local_2b8c, 0x800,
                                "Success negotiating with %s:%s SOCKS5 proxy",
                                param_1[0x97], param_1[0x98]);
                            FUN_00047ab4(7, local_2b8c, 0);
                        }
                        goto LAB_0004e22c;
                    }
                }
            LAB_0004e830:
                if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                    (DAT_0009e320 < 4))
                    goto LAB_0004d8c0;
                uVar20 = param_1[0x98];
                uVar4 = param_1[0x97];
            }
            snprintf((char *)local_2b8c, 0x800,
                     "Bad response from %s:%s SOCKS5 server", uVar4, uVar20);
            FUN_00047ab4(4, local_2b8c, 0);
            goto LAB_0004d8c0;
        case 4:
            uVar4 = 1;
        LAB_0004e20c:
            iVar3 = FUN_0004d498(param_1, uVar6, uVar4);
            goto joined_r0x0004e21c;
        default:
            if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                (3 < DAT_0009e320)) {
                snprintf((char *)&local_2828, 0x800,
                         "Unsupported proxy type for %s:%s", param_1[0x97],
                         param_1[0x98]);
                FUN_00047ab4(4, &local_2828, 0);
                goto LAB_0004d8c0;
            }
            goto LAB_0004e140;
        }
        iVar3 = FUN_00048b74(param_1, uVar6, uVar4);
    joined_r0x0004e21c:
        if (iVar3 == 0)
            goto LAB_0004d8c0;
    LAB_0004e22c:
        local_2b8c = &local_2828;
        if (param_1[0x94] == 0) {
            uVar4 = FUN_000496ac(0x2000, 1, "util.c", "setup_stratum_socket",
                                 0xc0f);
            param_1[0x94] = uVar4;
            param_1[0x95] = 0x2000;
        }
        param_1[0x93] = uVar6;
        local_2a2c[0].fds_bits[0] = 0x2d;
        local_2828 = 0x1e;
        local_2b50.tv_sec = 1;
        uVar5 = fcntl(uVar6, 3, 0);
        fcntl(uVar6, 4, uVar5 | 0x800);
        setsockopt(uVar6, 1, 9, &local_2b50, 4);
        if (DAT_00244081 == '\0') {
            fcntl(uVar6, 2, 1);
        }
        setsockopt(uVar6, 6, 1, &local_2b50, 4);
        setsockopt(uVar6, 6, 6, &local_2b50, 4);
        setsockopt(uVar6, 6, 4, local_2a2c, 4);
        setsockopt(uVar6, 6, 5, local_2b8c, 4);
        if (bVar1) {
            FUN_00049530(param_1);
            DAT_0024400c = DAT_0024400c + 1;
            sprintf(acStack_2028, "{\"id\": %d, \"method\": "
                                  "\"mining.subscribe\", \"params\": []}");
        } else {
            DAT_0024400c = DAT_0024400c + 1;
            if (param_1[0x9f] == 0) {
                sprintf(acStack_2028,
                        "{\"id\": %d, \"method\": \"mining.subscribe\", "
                        "\"params\": [\"miner_1397/1.0.0\"]}");
            } else {
                sprintf(acStack_2028,
                        "{\"id\": %d, \"method\": \"mining.subscribe\", "
                        "\"params\": [\"miner_1397/1.0.0\", \"%s\"]}");
            }
        }
        sVar8 = strlen(acStack_2028);
        iVar3 = FUN_00048908(param_1, acStack_2028, sVar8);
        if (iVar3 != 0) {
            if (DAT_001aecc5 == 0)
                goto LAB_0004e394;
            if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                (6 < DAT_0009e320)) {
                local_2828._0_1_ = 'F';
                local_2828._1_1_ = 'a';
                local_2828._2_1_ = 'i';
                local_2828._3_1_ = 'l';
                builtin_strncpy(acStack_2824, "ed to send s", 0xc);
                local_2818._0_1_ = ' ';
                local_2818._1_1_ = 'i';
                local_2818._2_1_ = 'n';
                local_2818._3_1_ = ' ';
                builtin_strncpy(acStack_2814, "init", 4);
                local_2810._0_1_ = 'i';
                local_2810._1_1_ = 'a';
                local_2810._2_1_ = 't';
                local_2810._3_1_ = 'e';
                builtin_strncpy(acStack_280c, "_stratum", 8);
                local_2804 = local_2804 & 0xffffff00;
                FUN_00047ab4(7, local_2b8c, 0);
                goto LAB_0004e474;
            }
        LAB_0004e3dc:
            bVar17 = 1;
            goto LAB_0004e3e0;
        }
        iVar3 = FUN_00049090(param_1[0x93], 0x3c);
        if (iVar3 == 0) {
            if (DAT_001aecc5 == 0)
                goto LAB_0004e394;
            if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                (DAT_0009e320 < 7))
                goto LAB_0004e3dc;
            local_2828._0_1_ = 'T';
            local_2828._1_1_ = 'i';
            local_2828._2_1_ = 'm';
            local_2828._3_1_ = 'e';
            builtin_strncpy(acStack_2824, "d out waitin", 0xc);
            local_2818._0_1_ = 'g';
            local_2818._1_1_ = ' ';
            local_2818._2_1_ = 'f';
            local_2818._3_1_ = 'o';
            builtin_strncpy(acStack_2814, "r re", 4);
            local_2810._0_1_ = 's';
            local_2810._1_1_ = 'p';
            local_2810._2_1_ = 'o';
            local_2810._3_1_ = 'n';
            builtin_strncpy(acStack_280c, "se in in", 8);
            local_2804._0_1_ = 'i';
            local_2804._1_1_ = 't';
            local_2804._2_1_ = 'i';
            local_2804._3_1_ = 'a';
            builtin_strncpy(acStack_2800, "te_s", 4);
            uStack_27fc._0_1_ = 't';
            uStack_27fc._1_1_ = 'r';
            uStack_27fc._2_1_ = 'a';
            uStack_27fc._3_1_ = 't';
            uStack_27f8 = 0x6d75;
            local_27f6 = 0;
            FUN_00047ab4(7, local_2b8c, 0);
        LAB_0004e474:
            bVar17 = DAT_001aecc5;
            if (DAT_001aecc5 != 0)
                goto LAB_0004e3e0;
            goto LAB_0004e394;
        }
        __ptr = (void *)FUN_0004b4c0(param_1);
        if (__ptr == (void *)0x0)
            goto LAB_0004e474;
        local_2b74 = FUN_0006d110(__ptr, 0, local_2b28);
        free(__ptr);
        if (local_2b74 == 0) {
            if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                (5 < DAT_0009e320)) {
                snprintf((char *)local_2b8c, 0x800,
                         "JSON decode failed(%d): %s", local_2b28[0],
                         auStack_2acc);
                FUN_00047ab4(6, local_2b8c, 0);
            }
            goto LAB_0004ea0c;
        }
        piVar14 = (int *)FUN_0006dfcc(local_2b74, "result");
        piVar11 = (int *)FUN_0006dfcc(local_2b74, "error");
        if ((piVar14 != (int *)0x0) && (*piVar14 != 7)) {
            if ((piVar11 != (int *)0x0) && (*piVar11 != 7)) {
            LAB_0004e984:
                pcVar12 = (char *)FUN_0006b6e8(piVar11, 3);
                goto LAB_0004e990;
            }
            piVar11 = (int *)FUN_0006e1c4(piVar14, 0);
            if (((piVar11 == (int *)0x0) || (*piVar11 != 1)) ||
                (iVar3 = FUN_0006e1a8(), iVar3 < 1)) {
            LAB_0004ee78:
                pcVar12 = (char *)(uint)DAT_001aecc5;
                if ((pcVar12 != (char *)0x0) &&
                    (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                      (pcVar12 = (char *)0x0, 6 < DAT_0009e320)))) {
                    pcVar12 = (char *)0x0;
                    local_2828._0_1_ = 'F';
                    local_2828._1_1_ = 'a';
                    local_2828._2_1_ = 'i';
                    local_2828._3_1_ = 'l';
                    builtin_strncpy(acStack_2824, "ed to get se", 0xc);
                    local_2818._0_1_ = 's';
                    local_2818._1_1_ = 's';
                    local_2818._2_1_ = 'i';
                    local_2818._3_1_ = 'o';
                    builtin_strncpy(acStack_2814, "nid ", 4);
                    local_2810._0_1_ = 'i';
                    local_2810._1_1_ = 'n';
                    local_2810._2_1_ = ' ';
                    local_2810._3_1_ = 'i';
                    builtin_strncpy(acStack_280c, "nitiate_", 8);
                    local_2804._0_1_ = 's';
                    local_2804._1_1_ = 't';
                    local_2804._2_1_ = 'r';
                    local_2804._3_1_ = 'a';
                    builtin_strncpy(acStack_2800, "tum", 4);
                    FUN_00047ab4(7, local_2b8c, 0);
                }
            } else {
                local_2b6c = 0;
                while (true) {
                    piVar13 = (int *)FUN_0006e1c4(piVar11, local_2b6c);
                    if ((piVar13 == (int *)0x0) || (*piVar13 != 1))
                        goto LAB_0004ee78;
                    pcVar12 = (char *)FUN_00049124(piVar13, 0);
                    if ((pcVar12 != (char *)0x0) &&
                        (iVar7 = strncasecmp(pcVar12, "mining.notify", 0xd),
                         iVar7 == 0))
                        break;
                    local_2b6c = local_2b6c + 1;
                    if (iVar3 == local_2b6c)
                        goto LAB_0004ee78;
                }
                pcVar12 = (char *)FUN_00049188(piVar13, 1);
                if (pcVar12 == (char *)0x0)
                    goto LAB_0004ee78;
            }
            __s = (char *)FUN_00049188(piVar14, 1);
            uVar6 = FUN_00049208(__s, "initiate_stratum", 0xc90);
            if (uVar6 == 0) {
                if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                    (5 < DAT_0009e320)) {
                    local_2828._0_1_ = 'F';
                    local_2828._1_1_ = 'a';
                    local_2828._2_1_ = 'i';
                    local_2828._3_1_ = 'l';
                    builtin_strncpy(acStack_2824, "ed to get va", 0xc);
                    local_2818._0_1_ = 'l';
                    local_2818._1_1_ = 'i';
                    local_2818._2_1_ = 'd';
                    local_2818._3_1_ = ' ';
                    builtin_strncpy(acStack_2814, "nonc", 4);
                    local_2810._0_1_ = 'e';
                    local_2810._1_1_ = '1';
                    local_2810._2_1_ = ' ';
                    local_2810._3_1_ = 'i';
                    builtin_strncpy(acStack_280c, "n initia", 8);
                    local_2804._0_1_ = 't';
                    local_2804._1_1_ = 'e';
                    local_2804._2_1_ = '_';
                    local_2804._3_1_ = 's';
                    builtin_strncpy(acStack_2800, "trat", 4);
                    uStack_27fc._0_3_ = 0x6d75;
                    FUN_00047ab4(6, local_2b8c, 0);
                }
                free(pcVar12);
                goto LAB_0004ea0c;
            }
            FUN_0006e1c4(piVar14, 2);
            iVar3 = FUN_0006e430();
            if (0xe < iVar3 - 2U) {
                if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                    (5 < DAT_0009e320)) {
                    local_2828._0_1_ = 'F';
                    local_2828._1_1_ = 'a';
                    local_2828._2_1_ = 'i';
                    local_2828._3_1_ = 'l';
                    builtin_strncpy(acStack_2824, "ed to get va", 0xc);
                    local_2818._0_1_ = 'l';
                    local_2818._1_1_ = 'i';
                    local_2818._2_1_ = 'd';
                    local_2818._3_1_ = ' ';
                    builtin_strncpy(acStack_2814, "n2si", 4);
                    local_2810._0_1_ = 'z';
                    local_2810._1_1_ = 'e';
                    local_2810._2_1_ = ' ';
                    local_2810._3_1_ = 'i';
                    builtin_strncpy(acStack_280c, "n initia", 8);
                    local_2804._0_1_ = 't';
                    local_2804._1_1_ = 'e';
                    local_2804._2_1_ = '_';
                    local_2804._3_1_ = 's';
                    builtin_strncpy(acStack_2800, "trat", 4);
                    uStack_27fc._0_3_ = 0x6d75;
                    FUN_00047ab4(6, local_2b8c, 0);
                }
                free(pcVar12);
                free(__s);
                goto LAB_0004ea0c;
            }
            if ((((pcVar12 != (char *)0x0) &&
                  ((char *)param_1[0x9f] != (char *)0x0)) &&
                 (iVar7 = strcmp(pcVar12, (char *)param_1[0x9f]),
                  iVar7 == 0)) &&
                (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                  (4 < DAT_0009e320)))) {
                snprintf((char *)local_2b8c, 0x800,
                         "Pool %d successfully negotiated resume with the same "
                         "session ID",
                         *param_1);
                FUN_00047ab4(5, local_2b8c, 0);
            }
            iVar7 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0x35));
            if (iVar7 != 0) {
                FUN_000494cc("initiate_stratum", 0xca4);
            }
            iVar7 = pthread_rwlock_wrlock((pthread_rwlock_t *)(param_1 + 0x3b));
            if (iVar7 != 0) {
                piVar14 = __errno_location();
                snprintf((char *)local_2b8c, 0x800,
                         "WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d",
                         *piVar14, "util.c", "initiate_stratum", 0xca4);
                FUN_00047ab4(3, local_2b8c, 1);
                FUN_00062ec0(1);
            }
            free((void *)param_1[0x99]);
            free((void *)param_1[0x9f]);
            param_1[0x9f] = pcVar12;
            param_1[0x99] = __s;
            sVar8 = strlen(__s);
            param_1[0x187] = sVar8 >> 1;
            free((void *)param_1[0x9a]);
            uVar4 = FUN_000496ac(param_1[0x187], 1, "util.c",
                                 "initiate_stratum", 0xcab);
            param_1[0x9a] = uVar4;
            FUN_00049940(uVar4, param_1[0x99], param_1[0x187]);
            param_1[0x9e] = iVar3;
            iVar3 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x3b));
            if (iVar3 != 0) {
                piVar14 = __errno_location();
                snprintf((char *)local_2b8c, 0x800,
                         "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d",
                         *piVar14, "util.c", "initiate_stratum", 0xcae);
                FUN_00047ab4(3, local_2b8c, 1);
                FUN_00062ec0(1);
            }
            iVar3 = pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0x35));
            if (iVar3 != 0) {
                piVar14 = __errno_location();
                snprintf((char *)local_2b8c, 0x800,
                         "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d",
                         *piVar14, "util.c", "initiate_stratum", 0xcae);
                FUN_00047ab4(3, local_2b8c, 1);
                FUN_00062ec0(1);
            }
            (*DAT_0009e444)();
            if (((pcVar12 != (char *)0x0) && (DAT_001aecc5 != 0)) &&
                ((DAT_00244080 != '\0' ||
                  ((DAT_001aecc4 != '\0' || (6 < DAT_0009e320)))))) {
                snprintf((char *)local_2b8c, 0x800,
                         "Pool %d stratum session id: %s", *param_1,
                         param_1[0x9f]);
                FUN_00047ab4(7, local_2b8c, 0);
            }
            *(undefined1 *)((int)param_1 + 0x281) = 1;
            if (param_1[0x90] == 0) {
                param_1[0x90] = param_1[0x96];
            }
            uVar5 = (uint)DAT_00242f18;
            param_1[0x1c6] = 0;
            param_1[0x1c7] = 0;
            param_1[0x1c8] = 0;
            param_1[0x1c9] = 0x3ff00000;
            if (((uVar5 != 0) &&
                 (uVar15 = (uint)DAT_001aecc5, uVar6 = uVar5, uVar15 != 0)) &&
                ((uVar6 = uVar15,
                  DAT_00244080 != '\0' ||
                      ((DAT_001aecc4 != '\0' || (6 < DAT_0009e320)))))) {
                snprintf((char *)local_2b8c, 0x800,
                         "Pool %d confirmed mining.subscribe with extranonce1 "
                         "%s extran2size %d",
                         *param_1, param_1[0x99], param_1[0x9e]);
                FUN_00047ab4(7, local_2b8c, 0);
            }
            goto LAB_0004dc4c;
        }
        if (piVar11 != (int *)0x0)
            goto LAB_0004e984;
        pcVar12 = (char *)malloc(0x11);
        if (pcVar12 != (char *)0x0) {
            builtin_strncpy(pcVar12, "(unknown reason)", 0x11);
        }
    LAB_0004e990:
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (5 < DAT_0009e320)) {
            snprintf((char *)local_2b8c, 0x800, "JSON-RPC decode failed: %s",
                     pcVar12);
            FUN_00047ab4(6, local_2b8c, 0);
        }
        free(pcVar12);
    LAB_0004ea0c:
        bVar1 = (bool)(bVar1 ^ 1);
        if (!bVar1)
            goto LAB_0004e474;
        iVar3 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0x35));
        if (iVar3 != 0) {
            piVar14 = __errno_location();
            snprintf((char *)local_2b8c, 0x800,
                     "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d",
                     *piVar14, "util.c", "initiate_stratum", 0xcca);
            FUN_00047ab4(3, local_2b8c, 1);
            FUN_00062ec0(1);
        }
        iVar3 = pthread_rwlock_wrlock((pthread_rwlock_t *)(param_1 + 0x3b));
        if (iVar3 != 0) {
            piVar14 = __errno_location();
            snprintf((char *)local_2b8c, 0x800,
                     "WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d",
                     *piVar14, "util.c", "initiate_stratum", 0xcca);
            FUN_00047ab4(3, local_2b8c, 1);
            FUN_00062ec0(1);
        }
        free((void *)param_1[0x9f]);
        free((void *)param_1[0x99]);
        param_1[0x99] = 0;
        param_1[0x9f] = 0;
        iVar3 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x3b));
        if (iVar3 != 0) {
            piVar14 = __errno_location();
            snprintf((char *)local_2b8c, 0x800,
                     "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d",
                     *piVar14, "util.c", "initiate_stratum", 0xcce);
            FUN_00047ab4(3, local_2b8c, 1);
            FUN_00062ec0(1);
        }
        iVar3 = pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0x35));
        if (iVar3 != 0) {
            piVar14 = __errno_location();
            snprintf((char *)local_2b8c, 0x800,
                     "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d",
                     *piVar14, "util.c", "initiate_stratum", 0xcce);
            FUN_00047ab4(3, local_2b8c, 1);
            FUN_00062ec0(1);
        }
        (*DAT_0009e444)();
        if ((DAT_001aecc5 != 0) &&
            (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
              (6 < DAT_0009e320)))) {
            local_2828._0_1_ = 'F';
            local_2828._1_1_ = 'a';
            local_2828._2_1_ = 'i';
            local_2828._3_1_ = 'l';
            builtin_strncpy(acStack_2824, "ed to resume", 0xc);
            local_2818._0_1_ = ' ';
            local_2818._1_1_ = 's';
            local_2818._2_1_ = 't';
            local_2818._3_1_ = 'r';
            builtin_strncpy(acStack_2814, "atum", 4);
            local_2810._0_1_ = ',';
            local_2810._1_1_ = ' ';
            local_2810._2_1_ = 't';
            local_2810._3_1_ = 'r';
            builtin_strncpy(acStack_280c, "ying afr", 8);
            local_2804._0_1_ = 'e';
            local_2804._1_1_ = 's';
            local_2804._2_1_ = 'h';
            local_2804._3_1_ = '\0';
            FUN_00047ab4(7, local_2b8c, 0);
        }
        if ((local_2b74 != 0) && (*(int *)(local_2b74 + 4) != -1)) {
            piVar14 = (int *)(local_2b74 + 4);
            DataMemoryBarrier(0xb);
            do {
                iVar3 = *piVar14;
                bVar2 = (bool)hasExclusiveAccess(piVar14);
            } while (!bVar2);
            *piVar14 = iVar3 + -1;
            if (iVar3 + -1 == 0) {
                FUN_0006e5dc(local_2b74);
            }
        }
    } while (true);
}

int FUN_0004f2f8(int param_1)

{
    int iVar1;

    if (*(char *)(param_1 + 0x281) != '\0') {
        FUN_0004afa8();
    }
    iVar1 = FUN_0004d754(param_1);
    if ((iVar1 != 0) && (((*(char *)(param_1 + 0x244) == '\0' ||
                           (iVar1 = FUN_00050338(param_1), iVar1 != 0)) &&
                          (iVar1 = FUN_00050730(param_1), iVar1 != 0)))) {
        FUN_00058490(param_1);
        return iVar1;
    }
    FUN_0005a31c(param_1);
    return 0;
}

undefined4 FUN_0004f374(undefined4 *param_1, undefined4 param_2)

{
    char *__s;
    char *pcVar1;
    char *__s2;
    int iVar2;
    void *pvVar3;
    int *piVar4;
    undefined4 uVar5;
    char *pcVar6;
    int *piVar7;
    undefined1 local_a40[16];
    char acStack_a30[248];
    undefined1 auStack_938[16];
    undefined4 local_928;
    undefined4 local_924;
    char acStack_920[256];
    char acStack_820[2052];

    memset(acStack_920, 0, 0xff);
    FUN_0006e1c4(param_2, 0);
    __s = (char *)FUN_0006e350();
    if (__s == (char *)0x0) {
        __s = (char *)param_1[0x96];
    LAB_0004f3f8:
        FUN_0006e1c4(param_2, 1);
        iVar2 = FUN_0006e430();
        if (iVar2 == 0) {
            FUN_0006e1c4(param_2, 1);
            pcVar6 = (char *)FUN_0006e350();
            piVar7 = (int *)auStack_938;
            if (pcVar6 == (char *)0x0) {
                pcVar6 = (char *)param_1[0x92];
                piVar7 = (int *)auStack_938;
            }
        } else {
            pcVar6 = acStack_a30;
            sprintf(pcVar6, "%d");
            piVar7 = (int *)local_a40;
        }
        *piVar7 = (int)pcVar6;
        snprintf(acStack_920, 0xfe, "%s:%s", __s);
        iVar2 = FUN_0004a940(acStack_920, &local_928, &local_924);
        if (iVar2 != 0) {
            if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                (3 < DAT_0009e320)) {
                uVar5 = *param_1;
                *piVar7 = (int)acStack_920;
                snprintf(acStack_820, 0x800,
                         "Stratum reconnect requested from pool %d to %s",
                         uVar5);
                FUN_00047ab4(4, acStack_820, 0);
            }
            FUN_00059b44(param_1);
            iVar2 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0xb0));
            if (iVar2 != 0) {
                piVar4 = __errno_location();
                iVar2 = *piVar4;
                *piVar7 = (int)"util.c";
                piVar7[1] = (int)"parse_reconnect";
                piVar7[2] = 0x942;
                snprintf(acStack_820, 0x800,
                         "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d",
                         iVar2);
                FUN_00047ab4(3, acStack_820, 1);
                FUN_00062ec0(1);
            }
            FUN_00049028(param_1);
            pvVar3 = (void *)param_1[0x96];
            param_1[0x90] = local_928;
            param_1[0x96] = local_928;
            free(pvVar3);
            pvVar3 = (void *)param_1[0x92];
            param_1[0x92] = local_924;
            free(pvVar3);
            iVar2 = pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0xb0));
            if (iVar2 != 0) {
                piVar4 = __errno_location();
                iVar2 = *piVar4;
                *piVar7 = (int)"util.c";
                piVar7[1] = (int)"parse_reconnect";
                piVar7[2] = 0x94b;
                snprintf(acStack_820, 0x800,
                         "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d",
                         iVar2);
                FUN_00047ab4(3, acStack_820, 1);
                FUN_00062ec0(1);
            }
            (*DAT_0009e444)();
            uVar5 = FUN_0004f2f8(param_1);
            return uVar5;
        }
    } else {
        pcVar6 = (char *)param_1[0x96];
        pcVar1 = strchr(pcVar6, 0x2e);
        if (pcVar1 == (char *)0x0) {
            if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                (DAT_0009e320 < 3)) {
                return 0;
            }
            pcVar1 = "Denied stratum reconnect request for pool without domain "
                     "\'%s\'";
        } else {
            __s2 = strchr(__s, 0x2e);
            if (__s2 == (char *)0x0) {
                if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                    (DAT_0009e320 < 3)) {
                    return 0;
                }
                pcVar1 = "Denied stratum reconnect request to url without "
                         "domain \'%s\'";
                pcVar6 = __s;
            } else {
                iVar2 = strcmp(pcVar1, __s2);
                if (iVar2 == 0)
                    goto LAB_0004f3f8;
                if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                    (DAT_0009e320 < 3)) {
                    return 0;
                }
                pcVar1 = "Denied stratum reconnect request to non-matching "
                         "domain url \'%s\'";
            }
        }
        snprintf(acStack_820, 0x800, pcVar1, pcVar6);
        FUN_00047ab4(3, acStack_820, 0);
    }
    return 0;
}

uint FUN_0004f748(undefined4 *param_1, undefined4 param_2)

{
    bool bVar1;
    int iVar2;
    int iVar3;
    int *piVar4;
    int *piVar5;
    char *__s1;
    uint uVar6;
    undefined4 uVar7;
    void *__ptr;
    size_t sVar8;
    int iVar9;
    char *pcVar10;
    uint uVar11;
    undefined4 *puVar12;
    double dVar13;
    double dVar14;
    undefined8 in_stack_ffffdeb0;
    undefined8 uVar15;
    undefined4 local_2134[23];
    undefined1 auStack_20d8[160];
    char local_2038[24];
    undefined4 uStack_2020;
    char acStack_201c[16];
    undefined2 uStack_200c;
    undefined1 local_200a;
    undefined4 extraout_s1;

    pcVar10 = (char *)((ulonglong)in_stack_ffffdeb0 >> 0x20);
    iVar2 = FUN_0006d110(param_2, 0, local_2134);
    if (iVar2 == 0) {
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 6)) {
            return 0;
        }
        snprintf(local_2038, 0x800, "JSON decode failed(%d): %s", local_2134[0],
                 auStack_20d8);
        FUN_00047ab4(6, local_2038, 0);
        return 0;
    }
    iVar3 = FUN_0006dfcc(iVar2, "method");
    if (iVar3 != 0) {
        piVar4 = (int *)FUN_0006dfcc(iVar2, "error");
        piVar5 = (int *)FUN_0006dfcc(iVar2, "params");
        if ((piVar4 != (int *)0x0) && (*piVar4 != 7)) {
            __ptr = (void *)FUN_0006b6e8(piVar4, 3);
            if ((DAT_00244080 != '\0') ||
                ((DAT_001aecc4 != '\0' || (5 < DAT_0009e320)))) {
                snprintf(local_2038, 0x800, "JSON-RPC method decode failed: %s",
                         __ptr);
                FUN_00047ab4(6, local_2038, 0);
            }
            uVar11 = 0;
            free(__ptr);
            goto LAB_0004f89c;
        }
        __s1 = (char *)FUN_0006e350(iVar3);
        if (__s1 != (char *)0x0) {
            iVar3 = strncasecmp(__s1, "mining.multi_version", 0x14);
            if (iVar3 == 0) {
                *(undefined1 *)(param_1 + 0xa1) = 1;
                if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                    (5 < DAT_0009e320)) {
                    builtin_strncpy(local_2038, "Pool support multi versi",
                                    0x18);
                    uStack_2020._0_3_ = 0x6e6f;
                    FUN_00047ab4(6, local_2038, 0);
                }
                uVar11 = 0;
                puVar12 = param_1 + 0xa3;
                while (true) {
                    uVar6 = FUN_0006e1a8(piVar5);
                    if (uVar6 <= uVar11)
                        break;
                    FUN_0006e1c4(piVar5, uVar11);
                    uVar7 = FUN_0006e430();
                    *puVar12 = uVar7;
                    uVar11 = uVar11 + 1;
                    puVar12 = puVar12 + 1;
                }
                goto LAB_0004fbb4;
            }
            iVar3 = strncasecmp(__s1, "mining.notify", 0xd);
            if (iVar3 == 0) {
                uVar11 = FUN_0004c494(param_1, piVar5);
                if (uVar11 != 0) {
                    *(undefined1 *)((int)param_1 + 0x283) = 1;
                    goto LAB_0004f89c;
                }
            } else {
                iVar3 = strncasecmp(__s1, "mining.set_version_mask", 0x17);
                if (iVar3 != 0) {
                    iVar3 = strncasecmp(__s1, "mining.set_difficulty", 0x15);
                    if (iVar3 == 0) {
                        FUN_0006e1c4(piVar5);
                        uVar7 = FUN_0006e570();
                        dVar13 = (double)CONCAT44(extraout_s1, uVar7);
                        if (dVar13 != 0.0) {
                            iVar3 = pthread_mutex_lock(
                                (pthread_mutex_t *)(param_1 + 0x35));
                            if (iVar3 != 0) {
                                FUN_000494cc("parse_diff", 0x8bb);
                            }
                            iVar3 = pthread_rwlock_wrlock(
                                (pthread_rwlock_t *)(param_1 + 0x3b));
                            if (iVar3 != 0) {
                                piVar4 = __errno_location();
                                pcVar10 = "parse_diff";
                                snprintf(local_2038, 0x800,
                                         "WTF WRLOCK ERROR ON LOCK! errno=%d "
                                         "in %s %s():%d",
                                         *piVar4, "util.c", "parse_diff",
                                         0x8bb);
                                FUN_00047ab4(3, local_2038, 1);
                                FUN_00062ec0(1);
                            }
                            dVar14 = *(double *)(param_1 + 0x1c6);
                            *(double *)(param_1 + 0x1c6) = dVar13;
                            if (dVar14 <= 0.0) {
                                dVar14 = *(double *)(param_1 + 0x1c8);
                                *(double *)(param_1 + 0x1c8) = dVar13;
                            }
                            iVar3 = pthread_rwlock_unlock(
                                (pthread_rwlock_t *)(param_1 + 0x3b));
                            if (iVar3 != 0) {
                                piVar4 = __errno_location();
                                pcVar10 = "parse_diff";
                                snprintf(local_2038, 0x800,
                                         "WTF RWLOCK ERROR ON UNLOCK! errno=%d "
                                         "in %s %s():%d",
                                         *piVar4, "util.c", "parse_diff",
                                         0x8c8);
                                FUN_00047ab4(3, local_2038, 1);
                                FUN_00062ec0(1);
                            }
                            iVar3 = pthread_mutex_unlock(
                                (pthread_mutex_t *)(param_1 + 0x35));
                            if (iVar3 != 0) {
                                piVar4 = __errno_location();
                                pcVar10 = "parse_diff";
                                snprintf(local_2038, 0x800,
                                         "WTF MUTEX ERROR ON UNLOCK! errno=%d "
                                         "in %s %s():%d",
                                         *piVar4, "util.c", "parse_diff",
                                         0x8c8);
                                FUN_00047ab4(3, local_2038, 1);
                                FUN_00062ec0(1);
                            }
                            (*DAT_0009e444)();
                            if (dVar13 == dVar14) {
                                uVar11 = (uint)DAT_001aecc5;
                                if ((uVar11 != 0) &&
                                    (((DAT_00244080 != '\0' ||
                                       (DAT_001aecc4 != '\0')) ||
                                      (6 < DAT_0009e320)))) {
                                    snprintf(local_2038, 0x800,
                                             "Pool %d difficulty set to %f",
                                             *param_1, dVar13);
                                    FUN_00047ab4(7, local_2038, 0);
                                    goto LAB_0004f89c;
                                }
                            } else if (dVar13 ==
                                       (double)(longlong)(int)(longlong)
                                           dVar13) {
                                if (((DAT_00244080 != '\0') ||
                                     (DAT_001aecc4 != '\0')) ||
                                    (4 < DAT_0009e320)) {
                                    uVar15 = CONCAT44(pcVar10,
                                                      (int)(longlong)dVar13);
                                    uVar7 = *param_1;
                                    pcVar10 =
                                        "Pool %d difficulty changed to %d";
                                LAB_0004fcdc:
                                    uVar11 = 1;
                                    snprintf(local_2038, 0x800, pcVar10, uVar7,
                                             uVar15);
                                    FUN_00047ab4(5, local_2038, 0);
                                    goto LAB_0004f89c;
                                }
                            } else if (((DAT_00244080 != '\0') ||
                                        (DAT_001aecc4 != '\0')) ||
                                       (4 < DAT_0009e320)) {
                                snprintf(local_2038, 0x800,
                                         "Pool %d difficulty changed to %.1f",
                                         *param_1, dVar13);
                                uVar11 = 1;
                                FUN_00047ab4(5, local_2038, 0);
                                goto LAB_0004f89c;
                            }
                        LAB_0004fbb4:
                            uVar11 = 1;
                            goto LAB_0004f89c;
                        }
                    } else {
                        iVar3 =
                            strncasecmp(__s1, "mining.set_extranonce", 0x15);
                        if (iVar3 == 0) {
                            pcVar10 = (char *)FUN_00049188(piVar5);
                            uVar11 = FUN_00049208(pcVar10, "parse_extranonce",
                                                  0x8e6);
                            if (uVar11 != 0) {
                                FUN_0006e1c4(piVar5, 1);
                                iVar3 = FUN_0006e430();
                                if (iVar3 == 0) {
                                    if (((DAT_00244080 != '\0') ||
                                         (DAT_001aecc4 != '\0')) ||
                                        (5 < DAT_0009e320)) {
                                        builtin_strncpy(
                                            local_2038,
                                            "Failed to get valid n2si", 0x18);
                                        uStack_2020._0_1_ = 'z';
                                        uStack_2020._1_1_ = 'e';
                                        uStack_2020._2_1_ = ' ';
                                        uStack_2020._3_1_ = 'i';
                                        builtin_strncpy(acStack_201c,
                                                        "n parse_extranon",
                                                        0x10);
                                        uStack_200c = 0x6563;
                                        local_200a = 0;
                                        FUN_00047ab4(6, local_2038, 0);
                                    }
                                    uVar11 = 0;
                                    free(pcVar10);
                                    goto LAB_0004f89c;
                                }
                                iVar9 = pthread_mutex_lock(
                                    (pthread_mutex_t *)(param_1 + 0x35));
                                if (iVar9 != 0) {
                                    FUN_000494cc("parse_extranonce", 0x8f2);
                                }
                                iVar9 = pthread_rwlock_wrlock(
                                    (pthread_rwlock_t *)(param_1 + 0x3b));
                                if (iVar9 != 0) {
                                    piVar4 = __errno_location();
                                    snprintf(local_2038, 0x800,
                                             "WTF WRLOCK ERROR ON LOCK! "
                                             "errno=%d in %s %s():%d",
                                             *piVar4, "util.c",
                                             "parse_extranonce", 0x8f2);
                                    FUN_00047ab4(3, local_2038, 1);
                                    FUN_00062ec0(1);
                                }
                                free((void *)param_1[0x99]);
                                param_1[0x99] = pcVar10;
                                sVar8 = strlen(pcVar10);
                                param_1[0x187] = sVar8 >> 1;
                                free((void *)param_1[0x9a]);
                                iVar9 =
                                    FUN_000496ac(param_1[0x187], 1, "util.c",
                                                 "parse_extranonce", 0x8f7);
                                param_1[0x9a] = iVar9;
                                if (iVar9 == 0) {
                                    snprintf(local_2038, 0x800,
                                             "Failed to calloc pool->nonce1bin "
                                             "in %s %s():%d",
                                             "util.c", "parse_extranonce",
                                             0x8f9);
                                    FUN_00047ab4(3, local_2038, 1);
                                    FUN_00062ec0(1);
                                }
                                FUN_00049940(param_1[0x9a], param_1[0x99],
                                             param_1[0x187]);
                                param_1[0x9e] = iVar3;
                                iVar3 = pthread_rwlock_unlock(
                                    (pthread_rwlock_t *)(param_1 + 0x3b));
                                if (iVar3 != 0) {
                                    piVar4 = __errno_location();
                                    snprintf(local_2038, 0x800,
                                             "WTF RWLOCK ERROR ON UNLOCK! "
                                             "errno=%d in %s %s():%d",
                                             *piVar4, "util.c",
                                             "parse_extranonce", 0x8fc);
                                    FUN_00047ab4(3, local_2038, 1);
                                    FUN_00062ec0(1);
                                }
                                FUN_00049450(
                                    (pthread_mutex_t *)(param_1 + 0x35),
                                    "parse_extranonce", 0x8fc);
                                (*DAT_0009e444)();
                                if (((DAT_00244080 != '\0') ||
                                     (DAT_001aecc4 != '\0')) ||
                                    (4 < DAT_0009e320)) {
                                    snprintf(
                                        local_2038, 0x800,
                                        "Pool %d extranonce change requested",
                                        *param_1);
                                    FUN_00047ab4(5, local_2038, 0);
                                    goto LAB_0004f89c;
                                }
                                goto LAB_0004fbb4;
                            }
                            if (((DAT_00244080 != '\0') ||
                                 (DAT_001aecc4 != '\0')) ||
                                (5 < DAT_0009e320)) {
                                builtin_strncpy(local_2038,
                                                "Failed to get valid nonc",
                                                0x18);
                                uStack_2020._0_1_ = 'e';
                                uStack_2020._1_1_ = '1';
                                uStack_2020._2_1_ = ' ';
                                uStack_2020._3_1_ = 'i';
                                builtin_strncpy(acStack_201c,
                                                "n parse_extranon", 0x10);
                                uStack_200c = 0x6563;
                                local_200a = 0;
                                FUN_00047ab4(6, local_2038, 0);
                                goto LAB_0004f89c;
                            }
                        } else {
                            iVar3 = strncasecmp(__s1, "client.reconnect", 0x10);
                            if (iVar3 == 0) {
                                uVar11 = FUN_0004f374(param_1, piVar5);
                                goto LAB_0004f89c;
                            }
                            iVar3 =
                                strncasecmp(__s1, "client.get_version", 0x12);
                            if (iVar3 == 0) {
                                iVar3 = FUN_0006dfcc(iVar2, "id");
                                if (iVar3 != 0) {
                                    FUN_0006dfcc(iVar2, "id");
                                    uVar7 = FUN_0006e430();
                                    pcVar10 = "{\"id\": %d, \"result\": "
                                              "\"miner_1397/1.0.0\", "
                                              "\"error\": null}";
                                LAB_0004fb50:
                                    sprintf(local_2038, pcVar10, uVar7);
                                    sVar8 = strlen(local_2038);
                                    uVar11 = FUN_0004b10c(param_1, local_2038,
                                                          sVar8);
                                    goto LAB_0004f89c;
                                }
                            } else {
                                iVar3 = strncasecmp(__s1, "client.show_message",
                                                    0x13);
                                if (iVar3 == 0) {
                                    if ((piVar5 != (int *)0x0) &&
                                        (*piVar5 == 1)) {
                                        FUN_0006e1c4(piVar5, 0);
                                        iVar3 = FUN_0006e350();
                                        if (iVar3 != 0) {
                                            if (((DAT_00244080 != '\0') ||
                                                 (DAT_001aecc4 != '\0')) ||
                                                (4 < DAT_0009e320)) {
                                                uVar15 =
                                                    CONCAT44(pcVar10, iVar3);
                                                pcVar10 = "Pool %d message: %s";
                                                uVar7 = *param_1;
                                                goto LAB_0004fcdc;
                                            }
                                            goto LAB_0004fbb4;
                                        }
                                    }
                                } else {
                                    iVar3 =
                                        strncasecmp(__s1, "mining.ping", 0xb);
                                    if (iVar3 == 0) {
                                        if (((DAT_00244080 != '\0') ||
                                             (DAT_001aecc4 != '\0')) ||
                                            (5 < DAT_0009e320)) {
                                            snprintf(local_2038, 0x800,
                                                     "Pool %d ping", *param_1);
                                            FUN_00047ab4(6, local_2038, 0);
                                        }
                                        iVar3 = FUN_0006dfcc(iVar2, "id");
                                        if (iVar3 == 0) {
                                            uVar11 = 0;
                                            goto LAB_0004f89c;
                                        }
                                        FUN_0006dfcc(iVar2, "id");
                                        uVar7 = FUN_0006e430();
                                        pcVar10 = "{\"id\": %d, \"result\": "
                                                  "\"pong\", \"error\": null}";
                                        goto LAB_0004fb50;
                                    }
                                }
                            }
                        }
                    }
                    goto LAB_0004f898;
                }
                uVar11 = 1;
                FUN_0006e1c4(piVar5);
                uVar7 = FUN_0006e350();
                FUN_00049ae4(param_1, uVar7);
            }
            *(char *)((int)param_1 + 0x283) = (char)uVar11;
            goto LAB_0004f89c;
        }
    }
LAB_0004f898:
    uVar11 = 0;
LAB_0004f89c:
    if (*(int *)(iVar2 + 4) != -1) {
        piVar4 = (int *)(iVar2 + 4);
        DataMemoryBarrier(0xb);
        do {
            iVar3 = *piVar4;
            bVar1 = (bool)hasExclusiveAccess(piVar4);
        } while (!bVar1);
        *piVar4 = iVar3 + -1;
        if (iVar3 + -1 == 0) {
            FUN_0006e5dc(iVar2);
        }
    }
    return uVar11;
}

undefined4 FUN_00050324(undefined4 param_1, int param_2)

{
    undefined4 uVar1;

    if (param_2 != 0) {
        uVar1 = FUN_0004f748();
        return uVar1;
    }
    return 0;
}

uint FUN_00050338(undefined4 *param_1)

{
    bool bVar1;
    size_t sVar2;
    uint uVar3;
    void *__ptr;
    int iVar4;
    uint uVar5;
    int *piVar6;
    int *piVar7;
    char *pcVar8;
    int iVar9;
    undefined1 auStack_2914[252];
    char local_2818[2048];
    char acStack_2018[8192];

    DAT_0024400c = DAT_0024400c + 1;
    sprintf(acStack_2018, "{\"id\": %d, \"method\": "
                          "\"mining.extranonce.subscribe\", \"params\": []}");
    sVar2 = strlen(acStack_2018);
    uVar3 = FUN_0004b10c(param_1, acStack_2018, sVar2);
    if (uVar3 != 0) {
        while (uVar5 = FUN_00049090(param_1[0x93], 2), uVar5 != 0) {
            __ptr = (void *)FUN_0004b4c0(param_1);
            if (__ptr == (void *)0x0) {
                return 0;
            }
            iVar4 = FUN_0004f748(param_1, __ptr);
            if (iVar4 == 0) {
                iVar4 = FUN_0006d110(__ptr, 0, auStack_2914);
                free(__ptr);
                piVar6 = (int *)FUN_0006dfcc(iVar4, "result");
                piVar7 = (int *)FUN_0006dfcc(iVar4, "error");
                if ((piVar6 == (int *)0x0) || (*piVar6 == 6)) {
                    if (piVar7 != (int *)0x0)
                        goto LAB_000504f8;
                    pcVar8 = (char *)malloc(0x11);
                    if (pcVar8 != (char *)0x0) {
                        builtin_strncpy(pcVar8, "(unknown reason)", 0x11);
                    }
                } else {
                    if ((piVar7 == (int *)0x0) || (*piVar7 == 7)) {
                        if ((DAT_00244080 != '\0') ||
                            ((DAT_001aecc4 != '\0' || (5 < DAT_0009e320)))) {
                            snprintf(local_2818, 0x800,
                                     "Stratum extranonce subscribe for pool %d",
                                     *param_1);
                            FUN_00047ab4(6, local_2818, 0);
                        }
                        goto LAB_0005063c;
                    }
                LAB_000504f8:
                    pcVar8 = (char *)FUN_00049124(piVar7, 1);
                    if (((pcVar8 != (char *)0x0) ||
                         (pcVar8 = (char *)FUN_0006e350(piVar7),
                          pcVar8 != (char *)0x0)) &&
                        ((iVar9 = strcmp(pcVar8,
                                         "Method \'subscribe\' not found for "
                                         "service \'mining.extranonce\'"),
                          iVar9 == 0 ||
                              (iVar9 = strcmp(pcVar8,
                                              "Unrecognized request provided"),
                               iVar9 == 0)))) {
                        if (((DAT_00244080 != '\0') ||
                             (DAT_001aecc4 != '\0')) ||
                            (5 < DAT_0009e320)) {
                            snprintf(local_2818, 0x800,
                                     "Cannot subscribe to mining.extranonce "
                                     "for pool %d",
                                     *param_1);
                            FUN_00047ab4(6, local_2818, 0);
                        }
                        goto LAB_0005063c;
                    }
                    pcVar8 = (char *)FUN_0006b6e8(piVar7, 3);
                }
                if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                    (5 < DAT_0009e320)) {
                    snprintf(local_2818, 0x800,
                             "Pool %d JSON extranonce subscribe failed: %s",
                             *param_1, pcVar8);
                    FUN_00047ab4(6, local_2818, 0);
                }
                uVar5 = 0;
                free(pcVar8);
            LAB_0005063c:
                if (iVar4 == 0) {
                    return uVar5;
                }
                if (*(int *)(iVar4 + 4) == -1) {
                    return uVar5;
                }
                piVar6 = (int *)(iVar4 + 4);
                DataMemoryBarrier(0xb);
                do {
                    iVar9 = *piVar6;
                    bVar1 = (bool)hasExclusiveAccess(piVar6);
                } while (!bVar1);
                *piVar6 = iVar9 + -1;
                if (iVar9 + -1 != 0) {
                    return uVar5;
                }
                FUN_0006e5dc(iVar4);
                return uVar5;
            }
            free(__ptr);
        }
        uVar5 = (uint)DAT_001aecc5;
        if ((uVar5 != 0) &&
            (((uVar3 = uVar5, DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
              (6 < DAT_0009e320)))) {
            builtin_strncpy(
                local_2818,
                "Timed out waiting for response extranonce.subscribe", 0x34);
            FUN_00047ab4(7, local_2818, 0);
        }
    }
    return uVar3;
}

uint FUN_00050730(undefined4 *param_1)

{
    bool bVar1;
    size_t sVar2;
    uint uVar3;
    int iVar4;
    void *__ptr;
    int *piVar5;
    int *piVar6;
    char *__ptr_00;
    int iVar7;
    uint uVar8;
    undefined1 auStack_291c[252];
    char acStack_2820[2048];
    char acStack_2020[8196];

    iVar4 = DAT_0024400c;
    DAT_0024400c = DAT_0024400c + 1;
    sprintf(acStack_2020,
            "{\"id\": %d, \"method\": \"mining.authorize\", \"params\": "
            "[\"%s\", \"%s\"]}",
            iVar4, param_1[0x2b], param_1[0x2c]);
    sVar2 = strlen(acStack_2020);
    uVar3 = FUN_0004b10c(param_1, acStack_2020, sVar2);
    if (uVar3 != 0) {
        while (__ptr = (void *)FUN_0004b4c0(param_1), __ptr != (void *)0x0) {
            iVar4 = FUN_0004f748(param_1, __ptr);
            if (iVar4 == 0) {
                iVar4 = FUN_0006d110(__ptr, 0, auStack_291c);
                free(__ptr);
                piVar5 = (int *)FUN_0006dfcc(iVar4, "result");
                piVar6 = (int *)FUN_0006dfcc(iVar4, "error");
                if ((piVar5 == (int *)0x0) || (*piVar5 == 6)) {
                    if (piVar6 != (int *)0x0)
                        goto LAB_00050844;
                    __ptr_00 = (char *)malloc(0x11);
                    if (__ptr_00 != (char *)0x0) {
                        builtin_strncpy(__ptr_00, "(unknown reason)", 0x11);
                    }
                } else {
                    if ((piVar6 == (int *)0x0) || (*piVar6 == 7)) {
                        if (((DAT_00244080 != '\0') ||
                             (DAT_001aecc4 != '\0')) ||
                            (5 < DAT_0009e320)) {
                            snprintf(
                                acStack_2820, 0x800,
                                "Stratum authorisation success for pool %d",
                                *param_1);
                            FUN_00047ab4(6, acStack_2820, 0);
                        }
                        iVar7 = DAT_00243000;
                        DAT_001aecc6 = 1;
                        *(undefined1 *)((int)param_1 + 99) = 1;
                        if (iVar7 != 0) {
                            DAT_0024400c = DAT_0024400c + 1;
                            sprintf(acStack_2020,
                                    "{\"id\": %d, \"method\": "
                                    "\"mining.suggest_difficulty\", "
                                    "\"params\": [%d]}");
                            sVar2 = strlen(acStack_2020);
                            FUN_0004b10c(param_1, acStack_2020, sVar2);
                        }
                        uVar8 = (uint)DAT_0009ee64;
                        if (uVar8 != 0) {
                            if (((DAT_00244080 != '\0') ||
                                 (DAT_001aecc4 != '\0')) ||
                                (4 < DAT_0009e320)) {
                                builtin_strncpy(acStack_2820, "LOW POWER MODE!",
                                                0x10);
                                FUN_00047ab4(5, acStack_2820, 0);
                            }
                            iVar7 = DAT_0024400c;
                            DAT_0024400c = DAT_0024400c + 1;
                            sprintf(
                                acStack_2020,
                                "{\"id\":%d, \"method\":\"mining.configure\", "
                                "\"params\":[[\"version-rolling\"],{\"version-"
                                "rolling.mask\":\"%08x\",\"version-rolling.min-"
                                "bit-count\":%d}]}",
                                iVar7, 0xe00000, 3);
                            sVar2 = strlen(acStack_2020);
                            FUN_0004b10c(param_1, acStack_2020, sVar2);
                            param_1[0xa2] = 1;
                            uVar3 = uVar8;
                        }
                        goto LAB_0005089c;
                    }
                LAB_00050844:
                    __ptr_00 = (char *)FUN_0006b6e8(piVar6, 3);
                }
                if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                    (5 < DAT_0009e320)) {
                    snprintf(acStack_2820, 0x800,
                             "pool %d JSON stratum auth failed: %s", *param_1,
                             __ptr_00);
                    FUN_00047ab4(6, acStack_2820, 0);
                }
                free(__ptr_00);
                FUN_0004afa8(param_1);
                uVar3 = 0;
            LAB_0005089c:
                if (iVar4 == 0) {
                    return uVar3;
                }
                if (*(int *)(iVar4 + 4) == -1) {
                    return uVar3;
                }
                piVar5 = (int *)(iVar4 + 4);
                DataMemoryBarrier(0xb);
                do {
                    iVar7 = *piVar5;
                    bVar1 = (bool)hasExclusiveAccess(piVar5);
                } while (!bVar1);
                *piVar5 = iVar7 + -1;
                if (iVar7 + -1 != 0) {
                    return uVar3;
                }
                FUN_0006e5dc(iVar4);
                return uVar3;
            }
            free(__ptr);
        }
    }
    return 0;
}

void FUN_00050b5c(int param_1, int param_2)

{
    undefined1 uVar1;
    undefined1 *puVar2;
    uint uVar3;
    undefined1 *puVar4;

    if (param_2 == 1) {
        return;
    }
    puVar4 = (undefined1 *)(param_1 + -1);
    uVar3 = 0;
    puVar2 = (undefined1 *)(param_1 + param_2);
    do {
        uVar3 = uVar3 + 1;
        puVar4 = puVar4 + 1;
        uVar1 = *puVar4;
        puVar2 = puVar2 + -1;
        *puVar4 = *puVar2;
        *puVar2 = uVar1;
    } while (uVar3 < ~uVar3 + param_2);
    return;
}

int FUN_00050b9c(int param_1, uint param_2)

{
    int iVar1;
    uint uVar2;

    switch (param_1) {
    case 1:
        goto switchD_00050ba4_caseD_1;
    case 2:
        if ((param_2 & 0x80) != 0x80) {
            param_1 = 1;
        }
        return param_1;
    default:
        return 0;
    case 4:
        param_2 = param_2 & 0xc0;
        if (param_2 == 0x80) {
            return 3;
        }
        if (param_2 == 0xc0) {
            return param_1;
        }
        if (param_2 == 0x40) {
            iVar1 = 2;
        } else {
            iVar1 = 1;
        }
        return iVar1;
    case 8:
        param_2 = param_2 & 0xe0;
        if (param_2 == 0x80) {
            return 5;
        }
        if (param_2 < 0x81) {
            if (param_2 == 0x40) {
                return 3;
            }
            if (param_2 == 0x60) {
                return 4;
            }
            if (param_2 == 0x20) {
                return 2;
            }
        } else {
            if (param_2 == 0xc0) {
                return 7;
            }
            if (param_2 == 0xe0) {
                return param_1;
            }
            if (param_2 == 0xa0) {
                return 6;
            }
        }
        break;
    case 0x10:
        param_2 = param_2 & 0xf0;
        if (param_2 == 0x80) {
            return 9;
        }
        if (param_2 < 0x81) {
            if (param_2 == 0x40) {
                return 5;
            }
            if (param_2 < 0x41) {
                if (param_2 == 0x20) {
                    return 3;
                }
                if (param_2 == 0x30) {
                    return 4;
                }
                if (param_2 == 0x10) {
                    return 2;
                }
            } else {
                if (param_2 == 0x60) {
                    return 7;
                }
                if (param_2 == 0x70) {
                    return 8;
                }
                if (param_2 == 0x50) {
                    return 6;
                }
            }
        } else {
            if (param_2 == 0xc0) {
                return 0xd;
            }
            if (param_2 < 0xc1) {
                if (param_2 == 0xa0) {
                    return 0xb;
                }
                if (param_2 == 0xb0) {
                    return 0xc;
                }
                if (param_2 == 0x90) {
                    return 10;
                }
            } else {
                if (param_2 == 0xe0) {
                    return 0xf;
                }
                if (param_2 == 0xf0) {
                    return param_1;
                }
                if (param_2 == 0xd0) {
                    return 0xe;
                }
            }
        }
        break;
    case 0x20:
        uVar2 = (param_2 & 0xfffffff8) - 8 & 0xff;
        if (uVar2 < 0xf1) {
            return (int)(char)(&DAT_0008212c)[uVar2];
        }
        break;
    case 0x40:
        uVar2 = (param_2 & 0xfffffffc) - 4 & 0xff;
        if (uVar2 < 0xf9) {
            return (int)(char)(&DAT_00082220)[uVar2];
        }
    }
    param_1 = 1;
switchD_00050ba4_caseD_1:
    return param_1;
}

void FUN_00050e84(int param_1, undefined1 *param_2, int param_3)

{
    uint uVar1;
    uint uVar2;
    undefined1 uVar3;
    char cVar4;
    void *__ptr;
    void *__ptr_00;
    void *__ptr_01;
    void *__ptr_02;
    void *__ptr_03;
    void *__ptr_04;
    undefined4 uVar5;
    int iVar6;
    size_t sVar7;
    undefined4 uVar8;
    char *pcVar9;
    undefined4 *puVar10;
    char *pcVar11;
    undefined *puVar12;
    undefined1 *puVar13;
    undefined4 *puVar14;
    undefined8 uVar15;
    undefined4 uVar16;
    undefined4 local_c8c;
    undefined4 local_c88;
    undefined4 uStack_c84;
    undefined4 uStack_c80;
    undefined4 uStack_c7c;
    undefined4 local_c78;
    undefined4 uStack_c74;
    undefined4 uStack_c70;
    undefined4 uStack_c6c;
    undefined4 local_c68;
    undefined1 auStack_c64[4];
    undefined4 uStack_c60;
    undefined4 local_c5c;
    undefined4 uStack_c58;
    undefined4 local_c54;
    undefined4 local_c50;
    undefined4 local_c4c;
    undefined4 local_c48;
    undefined4 uStack_c44;
    undefined4 uStack_c40;
    undefined4 uStack_c3c;
    undefined4 local_c38;
    undefined4 uStack_c34;
    undefined4 uStack_c30;
    undefined4 uStack_c2c;
    char acStack_c28[1024];
    char acStack_828[2052];

    memset(acStack_c28, 0, 0x400);
    local_c5c = 0;
    puVar14 = &local_c68;
    uStack_c58 = 0;
    local_c54 = 0;
    local_c50 = 0;
    local_c88 = *(undefined4 *)(param_1 + 0x80);
    uStack_c84 = *(undefined4 *)(param_1 + 0x84);
    uStack_c80 = *(undefined4 *)(param_1 + 0x88);
    uStack_c7c = *(undefined4 *)(param_1 + 0x8c);
    local_c78 = *(undefined4 *)(param_1 + 0x90);
    uStack_c74 = *(undefined4 *)(param_1 + 0x94);
    uStack_c70 = *(undefined4 *)(param_1 + 0x98);
    uStack_c6c = *(undefined4 *)(param_1 + 0x9c);
    local_c4c = 0;
    puVar13 = (undefined1 *)((int)&local_c8c + 3);
    local_c68 = *(undefined4 *)(param_1 + 0x40);
    auStack_c64 = (undefined1[4]) * (undefined4 *)(param_1 + 0x44);
    uStack_c60 = *(undefined4 *)(param_1 + 0x48);
    local_c48 = *(undefined4 *)(param_1 + 0xc0);
    uStack_c44 = *(undefined4 *)(param_1 + 0xc4);
    uStack_c40 = *(undefined4 *)(param_1 + 200);
    uStack_c3c = *(undefined4 *)(param_1 + 0xcc);
    local_c38 = *(undefined4 *)(param_1 + 0xd0);
    uStack_c34 = *(undefined4 *)(param_1 + 0xd4);
    uStack_c30 = *(undefined4 *)(param_1 + 0xd8);
    uStack_c2c = *(undefined4 *)(param_1 + 0xdc);
    do {
        puVar13 = puVar13 + 1;
        uVar3 = *puVar13;
        puVar14 = (undefined4 *)((int)puVar14 + -1);
        *puVar13 = *(undefined1 *)puVar14;
        *(undefined1 *)puVar14 = uVar3;
    } while (puVar13 != (undefined1 *)((int)&uStack_c7c + 3));
    puVar10 = &local_c5c;
    puVar14 = &local_c68;
    do {
        puVar10 = (undefined4 *)((int)puVar10 + -1);
        uVar3 = *(undefined1 *)puVar14;
        *(undefined1 *)puVar14 = *(undefined1 *)puVar10;
        *(undefined1 *)puVar10 = uVar3;
        puVar14 = (undefined4 *)((int)puVar14 + 1);
    } while ((undefined4 *)(auStack_c64 + 2) != puVar10);
    pcVar11 = (char *)((int)&local_c4c + 3);
    pcVar9 = acStack_c28;
    do {
        pcVar11 = pcVar11 + 1;
        cVar4 = *pcVar11;
        pcVar9 = pcVar9 + -1;
        *pcVar11 = *pcVar9;
        *pcVar9 = cVar4;
    } while (pcVar11 != (char *)((int)&uStack_c3c + 3));
    __ptr = (void *)FUN_0004988c(param_1, 0x80);
    __ptr_00 = (void *)FUN_0004988c(&local_c88, 0x20);
    __ptr_01 = (void *)FUN_0004988c(&local_c68, 0xc);
    __ptr_02 = (void *)FUN_0004988c(param_2, 4);
    __ptr_03 = (void *)FUN_0004988c(param_2, 5);
    __ptr_04 = (void *)FUN_0004988c(&local_c48, 0x20);
    uVar15 = FUN_000532cc(param_1);
    uVar8 = (undefined4)((ulonglong)uVar15 >> 0x20);
    uVar5 = (undefined4)uVar15;
    puVar12 = &DAT_0008399c;
    if (param_3 == 0) {
        puVar12 = &DAT_0007d0bc;
    }
    uVar16 = uVar8;
    sprintf(acStack_c28,
            "%s %08x midstate %s data %s nonce %s hash %s diff %lld", puVar12,
            *(undefined4 *)(param_1 + 0x154), __ptr_00, __ptr_01, __ptr_03,
            __ptr_04, uVar5, uVar8);
    iVar6 = strcmp(DAT_001aecd0, "screen");
    if (iVar6 == 0) {
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (2 < DAT_0009e320)) {
            snprintf(acStack_828, 0x800, acStack_c28);
            FUN_00047ab4(3, acStack_828, 0);
        }
    } else {
        local_c8c = &DAT_00244080;
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (2 < DAT_0009e320)) {
            snprintf(acStack_828, 0x800, acStack_c28);
            FUN_00047ab4(3, acStack_828, 0);
        }
        if (DAT_001b0d34 != (FILE *)0x0) {
            sprintf(acStack_c28,
                    "%s %08x work %s midstate %s data %s nonce %s hash %s diff "
                    "%lld",
                    puVar12, *(undefined4 *)(param_1 + 0x154), __ptr, __ptr_00,
                    __ptr_01, __ptr_03, __ptr_04, uVar16, uVar5, uVar8);
            sVar7 = strlen(acStack_c28);
            fwrite(acStack_c28, sVar7, 1, DAT_001b0d34);
            fwrite("\n", 1, 1, DAT_001b0d34);
            fflush(DAT_001b0d34);
            if (param_3 != 0) {
                if (DAT_001b0b28 == 1) {
                    sprintf(acStack_c28, "midstate %s data %s nonce %s hash %s",
                            __ptr_00, __ptr_01, __ptr_02, __ptr_04);
                    sVar7 = strlen(acStack_c28);
                    fwrite(acStack_c28, sVar7, 1, DAT_001b0c30);
                    fwrite("\n", 1, 1, DAT_001b0c30);
                    fflush(DAT_001b0c30);
                } else if ((DAT_001b0b28 - 0x20U & 0xffffffdf) == 0) {
                    sprintf(acStack_c28, "midstate %s data %s nonce %s hash %s",
                            __ptr_00, __ptr_01, __ptr_02, __ptr_04);
                    iVar6 = FUN_00050b9c(DAT_001b0b28, *param_2);
                    sVar7 = strlen(acStack_c28);
                    fwrite(acStack_c28, sVar7, 1, (&DAT_001b0c30)[iVar6]);
                    fwrite("\n", 1, 1, (&DAT_001b0c30)[iVar6]);
                    fflush((&DAT_001b0c30)[iVar6]);
                }
                if (DAT_001b0b24 != '\0') {
                    iVar6 = 0;
                    do {
                        uVar1 = (uint)((ulonglong)uVar15 >> 0x21);
                        uVar2 = (uint)((byte)((ulonglong)uVar15 >> 0x20) & 1)
                                    << 0x1f |
                                (uint)uVar15 >> 1;
                        uVar15 = CONCAT44(uVar1, uVar2);
                        if (uVar2 == 0 && uVar1 == 0)
                            break;
                        iVar6 = iVar6 + 1;
                    } while (iVar6 != 0x40);
                    if ((DAT_001aecc5 != '\0') &&
                        (((*local_c8c != '\0' || (DAT_001aecc4 != '\0')) ||
                          (6 < DAT_0009e320)))) {
                        snprintf(acStack_828, 0x800,
                                 "work diff %lld diffnum %d", uVar8, uVar5,
                                 uVar8, iVar6);
                        FUN_00047ab4(7, acStack_828, 0);
                    }
                    sprintf(acStack_c28, "midstate %s data %s nonce %s hash %s",
                            __ptr_00, __ptr_01, __ptr_02, __ptr_04);
                    sVar7 = strlen(acStack_c28);
                    fwrite(acStack_c28, sVar7, 1,
                           (FILE *)(&DAT_001b0b2c)[iVar6]);
                    fwrite("\n", 1, 1, (FILE *)(&DAT_001b0b2c)[iVar6]);
                    fflush((FILE *)(&DAT_001b0b2c)[iVar6]);
                }
            }
        }
    }
    if (__ptr != (void *)0x0) {
        free(__ptr);
    }
    if (__ptr_00 != (void *)0x0) {
        free(__ptr_00);
    }
    if (__ptr_01 != (void *)0x0) {
        free(__ptr_01);
    }
    if (__ptr_02 != (void *)0x0) {
        free(__ptr_02);
    }
    if (__ptr_03 != (void *)0x0) {
        free(__ptr_03);
    }
    if (__ptr_04 != (void *)0x0) {
        free(__ptr_04);
    }
    return;
}

uint FUN_000514f8(int param_1, int param_2)

{
    byte *pbVar1;
    uint uVar2;
    uint uVar3;
    uint uVar4;

    if (param_2 != 0) {
        uVar2 = 0xff;
        pbVar1 = (byte *)(param_1 + -1);
        uVar4 = 0xff;
        do {
            pbVar1 = pbVar1 + 1;
            uVar3 = uVar2 ^ *pbVar1;
            uVar2 = (byte)(&DAT_0008231c)[uVar3] ^ uVar4;
            uVar4 = (uint)(byte)(&DAT_0008241c)[uVar3];
        } while ((byte *)(param_1 + (param_2 - 1U & 0xffff)) != pbVar1);
        return uVar2 | uVar4 << 8;
    }
    return 0xffff;
}

uint FUN_00051554(byte *param_1, uint param_2)

{
    uint uVar1;
    uint uVar2;
    uint uVar3;
    char cVar4;
    uint uVar5;
    uint uVar6;
    uint uVar7;
    uint uVar8;
    uint uVar9;
    uint uVar10;
    uint uVar11;
    uint uVar12;

    if (param_2 != 0) {
        uVar7 = 0;
        cVar4 = '\0';
        uVar12 = 0x80;
        uVar5 = 1;
        uVar1 = 1;
        uVar2 = 1;
        uVar3 = 1;
        uVar9 = 1;
        do {
            uVar6 = uVar9;
            uVar11 = uVar3;
            uVar10 = uVar2;
            uVar9 = uVar1;
            uVar8 = uVar5;
            cVar4 = cVar4 + '\x01';
            uVar7 = uVar7 + 1;
            uVar5 = *param_1 & uVar12;
            uVar12 = uVar12 >> 1;
            if (uVar5 != 0) {
                uVar6 = uVar6 ^ 1;
            }
            if (cVar4 == '\b') {
                param_1 = param_1 + 1;
                cVar4 = '\0';
                uVar12 = 0x80;
            }
            uVar5 = uVar10;
            uVar1 = uVar11;
            uVar2 = uVar6;
            uVar3 = uVar6 ^ uVar8;
        } while ((uVar7 & 0xff) < param_2);
        if (uVar9 == 0) {
            uVar12 = 0;
        } else {
            uVar12 = 0x10;
        }
        if (uVar11 != 0) {
            uVar12 = uVar12 | 8;
        }
        if (uVar6 != uVar8) {
            uVar12 = uVar12 | 4;
        }
        if (uVar10 != 0) {
            uVar12 = uVar12 | 2;
        }
        if (uVar6 != 0) {
            uVar12 = uVar12 | 1;
        }
        return uVar12;
    }
    return 0x1f;
}

void FUN_0005162c(int param_1, uint *param_2, uint param_3)

{
    uint *puVar1;
    uint *puVar2;
    uint uVar4;
    uint *puVar3;

    if (param_3 >> 2 == 0) {
        return;
    }
    puVar1 = (uint *)(param_1 + -4);
    puVar2 = param_2;
    do {
        puVar3 = puVar2 + 1;
        uVar4 = *puVar2;
        puVar1 = puVar1 + 1;
        *puVar1 = uVar4 << 0x18 | (uVar4 >> 8 & 0xff) << 0x10 |
                  (uVar4 >> 0x10 & 0xff) << 8 | uVar4 >> 0x18;
        puVar2 = puVar3;
    } while (puVar3 != param_2 + (param_3 >> 2));
    return;
}

undefined4 FUN_00051710(undefined4 param_1)

{
    FUN_00064370(param_1, &DAT_001aeccc);
    return 0;
}

undefined4 FUN_00051758(undefined4 param_1)

{
    FUN_00064370(param_1, &DAT_001aecd8);
    return 0;
}

undefined4 FUN_00051788(char *param_1)

{
    char *__fd;
    char *__format;
    bool bVar1;
    char *local_814;
    char local_810[36];
    undefined2 local_7ec;

    local_814 = "";
    __fd = (char *)strtol(param_1, &local_814, 10);
    bVar1 = __fd == (char *)0x0;
    if (-1 < (int)__fd) {
        bVar1 = *local_814 == '\0';
    }
    if (bVar1) {
        DAT_001aecdc = fdopen((int)__fd, "a");
        if ((DAT_001aecdc == (FILE *)0x0) &&
            (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
              (2 < DAT_0009e320)))) {
            __format = "Failed to open fd %u for share log";
        LAB_00051864:
            DAT_001aecdc = (FILE *)0x0;
            snprintf(local_810, 0x800, __format, __fd);
            FUN_00047ab4(3, local_810, 0);
            return 0;
        }
    } else if ((*param_1 == '-') && (param_1[1] == '\0')) {
        DAT_001aecdc = stdout;
        if ((stdout == (FILE *)0x0) &&
            (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
              (2 < DAT_0009e320)))) {
            builtin_strncpy(local_810, "Standard output missing for share lo",
                            0x24);
            local_7ec = 0x67;
            FUN_00047ab4(3, local_810, 0);
            return 0;
        }
    } else {
        DAT_001aecdc = fopen64(param_1, "a");
        if ((DAT_001aecdc == (FILE *)0x0) &&
            (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
              (2 < DAT_0009e320)))) {
            __format = "Failed to open %s for share log";
            __fd = param_1;
            goto LAB_00051864;
        }
    }
    return 0;
}

char *FUN_0005199c(char *param_1)

{
    char cVar1;
    char *pcVar2;
    size_t sVar3;
    char *pcVar4;
    undefined4 *puVar5;
    char *pcVar6;

    sVar3 = strlen(param_1);
    pcVar4 =
        (char *)FUN_00049624(sVar3 * 2 + 1, "cgminer.c", "json_escape", 0x171b);
    puVar5 = (undefined4 *)FUN_00049624(8, "cgminer.c", "json_escape", 0x171c);
    *puVar5 = pcVar4;
    puVar5[1] = DAT_001aece0;
    DAT_001aece0 = puVar5;
    cVar1 = *param_1;
    pcVar2 = pcVar4;
    while (cVar1 != '\0') {
        pcVar6 = pcVar2 + 1;
        if (cVar1 == '\"' || cVar1 == '\\') {
            *pcVar2 = '\\';
            pcVar6 = pcVar2 + 2;
            pcVar2 = pcVar2 + 1;
        }
        *pcVar2 = *param_1;
        cVar1 = param_1[1];
        pcVar2 = pcVar6;
        param_1 = param_1 + 1;
    }
    *pcVar2 = '\0';
    return pcVar4;
}

void FUN_00051a54(undefined4 param_1)

{
    undefined4 uVar1;

    printf("%s\nBuilt with bitmain_c5 mining support.\n", &DAT_001aece4);
    uVar1 = FUN_0006530c(DAT_002463e8, param_1);
    printf("%s", uVar1);
    fflush(stdout);
    /* WARNING: Subroutine does not return */
    exit(0);
}

void FUN_00051aac(int param_1)

{
    time_t tVar1;
    int iVar2;

    *(undefined1 *)(param_1 + 0x3d) = 1;
    FUN_0004a60c(param_1 + 0x2c);
    *(undefined4 *)(*(int *)(param_1 + 0x24) + 0x60) = 0;
    iVar2 = *(int *)(param_1 + 0x24);
    tVar1 = time((time_t *)0x0);
    *(time_t *)(iVar2 + 0xf0) = tVar1;
    return;
}

void FUN_00051ae4(int param_1)

{
    time_t tVar1;
    int iVar2;

    *(undefined1 *)(param_1 + 0x3d) = 0;
    FUN_0004a60c(param_1 + 0x2c);
    *(undefined4 *)(*(int *)(param_1 + 0x24) + 0x60) = 0;
    iVar2 = *(int *)(param_1 + 0x24);
    tVar1 = time((time_t *)0x0);
    *(time_t *)(iVar2 + 0xf0) = tVar1;
    return;
}

/* WARNING: Type propagation algorithm not settling */

void FUN_00051b18(undefined *param_1, uint param_2, char *param_3,
                  size_t param_4, int param_5)

{
    int iVar1;
    undefined4 uVar2;
    bool bVar3;
    double dVar4;
    undefined2 local_2c[2];

    bVar3 = 0xde0b6b2 < param_2;
    local_2c[0] = 0;
    if (param_2 == 0xde0b6b3) {
        bVar3 = (undefined *)0xa763fffe < param_1;
    }
    if (!bVar3 || param_2 == 0xde0b6b3 && param_1 == (undefined *)0xa763ffff) {
        bVar3 = 0x38d7d < param_2;
        if (param_2 == 0x38d7e) {
            bVar3 = (undefined *)0xa4c67ffe < param_1;
        }
        if (bVar3 &&
            (param_2 != 0x38d7e || param_1 != (undefined *)0xa4c67fff)) {
            iVar1 = FUN_00077910(param_1, param_2, 0xd4a51000, 0xe8);
            dVar4 = (double)(longlong)iVar1;
            local_2c[0] = 0x50;
        } else {
            bVar3 = 0xe7 < param_2;
            if (param_2 == 0xe8) {
                bVar3 = (undefined *)0xd4a50ffe < param_1;
            }
            if (bVar3 &&
                (param_2 != 0xe8 || param_1 != (undefined *)0xd4a50fff)) {
                iVar1 = FUN_00077910(param_1, param_2, 1000000000, 0);
                local_2c[0] = 0x54;
            } else {
                if (param_2 == 0 && param_1 < (undefined *)0x3b9aca00) {
                    if (param_2 == 0 && param_1 <= &DAT_000f423f) {
                        dVar4 = (double)(longlong)(int)param_1;
                        if (param_2 == 0 && param_1 < (undefined *)0x3e8) {
                            if (param_5 == 0) {
                                snprintf(param_3, param_4, "%d%s", param_1,
                                         local_2c);
                                return;
                            }
                            goto LAB_00051bec;
                        }
                        local_2c[0] = 0x4b;
                    } else {
                        iVar1 = FUN_00077910(param_1, param_2, 1000, 0);
                        dVar4 = (double)(longlong)iVar1;
                        local_2c[0] = 0x4d;
                    }
                    goto joined_r0x00051d48;
                }
                iVar1 = FUN_00077910(param_1, param_2, &DAT_000f4240, 0);
                local_2c[0] = 0x47;
            }
            dVar4 = (double)(longlong)iVar1;
        }
    } else {
        iVar1 = FUN_00077910(param_1, param_2, 0xa4c68000, 0x38d7e);
        dVar4 = (double)(longlong)iVar1;
        local_2c[0] = 0x45;
    }
joined_r0x00051d48:
    dVar4 = dVar4 / 1000.0;
    if (param_5 == 0) {
        snprintf(param_3, param_4, "%.3g%s", local_2c, dVar4, local_2c);
        return;
    }
LAB_00051bec:
    if (dVar4 <= 0.0) {
        uVar2 = 3;
    } else {
        dVar4 = log10(dVar4);
        dVar4 = floor(dVar4);
        uVar2 = (undefined4)(longlong)(3.0 - dVar4);
    }
    snprintf(param_3, param_4, "%*.*f%s", param_5 + 1, uVar2);
    return;
}

void FUN_00051dd0(int param_1)

{
    uint *puVar1;
    uint *puVar2;
    uint uVar3;
    undefined1 auStack_78[28];
    uint uStack_5c;
    uint local_58[20];

    puVar1 = (uint *)(param_1 + -4);
    puVar2 = &uStack_5c;
    do {
        puVar1 = puVar1 + 1;
        uVar3 = *puVar1;
        puVar2 = puVar2 + 1;
        *puVar2 = uVar3 << 0x18 | (uVar3 >> 8 & 0xff) << 0x10 |
                  (uVar3 >> 0x10 & 0xff) << 8 | uVar3 >> 0x18;
    } while (puVar2 != local_58 + 0x13);
    FUN_0004889c(local_58, 0x50, auStack_78);
    FUN_0004889c(auStack_78, 0x20, param_1 + 0xc0);
    return;
}

undefined4 FUN_00051e24(void)

{
    pthread_t __th;

    __th = pthread_self();
    pthread_detach(__th);
    return 0;
}

void FUN_00051e38(void)

{
    pthread_t __th;

    __th = pthread_self();
    pthread_detach(__th);
    pthread_setcanceltype(1, (int *)0x0);
    sleep(7);
    /* WARNING: Subroutine does not return */
    exit(1);
}

int FUN_00051eec(int param_1)

{
    int iVar1;
    int *piVar2;
    int iVar3;
    char acStack_808[2048];

    if (DAT_00242f4c < 1) {
    LAB_00051e60:
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (2 < DAT_0009e320)) {
            snprintf(acStack_808, 0x800, "WTF No pool %d found!", param_1);
            FUN_00047ab4(3, acStack_808, 0);
        }
        return DAT_00244048[param_1];
    }
    iVar1 = *DAT_00244048;
    if (*(int *)(iVar1 + 4) != param_1) {
        iVar3 = 0;
        piVar2 = DAT_00244048;
        do {
            iVar3 = iVar3 + 1;
            if (iVar3 == DAT_00242f4c)
                goto LAB_00051e60;
            piVar2 = piVar2 + 1;
            iVar1 = *piVar2;
        } while (*(int *)(iVar1 + 4) != param_1);
    }
    return iVar1;
}

char *FUN_00051f54(char *param_1)

{
    int iVar1;

    iVar1 = sscanf(param_1, "%d:%d", &DAT_00242e70, &DAT_00242e6c);
    if (iVar1 != 2) {
        return "Invalid time set, should be HH:MM";
    }
    if ((DAT_00242e70 < 0x18) && (DAT_00242e6c < 0x3c)) {
        DAT_00242e64 = 1;
        return (char *)0x0;
    }
    return "Invalid time set.";
}

char *FUN_00051fc0(char *param_1)

{
    int iVar1;
    int *piVar2;
    size_t sVar3;
    size_t sVar4;
    char *pcVar5;
    int iVar6;
    undefined4 *puVar7;
    undefined1 auStack_114[92];
    char acStack_b8[164];

    puVar7 = &DAT_001aecc8;
    if (DAT_001aede4 == 0) {
        DAT_001aede4 = __strdup();
    }
    iVar6 = DAT_001aede8 + 1;
    iVar1 = DAT_001aede8 + -9;
    DAT_001aede8 = iVar6;
    if (10 < iVar6) {
        puVar7 = (undefined4 *)0x6914;
    }
    if (iVar6 == 10 || iVar1 < 0 != SBORROW4(iVar6, 10)) {
        piVar2 = (int *)FUN_0006d374(param_1, 0, auStack_114);
        if ((piVar2 != (int *)0x0) && (*piVar2 == 0)) {
            pcVar5 = (char *)FUN_000520b4(piVar2, 1);
            return pcVar5;
        }
        sVar3 = strlen(param_1);
        sVar4 = strlen(acStack_b8);
        sVar3 = sVar3 + sVar4 + 0x23;
        pcVar5 = (char *)FUN_00049624(sVar3, "cgminer.c", "load_config", 0x847);
        snprintf(pcVar5, sVar3, "JSON decode of file \'%s\' failed\n %s",
                 param_1, acStack_b8);
        return pcVar5;
    }
    return (char *)((uint)puVar7 & 0xffff | 0x80000);
}

undefined *FUN_000520b4(undefined4 param_1, int param_2)

{
    char *__s;
    char *pcVar1;
    int *piVar2;
    int *piVar3;
    undefined4 uVar4;
    undefined *puVar5;
    int *piVar6;
    uint uVar7;
    int iVar8;
    char *pcVar9;
    uint uVar10;
    char acStack_828[2052];

    if ((param_2 != 0) && (DAT_001aeeb4 == 0)) {
        DAT_001aeeb4 = 1;
    }
    if (DAT_0009e54c != 0x10) {
        uVar10 = DAT_0009e54c & 8;
        piVar3 = &DAT_0009e548;
        do {
            if (uVar10 != 0) {
                /* WARNING: Subroutine does not return */
                __assert_fail("!(opt->type & OPT_SUBTABLE)", "cgminer.c", 0x79f,
                              "parse_config");
            }
            if (*piVar3 == 0) {
                uVar10 = piVar3[8];
            } else {
                __s = (char *)__strdup();
                pcVar1 = strtok(__s, "|");
                while (pcVar1 != (char *)0x0) {
                    if ((pcVar1[1] == '-') &&
                        (piVar2 = (int *)FUN_0006dfcc(param_1, pcVar1 + 2),
                         piVar2 != (int *)0x0)) {
                        iVar8 = *piVar2;
                        if ((piVar3[1] & 6U) == 0) {
                        LAB_000521c0:
                            if (iVar8 - 5U < 2) {
                                if ((piVar3[1] & 1U) == 0) {
                                    if (iVar8 == 5) {
                                        FUN_0006428c(piVar3[5]);
                                    } else {
                                        FUN_0006429c();
                                    }
                                    goto LAB_0005216c;
                                }
                                pcVar9 = (char *)(*(code *)piVar3[2])();
                                goto LAB_000522b0;
                            }
                            pcVar9 = "Invalid value";
                        } else {
                            if (iVar8 != 2) {
                                if (iVar8 == 1) {
                                    uVar10 = 0;
                                    iVar8 = FUN_0006e1a8(piVar2);
                                    if (iVar8 != 0) {
                                        do {
                                            piVar6 = (int *)FUN_0006e1c4(
                                                piVar2, uVar10);
                                            if (piVar6 == (int *)0x0)
                                                break;
                                            if (*piVar6 == 2) {
                                                uVar4 = FUN_0006e350();
                                                pcVar9 = (char *)(*(
                                                    code *)piVar3[3])(
                                                    uVar4, piVar3[5]);
                                                if (piVar3[1] == 4) {
                                                    FUN_00064370(uVar4,
                                                                 piVar3[5]);
                                                }
                                            LAB_000523d8:
                                                if (pcVar9 != (char *)0x0)
                                                    goto joined_r0x000521dc;
                                            } else if (*piVar6 == 0) {
                                                pcVar9 = (char *)FUN_000520b4();
                                                goto LAB_000523d8;
                                            }
                                            uVar10 = uVar10 + 1;
                                            uVar7 = FUN_0006e1a8(piVar2);
                                        } while (uVar10 < uVar7);
                                    }
                                    goto LAB_0005216c;
                                }
                                goto LAB_000521c0;
                            }
                            uVar4 = FUN_0006e350();
                            pcVar9 =
                                (char *)(*(code *)piVar3[3])(uVar4, piVar3[5]);
                            if (piVar3[1] == 4) {
                                FUN_00064370(uVar4, piVar3[5]);
                            }
                        LAB_000522b0:
                            if (pcVar9 == (char *)0x0)
                                goto LAB_0005216c;
                        }
                    joined_r0x000521dc:
                        if (param_2 == 0) {
                            snprintf(&DAT_001aedec, 200,
                                     "Parsing JSON option %s: %s", pcVar1,
                                     pcVar9);
                            return &DAT_001aedec;
                        }
                        if (((DAT_00244080 != '\0') ||
                             (DAT_001aecc4 != '\0')) ||
                            (2 < DAT_0009e320)) {
                            snprintf(acStack_828, 0x800,
                                     "Invalid config option %s: %s", pcVar1,
                                     pcVar9);
                            FUN_00047ab4(3, acStack_828, 0);
                        }
                        DAT_001aeeb4 = -1;
                    }
                LAB_0005216c:
                    pcVar1 = strtok((char *)0x0, "|");
                }
                free(__s);
                uVar10 = piVar3[8];
            }
            if (uVar10 == 0x10)
                break;
            uVar10 = uVar10 & 8;
            piVar3 = piVar3 + 7;
        } while (true);
    }
    piVar3 = (int *)FUN_0006dfcc(param_1, "include");
    if ((piVar3 != (int *)0x0) && (*piVar3 == 2)) {
        uVar4 = FUN_0006e350();
        puVar5 = (undefined *)FUN_00051fc0(uVar4, 0);
        return puVar5;
    }
    return (undefined *)0x0;
}

char *FUN_0005243c(undefined4 param_1, float *param_2)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_0006437c();
    if (pcVar1 != (char *)0x0) {
        return pcVar1;
    }
    if (100.0 <= *param_2) {
        pcVar1 = (char *)0x0;
        if (250.0 < *param_2) {
            pcVar1 = "Value out of range";
        }
        return pcVar1;
    }
    return "Value out of range";
}

char *FUN_00052494(undefined4 param_1, float *param_2)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_0006437c();
    if (pcVar1 != (char *)0x0) {
        return pcVar1;
    }
    if (125.0 <= *param_2) {
        pcVar1 = (char *)0x0;
        if (500.0 < *param_2) {
            pcVar1 = "Value out of range";
        }
        return pcVar1;
    }
    return "Value out of range";
}

void FUN_000524ec(int param_1, undefined4 param_2, undefined4 *param_3)

{
    char cVar1;
    int iVar2;
    char local_818[28];
    undefined2 uStack_7fc;
    undefined1 local_7fa;

    if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
        (3 < DAT_0009e320)) {
        snprintf(local_818, 0x800, "Thread %d being disabled", param_2);
        FUN_00047ab4(4, local_818, 0);
    }
    cVar1 = DAT_001aecc5;
    iVar2 = *(int *)(param_1 + 0x24);
    *(undefined4 *)(iVar2 + 0x30) = 0;
    *(undefined4 *)(iVar2 + 0x34) = 0;
    if ((cVar1 != '\0') && (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                             (6 < DAT_0009e320)))) {
        builtin_strncpy(local_818, "Waiting on sem in miner thre", 0x1c);
        uStack_7fc = 0x6461;
        local_7fa = 0;
        FUN_00047ab4(7, local_818, 0);
    }
    FUN_0004be90(param_1 + 0x10, "cgminer.c", "mt_disable", 0x23bb);
    if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
        (3 < DAT_0009e320)) {
        snprintf(local_818, 0x800, "Thread %d being re-enabled", param_2);
        FUN_00047ab4(4, local_818, 0);
    }
    (*(code *)*param_3)(param_1);
    return;
}

char *FUN_00052694(undefined4 param_1)

{
    char *pcVar1;

    DAT_001aeeb8 = 2;
    pcVar1 = (char *)FUN_0006448c(param_1, &DAT_00242fe4);
    if (pcVar1 != (char *)0x0) {
        return pcVar1;
    }
    pcVar1 = (char *)0x0;
    if (9999 < DAT_00242fe4) {
        pcVar1 = "Value out of range";
    }
    return pcVar1;
}

char *FUN_000526dc(undefined4 param_1, uint *param_2)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_0006448c();
    if (pcVar1 != (char *)0x0) {
        return pcVar1;
    }
    pcVar1 = (char *)0x0;
    if (9999 < *param_2) {
        pcVar1 = "Value out of range";
    }
    return pcVar1;
}

char *FUN_0005270c(undefined4 param_1, uint *param_2)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_0006448c();
    if (pcVar1 != (char *)0x0) {
        return pcVar1;
    }
    pcVar1 = (char *)0x0;
    if (100 < *param_2) {
        pcVar1 = "Value out of range";
    }
    return pcVar1;
}

char *FUN_00052738(undefined4 param_1, int *param_2)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_0006448c();
    if (pcVar1 != (char *)0x0) {
        return pcVar1;
    }
    pcVar1 = (char *)0x0;
    if (0xfffe < *param_2 - 1U) {
        pcVar1 = "Value out of range";
    }
    return pcVar1;
}

char *FUN_0005276c(undefined4 param_1, int *param_2)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_0006448c();
    if (pcVar1 != (char *)0x0) {
        return pcVar1;
    }
    pcVar1 = (char *)0x0;
    if (0x14 < *param_2 - 0x2aU) {
        pcVar1 = "Value out of range";
    }
    return pcVar1;
}

char *FUN_0005279c(undefined4 param_1, int *param_2)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_0006448c();
    if (pcVar1 != (char *)0x0) {
        return pcVar1;
    }
    pcVar1 = (char *)0x0;
    if (0x21 < *param_2 - 0x16U) {
        pcVar1 = "Value out of range";
    }
    return pcVar1;
}

char *FUN_000527cc(undefined4 param_1, int *param_2)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_0006448c();
    if (pcVar1 != (char *)0x0) {
        return pcVar1;
    }
    pcVar1 = (char *)0x0;
    if (0x2b < *param_2 - 0x2aU) {
        pcVar1 = "Value out of range";
    }
    return pcVar1;
}

char *FUN_000527fc(undefined4 param_1, int *param_2)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_0006448c();
    if (pcVar1 != (char *)0x0) {
        return pcVar1;
    }
    pcVar1 = (char *)0x0;
    if (0x35 < *param_2 - 0x16U) {
        pcVar1 = "Value out of range";
    }
    return pcVar1;
}

char *FUN_0005282c(undefined4 param_1, int *param_2)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_0006448c();
    if (pcVar1 != (char *)0x0) {
        return pcVar1;
    }
    pcVar1 = (char *)0x0;
    if (0x1f < *param_2 - 0x20U) {
        pcVar1 = "Value out of range";
    }
    return pcVar1;
}

char *FUN_0005285c(undefined4 param_1, uint *param_2)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_0006448c();
    if (pcVar1 != (char *)0x0) {
        return pcVar1;
    }
    pcVar1 = (char *)0x0;
    if (4 < *param_2) {
        pcVar1 = "Value out of range";
    }
    return pcVar1;
}

char *FUN_00052888(undefined4 param_1, uint *param_2)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_0006448c();
    if (pcVar1 != (char *)0x0) {
        return pcVar1;
    }
    pcVar1 = (char *)0x0;
    if (200 < *param_2) {
        pcVar1 = "Value out of range";
    }
    return pcVar1;
}

char *FUN_000528b4(undefined4 param_1, uint *param_2)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_0006448c();
    if (pcVar1 != (char *)0x0) {
        return pcVar1;
    }
    pcVar1 = (char *)0x0;
    if (0x1e00 < *param_2) {
        pcVar1 = "Value out of range";
    }
    return pcVar1;
}

char *FUN_000528e0(undefined4 param_1, int *param_2)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_0006448c();
    if (pcVar1 != (char *)0x0) {
        return pcVar1;
    }
    pcVar1 = (char *)0x0;
    if (0xfe < *param_2 - 1U) {
        pcVar1 = "Value out of range";
    }
    return pcVar1;
}

char *FUN_00052910(undefined4 param_1, uint *param_2)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_0006448c();
    if (pcVar1 != (char *)0x0) {
        return pcVar1;
    }
    pcVar1 = (char *)0x0;
    if (0xff < *param_2) {
        pcVar1 = "Value out of range";
    }
    return pcVar1;
}

char *FUN_0005293c(undefined4 param_1, int *param_2)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_0006448c();
    if (pcVar1 != (char *)0x0) {
        return pcVar1;
    }
    pcVar1 = (char *)0x0;
    if (9 < *param_2 - 1U) {
        pcVar1 = "Value out of range";
    }
    return pcVar1;
}

char *FUN_0005296c(undefined4 param_1, uint *param_2)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_0006448c();
    if (pcVar1 != (char *)0x0) {
        return pcVar1;
    }
    pcVar1 = (char *)0x0;
    if (10 < *param_2) {
        pcVar1 = "Value out of range";
    }
    return pcVar1;
}

void FUN_000529e0(double *param_1)

{
    double in_d0;
    double dVar1;
    double in_d1;
    double in_d2;

    dVar1 = exp(in_d1 / in_d2);
    dVar1 = 1.0 - 1.0 / dVar1;
    *param_1 = (*param_1 + (in_d0 / in_d1) * dVar1) / (dVar1 + 1.0);
    return;
}

char *FUN_00052a4c(char *param_1)

{
    int iVar1;

    iVar1 = sscanf(param_1, "%d:%d", &DAT_00242f28, &DAT_00242f24);
    if (iVar1 != 2) {
        return "Invalid time set, should be HH:MM";
    }
    if ((DAT_00242f28 < 0x18) && (DAT_00242f24 < 0x3c)) {
        DAT_00242f1c = 1;
        return (char *)0x0;
    }
    return "Invalid time set.";
}

void FUN_00052ab8(char *param_1, size_t param_2, time_t *param_3)

{
    tm *ptVar1;
    int iVar2;
    time_t local_1c[2];

    iVar2 = param_3[1];
    local_1c[0] = *param_3;
    ptVar1 = localtime(local_1c);
    snprintf(param_1, param_2, "[%d-%02d-%02d %02d:%02d:%02d.%03d]",
             ptVar1->tm_year + 0x76c, ptVar1->tm_mon + 1, ptVar1->tm_mday,
             ptVar1->tm_hour, ptVar1->tm_min, ptVar1->tm_sec, iVar2 / 1000);
    return;
}

void FUN_00052b98(void)

{
    undefined4 uVar1;
    int extraout_r1;
    int extraout_r1_00;
    uint uVar2;
    uint uVar3;
    int *piVar4;
    int iVar6;
    int iVar7;
    int *piVar8;
    int *piVar9;
    char acStack_820[2052];
    int *piVar5;

    piVar8 = DAT_00244048;
    if (DAT_00242f4c < 1) {
        uVar3 = 1;
    } else {
        uVar3 = 0xffffffff;
        piVar4 = DAT_00244048;
        do {
            piVar5 = piVar4 + 1;
            uVar2 = *(uint *)(*piVar4 + 0x38);
            if (uVar2 != 0 && uVar2 < uVar3) {
                uVar3 = uVar2;
            }
            piVar4 = piVar5;
        } while (DAT_00244048 + DAT_00242f4c != piVar5);
        piVar4 = DAT_00244048;
        if (uVar3 == 0xffffffff) {
            uVar3 = 1;
            iVar6 = DAT_0009ed60;
        } else {
            do {
                piVar9 = piVar4 + 1;
                iVar6 = *(int *)(*piVar4 + 0x38);
                if (iVar6 != 0) {
                    FUN_000772cc(iVar6, uVar3);
                    iVar7 = extraout_r1;
                    while (iVar7 != 0) {
                        uVar3 = uVar3 - 1;
                        FUN_000772cc(iVar6, uVar3);
                        iVar7 = extraout_r1_00;
                    }
                }
                piVar4 = piVar9;
                iVar6 = DAT_0009ed60;
            } while (piVar5 != piVar9);
        }
        do {
            piVar4 = piVar8 + 1;
            iVar7 = *piVar8;
            uVar1 = FUN_00077070(*(int *)(iVar7 + 0x40) * iVar6, uVar3);
            *(undefined4 *)(iVar7 + 0x40) = uVar1;
            uVar1 = FUN_00077070(*(undefined4 *)(iVar7 + 0x38), uVar3);
            *(undefined4 *)(iVar7 + 0x3c) = uVar1;
            piVar8 = piVar4;
        } while (piVar5 != piVar4);
    }
    DAT_0009ed60 = uVar3;
    if ((DAT_001aecc5 != '\0') &&
        (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
          (6 < DAT_0009e320)))) {
        snprintf(acStack_820, 0x800,
                 "Global quota greatest common denominator set to %lu", uVar3);
        FUN_00047ab4(7, acStack_820, 0);
    }
    return;
}

char *FUN_00052d1c(undefined4 param_1, int *param_2, int param_3, int param_4)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_0006448c();
    if (pcVar1 == (char *)0x0) {
        pcVar1 = (char *)0x0;
        if (param_4 < *param_2 || *param_2 < param_3) {
            pcVar1 = "Value out of range";
        }
        return pcVar1;
    }
    return pcVar1;
}

void FUN_00052d68(char *param_1, undefined4 *param_2, undefined4 *param_3)

{
    int iVar1;

    iVar1 = sscanf(param_1, "%d-%d", param_2, param_3);
    if (iVar1 == 1) {
        *param_3 = *param_2;
    }
    return;
}

int FUN_00052d98(int param_1, char *param_2)

{
    int iVar1;
    int iVar2;
    undefined4 uVar3;

    iVar1 = FUN_0004a940(param_2, param_1 + 600, param_1 + 0x248);
    if (iVar1 != 0) {
        iVar2 = strncasecmp(param_2, "stratum+tcp://", 0xe);
        if (iVar2 == 0) {
            uVar3 = __strdup(param_2);
            *(undefined4 *)(param_1 + 0xa4) = uVar3;
            *(undefined1 *)(param_1 + 0x280) = 1;
            *(undefined4 *)(param_1 + 0x240) = *(undefined4 *)(param_1 + 600);
            return iVar1;
        }
        iVar1 = 0;
    }
    return iVar1;
}

undefined4 FUN_00052e08(int param_1, undefined4 param_2)

{
    char *__s1;
    int iVar1;
    char *__dest;

    __s1 = (char *)FUN_0004aab4(param_2, param_1);
    iVar1 = FUN_00052d98(param_1, __s1);
    if (iVar1 == 0) {
        FUN_00064370(__s1, param_1 + 0xa4);
        iVar1 = strncmp(__s1, "http://", 7);
        if ((iVar1 != 0) &&
            (iVar1 = strncmp(__s1, "https://", 8), iVar1 != 0)) {
            __dest =
                (char *)FUN_00049624(0x100, "cgminer.c", "setup_url", 0x40d);
            builtin_strncpy(__dest, "stratum+tcp://", 0xf);
            strncat(__dest, __s1, 0xf2);
            FUN_00052d98(param_1, __dest);
        }
    }
    return *(undefined4 *)(param_1 + 0xa4);
}

char *FUN_00052f08(char *param_1)

{
    uint uVar1;
    char *pcVar2;

    uVar1 = strtol(param_1, (char **)0x0, 10);
    pcVar2 = "Invalid value passed to set temp cutoff";
    if (uVar1 < 0xc9) {
        pcVar2 = (char *)0x0;
    }
    return pcVar2;
}

void FUN_00052f30(void *param_1)

{
    free(*(void **)((int)param_1 + 0x120));
    free(*(void **)((int)param_1 + 0x134));
    free(*(void **)((int)param_1 + 0x148));
    free(*(void **)((int)param_1 + 0x140));
    memset(param_1, 0, 0x1c0);
    return;
}

void FUN_00052f6c(int param_1, int param_2, int param_3)

{
    uint uVar1;
    undefined4 uVar2;
    uint local_1c[2];

    uVar2 = *(undefined4 *)(param_1 + 0x154);
    FUN_00052f30();
    FUN_0004c150(param_1, param_2, 0x1c0, "cgminer.c", "_copy_work", 0x1352);
    *(undefined4 *)(param_1 + 0x154) = uVar2;
    if (*(int *)(param_2 + 0x120) != 0) {
        uVar2 = __strdup();
        *(undefined4 *)(param_1 + 0x120) = uVar2;
    }
    if (*(int *)(param_2 + 0x140) != 0) {
        uVar2 = __strdup();
        *(undefined4 *)(param_1 + 0x140) = uVar2;
    }
    if (*(int *)(param_2 + 0x134) == 0) {
        if (param_3 != 0) {
            uVar1 = *(uint *)(param_1 + 0x44);
            uVar1 = param_3 + (uVar1 << 0x18 | (uVar1 >> 8 & 0xff) << 0x10 |
                               (uVar1 >> 0x10 & 0xff) << 8 | uVar1 >> 0x18);
            *(uint *)(param_1 + 0x44) =
                uVar1 * 0x1000000 | (uVar1 >> 8 & 0xff) << 0x10 |
                (uVar1 >> 0x10 & 0xff) << 8 | uVar1 >> 0x18;
        }
    } else if (param_3 == 0) {
        uVar2 = __strdup();
        *(undefined4 *)(param_1 + 0x134) = uVar2;
    } else {
        uVar1 = *(uint *)(param_1 + 0x44);
        uVar1 = param_3 + (uVar1 << 0x18 | (uVar1 >> 8 & 0xff) << 0x10 |
                           (uVar1 >> 0x10 & 0xff) << 8 | uVar1 >> 0x18);
        *(uint *)(param_1 + 0x44) = uVar1 * 0x1000000 |
                                    (uVar1 >> 8 & 0xff) << 0x10 |
                                    (uVar1 >> 0x10 & 0xff) << 8 | uVar1 >> 0x18;
        FUN_00049940(local_1c, *(undefined4 *)(param_2 + 0x134), 4);
        uVar1 =
            param_3 + (local_1c[0] << 0x18 | (local_1c[0] >> 8 & 0xff) << 0x10 |
                       (local_1c[0] >> 0x10 & 0xff) << 8 | local_1c[0] >> 0x18);
        local_1c[0] = uVar1 * 0x1000000 | (uVar1 >> 8 & 0xff) << 0x10 |
                      (uVar1 >> 0x10 & 0xff) << 8 | uVar1 >> 0x18;
        uVar2 = FUN_0004988c(local_1c, 4);
        *(undefined4 *)(param_1 + 0x134) = uVar2;
    }
    if (*(int *)(param_2 + 0x148) != 0) {
        uVar2 = __strdup();
        *(undefined4 *)(param_1 + 0x148) = uVar2;
    }
    *(undefined4 *)(param_1 + 0x1bc) = *(undefined4 *)(param_2 + 0x1bc);
    return;
}

void FUN_00053084(undefined4 *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    void *__ptr;
    char acStack_808[2040];

    __ptr = (void *)*param_1;
    if (__ptr != (void *)0x0) {
        FUN_00052f30(__ptr);
        free(__ptr);
        *param_1 = 0;
        return;
    }
    if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
        (DAT_0009e320 < 3)) {
        return;
    }
    snprintf(acStack_808, 0x800,
             "Free work called with NULL work from %s %s:%d", param_2, param_3,
             param_4);
    FUN_00047ab4(3, acStack_808, 0);
    return;
}

undefined4 FUN_00053118(int param_1)

{
    undefined4 uVar1;
    undefined4 extraout_s1;
    undefined1 auStack_10[8];
    double dVar2;

    if (*(int *)(param_1 + 0x170) == 0) {
        dVar2 = DAT_0009ed68;
        if (DAT_0009ed68 < 1.0) {
            dVar2 = 0.0;
        }
        return SUB84(dVar2, 0);
    }
    FUN_0004a60c(auStack_10);
    uVar1 = FUN_0004a8fc(auStack_10, param_1 + 0x170);
    dVar2 = (double)CONCAT44(extraout_s1, uVar1);
    if (dVar2 < 1.0) {
        dVar2 = 0.0;
    }
    return SUB84(dVar2, 0);
}

void FUN_0005317c(void)

{
    undefined1 auStack_10[12];

    FUN_0004a60c(auStack_10);
    FUN_0004a8fc(auStack_10, &DAT_001af0bc);
    return;
}

void FUN_000531a4(void)

{
    undefined1 auStack_10[12];

    FUN_0004a60c(auStack_10);
    FUN_0004a8fc(auStack_10, &DAT_001af0c4);
    return;
}

void FUN_000531cc(undefined4 param_1, uint param_2)

{
    int iVar1;
    uint uVar2;
    int iVar3;
    undefined1 auStack_c08[1024];
    char acStack_808[2048];

    iVar1 = 4;
    iVar3 = 0;
    do {
        uVar2 = param_2 & 0xff;
        iVar1 = iVar1 + -1;
        param_2 = param_2 >> 8;
        iVar3 = uVar2 + iVar3 * 0x100;
    } while (iVar1 != 0);
    FUN_0004981c(auStack_c08, param_1, 0x80);
    if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
        (DAT_0009e320 < 3)) {
        return;
    }
    snprintf(acStack_808, 0x800, "BENCHFILE nonce %u=0x%08x for work=%s", iVar3,
             iVar3, auStack_c08);
    FUN_00047ab4(3, acStack_808, 0);
    return;
}

undefined4 FUN_000532cc(int param_1)

{
    undefined4 uVar1;
    double dVar2;
    double dVar3;
    double dVar4;
    double dVar5;

    if (param_1 != 0) {
        dVar4 = (double)FUN_000778a4(*(undefined4 *)(param_1 + 0xd8),
                                     *(undefined4 *)(param_1 + 0xdc));
        dVar2 = (double)FUN_000778a4(*(undefined4 *)(param_1 + 0xd0),
                                     *(undefined4 *)(param_1 + 0xd4));
        dVar3 = (double)FUN_000778a4(*(undefined4 *)(param_1 + 200),
                                     *(undefined4 *)(param_1 + 0xcc));
        dVar5 = (double)FUN_000778a4(*(undefined4 *)(param_1 + 0xc0),
                                     *(undefined4 *)(param_1 + 0xc4));
        dVar5 = dVar5 + dVar4 * 6.277101735386681e+57 +
                dVar2 * 3.402823669209385e+38 + dVar3 * 1.8446744073709552e+19;
        if (dVar5 != 0.0) {
            dVar5 = 2.695953529101131e+67 / dVar5;
            uVar1 =
                FUN_00077970(SUB84(dVar5, 0), (int)((ulonglong)dVar5 >> 0x20));
            return uVar1;
        }
    }
    return 0;
}

void FUN_00053380(int *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    int iVar1;
    int iVar2;
    bool bVar3;
    char local_818[12];
    undefined4 uStack_80c;
    char local_808[2036];

    iVar1 = *param_1;
    if (iVar1 == 0) {
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (2 < DAT_0009e320)) {
            snprintf(local_818, 0x800,
                     "Discard work called with NULL work from %s %s:%d",
                     param_2, param_3, param_4);
            FUN_00047ab4(3, local_818, 0);
        }
    } else {
        if (((*(char *)(iVar1 + 0x111) == '\0') &&
             (*(int *)(iVar1 + 0xf0) == 0)) &&
            (*(char *)(iVar1 + 0x110) == '\0')) {
            iVar2 = *(int *)(iVar1 + 0x104);
            if (iVar2 != 0) {
                *(int *)(iVar2 + 0x7c) = *(int *)(iVar2 + 0x7c) + 1;
                *(int *)(*(int *)(iVar1 + 0x104) + 0x40) =
                    *(int *)(*(int *)(iVar1 + 0x104) + 0x40) + -1;
                *(int *)(*(int *)(iVar1 + 0x104) + 0x44) =
                    *(int *)(*(int *)(iVar1 + 0x104) + 0x44) + -1;
            }
            bVar3 = 0xfffffffe < DAT_00242f00;
            DAT_00242f00 = DAT_00242f00 + 1;
            DAT_00242f04 = DAT_00242f04 + (uint)bVar3;
            if ((DAT_001aecc5 != '\0') &&
                (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                  (6 < DAT_0009e320)))) {
                builtin_strncpy(local_818, "Discarded wo", 0xc);
                uStack_80c._0_3_ = 0x6b72;
                FUN_00047ab4(7, local_818, 0);
            }
        } else if ((DAT_001aecc5 != '\0') &&
                   (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                     (6 < DAT_0009e320)))) {
            builtin_strncpy(local_818, "Discarded cl", 0xc);
            uStack_80c._0_1_ = 'o';
            uStack_80c._1_1_ = 'n';
            uStack_80c._2_1_ = 'e';
            uStack_80c._3_1_ = 'd';
            builtin_strncpy(local_808, " or rolled work", 0x10);
            FUN_00047ab4(7, local_818, 0);
        }
        FUN_00053084(param_1, param_2, param_3, param_4);
    }
    return;
}

void FUN_000535b8(int *param_1)

{
    int *piVar1;
    int iVar3;
    int *piVar4;
    int iVar5;
    int iVar6;
    int *piVar2;

    iVar5 = DAT_00242f4c;
    iVar6 = DAT_00242f4c + -1;
    if (0 < DAT_00242f4c) {
        piVar4 = DAT_00244048 + DAT_00242f4c;
        piVar1 = DAT_00244048;
        do {
            piVar2 = piVar1 + 1;
            iVar3 = *(int *)(*piVar1 + 4);
            if (param_1[1] < iVar3) {
                *(int *)(*piVar1 + 4) = iVar3 + -1;
            }
            piVar1 = piVar2;
        } while (piVar2 != piVar4);
    }
    if (*param_1 < iVar6) {
        *(int *)DAT_00244048[iVar6] = *param_1;
        DAT_00244048[*param_1] = DAT_00244048[iVar6];
        iVar5 = DAT_00242f4c;
    }
    *param_1 = iVar5;
    *(undefined1 *)((int)param_1 + 0x69) = 1;
    DAT_00242f4c = DAT_00242f4c + -1;
    return;
}

void FUN_00053654(FILE *param_1)

{
    char cVar1;
    undefined4 *puVar2;
    int iVar3;
    char *pcVar4;
    undefined4 uVar5;
    char *pcVar6;
    uint uVar7;
    char *pcVar8;
    code *pcVar9;
    int iVar10;
    undefined4 *puVar11;
    int iVar12;
    char *pcVar13;
    char *local_30;
    char *local_2c;

    fwrite(&DAT_00086bd4, 1, 0xd, param_1);
    if (0 < DAT_00242f4c) {
        pcVar13 = "";
        iVar12 = 0;
        do {
            iVar3 = FUN_00051eec(iVar12);
            iVar10 = *(int *)(iVar3 + 0x38);
            if (iVar10 == 1) {
                pcVar6 = pcVar13;
                if (iVar12 != 0) {
                    pcVar6 = ",";
                }
                pcVar8 = pcVar13;
                pcVar4 = pcVar13;
                if (*(int *)(iVar3 + 0xb8) == 0) {
                    local_30 = "";
                } else {
                    FUN_000497d0(*(undefined4 *)(iVar3 + 0xb4));
                    local_30 = (char *)FUN_0005199c();
                    if (*(int *)(iVar3 + 0xb8) != 0) {
                        pcVar4 = (char *)FUN_0005199c();
                        pcVar8 = "|";
                        if (*(int *)(iVar3 + 0xb8) == 0) {
                            pcVar8 = pcVar13;
                        }
                    }
                }
                uVar5 = FUN_0005199c(*(undefined4 *)(iVar3 + 0xa4));
                fprintf(param_1, "%s\n\t{\n\t\t\"url\" : \"%s%s%s%s\",", pcVar6,
                        local_30, pcVar4, pcVar8, uVar5);
                cVar1 = *(char *)(iVar3 + 0x244);
            } else {
                pcVar6 = pcVar13;
                if (iVar12 != 0) {
                    pcVar6 = ",";
                }
                pcVar8 = pcVar13;
                if (*(int *)(iVar3 + 0xb8) == 0) {
                    pcVar4 = "";
                    local_2c = "";
                } else {
                    FUN_000497d0(*(undefined4 *)(iVar3 + 0xb4));
                    local_2c = (char *)FUN_0005199c();
                    if (*(int *)(iVar3 + 0xb8) == 0) {
                        iVar10 = *(int *)(iVar3 + 0x38);
                        pcVar4 = pcVar13;
                    } else {
                        pcVar4 = (char *)FUN_0005199c();
                        iVar10 = *(int *)(iVar3 + 0x38);
                        pcVar8 = "|";
                        if (*(int *)(iVar3 + 0xb8) == 0) {
                            pcVar8 = pcVar13;
                        }
                    }
                }
                uVar5 = FUN_0005199c(*(undefined4 *)(iVar3 + 0xa4));
                fprintf(param_1, "%s\n\t{\n\t\t\"quota\" : \"%s%s%s%d;%s\",",
                        pcVar6, local_2c, pcVar4, pcVar8, iVar10, uVar5);
                cVar1 = *(char *)(iVar3 + 0x244);
            }
            if (cVar1 != '\0') {
                fwrite("\n\t\t\"extranonce-subscribe\" : true,", 1, 0x21,
                       param_1);
            }
            iVar12 = iVar12 + 1;
            uVar5 = FUN_0005199c(*(undefined4 *)(iVar3 + 0xac));
            fprintf(param_1, "\n\t\t\"user\" : \"%s\",", uVar5);
            uVar5 = FUN_0005199c(*(undefined4 *)(iVar3 + 0xb0));
            fprintf(param_1, "\n\t\t\"pass\" : \"%s\"\n\t}", uVar5);
        } while (iVar12 < DAT_00242f4c);
    }
    fwrite(&DAT_00086c70, 1, 3, param_1);
    puVar2 = &DAT_0009e548;
    iVar12 = DAT_0009e54c;
    do {
        if (iVar12 == 0x10) {
            if (DAT_001aeeb8 == 4) {
                fwrite(",\n\"balance\" : true", 1, 0x12, param_1);
            }
            if (DAT_001aeeb8 == 3) {
                fwrite(",\n\"load-balance\" : true", 1, 0x17, param_1);
            }
            if (DAT_001aeeb8 == 1) {
                fwrite(",\n\"round-robin\" : true", 1, 0x16, param_1);
            }
            if (DAT_001aeeb8 == 2) {
                fprintf(param_1, ",\n\"rotate\" : \"%d\"", DAT_00242fe4);
            }
            fwrite(&DAT_00086d0c, 1, 3, param_1);
            puVar2 = DAT_001aece0;
            DAT_001aece0 = (undefined4 *)0x0;
            while (puVar2 != (undefined4 *)0x0) {
                puVar11 = (undefined4 *)puVar2[1];
                free((void *)*puVar2);
                free(puVar2);
                puVar2 = puVar11;
            }
            return;
        }
        pcVar6 = (char *)__strdup(*puVar2);
        pcVar13 = strtok(pcVar6, "|");
        while (pcVar13 != (char *)0x0) {
            if ((pcVar13[1] == '-') &&
                ((undefined4 *)puVar2[6] != &DAT_002463f0)) {
                uVar7 = puVar2[1];
                if ((uVar7 & 1) != 0) {
                    pcVar9 = (code *)puVar2[2];
                    if ((pcVar9 == FUN_0006428c ||
                         pcVar9 == (code *)&UNK_000642ac) &&
                        ((bool)*(char *)puVar2[5] ==
                         (pcVar9 == FUN_0006428c))) {
                        fprintf(param_1, ",\n\"%s\" : true", pcVar13 + 2);
                        goto LAB_000539f8;
                    }
                }
                if ((uVar7 & 2) == 0) {
                LAB_00053a74:
                    if ((((uVar7 & 6) != 0) &&
                         ((int *)puVar2[5] != (int *)&DAT_001af0cc)) &&
                        (*(int *)puVar2[5] != 0)) {
                        uVar5 = FUN_0005199c();
                        fprintf(param_1, ",\n\"%s\" : \"%s\"", pcVar13 + 2,
                                uVar5);
                    }
                } else {
                    pcVar9 = (code *)puVar2[3];
                    if (pcVar9 == FUN_0005276c ||
                        (pcVar9 == FUN_0005279c ||
                         (pcVar9 == FUN_000527cc ||
                          (pcVar9 == FUN_000527fc ||
                           (pcVar9 == FUN_0005282c ||
                            (pcVar9 == FUN_0005285c ||
                             (pcVar9 == FUN_00052888 ||
                              (pcVar9 == FUN_000528b4 ||
                               (pcVar9 == FUN_000528e0 ||
                                (pcVar9 == FUN_00052910 ||
                                 (pcVar9 == FUN_0005270c ||
                                  (pcVar9 == FUN_0005293c ||
                                   (pcVar9 == FUN_0005296c ||
                                    (pcVar9 == FUN_00052738 ||
                                     (pcVar9 == FUN_000526dc ||
                                      pcVar9 == FUN_0006448c))))))))))))))) {
                        fprintf(param_1, ",\n\"%s\" : \"%d\"", pcVar13 + 2,
                                *(undefined4 *)puVar2[5]);
                    } else {
                        if (pcVar9 != FUN_00052494 && pcVar9 != FUN_0005243c)
                            goto LAB_00053a74;
                        fprintf(param_1, ",\n\"%s\" : \"%.1f\"", pcVar13 + 2,
                                (float *)puVar2[5],
                                (double)*(float *)puVar2[5]);
                    }
                }
            }
        LAB_000539f8:
            pcVar13 = strtok((char *)0x0, "|");
        }
        free(pcVar6);
        iVar12 = puVar2[8];
        puVar2 = puVar2 + 7;
    } while (true);
}

void FUN_00053c3c(void)

{
    int *piVar1;
    int iVar3;
    int *piVar4;
    int *piVar2;

    DAT_0009ed70 = 0;
    DAT_0009ed74 = 0;
    DAT_001af0d0 = 0;
    DAT_001af0d4 = 0;
    FUN_00051b18(0, 0, &DAT_0009ed70, 8, 0);
    if (0 < DAT_00242f4c) {
        piVar4 = DAT_00244048 + DAT_00242f4c;
        piVar1 = DAT_00244048;
        do {
            piVar2 = piVar1 + 1;
            iVar3 = *piVar1;
            *(undefined4 *)(iVar3 + 0x170) = 0;
            *(undefined4 *)(iVar3 + 0x174) = 0;
            piVar1 = piVar2;
        } while (piVar2 != piVar4);
    }
    return;
}

void FUN_00053cd4(char *param_1)

{
    char *pcVar1;
    size_t sVar2;

    if ((DAT_00242ff8 != (char *)0x0) && (*DAT_00242ff8 != '\0')) {
        strcpy(param_1, DAT_00242ff8);
        return;
    }
    pcVar1 = getenv("HOME");
    if ((pcVar1 == (char *)0x0) || (pcVar1 = getenv("HOME"), *pcVar1 == '\0')) {
        *param_1 = '\0';
    } else {
        pcVar1 = getenv("HOME");
        pcVar1 = stpcpy(param_1, pcVar1);
        pcVar1[0] = '/';
        pcVar1[1] = '\0';
    }
    sVar2 = strlen(param_1);
    builtin_strncpy(param_1 + sVar2, ".bmminer/", 10);
    mkdir(param_1, 0x1ff);
    sVar2 = strlen(param_1);
    builtin_strncpy(param_1 + sVar2, "bmminer.conf", 0xd);
    return;
}

void FUN_00053dd0(void)

{
    int iVar1;

    DAT_001aede4 =
        (char *)FUN_00049624(0x1000, "cgminer.c", "load_default_config", 0x860);
    FUN_00053cd4();
    iVar1 = access(DAT_001aede4, 4);
    if (iVar1 != 0) {
        free(DAT_001aede4);
        DAT_001aede4 = (char *)0x0;
        return;
    }
    FUN_00051fc0();
    return;
}

void FUN_00053e30(undefined4 param_1)

{
    void *__ptr;
    double in_d0;
    double dVar1;
    double dVar2;
    undefined8 uVar3;
    undefined8 local_850;
    undefined8 local_848;
    undefined8 local_840;
    undefined8 local_838;
    char local_830[28];
    undefined2 uStack_814;
    undefined1 local_812;

    if (in_d0 == 0.0) {
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 3)) {
            local_850 = 0;
            local_848 = 0;
            local_840 = 0;
            uVar3 = 0xffff0000;
        } else {
            uVar3 = 0xffff0000;
            builtin_strncpy(local_830, "Diff zero passed to set_targ", 0x1c);
            uStack_814 = 0x7465;
            local_812 = 0;
            FUN_00047ab4(3, local_830, 0);
            local_850 = 0;
            local_848 = 0;
            local_840 = 0;
        }
    } else {
        dVar1 = (2.695953529101131e+67 / in_d0) * 1.5930919111324523e-58;
        uVar3 = FUN_00077970(SUB84(dVar1, 0), (int)((ulonglong)dVar1 >> 0x20));
        dVar1 = (double)FUN_000778a4();
        dVar2 = 2.695953529101131e+67 / in_d0 - dVar1 * 6.277101735386681e+57;
        dVar1 = dVar2 * 2.938735877055719e-39;
        local_840 =
            FUN_00077970(SUB84(dVar1, 0), (int)((ulonglong)dVar1 >> 0x20));
        dVar1 = (double)FUN_000778a4();
        dVar2 = dVar2 - dVar1 * 3.402823669209385e+38;
        dVar1 = dVar2 * 5.421010862427522e-20;
        local_848 =
            FUN_00077970(SUB84(dVar1, 0), (int)((ulonglong)dVar1 >> 0x20));
        dVar1 = (double)FUN_000778a4();
        dVar2 = dVar2 - dVar1 * 1.8446744073709552e+19;
        local_850 =
            FUN_00077970(SUB84(dVar2, 0), (int)((ulonglong)dVar2 >> 0x20));
    }
    local_838 = uVar3;
    if (DAT_001aecc5 != '\0') {
        __ptr = (void *)FUN_0004988c(&local_850, 0x20);
        if ((DAT_001aecc5 != '\0') &&
            (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
              (6 < DAT_0009e320)))) {
            snprintf(local_830, 0x800, "Generated target %s", __ptr);
            FUN_00047ab4(7, local_830, 0);
        }
        free(__ptr);
    }
    FUN_0004c150(param_1, &local_850, 0x20, "cgminer.c", "set_target", 0x2076);
    return;
}

bool FUN_000540dc(int param_1, undefined4 param_2)

{
    *(undefined4 *)(param_1 + 0x4c) = param_2;
    FUN_00051dd0();
    return *(int *)(param_1 + 0xdc) == 0;
}

uint FUN_000540fc(int param_1, undefined4 param_2)

{
    uint uVar1;
    uint uVar2;
    uint uVar3;
    uint uVar4;
    bool bVar5;
    bool bVar6;
    double in_d0;
    longlong lVar7;

    *(undefined4 *)(param_1 + 0x4c) = param_2;
    FUN_00051dd0();
    lVar7 = FUN_00077970(SUB84(4294901760.0 / in_d0, 0),
                         (int)((ulonglong)(4294901760.0 / in_d0) >> 0x20));
    uVar2 = (uint)((ulonglong)lVar7 >> 0x20);
    uVar1 = (uint)lVar7;
    uVar3 = *(uint *)(param_1 + 0xd8);
    uVar4 = *(uint *)(param_1 + 0xdc);
    bVar6 = uVar2 <= uVar4;
    if (uVar4 == uVar2) {
        bVar6 = uVar1 <= uVar3;
    }
    bVar5 = uVar3 != uVar1;
    if (!bVar6 || lVar7 == *(longlong *)(param_1 + 0xd8)) {
        uVar1 = 1;
    }
    if (bVar6 && (uVar4 != uVar2 || bVar5)) {
        uVar1 = 0;
    }
    return uVar1;
}

undefined4 FUN_00054148(int param_1, int param_2)

{
    int iVar1;
    char acStack_808[2052];

    iVar1 = *(int *)(param_1 + 0x24);
    if (*(int *)(iVar1 + 0xec) != param_2) {
        *(int *)(iVar1 + 0xec) = param_2;
        return 1;
    }
    if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
        (DAT_0009e320 < 6)) {
        return 0;
    }
    snprintf(acStack_808, 0x800, "%s %d duplicate share detected as HW error",
             *(undefined4 *)(*(int *)(iVar1 + 4) + 8),
             *(undefined4 *)(iVar1 + 8));
    FUN_00047ab4(6, acStack_808, 0);
    return 0;
}

void FUN_000541ec(undefined4 *param_1, undefined4 param_2)

{
    void *__ptr;
    void *__ptr_00;
    void *__ptr_01;
    void *__ptr_02;
    void *__ptr_03;
    void *__ptr_04;
    void *__ptr_05;
    void *__ptr_06;
    size_t __size;
    undefined4 uVar1;
    undefined4 uVar2;
    undefined4 uVar3;
    undefined4 *puVar4;
    undefined4 *puVar5;
    undefined4 *puVar6;
    undefined4 local_4c8;
    undefined4 uStack_4c4;
    undefined4 uStack_4c0;
    undefined4 uStack_4bc;
    undefined4 local_4b8;
    undefined4 uStack_4b4;
    undefined4 uStack_4b0;
    undefined4 uStack_4ac;
    undefined4 local_4a8;
    undefined4 uStack_4a4;
    undefined4 uStack_4a0;
    undefined4 local_49c;
    undefined4 uStack_498;
    undefined4 local_494;
    undefined4 local_490;
    undefined4 local_48c;
    undefined4 local_488;
    undefined4 uStack_484;
    undefined4 uStack_480;
    undefined4 uStack_47c;
    undefined4 local_478;
    undefined4 uStack_474;
    undefined4 uStack_470;
    undefined4 uStack_46c;
    undefined4 local_468[16];
    char acStack_428[1028];

    if (DAT_001af0d8 == (FILE *)0x0) {
        DAT_001af0d8 = fopen64("/nvdata/worklog.txt", "wb");
    }
    memset(acStack_428, 0, 0x400);
    local_49c = 0;
    uStack_498 = 0;
    local_494 = 0;
    local_490 = 0;
    local_48c = 0;
    puVar4 = local_468;
    puVar6 = param_1;
    do {
        puVar5 = puVar6;
        puVar6 = puVar5 + 4;
        uVar1 = puVar5[1];
        uVar2 = puVar5[2];
        uVar3 = puVar5[3];
        *puVar4 = *puVar5;
        puVar4[1] = uVar1;
        puVar4[2] = uVar2;
        puVar4[3] = uVar3;
        puVar4 = puVar4 + 4;
    } while (puVar6 != param_1 + 0x10);
    local_4c8 = param_1[0x20];
    uStack_4c4 = param_1[0x21];
    uStack_4c0 = param_1[0x22];
    uStack_4bc = param_1[0x23];
    local_4b8 = param_1[0x24];
    uStack_4b4 = param_1[0x25];
    uStack_4b0 = param_1[0x26];
    uStack_4ac = param_1[0x27];
    local_4a8 = *puVar6;
    uStack_4a4 = puVar5[5];
    uStack_4a0 = puVar5[6];
    local_488 = param_1[0x30];
    uStack_484 = param_1[0x31];
    uStack_47c = param_1[0x33];
    uStack_480 = param_1[0x32];
    local_478 = param_1[0x34];
    uStack_474 = param_1[0x35];
    uStack_470 = param_1[0x36];
    uStack_46c = param_1[0x37];
    FUN_00050b5c(local_468, 0x40);
    FUN_00050b5c(&local_4c8, 0x20);
    FUN_00050b5c(&local_4a8, 0xc);
    FUN_00050b5c(&local_488, 0x20);
    __ptr = (void *)FUN_0004988c(param_1, 0x80);
    __ptr_00 = (void *)FUN_0004988c(local_468, 0x40);
    __ptr_01 = (void *)FUN_0004988c(&local_4c8, 0x20);
    __ptr_02 = (void *)FUN_0004988c(&local_4a8, 0xc);
    __ptr_03 = (void *)FUN_0004988c(param_2, 4);
    __ptr_04 = (void *)FUN_0004988c(param_2, 5);
    __ptr_05 = (void *)FUN_0004988c(&local_488, 0x20);
    __ptr_06 = (void *)FUN_0004988c(param_1 + 0x6f, 4);
    sprintf(acStack_428, "midstate %s data %s nonce %s version %s \r\n",
            __ptr_01, __ptr_02, __ptr_03, __ptr_06);
    __size = strlen(acStack_428);
    fwrite(acStack_428, __size, 1, DAT_001af0d8);
    fflush(DAT_001af0d8);
    if (__ptr != (void *)0x0) {
        free(__ptr);
    }
    if (__ptr_00 != (void *)0x0) {
        free(__ptr_00);
    }
    if (__ptr_01 != (void *)0x0) {
        free(__ptr_01);
    }
    if (__ptr_02 != (void *)0x0) {
        free(__ptr_02);
    }
    if (__ptr_03 != (void *)0x0) {
        free(__ptr_03);
    }
    if (__ptr_04 != (void *)0x0) {
        free(__ptr_04);
    }
    if (__ptr_05 != (void *)0x0) {
        free(__ptr_05);
    }
    if (__ptr_06 != (void *)0x0) {
        free(__ptr_06);
    }
    return;
}

void FUN_000544a0(void)

{
    FUN_000541ec();
    return;
}

bool FUN_000544c8(int param_1, undefined4 param_2)

{
    bool bVar1;

    *(undefined4 *)(param_1 + 0x4c) = param_2;
    FUN_00051dd0();
    bVar1 = *(int *)(param_1 + 0xdc) == 0;
    if (bVar1) {
        FUN_000541ec(param_1);
    }
    return bVar1;
}

void FUN_00054514(int param_1, int param_2)

{
    void *pvVar1;
    uint uVar2;
    uint uVar3;
    int iVar4;
    int *piVar5;
    uint uVar6;
    undefined4 uVar7;
    int iVar8;
    int iVar9;
    undefined4 *puVar10;
    int iVar11;
    uint local_2c;

    *(int *)(param_1 + 0x168) = *(int *)(param_1 + 0x168) + 1;
    *(int *)(param_2 + 0x16c) = param_2 + 0x154;
    *(undefined4 *)(param_2 + 0x170) = 4;
    uVar2 = *(byte *)(param_2 + 0x154) + 0x112410d +
                (uint) * (byte *)(param_2 + 0x157) * 0x1000000 +
                (uint) * (byte *)(param_2 + 0x156) * 0x10000 +
                (uint) * (byte *)(param_2 + 0x155) * 0x100 ^
            0x7f76d;
    uVar6 = 0x9f49bac6 - uVar2 ^ uVar2 << 8;
    uVar3 = (-0x112410d - uVar2) - uVar6 ^ uVar6 >> 0xd;
    uVar2 = (uVar2 - uVar6) - uVar3 ^ uVar3 >> 0xc;
    uVar6 = (uVar6 - uVar3) - uVar2 ^ uVar2 << 0x10;
    uVar3 = (uVar3 - uVar2) - uVar6 ^ uVar6 >> 5;
    uVar2 = (uVar2 - uVar6) - uVar3 ^ uVar3 >> 3;
    uVar6 = (uVar6 - uVar3) - uVar2 ^ uVar2 << 10;
    uVar2 = (uVar3 - uVar2) - uVar6 ^ uVar6 >> 0xf;
    *(uint *)(param_2 + 0x174) = uVar2;
    if (*(int *)(param_1 + 0x160) == 0) {
        *(undefined4 *)(param_2 + 0x160) = 0;
        *(undefined4 *)(param_2 + 0x15c) = 0;
        *(int *)(param_1 + 0x160) = param_2;
        pvVar1 = malloc(0x2c);
        *(void **)(param_2 + 0x158) = pvVar1;
        pvVar1 = *(void **)(*(int *)(param_1 + 0x160) + 0x158);
        if (pvVar1 == (void *)0x0)
            goto LAB_00054944;
        memset(pvVar1, 0, 0x2c);
        piVar5 = (int *)(*(int *)(param_1 + 0x160) + 0x158);
        *(int **)(*piVar5 + 0x10) = piVar5;
        *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 4) = 0x20;
        *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 8) = 5;
        *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 0x14) =
            0x158;
        puVar10 = *(undefined4 **)(*(int *)(param_1 + 0x160) + 0x158);
        pvVar1 = malloc(0x180);
        *puVar10 = pvVar1;
        pvVar1 = (void *)**(undefined4 **)(*(int *)(param_1 + 0x160) + 0x158);
        if (pvVar1 == (void *)0x0)
            goto LAB_00054944;
        memset(pvVar1, 0, 0x180);
        *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 0x28) =
            0xa0111fe1;
    } else {
        uVar7 = *(undefined4 *)(*(int *)(param_1 + 0x160) + 0x158);
        *(undefined4 *)(param_2 + 0x160) = 0;
        *(undefined4 *)(param_2 + 0x158) = uVar7;
        iVar4 = *(int *)(*(int *)(param_1 + 0x160) + 0x158);
        *(int *)(param_2 + 0x15c) =
            *(int *)(iVar4 + 0x10) - *(int *)(iVar4 + 0x14);
        *(int *)(*(int *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 0x10) +
                 8) = param_2;
        *(int *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 0x10) =
            param_2 + 0x158;
    }
    iVar4 = *(int *)(*(int *)(param_1 + 0x160) + 0x158);
    *(int *)(iVar4 + 0xc) = *(int *)(iVar4 + 0xc) + 1;
    piVar5 = *(int **)(*(int *)(param_1 + 0x160) + 0x158);
    iVar4 = (uVar2 & piVar5[1] - 1U) * 0xc;
    iVar8 = *piVar5 + iVar4;
    *(int *)(iVar8 + 4) = *(int *)(iVar8 + 4) + 1;
    uVar7 =
        *(undefined4 *)(**(int **)(*(int *)(param_1 + 0x160) + 0x158) + iVar4);
    *(undefined4 *)(param_2 + 0x164) = 0;
    *(undefined4 *)(param_2 + 0x168) = uVar7;
    iVar8 = **(int **)(*(int *)(param_1 + 0x160) + 0x158);
    if (*(int *)(iVar8 + iVar4) != 0) {
        *(int *)(*(int *)(iVar8 + iVar4) + 0xc) = param_2 + 0x158;
        iVar8 = **(int **)(*(int *)(param_1 + 0x160) + 0x158);
    }
    *(int *)(iVar8 + iVar4) = param_2 + 0x158;
    iVar4 = **(int **)(*(int *)(param_1 + 0x160) + 0x158) + iVar4;
    if (((uint)((*(int *)(iVar4 + 8) + 1) * 10) <= *(uint *)(iVar4 + 4)) &&
        (iVar4 = *(int *)(param_2 + 0x158), *(int *)(iVar4 + 0x24) != 1)) {
        pvVar1 = calloc(*(int *)(iVar4 + 4) * 0x18, 1);
        if (pvVar1 == (void *)0x0) {
        LAB_00054944:
            /* WARNING: Subroutine does not return */
            exit(-1);
        }
        iVar8 = 0;
        *(uint *)(iVar4 + 0x18) =
            (uint)((*(int *)(iVar4 + 4) * 2 - 1U & *(uint *)(iVar4 + 0xc)) !=
                   0) +
            (*(uint *)(iVar4 + 0xc) >> (*(int *)(iVar4 + 8) + 1U & 0xff));
        *(undefined4 *)(*(int *)(param_2 + 0x158) + 0x1c) = 0;
        piVar5 = *(int **)(param_2 + 0x158);
        uVar2 = piVar5[1];
        if (uVar2 != 0) {
            local_2c = 0;
            do {
                iVar4 = *(int *)(*piVar5 + iVar8);
                if (*(int *)(*piVar5 + iVar8) != 0) {
                    while (true) {
                        iVar11 = *(int *)(iVar4 + 0x10);
                        uVar3 = uVar2 * 2 - 1 & *(uint *)(iVar4 + 0x1c);
                        uVar2 = *(int *)((int)pvVar1 + uVar3 * 0xc + 4) + 1;
                        *(uint *)((int)pvVar1 + uVar3 * 0xc + 4) = uVar2;
                        if ((uint)piVar5[6] < uVar2) {
                            piVar5[7] = piVar5[7] + 1;
                            uVar7 = FUN_00077070(
                                *(undefined4 *)((int)pvVar1 + uVar3 * 0xc + 4),
                                *(undefined4 *)(*(int *)(param_2 + 0x158) +
                                                0x18));
                            *(undefined4 *)((int)pvVar1 + uVar3 * 0xc + 8) =
                                uVar7;
                        }
                        *(undefined4 *)(iVar4 + 0xc) = 0;
                        *(undefined4 *)(iVar4 + 0x10) =
                            *(undefined4 *)((int)pvVar1 + uVar3 * 0xc);
                        iVar9 = *(int *)((int)pvVar1 + uVar3 * 0xc);
                        if (iVar9 != 0) {
                            *(int *)(iVar9 + 0xc) = iVar4;
                        }
                        *(int *)((int)pvVar1 + uVar3 * 0xc) = iVar4;
                        piVar5 = *(int **)(param_2 + 0x158);
                        if (iVar11 == 0)
                            break;
                        uVar2 = piVar5[1];
                        iVar4 = iVar11;
                    }
                    uVar2 = piVar5[1];
                }
                iVar8 = iVar8 + 0xc;
                local_2c = local_2c + 1;
            } while (local_2c < uVar2);
        }
        free((void *)*piVar5);
        *(int *)(*(int *)(param_2 + 0x158) + 4) =
            *(int *)(*(int *)(param_2 + 0x158) + 4) << 1;
        *(int *)(*(int *)(param_2 + 0x158) + 8) =
            *(int *)(*(int *)(param_2 + 0x158) + 8) + 1;
        **(undefined4 **)(param_2 + 0x158) = pvVar1;
        iVar4 = *(int *)(param_2 + 0x158);
        if (*(uint *)(iVar4 + 0xc) >> 1 < *(uint *)(iVar4 + 0x1c)) {
            iVar8 = *(int *)(iVar4 + 0x20) + 1;
        } else {
            iVar8 = 0;
        }
        *(int *)(iVar4 + 0x20) = iVar8;
        if (1 < *(uint *)(*(int *)(param_2 + 0x158) + 0x20)) {
            *(undefined4 *)(*(int *)(param_2 + 0x158) + 0x24) = 1;
        }
    }
    return;
}

int FUN_0005494c(int param_1, void *param_2, size_t param_3, void *param_4,
                 int param_5, size_t param_6)

{
    int iVar1;
    int iVar2;

    if (param_1 != 0) {
        iVar2 = *(int *)(param_1 + 0x160);
        while (true) {
            iVar1 = memcmp((void *)(param_1 + 0x80), param_2, param_3);
            if (((iVar1 == 0) &&
                 (iVar1 = memcmp((void *)(param_1 + param_5), param_4, param_6),
                  iVar1 == 0)) ||
                (param_1 = iVar2, iVar2 == 0))
                break;
            iVar2 = *(int *)(iVar2 + 0x160);
        }
    }
    return param_1;
}

void FUN_00054a08(int param_1, int param_2)

{
    int iVar1;
    int *piVar2;
    int iVar3;
    int iVar4;
    undefined4 *puVar5;

    *(int *)(param_1 + 0x168) = *(int *)(param_1 + 0x168) + -1;
    iVar1 = *(int *)(param_2 + 0x15c);
    if (iVar1 == 0) {
        iVar4 = *(int *)(param_2 + 0x160);
        puVar5 = *(undefined4 **)(*(int *)(param_1 + 0x160) + 0x158);
        if (iVar4 == 0) {
            free((void *)*puVar5);
            free(*(void **)(*(int *)(param_1 + 0x160) + 0x158));
            *(undefined4 *)(param_1 + 0x160) = 0;
            return;
        }
        iVar3 = puVar5[5];
        if (param_2 == puVar5[4] - iVar3)
            goto LAB_00054afc;
    LAB_00054b48:
        *(int *)(param_1 + 0x160) = iVar4;
    } else {
        puVar5 = *(undefined4 **)(*(int *)(param_1 + 0x160) + 0x158);
        iVar3 = puVar5[5];
        if (param_2 == puVar5[4] - iVar3) {
        LAB_00054afc:
            puVar5[4] = iVar1 + iVar3;
            iVar1 = *(int *)(param_2 + 0x15c);
            if (iVar1 == 0) {
                iVar4 = *(int *)(param_2 + 0x160);
                goto LAB_00054b48;
            }
            iVar3 =
                *(int *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 0x14);
        }
        *(undefined4 *)(iVar1 + iVar3 + 8) = *(undefined4 *)(param_2 + 0x160);
        iVar4 = *(int *)(param_1 + 0x160);
    }
    piVar2 = *(int **)(iVar4 + 0x158);
    if (*(int *)(param_2 + 0x160) != 0) {
        *(undefined4 *)(*(int *)(param_2 + 0x160) + piVar2[5] + 4) =
            *(undefined4 *)(param_2 + 0x15c);
        piVar2 = *(int **)(*(int *)(param_1 + 0x160) + 0x158);
    }
    iVar1 = (piVar2[1] - 1U & *(uint *)(param_2 + 0x174)) * 0xc;
    *(int *)(*piVar2 + iVar1 + 4) = *(int *)(*piVar2 + iVar1 + 4) + -1;
    iVar4 = **(int **)(*(int *)(param_1 + 0x160) + 0x158);
    if (*(int *)(iVar4 + iVar1) == param_2 + 0x158) {
        *(undefined4 *)(iVar4 + iVar1) = *(undefined4 *)(param_2 + 0x168);
    }
    iVar1 = *(int *)(param_2 + 0x168);
    if (*(int *)(param_2 + 0x164) != 0) {
        *(int *)(*(int *)(param_2 + 0x164) + 0x10) = iVar1;
        iVar1 = *(int *)(param_2 + 0x168);
    }
    if (iVar1 != 0) {
        *(undefined4 *)(iVar1 + 0xc) = *(undefined4 *)(param_2 + 0x164);
    }
    iVar1 = *(int *)(*(int *)(param_1 + 0x160) + 0x158);
    *(int *)(iVar1 + 0xc) = *(int *)(iVar1 + 0xc) + -1;
    return;
}

undefined4 FUN_00054b78(undefined4 *param_1)

{
    int iVar1;
    time_t tVar2;
    int iVar3;
    int iVar4;
    char acStack_820[16];
    char local_810[28];
    undefined2 uStack_7f4;
    undefined1 local_7f2;

    iVar4 = param_1[9];
    iVar3 = *(int *)(iVar4 + 4);
    snprintf(acStack_820, 0x10, "%d/Miner", *param_1);
    FUN_0004bd10(acStack_820);
    FUN_00051aac(param_1);
    iVar1 = (**(code **)(iVar3 + 0x34))(param_1);
    if (iVar1 != 0) {
        if ((DAT_001aecc5 != '\0') &&
            (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
              (6 < DAT_0009e320)))) {
            builtin_strncpy(local_810, "Waiting on sem in miner thre", 0x1c);
            uStack_7f4 = 0x6461;
            local_7f2 = 0;
            FUN_00047ab4(7, local_810, 0);
        }
        FUN_0004be90(param_1 + 4, "cgminer.c", "miner_thread", 0x2643);
        tVar2 = time((time_t *)0x0);
        *(time_t *)(iVar4 + 0xe8) = tVar2;
        (**(code **)(iVar3 + 0x3c))(param_1);
        (**(code **)(iVar3 + 0x58))(param_1);
        return 0;
    }
    FUN_0004ba2c(iVar4);
    return 0;
}

void FUN_00054ccc(int param_1, int param_2)

{
    int iVar1;
    pthread_t local_c[2];

    iVar1 = pthread_create(local_c, (pthread_attr_t *)0x0, FUN_00051e38,
                           (void *)0x0);
    if (iVar1 == 0) {
        if (param_2 != 0) {
            FUN_00057944();
        }
        if (0 < DAT_001af0dc) {
            kill(DAT_001af0dc, 0xf);
            DAT_001af0dc = 0;
        }
        pthread_cancel(local_c[0]);
        /* WARNING: Subroutine does not return */
        exit(param_1);
    }
    /* WARNING: Subroutine does not return */
    exit(1);
}

void FUN_00054d4c(void)

{
    char local_808[24];
    undefined2 local_7f0;

    FUN_0004c084(&DAT_00057f5c, 0, 5000);
    builtin_strncpy(local_808, "Shutdown signal received", 0x18);
    local_7f0 = 0x2e;
    FUN_00047ab4(3, local_808, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(0, 1);
}

void FUN_00054da8(char *param_1, uint param_2, int param_3)

{
    size_t sVar1;
    size_t sVar2;
    undefined4 uVar3;
    undefined4 uVar4;
    undefined4 uVar5;
    undefined4 extraout_s1;
    double dVar6;
    undefined8 uVar7;
    undefined8 uVar8;
    undefined1 auStack_8a0[16];
    undefined1 auStack_890[16];
    char acStack_880[64];
    char acStack_840[2052];

    uVar5 = FUN_00053118(param_3);
    FUN_000778b4(*(undefined4 *)(param_3 + 0xc0),
                 *(undefined4 *)(param_3 + 0xc4));
    dVar6 = *(double *)(param_3 + 0x30) * 1000000.0;
    uVar7 = FUN_00077970(SUB84(dVar6, 0), (int)((ulonglong)dVar6 >> 0x20));
    dVar6 =
        (*(double *)(param_3 + 0x50) / (double)CONCAT44(extraout_s1, uVar5)) *
        1000000.0;
    uVar8 = FUN_00077970(SUB84(dVar6, 0), (int)((ulonglong)dVar6 >> 0x20));
    FUN_00051b18((int)uVar8, (int)((ulonglong)uVar8 >> 0x20), auStack_8a0, 0x10,
                 4);
    FUN_00051b18((int)uVar7, (int)((ulonglong)uVar7 >> 0x20), auStack_890, 0x10,
                 4);
    snprintf(param_1, param_2, "%s%d ",
             *(undefined4 *)(*(int *)(param_3 + 4) + 8),
             *(undefined4 *)(param_3 + 8));
    (**(code **)(*(int *)(param_3 + 4) + 0x14))(param_1, param_2, param_3);
    sVar1 = strlen(param_1);
    uVar5 = *(undefined4 *)(param_3 + 0x2c);
    uVar7 = *(undefined8 *)(param_3 + 0xd0);
    uVar3 = *(undefined4 *)(param_3 + 200);
    uVar4 = *(undefined4 *)(param_3 + 0xcc);
    snprintf(acStack_880, 0x40,
             "(%ds):%s (avg):%sh/s | A:%.0f R:%.0f HW:%d WU:%.1f/m",
             DAT_0009ed78, auStack_890, auStack_8a0, uVar3, uVar4, uVar7,
             uVar5);
    sVar2 = strlen(acStack_880);
    if (sVar1 + sVar2 < param_2) {
        strcat(param_1, acStack_880);
        (**(code **)(*(int *)(param_3 + 4) + 0x18))(param_1, param_2, param_3);
        return;
    }
    snprintf(acStack_840, 0x800, "tailsprintf buffer overflow in %s %s line %d",
             "cgminer.c", "get_statline", 0xc29, uVar3, uVar4, uVar7, uVar5);
    FUN_00047ab4(3, acStack_840, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

void FUN_00054f7c(void)

{
    char local_808[2052];

    builtin_strncpy(local_808, "Failed to create restart thread", 0x20);
    FUN_00047ab4(3, local_808, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

void FUN_00054fc0(void)

{
    int iVar1;
    int *piVar2;
    undefined8 uVar3;
    char acStack_818[2052];
    undefined4 uStack_14;
    pthread_t apStack_c[2];

    FUN_0004a60c(&DAT_001af0bc);
    iVar1 = pthread_create(apStack_c, (pthread_attr_t *)0x0, FUN_0005c728,
                           (void *)0x0);
    if (iVar1 == 0) {
        return;
    }
    uVar3 = FUN_00054f7c();
    uStack_14 = 0x54ffc;
    piVar2 = __errno_location();
    snprintf(acStack_818, 0x800,
             "Failed to pthread_rwlock_init errno=%d in %s %s():%d", *piVar2,
             "cgminer.c", (int)uVar3, (int)((ulonglong)uVar3 >> 0x20));
    FUN_00047ab4(3, acStack_818, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

void FUN_00055000(undefined4 param_1, undefined4 param_2)

{
    int *piVar1;
    char acStack_808[2052];

    piVar1 = __errno_location();
    snprintf(acStack_808, 0x800,
             "Failed to pthread_rwlock_init errno=%d in %s %s():%d", *piVar1,
             "cgminer.c", param_1, param_2);
    FUN_00047ab4(3, acStack_808, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

void FUN_0005505c(undefined4 param_1, undefined4 param_2)

{
    int *piVar1;
    char acStack_808[2052];

    piVar1 = __errno_location();
    snprintf(acStack_808, 0x800,
             "WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d", *piVar1,
             "cgminer.c", param_1, param_2);
    FUN_00047ab4(3, acStack_808, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

void FUN_000550b8(undefined4 param_1, undefined4 param_2)

{
    int *piVar1;
    char acStack_808[2052];

    piVar1 = __errno_location();
    snprintf(acStack_808, 0x800,
             "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar1,
             "cgminer.c", param_1, param_2);
    FUN_00047ab4(3, acStack_808, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

void FUN_00055114(undefined4 param_1, undefined4 param_2)

{
    int *piVar1;
    char acStack_808[2052];

    piVar1 = __errno_location();
    snprintf(acStack_808, 0x800,
             "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar1,
             "cgminer.c", param_1, param_2);
    FUN_00047ab4(3, acStack_808, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

undefined1 FUN_00055170(int param_1, undefined1 *param_2)

{
    undefined1 uVar1;
    int iVar2;

    iVar2 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0xbc));
    if (iVar2 == 0) {
        uVar1 = *param_2;
        *param_2 = 1;
        iVar2 = pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0xbc));
        if (iVar2 == 0) {
            (*DAT_0009e444)();
            return uVar1;
        }
    } else {
        FUN_000550b8("pool_tset", 0x323);
    }
    /* WARNING: Subroutine does not return */
    FUN_00055114("pool_tset", 0x328);
}

undefined1 FUN_000551dc(int param_1, undefined1 *param_2)

{
    undefined1 uVar1;
    int iVar2;

    iVar2 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0xbc));
    if (iVar2 == 0) {
        uVar1 = *param_2;
        *param_2 = 0;
        iVar2 = pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0xbc));
        if (iVar2 == 0) {
            (*DAT_0009e444)();
            return uVar1;
        }
    } else {
        FUN_000550b8("pool_tclear", 0x332);
    }
    /* WARNING: Subroutine does not return */
    FUN_00055114("pool_tclear", 0x337);
}

uint FUN_00055244(undefined4 *param_1)

{
    char cVar1;
    int iVar2;
    uint uVar3;
    undefined4 uVar4;
    size_t __n;
    char *pcVar5;
    undefined1 auStack_828[8];
    undefined1 auStack_820[8];
    undefined4 local_818;
    undefined4 uStack_814;
    undefined4 uStack_810;
    undefined4 uStack_80c;
    undefined4 local_808;
    undefined4 uStack_804;
    undefined4 uStack_800;
    undefined4 uStack_7fc;
    undefined1 local_7f8;
    char acStack_7f4[24];
    undefined2 uStack_7dc;
    undefined1 local_7da;

    if (*(char *)(param_1 + 0xb8) == '\0') {
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (5 < DAT_0009e320)) {
            snprintf((char *)&local_818, 0x800, "Testing pool %s",
                     param_1[0x29]);
            FUN_00047ab4(6, &local_818, 0);
        }
    } else if ((DAT_001aecc5 != '\0') &&
               (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                 (6 < DAT_0009e320)))) {
        snprintf((char *)&local_818, 0x800,
                 "Retrieving block template from pool %s", param_1[0x29]);
        FUN_00047ab4(7, &local_818, 0);
    }
    if (*(char *)(param_1 + 0xa0) != '\0')
        goto LAB_00055580;
    if (DAT_0009ed7c == 0) {
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 3)) {
            return 0;
        }
        local_818._0_1_ = 'C';
        local_818._1_1_ = 'U';
        local_818._2_1_ = 'R';
        local_818._3_1_ = 'L';
        uStack_814._0_1_ = ' ';
        uStack_814._1_1_ = 'i';
        uStack_814._2_1_ = 'n';
        uStack_814._3_1_ = 'i';
        uStack_810._0_1_ = 't';
        uStack_810._1_1_ = 'i';
        uStack_810._2_1_ = 'a';
        uStack_810._3_1_ = 'l';
        uStack_80c._0_1_ = 'i';
        uStack_80c._1_1_ = 's';
        uStack_80c._2_1_ = 'a';
        uStack_80c._3_1_ = 't';
        local_808._0_1_ = 'i';
        local_808._1_1_ = 'o';
        local_808._2_1_ = 'n';
        local_808._3_1_ = ' ';
        uStack_804._0_1_ = 'f';
        uStack_804._1_1_ = 'a';
        uStack_804._2_1_ = 'i';
        uStack_804._3_1_ = 'l';
        uStack_800 = CONCAT13(uStack_800._3_1_, 0x6465);
        FUN_00047ab4(3, &local_818, 0);
        return 0;
    }
    if (*(char *)((int)param_1 + 99) == '\0') {
        if (DAT_001aecc5 == '\0') {
            *(undefined1 *)((int)param_1 + 99) = 0;
        } else if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                   (DAT_0009e320 < 7)) {
            *(undefined1 *)((int)param_1 + 99) = 0;
            if (*(char *)(param_1 + 0xb8) == '\0') {
                if (*(char *)(param_1 + 0xe1) == '\0') {
                joined_r0x000559c8:
                    if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                        (6 < DAT_0009e320)) {
                        __n = 0x4b;
                        pcVar5 = "No GBT coinbase + append support found, pool "
                                 "unusable if it has no stratum";
                    LAB_00055728:
                        memcpy(&local_818, pcVar5, __n);
                        FUN_00047ab4(7, &local_818, 0);
                    }
                } else {
                LAB_000556e8:
                    if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                        (6 < DAT_0009e320)) {
                        __n = 0x42;
                        pcVar5 = "GBT coinbase without append found, switching "
                                 "to GBT solo protocol";
                        goto LAB_00055728;
                    }
                }
            } else {
            LAB_0005532c:
                if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                    (6 < DAT_0009e320)) {
                    local_818._0_1_ = 'G';
                    local_818._1_1_ = 'B';
                    local_818._2_1_ = 'T';
                    local_818._3_1_ = ' ';
                    uStack_814._0_1_ = 'c';
                    uStack_814._1_1_ = 'o';
                    uStack_814._2_1_ = 'i';
                    uStack_814._3_1_ = 'n';
                    uStack_810._0_1_ = 'b';
                    uStack_810._1_1_ = 'a';
                    uStack_810._2_1_ = 's';
                    uStack_810._3_1_ = 'e';
                    uStack_80c._0_1_ = ' ';
                    uStack_80c._1_1_ = '+';
                    uStack_80c._2_1_ = ' ';
                    uStack_80c._3_1_ = 'a';
                    local_808._0_1_ = 'p';
                    local_808._1_1_ = 'p';
                    local_808._2_1_ = 'e';
                    local_808._3_1_ = 'n';
                    uStack_804._0_1_ = 'd';
                    uStack_804._1_1_ = ' ';
                    uStack_804._2_1_ = 's';
                    uStack_804._3_1_ = 'u';
                    builtin_strncpy(acStack_7f4, " switching to GBT protoc",
                                    0x18);
                    uStack_7dc = 0x6c6f;
                    local_7da = 0;
                    FUN_00047ab4(7, &local_818, 0);
                }
            }
        } else {
            local_818._0_1_ = 'P';
            local_818._1_1_ = 'r';
            local_818._2_1_ = 'o';
            local_818._3_1_ = 'b';
            uStack_814._0_1_ = 'i';
            uStack_814._1_1_ = 'n';
            uStack_814._2_1_ = 'g';
            uStack_814._3_1_ = ' ';
            uStack_810._0_1_ = 'f';
            uStack_810._1_1_ = 'o';
            uStack_810._2_1_ = 'r';
            uStack_810._3_1_ = ' ';
            uStack_80c._0_1_ = 'G';
            uStack_80c._1_1_ = 'B';
            uStack_80c._2_1_ = 'T';
            uStack_80c._3_1_ = ' ';
            local_808._0_1_ = 's';
            local_808._1_1_ = 'u';
            local_808._2_1_ = 'p';
            local_808._3_1_ = 'p';
            uStack_804._0_1_ = 'o';
            uStack_804._1_1_ = 'r';
            uStack_804._2_1_ = 't';
            uStack_804._3_1_ = '\0';
            FUN_00047ab4(7, &local_818, 0);
            cVar1 = DAT_001aecc5;
            *(undefined1 *)((int)param_1 + 99) = 0;
            if (*(char *)(param_1 + 0xb8) == '\0') {
                if (*(char *)(param_1 + 0xe1) == '\0') {
                    if (cVar1 != '\0')
                        goto joined_r0x000559c8;
                } else if (cVar1 != '\0')
                    goto LAB_000556e8;
            } else if (cVar1 != '\0')
                goto LAB_0005532c;
        }
    }
    FUN_0004a60c(auStack_828);
    FUN_0004a60c(auStack_820);
    iVar2 = param_1[0x90];
    if ((iVar2 != 0) && (DAT_001af0e0 == '\0')) {
        if ((DAT_00244080 != '\0') ||
            ((DAT_001aecc4 != '\0' || (5 < DAT_0009e320)))) {
            snprintf((char *)&local_818, 0x800, "Testing pool %d stratum %s",
                     *param_1, iVar2);
            FUN_00047ab4(6, &local_818, 0);
            iVar2 = param_1[0x90];
        }
        iVar2 = FUN_0004a940(iVar2, param_1 + 0x96, param_1 + 0x92);
        if ((iVar2 != 0) && (iVar2 = FUN_0004d754(param_1), iVar2 != 0)) {
            if ((DAT_00244080 != '\0') ||
                ((DAT_001aecc4 != '\0' || (4 < DAT_0009e320)))) {
                snprintf((char *)&local_818, 0x800,
                         "Switching pool %d %s to %s", *param_1, param_1[0x29],
                         param_1[0x90]);
                FUN_00047ab4(5, &local_818, 0);
            }
            if (param_1[0x29] == 0) {
                uVar4 = __strdup(param_1[0x90]);
                param_1[0x29] = uVar4;
            }
            *(undefined1 *)(param_1 + 0xa0) = 1;
        LAB_00055580:
            iVar2 = FUN_00055170(param_1, (int)param_1 + 0x282);
            if (iVar2 != 0) {
                return (uint) * (byte *)((int)param_1 + 0x281);
            }
            iVar2 = FUN_0004d754(param_1);
            if ((iVar2 != 0) &&
                (((*(char *)(param_1 + 0x91) == '\0' ||
                   (iVar2 = FUN_00050338(param_1), iVar2 != 0)) &&
                  (uVar3 = FUN_00050730(param_1), uVar3 != 0)))) {
                DAT_00244082 = 1;
                iVar2 = pthread_create(param_1 + 0xae, (pthread_attr_t *)0x0,
                                       FUN_0005c898, param_1);
                if (iVar2 == 0) {
                    iVar2 =
                        pthread_create(param_1 + 0xaf, (pthread_attr_t *)0x0,
                                       FUN_0005faa0, param_1);
                    if (iVar2 == 0) {
                        return uVar3;
                    }
                    pcVar5 = "Failed to create stratum rthread";
                } else {
                    pcVar5 = "Failed to create stratum sthread";
                }
                local_818 = *(undefined4 *)pcVar5;
                uStack_814 = *(undefined4 *)(pcVar5 + 4);
                uStack_810 = *(undefined4 *)(pcVar5 + 8);
                uStack_80c = *(undefined4 *)(pcVar5 + 0xc);
                local_808 = *(undefined4 *)(pcVar5 + 0x10);
                uStack_804 = *(undefined4 *)(pcVar5 + 0x14);
                uStack_800 = *(undefined4 *)(pcVar5 + 0x18);
                uStack_7fc = *(undefined4 *)(pcVar5 + 0x1c);
                local_7f8 = (undefined1) * (undefined4 *)(pcVar5 + 0x20);
                FUN_00047ab4(3, &local_818, 1);
                /* WARNING: Subroutine does not return */
                FUN_00054ccc(1, 1);
            }
            FUN_000551dc(param_1, (int)param_1 + 0x282);
            return 0;
        }
    }
    if (((*(char *)(param_1 + 0xa0) == '\0') &&
         (*(char *)(param_1 + 0xe1) == '\0')) &&
        (*(char *)(param_1 + 0xb8) == '\0')) {
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 4)) {
            return 0;
        }
        snprintf((char *)&local_818, 0x800,
                 "No Stratum, GBT or Solo support in pool %d %s unable to use",
                 *param_1, param_1[0x29]);
        FUN_00047ab4(4, &local_818, 0);
        return 0;
    }
    if (DAT_001aecc5 == '\0') {
    LAB_000558c8:
        if (*(char *)((int)param_1 + 0x61) != '\0') {
            return 0;
        }
        if ((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0'))
            goto LAB_000558fc;
    } else {
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (6 < DAT_0009e320)) {
            snprintf((char *)&local_818, 0x800,
                     "FAILED to retrieve work from pool %u %s", *param_1,
                     param_1[0x29]);
            FUN_00047ab4(7, &local_818, 0);
            goto LAB_000558c8;
        }
        if (*(char *)((int)param_1 + 0x61) != '\0') {
            return 0;
        }
    }
    if (DAT_0009e320 < 4) {
        return 0;
    }
LAB_000558fc:
    snprintf((char *)&local_818, 0x800,
             "Pool %u slow/down or URL or credentials invalid", *param_1);
    FUN_00047ab4(4, &local_818, 0);
    return 0;
}

void FUN_00055a28(undefined4 param_1, undefined4 param_2)

{
    int iVar1;

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00246244);
    if (iVar1 == 0) {
        DAT_00245100 = param_1;
        DAT_00245104 = param_2;
        iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00246244);
        if (iVar1 == 0) {
            (*DAT_0009e444)();
            return;
        }
    } else {
        FUN_000550b8("inc_dev_status", 0x2249);
    }
    /* WARNING: Subroutine does not return */
    FUN_00055114("inc_dev_status", 0x224c);
}

void FUN_00055aa4(void)

{
    int iVar1;

    iVar1 = pthread_mutex_lock(DAT_001af0e4);
    if (iVar1 == 0) {
        pthread_cond_signal((pthread_cond_t *)&DAT_00244050);
        iVar1 = pthread_mutex_unlock(DAT_001af0e4);
        if (iVar1 == 0) {
            (*DAT_0009e444)();
            return;
        }
    } else {
        FUN_000550b8("wake_gws", 0x14f3);
    }
    /* WARNING: Subroutine does not return */
    FUN_00055114("wake_gws", 0x14f5);
}

void FUN_00055c08(undefined4 param_1, undefined4 param_2)

{
    int *piVar1;
    char acStack_808[2052];

    piVar1 = __errno_location();
    snprintf(acStack_808, 0x800,
             "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar1,
             "cgminer.c", param_1, param_2);
    FUN_00047ab4(3, acStack_808, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

int FUN_00055c64(void)

{
    int iVar1;
    int iVar2;

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_002440bc);
    if (iVar1 == 0) {
        iVar2 = pthread_rwlock_wrlock((pthread_rwlock_t *)&DAT_002440d4);
        iVar1 = DAT_001af0e8;
        if (iVar2 == 0) {
            DAT_001af0e8 = DAT_001af0e8 + 1;
            iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_002440d4);
            if (iVar2 == 0) {
                iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_002440bc);
                if (iVar2 == 0) {
                    (*DAT_0009e444)();
                    return iVar1;
                }
                /* WARNING: Subroutine does not return */
                FUN_00055114("total_work_inc", 0x8d6);
            }
            goto LAB_00055cf4;
        }
    } else {
        FUN_000550b8("total_work_inc", 0x8d4);
    }
    FUN_0005505c("total_work_inc", 0x8d4);
LAB_00055cf4:
    /* WARNING: Subroutine does not return */
    FUN_00055c08("total_work_inc", 0x8d6);
}

void FUN_00055d14(int param_1)

{
    undefined4 uVar1;
    uint uVar2;
    int iVar3;
    bool bVar4;
    uint local_810;
    char acStack_80c[2048];

    uVar2 = *(uint *)(param_1 + 0x44);
    uVar2 = (uVar2 << 0x18 | (uVar2 >> 8 & 0xff) << 0x10 |
             (uVar2 >> 0x10 & 0xff) << 8 | uVar2 >> 0x18) +
            1;
    bVar4 = DAT_001aecc5 != '\0';
    *(uint *)(param_1 + 0x44) = uVar2 * 0x1000000 |
                                (uVar2 >> 8 & 0xff) << 0x10 |
                                (uVar2 >> 0x10 & 0xff) << 8 | uVar2 >> 0x18;
    DAT_00246360 = DAT_00246360 + 1;
    *(int *)(param_1 + 0xf0) = *(int *)(param_1 + 0xf0) + 1;
    *(undefined4 *)(param_1 + 0xf8) = 0;
    if ((bVar4) && (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                     (6 < DAT_0009e320)))) {
        local_810._0_1_ = 'S';
        local_810._1_1_ = 'u';
        local_810._2_1_ = 'c';
        local_810._3_1_ = 'c';
        builtin_strncpy(acStack_80c, "essfully rolled work", 0x14);
        acStack_80c[0x14] = 0;
        FUN_00047ab4(7, &local_810, 0);
    }
    iVar3 = *(int *)(param_1 + 0x134);
    if (iVar3 != 0) {
        FUN_00049940(&local_810, iVar3, 4);
        uVar2 = (local_810 << 0x18 | (local_810 >> 8 & 0xff) << 0x10 |
                 (local_810 >> 0x10 & 0xff) << 8 | local_810 >> 0x18) +
                1;
        local_810 = uVar2 * 0x1000000 | (uVar2 >> 8 & 0xff) << 0x10 |
                    (uVar2 >> 0x10 & 0xff) << 8 | uVar2 >> 0x18;
        FUN_0004981c(iVar3, &local_810, 4);
    }
    uVar1 = FUN_00055c64();
    *(undefined4 *)(param_1 + 0x154) = uVar1;
    return;
}

int FUN_00055e38(void)

{
    int iVar1;
    undefined4 uVar2;
    char local_808[32];
    undefined2 uStack_7e8;
    undefined1 local_7e6;

    iVar1 = FUN_000496ac(1, 0x1c0, "cgminer.c", "make_work", 0x8dd);
    if (iVar1 != 0) {
        uVar2 = FUN_00055c64();
        *(undefined4 *)(iVar1 + 0x154) = uVar2;
        return iVar1;
    }
    builtin_strncpy(local_808, "Failed to calloc work in make_wo", 0x20);
    uStack_7e8 = 0x6b72;
    local_7e6 = 0;
    FUN_00047ab4(3, local_808, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

undefined4 FUN_00055ed0(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_00055e38();
    FUN_00052f6c(uVar1, param_1, param_2);
    return uVar1;
}

int FUN_00055ef8(undefined4 param_1)

{
    int iVar1;

    iVar1 = FUN_00055e38();
    FUN_00052f6c(iVar1, param_1, 0);
    *(undefined1 *)(iVar1 + 0x111) = 1;
    FUN_0004a60c(iVar1 + 0x1a0);
    *(undefined1 *)(iVar1 + 0x118) = 0;
    *(undefined1 *)(iVar1 + 0x11a) = 0;
    *(int *)(iVar1 + 0x108) = *(int *)(iVar1 + 0x108) + -1;
    return iVar1;
}

void FUN_00055f44(int param_1, undefined4 param_2)

{
    int iVar1;

    iVar1 = pthread_rwlock_wrlock((pthread_rwlock_t *)(param_1 + 0x140));
    if (iVar1 == 0) {
        FUN_00054514(param_1, param_2);
        iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x140));
        if (iVar1 == 0) {
            (*DAT_0009e444)();
            return;
        }
    } else {
        FUN_0005505c("add_queued", 0x24e3);
    }
    /* WARNING: Subroutine does not return */
    FUN_00055c08("add_queued", 0x24e5);
}

void FUN_00055fb0(int param_1, undefined4 param_2)

{
    int iVar1;
    undefined4 local_14[2];

    local_14[0] = param_2;
    iVar1 = pthread_rwlock_wrlock((pthread_rwlock_t *)(param_1 + 0x140));
    if (iVar1 == 0) {
        FUN_00054a08(param_1, local_14[0]);
        iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x140));
        if (iVar1 == 0) {
            (*DAT_0009e444)();
            FUN_00053084(local_14, "cgminer.c", "work_completed", 0x257f);
            return;
        }
    } else {
        FUN_0005505c("work_completed", 0x257b);
    }
    /* WARNING: Subroutine does not return */
    FUN_00055c08("work_completed", 0x257d);
}

int FUN_0005603c(int param_1, undefined4 param_2, undefined4 param_3,
                 undefined4 param_4, undefined4 param_5, undefined4 param_6)

{
    int iVar1;
    int iVar2;

    iVar1 = pthread_rwlock_wrlock((pthread_rwlock_t *)(param_1 + 0x140));
    if (iVar1 == 0) {
        iVar1 = FUN_0005494c(*(undefined4 *)(param_1 + 0x160), param_2, param_3,
                             param_4, param_5, param_6);
        if (iVar1 != 0) {
            FUN_00054a08(param_1, iVar1);
        }
        iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x140));
        if (iVar2 == 0) {
            (*DAT_0009e444)();
            return iVar1;
        }
    } else {
        FUN_0005505c("take_queued_work_bymidstate", 0x2588);
    }
    /* WARNING: Subroutine does not return */
    FUN_00055c08("take_queued_work_bymidstate", 0x258c);
}

int FUN_000560e8(int param_1)

{
    int iVar1;
    int iVar2;
    undefined4 uVar3;
    double in_d0;
    undefined4 extraout_s1;
    int local_34;
    undefined1 auStack_30[12];

    FUN_0004a60c(auStack_30);
    iVar1 = pthread_rwlock_wrlock((pthread_rwlock_t *)(param_1 + 0x140));
    if (iVar1 == 0) {
        local_34 = *(int *)(param_1 + 0x160);
        iVar1 = 0;
        if (local_34 != 0) {
            iVar2 = *(int *)(local_34 + 0x160);
            while (true) {
                uVar3 = FUN_0004a8fc(auStack_30, local_34 + 0x1a8);
                if (in_d0 < (double)CONCAT44(extraout_s1, uVar3)) {
                    FUN_00054a08(param_1, local_34);
                    FUN_00053084(&local_34, "cgminer.c", "age_queued_work",
                                 0x256c);
                    iVar1 = iVar1 + 1;
                }
                local_34 = iVar2;
                if (iVar2 == 0)
                    break;
                iVar2 = *(int *)(iVar2 + 0x160);
            }
        }
        iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x140));
        if (iVar2 == 0) {
            (*DAT_0009e444)();
            return iVar1;
        }
    } else {
        FUN_0005505c("age_queued_work", 0x2566);
    }
    /* WARNING: Subroutine does not return */
    FUN_00055c08("age_queued_work", 0x2571);
}

void FUN_000561e4(undefined4 param_1, undefined4 param_2)

{
    int *piVar1;
    char acStack_808[2052];

    piVar1 = __errno_location();
    snprintf(acStack_808, 0x800,
             "WTF RDLOCK ERROR ON LOCK! errno=%d in %s %s():%d", *piVar1,
             "cgminer.c", param_1, param_2);
    FUN_00047ab4(3, acStack_808, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

int FUN_00056240(int param_1, int param_2)

{
    int iVar1;
    int iVar2;
    int iVar3;

    iVar1 = pthread_rwlock_rdlock((pthread_rwlock_t *)(param_1 + 0x140));
    if (iVar1 != 0) {
        FUN_000561e4("clone_queued_work_byid", 0x254c);
        goto LAB_000562fc;
    }
    iVar1 = *(int *)(param_1 + 0x160);
    if (iVar1 != 0) {
        iVar2 = *(int *)(iVar1 + 0x160);
        iVar3 = iVar1;
        if (param_2 != *(int *)(iVar1 + 0x154)) {
            if (iVar2 == 0) {
                iVar1 = 0;
                goto LAB_000562ac;
            }
            iVar3 = *(int *)(iVar2 + 0x160);
            while (iVar1 = iVar3, iVar3 = iVar2,
                   param_2 != *(int *)(iVar2 + 0x154)) {
                if (iVar1 == 0)
                    goto LAB_000562ac;
                iVar3 = *(int *)(iVar1 + 0x160);
                iVar2 = iVar1;
            }
        }
        iVar1 = FUN_00055e38();
        FUN_00052f6c(iVar1, iVar3, 0);
    }
LAB_000562ac:
    iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x140));
    if (iVar2 == 0) {
        (*DAT_0009e444)();
        return iVar1;
    }
LAB_000562fc:
    /* WARNING: Subroutine does not return */
    FUN_00055c08("clone_queued_work_byid", 0x2550);
}

int FUN_000563c8(int param_1, int param_2)

{
    int iVar1;
    int iVar2;
    int iVar3;

    iVar1 = pthread_rwlock_rdlock((pthread_rwlock_t *)(param_1 + 0x140));
    if (iVar1 == 0) {
        iVar1 = *(int *)(param_1 + 0x160);
        if (((iVar1 != 0) && (iVar2 = *(int *)(iVar1 + 0x160),
                              param_2 != *(int *)(iVar1 + 0x154))) &&
            (iVar1 = iVar2, iVar2 != 0)) {
            for (iVar3 = *(int *)(iVar2 + 0x160);
                 (iVar1 = iVar2, param_2 != *(int *)(iVar2 + 0x154) &&
                                     (iVar1 = iVar3, iVar3 != 0));
                 iVar3 = *(int *)(iVar3 + 0x160)) {
                iVar2 = iVar3;
            }
        }
        iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x140));
        if (iVar2 == 0) {
            (*DAT_0009e444)();
            return iVar1;
        }
    } else {
        FUN_000561e4("find_queued_work_byid", 0x2540);
    }
    /* WARNING: Subroutine does not return */
    FUN_00055c08("find_queued_work_byid", 0x2542);
}

undefined4 FUN_0005647c(int param_1, undefined4 param_2, undefined4 param_3,
                        undefined4 param_4, undefined4 param_5,
                        undefined4 param_6)

{
    int iVar1;
    undefined4 uVar2;

    iVar1 = pthread_rwlock_rdlock((pthread_rwlock_t *)(param_1 + 0x140));
    if (iVar1 == 0) {
        uVar2 = FUN_0005494c(*(undefined4 *)(param_1 + 0x160), param_2, param_3,
                             param_4, param_5, param_6);
        iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x140));
        if (iVar1 == 0) {
            (*DAT_0009e444)();
            return uVar2;
        }
    } else {
        FUN_000561e4("find_queued_work_bymidstate", 0x2511);
    }
    /* WARNING: Subroutine does not return */
    FUN_00055c08("find_queued_work_bymidstate", 0x2513);
}

undefined4 FUN_00056518(int param_1)

{
    int iVar1;
    undefined4 uVar2;

    iVar1 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_0024638c);
    if (iVar1 == 0) {
        uVar2 = *(undefined4 *)(DAT_00242fec + param_1 * 4);
        iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0024638c);
        if (iVar1 == 0) {
            (*DAT_0009e444)();
            return uVar2;
        }
    } else {
        FUN_000561e4("get_devices", 0x270);
    }
    /* WARNING: Subroutine does not return */
    FUN_00055c08("get_devices", 0x272);
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */

void FUN_0005658c(void)

{
    int iVar1;
    char *pcVar2;
    int iVar3;
    int iVar4;
    uint uVar5;
    undefined8 *puVar6;
    int iVar7;
    uint uVar8;
    int iVar9;
    double dVar10;
    double dVar11;
    double dVar12;
    double dVar13;
    undefined1 auStack_940[256];
    undefined4 local_840;
    char acStack_83c[28];
    ushort local_820;
    undefined1 local_81e;

    dVar13 = DAT_0009ed68;
    iVar9 = DAT_001af0ec - DAT_001af0f4;
    if (DAT_001af0f0 - DAT_001af0f8 < 0) {
        iVar9 = iVar9 + -1;
    }
    dVar10 = (double)FUN_000778b4(DAT_00245158, DAT_0024515c,
                                  (iVar9 % 0xe10) * -0x77777777);
    dVar11 = (double)FUN_000778b4(DAT_002463d0, DAT_002463d4);
    if (((DAT_00244080 == 0) && (DAT_001aecc4 == 0)) &&
        ((int)DAT_0009e320 < 4)) {
        if ((int)DAT_0009e320 < 4)
            goto LAB_000575b8;
    LAB_000566d8:
        snprintf((char *)&local_840, 0x800, "Started at %s", &DAT_001af0fc);
        FUN_00047ab4(4, &local_840, 0);
        if (DAT_00242f4c == 1) {
            if ((DAT_00244080 == 0) && (DAT_001aecc4 == 0))
                goto LAB_000576f8;
            goto LAB_00057708;
        }
    LAB_00056714:
        if ((DAT_00244080 == 0) && (DAT_001aecc4 == 0))
            goto LAB_000575d8;
    LAB_00056734:
        snprintf((char *)&local_840, 0x800,
                 "Runtime: %d hrs : %d mins : %d secs", iVar9 / 0xe10,
                 (iVar9 % 0xe10) / 0x3c, iVar9 % 0x3c);
        FUN_00047ab4(4, &local_840, 0);
        dVar12 = DAT_00245228 / DAT_0009ed68;
        puVar6 = &DAT_00245228;
        if ((DAT_00244080 == 0) &&
            (puVar6 = (undefined8 *)(uint)DAT_001aecc4,
             (undefined8 *)(uint)DAT_001aecc4 == (undefined8 *)0x0))
            goto LAB_000575f8;
    LAB_0005679c:
        snprintf((char *)&local_840, 0x800, "Average hashrate: %.1f Mhash/s",
                 puVar6, dVar12);
        FUN_00047ab4(4, &local_840, 0);
        if ((DAT_00244080 == 0) && (DAT_001aecc4 == 0))
            goto LAB_000578fc;
    LAB_000567e4:
        snprintf((char *)&local_840, 0x800, "Solved blocks: %d", DAT_00242fdc);
        FUN_00047ab4(4, &local_840, 0);
        if ((DAT_00244080 == 0) && (DAT_001aecc4 == 0))
            goto LAB_0005790c;
    LAB_00056834:
        snprintf((char *)&local_840, 0x800, "Best share difficulty: %s",
                 &DAT_0009ed70);
        FUN_00047ab4(4, &local_840, 0);
        if ((DAT_00244080 == 0) && (DAT_001aecc4 == 0))
            goto LAB_0005774c;
    LAB_0005687c:
        snprintf((char *)&local_840, 0x800, "Share submissions: %lld",
                 DAT_00245158 + DAT_00246368, DAT_00245158 + DAT_00246368,
                 DAT_0024515c + DAT_0024636c +
                     (uint)CARRY4(DAT_00245158, DAT_00246368));
        FUN_00047ab4(4, &local_840, 0);
        puVar6 = (undefined8 *)(uint)DAT_00244080;
        if (((undefined8 *)(uint)DAT_00244080 == (undefined8 *)0x0) &&
            (puVar6 = (undefined8 *)(uint)DAT_001aecc4,
             (undefined8 *)(uint)DAT_001aecc4 == (undefined8 *)0x0))
            goto LAB_0005775c;
    LAB_000568e4:
        snprintf((char *)&local_840, 0x800, "Accepted shares: %lld", puVar6,
                 DAT_00245158, DAT_0024515c);
        FUN_00047ab4(4, &local_840, 0);
        if ((DAT_00244080 == 0) && (DAT_001aecc4 == 0))
            goto LAB_0005776c;
    LAB_00056930:
        snprintf((char *)&local_840, 0x800, "Rejected shares: %lld",
                 &DAT_00246368, DAT_00246368, DAT_0024636c);
        FUN_00047ab4(4, &local_840, 0);
        if ((DAT_00244080 == 0) && (DAT_001aecc4 == 0))
            goto LAB_0005777c;
    LAB_0005699c:
        snprintf((char *)&local_840, 0x800, "Accepted difficulty shares: %1.f",
                 &DAT_00242ef0, (undefined4)DAT_00242ef0, DAT_00242ef0._4_4_);
        FUN_00047ab4(4, &local_840, 0);
        if ((DAT_00244080 == 0) && (DAT_001aecc4 == 0))
            goto LAB_0005778c;
    LAB_000569f0:
        snprintf((char *)&local_840, 0x800, "Rejected difficulty shares: %1.f",
                 &DAT_00242f10, _DAT_00242f10, DAT_00242f14);
        FUN_00047ab4(4, &local_840, 0);
        uVar8 = DAT_00245158;
        iVar9 = DAT_0024515c;
        if (DAT_00245158 != 0 || DAT_0024515c != 0) {
        joined_r0x00056a38:
            if ((DAT_00244080 == 0) && (DAT_001aecc4 == 0))
                goto LAB_000577a8;
            goto LAB_00056a50;
        }
    LAB_00056ddc:
        if (DAT_00246368 != 0 || DAT_0024636c != 0) {
            uVar8 = 0;
            iVar9 = 0;
            goto joined_r0x00056a38;
        }
    LAB_00056ad0:
        if ((DAT_00244080 == 0) && (DAT_001aecc4 == 0))
            goto LAB_00057644;
    LAB_00056af0:
        snprintf((char *)&local_840, 0x800, "Hardware errors: %d",
                 DAT_00242ee8);
        FUN_00047ab4(4, &local_840, 0);
        puVar6 = (undefined8 *)(uint)DAT_00244080;
        if ((((undefined8 *)(uint)DAT_00244080 == (undefined8 *)0x0) &&
             (puVar6 = (undefined8 *)(uint)DAT_001aecc4,
              (undefined8 *)(uint)DAT_001aecc4 == (undefined8 *)0x0)) &&
            (puVar6 = DAT_0009e320, (int)DAT_0009e320 < 4))
            goto LAB_00057660;
    LAB_00056b44:
        snprintf((char *)&local_840, 0x800,
                 "Utility (accepted shares / min): %.2f/min", puVar6,
                 (dVar10 / dVar13) * 60.0);
        FUN_00047ab4(4, &local_840, 0);
        puVar6 = (undefined8 *)(uint)DAT_00244080;
        if ((((undefined8 *)(uint)DAT_00244080 == (undefined8 *)0x0) &&
             (puVar6 = (undefined8 *)(uint)DAT_001aecc4,
              (undefined8 *)(uint)DAT_001aecc4 == (undefined8 *)0x0)) &&
            (puVar6 = DAT_0009e320, (int)DAT_0009e320 < 4))
            goto LAB_00057670;
    LAB_00056b8c:
        snprintf((char *)&local_840, 0x800,
                 "Work Utility (diff1 shares solved / min): %.2f/min\n", puVar6,
                 (dVar11 / dVar13) * 60.0);
        FUN_00047ab4(4, &local_840, 0);
        if (((DAT_00244080 == 0) && (DAT_001aecc4 == 0)) &&
            ((int)DAT_0009e320 < 4))
            goto LAB_00057680;
    LAB_00056bd4:
        snprintf((char *)&local_840, 0x800,
                 "Stale submissions discarded due to new blocks: %lld",
                 &DAT_00242e98, DAT_00242e98, DAT_00242e9c);
        FUN_00047ab4(4, &local_840, 0);
        if (((DAT_00244080 == 0) && (DAT_001aecc4 == 0)) &&
            ((int)DAT_0009e320 < 4))
            goto LAB_00057690;
    LAB_00056c28:
        snprintf((char *)&local_840, 0x800,
                 "Unable to get work from server occasions: %d", DAT_00245150);
        FUN_00047ab4(4, &local_840, 0);
        if (((DAT_00244080 == 0) && (DAT_001aecc4 == 0)) &&
            ((int)DAT_0009e320 < 4))
            goto LAB_000576a0;
    LAB_00056c78:
        snprintf((char *)&local_840, 0x800, "Work items generated locally: %d",
                 DAT_00246360);
        FUN_00047ab4(4, &local_840, 0);
        if (((DAT_00244080 == 0) && (DAT_001aecc4 == 0)) &&
            ((int)DAT_0009e320 < 4))
            goto LAB_000576b0;
    LAB_00056cc8:
        snprintf((char *)&local_840, 0x800,
                 "Submitting work remotely delay occasions: %d", DAT_00244014);
        FUN_00047ab4(4, &local_840, 0);
        if (((DAT_00244080 == 0) && (DAT_001aecc4 == 0)) &&
            ((int)DAT_0009e320 < 4))
            goto LAB_000576c0;
    LAB_00056d18:
        snprintf((char *)&local_840, 0x800,
                 "New blocks detected on network: %d\n", DAT_0024625c);
        FUN_00047ab4(4, &local_840, 0);
        if (1 < DAT_00242f4c)
            goto LAB_00056d54;
    LAB_000571cc:
        if ((DAT_00244080 == 0) && (DAT_001aecc4 == 0))
            goto LAB_00057614;
    LAB_000571ec:
        local_840._0_1_ = 'S';
        local_840._1_1_ = 'u';
        local_840._2_1_ = 'm';
        local_840._3_1_ = 'm';
        builtin_strncpy(acStack_83c, "ary of per device statistics", 0x1c);
        local_820 = 0xa3a;
        local_81e = 0;
        FUN_00047ab4(4, &local_840, 0);
    } else {
        local_840._0_1_ = '\n';
        local_840._1_1_ = 'S';
        local_840._2_1_ = 'u';
        local_840._3_1_ = 'm';
        builtin_strncpy(acStack_83c, "mary of runtime statistics:\n", 0x1c);
        local_820 = local_820 & 0xff00;
        FUN_00047ab4(4, &local_840, 0);
        if (((DAT_00244080 != 0) || (DAT_001aecc4 != 0)) ||
            (3 < (int)DAT_0009e320))
            goto LAB_000566d8;
    LAB_000575b8:
        if (DAT_00242f4c != 1)
            goto LAB_00056714;
    LAB_000576f8:
        if (3 < (int)DAT_0009e320) {
        LAB_00057708:
            snprintf((char *)&local_840, 0x800, "Pool: %s",
                     *(undefined4 *)(*DAT_00244048 + 0xa4));
            FUN_00047ab4(4, &local_840, 0);
            goto LAB_00056714;
        }
    LAB_000575d8:
        if (3 < (int)DAT_0009e320)
            goto LAB_00056734;
        dVar12 = DAT_00245228 / DAT_0009ed68;
    LAB_000575f8:
        puVar6 = DAT_0009e320;
        if (3 < (int)DAT_0009e320)
            goto LAB_0005679c;
    LAB_000578fc:
        if (3 < (int)DAT_0009e320)
            goto LAB_000567e4;
    LAB_0005790c:
        if (3 < (int)DAT_0009e320)
            goto LAB_00056834;
    LAB_0005774c:
        if (3 < (int)DAT_0009e320)
            goto LAB_0005687c;
    LAB_0005775c:
        puVar6 = DAT_0009e320;
        if (3 < (int)DAT_0009e320)
            goto LAB_000568e4;
    LAB_0005776c:
        if (3 < (int)DAT_0009e320)
            goto LAB_00056930;
    LAB_0005777c:
        if (3 < (int)DAT_0009e320)
            goto LAB_0005699c;
    LAB_0005778c:
        if (3 < (int)DAT_0009e320)
            goto LAB_000569f0;
        uVar8 = DAT_00245158;
        iVar9 = DAT_0024515c;
        if (DAT_00245158 == 0 && DAT_0024515c == 0)
            goto LAB_00056ddc;
    LAB_000577a8:
        if (3 < (int)DAT_0009e320) {
        LAB_00056a50:
            iVar7 = DAT_0024636c;
            uVar5 = DAT_00246368;
            iVar1 = DAT_0024636c * 3 +
                    (uint)CARRY4(DAT_00246368, DAT_00246368) +
                    (uint)CARRY4(DAT_00246368 * 2, DAT_00246368);
            FUN_000778b4(
                DAT_00246368 * 100,
                iVar1 + (iVar1 * 0x20 | DAT_00246368 * 3 >> 0x1b) +
                    (uint)CARRY4(DAT_00246368 * 3, DAT_00246368 * 0x60) +
                    DAT_0024636c +
                    (uint)CARRY4(DAT_00246368 * 99, DAT_00246368));
            FUN_000778b4(uVar5 + uVar8,
                         iVar7 + iVar9 + (uint)CARRY4(uVar5, uVar8));
            snprintf((char *)&local_840, 0x800, "Reject ratio: %.1f%%");
            FUN_00047ab4(4, &local_840, 0);
            goto LAB_00056ad0;
        }
    LAB_00057644:
        if (3 < (int)DAT_0009e320)
            goto LAB_00056af0;
        puVar6 = DAT_0009e320;
        if (3 < (int)DAT_0009e320)
            goto LAB_00056b44;
    LAB_00057660:
        puVar6 = DAT_0009e320;
        if (3 < (int)DAT_0009e320)
            goto LAB_00056b8c;
    LAB_00057670:
        if (3 < (int)DAT_0009e320)
            goto LAB_00056bd4;
    LAB_00057680:
        if (3 < (int)DAT_0009e320)
            goto LAB_00056c28;
    LAB_00057690:
        if (3 < (int)DAT_0009e320)
            goto LAB_00056c78;
    LAB_000576a0:
        if (3 < (int)DAT_0009e320)
            goto LAB_00056cc8;
    LAB_000576b0:
        if (3 < (int)DAT_0009e320)
            goto LAB_00056d18;
    LAB_000576c0:
        if (1 < DAT_00242f4c) {
        LAB_00056d54:
            iVar9 = 0;
            do {
                iVar7 = DAT_00244048[iVar9];
                if (((DAT_00244080 == 0) && (DAT_001aecc4 == 0)) &&
                    ((int)DAT_0009e320 < 4)) {
                    iVar1 = *(int *)(iVar7 + 0x20);
                    if (iVar1 == 0)
                        goto LAB_00056e98;
                LAB_00056dc8:
                    if (3 < (int)DAT_0009e320)
                        goto LAB_00056e4c;
                LAB_00057460:
                    if (3 < (int)DAT_0009e320)
                        goto LAB_00056ea8;
                LAB_0005746c:
                    puVar6 = DAT_0009e320;
                    if (3 < (int)DAT_0009e320)
                        goto LAB_00056f04;
                LAB_0005747c:
                    puVar6 = DAT_0009e320;
                    if (3 < (int)DAT_0009e320)
                        goto LAB_00056f48;
                LAB_0005748c:
                    puVar6 = DAT_0009e320;
                    if (3 < (int)DAT_0009e320)
                        goto LAB_00056f8c;
                LAB_0005749c:
                    puVar6 = DAT_0009e320;
                    if (3 < (int)DAT_0009e320)
                        goto LAB_00056fd0;
                    uVar8 = *(uint *)(iVar7 + 8);
                    iVar1 = *(int *)(iVar7 + 0xc);
                    if (uVar8 == 0 && iVar1 == 0)
                        goto LAB_00057008;
                    if (3 < (int)DAT_0009e320)
                        goto LAB_00057034;
                LAB_000574c4:
                    if (3 < (int)DAT_0009e320)
                        goto LAB_000570d8;
                LAB_000574d0:
                    if (3 < (int)DAT_0009e320)
                        goto LAB_0005711c;
                LAB_000574e0:
                    if (3 < (int)DAT_0009e320)
                        goto LAB_0005715c;
                LAB_000574f0:
                    if (3 < (int)DAT_0009e320)
                        goto LAB_00057198;
                } else {
                    snprintf((char *)&local_840, 0x800, "Pool: %s",
                             *(undefined4 *)(iVar7 + 0xa4));
                    FUN_00047ab4(4, &local_840, 0);
                    iVar1 = *(int *)(iVar7 + 0x20);
                    if (iVar1 != 0) {
                        if ((DAT_00244080 == 0) && (DAT_001aecc4 == 0))
                            goto LAB_00056dc8;
                    LAB_00056e4c:
                        pcVar2 = "S";
                        if (iVar1 < 2) {
                            pcVar2 = "";
                        }
                        snprintf((char *)&local_840, 0x800,
                                 "SOLVED %d BLOCK%s!", iVar1, pcVar2);
                        FUN_00047ab4(4, &local_840, 0);
                    }
                    if (DAT_00244080 == 0) {
                    LAB_00056e98:
                        if (DAT_001aecc4 == 0)
                            goto LAB_00057460;
                    }
                LAB_00056ea8:
                    snprintf((char *)&local_840, 0x800,
                             " Share submissions: %lld",
                             *(int *)(iVar7 + 0xc) + *(int *)(iVar7 + 0x14) +
                                 (uint)CARRY4(*(uint *)(iVar7 + 8),
                                              *(uint *)(iVar7 + 0x10)),
                             *(uint *)(iVar7 + 8) + *(uint *)(iVar7 + 0x10));
                    FUN_00047ab4(4, &local_840, 0);
                    puVar6 = (undefined8 *)(uint)DAT_00244080;
                    if (((undefined8 *)(uint)DAT_00244080 ==
                         (undefined8 *)0x0) &&
                        (puVar6 = (undefined8 *)(uint)DAT_001aecc4,
                         (undefined8 *)(uint)DAT_001aecc4 == (undefined8 *)0x0))
                        goto LAB_0005746c;
                LAB_00056f04:
                    snprintf((char *)&local_840, 0x800,
                             " Accepted shares: %lld", puVar6,
                             *(undefined4 *)(iVar7 + 8));
                    FUN_00047ab4(4, &local_840, 0);
                    puVar6 = (undefined8 *)(uint)DAT_00244080;
                    if (((undefined8 *)(uint)DAT_00244080 ==
                         (undefined8 *)0x0) &&
                        (puVar6 = (undefined8 *)(uint)DAT_001aecc4,
                         (undefined8 *)(uint)DAT_001aecc4 == (undefined8 *)0x0))
                        goto LAB_0005747c;
                LAB_00056f48:
                    snprintf((char *)&local_840, 0x800,
                             " Rejected shares: %lld", puVar6,
                             *(undefined4 *)(iVar7 + 0x10));
                    FUN_00047ab4(4, &local_840, 0);
                    puVar6 = (undefined8 *)(uint)DAT_00244080;
                    if (((undefined8 *)(uint)DAT_00244080 ==
                         (undefined8 *)0x0) &&
                        (puVar6 = (undefined8 *)(uint)DAT_001aecc4,
                         (undefined8 *)(uint)DAT_001aecc4 == (undefined8 *)0x0))
                        goto LAB_0005748c;
                LAB_00056f8c:
                    snprintf((char *)&local_840, 0x800,
                             " Accepted difficulty shares: %1.f", puVar6,
                             *(undefined4 *)(iVar7 + 0x48));
                    FUN_00047ab4(4, &local_840, 0);
                    puVar6 = (undefined8 *)(uint)DAT_00244080;
                    if (((undefined8 *)(uint)DAT_00244080 ==
                         (undefined8 *)0x0) &&
                        (puVar6 = (undefined8 *)(uint)DAT_001aecc4,
                         (undefined8 *)(uint)DAT_001aecc4 == (undefined8 *)0x0))
                        goto LAB_0005749c;
                LAB_00056fd0:
                    snprintf((char *)&local_840, 0x800,
                             " Rejected difficulty shares: %1.f", puVar6,
                             *(undefined4 *)(iVar7 + 0x50));
                    FUN_00047ab4(4, &local_840, 0);
                    uVar8 = *(uint *)(iVar7 + 8);
                    iVar1 = *(int *)(iVar7 + 0xc);
                    if (uVar8 == 0 && iVar1 == 0) {
                    LAB_00057008:
                        if (*(int *)(iVar7 + 0x10) != 0 ||
                            *(int *)(iVar7 + 0x14) != 0) {
                            uVar8 = 0;
                            iVar1 = 0;
                            goto LAB_0005701c;
                        }
                    } else {
                    LAB_0005701c:
                        if (((DAT_00244080 == 0) && (DAT_001aecc4 == 0)) &&
                            ((int)DAT_0009e320 < 4))
                            goto LAB_000574c4;
                    LAB_00057034:
                        uVar5 = *(uint *)(iVar7 + 0x10);
                        iVar4 = *(int *)(iVar7 + 0x14);
                        iVar3 = iVar4 * 3 + (uint)CARRY4(uVar5, uVar5) +
                                (uint)CARRY4(uVar5 * 2, uVar5);
                        FUN_000778b4(
                            uVar5 * 100,
                            iVar3 + (iVar3 * 0x20 | uVar5 * 3 >> 0x1b) +
                                (uint)CARRY4(uVar5 * 3, uVar5 * 0x60) + iVar4 +
                                (uint)CARRY4(uVar5 * 99, uVar5));
                        FUN_000778b4(uVar5 + uVar8,
                                     iVar4 + iVar1 +
                                         (uint)CARRY4(uVar5, uVar8));
                        snprintf((char *)&local_840, 0x800,
                                 " Reject ratio: %.1f%%");
                        FUN_00047ab4(4, &local_840, 0);
                    }
                    if ((DAT_00244080 == 0) && (DAT_001aecc4 == 0))
                        goto LAB_000574c4;
                LAB_000570d8:
                    snprintf((char *)&local_840, 0x800, " Items worked on: %d",
                             *(undefined4 *)(iVar7 + 0x44));
                    FUN_00047ab4(4, &local_840, 0);
                    if ((DAT_00244080 == 0) && (DAT_001aecc4 == 0))
                        goto LAB_000574d0;
                LAB_0005711c:
                    snprintf(
                        (char *)&local_840, 0x800,
                        " Stale submissions discarded due to new blocks: %d",
                        *(undefined4 *)(iVar7 + 0x78));
                    FUN_00047ab4(4, &local_840, 0);
                    if ((DAT_00244080 == 0) && (DAT_001aecc4 == 0))
                        goto LAB_000574e0;
                LAB_0005715c:
                    snprintf((char *)&local_840, 0x800,
                             " Unable to get work from server occasions: %d",
                             *(undefined4 *)(iVar7 + 0x80));
                    FUN_00047ab4(4, &local_840, 0);
                    if ((DAT_00244080 == 0) && (DAT_001aecc4 == 0))
                        goto LAB_000574f0;
                LAB_00057198:
                    snprintf((char *)&local_840, 0x800,
                             " Submitting work remotely delay occasions: %d\n",
                             *(undefined4 *)(iVar7 + 0x84));
                    FUN_00047ab4(4, &local_840, 0);
                }
                iVar9 = iVar9 + 1;
            } while (iVar9 < DAT_00242f4c);
            goto LAB_000571cc;
        }
    LAB_00057614:
        if (3 < (int)DAT_0009e320)
            goto LAB_000571ec;
    }
    if (0 < DAT_00245140) {
        iVar9 = 0;
        do {
            iVar7 = FUN_00056518(iVar9);
            iVar9 = iVar9 + 1;
            *(undefined **)(*(int *)(iVar7 + 4) + 0x14) = &DAT_000516b0;
            *(undefined **)(*(int *)(iVar7 + 4) + 0x18) = &DAT_00052a28;
            FUN_00054da8(auStack_940, 0xff, iVar7);
            if (((DAT_00244080 != 0) || (DAT_001aecc4 != 0)) ||
                (3 < (int)DAT_0009e320)) {
                snprintf((char *)&local_840, 0x800, "%s", auStack_940);
                FUN_00047ab4(4, &local_840, 0);
            }
        } while (iVar9 < DAT_00245140);
    }
    puVar6 = (undefined8 *)(uint)DAT_00244080;
    if (DAT_001af124 == 0) {
    LAB_000573f0:
        if ((puVar6 == (undefined8 *)0x0) && (DAT_001aecc4 == 0))
            goto LAB_0005762c;
    } else {
        dVar13 = (double)CONCAT44(DAT_00242ef0._4_4_, (undefined4)DAT_00242ef0);
        if (((puVar6 != (undefined8 *)0x0) ||
             (puVar6 = (undefined8 *)&DAT_001aecc4, DAT_001aecc4 != 0)) ||
            (3 < (int)DAT_0009e320)) {
            snprintf((char *)&local_840, 0x800,
                     "Mined %.0f accepted shares of %d requested\n", puVar6,
                     dVar13, DAT_001af124);
            FUN_00047ab4(4, &local_840, 0);
            dVar13 =
                (double)CONCAT44(DAT_00242ef0._4_4_, (undefined4)DAT_00242ef0);
            puVar6 = (undefined8 *)(uint)DAT_00244080;
            if (dVar13 < (double)(longlong)DAT_001af124) {
                if (puVar6 == (undefined8 *)0x0)
                    goto LAB_0005739c;
            LAB_000573c0:
                snprintf((char *)&local_840, 0x800,
                         "WARNING - Mined only %.0f shares of %d requested.",
                         puVar6, dVar13, DAT_001af124);
                FUN_00047ab4(4, &local_840, 0);
                puVar6 = (undefined8 *)(uint)DAT_00244080;
            }
            goto LAB_000573f0;
        }
        if (dVar13 < (double)(longlong)DAT_001af124) {
        LAB_0005739c:
            puVar6 = (undefined8 *)(uint)DAT_001aecc4;
            if (((undefined8 *)(uint)DAT_001aecc4 != (undefined8 *)0x0) ||
                (puVar6 = DAT_0009e320, 3 < (int)DAT_0009e320))
                goto LAB_000573c0;
        }
    LAB_0005762c:
        if ((int)DAT_0009e320 < 4)
            goto LAB_00057428;
    }
    local_840._0_2_ = 0x20;
    FUN_00047ab4(4, &local_840, 0);
LAB_00057428:
    fflush(stderr);
    fflush(stdout);
    return;
}

void FUN_00057944(int param_1)

{
    int iVar1;
    int *piVar2;
    char *pcVar3;
    sysinfo local_850;
    char acStack_810[2052];

    iVar1 = sysinfo(&local_850);
    if (iVar1 == 0) {
        DAT_00244004 = local_850.uptime;
        FUN_0004a60c(&DAT_001af0ec);
    } else {
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (5 < DAT_0009e320)) {
            piVar2 = __errno_location();
            iVar1 = *piVar2;
            pcVar3 = strerror(iVar1);
            snprintf(acStack_810, 0x800,
                     "Failed to get sysinfo, errno:%u, reason:%s\n", iVar1,
                     pcVar3);
            FUN_00047ab4(6, acStack_810, 0);
        }
        DAT_00244004 = time((time_t *)0x0);
        FUN_0004a60c(&DAT_001af0ec);
    }
    if (((param_1 == 0) && (DAT_0024511c == '\0')) && (DAT_001aecc6 != '\0')) {
        FUN_0005658c();
        return;
    }
    return;
}

void FUN_00057a6c(void)

{
    char local_810[28];
    undefined2 local_7f4;

    if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
        (3 < DAT_0009e320)) {
        snprintf(local_810, 0x800, "Attempting to restart %s", &DAT_001aece4);
        FUN_00047ab4(4, local_810, 0);
    }
    FUN_0004c084(&DAT_00057f5c, 0, 5000);
    FUN_00057944(1);
    if (0 < DAT_001af0dc) {
        kill(DAT_001af0dc, 0xf);
        DAT_001af0dc = 0;
    }
    execv(*DAT_001af128, DAT_001af128);
    if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
        (DAT_0009e320 < 4)) {
        return;
    }
    builtin_strncpy(local_810, "Failed to restart applicatio", 0x1c);
    local_7f4 = 0x6e;
    FUN_00047ab4(4, local_810, 0);
    return;
}

undefined4 FUN_00057bac(int param_1)

{
    int iVar1;
    undefined4 uVar2;

    iVar1 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_00244028);
    if (iVar1 == 0) {
        uVar2 = *(undefined4 *)(DAT_00244024 + param_1 * 4);
        iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_00244028);
        if (iVar1 == 0) {
            (*DAT_0009e444)();
            return uVar2;
        }
    } else {
        FUN_000561e4("get_thread", 0x25c);
    }
    /* WARNING: Subroutine does not return */
    FUN_00055c08("get_thread", 0x25e);
}

void FUN_00057c34(void)

{
    int iVar1;
    int iVar2;
    char local_820[20];
    undefined4 local_80c;
    char acStack_808[2028];

    if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
        (DAT_0009e320 < 6)) {
        if (DAT_001aecc5 == '\0')
            goto LAB_00057d00;
    LAB_00057ef4:
        if (DAT_0009e320 < 7)
            goto LAB_00057d00;
    } else {
        builtin_strncpy(local_820, "Received kill messag", 0x14);
        local_80c._0_2_ = 0x65;
        FUN_00047ab4(6, local_820, 1);
        if (DAT_001aecc5 == '\0')
            goto LAB_00057d00;
        if ((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0'))
            goto LAB_00057ef4;
    }
    builtin_strncpy(local_820, "Killing off watchpoo", 0x14);
    local_80c._0_1_ = 'l';
    local_80c._1_1_ = ' ';
    local_80c._2_1_ = 't';
    local_80c._3_1_ = 'h';
    builtin_strncpy(acStack_808, "read", 5);
    FUN_00047ab4(7, local_820, 1);
LAB_00057d00:
    FUN_0004c084(FUN_0004a1f0, DAT_00245118, 1000);
    if ((DAT_001aecc5 != '\0') &&
        (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
          (6 < DAT_0009e320)))) {
        builtin_strncpy(local_820, "Killing off watchdog", 0x14);
        local_80c._0_1_ = ' ';
        local_80c._1_1_ = 't';
        local_80c._2_1_ = 'h';
        local_80c._3_1_ = 'r';
        builtin_strncpy(acStack_808, "ead", 4);
        FUN_00047ab4(7, local_820, 1);
    }
    FUN_0004c084(FUN_0004a1f0, DAT_00245118, 1000);
    if ((DAT_001aecc5 != '\0') &&
        (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
          (6 < DAT_0009e320)))) {
        builtin_strncpy(local_820, "Shutting down mining", 0x14);
        local_80c._0_1_ = ' ';
        local_80c._1_1_ = 't';
        local_80c._2_1_ = 'h';
        local_80c._3_1_ = 'r';
        builtin_strncpy(acStack_808, "eads", 4);
        acStack_808[4] = 0;
        FUN_00047ab4(7, local_820, 1);
    }
    if (0 < DAT_00245108) {
        iVar1 = 0;
        do {
            iVar2 = iVar1 + 1;
            iVar1 = FUN_00057bac(iVar1);
            if ((iVar1 != 0) && (*(int *)(iVar1 + 0x24) != 0)) {
                *(undefined1 *)(*(int *)(iVar1 + 0x24) + 0x16c) = 1;
            }
            iVar1 = iVar2;
        } while (iVar2 < DAT_00245108);
    }
    sleep(1);
    FUN_0004c084(&DAT_00057f74, 0, 3000);
    if ((DAT_001aecc5 != '\0') &&
        (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
          (6 < DAT_0009e320)))) {
        builtin_strncpy(local_820, "Killing off API thre", 0x14);
        local_80c._0_3_ = 0x6461;
        FUN_00047ab4(7, local_820, 1);
    }
    FUN_0004c084(FUN_0004a1f0, DAT_00245118, 1000);
    return;
}

undefined4 FUN_00058084(void)

{
    undefined4 uVar1;
    int iVar2;

    iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_002440bc);
    if (iVar2 == 0) {
        iVar2 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_002440d4);
        if (iVar2 == 0) {
            iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_002440bc);
            uVar1 = DAT_001af12c;
            if (iVar2 == 0) {
                iVar2 =
                    pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_002440d4);
                if (iVar2 == 0) {
                    (*DAT_0009e444)();
                    return uVar1;
                }
                /* WARNING: Subroutine does not return */
                FUN_00055c08("current_pool", 0x345);
            }
            goto LAB_0005810c;
        }
    } else {
        FUN_000550b8("current_pool", 0x341);
    }
    FUN_000561e4("current_pool", 0x341);
LAB_0005810c:
    /* WARNING: Subroutine does not return */
    FUN_00055114("current_pool", 0x341);
}

void FUN_0005812c(int param_1, int param_2, uint param_3)

{
    int iVar1;
    time_t tVar2;
    int iVar3;
    uint uVar4;
    bool bVar5;

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00246244);
    if (iVar1 == 0) {
        iVar3 = *(int *)(param_1 + 0x24);
        iVar1 = (int)param_3 >> 0x1f;
        uVar4 = *(uint *)(iVar3 + 0xc0);
        bVar5 = CARRY4(DAT_002463d0, param_3);
        DAT_002463d0 = DAT_002463d0 + param_3;
        DAT_002463d4 = DAT_002463d4 + iVar1 + (uint)bVar5;
        *(uint *)(iVar3 + 0xc0) = uVar4 + param_3;
        *(uint *)(iVar3 + 0xc4) =
            *(int *)(iVar3 + 0xc4) + iVar1 + (uint)CARRY4(uVar4, param_3);
        if (param_2 == 0) {
            iVar3 = FUN_00058084();
            uVar4 = *(uint *)(iVar3 + 0x28);
            *(uint *)(iVar3 + 0x28) = uVar4 + param_3;
            *(uint *)(iVar3 + 0x2c) =
                *(int *)(iVar3 + 0x2c) + iVar1 + (uint)CARRY4(uVar4, param_3);
        } else {
            uVar4 = *(uint *)(param_2 + 0x28);
            *(uint *)(param_2 + 0x28) = uVar4 + param_3;
            *(uint *)(param_2 + 0x2c) =
                *(int *)(param_2 + 0x2c) + iVar1 + (uint)CARRY4(uVar4, param_3);
        }
        iVar1 = *(int *)(param_1 + 0x24);
        tVar2 = time((time_t *)0x0);
        *(time_t *)(iVar1 + 0xe8) = tVar2;
        iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00246244);
        if (iVar1 == 0) {
            /* WARNING: Could not recover jumptable at 0x000581dc. Too many
             * branches */
            /* WARNING: Treating indirect jump as call */
            (*DAT_0009e444)();
            return;
        }
    } else {
        FUN_000550b8("inc_work_stats", 0x2288);
    }
    /* WARNING: Subroutine does not return */
    FUN_00055114("inc_work_stats", 0x2296);
}

undefined4 FUN_0005821c(void)

{
    int iVar1;
    undefined4 uVar2;

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_002440bc);
    if (iVar1 == 0) {
        iVar1 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_002440d4);
        if (iVar1 == 0) {
            iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_002440bc);
            if (iVar1 == 0) {
                uVar2 = *(undefined4 *)(DAT_001af12c + 4);
                iVar1 =
                    pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_002440d4);
                if (iVar1 == 0) {
                    (*DAT_0009e444)();
                    return uVar2;
                }
                /* WARNING: Subroutine does not return */
                FUN_00055c08("cp_prio", 0x1cf6);
            }
            goto LAB_000582a8;
        }
    } else {
        FUN_000550b8("cp_prio", 0x1cf4);
    }
    FUN_000561e4("cp_prio", 0x1cf4);
LAB_000582a8:
    /* WARNING: Subroutine does not return */
    FUN_00055114("cp_prio", 0x1cf4);
}

void FUN_000582c8(undefined4 *param_1)

{
    int iVar1;
    int iVar2;
    char acStack_810[2052];

    iVar1 = DAT_001aeeb8;
    param_1[7] = 0;
    if ((iVar1 == 0) &&
        (iVar2 = param_1[1], iVar1 = FUN_0005821c(), iVar2 < iVar1)) {
        if ((DAT_00244080 != '\0') ||
            ((DAT_001aecc4 != '\0' || (3 < DAT_0009e320)))) {
            snprintf(acStack_810, 0x800, "Pool %d %s alive, testing stability",
                     *param_1, param_1[0x29]);
            FUN_00047ab4(4, acStack_810, 0);
            return;
        }
    } else {
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 6)) {
            return;
        }
        snprintf(acStack_810, 0x800, "Pool %d %s alive", *param_1,
                 param_1[0x29]);
        FUN_00047ab4(6, acStack_810, 0);
    }
    return;
}

void FUN_00058490(undefined4 *param_1)

{
    int iVar1;
    char acStack_808[2048];

    iVar1 = FUN_000551dc(param_1, (int)param_1 + 0x61);
    if (iVar1 == 0) {
        return;
    }
    if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
        (DAT_0009e320 < 6)) {
        FUN_000582c8(param_1);
        return;
    }
    snprintf(acStack_808, 0x800, "Stratum connection to pool %d resumed",
             *param_1);
    FUN_00047ab4(6, acStack_808, 0);
    FUN_000582c8(param_1);
    return;
}

undefined1 FUN_000584b4(int param_1)

{
    int iVar1;
    int iVar2;

    if (*(int *)(param_1 + 100) != 1) {
        return 0;
    }
    if ((((1 < DAT_001aeeb8 - 3U) &&
          (((*(char *)(param_1 + 0x280) == '\0' ||
             (*(char *)(param_1 + 0x61) == '\0')) &&
            (iVar1 = FUN_00058084(), param_1 != iVar1)))) &&
         (*(int *)(param_1 + 0x2dc) == 0)) &&
        ((DAT_001aeeb8 != 0 || (iVar2 = *(int *)(param_1 + 4),
                                iVar1 = FUN_0005821c(), iVar1 <= iVar2)))) {
        return DAT_001af130;
    }
    return 1;
}

int *FUN_00058548(void)

{
    int iVar1;
    int *piVar2;
    int iVar3;
    undefined4 uVar4;
    char *__format;
    char local_820[4];
    char acStack_81c[4];
    char acStack_818[4];
    char acStack_814[4];
    char local_810[4];
    char acStack_80c[4];
    char acStack_808[4];
    char acStack_804[4];
    char local_800[4];
    char acStack_7fc[2016];

    piVar2 = (int *)FUN_000496ac(0x738, 1, "cgminer.c", "add_pool", 0x2f5);
    iVar3 = DAT_00242f4c;
    *piVar2 = DAT_00242f4c;
    iVar1 = DAT_00242f4c;
    *(undefined1 *)(piVar2 + 0xa1) = 0;
    piVar2[1] = iVar3;
    DAT_00244048 = FUN_0004973c(DAT_00244048, (iVar1 + 2) * 4, "cgminer.c",
                                "add_pool", 0x301);
    iVar3 = DAT_00242f4c * 4;
    DAT_00242f4c = DAT_00242f4c + 1;
    *(int **)(DAT_00244048 + iVar3) = piVar2;
    iVar3 = pthread_mutex_init((pthread_mutex_t *)(piVar2 + 0x2f),
                               (pthread_mutexattr_t *)0x0);
    if (iVar3 == 0) {
        iVar3 = pthread_cond_init((pthread_cond_t *)(piVar2 + 0x4a),
                                  (pthread_condattr_t *)0x0);
        if (iVar3 != 0) {
            local_820[0] = 'F';
            local_820[1] = 'a';
            local_820[2] = 'i';
            local_820[3] = 'l';
            acStack_81c[0] = 'e';
            acStack_81c[1] = 'd';
            acStack_81c[2] = ' ';
            acStack_81c[3] = 't';
            acStack_818[0] = 'o';
            acStack_818[1] = ' ';
            acStack_818[2] = 'p';
            acStack_818[3] = 't';
            acStack_814[0] = 'h';
            acStack_814[1] = 'r';
            acStack_814[2] = 'e';
            acStack_814[3] = 'a';
            local_810[0] = 'd';
            local_810[1] = '_';
            local_810[2] = 'c';
            local_810[3] = 'o';
            acStack_80c[0] = 'n';
            acStack_80c[1] = 'd';
            acStack_80c[2] = '_';
            acStack_80c[3] = 'i';
            acStack_808[0] = 'n';
            acStack_808[1] = 'i';
            acStack_808[2] = 't';
            acStack_808[3] = ' ';
            acStack_804[0] = 'i';
            acStack_804[1] = 'n';
            acStack_804[2] = ' ';
            acStack_804[3] = 'a';
            local_800[0] = 'd';
            local_800[1] = 'd';
            local_800[2] = '_';
            local_800[3] = 'p';
            acStack_7fc[0] = 'o';
            acStack_7fc[1] = 'o';
            acStack_7fc[2] = 'l';
            acStack_7fc[3] = '\0';
            goto LAB_000586cc;
        }
        iVar3 = pthread_mutex_init((pthread_mutex_t *)(piVar2 + 0x35),
                                   (pthread_mutexattr_t *)0x0);
        if (iVar3 == 0) {
            iVar3 = pthread_rwlock_init((pthread_rwlock_t *)(piVar2 + 0x3b),
                                        (pthread_rwlockattr_t *)0x0);
            if (iVar3 == 0) {
                iVar3 = pthread_mutex_init((pthread_mutex_t *)(piVar2 + 0xb0),
                                           (pthread_mutexattr_t *)0x0);
                if (iVar3 == 0) {
                    iVar3 =
                        pthread_mutex_init((pthread_mutex_t *)(piVar2 + 0xb9),
                                           (pthread_mutexattr_t *)0x0);
                    if (iVar3 == 0) {
                        iVar3 = pthread_rwlock_init(
                            (pthread_rwlock_t *)(piVar2 + 0xbf),
                            (pthread_rwlockattr_t *)0x0);
                        if (iVar3 == 0) {
                            piVar2[0x22] = -1;
                            piVar2[0x2e] = 0;
                            piVar2[0x28] = (int)"{\"method\": \"getwork\", "
                                                "\"params\": [], \"id\":0}\n";
                            piVar2[0x56] = (int)(piVar2 + 0x56);
                            piVar2[0x57] = (int)(piVar2 + 0x56);
                            piVar2[0xe] = 1;
                            FUN_00052b98();
                            *(undefined1 *)(piVar2 + 0x91) = 0;
                            return piVar2;
                        }
                        piVar2 = __errno_location();
                        iVar3 = *piVar2;
                        uVar4 = 0x30d;
                        goto LAB_000586a4;
                    }
                    piVar2 = __errno_location();
                    iVar3 = *piVar2;
                    uVar4 = 0x30d;
                    __format =
                        "Failed to pthread_mutex_init errno=%d in %s %s():%d";
                } else {
                    piVar2 = __errno_location();
                    iVar3 = *piVar2;
                    uVar4 = 0x30c;
                    __format =
                        "Failed to pthread_mutex_init errno=%d in %s %s():%d";
                }
            } else {
                piVar2 = __errno_location();
                uVar4 = 0x30b;
                iVar3 = *piVar2;
            LAB_000586a4:
                __format =
                    "Failed to pthread_rwlock_init errno=%d in %s %s():%d";
            }
        } else {
            piVar2 = __errno_location();
            iVar3 = *piVar2;
            uVar4 = 0x30b;
            __format = "Failed to pthread_mutex_init errno=%d in %s %s():%d";
        }
    } else {
        piVar2 = __errno_location();
        iVar3 = *piVar2;
        uVar4 = 0x304;
        __format = "Failed to pthread_mutex_init errno=%d in %s %s():%d";
    }
    snprintf(local_820, 0x800, __format, iVar3, "cgminer.c", "add_pool", uVar4);
LAB_000586cc:
    FUN_00047ab4(3, local_820, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

char *FUN_00058794(undefined4 param_1)

{
    char *pcVar1;
    void *pvVar2;
    int iVar3;

    if ((DAT_001af134 == 0) && (DAT_001af138 == 0)) {
        DAT_001af13c = DAT_001af13c + 1;
        if (DAT_00242f4c < DAT_001af13c) {
            FUN_00058548();
        }
        iVar3 = *(int *)(DAT_00244048 + (DAT_001af13c + 0x3fffffff) * 4);
        pcVar1 = (char *)__strdup(param_1);
        FUN_00064370(param_1, iVar3 + 0xa8);
        pcVar1 = strtok(pcVar1, ":");
        *(char **)(iVar3 + 0xac) = pcVar1;
        if (pcVar1 == (char *)0x0) {
            pcVar1 = "Failed to find : delimited user info";
        } else {
            pcVar1 = strtok((char *)0x0, ":");
            *(char **)(iVar3 + 0xb0) = pcVar1;
            if (pcVar1 == (char *)0x0) {
                pvVar2 = calloc(1, 1);
                *(void **)(iVar3 + 0xb0) = pvVar2;
                pcVar1 = (char *)0x0;
            } else {
                pcVar1 = (char *)0x0;
            }
        }
    } else {
        pcVar1 = "Use only user + pass or userpass, but not both";
    }
    return pcVar1;
}

char *FUN_00058880(undefined4 param_1)

{
    if (DAT_001af13c != 0) {
        return "Use only user + pass or userpass, but not both";
    }
    DAT_001af134 = DAT_001af134 + 1;
    if (DAT_00242f4c < DAT_001af134) {
        FUN_00058548();
    }
    FUN_00064370(param_1,
                 *(int *)(DAT_00244048 + (DAT_001af134 + 0x3fffffff) * 4) +
                     0xac);
    return (char *)0x0;
}

undefined4 FUN_000588fc(void)

{
    DAT_001af140 = DAT_001af140 + 1;
    if (DAT_00242f4c < DAT_001af140) {
        FUN_00058548();
    }
    return *(undefined4 *)(DAT_00244048 + (DAT_001af140 + 0x3fffffff) * 4);
}

undefined4 FUN_00058948(undefined4 param_1)

{
    undefined4 *puVar1;
    char *pcVar2;
    char *__haystack;
    char acStack_810[2052];

    puVar1 = (undefined4 *)FUN_000588fc();
    FUN_00052e08(puVar1, param_1);
    __haystack = (char *)puVar1[0x29];
    pcVar2 = strstr(__haystack, ".nicehash.com");
    if ((((pcVar2 != (char *)0x0) ||
          (pcVar2 = strstr(__haystack, "#xnsub"), pcVar2 != (char *)0x0)) &&
         (*(undefined1 *)(puVar1 + 0x91) = 1, DAT_001aecc5 != '\0')) &&
        (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
          (6 < DAT_0009e320)))) {
        snprintf(acStack_810, 0x800, "Pool %d extranonce subscribing enabled.",
                 *puVar1);
        FUN_00047ab4(7, acStack_810, 0);
    }
    return 0;
}

char *FUN_00058a34(char *param_1)

{
    char *pcVar1;
    size_t sVar2;
    size_t sVar3;
    long lVar4;
    undefined4 *puVar5;
    char acStack_818[2052];

    pcVar1 = strchr(param_1, 0x3b);
    if (pcVar1 == (char *)0x0) {
        return "No semicolon separated quota;URL pair found";
    }
    sVar2 = strlen(param_1);
    *pcVar1 = '\0';
    sVar3 = strlen(param_1);
    if (sVar3 == 0) {
        pcVar1 = "No parameter for quota found";
    } else if ((int)(sVar2 - (sVar3 + 1)) < 1) {
        pcVar1 = "No parameter for URL found";
    } else {
        lVar4 = strtol(param_1, (char **)0x0, 10);
        if (lVar4 < 0) {
            pcVar1 = "Invalid negative parameter for quota set";
        } else {
            puVar5 = (undefined4 *)FUN_000588fc(lVar4);
            FUN_00052e08(puVar5, param_1 + sVar3 + 1);
            puVar5[0xe] = lVar4;
            if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                (5 < DAT_0009e320)) {
                snprintf(acStack_818, 0x800, "Setting pool %d to quota %d",
                         *puVar5, lVar4);
                FUN_00047ab4(6, acStack_818, 0);
            }
            FUN_00052b98();
            pcVar1 = (char *)0x0;
        }
    }
    return pcVar1;
}

char *FUN_00058b64(undefined4 param_1)

{
    if (DAT_001af13c != 0) {
        return "Use only user + pass or userpass, but not both";
    }
    DAT_001af138 = DAT_001af138 + 1;
    if (DAT_00242f4c < DAT_001af138) {
        FUN_00058548();
    }
    FUN_00064370(param_1,
                 *(int *)(DAT_00244048 + (DAT_001af138 + 0x3fffffff) * 4) +
                     0xb0);
    return (char *)0x0;
}

undefined4 FUN_00058be0(void)

{
    undefined4 *puVar1;
    char acStack_808[2048];

    DAT_001af144 = DAT_001af144 + 1;
    if (DAT_00242f4c < DAT_001af144) {
        FUN_00058548();
    }
    puVar1 = *(undefined4 **)(DAT_00244048 + (DAT_001af144 + 0x3fffffff) * 4);
    if ((DAT_001aecc5 != '\0') &&
        (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
          (6 < DAT_0009e320)))) {
        snprintf(acStack_808, 0x800, "Enable extranonce subscribe on %d",
                 *puVar1);
        FUN_00047ab4(7, acStack_808, 0);
    }
    FUN_0006428c(puVar1 + 0x91);
    return 0;
}

void FUN_00058cc0(int param_1)

{
    int iVar1;
    int *piVar2;
    int local_814;
    char local_810[24];
    undefined2 uStack_7f8;
    undefined1 local_7f6;

    local_814 = 0;
    if (param_1 != 0) {
        iVar1 = pthread_rwlock_trywrlock((pthread_rwlock_t *)(param_1 + 0x140));
        if (iVar1 == 0) {
            local_814 = *(int *)(param_1 + 0x164);
            *(undefined4 *)(param_1 + 0x164) = 0;
            iVar1 =
                pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x140));
            if (iVar1 != 0) {
                piVar2 = __errno_location();
                snprintf(local_810, 0x800,
                         "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d",
                         *piVar2, "cgminer.c", "flush_queue", 0x25a3);
                FUN_00047ab4(3, local_810, 1);
                /* WARNING: Subroutine does not return */
                FUN_00054ccc(1);
            }
            (*DAT_0009e444)();
            if (((local_814 != 0) &&
                 (FUN_00053084(&local_814, "cgminer.c", "flush_queue", 0x25a7),
                  DAT_001aecc5 != '\0')) &&
                ((DAT_00244080 != '\0' ||
                  ((DAT_001aecc4 != '\0' || (6 < DAT_0009e320)))))) {
                builtin_strncpy(local_810, "Discarded queued work it", 0x18);
                uStack_7f8 = 0x6d65;
                local_7f6 = 0;
                FUN_00047ab4(7, local_810, 0);
            }
        }
    }
    return;
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */

void FUN_00058e30(void)

{
    int iVar1;
    int *piVar2;
    char *pcVar3;
    int iVar4;
    int iVar5;
    undefined8 *puVar6;
    int *piVar8;
    int *piVar9;
    undefined4 uVar10;
    sysinfo local_860;
    char acStack_820[2048];
    undefined8 *puVar7;

    iVar1 = sysinfo(&local_860);
    if (iVar1 == 0) {
        DAT_00242ea0 = local_860.uptime;
    } else {
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (5 < DAT_0009e320)) {
            piVar2 = __errno_location();
            iVar1 = *piVar2;
            pcVar3 = strerror(iVar1);
            snprintf(acStack_820, 0x800,
                     "Failed to get sysinfo, errno:%u, reason:%s\n", iVar1,
                     pcVar3);
            FUN_00047ab4(6, acStack_820, 0);
        }
        DAT_00242ea0 = time((time_t *)0x0);
    }
    FUN_0004a60c(&DAT_001af0f4);
    FUN_0004c460(&DAT_001af148);
    DAT_00245110._0_4_ = 0;
    DAT_00245110._4_4_ = 0;
    DAT_00245210._0_4_ = 0;
    DAT_00245210._4_4_ = 0;
    DAT_00245208._0_4_ = 0;
    DAT_00245208._4_4_ = 0;
    DAT_00245218._0_4_ = 0;
    DAT_00245218._4_4_ = 0;
    DAT_00245228._0_4_ = 0;
    DAT_00245228._4_4_ = 0;
    DAT_002463b0._0_4_ = 0;
    DAT_002463b0._4_4_ = 0;
    puVar6 = &DAT_001af150;
    do {
        puVar7 = puVar6 + 1;
        *(undefined4 *)puVar6 = 0;
        *(undefined4 *)((int)puVar6 + 4) = 0;
        puVar6 = puVar7;
    } while (puVar7 != (undefined8 *)&DAT_001af1b0);
    DAT_0009ed88._0_4_ = 0;
    DAT_0009ed88._4_4_ = 0x3ff00000;
    DAT_0009ed68._0_4_ = 0;
    DAT_0009ed68._4_4_ = 0x3ff00000;
    DAT_0009ed80._0_4_ = 0;
    DAT_0009ed80._4_4_ = 0x3ff00000;
    DAT_00242ee8 = 0;
    DAT_001af1b0 = 0;
    DAT_00245100 = 0;
    DAT_00245104 = 0;
    DAT_00246360 = 0;
    DAT_00242fdc = 0;
    DAT_00245150 = 0;
    DAT_00244014 = 0;
    DAT_00245168 = 0;
    DAT_0024516c = 0;
    DAT_00245158 = 0;
    DAT_0024515c = 0;
    DAT_00246368 = 0;
    DAT_0024636c = 0;
    DAT_00242e98 = 0;
    DAT_00242e9c = 0;
    DAT_00242f00 = 0;
    DAT_00242f04 = 0;
    DAT_002463d0 = 0;
    DAT_002463d4 = 0;
    DAT_00242ef0._0_4_ = 0;
    DAT_00242ef0._4_4_ = 0;
    _DAT_00242f10 = 0;
    DAT_00242f14 = 0;
    DAT_00246238._0_4_ = 0;
    DAT_00246238._4_4_ = 0;
    if (0 < DAT_00242f4c) {
        piVar9 = DAT_00244048 + DAT_00242f4c;
        piVar2 = DAT_00244048;
        do {
            piVar8 = piVar2 + 1;
            iVar1 = *piVar2;
            *(undefined4 *)(iVar1 + 0x74) = 0;
            *(undefined4 *)(iVar1 + 8) = 0;
            *(undefined4 *)(iVar1 + 0xc) = 0;
            *(undefined4 *)(iVar1 + 0x10) = 0;
            *(undefined4 *)(iVar1 + 0x14) = 0;
            *(undefined4 *)(iVar1 + 0x78) = 0;
            *(undefined4 *)(iVar1 + 0x7c) = 0;
            *(undefined4 *)(iVar1 + 0x80) = 0;
            *(undefined4 *)(iVar1 + 0x84) = 0;
            *(undefined4 *)(iVar1 + 0x160) = 0;
            *(undefined4 *)(iVar1 + 0x28) = 0;
            *(undefined4 *)(iVar1 + 0x2c) = 0;
            *(undefined4 *)(iVar1 + 0x48) = 0;
            *(undefined4 *)(iVar1 + 0x4c) = 0;
            *(undefined4 *)(iVar1 + 0x50) = 0;
            *(undefined4 *)(iVar1 + 0x54) = 0;
            *(undefined4 *)(iVar1 + 0x58) = 0;
            *(undefined4 *)(iVar1 + 0x5c) = 0;
            *(undefined4 *)(iVar1 + 0x168) = 0;
            *(undefined4 *)(iVar1 + 0x16c) = 0;
            piVar2 = piVar8;
        } while (piVar9 != piVar8);
    }
    FUN_00053c3c();
    if (0 < DAT_00245140) {
        iVar1 = 0;
        do {
            iVar4 = FUN_00056518(iVar1);
            FUN_0004c460(iVar4 + 0x170, &DAT_001af0f4);
            iVar5 = pthread_mutex_lock((pthread_mutex_t *)&DAT_002463b8);
            if (iVar5 != 0) {
                piVar2 = __errno_location();
                iVar1 = *piVar2;
                pcVar3 = "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d";
                uVar10 = 0x1819;
            LAB_000591b8:
                snprintf(acStack_820, 0x800, pcVar3, iVar1, "cgminer.c",
                         "zero_stats", uVar10);
                FUN_00047ab4(3, acStack_820, 1);
                /* WARNING: Subroutine does not return */
                FUN_00054ccc(1);
            }
            *(undefined4 *)(iVar4 + 0x50) = 0;
            *(undefined4 *)(iVar4 + 0x54) = 0;
            *(undefined4 *)(iVar4 + 0x24) = 0;
            *(undefined4 *)(iVar4 + 0x28) = 0;
            *(undefined4 *)(iVar4 + 0x2c) = 0;
            *(undefined4 *)(iVar4 + 0x58) = 0;
            *(undefined4 *)(iVar4 + 0x5c) = 0;
            *(undefined4 *)(iVar4 + 0xdc) = 0;
            *(undefined4 *)(iVar4 + 200) = 0;
            *(undefined4 *)(iVar4 + 0xcc) = 0;
            *(undefined4 *)(iVar4 + 0xd0) = 0;
            *(undefined4 *)(iVar4 + 0xd4) = 0;
            *(undefined4 *)(iVar4 + 0xe0) = 0;
            *(undefined4 *)(iVar4 + 0xe4) = 0;
            *(undefined4 *)(iVar4 + 0xc0) = 0;
            *(undefined4 *)(iVar4 + 0xc4) = 0;
            iVar5 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_002463b8);
            if (iVar5 != 0) {
                piVar2 = __errno_location();
                iVar1 = *piVar2;
                pcVar3 = "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d";
                uVar10 = 0x1826;
                goto LAB_000591b8;
            }
            iVar1 = iVar1 + 1;
            (*DAT_0009e444)();
            (**(code **)(*(int *)(iVar4 + 4) + 0x60))(iVar4);
        } while (iVar1 < DAT_00245140);
    }
    return;
}

void FUN_000593c8(int param_1)

{
    int iVar1;
    int *piVar2;
    char *__format;
    code *pcVar3;
    undefined4 uVar4;
    char acStack_808[2048];

    if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
        (5 < DAT_0009e320)) {
        snprintf(acStack_808, 0x800, "%s %d: invalid nonce - HW error",
                 *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x24) + 4) + 8),
                 *(undefined4 *)(*(int *)(param_1 + 0x24) + 8));
        FUN_00047ab4(6, acStack_808, 0);
    }
    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00246244);
    if (iVar1 == 0) {
        DAT_00242ee8 = DAT_00242ee8 + 1;
        *(int *)(*(int *)(param_1 + 0x24) + 0x2c) =
            *(int *)(*(int *)(param_1 + 0x24) + 0x2c) + 1;
        iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00246244);
        if (iVar1 == 0) {
            (*DAT_0009e444)();
            pcVar3 = *(code **)(*(int *)(*(int *)(param_1 + 0x24) + 4) + 0x54);
            if (pcVar3 != (code *)0x0) {
                (*pcVar3)(param_1);
            }
            return;
        }
        piVar2 = __errno_location();
        iVar1 = *piVar2;
        __format = "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d";
        uVar4 = 0x2231;
    } else {
        piVar2 = __errno_location();
        iVar1 = *piVar2;
        __format = "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d";
        uVar4 = 0x222e;
    }
    snprintf(acStack_808, 0x800, __format, iVar1, "cgminer.c", "inc_hw_errors",
             uVar4);
    FUN_00047ab4(3, acStack_808, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

undefined8 FUN_00059550(int param_1)

{
    uint uVar1;
    int iVar2;
    int *piVar3;
    uint uVar4;
    char *__format;
    uint *puVar5;
    uint uVar6;
    bool bVar7;
    bool bVar8;
    double dVar9;
    double dVar10;
    double dVar11;
    double dVar12;
    undefined8 uVar13;
    undefined4 uVar14;
    char acStack_820[2048];

    dVar11 = (double)FUN_000778a4(*(undefined4 *)(param_1 + 0xd8),
                                  *(undefined4 *)(param_1 + 0xdc));
    dVar9 = (double)FUN_000778a4(*(undefined4 *)(param_1 + 0xd0),
                                 *(undefined4 *)(param_1 + 0xd4));
    dVar10 = (double)FUN_000778a4(*(undefined4 *)(param_1 + 200),
                                  *(undefined4 *)(param_1 + 0xcc));
    dVar12 = (double)FUN_000778a4(*(undefined4 *)(param_1 + 0xc0),
                                  *(undefined4 *)(param_1 + 0xc4));
    dVar12 = dVar12 + dVar11 * 6.277101735386681e+57 +
             dVar9 * 3.402823669209385e+38 + dVar10 * 1.8446744073709552e+19;
    if (dVar12 == 0.0) {
        dVar12 = 0.0;
    }
    dVar9 = round(2.695953529101131e+67 / dVar12);
    uVar13 = FUN_00077970(SUB84(dVar9, 0), (int)((ulonglong)dVar9 >> 0x20));
    uVar4 = (uint)((ulonglong)uVar13 >> 0x20);
    uVar1 = (uint)uVar13;
    iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_002440bc);
    if (iVar2 == 0) {
        iVar2 = pthread_rwlock_wrlock((pthread_rwlock_t *)&DAT_002440d4);
        if (iVar2 == 0) {
            bVar7 = uVar4 <= DAT_001af0d4;
            if (DAT_001af0d4 == uVar4) {
                bVar7 = uVar1 <= DAT_001af0d0;
            }
            if (!bVar7) {
                DAT_001af0d0 = uVar1;
                DAT_001af0d4 = uVar4;
                FUN_00051b18(uVar1, uVar4, &DAT_0009ed70, 8, 0);
            }
            puVar5 = (uint *)(*(int *)(param_1 + 0x104) + 0x170);
            uVar6 = *(uint *)(*(int *)(param_1 + 0x104) + 0x174);
            bVar8 = uVar4 <= uVar6;
            if (uVar6 == uVar4) {
                bVar8 = uVar1 <= *puVar5;
            }
            if (!bVar8) {
                *(undefined8 *)puVar5 = uVar13;
            }
            iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_002440d4);
            if (iVar2 == 0) {
                iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_002440bc);
                if (iVar2 == 0) {
                    (*DAT_0009e444)();
                    if ((!bVar7) &&
                        (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                          (5 < DAT_0009e320)))) {
                        snprintf(acStack_820, 0x800, "New best share: %s",
                                 &DAT_0009ed70);
                        FUN_00047ab4(6, acStack_820, 0);
                    }
                    return uVar13;
                }
                piVar3 = __errno_location();
                iVar2 = *piVar3;
                __format = "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d";
                uVar14 = 0x1427;
            } else {
                piVar3 = __errno_location();
                iVar2 = *piVar3;
                __format = "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d";
                uVar14 = 0x1427;
            }
        } else {
            piVar3 = __errno_location();
            iVar2 = *piVar3;
            __format = "WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d";
            uVar14 = 0x1419;
        }
    } else {
        piVar3 = __errno_location();
        iVar2 = *piVar3;
        __format = "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d";
        uVar14 = 0x1419;
    }
    snprintf(acStack_820, 0x800, __format, iVar2, "cgminer.c", "share_diff",
             uVar14);
    FUN_00047ab4(3, acStack_820, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

void FUN_00059820(int *param_1, int param_2)

{
    char cVar1;
    int iVar2;
    time_t tVar3;
    int *piVar4;
    char *__format;
    double dVar5;
    double dVar6;
    undefined8 uVar7;
    undefined4 uVar8;
    char acStack_820[2052];

    dVar6 = DAT_0009ed90;
    uVar7 = FUN_00059550(param_2);
    *(undefined8 *)(param_2 + 0xe8) = uVar7;
    dVar5 = (double)FUN_000778a4();
    cVar1 = DAT_00244080;
    if (dVar6 <= dVar5) {
        *(undefined1 *)(param_2 + 0x11b) = 1;
        DAT_00242fdc = DAT_00242fdc + 1;
        *(int *)(*(int *)(param_2 + 0x104) + 0x20) =
            *(int *)(*(int *)(param_2 + 0x104) + 0x20) + 1;
        *(undefined1 *)(param_2 + 0x11a) = 1;
        if (((cVar1 != '\0') || (DAT_001aecc4 != '\0')) || (4 < DAT_0009e320)) {
            snprintf(acStack_820, 0x800, "Found block for pool %d!",
                     **(undefined4 **)(param_2 + 0x104));
            FUN_00047ab4(5, acStack_820, 0);
        }
    }
    iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00246244);
    if (iVar2 == 0) {
        dVar5 = *(double *)(param_2 + 0xe0);
        dVar6 = (double)FUN_000778b4(DAT_002463d0, DAT_002463d4);
        dVar6 = dVar6 + dVar5;
        uVar7 = FUN_0007794c(SUB84(dVar6, 0), (int)((ulonglong)dVar6 >> 0x20));
        DAT_002463d4 = (undefined4)((ulonglong)uVar7 >> 0x20);
        DAT_002463d0 = (undefined4)uVar7;
        iVar2 = *param_1;
        dVar6 = (double)FUN_000778b4(*(undefined4 *)(iVar2 + 0xc0),
                                     *(undefined4 *)(iVar2 + 0xc4));
        dVar6 = dVar6 + dVar5;
        uVar7 = FUN_0007794c(SUB84(dVar6, 0), (int)((ulonglong)dVar6 >> 0x20));
        *(undefined8 *)(iVar2 + 0xc0) = uVar7;
        iVar2 = *(int *)(param_2 + 0x104);
        dVar6 = (double)FUN_000778b4(*(undefined4 *)(iVar2 + 0x28),
                                     *(undefined4 *)(iVar2 + 0x2c));
        dVar6 = dVar6 + *(double *)(param_2 + 0xe0);
        uVar7 = FUN_0007794c(SUB84(dVar6, 0), (int)((ulonglong)dVar6 >> 0x20));
        *(undefined8 *)(iVar2 + 0x28) = uVar7;
        iVar2 = *param_1;
        tVar3 = time((time_t *)0x0);
        *(time_t *)(iVar2 + 0xe8) = tVar3;
        iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00246244);
        if (iVar2 == 0) {
            (*DAT_0009e444)();
            return;
        }
        piVar4 = __errno_location();
        iVar2 = *piVar4;
        __format = "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d";
        uVar8 = 0x2283;
    } else {
        piVar4 = __errno_location();
        iVar2 = *piVar4;
        __format = "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d";
        uVar8 = 0x227e;
    }
    snprintf(acStack_820, 0x800, __format, iVar2, "cgminer.c",
             "update_work_stats", uVar8);
    FUN_00047ab4(3, acStack_820, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

int FUN_00059a4c(int param_1, int param_2, undefined4 param_3,
                 undefined4 *param_4)

{
    int iVar1;
    undefined4 *puVar2;
    char local_810[16];
    undefined2 uStack_800;
    undefined1 local_7fe;

    puVar2 = param_4;
    if (param_4 != (undefined4 *)0x0) {
        puVar2 = (undefined4 *)0x0;
    }
    if (param_4 != (undefined4 *)0x0) {
        *param_4 = puVar2;
    }
    *(undefined4 *)(param_2 + 0x4c) = param_3;
    FUN_00051dd0(param_2);
    if (*(int *)(param_2 + 0xdc) == 0) {
        FUN_00059820(param_1 + 0x24, param_2);
        iVar1 = FUN_00049d78(param_2 + 0xc0, param_2 + 0xa0);
        if (iVar1 == 0) {
            if (param_4 != (undefined4 *)0x0) {
                *param_4 = 1;
            }
            if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                (DAT_0009e320 < 6)) {
                iVar1 = 0;
            } else {
                builtin_strncpy(local_810, "Share above targ", 0x10);
                uStack_800 = 0x7465;
                local_7fe = 0;
                FUN_00047ab4(6, local_810, 0);
            }
        }
        return iVar1;
    }
    FUN_000593c8(param_1);
    return 0;
}

void FUN_00059b44(undefined4 *param_1)

{
    int iVar1;
    int *piVar2;
    int iVar3;
    int iVar4;
    undefined4 *puVar5;
    int iVar6;
    uint uVar7;
    char *__format;
    int iVar8;
    int iVar9;
    int iVar10;
    bool bVar11;
    undefined4 uVar12;
    int local_824;
    char acStack_820[2048];

    iVar1 = pthread_mutex_lock(DAT_001af0e4);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        iVar1 = *piVar2;
        __format = "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d";
        uVar12 = 0x1ce0;
        goto LAB_00059df0;
    }
    local_824 = DAT_001af1b4;
    if (DAT_001af1b4 != 0) {
        puVar5 = *(undefined4 **)(DAT_001af1b4 + 0x104);
        iVar8 = 0;
        iVar1 = *(int *)(DAT_001af1b4 + 0x160);
        local_824 = DAT_001af1b4;
        iVar3 = DAT_001af1b4;
        do {
            DAT_001af1b4 = iVar3;
            if (puVar5 == param_1) {
                iVar10 = *(int *)(local_824 + 0x15c);
                puVar5 = *(undefined4 **)(iVar3 + 0x158);
                if (iVar10 == 0) {
                    iVar4 = *(int *)(local_824 + 0x160);
                    if (iVar4 != 0) {
                        iVar6 = puVar5[5];
                        iVar9 = iVar4;
                        DAT_001af1b4 = iVar4;
                        if (local_824 == puVar5[4] - iVar6)
                            goto LAB_00059d60;
                        goto LAB_00059bec;
                    }
                    free((void *)*puVar5);
                    free(*(void **)(DAT_001af1b4 + 0x158));
                    DAT_001af1b4 = iVar4;
                } else {
                    iVar6 = puVar5[5];
                    if (local_824 == puVar5[4] - iVar6) {
                    LAB_00059d60:
                        DAT_001af1b4 = iVar3;
                        puVar5[4] = iVar10 + iVar6;
                        iVar10 = *(int *)(local_824 + 0x15c);
                        if (iVar10 == 0) {
                            iVar4 = *(int *)(local_824 + 0x160);
                            iVar9 = iVar4;
                            DAT_001af1b4 = iVar4;
                            goto LAB_00059bec;
                        }
                        iVar6 = *(int *)(*(int *)(iVar3 + 0x158) + 0x14);
                    }
                    *(undefined4 *)(iVar10 + iVar6 + 8) =
                        *(undefined4 *)(local_824 + 0x160);
                    iVar4 = iVar3;
                    iVar9 = *(int *)(local_824 + 0x160);
                LAB_00059bec:
                    piVar2 = *(int **)(iVar4 + 0x158);
                    if (iVar9 != 0) {
                        *(undefined4 *)(iVar9 + piVar2[5] + 4) =
                            *(undefined4 *)(local_824 + 0x15c);
                        piVar2 = *(int **)(iVar4 + 0x158);
                    }
                    uVar7 = piVar2[1] - 1U & *(uint *)(local_824 + 0x174);
                    iVar3 = *piVar2 + uVar7 * 0xc;
                    *(int *)(iVar3 + 4) = *(int *)(iVar3 + 4) + -1;
                    puVar5 = (undefined4 *)(iVar4 + 0x158);
                    bVar11 = *(int *)(*(int *)*puVar5 + uVar7 * 0xc) ==
                             local_824 + 0x158;
                    if (bVar11) {
                        iVar4 = *(int *)(local_824 + 0x168);
                        *(int *)(*(int *)*puVar5 + uVar7 * 0xc) = iVar4;
                    }
                    iVar3 = *(int *)(local_824 + 0x168);
                    if (bVar11) {
                        iVar4 = DAT_001af1b4;
                    }
                    if (*(int *)(local_824 + 0x164) != 0) {
                        *(int *)(*(int *)(local_824 + 0x164) + 0x10) = iVar3;
                        iVar3 = *(int *)(local_824 + 0x168);
                    }
                    if (iVar3 != 0) {
                        *(undefined4 *)(iVar3 + 0xc) =
                            *(undefined4 *)(local_824 + 0x164);
                    }
                    *(int *)(*(int *)(iVar4 + 0x158) + 0xc) =
                        *(int *)(*(int *)(iVar4 + 0x158) + 0xc) + -1;
                }
                iVar8 = iVar8 + 1;
                FUN_00053084(&local_824, "cgminer.c", "clear_pool_work",
                             0x1ce6);
            }
            local_824 = iVar1;
            if (iVar1 == 0)
                goto LAB_00059ca4;
            puVar5 = *(undefined4 **)(iVar1 + 0x104);
            iVar1 = *(int *)(iVar1 + 0x160);
            iVar3 = DAT_001af1b4;
        } while (true);
    }
    iVar1 = pthread_mutex_unlock(DAT_001af0e4);
    if (iVar1 == 0) {
        (*DAT_0009e444)();
        return;
    }
    goto LAB_00059e14;
LAB_00059ca4:
    iVar1 = pthread_mutex_unlock(DAT_001af0e4);
    if (iVar1 == 0) {
        (*DAT_0009e444)();
        if ((iVar8 != 0) &&
            (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
              (5 < DAT_0009e320)))) {
            snprintf(
                acStack_820, 0x800,
                "Cleared %d work items due to stratum disconnect on pool %d",
                iVar8, *param_1);
            FUN_00047ab4(6, acStack_820, 0);
        }
        return;
    }
LAB_00059e14:
    piVar2 = __errno_location();
    iVar1 = *piVar2;
    __format = "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d";
    uVar12 = 0x1cea;
LAB_00059df0:
    snprintf(acStack_820, 0x800, __format, iVar1, "cgminer.c",
             "clear_pool_work", uVar12);
    FUN_00047ab4(3, acStack_820, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

void FUN_00059e6c(int *param_1)

{
    int iVar1;
    int iVar2;
    int *piVar3;
    int *piVar4;
    int *piVar5;
    char *__format;
    int iVar6;
    int *piVar7;
    int iVar8;
    int iVar9;
    undefined4 uVar10;
    char acStack_828[2052];

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_002440bc);
    if (iVar1 == 0) {
        iVar2 = pthread_rwlock_wrlock((pthread_rwlock_t *)&DAT_002440d4);
        piVar4 = DAT_00244048;
        iVar6 = DAT_00242f4c;
        piVar5 = DAT_001af12c;
        iVar1 = DAT_001aeeb8;
        if (iVar2 != 0) {
            piVar5 = __errno_location();
            iVar1 = *piVar5;
            __format = "WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d";
            uVar10 = 0x1476;
            goto LAB_0005a1fc;
        }
        iVar8 = *DAT_001af12c;
        iVar2 = 0;
        if (param_1 == (int *)0x0) {
            switch (DAT_001aeeb8) {
            case 0:
            case 3:
            case 4:
            switchD_00059f40_caseD_0:
            switchD_0005a2f0_caseD_0:
                if (0 < iVar6)
                    goto switchD_00059f20_caseD_0;
            default:
            switchD_0005a2f0_default:
                piVar7 = (int *)DAT_00244048[iVar8];
                break;
            case 1:
            case 2:
            LAB_0005a14c:
                if (1 < DAT_00242f4c) {
                    iVar6 = 1;
                    iVar1 = iVar8;
                    do {
                        iVar1 = iVar1 + 1;
                        if (iVar1 < DAT_00242f4c) {
                            piVar7 = piVar4 + iVar1;
                        } else {
                            iVar1 = 0;
                            piVar7 = piVar4;
                        }
                        piVar7 = (int *)*piVar7;
                        if (((*(char *)((int)piVar7 + 0x61) == '\0') &&
                             (piVar7[0x19] == 1)) &&
                            (((char)piVar7[0xa0] == '\0' ||
                              ((*(char *)((int)piVar7 + 0x281) != '\0' &&
                                (*(char *)((int)piVar7 + 0x283) != '\0'))))))
                            goto LAB_0005a018;
                        iVar6 = iVar6 + 1;
                    } while (iVar6 != DAT_00242f4c);
                }
            switchD_00059f20_default:
                piVar7 = (int *)piVar4[iVar8];
            }
        } else {
            iVar9 = param_1[1];
            if (iVar9 != 0) {
                if (DAT_00242f4c < 1) {
                    param_1[1] = 0;
                    switch (iVar1) {
                    case 0:
                    case 3:
                    case 4:
                        goto switchD_0005a2f0_caseD_0;
                    case 1:
                    case 2:
                        goto switchD_0005a2f0_caseD_1;
                    default:
                        goto switchD_0005a2f0_default;
                    }
                }
                piVar3 = DAT_00244048 + DAT_00242f4c;
                piVar7 = DAT_00244048;
                while (true) {
                    iVar6 = *(int *)(*piVar7 + 4);
                    if (iVar6 < iVar9) {
                        *(int *)(*piVar7 + 4) = iVar6 + 1;
                    }
                    if (piVar3 == piVar7 + 1)
                        break;
                    iVar9 = param_1[1];
                    piVar7 = piVar7 + 1;
                }
                param_1[1] = 0;
                switch (iVar1) {
                case 0:
                case 3:
                case 4:
                    goto switchD_00059f20_caseD_0;
                case 1:
                case 2:
                    goto switchD_00059f20_caseD_1;
                default:
                    goto switchD_00059f20_default;
                }
            }
            switch (DAT_001aeeb8) {
            case 0:
            case 3:
            case 4:
                goto switchD_00059f40_caseD_0;
            case 1:
            case 2:
            switchD_0005a2f0_caseD_1:
                piVar4 = DAT_00244048;
            switchD_00059f20_caseD_1:
                if (*(char *)((int)param_1 + 0x61) != '\0')
                    goto LAB_0005a14c;
                piVar7 = (int *)piVar4[*param_1];
                break;
            default:
                goto switchD_0005a2f0_default;
            }
        }
        goto LAB_0005a018;
    }
    piVar5 = __errno_location();
    iVar1 = *piVar5;
    uVar10 = 0x1476;
LAB_0005a1e8:
    __format = "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d";
    goto LAB_0005a1fc;
switchD_00059f20_caseD_0:
    do {
        piVar4 = (int *)FUN_00051eec(iVar2);
        if (((*(char *)((int)piVar4 + 0x61) == '\0') && (piVar4[0x19] == 1)) &&
            (((char)piVar4[0xa0] == '\0' ||
              ((*(char *)((int)piVar4 + 0x281) != '\0' &&
                (*(char *)((int)piVar4 + 0x283) != '\0')))))) {
            piVar7 = (int *)DAT_00244048[*piVar4];
            goto LAB_0005a018;
        }
        iVar2 = iVar2 + 1;
    } while (iVar2 < DAT_00242f4c);
    piVar7 = (int *)DAT_00244048[iVar8];
LAB_0005a018:
    DAT_001af12c = piVar7;
    iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_002440d4);
    if (iVar1 != 0) {
        piVar5 = __errno_location();
        iVar1 = *piVar5;
        __format = "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d";
        uVar10 = 0x14c7;
        goto LAB_0005a1fc;
    }
    iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_002440bc);
    if (iVar1 == 0) {
        (*DAT_0009e444)();
        if ((piVar5 != piVar7) && (1 < DAT_001aeeb8 - 3U)) {
            if ((DAT_00244080 != '\0') ||
                ((DAT_001aecc4 != '\0' || (3 < DAT_0009e320)))) {
                snprintf(acStack_828, 0x800, "Switching to pool %d %s", *piVar7,
                         piVar7[0x29]);
                FUN_00047ab4(4, acStack_828, 0);
            }
            FUN_00059b44(piVar5);
        }
        iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001af1b8);
        if (iVar1 != 0) {
            piVar5 = __errno_location();
            iVar1 = *piVar5;
            uVar10 = 0x14cf;
            goto LAB_0005a1e8;
        }
        pthread_cond_broadcast((pthread_cond_t *)&DAT_001af1d0);
        iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_001af1b8);
        if (iVar1 == 0) {
            (*DAT_0009e444)();
            return;
        }
        piVar5 = __errno_location();
        iVar1 = *piVar5;
        uVar10 = 0x14d1;
    } else {
        piVar5 = __errno_location();
        iVar1 = *piVar5;
        uVar10 = 0x14c7;
    }
    __format = "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d";
LAB_0005a1fc:
    snprintf(acStack_828, 0x800, __format, iVar1, "cgminer.c", "switch_pools",
             uVar10);
    FUN_00047ab4(3, acStack_828, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

void FUN_0005a31c(undefined4 *param_1)

{
    int iVar1;
    undefined4 *puVar2;
    char acStack_808[2048];

    iVar1 = FUN_00055170(param_1, (int)param_1 + 0x61);
    if (iVar1 == 0) {
        FUN_0004a60c(param_1 + 0x22);
        puVar2 = (undefined4 *)FUN_00058084();
        if (param_1 == puVar2) {
            if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                (3 < DAT_0009e320)) {
                snprintf(acStack_808, 0x800, "Pool %d %s not responding!",
                         *param_1, param_1[0x29]);
                FUN_00047ab4(4, acStack_808, 0);
            }
            FUN_00059e6c(0);
            return;
        }
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (5 < DAT_0009e320)) {
            snprintf(acStack_808, 0x800, "Pool %d %s failed to return work",
                     *param_1, param_1[0x29]);
            FUN_00047ab4(6, acStack_808, 0);
            return;
        }
    }
    return;
}

void FUN_0005a44c(undefined4 *param_1)

{
    int *piVar1;
    int iVar2;
    int *piVar3;
    int *piVar4;
    char *__format;
    undefined4 *puVar5;
    int iVar6;
    int *piVar7;
    uint uVar8;
    uint uVar9;
    int *piVar10;
    bool bVar11;
    double dVar12;
    undefined4 uVar13;
    char acStack_830[2052];

    iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001af200);
    if (iVar2 != 0) {
        piVar3 = __errno_location();
        iVar2 = *piVar3;
        __format = "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d";
        uVar13 = 0x1cc1;
        goto LAB_0005a754;
    }
    if (DAT_001af218 != (int *)0x0) {
        dVar12 = 0.0;
        puVar5 = *(undefined4 **)(DAT_001af218[9] + 0x104);
        uVar9 = 0;
        piVar7 = (int *)DAT_001af218[2];
        piVar3 = DAT_001af218;
        piVar4 = DAT_001af218;
        do {
            piVar1 = piVar7;
            DAT_001af218 = piVar4;
            if (puVar5 == param_1) {
                iVar2 = piVar3[1];
                puVar5 = (undefined4 *)*piVar4;
                if (iVar2 == 0) {
                    piVar7 = (int *)piVar3[2];
                    if (piVar7 != (int *)0x0) {
                        iVar6 = puVar5[5];
                        piVar10 = piVar7;
                        DAT_001af218 = piVar7;
                        if (piVar3 == (int *)(puVar5[4] - iVar6))
                            goto LAB_0005a6b8;
                        goto LAB_0005a4fc;
                    }
                    free((void *)*puVar5);
                    free((void *)*piVar4);
                    DAT_001af218 = piVar7;
                } else {
                    iVar6 = puVar5[5];
                    if (piVar3 == (int *)(puVar5[4] - iVar6)) {
                    LAB_0005a6b8:
                        DAT_001af218 = piVar4;
                        puVar5[4] = iVar2 + iVar6;
                        iVar2 = piVar3[1];
                        if (iVar2 == 0) {
                            piVar7 = (int *)piVar3[2];
                            piVar10 = piVar7;
                            DAT_001af218 = piVar7;
                            goto LAB_0005a4fc;
                        }
                        iVar6 = *(int *)(*piVar4 + 0x14);
                    }
                    *(int *)(iVar2 + iVar6 + 8) = piVar3[2];
                    piVar7 = (int *)piVar3[2];
                    piVar10 = piVar4;
                LAB_0005a4fc:
                    piVar4 = (int *)*piVar10;
                    if (piVar7 != (int *)0x0) {
                        *(int *)((int)piVar7 + piVar4[5] + 4) = piVar3[1];
                        piVar4 = (int *)*piVar10;
                    }
                    uVar8 = piVar4[1] - 1U & piVar3[7];
                    iVar2 = *piVar4 + uVar8 * 0xc;
                    *(int *)(iVar2 + 4) = *(int *)(iVar2 + 4) + -1;
                    if (*(int **)(*(int *)*piVar10 + uVar8 * 0xc) == piVar3) {
                        *(int *)(*(int *)*piVar10 + uVar8 * 0xc) = piVar3[4];
                    }
                    iVar2 = piVar3[4];
                    if (piVar3[3] != 0) {
                        *(int *)(piVar3[3] + 0x10) = iVar2;
                        iVar2 = piVar3[4];
                    }
                    if (iVar2 != 0) {
                        *(int *)(iVar2 + 0xc) = piVar3[3];
                    }
                    *(int *)(*piVar10 + 0xc) = *(int *)(*piVar10 + 0xc) + -1;
                }
                uVar9 = uVar9 + 1;
                dVar12 = dVar12 + *(double *)(piVar3[9] + 0x178);
                FUN_00053084(piVar3 + 9, "cgminer.c", "clear_stratum_shares",
                             0x1cc9);
                param_1[0xb7] = param_1[0xb7] + -1;
                free(piVar3);
            }
            if (piVar1 == (int *)0x0)
                goto LAB_0005a5c4;
            puVar5 = *(undefined4 **)(piVar1[9] + 0x104);
            piVar7 = (int *)piVar1[2];
            piVar3 = piVar1;
            piVar4 = DAT_001af218;
        } while (true);
    }
    iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_001af200);
    if (iVar2 == 0) {
        (*DAT_0009e444)();
        return;
    }
    goto LAB_0005a778;
LAB_0005a5c4:
    iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_001af200);
    if (iVar2 == 0) {
        (*DAT_0009e444)();
        if (uVar9 != 0) {
            if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                (3 < DAT_0009e320)) {
                snprintf(acStack_830, 0x800,
                         "Lost %d shares due to stratum disconnect on pool %d",
                         uVar9, *param_1);
                FUN_00047ab4(4, acStack_830, 0);
            }
            DAT_00246238 = DAT_00246238 + dVar12;
            bVar11 = CARRY4(DAT_00242e98, uVar9);
            DAT_00242e98 = DAT_00242e98 + uVar9;
            DAT_00242e9c = DAT_00242e9c + ((int)uVar9 >> 0x1f) + (uint)bVar11;
            *(double *)(param_1 + 0x16) = *(double *)(param_1 + 0x16) + dVar12;
            param_1[0x1e] = param_1[0x1e] + uVar9;
        }
        return;
    }
LAB_0005a778:
    piVar3 = __errno_location();
    iVar2 = *piVar3;
    __format = "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d";
    uVar13 = 0x1ccf;
LAB_0005a754:
    snprintf(acStack_830, 0x800, __format, iVar2, "cgminer.c",
             "clear_stratum_shares", uVar13);
    FUN_00047ab4(3, acStack_830, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

void FUN_0005a7e8(int param_1, int param_2)

{
    int iVar1;
    int iVar2;
    time_t tVar3;
    void *__ptr;
    void *__ptr_00;
    int *piVar4;
    uint *puVar5;
    char *__format;
    uint uVar6;
    undefined4 uVar7;
    int extraout_r3;
    uint *puVar8;
    pthread_rwlock_t *__rwlock;
    double dVar9;
    double dVar10;
    double dVar11;
    double dVar12;
    undefined8 uVar13;
    uint local_8d8;
    uint uStack_8d4;
    uint local_8d0[7];
    uint uStack_8b4;
    uint local_8b0[8];
    undefined1 auStack_890[28];
    uint uStack_874;
    uint local_870[16];
    char acStack_830[136];
    undefined1 auStack_7a8[1916];

    iVar2 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0xd4));
    if (iVar2 != 0) {
        piVar4 = __errno_location();
        iVar2 = *piVar4;
        __format = "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d";
        uVar7 = 0x20a2;
    LAB_0005ae54:
        snprintf(acStack_830, 0x800, __format, iVar2, "cgminer.c",
                 "gen_stratum_work", uVar7);
        FUN_00047ab4(3, acStack_830, 1);
        /* WARNING: Subroutine does not return */
        FUN_00054ccc(1);
    }
    __rwlock = (pthread_rwlock_t *)(param_1 + 0xec);
    iVar2 = pthread_rwlock_wrlock(__rwlock);
    if (iVar2 != 0) {
        piVar4 = __errno_location();
        iVar2 = *piVar4;
        __format = "WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d";
        uVar7 = 0x20a2;
        goto LAB_0005ae54;
    }
    puVar8 = (uint *)(param_1 + 0x270);
    local_8d8 = *puVar8;
    uStack_8d4 = *(uint *)(param_1 + 0x274);
    FUN_0004c150(*(int *)(param_1 + 0x620) + *(int *)(param_1 + 0x628),
                 &local_8d8, *(undefined4 *)(param_1 + 0x278), "cgminer.c",
                 "gen_stratum_work", 0x20a7);
    uVar6 = *puVar8;
    iVar2 = *(int *)(param_1 + 0x274);
    *puVar8 = uVar6 + 1;
    *(uint *)(param_1 + 0x274) = iVar2 + (uint)(0xfffffffe < uVar6);
    *(uint *)(param_2 + 0x128) = uVar6;
    *(int *)(param_2 + 300) = iVar2;
    *(undefined4 *)(param_2 + 0x130) = *(undefined4 *)(param_1 + 0x278);
    iVar2 = pthread_rwlock_unlock(__rwlock);
    if (iVar2 != 0) {
        piVar4 = __errno_location();
        iVar2 = *piVar4;
        __format = "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d";
        uVar7 = 0x20ad;
        goto LAB_0005ae54;
    }
    iVar2 = pthread_rwlock_rdlock(__rwlock);
    if (iVar2 != 0) {
        piVar4 = __errno_location();
        iVar2 = *piVar4;
        __format = "WTF RDLOCK ERROR ON LOCK! errno=%d in %s %s():%d";
        uVar7 = 0x20ad;
        goto LAB_0005ae54;
    }
    iVar2 = pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0xd4));
    if (iVar2 != 0) {
        piVar4 = __errno_location();
        iVar2 = *piVar4;
        __format = "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d";
        uVar7 = 0x20ad;
        goto LAB_0005ae54;
    }
    FUN_0004889c(*(undefined4 *)(param_1 + 0x620),
                 *(undefined4 *)(param_1 + 0x624), acStack_830);
    FUN_0004889c(acStack_830, 0x20, local_8d0);
    FUN_0004c150(local_8b0, local_8d0, 0x20, "cgminer.c", "gen_stratum_work",
                 0x20b1);
    if (0 < *(int *)(param_1 + 0x6ac)) {
        iVar2 = 0;
        do {
            iVar1 = iVar2 * 4;
            iVar2 = iVar2 + 1;
            FUN_0004c150(auStack_890,
                         *(undefined4 *)(*(int *)(param_1 + 0x2a4) + iVar1),
                         0x20, "cgminer.c", "gen_stratum_work", 0x20b5);
            FUN_0004889c(local_8b0, 0x40, acStack_830);
            FUN_0004889c(acStack_830, 0x20, local_8d0);
            FUN_0004c150(local_8b0, local_8d0, 0x20, "cgminer.c",
                         "gen_stratum_work", 0x20b7);
        } while (iVar2 < *(int *)(param_1 + 0x6ac));
    }
    puVar5 = &uStack_8b4;
    puVar8 = &uStack_8d4;
    do {
        puVar5 = puVar5 + 1;
        uVar6 = *puVar5;
        puVar8 = puVar8 + 1;
        *puVar8 = uVar6 << 0x18 | (uVar6 >> 8 & 0xff) << 0x10 |
                  (uVar6 >> 0x10 & 0xff) << 8 | uVar6 >> 0x18;
    } while (puVar5 != local_8b0 + 7);
    FUN_0004c150(param_2, param_1 + 0x62c, 0x70, "cgminer.c",
                 "gen_stratum_work", 0x20c0);
    FUN_0004c150(param_2 + 0x24, local_8d0, 0x20, "cgminer.c",
                 "gen_stratum_work", 0x20c1);
    uVar7 = *(undefined4 *)(param_1 + 0x724);
    *(undefined4 *)(param_2 + 0x138) = *(undefined4 *)(param_1 + 0x720);
    *(undefined4 *)(param_2 + 0x13c) = uVar7;
    uVar7 = __strdup(*(undefined4 *)(param_1 + 0x2a0));
    *(undefined4 *)(param_2 + 0x120) = uVar7;
    uVar7 = __strdup(*(undefined4 *)(param_1 + 0x264));
    *(undefined4 *)(param_2 + 0x140) = uVar7;
    uVar7 = __strdup(param_1 + 0x70c);
    *(undefined4 *)(param_2 + 0x134) = uVar7;
    iVar2 = pthread_rwlock_unlock(__rwlock);
    if (iVar2 != 0) {
        piVar4 = __errno_location();
        iVar2 = *piVar4;
        __format = "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d";
        uVar7 = 0x20cc;
        goto LAB_0005ae54;
    }
    (*DAT_0009e444)();
    if (DAT_001aecc5 != '\0') {
        __ptr = (void *)FUN_0004988c(param_2, 0x70);
        __ptr_00 = (void *)FUN_0004988c(local_8d0, 0x20);
        if (DAT_001aecc5 != '\0') {
            if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                (DAT_0009e320 < 7)) {
            LAB_0005ad38:
                if ((DAT_001aecc4 == '\0') && (DAT_0009e320 < 7)) {
                LAB_0005ad58:
                    if ((DAT_001aecc4 != '\0') || (6 < DAT_0009e320)) {
                    LAB_0005ad78:
                        snprintf(acStack_830, 0x800,
                                 "Work job_id %s nonce2 %llu ntime %s",
                                 *(undefined4 *)(param_2 + 0x120),
                                 *(undefined4 *)(param_2 + 0x128),
                                 *(undefined4 *)(param_2 + 300),
                                 *(undefined4 *)(param_2 + 0x134));
                        FUN_00047ab4(7, acStack_830, 0);
                    }
                } else {
                LAB_0005add8:
                    snprintf(acStack_830, 0x800, "Generated stratum header %s",
                             __ptr);
                    FUN_00047ab4(7, acStack_830, 0);
                    if (DAT_001aecc5 != '\0') {
                        if (DAT_00244080 == '\0')
                            goto LAB_0005ad58;
                        goto LAB_0005ad78;
                    }
                }
            } else {
                snprintf(acStack_830, 0x800, "Generated stratum merkle %s",
                         __ptr_00);
                FUN_00047ab4(7, acStack_830, 0);
                if (DAT_001aecc5 != '\0') {
                    if (DAT_00244080 == '\0')
                        goto LAB_0005ad38;
                    goto LAB_0005add8;
                }
            }
        }
        free(__ptr);
        free(__ptr_00);
    }
    puVar8 = (uint *)(param_2 + -4);
    puVar5 = &uStack_874;
    do {
        puVar8 = puVar8 + 1;
        uVar6 = *puVar8;
        puVar5 = puVar5 + 1;
        *puVar5 = uVar6 << 0x18 | (uVar6 >> 8 & 0xff) << 0x10 |
                  (uVar6 >> 0x10 & 0xff) << 8 | uVar6 >> 0x18;
    } while (local_870 + 0xf != puVar5);
    FUN_000486d4(acStack_830);
    FUN_00048704(acStack_830, local_870, 0x40);
    FUN_0004c150(param_2 + 0x80, auStack_7a8, 0x20, "cgminer.c",
                 "calc_midstate", 0x8cb);
    FUN_00053e30((int)*(undefined8 *)(param_2 + 0x138), param_2 + 0xa0);
    DAT_00246360 = DAT_00246360 + 1;
    tVar3 = time((time_t *)0x0);
    if (5 < tVar3 - DAT_001af21c) {
        DAT_001af21c = time((time_t *)0x0);
        DAT_001af220 = DAT_00246360;
    }
    uVar7 = DAT_001af224;
    dVar12 = *(double *)(param_2 + 0x138);
    *(undefined1 *)(param_2 + 0x11c) = 1;
    *(int *)(param_2 + 0x104) = param_1;
    *(undefined4 *)(param_2 + 0x150) = uVar7;
    *(undefined4 *)(param_2 + 0xf8) = 0;
    *(undefined1 *)(param_2 + 0x118) = 0;
    *(undefined1 *)(param_2 + 0x1b8) = 0x53;
    *(undefined4 *)(param_2 + 0xf4) = 0x3c;
    if (dVar12 == 0.0) {
        dVar11 = (double)FUN_000778a4(*(undefined4 *)(param_2 + 0xb8),
                                      *(undefined4 *)(param_2 + 0xbc));
        dVar9 = (double)FUN_000778a4(*(undefined4 *)(param_2 + 0xb0),
                                     *(undefined4 *)(param_2 + 0xb4));
        dVar10 = (double)FUN_000778a4(*(undefined4 *)(param_2 + 0xa8),
                                      *(undefined4 *)(param_2 + 0xac));
        dVar12 = (double)FUN_000778a4(*(undefined4 *)(param_2 + 0xa0),
                                      *(undefined4 *)(param_2 + 0xa4));
        dVar12 = dVar12 + dVar11 * 6.277101735386681e+57 +
                 dVar9 * 3.402823669209385e+38 +
                 dVar10 * 1.8446744073709552e+19;
        if (dVar12 == 0.0) {
            dVar12 = 2.695953529101131e+67;
            uVar13 = 0xffffffffffffffff;
        } else {
            dVar12 = 2.695953529101131e+67 / dVar12;
            dVar9 = round(dVar12);
            uVar13 =
                FUN_00077970(SUB84(dVar9, 0), (int)((ulonglong)dVar9 >> 0x20));
        }
        *(double *)(param_2 + 0x178) = dVar12;
    } else {
        *(double *)(param_2 + 0x178) = dVar12;
        dVar9 = round(dVar12);
        uVar13 = FUN_00077970(SUB84(dVar9, 0), (int)((ulonglong)dVar9 >> 0x20));
    }
    *(double *)(param_1 + 0x1e0) = dVar12;
    FUN_00051b18((int)uVar13, (int)((ulonglong)uVar13 >> 0x20),
                 *(int *)(param_2 + 0x104) + 0x30, 8, 0);
    dVar9 = *(double *)(param_1 + 0x1d0);
    if (dVar9 == dVar12) {
        iVar2 = *(int *)(param_1 + 0x1e8) + 1;
        *(int *)(param_1 + 0x1e8) = iVar2;
    } else if ((dVar12 < dVar9) || (iVar2 = extraout_r3, dVar9 == 0.0)) {
        dVar9 = *(double *)(param_1 + 0x1d8);
        iVar2 = 1;
        *(double *)(param_1 + 0x1d0) = dVar12;
        *(undefined4 *)(param_1 + 0x1e8) = 1;
        goto joined_r0x0005ac70;
    }
    dVar9 = *(double *)(param_1 + 0x1d8);
joined_r0x0005ac70:
    if (dVar9 == dVar12) {
        *(int *)(param_1 + 0x1ec) = *(int *)(param_1 + 0x1ec) + 1;
    } else {
        if (dVar9 < dVar12) {
            iVar2 = 1;
        }
        if (dVar9 < dVar12) {
            *(double *)(param_1 + 0x1d8) = dVar12;
            *(int *)(param_1 + 0x1ec) = iVar2;
        }
    }
    FUN_0004a60c(param_2 + 0x108);
    return;
}

void FUN_0005afa8(undefined4 *param_1, int *param_2, int param_3,
                  undefined4 param_4, undefined4 param_5, undefined4 param_6,
                  uint param_7)

{
    undefined4 uVar1;
    int iVar2;
    undefined4 uVar3;
    char *unaff_r11;

    iVar2 = FUN_00055e38();
    *param_2 = iVar2;
    uVar3 = *param_1;
    iVar2 = pthread_mutex_lock((pthread_mutex_t *)(param_3 + 0xd4));
    if (iVar2 == 0) {
        iVar2 = pthread_rwlock_wrlock((pthread_rwlock_t *)(param_3 + 0xec));
        if (iVar2 == 0) {
            unaff_r11 = "get_work_by_nonce2";
            param_7 = param_7 << 0x18 | (param_7 >> 8 & 0xff) << 0x10 |
                      (param_7 >> 0x10 & 0xff) << 8 | param_7 >> 0x18;
            *(undefined4 *)(param_3 + 0x270) = param_5;
            *(undefined4 *)(param_3 + 0x274) = param_6;
            FUN_0004c150(param_3 + 0x62c, &param_7, 4, "cgminer.c",
                         "get_work_by_nonce2", 0x2087);
            iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_3 + 0xec));
            if (iVar2 == 0) {
                iVar2 =
                    pthread_mutex_unlock((pthread_mutex_t *)(param_3 + 0xd4));
                if (iVar2 == 0) {
                    (*DAT_0009e444)();
                    FUN_0005a7e8(param_3, *param_2);
                    uVar1 = DAT_001af224;
                    *(undefined4 *)(*param_2 + 0x104) = param_4;
                    *(undefined4 *)(*param_2 + 0x100) = uVar3;
                    *(undefined4 *)(*param_2 + 0x150) = uVar1;
                    *(int *)(*(int *)(*param_2 + 0x104) + 0x44) =
                        *(int *)(*(int *)(*param_2 + 0x104) + 0x44) + 1;
                    *(undefined1 *)(*param_2 + 0x110) = 1;
                    *(uint *)(*param_2 + 0x1bc) = param_7;
                    return;
                }
                /* WARNING: Subroutine does not return */
                FUN_00055114("get_work_by_nonce2", 0x2088);
            }
            goto LAB_0005b0e8;
        }
    } else {
        FUN_000550b8("get_work_by_nonce2", 0x2084);
    }
    FUN_0005505c("get_work_by_nonce2", 0x2084);
LAB_0005b0e8:
    /* WARNING: Subroutine does not return */
    FUN_00055c08(unaff_r11, 0x2088);
}

undefined4 FUN_0005b104(int *param_1)

{
    char cVar1;
    int iVar2;
    int iVar3;
    pthread_t __th;
    int *piVar4;
    char *__format;
    undefined4 uVar5;
    char acStack_810[2052];

    if (*(char *)((int)param_1 + 0x6b) == '\0') {
        __th = pthread_self();
        pthread_detach(__th);
    }
    cVar1 = *(char *)((int)param_1 + 0x69);
    while (true) {
        if (cVar1 != '\0') {
            return 0;
        }
        iVar2 = FUN_00055244(param_1);
        if (iVar2 != 0)
            break;
        FUN_0005a31c(param_1);
        if (*(char *)((int)param_1 + 0x6b) != '\0') {
        LAB_0005b1f8:
            *(undefined1 *)(param_1 + 0x47) = 0;
            return 0;
        }
        sleep(0x1e);
        cVar1 = *(char *)((int)param_1 + 0x69);
    }
    FUN_000551dc(param_1, (int)param_1 + 0x61);
    iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_002440bc);
    if (iVar2 == 0) {
        iVar2 = pthread_rwlock_wrlock((pthread_rwlock_t *)&DAT_002440d4);
        if (iVar2 == 0) {
            iVar2 = 0;
            if (DAT_001af228 == '\0') {
                iVar2 = *param_1;
                DAT_001af228 = '\x01';
                DAT_001af12c = param_1;
                if (iVar2 != 0) {
                    iVar2 = 1;
                }
            }
            iVar3 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_002440d4);
            if (iVar3 == 0) {
                iVar3 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_002440bc);
                if (iVar3 == 0) {
                    (*DAT_0009e444)();
                    if ((iVar2 != 0) &&
                        (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                          (4 < DAT_0009e320)))) {
                        snprintf(acStack_810, 0x800,
                                 "Switching to pool %d %s - first alive pool",
                                 *param_1, param_1[0x29]);
                        FUN_00047ab4(5, acStack_810, 0);
                    }
                    FUN_000582c8(param_1);
                    FUN_00059e6c(0);
                    goto LAB_0005b1f8;
                }
                piVar4 = __errno_location();
                iVar2 = *piVar4;
                __format = "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d";
                uVar5 = 0x2a1b;
            } else {
                piVar4 = __errno_location();
                iVar2 = *piVar4;
                __format = "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d";
                uVar5 = 0x2a1b;
            }
        } else {
            piVar4 = __errno_location();
            iVar2 = *piVar4;
            __format = "WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d";
            uVar5 = 0x2a0d;
        }
    } else {
        piVar4 = __errno_location();
        iVar2 = *piVar4;
        __format = "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d";
        uVar5 = 0x2a0d;
    }
    snprintf(acStack_810, 0x800, __format, iVar2, "cgminer.c",
             "test_pool_thread", uVar5);
    FUN_00047ab4(3, acStack_810, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

void FUN_0005b390(undefined4 param_1, int param_2)

{
    int iVar1;
    void *__ptr;
    void *__ptr_00;
    void *__ptr_01;
    size_t sVar2;
    int *piVar3;
    undefined4 uVar4;
    undefined4 uVar5;
    int iVar6;
    char *pcVar7;
    char acStack_c28[1023];
    undefined1 local_829;
    undefined4 local_828;
    undefined4 uStack_824;
    undefined4 uStack_820;
    undefined4 uStack_81c;
    undefined4 uStack_818;
    undefined2 local_814;

    if (DAT_001aecdc == (FILE *)0x0) {
        return;
    }
    uVar4 = *(undefined4 *)(param_2 + 0x100);
    iVar1 = FUN_00057bac(uVar4);
    uVar5 = *(undefined4 *)(param_2 + 0x1b0);
    iVar1 = *(int *)(iVar1 + 0x24);
    iVar6 = *(int *)(param_2 + 0x104);
    __ptr = (void *)FUN_0004988c(param_2 + 0xa0, 0x20);
    __ptr_00 = (void *)FUN_0004988c(param_2 + 0xc0, 0x20);
    __ptr_01 = (void *)FUN_0004988c(param_2, 0x80);
    sVar2 = snprintf(acStack_c28, 0x400, "%lu,%s,%s,%s,%s%u,%u,%s,%s\n", uVar5,
                     param_1, __ptr, *(undefined4 *)(iVar6 + 0xa4),
                     *(undefined4 *)(*(int *)(iVar1 + 4) + 8),
                     *(undefined4 *)(iVar1 + 8), uVar4, __ptr_00, __ptr_01);
    free(__ptr);
    free(__ptr_00);
    free(__ptr_01);
    if ((int)sVar2 < 0x400) {
        if ((int)sVar2 < 0) {
            if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                (DAT_0009e320 < 3)) {
                return;
            }
            pcVar7 = "sharelog printf error";
            goto LAB_0005b514;
        }
    } else {
        local_829 = 0;
    }
    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001af22c);
    if (iVar1 == 0) {
        sVar2 = fwrite(acStack_c28, sVar2, 1, DAT_001aecdc);
        fflush(DAT_001aecdc);
        iVar1 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_001af22c);
        if (iVar1 == 0) {
            (*DAT_0009e444)();
            if (sVar2 == 1) {
                return;
            }
            if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                (DAT_0009e320 < 3)) {
                return;
            }
            pcVar7 = "sharelog fwrite error";
        LAB_0005b514:
            local_828 = *(undefined4 *)pcVar7;
            uStack_824 = *(undefined4 *)(pcVar7 + 4);
            uStack_820 = *(undefined4 *)(pcVar7 + 8);
            uStack_81c = *(undefined4 *)(pcVar7 + 0xc);
            uStack_818 = *(undefined4 *)(pcVar7 + 0x10);
            local_814 = (undefined2) * (undefined4 *)(pcVar7 + 0x14);
            FUN_00047ab4(3, &local_828, 0);
            return;
        }
        piVar3 = __errno_location();
        iVar1 = *piVar3;
        uVar4 = 0x2a3;
        pcVar7 = "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d";
    } else {
        piVar3 = __errno_location();
        iVar1 = *piVar3;
        pcVar7 = "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d";
        uVar4 = 0x2a0;
    }
    snprintf((char *)&local_828, 0x800, pcVar7, iVar1, "cgminer.c", "sharelog",
             uVar4);
    FUN_00047ab4(3, &local_828, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

char FUN_0005b638(int param_1, int param_2)

{
    char cVar1;
    int iVar2;
    int iVar3;
    int *piVar4;
    int iVar5;
    pthread_rwlock_t *__rwlock;
    undefined4 uVar6;
    char *pcVar7;
    int local_830[2];
    undefined4 local_828;
    undefined4 uStack_824;
    undefined4 uStack_820;
    undefined4 uStack_81c;
    undefined4 local_818;
    undefined4 uStack_814;
    uint local_810;
    undefined4 uStack_80c;
    uint local_808;
    undefined4 uStack_804;
    undefined2 local_800;

    cVar1 = DAT_001aecc5;
    if (DAT_001af244 != '\0') {
        return '\0';
    }
    if (DAT_00246240 != 0) {
        return '\0';
    }
    if (*(int *)(param_1 + 0x150) != DAT_001af224) {
        if (DAT_001aecc5 == '\0') {
            return '\x01';
        }
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 7)) {
            return DAT_001aecc5;
        }
        local_828._0_1_ = 'W';
        local_828._1_1_ = 'o';
        local_828._2_1_ = 'r';
        local_828._3_1_ = 'k';
        uStack_824._0_1_ = ' ';
        uStack_824._1_1_ = 's';
        uStack_824._2_1_ = 't';
        uStack_824._3_1_ = 'a';
        uStack_820._0_1_ = 'l';
        uStack_820._1_1_ = 'e';
        uStack_820._2_1_ = ' ';
        uStack_820._3_1_ = 'd';
        uStack_81c._0_1_ = 'u';
        uStack_81c._1_1_ = 'e';
        uStack_81c._2_1_ = ' ';
        uStack_81c._3_1_ = 't';
        local_818._0_1_ = 'o';
        local_818._1_1_ = ' ';
        local_818._2_1_ = 'b';
        local_818._3_1_ = 'l';
        uStack_814._0_1_ = 'o';
        uStack_814._1_1_ = 'c';
        uStack_814._2_1_ = 'k';
        uStack_814._3_1_ = ' ';
        local_810._0_1_ = 'm';
        local_810._1_1_ = 'i';
        local_810._2_1_ = 's';
        local_810._3_1_ = 'm';
        uStack_80c._0_1_ = 'a';
        uStack_80c._1_1_ = 't';
        uStack_80c._2_1_ = 'c';
        uStack_80c._3_1_ = 'h';
        local_808 = local_808 & 0xffffff00;
        FUN_00047ab4(7, &local_828, 0);
        return cVar1;
    }
    iVar5 = *(int *)(param_1 + 0x104);
    iVar3 = *(int *)(param_1 + 0x114);
    if (*(int *)(param_1 + 0x114) <= DAT_0009ed98) {
        iVar3 = DAT_0009ed9c;
    }
    if ((param_2 != 0) || (*(char *)(iVar5 + 0x280) == '\0')) {
    LAB_0005b830:
        iVar3 = iVar3 - (int)(longlong)(*(double *)(iVar5 + 0x1c0) * 5.0 + 1.0);
        FUN_0004a60c(local_830);
        cVar1 = DAT_001aecc5;
        if (iVar3 < 5) {
            iVar3 = 5;
        }
        if (local_830[0] - *(int *)(param_1 + 0x108) < iVar3) {
            if (param_2 != 0 || DAT_00245154 != '\x01') {
                return '\0';
            }
            iVar3 = FUN_00058084();
            if (iVar5 == iVar3) {
                return '\0';
            }
            if (*(char *)(param_1 + 0x11a) != '\0') {
                return '\0';
            }
            if (DAT_001aeeb8 - 3U < 2) {
                return '\0';
            }
            if ((DAT_001aecc5 != '\0') &&
                (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                  (6 < DAT_0009e320)))) {
                pcVar7 = "Work stale due to fail only pool mismatch";
            LAB_0005b990:
                cVar1 = DAT_001aecc5;
                local_828 = *(undefined4 *)pcVar7;
                uStack_824 = *(undefined4 *)(pcVar7 + 4);
                uStack_820 = *(undefined4 *)(pcVar7 + 8);
                uStack_81c = *(undefined4 *)(pcVar7 + 0xc);
                local_818 = *(undefined4 *)(pcVar7 + 0x10);
                uStack_814 = *(undefined4 *)(pcVar7 + 0x14);
                local_810 = *(uint *)(pcVar7 + 0x18);
                uStack_80c = *(undefined4 *)(pcVar7 + 0x1c);
                local_808 = *(uint *)(pcVar7 + 0x20);
                uStack_804 = *(undefined4 *)(pcVar7 + 0x24);
                local_800 = (undefined2) * (undefined4 *)(pcVar7 + 0x28);
                FUN_00047ab4(7, &local_828, 0);
                return cVar1;
            }
        } else if ((DAT_001aecc5 != '\0') &&
                   (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                     (6 < DAT_0009e320)))) {
            local_828._0_1_ = 'W';
            local_828._1_1_ = 'o';
            local_828._2_1_ = 'r';
            local_828._3_1_ = 'k';
            uStack_824._0_1_ = ' ';
            uStack_824._1_1_ = 's';
            uStack_824._2_1_ = 't';
            uStack_824._3_1_ = 'a';
            uStack_820._0_1_ = 'l';
            uStack_820._1_1_ = 'e';
            uStack_820._2_1_ = ' ';
            uStack_820._3_1_ = 'd';
            uStack_81c._0_1_ = 'u';
            uStack_81c._1_1_ = 'e';
            uStack_81c._2_1_ = ' ';
            uStack_81c._3_1_ = 't';
            local_818._0_1_ = 'o';
            local_818._1_1_ = ' ';
            local_818._2_1_ = 'e';
            local_818._3_1_ = 'x';
            uStack_814._0_1_ = 'p';
            uStack_814._1_1_ = 'i';
            uStack_814._2_1_ = 'r';
            uStack_814._3_1_ = 'y';
            local_810 = local_810 & 0xffffff00;
            FUN_00047ab4(7, &local_828, 0);
            return cVar1;
        }
        return '\x01';
    }
    if ((*(char *)(iVar5 + 0x281) == '\0') ||
        (*(char *)(iVar5 + 0x283) == '\0')) {
        if (DAT_001aecc5 == '\0') {
            return '\x01';
        }
        if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
            (DAT_0009e320 < 7)) {
            return '\x01';
        }
        local_828._0_1_ = 'W';
        local_828._1_1_ = 'o';
        local_828._2_1_ = 'r';
        local_828._3_1_ = 'k';
        uStack_824._0_1_ = ' ';
        uStack_824._1_1_ = 's';
        uStack_824._2_1_ = 't';
        uStack_824._3_1_ = 'a';
        uStack_820._0_1_ = 'l';
        uStack_820._1_1_ = 'e';
        uStack_820._2_1_ = ' ';
        uStack_820._3_1_ = 'd';
        uStack_81c._0_1_ = 'u';
        uStack_81c._1_1_ = 'e';
        uStack_81c._2_1_ = ' ';
        uStack_81c._3_1_ = 't';
        local_818._0_1_ = 'o';
        local_818._1_1_ = ' ';
        local_818._2_1_ = 's';
        local_818._3_1_ = 't';
        uStack_814._0_1_ = 'r';
        uStack_814._1_1_ = 'a';
        uStack_814._2_1_ = 't';
        uStack_814._3_1_ = 'u';
        local_810._0_1_ = 'm';
        local_810._1_1_ = ' ';
        local_810._2_1_ = 'i';
        local_810._3_1_ = 'n';
        uStack_80c._0_1_ = 'a';
        uStack_80c._1_1_ = 'c';
        uStack_80c._2_1_ = 't';
        uStack_80c._3_1_ = 'i';
        local_808 = CONCAT13(local_808._3_1_, 0x6576);
        FUN_00047ab4(7, &local_828, 0);
        return cVar1;
    }
    iVar2 = pthread_mutex_lock((pthread_mutex_t *)(iVar5 + 0xd4));
    if (iVar2 == 0) {
        __rwlock = (pthread_rwlock_t *)(iVar5 + 0xec);
        iVar2 = pthread_rwlock_rdlock(__rwlock);
        if (iVar2 != 0)
            goto LAB_0005ba98;
        iVar2 = pthread_mutex_unlock((pthread_mutex_t *)(iVar5 + 0xd4));
        if (iVar2 != 0) {
            piVar4 = __errno_location();
            uVar6 = 0x13dc;
            pcVar7 = "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d";
            goto LAB_0005bac4;
        }
        iVar2 = strcmp(*(char **)(param_1 + 0x120), *(char **)(iVar5 + 0x2a0));
        if (iVar2 == 0) {
            iVar2 = pthread_rwlock_unlock(__rwlock);
            if (iVar2 == 0) {
                (*DAT_0009e444)();
                goto LAB_0005b830;
            }
        } else {
            iVar3 = pthread_rwlock_unlock(__rwlock);
            if (iVar3 == 0) {
                (*DAT_0009e444)();
                if (DAT_001aecc5 == '\0') {
                    return '\x01';
                }
                if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                    (DAT_0009e320 < 7)) {
                    return '\x01';
                }
                pcVar7 = "Work stale due to stratum job_id mismatch";
                goto LAB_0005b990;
            }
        }
    } else {
        FUN_000550b8("stale_work", 0x13dc);
    LAB_0005ba98:
        FUN_000561e4("stale_work", 0x13dc);
    }
    piVar4 = __errno_location();
    uVar6 = 0x13e3;
    pcVar7 = "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d";
LAB_0005bac4:
    snprintf((char *)&local_828, 0x800, pcVar7, *piVar4, "cgminer.c",
             "stale_work", uVar6);
    FUN_00047ab4(3, &local_828, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

void FUN_0005bb20(int param_1, undefined4 param_2)

{
    code *pcVar1;
    int iVar2;
    time_t tVar3;
    int iVar4;
    undefined4 *puVar5;
    time_t tVar6;
    undefined *puVar7;
    int *piVar8;
    char *__format;
    char cVar9;
    int iVar10;
    uint uVar11;
    int iVar12;
    int iVar13;
    int iVar14;
    int iVar15;
    int iVar16;
    bool bVar17;
    double dVar18;
    double dVar19;
    undefined4 uVar20;
    int local_83c;
    timespec local_838;
    int local_830;
    int local_82c;
    char local_828[36];
    uint local_804;
    char acStack_800[2012];

    local_83c = 0;
    iVar13 = *(int *)(param_1 + 0x24);
    FUN_00051aac();
    if ((DAT_001aecc5 != '\0') &&
        (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
          (6 < DAT_0009e320)))) {
        builtin_strncpy(local_828, "Popping work from get queue to get w",
                        0x24);
        local_804._0_1_ = 'o';
        local_804._1_1_ = 'r';
        local_804._2_1_ = 'k';
        local_804._3_1_ = '\0';
        FUN_00047ab4(7, local_828, 0);
    }
    tVar3 = time((time_t *)0x0);
LAB_0005bbe4:
    if (local_83c == 0) {
        do {
            iVar4 = pthread_mutex_lock(DAT_001af0e4);
            if (iVar4 != 0) {
                piVar8 = __errno_location();
                iVar13 = *piVar8;
                __format = "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d";
                uVar20 = 0x1ff0;
                goto LAB_0005c090;
            }
            if ((DAT_001af1b4 == 0) ||
                (*(int *)(*(int *)(DAT_001af1b4 + 0x158) + 0xc) == 0)) {
                do {
                    FUN_0004a60c(&local_830);
                    local_838.tv_nsec = local_82c * 1000;
                    local_838.tv_sec = local_830 + 10;
                    pthread_cond_signal((pthread_cond_t *)&DAT_00244050);
                    iVar4 = pthread_cond_timedwait(
                        (pthread_cond_t *)(DAT_00245160 + 0x28), DAT_001af0e4,
                        &local_838);
                    if (((iVar4 != 0) && (DAT_001af130 == '\0')) &&
                        ((DAT_001af130 = '\x01',
                          DAT_00244080 != '\0' || ((DAT_001aecc4 != '\0' ||
                                                    (3 < DAT_0009e320)))))) {
                        builtin_strncpy(local_828,
                                        "Waiting for work to be available fro",
                                        0x24);
                        local_804._0_1_ = 'm';
                        local_804._1_1_ = ' ';
                        local_804._2_1_ = 'p';
                        local_804._3_1_ = 'o';
                        builtin_strncpy(acStack_800, "ols.", 4);
                        acStack_800[4] = 0;
                        FUN_00047ab4(4, local_828, 0);
                    }
                } while ((DAT_001af1b4 == 0) ||
                         (*(int *)(*(int *)(DAT_001af1b4 + 0x158) + 0xc) == 0));
            }
            if (DAT_001af130 != '\0') {
                if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                    (3 < DAT_0009e320)) {
                    builtin_strncpy(local_828,
                                    "Work available from pools, resuming.",
                                    0x24);
                    local_804 = local_804 & 0xffffff00;
                    FUN_00047ab4(4, local_828, 0);
                }
                DAT_001af130 = '\0';
                if (DAT_001af1b4 == 0) {
                LAB_0005bd4c:
                    /* WARNING: Does not return */
                    pcVar1 = (code *)software_udf(0, 0x5bd54);
                    (*pcVar1)();
                }
            }
            iVar4 = DAT_001af1b4;
            puVar5 = *(undefined4 **)(DAT_001af1b4 + 0x158);
            iVar12 = DAT_001af1b4;
            if (((DAT_001afc48 < (int)puVar5[3]) &&
                 (*(char *)(DAT_001af1b4 + 0x111) == '\0')) &&
                (*(int *)(DAT_001af1b4 + 0x114) != 0)) {
                iVar16 = *(int *)(DAT_001af1b4 + 0x160);
                do {
                    if (iVar16 == 0)
                        goto LAB_0005bd4c;
                    iVar12 = iVar16;
                } while ((*(char *)(iVar16 + 0x111) == '\0') &&
                         (piVar8 = (int *)(iVar16 + 0x114),
                          iVar16 = *(int *)(iVar16 + 0x160), *piVar8 != 0));
            }
            iVar16 = *(int *)(iVar12 + 0x15c);
            if (iVar16 == 0) {
                iVar15 = *(int *)(iVar12 + 0x160);
                if (iVar15 != 0) {
                    iVar10 = puVar5[5];
                    iVar14 = iVar15;
                    iVar2 = iVar15;
                    if (iVar12 == puVar5[4] - iVar10)
                        goto LAB_0005c00c;
                    goto LAB_0005be04;
                }
                free((void *)*puVar5);
                free(*(void **)(DAT_001af1b4 + 0x158));
                DAT_001af1b4 = iVar15;
            } else {
                iVar10 = puVar5[5];
                if (iVar12 == puVar5[4] - iVar10) {
                LAB_0005c00c:
                    puVar5[4] = iVar16 + iVar10;
                    iVar16 = *(int *)(iVar12 + 0x15c);
                    if (iVar16 == 0) {
                        iVar15 = *(int *)(iVar12 + 0x160);
                        iVar14 = iVar15;
                        iVar2 = iVar15;
                        goto LAB_0005be04;
                    }
                    iVar10 = *(int *)(*(int *)(iVar4 + 0x158) + 0x14);
                }
                iVar15 = DAT_001af1b4;
                *(undefined4 *)(iVar16 + iVar10 + 8) =
                    *(undefined4 *)(iVar12 + 0x160);
                iVar14 = *(int *)(iVar12 + 0x160);
                iVar2 = DAT_001af1b4;
            LAB_0005be04:
                DAT_001af1b4 = iVar2;
                piVar8 = *(int **)(iVar15 + 0x158);
                if (iVar14 != 0) {
                    *(undefined4 *)(iVar14 + piVar8[5] + 4) =
                        *(undefined4 *)(iVar12 + 0x15c);
                    piVar8 = *(int **)(iVar15 + 0x158);
                }
                uVar11 = piVar8[1] - 1U & *(uint *)(iVar12 + 0x174);
                iVar4 = *piVar8 + uVar11 * 0xc;
                *(int *)(iVar4 + 4) = *(int *)(iVar4 + 4) + -1;
                bVar17 = iVar12 + 0x158 ==
                         *(int *)(**(int **)(iVar15 + 0x158) + uVar11 * 0xc);
                if (bVar17) {
                    *(undefined4 *)(**(int **)(iVar15 + 0x158) + uVar11 * 0xc) =
                        *(undefined4 *)(iVar12 + 0x168);
                }
                iVar4 = *(int *)(iVar12 + 0x168);
                if (bVar17) {
                    iVar15 = DAT_001af1b4;
                }
                if (*(int *)(iVar12 + 0x164) != 0) {
                    *(int *)(*(int *)(iVar12 + 0x164) + 0x10) = iVar4;
                    iVar4 = *(int *)(iVar12 + 0x168);
                }
                if (iVar4 != 0) {
                    *(undefined4 *)(iVar4 + 0xc) =
                        *(undefined4 *)(iVar12 + 0x164);
                }
                *(int *)(*(int *)(iVar15 + 0x158) + 0xc) =
                    *(int *)(*(int *)(iVar15 + 0x158) + 0xc) + -1;
            }
            if ((*(char *)(iVar12 + 0x111) == '\0') &&
                (*(int *)(iVar12 + 0x114) != 0)) {
                DAT_001afc48 = DAT_001afc48 + -1;
            }
            pthread_cond_signal((pthread_cond_t *)&DAT_00244050);
            pthread_cond_signal((pthread_cond_t *)(DAT_00245160 + 0x28));
            DAT_00244020 = time((time_t *)0x0);
            iVar4 = pthread_mutex_unlock(DAT_001af0e4);
            if (iVar4 != 0) {
                piVar8 = __errno_location();
                iVar13 = *piVar8;
                __format = "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d";
                uVar20 = 0x2038;
            LAB_0005c090:
                snprintf(local_828, 0x800, __format, iVar13, "cgminer.c",
                         "hash_pop", uVar20);
                FUN_00047ab4(3, local_828, 1);
                /* WARNING: Subroutine does not return */
                FUN_00054ccc(1);
            }
            (*DAT_0009e444)();
            local_83c = iVar12;
            iVar4 = FUN_0005b638(iVar12, 0);
            if (iVar4 == 0)
                goto LAB_0005bbe4;
            FUN_00053380(&local_83c, "cgminer.c", "get_work", 0x21be);
            FUN_00055aa4();
            if (local_83c != 0)
                break;
        } while (true);
    }
    tVar6 = time((time_t *)0x0);
    iVar4 = tVar6 - tVar3;
    cVar9 = DAT_001aecc5;
    if (iVar4 < 1) {
    LAB_0005c15c:
        if (cVar9 != '\0') {
        LAB_0005c16c:
            if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                (6 < DAT_0009e320)) {
                snprintf(local_828, 0x800,
                         "Got work from get queue to get work for thread %d",
                         param_2);
                FUN_00047ab4(7, local_828, 0);
            }
        }
    } else {
        if (DAT_001aecc5 != '\0') {
            if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                (6 < DAT_0009e320)) {
                snprintf(local_828, 0x800, "Get work blocked for %ld seconds",
                         iVar4);
                FUN_00047ab4(7, local_828, 0);
                cVar9 = DAT_001aecc5;
                *(int *)(iVar13 + 0xe8) = *(int *)(iVar13 + 0xe8) + iVar4;
                goto LAB_0005c15c;
            }
            *(int *)(iVar13 + 0xe8) = *(int *)(iVar13 + 0xe8) + iVar4;
            goto LAB_0005c16c;
        }
        *(int *)(iVar13 + 0xe8) = *(int *)(iVar13 + 0xe8) + iVar4;
    }
    bVar17 = DAT_001af244 != '\0';
    *(undefined4 *)(local_83c + 0x100) = param_2;
    if (bVar17) {
        iVar4 = *(int *)(iVar13 + 0x17c) + *(int *)(iVar13 + 0x180);
        *(int *)(iVar13 + 0x17c) = iVar4;
        if (iVar4 < 1) {
            *(undefined4 *)(iVar13 + 0x180) = 1;
        } else if (0xf < iVar4) {
            iVar4 = -1;
            puVar7 = &DAT_001af248;
            *(undefined4 *)(iVar13 + 0x180) = 0xffffffff;
            iVar12 = *(int *)(iVar13 + 0x178) + 1;
            if (iVar12 < 0x10) {
                iVar4 = iVar12 * 5;
            }
            if (iVar12 == 0xf ||
                *(int *)(iVar13 + 0x178) + -0xe < 0 != SBORROW4(iVar12, 0xf)) {
                *(int *)(iVar13 + 0x178) = iVar12;
                puVar7 = &DAT_001af248 + iVar4 * 0x20;
            } else {
                *(undefined4 *)(iVar13 + 0x178) = 0;
            }
            FUN_0004c150(local_83c, puVar7, 0xa0, "cgminer.c",
                         "set_benchmark_work", 0x21a7);
            goto LAB_0005bf88;
        }
        FUN_0004c150(local_83c, iVar4 * 0xa0 + 0x1afc4c, 0xa0, "cgminer.c",
                     "set_benchmark_work", 0x21ab);
    }
LAB_0005bf88:
    FUN_00051ae4(param_1);
    *(undefined1 *)(local_83c + 0x110) = 1;
    dVar19 = *(double *)(*(int *)(iVar13 + 4) + 0x68);
    if (*(double *)(local_83c + 0x178) < dVar19) {
        dVar19 = *(double *)(local_83c + 0x178);
    }
    *(double *)(local_83c + 0xe0) = dVar19;
    dVar18 = *(double *)(*(int *)(iVar13 + 4) + 0x70);
    if (dVar19 < dVar18) {
        dVar19 = dVar18;
    }
    *(double *)(local_83c + 0xe0) = dVar19;
    return;
}

undefined4 FUN_0005c2cc(undefined4 param_1, undefined4 param_2,
                        undefined4 param_3)

{
    undefined4 uVar1;

    uVar1 = FUN_0005bb20(param_1, param_3);
    FUN_00055f44(param_2, uVar1);
    return uVar1;
}

int FUN_0005c2f4(int param_1)

{
    int iVar1;
    int local_c;

    local_c = *(int *)(param_1 + 0x164);
    if (local_c != 0) {
        iVar1 = FUN_0005b638(local_c);
        if (iVar1 == 0) {
            FUN_00054514(param_1, local_c);
        } else {
            FUN_00053380(&local_c, "cgminer.c", "__get_queued", 0x24c5);
            FUN_00055aa4();
        }
        *(undefined4 *)(param_1 + 0x164) = 0;
        return local_c;
    }
    return 0;
}

undefined4 FUN_0005c374(int param_1)

{
    int iVar1;
    undefined4 uVar2;

    iVar1 = pthread_rwlock_wrlock((pthread_rwlock_t *)(param_1 + 0x140));
    if (iVar1 == 0) {
        uVar2 = FUN_0005c2f4(param_1);
        iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x140));
        if (iVar1 == 0) {
            (*DAT_0009e444)();
            return uVar2;
        }
    } else {
        FUN_0005505c("get_queued", 0x24da);
    }
    /* WARNING: Subroutine does not return */
    FUN_00055c08("get_queued", 0x24dc);
}

void FUN_0005c3e0(void)

{
    int iVar1;
    int iVar2;
    undefined4 *puVar3;
    int *piVar4;
    int iVar5;
    int iVar6;
    int iVar7;
    uint uVar8;
    char *__format;
    int iVar9;
    int iVar10;
    bool bVar11;
    undefined4 uVar12;
    int local_824;
    char acStack_820[2052];

    iVar1 = pthread_mutex_lock(DAT_001af0e4);
    if (iVar1 != 0) {
        piVar4 = __errno_location();
        iVar1 = *piVar4;
        __format = "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d";
        uVar12 = 0x14fd;
        goto LAB_0005c6c8;
    }
    local_824 = DAT_001af1b4;
    if (DAT_001af1b4 != 0) {
        iVar9 = *(int *)(DAT_001af1b4 + 0x160);
        iVar2 = FUN_0005b638(DAT_001af1b4, 0);
        iVar1 = 0;
        iVar5 = DAT_001af1b4;
        do {
            DAT_001af1b4 = iVar5;
            if (iVar2 != 0) {
                iVar2 = *(int *)(local_824 + 0x15c);
                puVar3 = *(undefined4 **)(iVar5 + 0x158);
                if (iVar2 == 0) {
                    iVar6 = *(int *)(local_824 + 0x160);
                    if (iVar6 != 0) {
                        iVar7 = puVar3[5];
                        iVar10 = iVar6;
                        DAT_001af1b4 = iVar6;
                        if (local_824 == puVar3[4] - iVar7)
                            goto LAB_0005c570;
                        goto LAB_0005c46c;
                    }
                    free((void *)*puVar3);
                    free(*(void **)(DAT_001af1b4 + 0x158));
                    DAT_001af1b4 = iVar6;
                } else {
                    iVar7 = puVar3[5];
                    if (local_824 == puVar3[4] - iVar7) {
                    LAB_0005c570:
                        DAT_001af1b4 = iVar5;
                        puVar3[4] = iVar2 + iVar7;
                        iVar2 = *(int *)(local_824 + 0x15c);
                        if (iVar2 == 0) {
                            iVar6 = *(int *)(local_824 + 0x160);
                            iVar10 = iVar6;
                            DAT_001af1b4 = iVar6;
                            goto LAB_0005c46c;
                        }
                        iVar7 = *(int *)(*(int *)(iVar5 + 0x158) + 0x14);
                    }
                    *(undefined4 *)(iVar2 + iVar7 + 8) =
                        *(undefined4 *)(local_824 + 0x160);
                    iVar6 = iVar5;
                    iVar10 = *(int *)(local_824 + 0x160);
                LAB_0005c46c:
                    piVar4 = *(int **)(iVar6 + 0x158);
                    if (iVar10 != 0) {
                        *(undefined4 *)(iVar10 + piVar4[5] + 4) =
                            *(undefined4 *)(local_824 + 0x15c);
                        piVar4 = *(int **)(iVar6 + 0x158);
                    }
                    uVar8 = piVar4[1] - 1U & *(uint *)(local_824 + 0x174);
                    iVar5 = *piVar4 + uVar8 * 0xc;
                    *(int *)(iVar5 + 4) = *(int *)(iVar5 + 4) + -1;
                    puVar3 = (undefined4 *)(iVar6 + 0x158);
                    bVar11 = *(int *)(*(int *)*puVar3 + uVar8 * 0xc) ==
                             local_824 + 0x158;
                    if (bVar11) {
                        iVar6 = *(int *)(local_824 + 0x168);
                        *(int *)(*(int *)*puVar3 + uVar8 * 0xc) = iVar6;
                    }
                    iVar5 = *(int *)(local_824 + 0x168);
                    if (bVar11) {
                        iVar6 = DAT_001af1b4;
                    }
                    if (*(int *)(local_824 + 0x164) != 0) {
                        *(int *)(*(int *)(local_824 + 0x164) + 0x10) = iVar5;
                        iVar5 = *(int *)(local_824 + 0x168);
                    }
                    if (iVar5 != 0) {
                        *(undefined4 *)(iVar5 + 0xc) =
                            *(undefined4 *)(local_824 + 0x164);
                    }
                    *(int *)(*(int *)(iVar6 + 0x158) + 0xc) =
                        *(int *)(*(int *)(iVar6 + 0x158) + 0xc) + -1;
                }
                iVar1 = iVar1 + 1;
                FUN_00053380(&local_824, "cgminer.c", "discard_stale", 0x1504);
            }
            local_824 = iVar9;
            if (iVar9 == 0)
                goto LAB_0005c590;
            iVar5 = *(int *)(iVar9 + 0x160);
            iVar2 = FUN_0005b638(iVar9, 0);
            iVar9 = iVar5;
            iVar5 = DAT_001af1b4;
        } while (true);
    }
    pthread_cond_signal((pthread_cond_t *)&DAT_00244050);
    iVar1 = pthread_mutex_unlock(DAT_001af0e4);
    if (iVar1 == 0) {
        (*DAT_0009e444)();
        return;
    }
    goto LAB_0005c6f4;
LAB_0005c590:
    pthread_cond_signal((pthread_cond_t *)&DAT_00244050);
    iVar9 = pthread_mutex_unlock(DAT_001af0e4);
    if (iVar9 == 0) {
        (*DAT_0009e444)();
        if (((iVar1 != 0) && (DAT_001aecc5 != '\0')) &&
            ((DAT_00244080 != '\0' ||
              ((DAT_001aecc4 != '\0' || (6 < DAT_0009e320)))))) {
            snprintf(acStack_820, 0x800,
                     "Discarded %d stales that didn\'t match current hash",
                     iVar1);
            FUN_00047ab4(7, acStack_820, 0);
        }
        return;
    }
LAB_0005c6f4:
    piVar4 = __errno_location();
    iVar1 = *piVar4;
    __format = "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d";
    uVar12 = 0x150a;
LAB_0005c6c8:
    snprintf(acStack_820, 0x800, __format, iVar1, "cgminer.c", "discard_stale",
             uVar12);
    FUN_00047ab4(3, acStack_820, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

undefined4 FUN_0005c728(void)

{
    pthread_t __th;
    int iVar1;
    int iVar2;
    int iVar3;
    int iVar4;

    __th = pthread_self();
    pthread_detach(__th);
    FUN_0005c3e0();
    iVar1 = pthread_rwlock_rdlock((pthread_rwlock_t *)&DAT_00244028);
    iVar2 = DAT_00245108;
    if (iVar1 == 0) {
        iVar1 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_00244028);
        if (iVar1 == 0) {
            (*DAT_0009e444)();
            if (0 < iVar2) {
                iVar1 = 0;
                do {
                    iVar3 = *(int *)(DAT_00244024 + iVar1 * 4);
                    iVar4 = *(int *)(iVar3 + 0x24);
                    if ((iVar4 != 0) && (*(int *)(iVar4 + 0x20) == 0)) {
                        *(undefined1 *)(iVar3 + 0x3e) = 1;
                        FUN_00058cc0(iVar4);
                        iVar3 = pthread_mutex_lock(
                            (pthread_mutex_t *)&DAT_00246348);
                        if (iVar3 != 0)
                            goto LAB_0005c858;
                        (**(code **)(*(int *)(iVar4 + 4) + 0x4c))(iVar4);
                        iVar3 = pthread_mutex_unlock(
                            (pthread_mutex_t *)&DAT_00246348);
                        if (iVar3 != 0)
                            goto LAB_0005c864;
                        (*DAT_0009e444)();
                    }
                    iVar1 = iVar1 + 1;
                } while (iVar2 != iVar1);
            }
            iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00246374);
            if (iVar2 == 0) {
                pthread_cond_broadcast((pthread_cond_t *)&DAT_00246280);
                iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00246374);
                if (iVar2 == 0) {
                    (*DAT_0009e444)();
                    return 0;
                }
                /* WARNING: Subroutine does not return */
                FUN_00055114("restart_thread", 0x155c);
            }
            FUN_000550b8("restart_thread", 0x155a);
        LAB_0005c858:
            FUN_000550b8("restart_thread", 0x1554);
        LAB_0005c864:
            /* WARNING: Subroutine does not return */
            FUN_00055114("restart_thread", 0x1556);
        }
    } else {
        FUN_000561e4("restart_thread", 0x153f);
    }
    /* WARNING: Subroutine does not return */
    FUN_00055c08("restart_thread", 0x1541);
}

/* WARNING: Restarted to delay deadcode elimination for space: ram */

undefined4 FUN_0005c898(undefined4 *param_1)

{
    char cVar1;
    pthread_t __th;
    int iVar2;
    int *piVar3;
    time_t tVar4;
    int iVar5;
    uint uVar6;
    size_t sVar7;
    void *pvVar8;
    int iVar9;
    int iVar10;
    uint uVar11;
    undefined4 uVar12;
    char *pcVar13;
    byte bVar14;
    int iVar15;
    uint uVar16;
    int iVar17;
    int *piVar18;
    undefined4 uVar19;
    undefined4 *puVar20;
    int iVar21;
    pthread_rwlock_t *__rwlock;
    undefined4 uVar22;
    char *pcVar23;
    bool bVar24;
    undefined1 *puVar25;
    undefined1 *puVar26;
    uint local_ca0;
    int local_c6c;
    int local_c68;
    uint local_c64;
    int local_c60;
    int iStack_c5c;
    undefined1 auStack_c58[12];
    char acStack_c4c[16];
    undefined1 auStack_c3c[20];
    char acStack_c28[1024];
    char local_828[40];
    undefined4 uStack_800;
    char acStack_7fc[4];
    undefined4 local_7f8;
    undefined2 local_7f4;

    __th = pthread_self();
    pthread_detach(__th);
    snprintf(acStack_c4c, 0x10, "%d/SStratum", *param_1);
    FUN_0004bd10(acStack_c4c);
    iVar2 = FUN_00049f68();
    param_1[0xb6] = iVar2;
    if (iVar2 == 0) {
        pcVar23 = " stratum_q in stratum_sthread";
        builtin_strncpy(local_828, "Failed to create", 0x10);
        pcVar13 = local_828 + 0x10;
    } else {
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (4 < DAT_0009e320)) {
            snprintf(local_828, 0x800, "in %s ", "stratum_sthread");
            FUN_00047ab4(5, local_828, 0);
            iVar2 = param_1[0xb6];
        }
        cVar1 = *(char *)((int)param_1 + 0x69);
        iVar5 = 0;
        iVar17 = 0;
        iVar21 = 0;
        while (true) {
            if (cVar1 != '\0') {
                FUN_0004a02c();
                return 0;
            }
            local_c68 = FUN_0004a110(iVar2);
            if (local_c68 == 0)
                break;
            if (*(uint *)(local_c68 + 0x130) < 9) {
                iVar9 = *(int *)(local_c68 + 0x4c);
                iVar10 = *(int *)(local_c68 + 0x128);
                iVar15 = *(int *)(local_c68 + 300);
                local_c6c = iVar9;
                local_c60 = iVar10;
                iStack_c5c = iVar15;
                if (iVar9 == iVar5 && (iVar15 == iVar21 && iVar10 == iVar17)) {
                    if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                        (5 < DAT_0009e320)) {
                        snprintf(local_828, 0x800,
                                 "Filtering duplicate share to pool %d",
                                 *param_1);
                        FUN_00047ab4(6, local_828, 0);
                    }
                    FUN_00053084(&local_c68, "cgminer.c", "stratum_sthread",
                                 0x1dee);
                    iVar10 = iVar17;
                    iVar15 = iVar21;
                    iVar9 = iVar5;
                } else {
                    FUN_0004981c(auStack_c58, &local_c6c, 4);
                    FUN_0004981c(auStack_c3c, &local_c60,
                                 *(undefined4 *)(local_c68 + 0x130));
                    piVar3 = (int *)FUN_000496ac(0x34, 1, "cgminer.c",
                                                 "stratum_sthread", 0x1df7);
                    iVar2 = local_c68;
                    tVar4 = time((time_t *)0x0);
                    piVar3[0xb] = tVar4;
                    piVar3[9] = local_c68;
                    memset(acStack_c28, 0, 0x400);
                    iVar5 =
                        pthread_mutex_lock((pthread_mutex_t *)&DAT_001af200);
                    if (iVar5 != 0) {
                        piVar3 = __errno_location();
                        iVar2 = *piVar3;
                        uVar22 = 0x1e00;
                        pcVar13 =
                            "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d";
                    LAB_0005d3bc:
                        snprintf(local_828, 0x800, pcVar13, iVar2, "cgminer.c",
                                 "stratum_sthread", uVar22);
                        FUN_00047ab4(3, local_828, 1);
                        /* WARNING: Subroutine does not return */
                        FUN_00054ccc(1);
                    }
                    piVar3[10] = DAT_0024400c;
                    DAT_0024400c = DAT_0024400c + 1;
                    uVar6 =
                        pthread_mutex_unlock((pthread_mutex_t *)&DAT_001af200);
                    if (uVar6 != 0) {
                        piVar3 = __errno_location();
                        iVar2 = *piVar3;
                        uVar22 = 0x1e03;
                        pcVar13 =
                            "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d";
                        goto LAB_0005d3bc;
                    }
                    (*DAT_0009e444)();
                    local_c64 = uVar6;
                    FUN_00049940(&local_c64, param_1 + 0x1bd);
                    if (*(char *)(param_1 + 0xa1) == '\0') {
                        uVar6 = piVar3[10];
                        puVar26 = auStack_c58;
                        puVar25 = auStack_c3c;
                        uVar22 = *(undefined4 *)(local_c68 + 0x134);
                        snprintf(acStack_c28, 0x400,
                                 "{\"params\": [\"%s\", \"%s\", \"%s\", "
                                 "\"%s\", \"%s\"], \"id\": %d, \"method\": "
                                 "\"mining.submit\"}",
                                 param_1[0x2b],
                                 *(undefined4 *)(local_c68 + 0x120), puVar25,
                                 uVar22, puVar26, uVar6);
                    } else {
                        puVar26 = auStack_c58;
                        uVar6 = *(uint *)(local_c68 + 0x1bc) & ~local_c64;
                        uVar6 = uVar6 << 0x18 | (uVar6 >> 8 & 0xff) << 0x10 |
                                (uVar6 >> 0x10 & 0xff) << 8 | uVar6 >> 0x18;
                        puVar25 = auStack_c3c;
                        uVar22 = *(undefined4 *)(local_c68 + 0x134);
                        snprintf(acStack_c28, 0x400,
                                 "{\"params\": [\"%s\", \"%s\", \"%s\", "
                                 "\"%s\", \"%s\", \"%08x\"], \"id\": %d, "
                                 "\"method\": \"mining.submit\"}",
                                 param_1[0x2b],
                                 *(undefined4 *)(local_c68 + 0x120), puVar25,
                                 uVar22, puVar26, uVar6, piVar3[10]);
                    }
                    if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                        (5 < DAT_0009e320)) {
                        snprintf(local_828, 0x800,
                                 "Submitting share %08lx to pool %d",
                                 *(undefined4 *)(iVar2 + 0xd8), *param_1,
                                 puVar25, uVar22, puVar26, uVar6);
                        FUN_00047ab4(6, local_828, 0);
                    }
                    while (iVar2 = piVar3[0xb], tVar4 = time((time_t *)0x0),
                           tVar4 <= iVar2 + 0x77) {
                        sVar7 = strlen(acStack_c28);
                        iVar2 = FUN_0004b10c(param_1, acStack_c28, sVar7);
                        if (iVar2 != 0) {
                            iVar2 = pthread_mutex_lock(
                                (pthread_mutex_t *)&DAT_001af200);
                            if (iVar2 == 0) {
                                piVar3[5] = (int)(piVar3 + 10);
                                piVar18 = DAT_001af218;
                                bVar24 = DAT_001af218 == (int *)0x0;
                                piVar3[6] = 4;
                                uVar16 =
                                    *(byte *)(piVar3 + 10) + 0x112410d +
                                        (uint) * (byte *)((int)piVar3 + 0x2b) *
                                            0x1000000 +
                                        (uint) * (byte *)((int)piVar3 + 0x2a) *
                                            0x10000 +
                                        (uint) * (byte *)((int)piVar3 + 0x29) *
                                            0x100 ^
                                    0x7f76d;
                                uVar11 = 0x9f49bac6 - uVar16 ^ uVar16 << 8;
                                uVar6 = (-0x112410d - uVar16) - uVar11 ^
                                        uVar11 >> 0xd;
                                uVar16 =
                                    (uVar16 - uVar11) - uVar6 ^ uVar6 >> 0xc;
                                uVar11 =
                                    (uVar11 - uVar6) - uVar16 ^ uVar16 << 0x10;
                                uVar6 = (uVar6 - uVar16) - uVar11 ^ uVar11 >> 5;
                                uVar16 = (uVar16 - uVar11) - uVar6 ^ uVar6 >> 3;
                                uVar11 = (uVar11 - uVar6) - uVar16 ^ uVar16
                                                                         << 10;
                                uVar6 =
                                    (uVar6 - uVar16) - uVar11 ^ uVar11 >> 0xf;
                                piVar3[7] = uVar6;
                                if (bVar24) {
                                    piVar3[2] = 0;
                                    piVar3[1] = 0;
                                    DAT_001af218 = piVar3;
                                    pvVar8 = malloc(0x2c);
                                    *piVar3 = (int)pvVar8;
                                    if (pvVar8 == (void *)0x0)
                                        goto LAB_0005d8b8;
                                    memset(pvVar8, 0, 0x2c);
                                    *(int **)(*piVar3 + 0x10) = piVar3;
                                    *(undefined4 *)(*piVar3 + 4) = 0x20;
                                    *(undefined4 *)(*piVar3 + 8) = 5;
                                    *(undefined4 *)(*piVar3 + 0x14) = 0;
                                    puVar20 = (undefined4 *)*piVar3;
                                    pvVar8 = malloc(0x180);
                                    *puVar20 = pvVar8;
                                    if (*(void **)*piVar3 == (void *)0x0)
                                        goto LAB_0005d8b8;
                                    memset(*(void **)*piVar3, 0, 0x180);
                                    *(undefined4 *)(*piVar3 + 0x28) =
                                        0xa0111fe1;
                                    piVar18 = piVar3;
                                } else {
                                    iVar2 = *piVar18;
                                    piVar3[2] = 0;
                                    *piVar3 = iVar2;
                                    piVar3[1] = *(int *)(*piVar18 + 0x10) -
                                                *(int *)(*piVar18 + 0x14);
                                    *(int **)(*(int *)(*piVar18 + 0x10) + 8) =
                                        piVar3;
                                    *(int **)(*piVar18 + 0x10) = piVar3;
                                }
                                *(int *)(*piVar18 + 0xc) =
                                    *(int *)(*piVar18 + 0xc) + 1;
                                uVar6 = uVar6 & ((int *)*piVar18)[1] - 1U;
                                iVar2 = uVar6 * 0xc;
                                iVar5 = *(int *)*piVar18 + iVar2;
                                *(int *)(iVar5 + 4) = *(int *)(iVar5 + 4) + 1;
                                iVar5 =
                                    *(int *)(*(int *)*piVar18 + uVar6 * 0xc);
                                piVar3[3] = 0;
                                piVar3[4] = iVar5;
                                iVar17 = *(int *)*piVar18;
                                iVar5 = *(int *)(iVar17 + uVar6 * 0xc);
                                if (iVar5 != 0) {
                                    *(int **)(iVar5 + 0xc) = piVar3;
                                    iVar17 = *(int *)*piVar18;
                                }
                                *(int **)(iVar17 + iVar2) = piVar3;
                                if (((uint)((*(int *)(*(int *)*piVar18 + iVar2 +
                                                      8) +
                                             1) *
                                            10) <=
                                     *(uint *)(*(int *)*piVar18 + iVar2 + 4)) &&
                                    (*(int *)(*piVar3 + 0x24) != 1)) {
                                    pvVar8 =
                                        calloc(*(int *)(*piVar3 + 4) * 0x18, 1);
                                    if (pvVar8 == (void *)0x0) {
                                    LAB_0005d8b8:
                                        /* WARNING: Subroutine does not return
                                         */
                                        exit(-1);
                                    }
                                    iVar2 = *piVar3;
                                    *(uint *)(iVar2 + 0x18) =
                                        (uint)((*(int *)(iVar2 + 4) * 2 - 1U &
                                                *(uint *)(iVar2 + 0xc)) != 0) +
                                        (*(uint *)(iVar2 + 0xc) >>
                                         (*(int *)(iVar2 + 8) + 1U & 0xff));
                                    *(undefined4 *)(*piVar3 + 0x1c) = 0;
                                    piVar18 = (int *)*piVar3;
                                    uVar6 = piVar18[1];
                                    if (uVar6 != 0) {
                                        iVar2 = 0;
                                        local_ca0 = 0;
                                        do {
                                            iVar5 = *(int *)(*piVar18 + iVar2);
                                            if (*(int *)(*piVar18 + iVar2) !=
                                                0) {
                                                while (true) {
                                                    iVar21 =
                                                        *(int *)(iVar5 + 0x10);
                                                    uVar11 =
                                                        uVar6 * 2 - 1 &
                                                        *(uint *)(iVar5 + 0x1c);
                                                    uVar6 =
                                                        *(int *)((int)pvVar8 +
                                                                 uVar11 * 0xc +
                                                                 4) +
                                                        1;
                                                    *(uint *)((int)pvVar8 +
                                                              uVar11 * 0xc +
                                                              4) = uVar6;
                                                    iVar17 = *piVar3;
                                                    if (*(uint *)(iVar17 +
                                                                  0x18) <
                                                        uVar6) {
                                                        *(int *)(iVar17 +
                                                                 0x1c) =
                                                            *(int *)(iVar17 +
                                                                     0x1c) +
                                                            1;
                                                        uVar22 = FUN_00077070(
                                                            *(undefined4
                                                                  *)((int)
                                                                         pvVar8 +
                                                                     uVar11 *
                                                                         0xc +
                                                                     4),
                                                            *(undefined4
                                                                  *)(*piVar3 +
                                                                     0x18));
                                                        *(undefined4
                                                              *)((int)pvVar8 +
                                                                 uVar11 * 0xc +
                                                                 8) = uVar22;
                                                    }
                                                    *(undefined4 *)(iVar5 +
                                                                    0xc) = 0;
                                                    *(undefined4 *)(iVar5 +
                                                                    0x10) =
                                                        *(undefined4
                                                              *)((int)pvVar8 +
                                                                 uVar11 * 0xc);
                                                    iVar17 =
                                                        *(int *)((int)pvVar8 +
                                                                 uVar11 * 0xc);
                                                    if (iVar17 != 0) {
                                                        *(int *)(iVar17 + 0xc) =
                                                            iVar5;
                                                    }
                                                    *(int *)((int)pvVar8 +
                                                             uVar11 * 0xc) =
                                                        iVar5;
                                                    piVar18 = (int *)*piVar3;
                                                    if (iVar21 == 0)
                                                        break;
                                                    uVar6 = piVar18[1];
                                                    iVar5 = iVar21;
                                                }
                                                uVar6 = piVar18[1];
                                            }
                                            iVar2 = iVar2 + 0xc;
                                            local_ca0 = local_ca0 + 1;
                                        } while (local_ca0 < uVar6);
                                    }
                                    free((void *)*piVar18);
                                    *(int *)(*piVar3 + 4) =
                                        *(int *)(*piVar3 + 4) << 1;
                                    *(int *)(*piVar3 + 8) =
                                        *(int *)(*piVar3 + 8) + 1;
                                    *(void **)*piVar3 = pvVar8;
                                    iVar2 = *piVar3;
                                    if (*(uint *)(iVar2 + 0xc) >> 1 <
                                        *(uint *)(iVar2 + 0x1c)) {
                                        iVar5 = *(int *)(iVar2 + 0x20) + 1;
                                    } else {
                                        iVar5 = 0;
                                    }
                                    *(int *)(iVar2 + 0x20) = iVar5;
                                    if (1 < *(uint *)(*piVar3 + 0x20)) {
                                        *(undefined4 *)(*piVar3 + 0x24) = 1;
                                    }
                                }
                                param_1[0xb7] = param_1[0xb7] + 1;
                                iVar2 = pthread_mutex_unlock(
                                    (pthread_mutex_t *)&DAT_001af200);
                                if (iVar2 != 0) {
                                    piVar3 = __errno_location();
                                    iVar2 = *piVar3;
                                    uVar22 = 0x1e32;
                                    pcVar13 = "WTF MUTEX ERROR ON UNLOCK! "
                                              "errno=%d in %s %s():%d";
                                    goto LAB_0005d3bc;
                                }
                                (*DAT_0009e444)();
                                iVar2 = FUN_000551dc(param_1, param_1 + 0x18);
                                if (iVar2 == 0) {
                                LAB_0005cf08:
                                    if (DAT_001aecc5 != 0) {
                                        if ((DAT_00244080 == '\0') &&
                                            (DAT_001aecc4 == '\0'))
                                            goto LAB_0005d1a4;
                                    LAB_0005cf40:
                                        builtin_strncpy(
                                            local_828,
                                            "Successfully submitted, adding to "
                                            "stratu",
                                            0x28);
                                        uStack_800._0_1_ = 'm';
                                        uStack_800._1_1_ = '_';
                                        uStack_800._2_1_ = 's';
                                        uStack_800._3_1_ = 'h';
                                        builtin_strncpy(acStack_7fc, "ares", 4);
                                        local_7f8._0_1_ = ' ';
                                        local_7f8._1_1_ = 'd';
                                        local_7f8._2_1_ = 'b';
                                        local_7f8._3_1_ = '\0';
                                        FUN_00047ab4(7, local_828, 0);
                                    }
                                } else {
                                    if (((DAT_00244080 != '\0') ||
                                         (DAT_001aecc4 != '\0')) ||
                                        (3 < DAT_0009e320)) {
                                        snprintf(local_828, 0x800,
                                                 "Pool %d communication "
                                                 "resumed, submitting work",
                                                 *param_1);
                                        FUN_00047ab4(4, local_828, 0);
                                        goto LAB_0005cf08;
                                    }
                                    if (DAT_001aecc5 != 0) {
                                    LAB_0005d1a4:
                                        if (6 < DAT_0009e320)
                                            goto LAB_0005cf40;
                                    }
                                }
                                tVar4 = time((time_t *)0x0);
                                bVar14 = DAT_001aecc5;
                                piVar3[0xc] = tVar4;
                                if (0 < tVar4 - piVar3[0xb]) {
                                    bVar14 = bVar14 | 1;
                                }
                                if ((bVar14 != 0) &&
                                    (((DAT_00244080 != '\0' ||
                                       (DAT_001aecc4 != '\0')) ||
                                      (5 < DAT_0009e320)))) {
                                    snprintf(local_828, 0x800,
                                             "Pool %d stratum share submission "
                                             "lag time %d seconds",
                                             *param_1, tVar4 - piVar3[0xb]);
                                    FUN_00047ab4(6, local_828, 0);
                                }
                                goto LAB_0005ceb4;
                            }
                            piVar3 = __errno_location();
                            iVar2 = *piVar3;
                            uVar22 = 0x1e2f;
                            pcVar13 = "WTF MUTEX ERROR ON LOCK! errno=%d in %s "
                                      "%s():%d";
                            goto LAB_0005d3bc;
                        }
                        iVar2 = FUN_00055170(param_1, param_1 + 0x18);
                        if ((iVar2 == 0) &&
                            (iVar2 = FUN_000584b4(param_1), iVar2 != 0)) {
                            if ((DAT_00244080 != '\0') ||
                                ((DAT_001aecc4 != '\0' ||
                                  (3 < DAT_0009e320)))) {
                                snprintf(
                                    local_828, 0x800,
                                    "Pool %d stratum share submission failure",
                                    *param_1);
                                FUN_00047ab4(4, local_828, 0);
                            }
                            DAT_00244014 = DAT_00244014 + 1;
                            param_1[0x21] = param_1[0x21] + 1;
                        }
                        if (DAT_00245204 != '\0') {
                            if (DAT_001aecc5 == 0)
                                goto LAB_0005d65c;
                            if (((DAT_00244080 == '\0') &&
                                 (DAT_001aecc4 == '\0')) &&
                                (DAT_0009e320 < 7))
                                goto LAB_0005d5f4;
                            builtin_strncpy(
                                local_828,
                                "Lowmem option prevents resubmitting stra",
                                0x28);
                            uStack_800._0_1_ = 't';
                            uStack_800._1_1_ = 'u';
                            uStack_800._2_1_ = 'm';
                            uStack_800._3_1_ = ' ';
                            builtin_strncpy(acStack_7fc, "shar", 4);
                            local_7f8._0_2_ = 0x65;
                            FUN_00047ab4(7, local_828, 0);
                            break;
                        }
                        iVar2 = pthread_mutex_lock(
                            (pthread_mutex_t *)(param_1 + 0x35));
                        if (iVar2 != 0) {
                            piVar3 = __errno_location();
                            iVar2 = *piVar3;
                            uVar22 = 0x1e48;
                            pcVar13 = "WTF MUTEX ERROR ON LOCK! errno=%d in %s "
                                      "%s():%d";
                            goto LAB_0005d3bc;
                        }
                        __rwlock = (pthread_rwlock_t *)(param_1 + 0x3b);
                        iVar2 = pthread_rwlock_rdlock(__rwlock);
                        if (iVar2 != 0) {
                            piVar3 = __errno_location();
                            iVar2 = *piVar3;
                            uVar22 = 0x1e48;
                            pcVar13 = "WTF RDLOCK ERROR ON LOCK! errno=%d in "
                                      "%s %s():%d";
                            goto LAB_0005d3bc;
                        }
                        iVar2 = pthread_mutex_unlock(
                            (pthread_mutex_t *)(param_1 + 0x35));
                        if (iVar2 != 0) {
                            piVar3 = __errno_location();
                            iVar2 = *piVar3;
                            uVar22 = 0x1e48;
                            pcVar13 = "WTF MUTEX ERROR ON UNLOCK! errno=%d in "
                                      "%s %s():%d";
                            goto LAB_0005d3bc;
                        }
                        if (((char *)param_1[0x99] == (char *)0x0) ||
                            (iVar2 = strcmp(*(char **)(local_c68 + 0x140),
                                            (char *)param_1[0x99]),
                             iVar2 != 0)) {
                            iVar2 = pthread_rwlock_unlock(__rwlock);
                            if (iVar2 != 0) {
                            LAB_0005d4d0:
                                piVar3 = __errno_location();
                                iVar2 = *piVar3;
                                uVar22 = 0x1e4a;
                                pcVar13 = "WTF RWLOCK ERROR ON UNLOCK! "
                                          "errno=%d in %s %s():%d";
                                goto LAB_0005d3bc;
                            }
                            (*DAT_0009e444)();
                            if (DAT_001aecc5 == 0)
                                goto LAB_0005d65c;
                            if (((DAT_00244080 == '\0') &&
                                 (DAT_001aecc4 == '\0')) &&
                                (DAT_0009e320 < 7))
                                goto LAB_0005d5f4;
                            builtin_strncpy(
                                local_828,
                                "No matching session id for resubmitting ",
                                0x28);
                            uStack_800._0_1_ = 's';
                            uStack_800._1_1_ = 't';
                            uStack_800._2_1_ = 'r';
                            uStack_800._3_1_ = 'a';
                            builtin_strncpy(acStack_7fc, "tum ", 4);
                            local_7f8._0_1_ = 's';
                            local_7f8._1_1_ = 'h';
                            local_7f8._2_1_ = 'a';
                            local_7f8._3_1_ = 'r';
                            local_7f4 = 0x65;
                            FUN_00047ab4(7, local_828, 0);
                            break;
                        }
                        iVar2 = pthread_rwlock_unlock(__rwlock);
                        if (iVar2 != 0)
                            goto LAB_0005d4d0;
                        (*DAT_0009e444)();
                        sleep(2);
                    }
                    if (DAT_001aecc5 != 0) {
                        if (DAT_00244080 == '\0') {
                        LAB_0005d5f4:
                            if ((DAT_001aecc4 == '\0') && (DAT_0009e320 < 7))
                                goto LAB_0005d65c;
                        }
                        builtin_strncpy(
                            local_828,
                            "Failed to submit stratum share, discardi", 0x28);
                        uStack_800._0_3_ = 0x676e;
                        FUN_00047ab4(7, local_828, 0);
                    }
                LAB_0005d65c:
                    FUN_00053084(&local_c68, "cgminer.c", "stratum_sthread",
                                 0x1e59);
                    free(piVar3);
                    param_1[0x1e] = param_1[0x1e] + 1;
                    bVar24 = 0xfffffffe < DAT_00242e98;
                    DAT_00242e98 = DAT_00242e98 + 1;
                    DAT_00242e9c = DAT_00242e9c + (uint)bVar24;
                }
            } else {
                if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                    (DAT_0009e320 < 3)) {
                LAB_0005d388:
                    if (2 < DAT_0009e320)
                        goto LAB_0005d338;
                } else {
                    snprintf(local_828, 0x800,
                             "Pool %d asking for inappropriately long nonce2 "
                             "length %d",
                             *param_1, *(uint *)(local_c68 + 0x130));
                    FUN_00047ab4(3, local_828, 0);
                    if ((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0'))
                        goto LAB_0005d388;
                LAB_0005d338:
                    builtin_strncpy(local_828,
                                    "Not attempting to submit shares", 0x20);
                    FUN_00047ab4(3, local_828, 0);
                }
                FUN_00053084(&local_c68, "cgminer.c", "stratum_sthread",
                             0x1de2);
                iVar10 = iVar17;
                iVar15 = iVar21;
                iVar9 = iVar5;
            }
        LAB_0005ceb4:
            cVar1 = *(char *)((int)param_1 + 0x69);
            iVar2 = param_1[0xb6];
            iVar5 = iVar9;
            iVar17 = iVar10;
            iVar21 = iVar15;
        }
        pcVar23 = "Stratum q returned empty work";
        pcVar13 = local_828;
        local_c68 = 0;
    }
    uVar22 = *(undefined4 *)(pcVar23 + 4);
    uVar12 = *(undefined4 *)(pcVar23 + 8);
    uVar19 = *(undefined4 *)(pcVar23 + 0xc);
    *(undefined4 *)pcVar13 = *(undefined4 *)pcVar23;
    *(undefined4 *)(pcVar13 + 4) = uVar22;
    *(undefined4 *)(pcVar13 + 8) = uVar12;
    *(undefined4 *)(pcVar13 + 0xc) = uVar19;
    uVar22 = *(undefined4 *)(pcVar23 + 0x14);
    uVar12 = *(undefined4 *)(pcVar23 + 0x18);
    uVar19 = *(undefined4 *)(pcVar23 + 0x1c);
    *(undefined4 *)(pcVar13 + 0x10) = *(undefined4 *)(pcVar23 + 0x10);
    *(undefined4 *)(pcVar13 + 0x14) = uVar22;
    *(undefined4 *)(pcVar13 + 0x18) = uVar12;
    *(short *)(pcVar13 + 0x1c) = (short)uVar19;
    FUN_00047ab4(3, local_828, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */

void FUN_0005d8cc(undefined4 param_1, int *param_2, int *param_3, int param_4,
                  undefined4 param_5)

{
    char cVar1;
    int iVar2;
    int iVar3;
    char *pcVar4;
    size_t sVar5;
    undefined4 *puVar6;
    time_t tVar7;
    undefined4 uVar8;
    int *piVar9;
    uint uVar10;
    byte bVar11;
    undefined4 *puVar12;
    bool bVar13;
    double dVar14;
    char local_878[20];
    ushort local_864;
    undefined1 auStack_862[30];
    char local_844[4];
    undefined2 local_840;
    undefined1 local_83e;
    undefined1 auStack_83d[29];
    char local_820[2048];

    puVar12 = *(undefined4 **)(param_4 + 0x104);
    iVar2 = FUN_00057bac(*(undefined4 *)(param_4 + 0x100));
    iVar2 = *(int *)(iVar2 + 0x24);
    if ((param_2 == (int *)0x0) ||
        ((*param_2 != 5 &&
          ((*(char *)(param_4 + 0x144) == '\0' || (*param_2 != 7)))))) {
        iVar3 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00246244);
        if (iVar3 == 0) {
            *(int *)(iVar2 + 0x28) = *(int *)(iVar2 + 0x28) + 1;
            bVar13 = 0xfffffffe < DAT_00246368;
            DAT_00246368 = DAT_00246368 + 1;
            uVar10 = puVar12[4];
            DAT_0024636c = DAT_0024636c + (uint)bVar13;
            puVar12[4] = uVar10 + 1;
            puVar12[5] = puVar12[5] + (uint)(0xfffffffe < uVar10);
            *(double *)(iVar2 + 0xd0) =
                *(double *)(iVar2 + 0xd0) + *(double *)(param_4 + 0x178);
            dVar14 = *(double *)(param_4 + 0x178);
            _DAT_00242f10 = _DAT_00242f10 + dVar14;
            puVar12[6] = puVar12[6] + 1;
            *(double *)(puVar12 + 0x14) = *(double *)(puVar12 + 0x14) + dVar14;
            iVar3 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00246244);
            if (iVar3 != 0) {
                piVar9 = __errno_location();
                iVar2 = *piVar9;
                uVar8 = 0xe0a;
                goto LAB_0005e10c;
            }
            (*DAT_0009e444)();
            if ((DAT_001aecc5 != '\0') &&
                (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                  (6 < DAT_0009e320)))) {
                builtin_strncpy(local_820,
                                "PROOF OF WORK RESULT: false (booooo)", 0x24);
                local_820[0x24] = 0;
                FUN_00047ab4(7, local_820, 0);
            }
            cVar1 = DAT_0024511c;
            if ((DAT_00242ef8 != '\0') || (DAT_0024511c != '\0'))
                goto LAB_0005dc30;
            local_844[0] = 'r';
            local_844[1] = 'e';
            local_844[2] = 'j';
            local_844[3] = 'e';
            local_840 = 0x7463;
            local_83e = 0;
            memset(auStack_83d, 0, 0x1d);
            local_864 = local_864 & 0xff00;
            if (DAT_00242f4c < 2) {
                local_878[0] = cVar1;
            } else {
                snprintf(local_878, 0x14, "pool %d",
                         **(undefined4 **)(param_4 + 0x104));
            }
            if (*(char *)(param_4 + 0x144) == '\0') {
                param_2 = (int *)FUN_0006dfcc(param_1, "reject-reason");
            }
            if (param_2 == (int *)0x0) {
                if (param_3 == (int *)0x0) {
                    bVar11 = 0;
                } else {
                    bVar11 = *(byte *)(param_4 + 0x11c) & 1;
                }
                if (bVar11 != 0) {
                    iVar3 = *param_3;
                    if (iVar3 == 1) {
                        param_3 = (int *)FUN_0006e1c4(param_3);
                        if (param_3 == (int *)0x0)
                            goto LAB_0005db98;
                        iVar3 = *param_3;
                    }
                    if (iVar3 == 2) {
                        uVar8 = FUN_0006e350(param_3);
                        snprintf((char *)&local_864, 0x1f, " (%s)", uVar8);
                    }
                }
            } else {
                pcVar4 = (char *)FUN_0006e350(param_2);
                sVar5 = strlen(pcVar4);
                if (0x1b < sVar5) {
                    sVar5 = 0x1c;
                }
                local_864 = 0x2820;
                FUN_0004c150(auStack_862, pcVar4, sVar5, "cgminer.c",
                             "share_result", 0xe32);
                auStack_862[sVar5] = 0x29;
                auStack_862[sVar5 + 1] = 0;
                FUN_0004c150(auStack_83d, pcVar4, sVar5, "cgminer.c",
                             "share_result", 0xe37);
                local_83e = 0x3a;
                auStack_83d[sVar5] = 0;
            }
        LAB_0005db98:
            if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                (4 < DAT_0009e320)) {
                snprintf(local_820, 0x800,
                         "Rejected %s %s %d %s%s %s%s version 0x%x", param_5,
                         *(undefined4 *)(*(int *)(iVar2 + 4) + 8),
                         *(undefined4 *)(iVar2 + 8), local_878, &local_864, "",
                         "", *(undefined4 *)(param_4 + 0x1bc));
                FUN_00047ab4(5, local_820, 0);
            }
            FUN_0005b390(local_844, param_4);
        LAB_0005dc30:
            iVar2 = puVar12[6];
            if (iVar2 < 0xb) {
                return;
            }
            if (*(char *)(param_4 + 0x119) != '\0') {
                return;
            }
            if (DAT_00246260 == '\0') {
                return;
            }
            if (DAT_002440f8 < 2) {
                return;
            }
            dVar14 = (double)FUN_000778b4(DAT_00245158, DAT_0024515c);
            if ((double)(longlong)iVar2 <=
                (dVar14 / DAT_0009ed68) * 60.0 * 3.0) {
                return;
            }
            if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                (3 < DAT_0009e320)) {
                snprintf(local_820, 0x800,
                         "Pool %d rejected %d sequential shares, disabling!",
                         *puVar12, iVar2);
                FUN_00047ab4(4, local_820, 0);
            }
            if (puVar12[0x19] == 1) {
                DAT_002440f8 = DAT_002440f8 + -1;
            }
            puVar12[0x19] = 2;
            puVar6 = (undefined4 *)FUN_00058084();
            if (puVar12 == puVar6) {
                FUN_00059e6c(0);
            }
            puVar12[6] = 0;
            return;
        }
        piVar9 = __errno_location();
        iVar2 = *piVar9;
        uVar8 = 0xe02;
    } else {
        iVar3 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00246244);
        if (iVar3 == 0) {
            *(int *)(iVar2 + 0x24) = *(int *)(iVar2 + 0x24) + 1;
            bVar13 = 0xfffffffe < DAT_00245158;
            DAT_00245158 = DAT_00245158 + 1;
            DAT_0024515c = DAT_0024515c + (uint)bVar13;
            uVar10 = puVar12[2];
            puVar12[2] = uVar10 + 1;
            puVar12[3] = puVar12[3] + (uint)(0xfffffffe < uVar10);
            *(double *)(iVar2 + 200) =
                *(double *)(iVar2 + 200) + *(double *)(param_4 + 0x178);
            DAT_00242ef0 = DAT_00242ef0 + *(double *)(param_4 + 0x178);
            *(double *)(puVar12 + 0x12) =
                *(double *)(puVar12 + 0x12) + *(double *)(param_4 + 0x178);
            iVar3 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00246244);
            if (iVar3 != 0) {
                piVar9 = __errno_location();
                iVar2 = *piVar9;
                uVar8 = 0xdcd;
            LAB_0005e10c:
                pcVar4 = "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d";
                goto LAB_0005e080;
            }
            (*DAT_0009e444)();
            puVar12[6] = 0;
            *(undefined4 *)(iVar2 + 0xd8) = *puVar12;
            tVar7 = time((time_t *)0x0);
            *(time_t *)(iVar2 + 0xdc) = tVar7;
            cVar1 = DAT_001aecc5;
            uVar8 = *(undefined4 *)(param_4 + 0x17c);
            *(undefined4 *)(iVar2 + 0xe0) = *(undefined4 *)(param_4 + 0x178);
            *(undefined4 *)(iVar2 + 0xe4) = uVar8;
            puVar12[0x58] = tVar7;
            uVar8 = *(undefined4 *)(param_4 + 0x17c);
            puVar12[0x5a] = *(undefined4 *)(param_4 + 0x178);
            puVar12[0x5b] = uVar8;
            if ((cVar1 != '\0') &&
                (((DAT_00244080 != '\0' || (DAT_001aecc4 != '\0')) ||
                  (6 < DAT_0009e320)))) {
                builtin_strncpy(local_820,
                                "PROOF OF WORK RESULT: true (yay!!!)", 0x24);
                FUN_00047ab4(7, local_820, 0);
            }
            if ((DAT_00242ef8 == '\0') && (DAT_0024511c == '\0')) {
                if (DAT_00242f4c < 2) {
                    if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                        (4 < DAT_0009e320)) {
                        snprintf(local_820, 0x800, "Accepted %s %s %d %s%s",
                                 param_5,
                                 *(undefined4 *)(*(int *)(iVar2 + 4) + 8),
                                 *(undefined4 *)(iVar2 + 8), "", "");
                        FUN_00047ab4(5, local_820, 0);
                    }
                } else if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                           (4 < DAT_0009e320)) {
                    snprintf(local_820, 0x800, "Accepted %s %s %d pool %d %s%s",
                             param_5, *(undefined4 *)(*(int *)(iVar2 + 4) + 8),
                             *(undefined4 *)(iVar2 + 8),
                             **(undefined4 **)(param_4 + 0x104), "", "");
                    FUN_00047ab4(5, local_820, 0);
                }
            }
            FUN_0005b390("accept", param_4);
            if ((DAT_001af124 != 0) &&
                ((double)(longlong)DAT_001af124 <= DAT_00242ef0)) {
                if ((DAT_00244080 != '\0') ||
                    ((DAT_001aecc4 != '\0' || (3 < DAT_0009e320)))) {
                    snprintf(local_820, 0x800,
                             "Successfully mined %d accepted shares as "
                             "requested and exiting.");
                    FUN_00047ab4(4, local_820, 0);
                }
                FUN_00054d4c();
            }
            if (puVar12[0x19] != 2)
                goto LAB_0005e02c;
            if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                (DAT_0009e320 < 4)) {
            LAB_0005e210:
                puVar12[0x19] = 1;
                DAT_002440f8 = DAT_002440f8 + 1;
            } else {
                snprintf(local_820, 0x800,
                         "Rejecting pool %d now accepting shares, re-enabling!",
                         *puVar12);
                FUN_00047ab4(4, local_820, 0);
                if (puVar12[0x19] != 1)
                    goto LAB_0005e210;
            }
            FUN_00059e6c(0);
        LAB_0005e02c:
            if (*(char *)(param_4 + 0x11b) != '\0') {
                FUN_00054fc0();
            }
            return;
        }
        piVar9 = __errno_location();
        iVar2 = *piVar9;
        uVar8 = 0xdc3;
    }
    pcVar4 = "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d";
LAB_0005e080:
    snprintf(local_820, 0x800, pcVar4, iVar2, "cgminer.c", "share_result",
             uVar8);
    FUN_00047ab4(3, local_820, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

/* WARNING: Heritage AFTER dead removal. Example location: s1 : 0x0005eb34 */
/* WARNING: Restarted to delay deadcode elimination for space: register */

void FUN_0005e2ec(int param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    longlong lVar1;
    longlong lVar2;
    bool bVar3;
    int iVar4;
    int *piVar5;
    int iVar6;
    undefined4 uVar7;
    char *pcVar8;
    int iVar9;
    byte bVar10;
    double *pdVar11;
    undefined4 extraout_s0;
    double in_d0;
    undefined4 uVar12;
    undefined4 uVar13;
    undefined4 in_s3;
    double dVar14;
    double dVar15;
    double dVar16;
    undefined8 uVar17;
    undefined8 uVar18;
    undefined4 local_8e0;
    undefined4 uStack_8dc;
    undefined1 auStack_8d8[16];
    undefined1 auStack_8c8[16];
    undefined1 auStack_8b8[16];
    undefined1 auStack_8a8[16];
    sysinfo local_898;
    char acStack_858[2052];

    uVar18 = CONCAT44(param_4, param_3);
    iVar4 = sysinfo(&local_898);
    if (iVar4 == 0) {
        DAT_00244004 = local_898.uptime;
    } else {
        if (((DAT_00244080 != 0) || (DAT_001aecc4 != 0)) ||
            (5 < (int)DAT_0009e320)) {
            piVar5 = __errno_location();
            iVar4 = *piVar5;
            strerror(iVar4);
            snprintf(acStack_858, 0x800,
                     "Failed to get sysinfo, errno:%u, reason:%s\n", iVar4);
            FUN_00047ab4(6, acStack_858, 0);
        }
        DAT_00244004 = time((time_t *)0x0);
    }
    FUN_0004a60c(&DAT_001af0ec);
    FUN_0004a8fc(&DAT_001af0ec);
    iVar4 = DAT_001af0ec;
    extraout_s0 = SUB84(in_d0, 0);
    uVar12 = (undefined4)((ulonglong)in_d0 >> 0x20);
    if (DAT_001af0ec - DAT_001b064c < DAT_0009ed78) {
        if (param_1 < 0) {
            return;
        }
        bVar10 = 0;
        FUN_0004c460(&DAT_001af148, &DAT_001af0ec);
    LAB_0005e694:
        iVar6 = FUN_00057bac(param_1);
        iVar9 = *(int *)(iVar6 + 0x24);
        FUN_0004c460(iVar6 + 0x2c, &DAT_001af0ec);
        *(int *)(iVar9 + 0xf0) = iVar4;
        FUN_0004a8fc(&DAT_001af0ec, iVar9 + 0x8c);
        FUN_0004c460(iVar9 + 0x8c, &DAT_001af0ec);
        if ((DAT_001aecc5 != '\0') &&
            (((DAT_00244080 != 0 || (DAT_001aecc4 != 0)) ||
              (6 < (int)DAT_0009e320)))) {
            FUN_000778a4(param_3, param_4);
            snprintf(acStack_858, 0x800,
                     "[thread %d: %llu hashes, %.1f mhash/sec]", param_1);
            FUN_00047ab4(7, acStack_858, 0);
        }
        uVar18 = FUN_00077910(param_3, param_4, &DAT_000f4240, 0);
        iVar4 = pthread_mutex_lock((pthread_mutex_t *)&DAT_002463b8);
        if (iVar4 == 0) {
            dVar16 = (double)FUN_000778a4((int)uVar18,
                                          (int)((ulonglong)uVar18 >> 0x20));
            uVar7 = SUB84(dVar16, 0);
            *(double *)(iVar9 + 0x50) = *(double *)(iVar9 + 0x50) + dVar16;
            if (0.0 < in_d0) {
                FUN_000529e0(uVar7, uVar12, extraout_s0, in_s3,
                             SUB84((double)(longlong)DAT_0009ed78, 0),
                             iVar9 + 0x30);
                FUN_000529e0(uVar7, uVar12, extraout_s0, in_s3, 0,
                             iVar9 + 0x38);
                if (0.0 < in_d0) {
                    FUN_000529e0(uVar7, uVar12, extraout_s0, in_s3, 0,
                                 iVar9 + 0x40);
                    if (0.0 < in_d0) {
                        FUN_000529e0(uVar7, uVar12, extraout_s0, in_s3, 0,
                                     iVar9 + 0x48);
                    }
                }
            }
            iVar4 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_002463b8);
            if (iVar4 != 0) {
                piVar5 = __errno_location();
                iVar4 = *piVar5;
                goto LAB_0005ed80;
            }
            (*DAT_0009e444)();
            if ((bVar10 & DAT_00242f08) == 0) {
                iVar4 = pthread_mutex_lock((pthread_mutex_t *)&DAT_002463b8);
                if (iVar4 != 0)
                    goto LAB_0005ecb0;
                DAT_00245228 = DAT_00245228 + dVar16;
                if (bVar10 != 0)
                    goto LAB_0005e568;
                dVar15 = (double)(&DAT_001af150)[DAT_001af1b0];
                bVar3 = false;
                iVar4 = DAT_001af1b0;
            LAB_0005e83c:
                dVar14 = DAT_0009ed88;
                lVar1 = (longlong)DAT_00244004;
                lVar2 = (longlong)DAT_00242ea0;
                (&DAT_001af150)[iVar4] = dVar16 + dVar15;
                DAT_0009ed68 = (double)lVar1 - (double)lVar2;
                if (DAT_0009ed68 - dVar14 <= 86400.0) {
                    DAT_0009ed88 = DAT_0009ed68;
                    if (!bVar3)
                        goto LAB_0005e920;
                LAB_0005e964:
                    dVar16 = (DAT_00245228 / DAT_0009ed68) * 1000000.0;
                    uVar18 = FUN_00077970(SUB84(dVar16, 0),
                                          (int)((ulonglong)dVar16 >> 0x20));
                    FUN_00051b18((int)uVar18, (int)((ulonglong)uVar18 >> 0x20),
                                 auStack_8d8, 0x10);
                    DAT_001b0650 =
                        (double)(longlong)((int)(longlong)DAT_00245110 / 10) /
                        100.0;
                    uVar18 = FUN_00077970(
                        SUB84(DAT_00245110 * 1000000.0, 0),
                        (int)((ulonglong)(DAT_00245110 * 1000000.0) >> 0x20),
                        (int)(longlong)DAT_00245110 * 0x66666667);
                    FUN_00051b18((int)uVar18, (int)((ulonglong)uVar18 >> 0x20),
                                 auStack_8c8, 0x10);
                    uVar18 = FUN_00077970(
                        SUB84(DAT_00245210 * 1000000.0, 0),
                        (int)((ulonglong)(DAT_00245210 * 1000000.0) >> 0x20));
                    FUN_00051b18((int)uVar18, (int)((ulonglong)uVar18 >> 0x20),
                                 auStack_8b8, 0x10);
                    uVar18 = FUN_00077970(
                        SUB84(DAT_00245208 * 1000000.0, 0),
                        (int)((ulonglong)(DAT_00245208 * 1000000.0) >> 0x20));
                    FUN_00051b18((int)uVar18, (int)((ulonglong)uVar18 >> 0x20),
                                 auStack_8a8, 0x10);
                    uVar18 = FUN_00077970(
                        SUB84(DAT_00245218 * 1000000.0, 0),
                        (int)((ulonglong)(DAT_00245218 * 1000000.0) >> 0x20));
                    FUN_00051b18((int)uVar18, (int)((ulonglong)uVar18 >> 0x20),
                                 acStack_858, 0x10);
                    snprintf(&DAT_001b0658, 0x100,
                             "(%ds):%s (1m):%s (5m):%s (15m):%s (avg):%sh/s",
                             DAT_0009ed78);
                    iVar4 =
                        pthread_mutex_unlock((pthread_mutex_t *)&DAT_002463b8);
                    if (iVar4 == 0) {
                        (*DAT_0009e444)();
                        printf("%s          \r", &DAT_001b0658);
                        fflush(stdout);
                        return;
                    }
                } else {
                    if (((DAT_00244080 != 0) || (DAT_001aecc4 != 0)) ||
                        (2 < (int)DAT_0009e320)) {
                        snprintf(acStack_858, 0x800,
                                 "cgminer time error total_secs = %f "
                                 "last_total_secs = %f");
                        FUN_00047ab4(3, acStack_858, 0);
                    }
                    iVar4 =
                        pthread_mutex_unlock((pthread_mutex_t *)&DAT_002463b8);
                    if (iVar4 != 0) {
                        piVar5 = __errno_location();
                        iVar4 = *piVar5;
                        goto LAB_0005ed80;
                    }
                    (*DAT_0009e444)();
                    FUN_00058e30();
                    iVar4 =
                        pthread_mutex_lock((pthread_mutex_t *)&DAT_002463b8);
                    if (iVar4 != 0) {
                        piVar5 = __errno_location();
                        iVar4 = *piVar5;
                        goto LAB_0005ed44;
                    }
                    if (bVar3)
                        goto LAB_0005e964;
                LAB_0005e920:
                    iVar4 =
                        pthread_mutex_unlock((pthread_mutex_t *)&DAT_002463b8);
                    if (iVar4 == 0) {
                        (*DAT_0009e444)();
                        return;
                    }
                }
                piVar5 = __errno_location();
                iVar4 = *piVar5;
                pcVar8 = "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d";
            } else {
                FUN_00054da8(acStack_858, 0x100, iVar9);
                printf("%s          \r", acStack_858);
                fflush(stdout);
                iVar4 = pthread_mutex_lock((pthread_mutex_t *)&DAT_002463b8);
                if (iVar4 == 0) {
                    DAT_00245228 = DAT_00245228 + dVar16;
                LAB_0005e568:
                    pdVar11 = (double *)&DAT_001af150;
                    DAT_001af1b0 = DAT_001af1b0 + 1;
                    iVar4 = 0;
                    uVar17 = 0;
                    if (0xb < DAT_001af1b0) {
                        DAT_001af1b0 = 0;
                        uVar17 = 0;
                    }
                    do {
                        dVar15 = *pdVar11;
                        pdVar11 = pdVar11 + 1;
                        if (0.0 <= dVar15) {
                            dVar14 = (double)FUN_000778a4(
                                (int)uVar17, (int)((ulonglong)uVar17 >> 0x20));
                            iVar4 = iVar4 + 1;
                            dVar14 = dVar14 + dVar15;
                            uVar17 =
                                FUN_00077970(SUB84(dVar14, 0),
                                             (int)((ulonglong)dVar14 >> 0x20));
                        }
                    } while (pdVar11 != (double *)&DAT_001af1b0);
                    if (iVar4 != 0) {
                        uVar18 = FUN_00077910((int)uVar17,
                                              (int)((ulonglong)uVar17 >> 0x20),
                                              iVar4, iVar4 >> 0x1f);
                    }
                    uStack_8dc = (undefined4)((ulonglong)uVar18 >> 0x20);
                    local_8e0 = (undefined4)uVar18;
                    lVar1 = (longlong)DAT_0009ed78;
                    if (0.0 < (double)lVar1) {
                        uVar7 = FUN_000778a4(local_8e0, uStack_8dc);
                        uVar13 = SUB84((double)lVar1, 0);
                        FUN_000529e0(uVar7, uVar12, uVar13, in_s3, uVar13,
                                     &DAT_00245110);
                    }
                    if (0.0 < in_d0) {
                        uVar7 = SUB84(dVar16, 0);
                        FUN_000529e0(uVar7, uVar12, extraout_s0, in_s3, 0,
                                     &DAT_00245210);
                        FUN_000529e0(uVar7, uVar12, extraout_s0, in_s3, 0,
                                     &DAT_00245208);
                        if (0.0 < in_d0) {
                            FUN_000529e0(uVar7, uVar12, extraout_s0, in_s3, 0,
                                         &DAT_00245218);
                        }
                    }
                    bVar3 = true;
                    uVar18 = FUN_00077970(
                        SUB84(DAT_00245110 * 1000000.0, 0),
                        (int)((ulonglong)(DAT_00245110 * 1000000.0) >> 0x20));
                    iVar4 = DAT_001af1b0;
                    DAT_00242ff4 = (undefined4)((ulonglong)uVar18 >> 0x20);
                    DAT_00242ff0 = (undefined4)uVar18;
                    dVar15 = 0.0;
                    (&DAT_001af150)[DAT_001af1b0] = 0;
                    goto LAB_0005e83c;
                }
            LAB_0005ecb0:
                piVar5 = __errno_location();
                iVar4 = *piVar5;
                pcVar8 = "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d";
            }
            snprintf(acStack_858, 0x800, pcVar8, iVar4);
            goto LAB_0005ecec;
        }
        piVar5 = __errno_location();
        iVar4 = *piVar5;
    LAB_0005ed44:
        pcVar8 = "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d";
    } else {
        DAT_001b064c = DAT_001af0ec;
        FUN_0004c460(&DAT_001af148, &DAT_001af0ec);
        if (-1 < param_1) {
            bVar10 = 1;
            goto LAB_0005e694;
        }
        iVar4 = pthread_mutex_lock((pthread_mutex_t *)&DAT_002463b8);
        if (iVar4 != 0) {
            piVar5 = __errno_location();
            iVar4 = *piVar5;
            goto LAB_0005ed44;
        }
        if (0 < DAT_00245108) {
            iVar4 = 0;
            do {
                while (true) {
                    iVar6 = FUN_00057bac(iVar4);
                    iVar6 = *(int *)(iVar6 + 0x24);
                    FUN_0004a8fc(&DAT_001af0ec, iVar6 + 0x8c);
                    FUN_0004c460(iVar6 + 0x8c, &DAT_001af0ec);
                    if (0.0 < in_d0)
                        break;
                LAB_0005e444:
                    iVar4 = iVar4 + 1;
                    if (DAT_00245108 <= iVar4)
                        goto LAB_0005e50c;
                }
                FUN_000529e0(0, uVar12, extraout_s0, in_s3,
                             SUB84((double)(longlong)DAT_0009ed78, 0),
                             iVar6 + 0x30);
                FUN_000529e0(0, uVar12, extraout_s0, in_s3, 0, iVar6 + 0x38);
                if (in_d0 <= 0.0)
                    goto LAB_0005e444;
                FUN_000529e0(0, uVar12, extraout_s0, in_s3, 0, iVar6 + 0x40);
                if (in_d0 <= 0.0)
                    goto LAB_0005e444;
                iVar4 = iVar4 + 1;
                FUN_000529e0(0, uVar12, extraout_s0, in_s3, 0, iVar6 + 0x48);
            } while (iVar4 < DAT_00245108);
        }
    LAB_0005e50c:
        iVar4 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_002463b8);
        if (iVar4 == 0) {
            (*DAT_0009e444)();
            iVar4 = pthread_mutex_lock((pthread_mutex_t *)&DAT_002463b8);
            if (iVar4 == 0) {
                dVar16 = (double)FUN_000778a4(param_3, param_4);
                DAT_00245228 = DAT_00245228 + dVar16;
                goto LAB_0005e568;
            }
            goto LAB_0005ecb0;
        }
        piVar5 = __errno_location();
        iVar4 = *piVar5;
    LAB_0005ed80:
        pcVar8 = "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d";
    }
    snprintf(acStack_858, 0x800, pcVar8, iVar4);
LAB_0005ecec:
    FUN_00047ab4(3, acStack_858, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1);
}

void FUN_0005ee24(undefined4 *param_1)

{
    char cVar1;
    undefined *puVar2;
    longlong lVar3;
    int iVar4;
    int *piVar5;
    uint uVar6;
    undefined *puVar7;
    char *__format;
    undefined *puVar8;
    int iVar9;
    int iVar10;
    uint uVar11;
    pthread_rwlock_t *__rwlock;
    undefined4 uVar12;
    bool bVar13;
    longlong lVar14;
    undefined4 local_83c;
    int local_838;
    int local_834;
    int iStack_830;
    int iStack_82c;
    char acStack_828[2052];

    iVar9 = param_1[9];
    local_834 = 0;
    iVar10 = *(int *)(iVar9 + 4);
    uVar12 = *param_1;
    lVar3 = 0;
    local_838 = 0;
LAB_0005ee5c:
    cVar1 = *(char *)(iVar9 + 0x16c);
    do {
        if (cVar1 != '\0') {
        LAB_0005efbc:
            *(undefined4 *)(iVar9 + 0x20) = 1;
            return;
        }
        *(undefined1 *)((int)param_1 + 0x3f) = 0;
        do {
            if (*(int *)(iVar9 + 0x164) != 0)
                goto LAB_0005ee70;
            __rwlock = (pthread_rwlock_t *)(iVar9 + 0x140);
            local_83c = FUN_0005bb20(param_1, uVar12);
            iVar4 = pthread_rwlock_wrlock(__rwlock);
            if (iVar4 != 0) {
                piVar5 = __errno_location();
                iVar9 = *piVar5;
                __format = "WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d";
                uVar12 = 0x249a;
                goto LAB_0005f030;
            }
            if (*(int *)(iVar9 + 0x164) == 0) {
                *(undefined4 *)(iVar9 + 0x164) = local_83c;
                iVar4 = pthread_rwlock_unlock(__rwlock);
                if (iVar4 != 0) {
                LAB_0005f088:
                    piVar5 = __errno_location();
                    iVar9 = *piVar5;
                    __format =
                        "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d";
                    uVar12 = 0x24a5;
                LAB_0005f030:
                    snprintf(acStack_828, 0x800, __format, iVar9, "cgminer.c",
                             "fill_queue", uVar12);
                    FUN_00047ab4(3, acStack_828, 1);
                    /* WARNING: Subroutine does not return */
                    FUN_00054ccc(1);
                }
                (*DAT_0009e444)();
            } else {
                iVar4 = pthread_rwlock_unlock(__rwlock);
                if (iVar4 != 0)
                    goto LAB_0005f088;
                (*DAT_0009e444)();
                FUN_00053380(&local_83c, "cgminer.c", "fill_queue", 0x24a9);
            }
        LAB_0005ee70:
            iVar4 = (**(code **)(iVar10 + 0x48))(iVar9);
        } while (iVar4 == 0);
        lVar14 = (**(code **)(iVar10 + 0x44))(param_1);
        *(undefined1 *)((int)param_1 + 0x3e) = 0;
        if (lVar14 == -1) {
            if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                (2 < DAT_0009e320)) {
                snprintf(acStack_828, 0x800, "%s %d failure, disabling!",
                         *(undefined4 *)(iVar10 + 8),
                         *(undefined4 *)(iVar9 + 8));
                FUN_00047ab4(3, acStack_828, 0);
            }
            *(undefined4 *)(iVar9 + 0x20) = 1;
            FUN_0004ba2c(iVar9);
            goto LAB_0005efbc;
        }
        lVar3 = lVar14 + lVar3;
        uVar11 = (uint)((ulonglong)lVar3 >> 0x20);
        FUN_0004a60c(&iStack_830);
        puVar8 = (undefined *)(iStack_82c - local_834);
        puVar7 = (undefined *)(iStack_830 - local_838);
        if ((int)puVar8 < 0) {
            puVar7 = puVar7 + -1;
            puVar8 = &DAT_000f4240 + (int)puVar8;
        }
        uVar6 = (uint)lVar3 | uVar11;
        if (uVar6 == 0) {
        LAB_0005efd0:
            if (DAT_0009ed78 <= (int)puVar7)
                goto LAB_0005ef5c;
            lVar14 = lVar3;
            if (*(char *)(param_1 + 0xf) == '\0')
                goto LAB_0005ef8c;
        LAB_0005eff0:
            FUN_000524ec(param_1, uVar12, iVar10 + 0x5c);
        } else {
            uVar6 = 200000;
            bVar13 = puVar8 == (undefined *)0x30d40;
            puVar2 = puVar8 + -200000;
            if (200000 >= (int)puVar8) {
                bVar13 = puVar7 == (undefined *)0x0;
                puVar2 = puVar7;
            }
            if (bVar13 || (int)puVar2 < 0 != (200000 < (int)puVar8 &&
                                              SBORROW4((int)puVar8, 200000)))
                goto LAB_0005efd0;
        LAB_0005ef5c:
            FUN_0005e2ec(uVar12, uVar6, (uint)lVar3, uVar11);
            FUN_0004c460(&local_838, &iStack_830);
            lVar3 = 0;
            lVar14 = 0;
            if (*(char *)(param_1 + 0xf) != '\0')
                goto LAB_0005eff0;
        LAB_0005ef8c:
            lVar3 = lVar14;
            if (*(int *)(iVar9 + 0x20) != 0)
                goto LAB_0005eff0;
        }
        if (*(char *)((int)param_1 + 0x3f) == '\0')
            goto LAB_0005ee5c;
        (**(code **)(iVar10 + 0x50))(iVar9);
        cVar1 = *(char *)(iVar9 + 0x16c);
    } while (true);
}

void FUN_0005f13c(undefined4 *param_1)

{
    undefined *puVar1;
    char cVar2;
    longlong lVar3;
    int iVar4;
    int *piVar5;
    uint uVar6;
    undefined *puVar7;
    char *__format;
    undefined4 uVar8;
    undefined *puVar9;
    uint uVar10;
    int iVar11;
    int iVar12;
    bool bVar13;
    longlong lVar14;
    int local_838;
    int local_834;
    int iStack_830;
    int iStack_82c;
    char acStack_828[2052];

    iVar11 = param_1[9];
    local_834 = 0;
    local_838 = 0;
    uVar8 = *param_1;
    lVar3 = 0;
    iVar12 = *(int *)(iVar11 + 4);
LAB_0005f174:
    cVar2 = *(char *)(iVar11 + 0x16c);
    do {
        if (cVar2 != '\0') {
        LAB_0005f290:
            *(undefined4 *)(iVar11 + 0x20) = 1;
            return;
        }
        *(undefined1 *)((int)param_1 + 0x3f) = 0;
        lVar14 = (**(code **)(iVar12 + 0x44))(param_1);
        *(undefined1 *)((int)param_1 + 0x3e) = 0;
        if (lVar14 == -1) {
            if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                (2 < DAT_0009e320)) {
                snprintf(acStack_828, 0x800, "%s %d failure, disabling!",
                         *(undefined4 *)(iVar12 + 8),
                         *(undefined4 *)(iVar11 + 8));
                FUN_00047ab4(3, acStack_828, 0);
            }
            *(undefined4 *)(iVar11 + 0x20) = 1;
            FUN_0004ba2c(iVar11);
            goto LAB_0005f290;
        }
        lVar3 = lVar14 + lVar3;
        uVar10 = (uint)((ulonglong)lVar3 >> 0x20);
        FUN_0004a60c(&iStack_830);
        puVar9 = (undefined *)(iStack_82c - local_834);
        puVar7 = (undefined *)(iStack_830 - local_838);
        if ((int)puVar9 < 0) {
            puVar7 = puVar7 + -1;
            puVar9 = &DAT_000f4240 + (int)puVar9;
        }
        uVar6 = (uint)lVar3 | uVar10;
        if (uVar6 == 0) {
        LAB_0005f2a4:
            if (DAT_0009ed78 <= (int)puVar7)
                goto LAB_0005f1f8;
            lVar14 = lVar3;
            if (*(char *)(param_1 + 0xf) == '\0')
                goto LAB_0005f228;
        LAB_0005f2c4:
            FUN_000524ec(param_1, uVar8, iVar12 + 0x5c);
        } else {
            uVar6 = 200000;
            bVar13 = puVar7 == (undefined *)0x0;
            puVar1 = puVar7;
            if ((int)puVar7 < 1) {
                puVar1 = puVar9 + -200000;
                bVar13 = puVar9 == (undefined *)0x30d40;
            }
            if (bVar13 || (int)puVar1 < 0 != ((int)puVar7 < 1 &&
                                              SBORROW4((int)puVar9, 200000)))
                goto LAB_0005f2a4;
        LAB_0005f1f8:
            FUN_0005e2ec(uVar8, uVar6, (uint)lVar3, uVar10);
            FUN_0004c460(&local_838, &iStack_830);
            lVar3 = 0;
            lVar14 = 0;
            if (*(char *)(param_1 + 0xf) != '\0')
                goto LAB_0005f2c4;
        LAB_0005f228:
            lVar3 = lVar14;
            if (*(int *)(iVar11 + 0x20) != 0)
                goto LAB_0005f2c4;
        }
        if (*(char *)((int)param_1 + 0x3f) == '\0')
            goto LAB_0005f174;
        iVar4 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00246348);
        if (iVar4 != 0) {
            piVar5 = __errno_location();
            iVar11 = *piVar5;
            uVar8 = 0x2626;
            __format = "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d";
        LAB_0005f380:
            snprintf(acStack_828, 0x800, __format, iVar11, "cgminer.c",
                     "hash_driver_work", uVar8);
            FUN_00047ab4(3, acStack_828, 1);
            /* WARNING: Subroutine does not return */
            FUN_00054ccc(1);
        }
        (**(code **)(iVar12 + 0x50))(iVar11);
        iVar4 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00246348);
        if (iVar4 != 0) {
            piVar5 = __errno_location();
            iVar11 = *piVar5;
            uVar8 = 0x2628;
            __format = "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d";
            goto LAB_0005f380;
        }
        (*DAT_0009e444)();
        cVar2 = *(char *)(iVar11 + 0x16c);
    } while (true);
}

/* WARNING: Type propagation algorithm not settling */

void FUN_0005f3dc(undefined4 *param_1)

{
    char cVar1;
    longlong lVar2;
    int iVar3;
    uint uVar4;
    undefined4 uVar5;
    int iVar6;
    int iVar7;
    undefined4 uVar8;
    undefined *puVar9;
    int iVar10;
    uint uVar11;
    int iVar12;
    int iVar13;
    int iVar14;
    int iVar15;
    int iVar16;
    int iVar17;
    int iVar18;
    bool bVar19;
    double dVar20;
    longlong lVar21;
    uint local_880;
    int local_84c;
    int local_848;
    int local_844;
    int local_840;
    int local_83c;
    int local_838;
    int local_834;
    int local_830;
    int local_82c;
    timespec local_828[256];

    iVar16 = param_1[9];
    iVar7 = *(int *)(iVar16 + 4);
    iVar10 = DAT_0009ed78 / 5;
    uVar8 = *param_1;
    if (iVar10 == 0) {
        iVar10 = 1;
    }
    if (param_1[1] == 0) {
        uVar11 = 1;
    } else {
        uVar11 = (uint) * (byte *)(param_1 + 2);
    }
    local_880 = (**(code **)(iVar7 + 0x30))(param_1);
    FUN_0004a60c(&local_848);
    FUN_0004a60c(&local_830);
    if (*(char *)(iVar16 + 0x16c) == '\0') {
        iVar12 = iVar10 * 1000000;
        lVar2 = 0;
        iVar13 = iVar12 + 0x3ff;
        if (-1 < iVar12) {
            iVar13 = iVar12;
        }
        iVar17 = 0;
        iVar18 = 0;
        do {
            local_84c = FUN_0005bb20(param_1, uVar8);
            *(undefined1 *)((int)param_1 + 0x3e) = 0;
            *(undefined1 *)(iVar16 + 0xac) = 1;
            FUN_0004a60c(&local_838);
            *(undefined4 *)(local_84c + 0xf8) = 0;
            *(undefined4 *)(iVar16 + 0xa0) = 0;
            *(undefined4 *)(iVar16 + 0xa4) = 0;
            iVar3 = (**(code **)(iVar7 + 0x38))(param_1);
            if (iVar3 == 0) {
                if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                    (2 < DAT_0009e320)) {
                    snprintf((char *)local_828, 0x800,
                             "work prepare failed, exiting mining thread %d",
                             uVar8);
                    FUN_00047ab4(3, local_828, 0);
                }
                break;
            }
            dVar20 = *(double *)(iVar7 + 0x68);
            if (*(double *)(local_84c + 0x178) < *(double *)(iVar7 + 0x68)) {
                dVar20 = *(double *)(local_84c + 0x178);
            }
            *(double *)(local_84c + 0xe0) = dVar20;
            if (dVar20 < *(double *)(iVar7 + 0x70)) {
                dVar20 = *(double *)(iVar7 + 0x70);
            }
            *(double *)(local_84c + 0xe0) = dVar20;
            while (true) {
                FUN_0004a60c(&local_840);
                FUN_0004a22c(&local_840, &local_848);
                FUN_0004a260(&local_848, iVar16 + 0x128);
                iVar3 = FUN_0004a2a4(&local_848, iVar16 + 0x130);
                if (iVar3 != 0) {
                    FUN_0004c460(iVar16 + 0x130, &local_848);
                }
                iVar3 = FUN_0004a2d8(&local_848, iVar16 + 0x138);
                if (iVar3 != 0) {
                    FUN_0004c460(iVar16 + 0x138, &local_848);
                }
                *(int *)(iVar16 + 0x124) = *(int *)(iVar16 + 0x124) + 1;
                iVar15 = *(int *)(local_84c + 0x104);
                FUN_0004a260(&local_848, iVar15 + 0x184);
                iVar3 = FUN_0004a2a4(&local_848, iVar15 + 0x18c);
                if (iVar3 != 0) {
                    FUN_0004c460(iVar15 + 0x18c, &local_848);
                }
                iVar3 = FUN_0004a2d8(&local_848, iVar15 + 0x194);
                if (iVar3 != 0) {
                    FUN_0004c460(iVar15 + 0x194, &local_848);
                }
                *(int *)(iVar15 + 0x180) = *(int *)(iVar15 + 0x180) + 1;
                FUN_0004a60c(local_84c + 0x1a8);
                pthread_setcancelstate(1, (int *)0x0);
                FUN_00051ae4(param_1);
                lVar21 = (**(code **)(iVar7 + 0x40))(
                    param_1, local_84c, local_880 + *(int *)(local_84c + 0xf8),
                    0);
                iVar6 = (int)((ulonglong)lVar21 >> 0x20);
                FUN_00051aac(param_1);
                pthread_setcancelstate(0, (int *)0x0);
                pthread_testcancel();
                FUN_0004a60c(&local_848);
                iVar15 = local_844;
                iVar3 = local_848;
                if (lVar21 == -1)
                    break;
                iVar14 = *(int *)(iVar16 + 0xa4);
                lVar2 = lVar21 + lVar2;
                bVar19 = *(uint *)(iVar16 + 0xa0) < (uint)lVar21;
                if ((int)(iVar14 - (iVar6 + (uint)bVar19)) < 0 !=
                    (SBORROW4(iVar14, iVar6) !=
                     SBORROW4(iVar14 - iVar6, (uint)bVar19))) {
                    *(longlong *)(iVar16 + 0xa0) = lVar21;
                }
                puVar9 = (undefined *)(local_844 - local_83c);
                bVar19 = (int)puVar9 < 0;
                if (bVar19) {
                    puVar9 = &DAT_000f4240 + (int)puVar9;
                }
                iVar6 = local_848 - local_840;
                iVar17 = iVar17 + (int)puVar9;
                if (bVar19) {
                    iVar6 = iVar6 + -1;
                }
                iVar18 = iVar18 + iVar6;
                if (1000000 < iVar17) {
                    iVar18 = iVar18 + 1;
                    iVar17 = iVar17 + -1000000;
                }
                iVar6 = local_848 - local_838;
                if (local_844 - local_834 < 0) {
                    iVar6 = iVar6 + -1;
                }
                if (iVar18 < iVar10) {
                    if (local_880 != 0xffffffff) {
                        iVar14 = iVar17 + 0x400;
                        if (iVar17 + 0x400 < 0) {
                            iVar14 = iVar17 + 0x7ff;
                        }
                        iVar14 = FUN_000772e8(&DAT_000f4240, iVar14 >> 10);
                        iVar14 = (iVar14 + 0x10) * iVar10;
                        uVar4 = FUN_00077070(0xfffffc00, iVar14);
                        if (uVar4 < local_880) {
                            local_880 = 0xffffffff;
                        } else {
                            local_880 = local_880 * iVar14 >> 10;
                        }
                        goto LAB_0005f71c;
                    }
                } else {
                    if (iVar10 < iVar18) {
                        local_880 = FUN_00077070(iVar10 * local_880, iVar18);
                    } else if (100000 < iVar17) {
                        uVar5 = FUN_000772e8(iVar17 + iVar12, iVar13 >> 10);
                        local_880 = FUN_00077070(local_880 << 10, uVar5);
                    }
                LAB_0005f71c:
                    iVar15 = iVar15 - local_82c;
                    bVar19 = iVar15 < 0;
                    if (bVar19) {
                        iVar15 = iVar15 + 0xf4000;
                    }
                    iVar3 = iVar3 - local_830;
                    if (bVar19) {
                        iVar3 = iVar3 + -1;
                        iVar15 = iVar15 + 0x240;
                    }
                    if (lVar2 == 0) {
                    LAB_0005f81c:
                        if (DAT_0009ed78 <= iVar3)
                            goto LAB_0005f754;
                        cVar1 = *(char *)((int)param_1 + 0x3e);
                    } else {
                        bVar19 = iVar3 == 0;
                        iVar14 = iVar3;
                        if (iVar3 < 1) {
                            iVar14 = iVar15 + -200000;
                            bVar19 = iVar15 == 200000;
                        }
                        if (bVar19 || iVar14 < 0 != (iVar3 < 1 &&
                                                     SBORROW4(iVar15, 200000)))
                            goto LAB_0005f81c;
                    LAB_0005f754:
                        FUN_0005e2ec(uVar8, local_830, (int)lVar2,
                                     (int)((ulonglong)lVar2 >> 0x20));
                        FUN_0004c460(&local_830, &local_848);
                        cVar1 = *(char *)((int)param_1 + 0x3e);
                        lVar2 = 0;
                    }
                    if (cVar1 != '\0') {
                        if (uVar11 == 0) {
                            local_828[0].tv_nsec = param_1[1] * 250000000;
                            local_828[0].tv_sec = uVar11;
                            nanosleep(local_828, (timespec *)0x0);
                        }
                        goto LAB_0005f7e4;
                    }
                    if ((*(char *)(param_1 + 0xf) == '\0') &&
                        (*(int *)(iVar16 + 0x20) == 0)) {
                        iVar17 = 0;
                        iVar18 = 0;
                    } else {
                        iVar17 = 0;
                        FUN_000524ec(param_1, uVar8, iVar7 + 0x5c);
                        iVar18 = iVar17;
                    }
                }
                if ((DAT_0009ed98 < iVar6 ||
                     (*(int *)(iVar16 + 0xa4) != 0 ||
                      0xfffffffd < *(uint *)(iVar16 + 0xa0))) ||
                    (iVar3 = FUN_0005b638(local_84c), iVar3 != 0))
                    goto LAB_0005f7e4;
            }
            if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                (2 < DAT_0009e320)) {
                snprintf((char *)local_828, 0x800, "%s %d failure, disabling!",
                         *(undefined4 *)(iVar7 + 8),
                         *(undefined4 *)(iVar16 + 8));
                FUN_00047ab4(3, local_828, 0);
            }
            *(undefined4 *)(iVar16 + 0x20) = 1;
            FUN_0004ba2c(iVar16, 1);
            *(undefined1 *)(iVar16 + 0x16c) = 1;
        LAB_0005f7e4:
            FUN_00053084(&local_84c, "cgminer.c", "hash_sole_work", 0x2481);
        } while (*(char *)(iVar16 + 0x16c) == '\0');
    }
    *(undefined4 *)(iVar16 + 0x20) = 1;
    return;
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */
/* WARNING: Restarted to delay deadcode elimination for space: ram */

undefined4 FUN_0005faa0(undefined4 *param_1)

{
    char cVar1;
    pthread_mutex_t *ppVar2;
    byte *pbVar3;
    pthread_t __th;
    int iVar4;
    char *pcVar5;
    void *pvVar6;
    int *piVar7;
    int iVar8;
    pthread_mutex_t *__dest;
    size_t sVar9;
    tm *ptVar10;
    time_t tVar11;
    uint uVar12;
    int *piVar13;
    int *extraout_r1;
    int extraout_r1_00;
    int *piVar14;
    int iVar15;
    undefined4 *puVar16;
    uint *puVar17;
    char *pcVar18;
    char *__format;
    byte bVar19;
    uint uVar20;
    uint uVar21;
    uint uVar22;
    uint uVar23;
    int iVar24;
    int iVar25;
    undefined4 uVar26;
    size_t sVar27;
    int iVar28;
    void *pvVar29;
    pthread_mutex_t *ppVar30;
    int iVar31;
    pthread_mutex_t *ppVar32;
    int iVar33;
    size_t *psVar34;
    int iVar35;
    int iVar36;
    byte *pbVar37;
    undefined *puVar38;
    byte *extraout_r12;
    bool bVar39;
    double dVar40;
    undefined8 uVar41;
    int *local_a38;
    uint local_a34;
    void *local_a14;
    undefined *local_a10;
    size_t *local_a0c;
    uint local_a08;
    int *local_a04;
    void *local_9f8;
    timeval local_9f4;
    char acStack_9ec[16];
    int local_9dc[4];
    uint local_9cc[4];
    uint local_9bc;
    uint local_9b8;
    uint local_9b4;
    uint local_9b0;
    fd_set local_9ac;
    undefined4 local_92c[3];
    byte local_920[80];
    undefined1 auStack_8d0[160];
    time_t local_830;
    char acStack_82c[12];
    uint local_820;
    char acStack_81c[8];
    undefined4 local_814;
    char local_810[20];
    undefined2 uStack_7fc;
    undefined1 local_7fa;

    __th = pthread_self();
    pthread_detach(__th);
    local_a34 = 0xfeedbeef;
    snprintf(acStack_9ec, 0x10, "%d/RStratum", *param_1);
    FUN_0004bd10(acStack_9ec);
    do {
        cVar1 = *(char *)((int)param_1 + 0x69);
        while (true) {
            if (cVar1 != '\0') {
                FUN_0004afa8();
                return 0;
            }
            iVar4 = FUN_0004ab90(param_1);
            if ((iVar4 == 0) && (iVar4 = FUN_000584b4(param_1), iVar4 == 0)) {
                FUN_0004afa8(param_1);
                FUN_0005a44c(param_1);
                FUN_00059b44(param_1);
                iVar4 = FUN_000584b4(param_1);
                while (
                    (iVar4 == 0 &&
                     ((param_1[0x19] == 0 ||
                       ((puVar16 = (undefined4 *)FUN_00058084(),
                         param_1 != puVar16 && (1 < DAT_001aeeb8 - 3U))))))) {
                    iVar4 =
                        pthread_mutex_lock((pthread_mutex_t *)&DAT_001af1b8);
                    if (iVar4 != 0) {
                        piVar14 = __errno_location();
                        pcVar5 = "wait_lpcurrent";
                        iVar4 = *piVar14;
                        uVar26 = 0x26b3;
                        goto LAB_00060738;
                    }
                    pthread_cond_wait((pthread_cond_t *)&DAT_001af1d0,
                                      (pthread_mutex_t *)&DAT_001af1b8);
                    iVar4 =
                        pthread_mutex_unlock((pthread_mutex_t *)&DAT_001af1b8);
                    if (iVar4 != 0) {
                        piVar14 = __errno_location();
                        pcVar5 = "wait_lpcurrent";
                        iVar4 = *piVar14;
                        uVar26 = 0x26b5;
                        goto LAB_000607b8;
                    }
                    (*DAT_0009e444)();
                    iVar4 = FUN_000584b4(param_1);
                }
                while (iVar4 = FUN_0004f2f8(param_1), iVar4 == 0) {
                    FUN_0005a31c(param_1);
                    if (*(char *)((int)param_1 + 0x69) != '\0') {
                        return 0;
                    }
                    FUN_0004a804(5000);
                }
            }
            puVar17 = &local_9b0;
            do {
                puVar17 = puVar17 + 1;
                *puVar17 = 0;
            } while ((uint *)(local_9ac.fds_bits + 0x1f) != puVar17);
            uVar20 = param_1[0x93];
            local_9f4.tv_usec = 0;
            local_9f4.tv_sec = 0x5a;
            uVar12 = uVar20 + 0x1f;
            if (-1 < (int)uVar20) {
                uVar12 = uVar20;
            }
            uVar21 = uVar20 & 0x1f;
            if ((int)uVar20 < 1) {
                uVar21 = -(-uVar20 & 0x1f);
            }
            local_9ac.fds_bits[(int)uVar12 >> 5] =
                local_9ac.fds_bits[(int)uVar12 >> 5] | 1 << (uVar21 & 0xff);
            iVar4 = FUN_0004ab90(param_1);
            if ((iVar4 == 0) &&
                (iVar4 = select(param_1[0x93] + 1, &local_9ac, (fd_set *)0x0,
                                (fd_set *)0x0, &local_9f4),
                 iVar4 < 1))
                break;
            pcVar5 = (char *)FUN_0004b4c0(param_1);
            if (pcVar5 == (char *)0x0)
                goto LAB_0005fd04;
            FUN_00058490(param_1);
            iVar4 = FUN_00050324(param_1, pcVar5);
            if (iVar4 == 0) {
                pvVar6 = (void *)FUN_0006d110(pcVar5, 0, local_92c);
                if (pvVar6 != (void *)0x0) {
                    piVar14 = (int *)FUN_0006dfcc(pvVar6, "result");
                    __dest = (pthread_mutex_t *)FUN_0006dfcc(pvVar6, "error");
                    piVar7 = (int *)FUN_0006dfcc(pvVar6, "id");
                    if ((piVar7 == (int *)0x0) || (*piVar7 == 7)) {
                        if (__dest == (pthread_mutex_t *)0x0) {
                            pcVar18 = (char *)malloc(0x11);
                            if (pcVar18 != (char *)0x0) {
                                builtin_strncpy(pcVar18, "(unknown reason)",
                                                0x11);
                            }
                        } else {
                            pcVar18 = (char *)FUN_0006b6e8(__dest, 3);
                        }
                        if (((DAT_00244080 != '\0') ||
                             (DAT_001aecc4 != '\0')) ||
                            (5 < DAT_0009e320)) {
                            snprintf((char *)&local_830, 0x800,
                                     "JSON-RPC non method decode failed: %s",
                                     pcVar18);
                            FUN_00047ab4(6, &local_830, 0);
                        }
                        free(pcVar18);
                        iVar4 = *(int *)((int)pvVar6 + 4);
                    joined_r0x0006041c:
                        if (iVar4 != -1) {
                        LAB_0005fec4:
                            piVar14 = (int *)((int)pvVar6 + 4);
                            DataMemoryBarrier(0xb);
                            do {
                                iVar4 = *piVar14;
                                bVar39 = (bool)hasExclusiveAccess(piVar14);
                            } while (!bVar39);
                            *piVar14 = iVar4 + -1;
                            if (iVar4 + -1 == 0) {
                                FUN_0006e5dc(pvVar6);
                            }
                        }
                        goto LAB_0005ffe4;
                    }
                    iVar4 = FUN_0006dfcc(piVar14, "version-rolling.mask");
                    if (((iVar4 != 0) ||
                         (pcVar18 = strstr(pcVar5, "mining.configure"),
                          pcVar18 != (char *)0x0)) ||
                        (pcVar18 = strstr(pcVar5, "mining.set_version_mask"),
                         pcVar18 != (char *)0x0)) {
                    LAB_0005feb8:
                        iVar4 = *(int *)((int)pvVar6 + 4);
                        goto joined_r0x0006041c;
                    }
                    pvVar29 = (void *)FUN_0006e430(piVar7);
                    local_9f8 = pvVar29;
                    iVar4 =
                        pthread_mutex_lock((pthread_mutex_t *)&DAT_001af200);
                    piVar7 = DAT_001af218;
                    if (iVar4 != 0) {
                        FUN_000550b8("parse_stratum_response", 0x1c76);
                        piVar13 = extraout_r1;
                    LAB_00062368:
                        free(local_a14);
                        free((void *)*local_a38);
                        DAT_001af218 = piVar13;
                    LAB_00061804:
                        param_1[0xb7] = param_1[0xb7] + -1;
                        iVar4 = pthread_mutex_unlock(
                            (pthread_mutex_t *)&DAT_001af200);
                        if (iVar4 != 0)
                            goto LAB_00062324;
                        (*DAT_0009e444)();
                        iVar31 = *(int *)((int)pvVar29 + 0x24);
                        tVar11 = time((time_t *)0x0);
                        iVar4 = tVar11 - *(int *)((int)pvVar29 + 0x30);
                        bVar19 = DAT_001aecc5;
                        if (0 < iVar4) {
                            bVar19 = DAT_001aecc5 | 1;
                        }
                        if ((bVar19 != 0) && (((DAT_00244080 != '\0' ||
                                                (DAT_001aecc4 != '\0')) ||
                                               (5 < DAT_0009e320)))) {
                            snprintf((char *)&local_830, 0x800,
                                     "Pool %d stratum share result lag time %d "
                                     "seconds",
                                     **(undefined4 **)(iVar31 + 0x104), iVar4);
                            FUN_00047ab4(6, &local_830, 0);
                        }
                        uVar12 = *(uint *)(iVar31 + 0xdc);
                        local_9cc[0] =
                            uVar12 << 0x18 | (uVar12 >> 8 & 0xff) << 0x10 |
                            (uVar12 >> 0x10 & 0xff) << 8 | uVar12 >> 0x18;
                        uVar12 = *(uint *)(iVar31 + 0xd8);
                        local_9cc[1] =
                            uVar12 << 0x18 | (uVar12 >> 8 & 0xff) << 0x10 |
                            (uVar12 >> 0x10 & 0xff) << 8 | uVar12 >> 0x18;
                        uVar12 = *(uint *)(iVar31 + 0xd4);
                        local_9cc[2] =
                            uVar12 << 0x18 | (uVar12 >> 8 & 0xff) << 0x10 |
                            (uVar12 >> 0x10 & 0xff) << 8 | uVar12 >> 0x18;
                        uVar12 = *(uint *)(iVar31 + 0xd0);
                        local_9cc[3] =
                            uVar12 << 0x18 | (uVar12 >> 8 & 0xff) << 0x10 |
                            (uVar12 >> 0x10 & 0xff) << 8 | uVar12 >> 0x18;
                        uVar12 = *(uint *)(iVar31 + 0xcc);
                        local_9bc =
                            uVar12 << 0x18 | (uVar12 >> 8 & 0xff) << 0x10 |
                            (uVar12 >> 0x10 & 0xff) << 8 | uVar12 >> 0x18;
                        uVar12 = *(uint *)(iVar31 + 200);
                        local_9b8 =
                            uVar12 << 0x18 | (uVar12 >> 8 & 0xff) << 0x10 |
                            (uVar12 >> 0x10 & 0xff) << 8 | uVar12 >> 0x18;
                        uVar12 = *(uint *)(iVar31 + 0xc4);
                        local_9b4 =
                            uVar12 << 0x18 | (uVar12 >> 8 & 0xff) << 0x10 |
                            (uVar12 >> 0x10 & 0xff) << 8 | uVar12 >> 0x18;
                        uVar12 = *(uint *)(iVar31 + 0xc0);
                        local_9b0 =
                            uVar12 << 0x18 | (uVar12 >> 8 & 0xff) << 0x10 |
                            (uVar12 >> 0x10 & 0xff) << 8 | uVar12 >> 0x18;
                        iVar4 = 0;
                        puVar17 = local_9cc;
                        do {
                            if ((char)*puVar17 != '\0')
                                break;
                            iVar4 = iVar4 + 1;
                            puVar17 = (uint *)((int)puVar17 + 1);
                        } while (iVar4 != 0x1d);
                        uVar12 = *(uint *)((int)local_9cc + iVar4);
                        local_a38 = (int *)(uVar12 << 0x18 |
                                            (uVar12 >> 8 & 0xff) << 0x10 |
                                            (uVar12 >> 0x10 & 0xff) << 8 |
                                            uVar12 >> 0x18);
                        dVar40 = round(*(double *)(iVar31 + 0x178));
                        FUN_00077970(SUB84(dVar40, 0),
                                     (int)((ulonglong)dVar40 >> 0x20));
                        FUN_00051b18(*(undefined4 *)(iVar31 + 0xe8),
                                     *(undefined4 *)(iVar31 + 0xec), local_9dc,
                                     0x10, 0);
                        snprintf((char *)&local_830, 0x40,
                                 "%08lx Diff %s/%llu%s", local_a38, local_9dc);
                        FUN_0005d8cc(pvVar6, piVar14, __dest, iVar31,
                                     &local_830);
                        FUN_00053084((int)pvVar29 + 0x24, "cgminer.c",
                                     "parse_stratum_response", 0x1cab);
                        free(pvVar29);
                        if (*(int *)((int)pvVar6 + 4) != -1) {
                            piVar14 = (int *)((int)pvVar6 + 4);
                            DataMemoryBarrier(0xb);
                            do {
                                iVar4 = *piVar14;
                                bVar39 = (bool)hasExclusiveAccess(piVar14);
                            } while (!bVar39);
                            *piVar14 = iVar4 + -1;
                            if (iVar4 + -1 == 0) {
                                FUN_0006e5dc(pvVar6);
                            }
                        }
                        goto LAB_0005fc00;
                    }
                    local_a38 = DAT_001af218;
                    uVar21 = ((uint)pvVar29 & 0xff) + 0x112410d +
                                 ((uint)pvVar29 & 0xff000000) +
                                 ((uint)pvVar29 & 0xff0000) +
                                 ((uint)pvVar29 & 0xff00) ^
                             0x7f76d;
                    uVar12 = 0x9f49bac6 - uVar21 ^ uVar21 << 8;
                    uVar20 = (-0x112410d - uVar21) - uVar12 ^ uVar12 >> 0xd;
                    uVar21 = (uVar21 - uVar12) - uVar20 ^ uVar20 >> 0xc;
                    uVar12 = (uVar12 - uVar20) - uVar21 ^ uVar21 << 0x10;
                    uVar20 = (uVar20 - uVar21) - uVar12 ^ uVar12 >> 5;
                    uVar21 = (uVar21 - uVar12) - uVar20 ^ uVar20 >> 3;
                    uVar12 = (uVar12 - uVar20) - uVar21 ^ uVar21 << 10;
                    uVar12 = (uVar20 - uVar21) - uVar12 ^ uVar12 >> 0xf;
                    if (DAT_001af218 != (int *)0x0) {
                        psVar34 = (size_t *)*DAT_001af218;
                        local_a14 = (void *)*psVar34;
                        iVar4 = *(int *)((int)local_a14 +
                                         (psVar34[1] - 1 & uVar12) * 0xc);
                        if (iVar4 != 0) {
                            local_a10 = (undefined *)psVar34[5];
                            iVar31 = -(int)local_a10;
                            do {
                                pvVar29 = (void *)(iVar4 + iVar31);
                                if (pvVar29 == (void *)0x0)
                                    break;
                                local_a0c = psVar34;
                                if (((uVar12 ==
                                      *(uint *)((int)pvVar29 + 0x1c)) &&
                                     (*(int *)((int)pvVar29 + 0x18) == 4)) &&
                                    (iVar4 =
                                         memcmp(*(void **)((int)pvVar29 + 0x14),
                                                &local_9f8, 4),
                                     iVar4 == 0)) {
                                    iVar4 = *(int *)((int)pvVar29 + 4);
                                    if (iVar4 == 0) {
                                        piVar13 = *(int **)((int)pvVar29 + 8);
                                        if (piVar13 == (int *)0x0)
                                            goto LAB_00062368;
                                        if (pvVar29 ==
                                            (void *)(psVar34[4] + iVar31))
                                            goto LAB_0006238c;
                                    } else {
                                        if (pvVar29 ==
                                            (void *)(psVar34[4] + iVar31)) {
                                        LAB_0006238c:
                                            psVar34[4] =
                                                (size_t)(local_a10 + iVar4);
                                            iVar4 = *(int *)((int)pvVar29 + 4);
                                            if (iVar4 == 0) {
                                                piVar13 =
                                                    *(int **)((int)pvVar29 + 8);
                                                goto LAB_0006176c;
                                            }
                                            psVar34 = (size_t *)*piVar7;
                                        }
                                        *(undefined4 *)(iVar4 + psVar34[5] +
                                                        8) =
                                            *(undefined4 *)((int)pvVar29 + 8);
                                        piVar13 = DAT_001af218;
                                    }
                                LAB_0006176c:
                                    DAT_001af218 = piVar13;
                                    piVar7 = DAT_001af218;
                                    piVar13 = (int *)*DAT_001af218;
                                    if (*(int *)((int)pvVar29 + 8) != 0) {
                                        *(undefined4 *)(*(int *)((int)pvVar29 +
                                                                 8) +
                                                        piVar13[5] + 4) =
                                            *(undefined4 *)((int)pvVar29 + 4);
                                        piVar13 = (int *)*piVar7;
                                    }
                                    iVar4 = (piVar13[1] - 1U &
                                             *(uint *)((int)pvVar29 + 0x1c)) *
                                            0xc;
                                    *(int *)(*piVar13 + iVar4 + 4) =
                                        *(int *)(*piVar13 + iVar4 + 4) + -1;
                                    if (*(void **)(*(int *)*piVar7 + iVar4) ==
                                        pvVar29) {
                                        *(undefined4 *)(*(int *)*piVar7 +
                                                        iVar4) =
                                            *(undefined4 *)((int)pvVar29 +
                                                            0x10);
                                    }
                                    iVar4 = *(int *)((int)pvVar29 + 0x10);
                                    if (*(int *)((int)pvVar29 + 0xc) != 0) {
                                        *(int *)(*(int *)((int)pvVar29 + 0xc) +
                                                 0x10) = iVar4;
                                        iVar4 = *(int *)((int)pvVar29 + 0x10);
                                    }
                                    if (iVar4 != 0) {
                                        *(undefined4 *)(iVar4 + 0xc) =
                                            *(undefined4 *)((int)pvVar29 + 0xc);
                                    }
                                    *(int *)(*piVar7 + 0xc) =
                                        *(int *)(*piVar7 + 0xc) + -1;
                                    goto LAB_00061804;
                                }
                                iVar4 = *(int *)((int)pvVar29 + 0x10);
                            } while (iVar4 != 0);
                        }
                    }
                    iVar4 =
                        pthread_mutex_unlock((pthread_mutex_t *)&DAT_001af200);
                    if (iVar4 != 0)
                        goto LAB_00062324;
                    (*DAT_0009e444)();
                    if (piVar14 == (int *)0x0)
                        goto LAB_0005feb8;
                    ppVar30 = (pthread_mutex_t *)(param_1 + 0x35);
                    iVar4 = pthread_mutex_lock(ppVar30);
                    if (iVar4 == 0) {
                        iVar4 = pthread_rwlock_rdlock(
                            (pthread_rwlock_t *)(param_1 + 0x3b));
                        if (iVar4 != 0) {
                            FUN_000561e4("parse_stratum_response", 0x1c8a);
                            goto LAB_000623d8;
                        }
                        iVar4 = pthread_mutex_unlock(ppVar30);
                        if (iVar4 != 0) {
                            /* WARNING: Subroutine does not return */
                            FUN_00055114("parse_stratum_response", 0x1c8a);
                        }
                        dVar40 = *(double *)(param_1 + 0x1c8);
                        iVar4 = pthread_rwlock_unlock(
                            (pthread_rwlock_t *)(param_1 + 0x3b));
                        if (iVar4 != 0) {
                            /* WARNING: Subroutine does not return */
                            FUN_00055c08("parse_stratum_response", 0x1c8c);
                        }
                        (*DAT_0009e444)();
                        if (*piVar14 == 5) {
                            if (((DAT_00244080 != '\0') ||
                                 (DAT_001aecc4 != '\0')) ||
                                (4 < DAT_0009e320)) {
                                snprintf((char *)&local_830, 0x800,
                                         "Accepted untracked stratum share "
                                         "from pool %d",
                                         *param_1);
                                FUN_00047ab4(5, &local_830, 0);
                            }
                            iVar4 = pthread_mutex_lock(
                                (pthread_mutex_t *)&DAT_00246244);
                            if (iVar4 != 0)
                                goto LAB_00062318;
                            bVar39 = 0xfffffffe < DAT_00245158;
                            DAT_00245158 = DAT_00245158 + 1;
                            DAT_0024515c = DAT_0024515c + (uint)bVar39;
                            uVar12 = param_1[2];
                            DAT_00242ef0 = DAT_00242ef0 + dVar40;
                            *(double *)(param_1 + 0x12) =
                                *(double *)(param_1 + 0x12) + dVar40;
                            param_1[2] = uVar12 + 1;
                            param_1[3] =
                                param_1[3] + (uint)(0xfffffffe < uVar12);
                            iVar4 = pthread_mutex_unlock(
                                (pthread_mutex_t *)&DAT_00246244);
                            if (iVar4 != 0) {
                                /* WARNING: Subroutine does not return */
                                FUN_00055114("parse_stratum_response", 0x1c99);
                            }
                        } else {
                            if (((DAT_00244080 != '\0') ||
                                 (DAT_001aecc4 != '\0')) ||
                                (4 < DAT_0009e320)) {
                                snprintf((char *)&local_830, 0x800,
                                         "Rejected untracked stratum share "
                                         "from pool %d",
                                         *param_1);
                                FUN_00047ab4(5, &local_830, 0);
                            }
                            iVar4 = pthread_mutex_lock(
                                (pthread_mutex_t *)&DAT_00246244);
                            if (iVar4 != 0) {
                                FUN_000550b8("parse_stratum_response", 0x1c9f);
                            LAB_00062318:
                                FUN_000550b8("parse_stratum_response", 0x1c94);
                            LAB_00062324:
                                /* WARNING: Subroutine does not return */
                                FUN_00055114("parse_stratum_response", 0x1c7e);
                            }
                            bVar39 = 0xfffffffe < DAT_00246368;
                            DAT_00246368 = DAT_00246368 + 1;
                            uVar12 = param_1[4];
                            DAT_0024636c = DAT_0024636c + (uint)bVar39;
                            _DAT_00242f10 = _DAT_00242f10 + dVar40;
                            param_1[4] = uVar12 + 1;
                            *(double *)(param_1 + 0x14) =
                                *(double *)(param_1 + 0x14) + dVar40;
                            param_1[5] =
                                param_1[5] + (uint)(0xfffffffe < uVar12);
                            iVar4 = pthread_mutex_unlock(
                                (pthread_mutex_t *)&DAT_00246244);
                            if (iVar4 != 0) {
                                /* WARNING: Subroutine does not return */
                                FUN_00055114("parse_stratum_response", 0x1ca4);
                            }
                        }
                        (*DAT_0009e444)();
                        if (*(int *)((int)pvVar6 + 4) == -1)
                            goto LAB_0005ffe4;
                        goto LAB_0005fec4;
                    }
                LAB_000623d8:
                    FUN_000550b8("parse_stratum_response", 0x1c8a);
                    iVar4 = extraout_r1_00;
                    pbVar37 = extraout_r12;
                LAB_000623e4:
                    iVar31 = *(int *)(*(int *)((int)ppVar30 + 0x44) + 0x14);
                    ppVar32 = ppVar30;
                LAB_00060b04:
                    *(undefined4 *)(iVar4 + iVar31 + 8) =
                        *(undefined4 *)((int)ppVar32 + 0x4c);
                    ppVar30 = ppVar32;
                LAB_00060b14:
                    piVar14 = *(int **)((int)ppVar32 + 0x44);
                    if (*(int *)((int)ppVar30 + 0x4c) != 0) {
                        *(int *)(*(int *)((int)ppVar30 + 0x4c) + piVar14[5] +
                                 4) = ppVar30[3].__data.__lock;
                        piVar14 = *(int **)((int)ppVar32 + 0x44);
                    }
                    uVar12 = piVar14[1] - 1U & ppVar30[4].__data.__lock;
                    iVar4 = *piVar14 + uVar12 * 0xc;
                    *(int *)(iVar4 + 4) = *(int *)(iVar4 + 4) + -1;
                    if (*(byte **)(**(int **)((int)ppVar32 + 0x44) +
                                   uVar12 * 0xc) == pbVar37) {
                        *(undefined4 *)(**(int **)((int)ppVar32 + 0x44) +
                                        uVar12 * 0xc) =
                            *(undefined4 *)((int)ppVar30 + 0x54);
                    }
                    iVar4 = *(int *)((int)ppVar30 + 0x54);
                    if (*(int *)((int)ppVar30 + 0x50) != 0) {
                        *(int *)(*(int *)((int)ppVar30 + 0x50) + 0x10) = iVar4;
                        iVar4 = *(int *)((int)ppVar30 + 0x54);
                    }
                    if (iVar4 != 0) {
                        *(undefined4 *)(iVar4 + 0xc) =
                            *(undefined4 *)((int)ppVar30 + 0x50);
                    }
                    *(int *)(*(int *)((int)ppVar32 + 0x44) + 0xc) =
                        *(int *)(*(int *)((int)ppVar32 + 0x44) + 0xc) + -1;
                LAB_00060ba0:
                    free(ppVar30);
                LAB_00060ba8:
                    sVar9 = strlen(__dest->__size);
                    sVar27 = sVar9;
                    if (sVar9 < 0xc) {
                        uVar20 = 0x9e3779b9;
                        local_a14 = (void *)0xfeedbeef;
                        uVar12 = uVar20;
                        ppVar30 = __dest;
                    } else {
                        uVar20 = 0x9e3779b9;
                        local_a14 = (void *)0xfeedbeef;
                        uVar12 = uVar20;
                        ppVar2 = __dest;
                        do {
                            ppVar30 = (pthread_mutex_t *)(ppVar2->__size + 0xc);
                            sVar27 = sVar27 - 0xc;
                            iVar4 = (uint)(byte)ppVar2->__size[6] * 0x10000 +
                                    (uint)(byte)ppVar2->__size[5] * 0x100 +
                                    (uint)(byte)ppVar2->__size[4] +
                                    (uint)(byte)ppVar2->__size[7] * 0x1000000 +
                                    uVar12;
                            uVar21 =
                                (uint)(byte)ppVar2->__size[10] * 0x10000 +
                                (uint)(byte)ppVar2->__size[9] * 0x100 +
                                (uint)(byte)ppVar2->__size[8] +
                                (uint)(byte)ppVar2->__size[0xb] * 0x1000000 +
                                (int)local_a14;
                            uVar12 =
                                ((((uint)(byte)ppVar2->__size[2] * 0x10000 +
                                   (uint)(byte)ppVar2->__size[1] * 0x100 +
                                   (uint)(byte)ppVar2->__size[0] +
                                   (uint)(byte)ppVar2->__size[3] * 0x1000000) -
                                  iVar4) -
                                 uVar21) +
                                    uVar20 ^
                                uVar21 >> 0xd;
                            uVar20 = (iVar4 - uVar21) - uVar12 ^ uVar12 << 8;
                            uVar22 = (uVar21 - uVar12) - uVar20 ^ uVar20 >> 0xd;
                            uVar12 = (uVar12 - uVar20) - uVar22 ^ uVar22 >> 0xc;
                            uVar21 = (uVar20 - uVar22) - uVar12 ^ uVar12
                                                                      << 0x10;
                            uVar22 = (uVar22 - uVar12) - uVar21 ^ uVar21 >> 5;
                            uVar20 = (uVar12 - uVar21) - uVar22 ^ uVar22 >> 3;
                            uVar12 = (uVar21 - uVar22) - uVar20 ^ uVar20 << 10;
                            local_a14 = (void *)((uVar22 - uVar20) - uVar12 ^
                                                 uVar12 >> 0xf);
                            ppVar2 = ppVar30;
                        } while (0xb < sVar27);
                    }
                    uVar21 = sVar9 + (int)local_a14;
                    switch (sVar27) {
                    case 0xb:
                        uVar21 = uVar21 +
                                 (uint)(byte)ppVar30->__size[10] * 0x1000000;
                    case 10:
                        uVar21 =
                            uVar21 + (uint)(byte)ppVar30->__size[9] * 0x10000;
                    case 9:
                        uVar21 =
                            uVar21 + (uint)(byte)ppVar30->__size[8] * 0x100;
                    case 8:
                        uVar12 =
                            uVar12 + (uint)(byte)ppVar30->__size[7] * 0x1000000;
                    case 7:
                        uVar12 =
                            uVar12 + (uint)(byte)ppVar30->__size[6] * 0x10000;
                    case 6:
                        uVar12 =
                            uVar12 + (uint)(byte)ppVar30->__size[5] * 0x100;
                    case 5:
                        uVar12 = uVar12 + (byte)ppVar30->__size[4];
                    case 4:
                        uVar20 =
                            uVar20 + (uint)(byte)ppVar30->__size[3] * 0x1000000;
                    case 3:
                        uVar20 =
                            uVar20 + (uint)(byte)ppVar30->__size[2] * 0x10000;
                    case 2:
                        uVar20 =
                            uVar20 + (uint)(byte)ppVar30->__size[1] * 0x100;
                    case 1:
                        uVar20 = uVar20 + (byte)ppVar30->__size[0];
                    }
                    *(pthread_mutex_t **)((int)__dest + 0x58) = __dest;
                    uVar20 = (uVar20 - uVar12) - uVar21 ^ uVar21 >> 0xd;
                    uVar12 = (uVar12 - uVar21) - uVar20 ^ uVar20 << 8;
                    uVar21 = (uVar21 - uVar20) - uVar12 ^ uVar12 >> 0xd;
                    uVar20 = (uVar20 - uVar12) - uVar21 ^ uVar21 >> 0xc;
                    uVar12 = (uVar12 - uVar21) - uVar20 ^ uVar20 << 0x10;
                    uVar21 = (uVar21 - uVar20) - uVar12 ^ uVar12 >> 5;
                    uVar20 = (uVar20 - uVar12) - uVar21 ^ uVar21 >> 3;
                    uVar12 = (uVar12 - uVar21) - uVar20 ^ uVar20 << 10;
                    uVar12 = (uVar21 - uVar20) - uVar12 ^ uVar12 >> 0xf;
                    __dest[4].__data.__lock = uVar12;
                    sVar27 = strlen(__dest->__size);
                    *(size_t *)((int)__dest + 0x5c) = sVar27;
                    if (ppVar32 == (pthread_mutex_t *)0x0) {
                        pbVar37 = (byte *)((int)__dest + 0x4c);
                        pbVar37[0] = 0;
                        pbVar37[1] = 0;
                        pbVar37[2] = 0;
                        pbVar37[3] = 0;
                        __dest[3].__data.__lock = 0;
                        *(pthread_mutex_t **)(local_a10 + -0x548) = __dest;
                        pvVar29 = malloc(0x2c);
                        *(void **)((int)__dest + 0x44) = pvVar29;
                        if (pvVar29 == (void *)0x0)
                            goto LAB_00062074;
                        memset(pvVar29, 0, 0x2c);
                        *(byte **)(*(int *)((int)__dest + 0x44) + 0x10) =
                            (byte *)((int)__dest + 0x44);
                        *(undefined4 *)(*(int *)((int)__dest + 0x44) + 4) =
                            0x20;
                        *(undefined4 *)(*(int *)((int)__dest + 0x44) + 8) = 5;
                        *(undefined4 *)(*(int *)((int)__dest + 0x44) + 0x14) =
                            0x44;
                        puVar16 = *(undefined4 **)((int)__dest + 0x44);
                        pvVar29 = malloc(0x180);
                        *puVar16 = pvVar29;
                        if ((void *)**(undefined4 **)((int)__dest + 0x44) ==
                            (void *)0x0)
                            goto LAB_00062074;
                        memset((void *)**(undefined4 **)((int)__dest + 0x44), 0,
                               0x180);
                        *(undefined4 *)(*(int *)((int)__dest + 0x44) + 0x28) =
                            0xa0111fe1;
                        ppVar32 = __dest;
                    } else {
                        uVar26 = *(undefined4 *)((int)ppVar32 + 0x44);
                        pbVar37 = (byte *)((int)__dest + 0x4c);
                        pbVar37[0] = 0;
                        pbVar37[1] = 0;
                        pbVar37[2] = 0;
                        pbVar37[3] = 0;
                        *(undefined4 *)((int)__dest + 0x44) = uVar26;
                        __dest[3].__data.__lock =
                            *(int *)(*(int *)((int)ppVar32 + 0x44) + 0x10) -
                            *(int *)(*(int *)((int)ppVar32 + 0x44) + 0x14);
                        *(pthread_mutex_t **)(*(int *)(*(int *)((int)ppVar32 +
                                                                0x44) +
                                                       0x10) +
                                              8) = __dest;
                        *(byte **)(*(int *)((int)ppVar32 + 0x44) + 0x10) =
                            (byte *)((int)__dest + 0x44);
                    }
                    *(int *)(*(int *)((int)ppVar32 + 0x44) + 0xc) =
                        *(int *)(*(int *)((int)ppVar32 + 0x44) + 0xc) + 1;
                    uVar12 = uVar12 & (*(int **)((int)ppVar32 + 0x44))[1] - 1U;
                    iVar4 = uVar12 * 0xc;
                    iVar31 = **(int **)((int)ppVar32 + 0x44) + iVar4;
                    *(int *)(iVar31 + 4) = *(int *)(iVar31 + 4) + 1;
                    uVar26 = *(undefined4 *)(**(int **)((int)ppVar32 + 0x44) +
                                             uVar12 * 0xc);
                    pbVar37 = (byte *)((int)__dest + 0x50);
                    pbVar37[0] = 0;
                    pbVar37[1] = 0;
                    pbVar37[2] = 0;
                    pbVar37[3] = 0;
                    *(undefined4 *)((int)__dest + 0x54) = uVar26;
                    iVar8 = **(int **)((int)ppVar32 + 0x44);
                    iVar31 = *(int *)(iVar8 + uVar12 * 0xc);
                    if (iVar31 != 0) {
                        *(byte **)(iVar31 + 0xc) = (byte *)((int)__dest + 0x44);
                        iVar8 = **(int **)((int)ppVar32 + 0x44);
                    }
                    *(byte **)(iVar8 + iVar4) = (byte *)((int)__dest + 0x44);
                    iVar4 = **(int **)((int)ppVar32 + 0x44) + iVar4;
                    if (((uint)((*(int *)(iVar4 + 8) + 1) * 10) <=
                         *(uint *)(iVar4 + 4)) &&
                        (*(int *)(*(int *)((int)__dest + 0x44) + 0x24) != 1)) {
                        pvVar29 = calloc(
                            *(int *)(*(int *)((int)__dest + 0x44) + 4) * 0x18,
                            1);
                        if (pvVar29 == (void *)0x0) {
                        LAB_00062074:
                            /* WARNING: Subroutine does not return */
                            exit(-1);
                        }
                        iVar4 = *(int *)((int)__dest + 0x44);
                        *(uint *)(iVar4 + 0x18) =
                            (uint)((*(int *)(iVar4 + 4) * 2 - 1U &
                                    *(uint *)(iVar4 + 0xc)) != 0) +
                            (*(uint *)(iVar4 + 0xc) >>
                             (*(int *)(iVar4 + 8) + 1U & 0xff));
                        *(undefined4 *)(*(int *)((int)__dest + 0x44) + 0x1c) =
                            0;
                        piVar14 = *(int **)((int)__dest + 0x44);
                        uVar12 = piVar14[1];
                        if (uVar12 != 0) {
                            local_a14 = (void *)0x0;
                            local_a08 = 0;
                            do {
                                iVar4 = *(int *)(*piVar14 + (int)local_a14);
                                if (*(int *)(*piVar14 + (int)local_a14) != 0) {
                                    while (true) {
                                        iVar8 = *(int *)(iVar4 + 0x10);
                                        uVar20 = uVar12 * 2 - 1 &
                                                 *(uint *)(iVar4 + 0x1c);
                                        uVar12 = *(int *)((int)pvVar29 +
                                                          uVar20 * 0xc + 4) +
                                                 1;
                                        *(uint *)((int)pvVar29 + uVar20 * 0xc +
                                                  4) = uVar12;
                                        iVar31 = *(int *)((int)__dest + 0x44);
                                        if (*(uint *)(iVar31 + 0x18) < uVar12) {
                                            *(int *)(iVar31 + 0x1c) =
                                                *(int *)(iVar31 + 0x1c) + 1;
                                            uVar26 = FUN_00077070(
                                                *(undefined4 *)((int)pvVar29 +
                                                                uVar20 * 0xc +
                                                                4),
                                                *(undefined4
                                                      *)(*(int *)((int)__dest +
                                                                  0x44) +
                                                         0x18));
                                            *(undefined4 *)((int)pvVar29 +
                                                            uVar20 * 0xc + 8) =
                                                uVar26;
                                        }
                                        *(undefined4 *)(iVar4 + 0xc) = 0;
                                        *(undefined4 *)(iVar4 + 0x10) =
                                            *(undefined4 *)((int)pvVar29 +
                                                            uVar20 * 0xc);
                                        iVar31 = *(int *)((int)pvVar29 +
                                                          uVar20 * 0xc);
                                        if (iVar31 != 0) {
                                            *(int *)(iVar31 + 0xc) = iVar4;
                                        }
                                        *(int *)((int)pvVar29 + uVar20 * 0xc) =
                                            iVar4;
                                        if (iVar8 == 0)
                                            break;
                                        uVar12 =
                                            *(uint *)(*(int *)((int)__dest +
                                                               0x44) +
                                                      4);
                                        iVar4 = iVar8;
                                    }
                                    piVar14 = *(int **)((int)__dest + 0x44);
                                    uVar12 = piVar14[1];
                                }
                                local_a08 = local_a08 + 1;
                                local_a14 = (void *)((int)local_a14 + 0xc);
                            } while (local_a08 < uVar12);
                        }
                        free((void *)*piVar14);
                        *(int *)(*(int *)((int)__dest + 0x44) + 4) =
                            *(int *)(*(int *)((int)__dest + 0x44) + 4) << 1;
                        *(int *)(*(int *)((int)__dest + 0x44) + 8) =
                            *(int *)(*(int *)((int)__dest + 0x44) + 8) + 1;
                        **(undefined4 **)((int)__dest + 0x44) = pvVar29;
                        iVar4 = *(int *)((int)__dest + 0x44);
                        if (*(uint *)(iVar4 + 0xc) >> 1 <
                            *(uint *)(iVar4 + 0x1c)) {
                            iVar31 = *(int *)(iVar4 + 0x20) + 1;
                        } else {
                            iVar31 = 0;
                        }
                        *(int *)(iVar4 + 0x20) = iVar31;
                        if (1 <
                            *(uint *)(*(int *)((int)__dest + 0x44) + 0x20)) {
                            *(undefined4 *)(*(int *)((int)__dest + 0x44) +
                                            0x24) = 1;
                        }
                    }
                    uVar20 = *(uint *)((int)pvVar6 + 0x48);
                    uVar12 = (0x1d - (uint) * (byte *)((int)pvVar6 + 0x48)) * 8;
                    if ((int)uVar12 < 8) {
                        uVar12 = 8;
                    }
                    dVar40 = (double)FUN_000778a4(
                        0xffff << (uVar12 & 0xff),
                        0xffff << (uVar12 - 0x20 & 0xff) |
                            0xffffU >> (0x20 - uVar12 & 0xff));
                    dVar40 =
                        dVar40 /
                        (double)(longlong)(int)((uVar20 >> 8 & 0xff) << 0x10 |
                                                (uVar20 >> 0x10 & 0xff) << 8 |
                                                uVar20 >> 0x18);
                    if (dVar40 != DAT_0009ed90) {
                        uVar41 = FUN_00077970(SUB84(dVar40, 0),
                                              (int)((ulonglong)dVar40 >> 0x20));
                        FUN_00051b18((int)uVar41,
                                     (int)((ulonglong)uVar41 >> 0x20),
                                     &DAT_001b077c, 8, 0);
                        DAT_0009ed90 = dVar40;
                        if (((DAT_00244080 != '\0') ||
                             (DAT_001aecc4 != '\0')) ||
                            (4 < DAT_0009e320)) {
                            snprintf((char *)&local_830, 0x800,
                                     "Network diff set to %s", &DAT_001b077c);
                            FUN_00047ab4(5, &local_830, 0);
                        }
                    }
                    if (((local_a0c != (size_t *)0x0) && (DAT_001aecc5 != 0)) &&
                        ((DAT_00244080 != '\0' ||
                          ((DAT_001aecc4 != '\0' || (6 < DAT_0009e320)))))) {
                        snprintf((char *)&local_830, 0x800,
                                 "Deleted block %d from database", local_a0c);
                        FUN_00047ab4(7, &local_830, 0);
                    }
                    iVar4 = pthread_rwlock_unlock(
                        (pthread_rwlock_t *)&DAT_001b0758);
                    if (iVar4 != 0) {
                    LAB_00061ef4:
                        piVar14 = __errno_location();
                        snprintf((char *)&local_830, 0x800,
                                 "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s "
                                 "%s():%d",
                                 *piVar14, "cgminer.c", "block_exists", 0x15e8);
                        goto LAB_00060758;
                    }
                    (*DAT_0009e444)();
                    iVar4 =
                        pthread_mutex_lock((pthread_mutex_t *)&DAT_00244084);
                    if (iVar4 == 0) {
                        iVar4 = pthread_rwlock_wrlock(
                            (pthread_rwlock_t *)&DAT_0024409c);
                        if (iVar4 == 0) {
                            FUN_0004a60c(&DAT_00245170);
                            strcpy(&DAT_00242ea4, (char *)local_92c);
                            FUN_0004c150(&DAT_001b0784, local_9cc, 0x20,
                                         "cgminer.c", "set_curblock", 0x158e);
                            local_830 = DAT_00245170;
                            iVar4 = DAT_00245174 / 1000;
                            ptVar10 = localtime(&local_830);
                            puVar38 = (undefined *)ptVar10->tm_min;
                            snprintf(&DAT_001b07a4, 0x20,
                                     "[%02d:%02d:%02d.%03d]", ptVar10->tm_hour,
                                     puVar38, ptVar10->tm_sec, iVar4);
                            iVar4 = pthread_rwlock_unlock(
                                (pthread_rwlock_t *)&DAT_0024409c);
                            if (iVar4 == 0) {
                                iVar4 = pthread_mutex_unlock(
                                    (pthread_mutex_t *)&DAT_00244084);
                                if (iVar4 == 0) {
                                    (*DAT_0009e444)();
                                    iVar4 = 0;
                                    pcVar18 = &DAT_00242ea4;
                                    do {
                                        if (*pcVar18 != '0')
                                            break;
                                        iVar4 = iVar4 + 1;
                                        pcVar18 = pcVar18 + 1;
                                    } while (iVar4 != 0x39);
                                    strncpy(&DAT_001b07c4,
                                            &DAT_00242ea4 + iVar4, 8);
                                    bVar39 = DAT_00244080 != '\0';
                                    local_a10[-0x4f4] = 0;
                                    if (((bVar39) || (DAT_001aecc4 != '\0')) ||
                                        (5 < DAT_0009e320)) {
                                        puVar38 = &DAT_001b077c;
                                        snprintf((char *)&local_830, 0x800,
                                                 "New block: %s... diff %s",
                                                 &DAT_00242ea4, &DAT_001b077c);
                                        FUN_00047ab4(6, &local_830, 0);
                                    }
                                    if (((local_a0c != (size_t *)0x0) &&
                                         (DAT_001aecc5 != 0)) &&
                                        ((DAT_00244080 != '\0' ||
                                          ((DAT_001aecc4 != '\0' ||
                                            (6 < DAT_0009e320)))))) {
                                        snprintf(
                                            (char *)&local_830, 0x800,
                                            "Deleted block %d from database",
                                            local_a0c, puVar38);
                                        FUN_00047ab4(7, &local_830, 0);
                                    }
                                    FUN_0004c150(local_a38 + 0x88, local_9cc,
                                                 0x20, "cgminer.c",
                                                 "test_work_current", 0x1621);
                                    local_a14 = (void *)0x0;
                                    if (*local_a04 != 1) {
                                        DAT_001af224 = DAT_001af224 + 1;
                                        *(int *)((int)pvVar6 + 0x150) =
                                            DAT_001af224;
                                        if (*(char *)((int)pvVar6 + 0x118) ==
                                            '\0') {
                                            if (DAT_00244082 == '\0') {
                                                if (((char)local_a38[0xe1] ==
                                                     '\0') &&
                                                    (((DAT_00244080 != '\0' ||
                                                       (DAT_001aecc4 !=
                                                        '\0')) ||
                                                      (4 < DAT_0009e320)))) {
                                                    local_830._0_1_ = 'N';
                                                    local_830._1_1_ = 'e';
                                                    local_830._2_1_ = 'w';
                                                    local_830._3_1_ = ' ';
                                                    builtin_strncpy(
                                                        acStack_82c,
                                                        "block detect", 0xc);
                                                    local_820._0_1_ = 'e';
                                                    local_820._1_1_ = 'd';
                                                    local_820._2_1_ = ' ';
                                                    local_820._3_1_ = 'o';
                                                    builtin_strncpy(acStack_81c,
                                                                    "n networ",
                                                                    8);
                                                    local_814._0_2_ = 0x6b;
                                                    FUN_00047ab4(5, &local_830,
                                                                 0);
                                                }
                                            } else if (((char)local_a38[0xe1] ==
                                                        '\0') &&
                                                       (((DAT_00244080 !=
                                                              '\0' ||
                                                          (DAT_001aecc4 !=
                                                           '\0')) ||
                                                         (4 < DAT_0009e320)))) {
                                                local_830._0_1_ = 'N';
                                                local_830._1_1_ = 'e';
                                                local_830._2_1_ = 'w';
                                                local_830._3_1_ = ' ';
                                                builtin_strncpy(acStack_82c,
                                                                "block detect",
                                                                0xc);
                                                local_820._0_1_ = 'e';
                                                local_820._1_1_ = 'd';
                                                local_820._2_1_ = ' ';
                                                local_820._3_1_ = 'o';
                                                builtin_strncpy(acStack_81c,
                                                                "n networ", 8);
                                                local_814._0_1_ = 'k';
                                                local_814._1_1_ = ' ';
                                                local_814._2_1_ = 'b';
                                                local_814._3_1_ = 'e';
                                                builtin_strncpy(
                                                    local_810,
                                                    "fore pool notificati",
                                                    0x14);
                                                uStack_7fc = 0x6e6f;
                                                local_7fa = 0;
                                                FUN_00047ab4(5, &local_830, 0);
                                            }
                                        } else if (*(char *)((int)pvVar6 +
                                                             0x11c) == '\0') {
                                            if (((DAT_00244080 != '\0') ||
                                                 (DAT_001aecc4 != '\0')) ||
                                                (4 < DAT_0009e320)) {
                                                iVar4 = **(int **)((int)pvVar6 +
                                                                   0x104);
                                                __format =
                                                    "%sLONGPOLL from pool %d "
                                                    "detected new block";
                                                pcVar18 = "";
                                                if (*(char *)((int)pvVar6 +
                                                              0x144) != '\0') {
                                                    pcVar18 = "GBT ";
                                                }
                                                goto LAB_00061580;
                                            }
                                        } else if (((DAT_00244080 != '\0') ||
                                                    (DAT_001aecc4 != '\0')) ||
                                                   (4 < DAT_0009e320)) {
                                            __format =
                                                "Stratum from pool %d detected "
                                                "new block at height %d";
                                            pcVar18 = (char *)*local_a38;
                                            iVar4 = local_9dc[0];
                                        LAB_00061580:
                                            snprintf((char *)&local_830, 0x800,
                                                     __format, pcVar18, iVar4);
                                            FUN_00047ab4(5, &local_830, 0);
                                        }
                                    LAB_00060708:
                                        FUN_00054fc0();
                                    }
                                LAB_0006070c:
                                    *(undefined1 *)((int)pvVar6 + 0x118) = 0;
                                    goto LAB_0005ff40;
                                }
                                piVar14 = __errno_location();
                                pcVar5 = "WTF MUTEX ERROR ON UNLOCK! errno=%d "
                                         "in %s %s():%d";
                            } else {
                                piVar14 = __errno_location();
                                pcVar5 = "WTF RWLOCK ERROR ON UNLOCK! errno=%d "
                                         "in %s %s():%d";
                            }
                            snprintf((char *)&local_830, 0x800, pcVar5,
                                     *piVar14, "cgminer.c", "set_curblock",
                                     0x1590);
                            goto LAB_00060758;
                        }
                        piVar14 = __errno_location();
                        pcVar5 =
                            "WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d";
                    } else {
                        piVar14 = __errno_location();
                        pcVar5 =
                            "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d";
                    }
                    snprintf((char *)&local_830, 0x800, pcVar5, *piVar14,
                             "cgminer.c", "set_curblock", 0x158b);
                    goto LAB_00060758;
                }
                if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                    (5 < DAT_0009e320)) {
                    snprintf((char *)&local_830, 0x800,
                             "JSON decode failed(%d): %s", local_92c[0],
                             auStack_8d0);
                    FUN_00047ab4(6, &local_830, 0);
                }
            LAB_0005ffe4:
                iVar4 = FUN_0004ac60(param_1, pcVar5);
                if (iVar4 != 0)
                    goto LAB_0005fc00;
                if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                    (5 < DAT_0009e320)) {
                    snprintf((char *)&local_830, 0x800,
                             "Unknown stratum msg: %s", pcVar5);
                    FUN_00047ab4(6, &local_830, 0);
                }
            } else {
            LAB_0005fc00:
                if (*(char *)(param_1 + 0xaa) != '\0') {
                    local_9f8 = (void *)FUN_00055e38();
                    *(undefined1 *)(param_1 + 0xaa) = 0;
                    FUN_0005a7e8(param_1, local_9f8);
                    pvVar6 = local_9f8;
                    local_a38 = *(int **)((int)local_9f8 + 0x104);
                    *(undefined1 *)((int)local_9f8 + 0x118) = 1;
                    iVar4 = local_a38[0x188];
                    bVar19 = *(byte *)(iVar4 + 0x2a);
                    local_9dc[0] = 0;
                    if (*(char *)((int)local_9f8 + 0x11a) == '\0') {
                        local_9cc[0] = *(uint *)((int)local_9f8 + 0x20);
                        local_9cc[1] = *(uint *)((int)local_9f8 + 0x1c);
                        local_9cc[2] = *(uint *)((int)local_9f8 + 0x18);
                        local_9cc[3] = *(uint *)((int)local_9f8 + 0x14);
                        local_9bc = *(uint *)((int)local_9f8 + 0x10);
                        local_9b8 = *(uint *)((int)local_9f8 + 0xc);
                        local_9b4 = *(uint *)((int)local_9f8 + 8);
                        local_9b0 = *(uint *)((int)local_9f8 + 4);
                        FUN_0004981c(local_92c, local_9cc, 0x20);
                        if (bVar19 < 5) {
                            FUN_0004c150(local_9dc, iVar4 + 0x2b, bVar19,
                                         "cgminer.c", "test_work_current",
                                         0x160c);
                            local_9dc[0] = local_9dc[0] + -1;
                        }
                        iVar4 = pthread_mutex_lock(
                            (pthread_mutex_t *)(local_a38 + 0x35));
                        if (iVar4 != 0) {
                            piVar14 = __errno_location();
                            pcVar5 = "test_work_current";
                            iVar4 = *piVar14;
                            uVar26 = 0x1611;
                            goto LAB_00060738;
                        }
                        iVar4 = pthread_rwlock_wrlock(
                            (pthread_rwlock_t *)(local_a38 + 0x3b));
                        if (iVar4 == 0) {
                            if ((char)local_a38[0xaa] != '\0') {
                                *(undefined1 *)(local_a38 + 0xaa) = 0;
                                *(undefined1 *)((int)pvVar6 + 0x118) = 1;
                            }
                            iVar4 = pthread_rwlock_unlock(
                                (pthread_rwlock_t *)(local_a38 + 0x3b));
                            if (iVar4 != 0) {
                                piVar14 = __errno_location();
                                pcVar5 = "test_work_current";
                                iVar4 = *piVar14;
                                uVar26 = 0x1619;
                                goto LAB_000607e8;
                            }
                            iVar4 = pthread_mutex_unlock(
                                (pthread_mutex_t *)(local_a38 + 0x35));
                            if (iVar4 != 0) {
                                piVar14 = __errno_location();
                                pcVar5 = "test_work_current";
                                iVar4 = *piVar14;
                                uVar26 = 0x1619;
                                goto LAB_000607b8;
                            }
                            (*DAT_0009e444)();
                            iVar4 = pthread_rwlock_wrlock(
                                (pthread_rwlock_t *)&DAT_001b0758);
                            if (iVar4 == 0) {
                                local_a14 = (void *)strlen((char *)local_92c);
                                pvVar29 = local_a14;
                                if (local_a14 < (void *)0xc) {
                                    uVar21 = 0x9e3779b9;
                                    pbVar37 = (byte *)local_92c;
                                    uVar12 = local_a34;
                                    uVar20 = uVar21;
                                } else {
                                    uVar21 = 0x9e3779b9;
                                    uVar12 = local_a34;
                                    uVar20 = uVar21;
                                    pbVar3 = local_920;
                                    do {
                                        pbVar37 = pbVar3;
                                        pvVar29 = (void *)((int)pvVar29 - 0xc);
                                        iVar4 = (uint)pbVar37[-6] * 0x10000 +
                                                (uint)pbVar37[-7] * 0x100 +
                                                (uint)pbVar37[-8] +
                                                (uint)pbVar37[-5] * 0x1000000 +
                                                uVar21;
                                        uVar12 = (uint)pbVar37[-2] * 0x10000 +
                                                 (uint)pbVar37[-3] * 0x100 +
                                                 (uint)pbVar37[-4] +
                                                 (uint)pbVar37[-1] * 0x1000000 +
                                                 uVar12;
                                        uVar22 =
                                            ((((uint)pbVar37[-10] * 0x10000 +
                                               (uint)pbVar37[-0xb] * 0x100 +
                                               (uint)pbVar37[-0xc] +
                                               (uint)pbVar37[-9] * 0x1000000) -
                                              iVar4) -
                                             uVar12) +
                                                uVar20 ^
                                            uVar12 >> 0xd;
                                        uVar20 = (iVar4 - uVar12) - uVar22 ^
                                                 uVar22 << 8;
                                        uVar21 = (uVar12 - uVar22) - uVar20 ^
                                                 uVar20 >> 0xd;
                                        uVar22 = (uVar22 - uVar20) - uVar21 ^
                                                 uVar21 >> 0xc;
                                        uVar12 = (uVar20 - uVar21) - uVar22 ^
                                                 uVar22 << 0x10;
                                        uVar23 = (uVar21 - uVar22) - uVar12 ^
                                                 uVar12 >> 5;
                                        uVar20 = (uVar22 - uVar12) - uVar23 ^
                                                 uVar23 >> 3;
                                        uVar21 = (uVar12 - uVar23) - uVar20 ^
                                                 uVar20 << 10;
                                        uVar12 = (uVar23 - uVar20) - uVar21 ^
                                                 uVar21 >> 0xf;
                                        pbVar3 = pbVar37 + 0xc;
                                    } while ((void *)0xb < pvVar29);
                                }
                                uVar12 = (int)local_a14 + uVar12;
                                switch (pvVar29) {
                                case (void *)0xb:
                                    uVar12 =
                                        uVar12 + (uint)pbVar37[10] * 0x1000000;
                                case (void *)0xa:
                                    uVar12 =
                                        uVar12 + (uint)pbVar37[9] * 0x10000;
                                case (void *)0x9:
                                    uVar12 = uVar12 + (uint)pbVar37[8] * 0x100;
                                case (void *)0x8:
                                    uVar21 =
                                        uVar21 + (uint)pbVar37[7] * 0x1000000;
                                case (void *)0x7:
                                    uVar21 =
                                        uVar21 + (uint)pbVar37[6] * 0x10000;
                                case (void *)0x6:
                                    uVar21 = uVar21 + (uint)pbVar37[5] * 0x100;
                                case (void *)0x5:
                                    uVar21 = uVar21 + pbVar37[4];
                                case (void *)0x4:
                                    uVar20 =
                                        uVar20 + (uint)pbVar37[3] * 0x1000000;
                                case (void *)0x3:
                                    uVar20 =
                                        uVar20 + (uint)pbVar37[2] * 0x10000;
                                case (void *)0x2:
                                    uVar20 = uVar20 + (uint)pbVar37[1] * 0x100;
                                case (void *)0x1:
                                    uVar20 = uVar20 + *pbVar37;
                                }
                                uVar20 =
                                    (uVar20 - uVar21) - uVar12 ^ uVar12 >> 0xd;
                                local_a10 = &DAT_001b0cc0;
                                uVar21 = (uVar21 - uVar12) - uVar20 ^ uVar20
                                                                          << 8;
                                uVar12 =
                                    (uVar12 - uVar20) - uVar21 ^ uVar21 >> 0xd;
                                uVar20 =
                                    (uVar20 - uVar21) - uVar12 ^ uVar12 >> 0xc;
                                uVar22 =
                                    (uVar21 - uVar12) - uVar20 ^ uVar20 << 0x10;
                                uVar21 =
                                    (uVar12 - uVar20) - uVar22 ^ uVar22 >> 5;
                                uVar12 =
                                    (uVar20 - uVar22) - uVar21 ^ uVar21 >> 3;
                                uVar20 = (uVar22 - uVar21) - uVar12 ^ uVar12
                                                                          << 10;
                                uVar12 =
                                    (uVar21 - uVar12) - uVar20 ^ uVar20 >> 0xf;
                                local_a0c = (size_t *)0x0;
                                if (DAT_001b0778 != (pthread_mutex_t *)0x0) {
                                    piVar14 =
                                        *(int **)((int)DAT_001b0778 + 0x44);
                                    iVar4 =
                                        *(int *)(*piVar14 +
                                                 (piVar14[1] - 1U & uVar12) *
                                                     0xc);
                                    if (iVar4 != 0) {
                                        iVar31 = piVar14[5];
                                        do {
                                            iVar4 = iVar4 - iVar31;
                                            if (iVar4 == 0)
                                                break;
                                            if (((uVar12 ==
                                                  *(uint *)(iVar4 + 0x60)) &&
                                                 (local_a14 ==
                                                  *(void **)(iVar4 + 0x5c))) &&
                                                (iVar8 = memcmp(
                                                     *(void **)(iVar4 + 0x58),
                                                     local_92c,
                                                     (size_t)local_a14),
                                                 iVar8 == 0)) {
                                                iVar4 = pthread_rwlock_unlock(
                                                    (pthread_rwlock_t
                                                         *)&DAT_001b0758);
                                                if (iVar4 != 0)
                                                    goto LAB_00061ef4;
                                                (*DAT_0009e444)();
                                                iVar4 = memcmp(local_a38 + 0x88,
                                                               local_9cc, 0x20);
                                                if (iVar4 != 0) {
                                                    iVar4 = memcmp(
                                                        local_9cc,
                                                        &DAT_001b0784, 0x20);
                                                    if (iVar4 == 0) {
                                                        if (((DAT_00244080 !=
                                                              '\0') ||
                                                             (DAT_001aecc4 !=
                                                              '\0')) ||
                                                            (5 <
                                                             DAT_0009e320)) {
                                                            snprintf(
                                                                (char
                                                                     *)&local_830,
                                                                0x800,
                                                                "Pool %d now "
                                                                "up to date at "
                                                                "height %d",
                                                                *local_a38,
                                                                local_9dc[0]);
                                                            FUN_00047ab4(
                                                                6, &local_830,
                                                                0);
                                                        }
                                                        FUN_0004c150(
                                                            local_a38 + 0x88,
                                                            local_9cc, 0x20,
                                                            "cgminer.c",
                                                            "test_work_current",
                                                            0x1653);
                                                    } else if (
                                                        (DAT_001aecc5 != 0) &&
                                                        (((DAT_00244080 !=
                                                               '\0' ||
                                                           (DAT_001aecc4 !=
                                                            '\0')) ||
                                                          (6 <
                                                           DAT_0009e320)))) {
                                                        snprintf(
                                                            (char *)&local_830,
                                                            0x800,
                                                            "Stale data from "
                                                            "pool %d at height "
                                                            "%d",
                                                            *local_a38,
                                                            local_9dc[0]);
                                                        FUN_00047ab4(
                                                            7, &local_830, 0);
                                                    }
                                                }
                                                if (*(char *)((int)pvVar6 +
                                                              0x118) == '\0')
                                                    goto LAB_0006070c;
                                                uVar12 = DAT_001aeeb8 - 3;
                                                DAT_001af224 = DAT_001af224 + 1;
                                                *(int *)((int)pvVar6 + 0x150) =
                                                    DAT_001af224;
                                                if ((1 < uVar12) &&
                                                    (iVar31 =
                                                         *(int *)((int)pvVar6 +
                                                                  0x104),
                                                     iVar4 = FUN_00058084(),
                                                     iVar31 != iVar4))
                                                    goto LAB_0006070c;
                                                if (*(char *)((int)pvVar6 +
                                                              0x11c) != '\0') {
                                                    if (((DAT_00244080 !=
                                                          '\0') ||
                                                         (DAT_001aecc4 !=
                                                          '\0')) ||
                                                        (4 < DAT_0009e320)) {
                                                        snprintf(
                                                            (char *)&local_830,
                                                            0x800,
                                                            "Stratum from pool "
                                                            "%d requested work "
                                                            "restart",
                                                            *local_a38);
                                                        FUN_00047ab4(
                                                            5, &local_830, 0);
                                                    }
                                                    goto LAB_00060708;
                                                }
                                                if (((DAT_00244080 == '\0') &&
                                                     (DAT_001aecc4 == '\0')) &&
                                                    (DAT_0009e320 < 5))
                                                    goto LAB_00060708;
                                                pcVar18 = "";
                                                if (*(char *)((int)pvVar6 +
                                                              0x144) != '\0') {
                                                    pcVar18 = "GBT ";
                                                }
                                                __format =
                                                    "%sLONGPOLL from pool %d "
                                                    "requested work restart";
                                                iVar4 = **(int **)((int)pvVar6 +
                                                                   0x104);
                                                goto LAB_00061580;
                                            }
                                            iVar4 = *(int *)(iVar4 + 0x54);
                                        } while (iVar4 != 0);
                                    }
                                }
                                __dest = (pthread_mutex_t *)FUN_000496ac(
                                    0x68, 1, "cgminer.c", "block_exists",
                                    0x15c6);
                                if (__dest == (pthread_mutex_t *)0x0) {
                                    local_830._0_1_ = 'b';
                                    local_830._1_1_ = 'l';
                                    local_830._2_1_ = 'o';
                                    local_830._3_1_ = 'c';
                                    builtin_strncpy(acStack_82c, "k_exists OOM",
                                                    0xc);
                                    local_820 = local_820 & 0xffffff00;
                                    FUN_00047ab4(3, &local_830, 1);
                                    /* WARNING: Subroutine does not return */
                                    FUN_00054ccc(1);
                                }
                                strcpy(__dest->__size, (char *)local_92c);
                                ppVar32 = DAT_001b0778;
                                local_a04 = &DAT_0024625c;
                                bVar39 = DAT_001b0778 != (pthread_mutex_t *)0x0;
                                *(int *)((int)__dest + 100) = DAT_0024625c;
                                DAT_0024625c = DAT_0024625c + 1;
                                if ((bVar39) &&
                                    (3 <
                                     *(uint *)(*(int *)((int)ppVar32 + 0x44) +
                                               0xc))) {
                                    iVar4 = 1;
                                    iVar31 = (int)ppVar32 + 0x44;
                                LAB_000608f0:
                                    iVar28 = 0;
                                    iVar8 = 0;
                                    uVar12 = 0;
                                LAB_00060900:
                                    uVar12 = uVar12 + 1;
                                    iVar36 = iVar4;
                                    if (iVar4 == 0) {
                                        iVar15 = 0;
                                        iVar24 = iVar31;
                                    } else {
                                        iVar24 = *(int *)(iVar31 + 8);
                                        if (iVar24 != 0) {
                                            iVar35 =
                                                *(int *)(*(int *)((int)ppVar32 +
                                                                  0x44) +
                                                         0x14);
                                            iVar24 = iVar24 + iVar35;
                                            if (iVar24 != 0) {
                                                iVar15 = 1;
                                                while (iVar36 = iVar15,
                                                       iVar15 != iVar4) {
                                                    iVar24 =
                                                        *(int *)(iVar24 + 8);
                                                    iVar15 = iVar15 + 1;
                                                    iVar36 = iVar4;
                                                    if ((iVar24 == 0) ||
                                                        (iVar24 =
                                                             iVar24 + iVar35,
                                                         iVar24 == 0))
                                                        break;
                                                }
                                                goto LAB_0006095c;
                                            }
                                        }
                                        iVar15 = 1;
                                    }
                                LAB_0006095c:
                                    do {
                                        iVar35 = iVar8;
                                        if (iVar15 != 0)
                                            goto LAB_000609dc;
                                    LAB_00060964:
                                        if (iVar36 == 0 || iVar24 == 0) {
                                            iVar31 = iVar24;
                                            if (iVar24 != 0)
                                                goto LAB_00060900;
                                            if (iVar8 != 0) {
                                                *(undefined4 *)(iVar8 + 8) = 0;
                                            }
                                            if ((1 < uVar12) &&
                                                (iVar4 = iVar4 << 1,
                                                 iVar8 = iVar28,
                                                 iVar31 = iVar28, iVar28 != 0))
                                                goto LAB_000608f0;
                                            *(int *)(*(int *)((int)ppVar32 +
                                                              0x44) +
                                                     0x10) = iVar8;
                                            ppVar30 =
                                                (pthread_mutex_t
                                                     *)(iVar28 -
                                                        *(int *)(*(int *)((int)
                                                                              ppVar32 +
                                                                          0x44) +
                                                                 0x14));
                                            iVar4 = ppVar30[3].__data.__lock;
                                            local_a0c = *(
                                                size_t **)((int)ppVar30 + 100);
                                            DAT_001b0778 = ppVar30;
                                            if (iVar4 == 0) {
                                                ppVar32 = *(
                                                    pthread_mutex_t *
                                                        *)((int)ppVar30 + 0x4c);
                                                puVar16 = *(
                                                    undefined4 **)((int)
                                                                       ppVar30 +
                                                                   0x44);
                                                if (ppVar32 ==
                                                    (pthread_mutex_t *)0x0) {
                                                    free((void *)*puVar16);
                                                    free(*(
                                                        void **)((int)ppVar30 +
                                                                 0x44));
                                                    DAT_001b0778 =
                                                        (pthread_mutex_t *)0x0;
                                                    goto LAB_00060ba0;
                                                }
                                                iVar31 = puVar16[5];
                                                if (ppVar30 ==
                                                    (pthread_mutex_t
                                                         *)(puVar16[4] -
                                                            iVar31))
                                                    goto LAB_00061bf8;
                                            } else {
                                                puVar16 = *(
                                                    undefined4 **)((int)
                                                                       ppVar30 +
                                                                   0x44);
                                                pbVar37 =
                                                    (byte *)((int)ppVar30 +
                                                             0x44);
                                                iVar31 = puVar16[5];
                                                ppVar32 = ppVar30;
                                                if (ppVar30 !=
                                                    (pthread_mutex_t
                                                         *)(puVar16[4] -
                                                            iVar31))
                                                    goto LAB_00060b04;
                                            LAB_00061bf8:
                                                pbVar37 =
                                                    (byte *)((int)ppVar30 +
                                                             0x44);
                                                puVar16[4] = iVar4 + iVar31;
                                                iVar4 =
                                                    ppVar30[3].__data.__lock;
                                                if (iVar4 != 0)
                                                    goto LAB_000623e4;
                                                ppVar32 = *(
                                                    pthread_mutex_t *
                                                        *)((int)ppVar30 + 0x4c);
                                            }
                                            pbVar37 =
                                                (byte *)((int)ppVar30 + 0x44);
                                            DAT_001b0778 = ppVar32;
                                            goto LAB_00060b14;
                                        }
                                        iVar35 = iVar8;
                                        iVar8 = iVar24;
                                        iVar25 = iVar15;
                                        if (*(int *)(iVar24 + 8) != 0) {
                                            iVar25 =
                                                *(int *)(iVar24 + 8) +
                                                *(int *)(*(int *)((int)ppVar32 +
                                                                  0x44) +
                                                         0x14);
                                        }
                                    LAB_00060988:
                                        iVar24 = iVar25;
                                        iVar36 = iVar36 + -1;
                                        if (iVar35 == 0)
                                            goto LAB_00060d6c;
                                        *(int *)(iVar35 + 8) =
                                            iVar8 -
                                            *(int *)(*(int *)((int)ppVar32 +
                                                              0x44) +
                                                     0x14);
                                        if (iVar8 != 0) {
                                            while (true) {
                                                iVar35 =
                                                    iVar35 -
                                                    *(int *)(*(int *)((int)
                                                                          ppVar32 +
                                                                      0x44) +
                                                             0x14);
                                                while (true) {
                                                    *(int *)(iVar8 + 4) =
                                                        iVar35;
                                                    iVar35 = iVar8;
                                                    if (iVar15 == 0)
                                                        goto LAB_00060964;
                                                LAB_000609dc:
                                                    iVar8 = iVar31;
                                                    iVar31 = iVar8;
                                                    if (iVar24 == 0 ||
                                                        iVar36 == 0) {
                                                        if ((iVar8 != 0) &&
                                                            (iVar31 = *(
                                                                 int *)(iVar8 +
                                                                        8),
                                                             iVar31 != 0)) {
                                                            iVar31 =
                                                                iVar31 +
                                                                *(int *)(*(int *)((int)
                                                                                      ppVar32 +
                                                                                  0x44) +
                                                                         0x14);
                                                        }
                                                    } else {
                                                        iVar33 = *(
                                                            int *)(*(int *)((int)
                                                                                ppVar32 +
                                                                            0x44) +
                                                                   0x14);
                                                        if (0 <
                                                            *(int *)(iVar8 +
                                                                     -iVar33 +
                                                                     100) -
                                                                *(int *)(iVar24 +
                                                                         -iVar33 +
                                                                         100)) {
                                                            iVar25 = *(
                                                                int *)(iVar24 +
                                                                       8);
                                                            iVar8 = iVar24;
                                                            if (iVar25 != 0) {
                                                                iVar25 =
                                                                    iVar25 +
                                                                    iVar33;
                                                            }
                                                            goto LAB_00060988;
                                                        }
                                                        if ((iVar8 != 0) &&
                                                            (iVar31 = *(
                                                                 int *)(iVar8 +
                                                                        8),
                                                             iVar31 != 0)) {
                                                            iVar31 =
                                                                iVar31 + iVar33;
                                                        }
                                                    }
                                                    iVar15 = iVar15 + -1;
                                                    if (iVar35 != 0)
                                                        break;
                                                LAB_00060d6c:
                                                    iVar28 = iVar8;
                                                    if (iVar8 == 0)
                                                        goto LAB_0006095c;
                                                    iVar35 = 0;
                                                }
                                                if (iVar8 == 0)
                                                    break;
                                                *(int *)(iVar35 + 8) =
                                                    iVar8 -
                                                    *(int *)(*(int *)((int)
                                                                          ppVar32 +
                                                                      0x44) +
                                                             0x14);
                                            }
                                            *(undefined4 *)(iVar35 + 8) = 0;
                                        }
                                    } while (true);
                                }
                                goto LAB_00060ba8;
                            }
                            piVar14 = __errno_location();
                            pcVar5 = "block_exists";
                            iVar4 = *piVar14;
                            uVar26 = 0x15c2;
                        } else {
                            piVar14 = __errno_location();
                            pcVar5 = "test_work_current";
                            iVar4 = *piVar14;
                            uVar26 = 0x1611;
                        }
                        pcVar18 =
                            "WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d";
                        goto LAB_0006074c;
                    }
                LAB_0005ff40:
                    FUN_00053084(&local_9f8, "cgminer.c", "stratum_rthread",
                                 0x1dab);
                }
            }
            free(pcVar5);
            cVar1 = *(char *)((int)param_1 + 0x69);
        }
        if (DAT_001aecc5 != 0) {
            if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                (DAT_0009e320 < 7))
                goto LAB_0005ff64;
            snprintf((char *)&local_830, 0x800,
                     "Stratum select failed on pool %d with value %d", *param_1,
                     iVar4);
            FUN_00047ab4(7, &local_830, 0);
        }
    LAB_0005fd04:
        if ((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) {
        LAB_0005ff64:
            if (4 < DAT_0009e320)
                goto LAB_0005fd20;
        } else {
        LAB_0005fd20:
            snprintf((char *)&local_830, 0x800,
                     "Stratum connection to pool %d interrupted", *param_1);
            FUN_00047ab4(5, &local_830, 0);
        }
        param_1[0x20] = param_1[0x20] + 1;
        DAT_00245150 = DAT_00245150 + 1;
        iVar4 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0x35));
        if (iVar4 != 0) {
            piVar14 = __errno_location();
            pcVar5 = "supports_resume";
            iVar4 = *piVar14;
            uVar26 = 0x1d35;
        LAB_00060738:
            pcVar18 = "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d";
        LAB_0006074c:
            snprintf((char *)&local_830, 0x800, pcVar18, iVar4, "cgminer.c",
                     pcVar5, uVar26);
        LAB_00060758:
            FUN_00047ab4(3, &local_830, 1);
            /* WARNING: Subroutine does not return */
            FUN_00054ccc(1);
        }
        iVar4 = pthread_rwlock_rdlock((pthread_rwlock_t *)(param_1 + 0x3b));
        if (iVar4 != 0) {
            piVar14 = __errno_location();
            iVar4 = *piVar14;
            pcVar18 = "WTF RDLOCK ERROR ON LOCK! errno=%d in %s %s():%d";
            pcVar5 = "supports_resume";
            uVar26 = 0x1d35;
            goto LAB_0006074c;
        }
        iVar4 = pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0x35));
        if (iVar4 != 0) {
            piVar14 = __errno_location();
            pcVar5 = "supports_resume";
            iVar4 = *piVar14;
            uVar26 = 0x1d35;
        LAB_000607b8:
            pcVar18 = "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d";
            goto LAB_0006074c;
        }
        iVar31 = param_1[0x9f];
        iVar4 = pthread_rwlock_unlock((pthread_rwlock_t *)(param_1 + 0x3b));
        if (iVar4 != 0) {
            piVar14 = __errno_location();
            pcVar5 = "supports_resume";
            iVar4 = *piVar14;
            uVar26 = 0x1d37;
        LAB_000607e8:
            pcVar18 = "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d";
            goto LAB_0006074c;
        }
        (*DAT_0009e444)();
        if ((iVar31 == 0) || (DAT_00245204 != '\0')) {
            FUN_0005a44c(param_1);
        }
        FUN_00059b44(param_1);
        puVar16 = (undefined4 *)FUN_00058084();
        if (param_1 == puVar16) {
            FUN_00054fc0();
        }
        iVar4 = FUN_0004f2f8(param_1);
        while (iVar4 == 0) {
            FUN_0005a31c(param_1);
            if (*(char *)((int)param_1 + 0x69) != '\0') {
                return 0;
            }
            FUN_0004a804(5000);
            iVar4 = FUN_0004f2f8(param_1);
        }
    } while (true);
}

void FUN_00062428(void *param_1)

{
    char cVar1;
    int iVar2;
    int *piVar3;
    char *pcVar4;
    uint uVar5;
    undefined4 *puVar6;
    int iVar7;
    bool bVar8;
    undefined4 uVar9;
    void *local_81c[2];
    pthread_t pStack_814;
    char local_810[32];
    undefined2 local_7f0;
    undefined1 uStack_7ee;

    puVar6 = *(undefined4 **)((int)param_1 + 0x104);
    local_81c[0] = param_1;
    FUN_0004a60c((int)param_1 + 0x1b0);
    if (DAT_001af244 != '\0') {
        iVar2 = FUN_00057bac(*(undefined4 *)((int)local_81c[0] + 0x100));
        iVar7 = *(int *)(iVar2 + 0x24);
        iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00246244);
        if (iVar2 == 0) {
            *(int *)(iVar7 + 0x24) = *(int *)(iVar7 + 0x24) + 1;
            bVar8 = 0xfffffffe < DAT_00245158;
            DAT_00245158 = DAT_00245158 + 1;
            DAT_0024515c = DAT_0024515c + (uint)bVar8;
            uVar5 = puVar6[2];
            puVar6[2] = uVar5 + 1;
            puVar6[3] = puVar6[3] + (uint)(0xfffffffe < uVar5);
            *(double *)(iVar7 + 200) = *(double *)(iVar7 + 200) +
                                       *(double *)((int)local_81c[0] + 0x178);
            DAT_00242ef0 =
                DAT_00242ef0 + *(double *)((int)local_81c[0] + 0x178);
            *(double *)(puVar6 + 0x12) = *(double *)(puVar6 + 0x12) +
                                         *(double *)((int)local_81c[0] + 0x178);
            iVar2 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00246244);
            if (iVar2 == 0) {
                (*DAT_0009e444)();
                if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                    (DAT_0009e320 < 5)) {
                    return;
                }
                snprintf(local_810, 0x800,
                         "Accepted %s %d benchmark share nonce %08x",
                         *(undefined4 *)(*(int *)(iVar7 + 4) + 8),
                         *(undefined4 *)(iVar7 + 8),
                         *(undefined4 *)((int)local_81c[0] + 0x4c));
                FUN_00047ab4(5, local_810, 0);
                return;
            }
            piVar3 = __errno_location();
            iVar2 = *piVar3;
            pcVar4 = "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d";
            uVar9 = 0x21f1;
        } else {
            piVar3 = __errno_location();
            iVar2 = *piVar3;
            pcVar4 = "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d";
            uVar9 = 0x21ea;
        }
        snprintf(local_810, 0x800, pcVar4, iVar2, "cgminer.c",
                 "submit_work_async", uVar9);
    LAB_00062948:
        FUN_00047ab4(3, local_810, 1);
        /* WARNING: Subroutine does not return */
        FUN_00054ccc(1);
    }
    iVar2 = FUN_0005b638(local_81c[0], 1);
    if (iVar2 == 0) {
        cVar1 = *(char *)((int)local_81c[0] + 0x11c);
    } else {
        if (DAT_0009eda0 == '\0') {
            if (*(char *)(puVar6 + 0x1a) == '\0') {
                if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                    (4 < DAT_0009e320)) {
                    snprintf(local_810, 0x800,
                             "Pool %d stale share detected, discarding",
                             *puVar6);
                    FUN_00047ab4(5, local_810, 0);
                }
                FUN_0005b390("discard", local_81c[0]);
                iVar2 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00246244);
                if (iVar2 == 0) {
                    puVar6[0x1e] = puVar6[0x1e] + 1;
                    bVar8 = 0xfffffffe < DAT_00242e98;
                    DAT_00242e98 = DAT_00242e98 + 1;
                    DAT_00246238 =
                        DAT_00246238 + *(double *)((int)local_81c[0] + 0x178);
                    DAT_00242e9c = DAT_00242e9c + (uint)bVar8;
                    *(double *)(puVar6 + 0x16) =
                        *(double *)(puVar6 + 0x16) +
                        *(double *)((int)local_81c[0] + 0x178);
                    iVar2 =
                        pthread_mutex_unlock((pthread_mutex_t *)&DAT_00246244);
                    if (iVar2 == 0) {
                        (*DAT_0009e444)();
                        FUN_00053084(local_81c, "cgminer.c",
                                     "submit_work_async", 0x220f);
                        return;
                    }
                    piVar3 = __errno_location();
                    iVar2 = *piVar3;
                    uVar9 = 0x220d;
                    pcVar4 =
                        "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d";
                } else {
                    piVar3 = __errno_location();
                    iVar2 = *piVar3;
                    uVar9 = 0x2206;
                    pcVar4 = "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d";
                }
                snprintf(local_810, 0x800, pcVar4, iVar2, "cgminer.c",
                         "submit_work_async", uVar9);
                goto LAB_00062948;
            }
            if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                (4 < DAT_0009e320)) {
                pcVar4 = "Pool %d stale share detected, submitting as pool "
                         "requested";
                goto LAB_00062690;
            }
        } else if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
                   (4 < DAT_0009e320)) {
            pcVar4 =
                "Pool %d stale share detected, submitting as user requested";
        LAB_00062690:
            snprintf(local_810, 0x800, pcVar4, *puVar6);
            FUN_00047ab4(5, local_810, 0);
        }
        *(undefined1 *)((int)local_81c[0] + 0x119) = 1;
        cVar1 = *(char *)((int)local_81c[0] + 0x11c);
    }
    if (cVar1 == '\0') {
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (4 < DAT_0009e320)) {
            builtin_strncpy(local_810, "Pushing submit work to work thre",
                            0x20);
            local_7f0 = 0x6461;
            uStack_7ee = 0;
            FUN_00047ab4(5, local_810, 0);
        }
        iVar2 = pthread_create(&pStack_814, (pthread_attr_t *)0x0, FUN_00051e24,
                               local_81c[0]);
        if (iVar2 == 0) {
            return;
        }
        builtin_strncpy(local_810, "Failed to create submit_work_thr", 0x20);
        uStack_7ee = 100;
        local_7f0 = 0x6165;
        FUN_00047ab4(3, local_810, 1);
        /* WARNING: Subroutine does not return */
        FUN_00054ccc(1);
    }
    if (DAT_001aecc5 == '\0') {
    LAB_000627d0:
        iVar2 = puVar6[0xb6];
        if (iVar2 != 0) {
        LAB_000627e0:
            iVar2 = FUN_0004a03c(iVar2, local_81c[0]);
            if (iVar2 != 0) {
                return;
            }
        }
        if ((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0'))
            goto LAB_0006260c;
    LAB_00062818:
        builtin_strncpy(local_810, "Discarding work from removed poo", 0x20);
        local_7f0 = 0x6c;
        FUN_00047ab4(4, local_810, 0);
        if (puVar6[0xb6] != 0)
            goto LAB_00062628;
        if ((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0'))
            goto LAB_00062b38;
    } else {
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (6 < DAT_0009e320)) {
            snprintf(local_810, 0x800, "Pushing pool %d work to stratum queue",
                     *puVar6);
            FUN_00047ab4(7, local_810, 0);
            goto LAB_000627d0;
        }
        iVar2 = puVar6[0xb6];
        if (iVar2 != 0)
            goto LAB_000627e0;
    LAB_0006260c:
        if (3 < DAT_0009e320)
            goto LAB_00062818;
        if (puVar6[0xb6] != 0)
            goto LAB_00062628;
    LAB_00062b38:
        if (DAT_0009e320 < 5)
            goto LAB_00062628;
    }
    snprintf(local_810, 0x800, "Pushing pool %d work to stratum queue",
             *puVar6);
    FUN_00047ab4(5, local_810, 0);
LAB_00062628:
    FUN_00053084(local_81c, "cgminer.c", "submit_work_async", 0x221d);
    return;
}

int FUN_00062b4c(int param_1, int param_2)

{
    int iVar1;
    undefined4 uVar2;
    char acStack_810[2048];

    FUN_00059820(param_1 + 0x24);
    iVar1 = FUN_00049d78(param_2 + 0xc0, param_2 + 0xa0);
    if (iVar1 == 0) {
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (5 < DAT_0009e320)) {
            snprintf(
                acStack_810, 0x800, "%s %s %d: Share above target",
                "submit_tested_work",
                *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x24) + 4) + 8),
                *(undefined4 *)(*(int *)(param_1 + 0x24) + 8));
            FUN_00047ab4(6, acStack_810, 0);
        }
        return 0;
    }
    uVar2 = FUN_00055e38();
    FUN_00052f6c(uVar2, param_2, 0);
    FUN_00062428(uVar2);
    return iVar1;
}

uint FUN_00062c38(undefined4 param_1, int param_2, undefined4 param_3)

{
    uint uVar1;
    uint uVar2;

    uVar1 = FUN_00054148(param_1, param_3);
    if (uVar1 != 0) {
        *(undefined4 *)(param_2 + 0x4c) = param_3;
        FUN_00051dd0(param_2);
        if (*(int *)(param_2 + 0xdc) == 0) {
            FUN_00062b4c(param_1, param_2);
            if (DAT_00246240 == 0) {
                return uVar1;
            }
            uVar2 = (uint)DAT_0024401d;
            if (uVar2 == 0) {
                return uVar1;
            }
            FUN_000531cc(param_2, param_3);
            return uVar2;
        }
    }
    FUN_000593c8(param_1);
    return 0;
}

void FUN_00062ccc(undefined4 param_1)

{
    undefined4 uVar1;

    uVar1 = FUN_00055e38();
    FUN_00052f6c(uVar1, param_1, 0);
    FUN_00062428(uVar1);
    return;
}

undefined4 FUN_00062cf4(undefined4 param_1, int param_2, undefined4 param_3)

{
    undefined4 uVar1;

    *(undefined4 *)(param_2 + 0x4c) = param_3;
    uVar1 = FUN_00055e38();
    FUN_00052f6c(uVar1, param_2, 0);
    FUN_00062428(uVar1);
    return 1;
}

int FUN_00062d24(int param_1, undefined4 param_2, undefined4 param_3,
                 undefined4 param_4)

{
    int iVar1;
    int local_81c;
    char acStack_818[2052];

    local_81c = FUN_00055e38();
    FUN_00052f6c(local_81c, param_2, param_4);
    iVar1 = local_81c;
    *(undefined4 *)(local_81c + 0x4c) = param_3;
    FUN_00051dd0(local_81c);
    if (*(int *)(iVar1 + 0xdc) != 0) {
        FUN_00053084(&local_81c, "cgminer.c", "submit_noffset_nonce", 0x2391);
        FUN_000593c8(param_1);
        return 0;
    }
    FUN_00059820(param_1 + 0x24, local_81c);
    if ((DAT_00246240 != 0) && (DAT_0024401d != '\0')) {
        FUN_000531cc(local_81c, param_3);
    }
    iVar1 = FUN_00049d78(local_81c + 0xc0, local_81c + 0xa0);
    if (iVar1 != 0) {
        FUN_00062428(local_81c);
        return iVar1;
    }
    FUN_00053084(&local_81c, "cgminer.c", "submit_noffset_nonce", 0x23a1);
    if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
        (5 < DAT_0009e320)) {
        snprintf(acStack_818, 0x800, "%s %d: Share above target",
                 *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x24) + 4) + 8),
                 *(undefined4 *)(*(int *)(param_1 + 0x24) + 8));
        FUN_00047ab4(6, acStack_818, 0);
    }
    return 1;
}

void FUN_00062ec0(undefined4 param_1)

{
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(param_1, 1);
}

uint FUN_00062ecc(void *param_1, uint param_2, undefined4 param_3,
                  char *param_4, char *param_5)

{
    undefined4 uVar1;
    size_t sVar2;
    size_t sVar3;
    char *__s;

    uVar1 = FUN_0004aab4(param_3, param_1);
    *(char **)((int)param_1 + 0xac) = param_4;
    *(undefined4 *)((int)param_1 + 0xa4) = uVar1;
    *(char **)((int)param_1 + 0xb0) = param_5;
    sVar2 = strlen(param_4);
    sVar3 = strlen(param_5);
    sVar2 = sVar2 + sVar3 + 2;
    __s = (char *)FUN_00049624(sVar2, "cgminer.c", "add_pool_details", 0x2a42);
    *(char **)((int)param_1 + 0xa8) = __s;
    snprintf(__s, sVar2, "%s:%s", *(undefined4 *)((int)param_1 + 0xac),
             *(undefined4 *)((int)param_1 + 0xb0));
    *(undefined1 *)((int)param_1 + 0x11c) = 1;
    *(byte *)((int)param_1 + 0x6b) = (byte)param_2 ^ 1;
    *(undefined1 *)((int)param_1 + 0x61) = 1;
    if (*(int *)((int)param_1 + 100) != 1) {
        *(undefined4 *)((int)param_1 + 100) = 1;
        DAT_002440f8 = DAT_002440f8 + 1;
    }
    pthread_create((pthread_t *)((int)param_1 + 0x118), (pthread_attr_t *)0x0,
                   FUN_0005b104, param_1);
    if (param_2 == 0) {
        pthread_join(*(pthread_t *)((int)param_1 + 0x118), (void **)0x0);
        param_2 = (uint)DAT_001af228;
    }
    return param_2;
}

void FUN_00063218(int *param_1)

{
    int iVar1;
    int iVar2;
    size_t sVar3;
    int iVar4;
    time_t tVar5;
    void *pvVar6;
    int *piVar7;
    uint uVar8;
    undefined4 uVar9;
    uint uVar10;
    uint uVar11;
    byte *pbVar12;
    uint uVar13;
    undefined4 *puVar14;
    int iVar15;
    byte *pbVar16;
    int iVar17;
    byte *pbVar18;
    undefined4 *puVar19;
    uint uVar20;
    uint local_40;

    param_1[8] = 0;
    iVar1 = pthread_rwlock_wrlock((pthread_rwlock_t *)&DAT_0024638c);
    iVar2 = DAT_00242fec;
    if (iVar1 == 0) {
        *param_1 = DAT_001b07d0;
        *(int **)(iVar2 + DAT_001b07d0 * 4) = param_1;
        DAT_001b07d0 = DAT_001b07d0 + 1;
        iVar2 = pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0024638c);
        if (iVar2 == 0) {
            (*DAT_0009e444)();
            if (DAT_00242ffc == '\0') {
                DAT_00245108 = param_1[0x25] + DAT_00245108;
            } else {
                DAT_001b07d4 = param_1[0x25] + DAT_001b07d4;
            }
            iVar2 = pthread_rwlock_init((pthread_rwlock_t *)(param_1 + 0x50),
                                        (pthread_rwlockattr_t *)0x0);
            if (iVar2 == 0) {
                param_1[0x58] = 0;
                return;
            }
            iVar2 = FUN_00055000("enable_device", 0x2be9);
            uVar13 = 0x9e3779b9;
            pbVar12 = *(byte **)(*(int *)(iVar2 + 4) + 8);
            sVar3 = strlen((char *)pbVar12);
            uVar10 = 0xfeedbeef;
            uVar8 = uVar13;
            pbVar16 = pbVar12;
            for (uVar20 = sVar3; 0xb < uVar20; uVar20 = uVar20 - 0xc) {
                iVar1 = (uint)pbVar16[6] * 0x10000 + (uint)pbVar16[5] * 0x100 +
                        (uint)pbVar16[4] + (uint)pbVar16[7] * 0x1000000 + uVar8;
                uVar10 = (uint)pbVar16[10] * 0x10000 +
                         (uint)pbVar16[9] * 0x100 + (uint)pbVar16[8] +
                         (uint)pbVar16[0xb] * 0x1000000 + uVar10;
                uVar8 =
                    ((((uint)pbVar16[2] * 0x10000 + (uint)pbVar16[1] * 0x100 +
                       (uint)*pbVar16 + (uint)pbVar16[3] * 0x1000000) -
                      iVar1) -
                     uVar10) +
                        uVar13 ^
                    uVar10 >> 0xd;
                uVar13 = (iVar1 - uVar10) - uVar8 ^ uVar8 << 8;
                uVar11 = (uVar10 - uVar8) - uVar13 ^ uVar13 >> 0xd;
                uVar10 = (uVar8 - uVar13) - uVar11 ^ uVar11 >> 0xc;
                uVar8 = (uVar13 - uVar11) - uVar10 ^ uVar10 << 0x10;
                uVar11 = (uVar11 - uVar10) - uVar8 ^ uVar8 >> 5;
                uVar13 = (uVar10 - uVar8) - uVar11 ^ uVar11 >> 3;
                uVar8 = (uVar8 - uVar11) - uVar13 ^ uVar13 << 10;
                uVar10 = (uVar11 - uVar13) - uVar8 ^ uVar8 >> 0xf;
                pbVar16 = pbVar16 + 0xc;
            }
            uVar10 = sVar3 + uVar10;
            switch (uVar20) {
            case 0xb:
                uVar10 = uVar10 + (uint)pbVar16[10] * 0x1000000;
            case 10:
                uVar10 = uVar10 + (uint)pbVar16[9] * 0x10000;
            case 9:
                uVar10 = uVar10 + (uint)pbVar16[8] * 0x100;
            case 8:
                uVar8 = uVar8 + (uint)pbVar16[7] * 0x1000000;
            case 7:
                uVar8 = uVar8 + (uint)pbVar16[6] * 0x10000;
            case 6:
                uVar8 = uVar8 + (uint)pbVar16[5] * 0x100;
            case 5:
                uVar8 = uVar8 + pbVar16[4];
            case 4:
                uVar13 = uVar13 + (uint)pbVar16[3] * 0x1000000;
            case 3:
                uVar13 = uVar13 + (uint)pbVar16[2] * 0x10000;
            case 2:
                uVar13 = uVar13 + (uint)pbVar16[1] * 0x100;
            case 1:
                uVar13 = uVar13 + *pbVar16;
            }
            uVar13 = (uVar13 - uVar8) - uVar10 ^ uVar10 >> 0xd;
            uVar8 = (uVar8 - uVar10) - uVar13 ^ uVar13 << 8;
            uVar20 = (uVar10 - uVar13) - uVar8 ^ uVar8 >> 0xd;
            uVar10 = (uVar13 - uVar8) - uVar20 ^ uVar20 >> 0xc;
            uVar13 = (uVar8 - uVar20) - uVar10 ^ uVar10 << 0x10;
            uVar20 = (uVar20 - uVar10) - uVar13 ^ uVar13 >> 5;
            uVar8 = (uVar10 - uVar13) - uVar20 ^ uVar20 >> 3;
            uVar13 = (uVar13 - uVar20) - uVar8 ^ uVar8 << 10;
            uVar13 = (uVar20 - uVar8) - uVar13 ^ uVar13 >> 0xf;
            if (DAT_001b07d8 != (byte *)0x0) {
                piVar7 = *(int **)(DAT_001b07d8 + 8);
                iVar1 = *(int *)(*piVar7 + (piVar7[1] - 1U & uVar13) * 0xc);
                if (iVar1 != 0) {
                    iVar17 = piVar7[5];
                    do {
                        iVar1 = iVar1 - iVar17;
                        if (iVar1 == 0)
                            break;
                        if (((*(uint *)(iVar1 + 0x24) == uVar13) &&
                             (*(size_t *)(iVar1 + 0x20) == sVar3)) &&
                            (iVar4 = memcmp(*(void **)(iVar1 + 0x1c), pbVar12,
                                            sVar3),
                             iVar4 == 0)) {
                            iVar17 = *(int *)(iVar1 + 4) + 1;
                            *(int *)(iVar1 + 4) = iVar17;
                            *(int *)(iVar2 + 8) = iVar17;
                            goto LAB_000635e0;
                        }
                        iVar1 = *(int *)(iVar1 + 0x18);
                    } while (iVar1 != 0);
                }
            }
            pbVar12 =
                (byte *)FUN_00049624(0x28, "cgminer.c", "add_cgpu", 0x2c0b);
            FUN_0004c150(pbVar12, *(undefined4 *)(*(int *)(iVar2 + 4) + 8), 4,
                         "cgminer.c", "add_cgpu", 0x2c0c);
            pbVar12[4] = 0;
            pbVar12[5] = 0;
            pbVar12[6] = 0;
            pbVar12[7] = 0;
            *(undefined4 *)(iVar2 + 8) = 0;
            sVar3 = strlen((char *)pbVar12);
            uVar13 = 0x9e3779b9;
            uVar10 = 0xfeedbeef;
            uVar8 = uVar13;
            pbVar16 = pbVar12;
            for (uVar20 = sVar3; 0xb < uVar20; uVar20 = uVar20 - 0xc) {
                iVar1 = (uint)pbVar16[6] * 0x10000 + (uint)pbVar16[5] * 0x100 +
                        (uint)pbVar16[4] + (uint)pbVar16[7] * 0x1000000 + uVar8;
                uVar10 = (uint)pbVar16[10] * 0x10000 +
                         (uint)pbVar16[9] * 0x100 + (uint)pbVar16[8] +
                         (uint)pbVar16[0xb] * 0x1000000 + uVar10;
                uVar8 =
                    ((((uint)pbVar16[2] * 0x10000 + (uint)pbVar16[1] * 0x100 +
                       (uint)*pbVar16 + (uint)pbVar16[3] * 0x1000000) -
                      iVar1) -
                     uVar10) +
                        uVar13 ^
                    uVar10 >> 0xd;
                uVar13 = (iVar1 - uVar10) - uVar8 ^ uVar8 << 8;
                uVar10 = (uVar10 - uVar8) - uVar13 ^ uVar13 >> 0xd;
                uVar11 = (uVar8 - uVar13) - uVar10 ^ uVar10 >> 0xc;
                uVar8 = (uVar13 - uVar10) - uVar11 ^ uVar11 << 0x10;
                uVar10 = (uVar10 - uVar11) - uVar8 ^ uVar8 >> 5;
                uVar13 = (uVar11 - uVar8) - uVar10 ^ uVar10 >> 3;
                uVar8 = (uVar8 - uVar10) - uVar13 ^ uVar13 << 10;
                uVar10 = (uVar10 - uVar13) - uVar8 ^ uVar8 >> 0xf;
                pbVar16 = pbVar16 + 0xc;
            }
            uVar10 = sVar3 + uVar10;
            switch (uVar20) {
            case 0xb:
                uVar10 = uVar10 + (uint)pbVar16[10] * 0x1000000;
            case 10:
                uVar10 = uVar10 + (uint)pbVar16[9] * 0x10000;
            case 9:
                uVar10 = uVar10 + (uint)pbVar16[8] * 0x100;
            case 8:
                uVar8 = uVar8 + (uint)pbVar16[7] * 0x1000000;
            case 7:
                uVar8 = uVar8 + (uint)pbVar16[6] * 0x10000;
            case 6:
                uVar8 = uVar8 + (uint)pbVar16[5] * 0x100;
            case 5:
                uVar8 = uVar8 + pbVar16[4];
            case 4:
                uVar13 = uVar13 + (uint)pbVar16[3] * 0x1000000;
            case 3:
                uVar13 = uVar13 + (uint)pbVar16[2] * 0x10000;
            case 2:
                uVar13 = uVar13 + (uint)pbVar16[1] * 0x100;
            case 1:
                uVar13 = uVar13 + *pbVar16;
            default:
                *(byte **)(pbVar12 + 0x1c) = pbVar12;
                uVar20 = (uVar13 - uVar8) - uVar10 ^ uVar10 >> 0xd;
                uVar8 = (uVar8 - uVar10) - uVar20 ^ uVar20 << 8;
                uVar13 = (uVar10 - uVar20) - uVar8 ^ uVar8 >> 0xd;
                uVar10 = (uVar20 - uVar8) - uVar13 ^ uVar13 >> 0xc;
                uVar8 = (uVar8 - uVar13) - uVar10 ^ uVar10 << 0x10;
                uVar13 = (uVar13 - uVar10) - uVar8 ^ uVar8 >> 5;
                uVar10 = (uVar10 - uVar8) - uVar13 ^ uVar13 >> 3;
                uVar8 = (uVar8 - uVar13) - uVar10 ^ uVar10 << 10;
                puVar14 =
                    (undefined4 *)((uVar13 - uVar10) - uVar8 ^ uVar8 >> 0xf);
                *(undefined4 **)(pbVar12 + 0x24) = puVar14;
                sVar3 = strlen((char *)pbVar12);
                pbVar16 = DAT_001b07d8;
                *(size_t *)(pbVar12 + 0x20) = sVar3;
                if (pbVar16 == (byte *)0x0)
                    goto LAB_00063c4c;
                uVar9 = *(undefined4 *)(pbVar16 + 8);
                pbVar12[0x10] = 0;
                pbVar12[0x11] = 0;
                pbVar12[0x12] = 0;
                pbVar12[0x13] = 0;
                pbVar18 = pbVar12 + 8;
                *(undefined4 *)(pbVar12 + 8) = uVar9;
                *(int *)(pbVar12 + 0xc) =
                    *(int *)(*(int *)(pbVar16 + 8) + 0x10) -
                    *(int *)(*(int *)(pbVar16 + 8) + 0x14);
                *(byte **)(*(int *)(*(int *)(pbVar16 + 8) + 0x10) + 8) =
                    pbVar12;
                *(byte **)(*(int *)(pbVar16 + 8) + 0x10) = pbVar18;
            }
            do {
                *(int *)(*(int *)(pbVar16 + 8) + 0xc) =
                    *(int *)(*(int *)(pbVar16 + 8) + 0xc) + 1;
                iVar1 =
                    ((*(int **)(pbVar16 + 8))[1] - 1U & (uint)puVar14) * 0xc;
                iVar17 = **(int **)(pbVar16 + 8) + iVar1;
                *(int *)(iVar17 + 4) = *(int *)(iVar17 + 4) + 1;
                uVar9 = *(undefined4 *)(**(int **)(pbVar16 + 8) + iVar1);
                pbVar12[0x14] = 0;
                pbVar12[0x15] = 0;
                pbVar12[0x16] = 0;
                pbVar12[0x17] = 0;
                *(undefined4 *)(pbVar12 + 0x18) = uVar9;
                iVar17 = **(int **)(pbVar16 + 8);
                if (*(int *)(iVar17 + iVar1) != 0) {
                    *(byte **)(*(int *)(iVar17 + iVar1) + 0xc) = pbVar18;
                    iVar17 = **(int **)(pbVar16 + 8);
                }
                *(byte **)(iVar17 + iVar1) = pbVar18;
                if (((uint)((*(int *)(**(int **)(pbVar16 + 8) + iVar1 + 8) +
                             1) *
                            10) <=
                     *(uint *)(**(int **)(pbVar16 + 8) + iVar1 + 4)) &&
                    (*(int *)(*(int *)(pbVar12 + 8) + 0x24) != 1)) {
                    pvVar6 =
                        calloc(*(int *)(*(int *)(pbVar12 + 8) + 4) * 0x18, 1);
                    if (pvVar6 == (void *)0x0) {
                    LAB_00063d04:
                        /* WARNING: Subroutine does not return */
                        exit(-1);
                    }
                    iVar1 = *(int *)(pbVar12 + 8);
                    iVar17 = 0;
                    *(uint *)(iVar1 + 0x18) =
                        (uint)((*(int *)(iVar1 + 4) * 2 - 1U &
                                *(uint *)(iVar1 + 0xc)) != 0) +
                        (*(uint *)(iVar1 + 0xc) >>
                         (*(int *)(iVar1 + 8) + 1U & 0xff));
                    *(undefined4 *)(*(int *)(pbVar12 + 8) + 0x1c) = 0;
                    piVar7 = *(int **)(pbVar12 + 8);
                    uVar13 = piVar7[1];
                    if (uVar13 != 0) {
                        local_40 = 0;
                        do {
                            iVar1 = *(int *)(*piVar7 + iVar17);
                            if (iVar1 != 0) {
                                while (true) {
                                    iVar15 = *(int *)(iVar1 + 0x10);
                                    uVar8 = uVar13 * 2 - 1 &
                                            *(uint *)(iVar1 + 0x1c);
                                    uVar13 = *(int *)((int)pvVar6 +
                                                      uVar8 * 0xc + 4) +
                                             1;
                                    *(uint *)((int)pvVar6 + uVar8 * 0xc + 4) =
                                        uVar13;
                                    iVar4 = *(int *)(pbVar12 + 8);
                                    if (*(uint *)(iVar4 + 0x18) < uVar13) {
                                        *(int *)(iVar4 + 0x1c) =
                                            *(int *)(iVar4 + 0x1c) + 1;
                                        uVar9 = FUN_00077070(
                                            *(undefined4 *)((int)pvVar6 +
                                                            uVar8 * 0xc + 4),
                                            *(undefined4 *)(*(int *)(pbVar12 +
                                                                     8) +
                                                            0x18));
                                        *(undefined4 *)((int)pvVar6 +
                                                        uVar8 * 0xc + 8) =
                                            uVar9;
                                    }
                                    *(undefined4 *)(iVar1 + 0xc) = 0;
                                    *(undefined4 *)(iVar1 + 0x10) =
                                        *(undefined4 *)((int)pvVar6 +
                                                        uVar8 * 0xc);
                                    iVar4 = *(int *)((int)pvVar6 + uVar8 * 0xc);
                                    if (iVar4 != 0) {
                                        *(int *)(iVar4 + 0xc) = iVar1;
                                    }
                                    *(int *)((int)pvVar6 + uVar8 * 0xc) = iVar1;
                                    piVar7 = *(int **)(pbVar12 + 8);
                                    if (iVar15 == 0)
                                        break;
                                    uVar13 = piVar7[1];
                                    iVar1 = iVar15;
                                }
                                uVar13 = piVar7[1];
                            }
                            iVar17 = iVar17 + 0xc;
                            local_40 = local_40 + 1;
                        } while (local_40 < uVar13);
                    }
                    free((void *)*piVar7);
                    *(int *)(*(int *)(pbVar12 + 8) + 4) =
                        *(int *)(*(int *)(pbVar12 + 8) + 4) << 1;
                    *(int *)(*(int *)(pbVar12 + 8) + 8) =
                        *(int *)(*(int *)(pbVar12 + 8) + 8) + 1;
                    **(undefined4 **)(pbVar12 + 8) = pvVar6;
                    iVar1 = *(int *)(pbVar12 + 8);
                    if (*(uint *)(iVar1 + 0xc) >> 1 < *(uint *)(iVar1 + 0x1c)) {
                        iVar17 = *(int *)(iVar1 + 0x20) + 1;
                    } else {
                        iVar17 = 0;
                    }
                    *(int *)(iVar1 + 0x20) = iVar17;
                    if (1 < *(uint *)(*(int *)(pbVar12 + 8) + 0x20)) {
                        *(undefined4 *)(*(int *)(pbVar12 + 8) + 0x24) = 1;
                    }
                }
            LAB_000635e0:
                iVar1 =
                    pthread_rwlock_wrlock((pthread_rwlock_t *)&DAT_0024638c);
                if (iVar1 != 0) {
                    FUN_0005505c("add_cgpu", 0x2c11);
                LAB_00063c34:
                    /* WARNING: Subroutine does not return */
                    FUN_00055c08("add_cgpu", 0x2c13);
                }
                puVar14 = &DAT_00245140;
                pbVar16 = (byte *)&DAT_00242fec;
                DAT_00242fec = FUN_0004973c(
                    DAT_00242fec, (DAT_00245140 + DAT_001b07dc + 2) * 4,
                    "cgminer.c", "add_cgpu", 0x2c12);
                iVar1 =
                    pthread_rwlock_unlock((pthread_rwlock_t *)&DAT_0024638c);
                if (iVar1 != 0)
                    goto LAB_00063c34;
                pbVar12 = (byte *)&DAT_0009e444;
                (*DAT_0009e444)();
                iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_00246244);
                if (iVar1 == 0) {
                    tVar5 = time((time_t *)0x0);
                    *(time_t *)(iVar2 + 0xe8) = tVar5;
                    iVar1 =
                        pthread_mutex_unlock((pthread_mutex_t *)&DAT_00246244);
                    if (iVar1 != 0) {
                        /* WARNING: Subroutine does not return */
                        FUN_00055114("add_cgpu", 0x2c17);
                    }
                    (*DAT_0009e444)();
                    if (DAT_00242ffc == '\0') {
                        iVar1 = DAT_00245140;
                        DAT_00245140 = DAT_00245140 + 1;
                    } else {
                        iVar1 = DAT_001b07dc + DAT_00245140;
                        DAT_001b07dc = DAT_001b07dc + 1;
                    }
                    *(int *)(DAT_00242fec + iVar1 * 4) = iVar2;
                    if (DAT_001b07e0 < DAT_00245140 - DAT_00244018) {
                        DAT_001b07e0 = DAT_00245140 - DAT_00244018;
                    }
                    /* WARNING: Could not recover jumptable at 0x00063700. Too
                     * many branches */
                    /* WARNING: Treating indirect jump as call */
                    (*(code *)0x63300)(1);
                    return;
                }
                FUN_000550b8("add_cgpu", 0x2c15);
            LAB_00063c4c:
                *(byte **)(pbVar12 + 0x10) = pbVar16;
                *(byte **)(pbVar12 + 0xc) = pbVar16;
                DAT_001b07d8 = pbVar12;
                pvVar6 = malloc(0x2c);
                *(void **)(pbVar12 + 8) = pvVar6;
                if (pvVar6 == (void *)0x0)
                    goto LAB_00063d04;
                memset(pvVar6, (int)pbVar16, 0x2c);
                pbVar18 = pbVar12 + 8;
                *(byte **)(*(int *)pbVar18 + 0x10) = pbVar18;
                *(undefined4 *)(*(int *)(pbVar12 + 8) + 4) = 0x20;
                *(undefined4 *)(*(int *)(pbVar12 + 8) + 8) = 5;
                *(undefined4 *)(*(int *)(pbVar12 + 8) + 0x14) = 8;
                puVar19 = *(undefined4 **)(pbVar12 + 8);
                pvVar6 = malloc(0x180);
                *puVar19 = pvVar6;
                if ((void *)**(undefined4 **)(pbVar12 + 8) == (void *)0x0)
                    goto LAB_00063d04;
                memset((void *)**(undefined4 **)(pbVar12 + 8), (int)pbVar16,
                       0x180);
                *(undefined4 *)(*(int *)(pbVar12 + 8) + 0x28) = 0xa0111fe1;
                pbVar16 = pbVar12;
            } while (true);
        }
    } else {
        FUN_0005505c("enable_device", 0x2bdc);
    }
    /* WARNING: Subroutine does not return */
    FUN_00055c08("enable_device", 0x2bde);
}

int FUN_00063d10(undefined4 param_1)

{
    int iVar1;

    iVar1 = FUN_00049624(0x78, "cgminer.c", "copy_drv", 0x2c2f);
    FUN_0004c150(iVar1, param_1, 0x78, "cgminer.c", "copy_drv", 0x2c30);
    *(undefined1 *)(iVar1 + 100) = 1;
    return iVar1;
}

void FUN_00063e84(void)

{
    FILE *__stream;
    size_t sVar1;
    char *pcVar2;
    char *pcVar3;
    char cVar4;
    char acStack_918[256];
    char acStack_818[2048];

    __stream = fopen64(DAT_001aecd8, "rb");
    memset(acStack_918, 0, 0x100);
    if (__stream == (FILE *)0x0) {
        if (((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0')) ||
            (2 < DAT_0009e320)) {
            snprintf(acStack_818, 0x800, "Open miner version file %s error",
                     DAT_001aecd8);
            FUN_00047ab4(3, acStack_818, 0);
            goto LAB_00064068;
        }
    } else {
        sVar1 = fread(acStack_918, 1, 0x100, __stream);
        if ((int)sVar1 < 1) {
            if (((DAT_00244080 == '\0') && (DAT_001aecc4 == '\0')) &&
                (DAT_0009e320 < 3))
                goto LAB_000640cc;
            snprintf(acStack_818, 0x800, "Read miner version file %s error %d",
                     DAT_001aecd8, sVar1);
            FUN_00047ab4(3, acStack_818, 0);
        } else {
            pcVar2 = strchr(acStack_918, 10);
            if (pcVar2 == (char *)0x0) {
                strcpy(&DAT_001b07e4, acStack_918);
            } else {
                FUN_0004c150(&DAT_001b07e4, acStack_918,
                             (int)pcVar2 - (int)acStack_918, "cgminer.c",
                             "read_version_file", 0x2d14);
                pcVar2 = stpcpy(acStack_918, pcVar2 + 1);
                pcVar3 = strchr(acStack_918, 10);
                if (pcVar3 == (char *)0x0) {
                    memcpy(&DAT_001b08e4, acStack_918,
                           (size_t)(pcVar2 + (1 - (int)acStack_918)));
                } else {
                    FUN_0004c150(&DAT_001b08e4, acStack_918,
                                 (int)pcVar3 - (int)acStack_918, "cgminer.c",
                                 "read_version_file", 0x2d1d);
                }
            }
            sVar1 = strlen(&DAT_001b07e4);
            cVar4 = *(char *)((int)&DAT_001b07e0 + sVar1 + 3);
            if (cVar4 == '\n') {
                *(undefined1 *)((int)&DAT_001b07e0 + sVar1 + 3) = 0;
                sVar1 = strlen(&DAT_001b07e4);
                cVar4 = *(char *)((int)&DAT_001b07e0 + sVar1 + 3);
            }
            if (cVar4 == '\r') {
                *(undefined1 *)((int)&DAT_001b07e0 + sVar1 + 3) = 0;
            }
            sVar1 = strlen(&DAT_001b08e4);
            cVar4 = (&DAT_001b08e3)[sVar1];
            if (cVar4 == '\n') {
                (&DAT_001b08e3)[sVar1] = 0;
                sVar1 = strlen(&DAT_001b08e4);
                cVar4 = (&DAT_001b08e3)[sVar1];
            }
            if (cVar4 == '\r') {
                (&DAT_001b08e3)[sVar1] = 0;
            }
        }
    LAB_00064068:
        if ((DAT_00244080 != '\0') || (DAT_001aecc4 != '\0'))
            goto LAB_00064088;
    }
LAB_000640cc:
    if (DAT_0009e320 < 3) {
        return;
    }
LAB_00064088:
    snprintf(acStack_818, 0x800, "Miner compile time: %s type: %s",
             &DAT_001b07e4, &DAT_001b08e4);
    FUN_00047ab4(3, acStack_818, 0);
    return;
}

void FUN_000641a4(int param_1)

{
    char local_810[20];
    undefined2 local_7fc;

    DAT_00245160 = FUN_00049f68();
    if (DAT_00245160 != 0) {
        DAT_001af0e4 = DAT_00245160 + 0xc;
        DAT_001af128 = (void *)FUN_00049624((param_1 + 1) * 4, "cgminer.c",
                                            &DAT_00083f78, 0x3086);
        FUN_00049fc4(DAT_00245160);
        free(DAT_001af128);
        return;
    }
    builtin_strncpy(local_810, "Failed to create get", 0x14);
    local_7fc = 0x71;
    FUN_00047ab4(3, local_810, 1);
    /* WARNING: Subroutine does not return */
    FUN_00054ccc(1, 0);
}

char *FUN_00064250(char *param_1, char *param_2)

{
    size_t sVar1;
    size_t sVar2;
    char *__s;

    sVar1 = strlen(param_1);
    sVar2 = strlen(param_2);
    __s = (char *)malloc(sVar1 + sVar2);
    sprintf(__s, param_1, param_2);
    return __s;
}

undefined4 FUN_0006428c(undefined1 *param_1)

{
    *param_1 = 1;
    return 0;
}

undefined4 FUN_0006429c(undefined1 *param_1)

{
    *param_1 = 0;
    return 0;
}

char *FUN_000642bc(char *param_1, undefined1 *param_2)

{
    int iVar1;
    size_t sVar2;
    char *__s;

    iVar1 = strcasecmp(param_1, "yes");
    if ((iVar1 == 0) || (iVar1 = strcasecmp(param_1, "true"), iVar1 == 0)) {
        *param_2 = 1;
        return (char *)0x0;
    }
    iVar1 = strcasecmp(param_1, "no");
    if ((iVar1 != 0) && (iVar1 = strcasecmp(param_1, "false"), iVar1 != 0)) {
        sVar2 = strlen(param_1);
        __s = (char *)malloc(sVar2 + 0x16);
        sprintf(__s, "Invalid argument \'%s\'", param_1);
        return __s;
    }
    *param_2 = 0;
    return (char *)0x0;
}

void FUN_00064350(undefined4 param_1, byte *param_2)

{
    int iVar1;

    iVar1 = FUN_000642bc();
    if (iVar1 == 0) {
        *param_2 = *param_2 ^ 1;
    }
    return;
}

undefined4 FUN_00064370(undefined4 param_1, undefined4 *param_2)

{
    *param_2 = param_1;
    return 0;
}

void FUN_0006437c(char *param_1, float *param_2)

{
    int *piVar1;
    float fVar2;
    char *local_14;

    piVar1 = __errno_location();
    *piVar1 = 0;
    fVar2 = strtof(param_1, &local_14);
    *param_2 = fVar2;
    if ((*local_14 == '\0') && (*param_1 != '\0')) {
        if (*piVar1 != 0) {
            FUN_00064250("\'%s\' is out of range", param_1);
            return;
        }
    } else {
        FUN_00064250("\'%s\' is not a number", param_1);
    }
    return;
}

void FUN_00064404(char *param_1, long *param_2)

{
    int *piVar1;
    long lVar2;
    char *local_14;

    piVar1 = __errno_location();
    *piVar1 = 0;
    lVar2 = strtol(param_1, &local_14, 0);
    *param_2 = lVar2;
    if ((*local_14 == '\0') && (*param_1 != '\0')) {
        if (*piVar1 != 0) {
            FUN_00064250("\'%s\' is out of range", param_1);
            return;
        }
    } else {
        FUN_00064250("\'%s\' is not a number", param_1);
    }
    return;
}

void FUN_0006448c(undefined4 param_1, undefined4 *param_2)

{
    int iVar1;
    undefined4 local_c;

    iVar1 = FUN_00064404(param_1, &local_c);
    if (iVar1 == 0) {
        *param_2 = local_c;
    }
    return;
}

void FUN_000644b4(undefined4 param_1, int *param_2)

{
    int iVar1;
    int local_14[2];

    iVar1 = FUN_00064404(param_1, local_14);
    if (iVar1 == 0) {
        if (local_14[0] < 0) {
            FUN_00064250("\'%s\' is negative", param_1);
            return;
        }
        *param_2 = local_14[0];
    }
    return;
}

void FUN_00064504(undefined4 param_1, int *param_2)

{
    int iVar1;
    int local_14[2];

    iVar1 = FUN_00064404(param_1, local_14);
    if (iVar1 == 0) {
        *param_2 = local_14[0];
        if (local_14[0] < 0) {
            FUN_00064250("\'%s\' is negative", param_1);
            return;
        }
    }
    return;
}

void FUN_0006456c(char *param_1)

{
    puts(param_1);
    fflush(stdout);
    /* WARNING: Subroutine does not return */
    exit(0);
}

void FUN_00064614(undefined1 *param_1, undefined4 *param_2)

{
    size_t __n;

    __n = strlen((char *)*param_2);
    *param_1 = 0x22;
    if (0x4e < __n) {
        strncpy(param_1 + 1, (char *)*param_2, 0x4e);
        param_1[0x4f] = 0x22;
        return;
    }
    strncpy(param_1 + 1, (char *)*param_2, __n);
    param_1[__n + 1] = 0x22;
    if (__n != 0x4e) {
        param_1[__n + 2] = 0;
    }
    return;
}

char *FUN_000646f0(uint *param_1, size_t *param_2)

{
    size_t sVar1;
    char *__s;
    int iVar2;
    int *piVar3;
    uint uVar4;

    *param_1 = 0;
    if (DAT_002463ec == 0) {
    LAB_00064788:
        __s = (char *)0x0;
    } else {
        piVar3 = DAT_002463e4;
        if (DAT_002463e4[1] == 8) {
            iVar2 = 0x1c;
            uVar4 = 1;
            do {
                *param_1 = uVar4;
                if (DAT_002463ec <= uVar4)
                    goto LAB_00064788;
                piVar3 = (int *)((int)DAT_002463e4 + iVar2);
                iVar2 = iVar2 + 0x1c;
                uVar4 = uVar4 + 1;
            } while (piVar3[1] == 8);
        }
        __s = (char *)(*piVar3 + 1);
        sVar1 = strcspn(__s, "|= ");
        *param_2 = sVar1;
    }
    return __s;
}

char *FUN_00064790(int param_1, size_t *param_2)

{
    byte bVar1;
    size_t sVar2;
    char *__s;

    bVar1 = *(byte *)(param_1 + *param_2);
    if ((bVar1 & 0xdf) == 0 || bVar1 == 0x3d) {
        __s = (char *)0x0;
    } else {
        __s = (char *)(param_1 + *param_2 + 2);
        sVar2 = strcspn(__s, "|= ");
        *param_2 = sVar2;
    }
    return __s;
}

char *FUN_000647d8(int param_1, uint *param_2, size_t *param_3)

{
    char *pcVar1;
    size_t sVar2;
    int *piVar3;
    uint uVar4;

    uVar4 = *param_2;
    if (uVar4 < DAT_002463ec) {
        do {
            piVar3 = (int *)(DAT_002463e4 + uVar4 * 0x1c);
            if (piVar3[1] != 8) {
                if (param_1 == 0) {
                    pcVar1 = (char *)(*piVar3 + 1);
                    sVar2 = strcspn(pcVar1, "|= ");
                    *param_3 = sVar2;
                    return pcVar1;
                }
                pcVar1 = (char *)FUN_00064790(param_1, param_3);
                if (pcVar1 != (char *)0x0) {
                    return pcVar1;
                }
                uVar4 = *param_2;
                param_1 = 0;
            }
            uVar4 = uVar4 + 1;
            *param_2 = uVar4;
        } while (uVar4 < DAT_002463ec);
    }
    return (char *)0x0;
}

void FUN_00064890(undefined4 *param_1)

{
    size_t sVar1;
    undefined4 *puVar2;
    undefined4 uVar3;
    undefined4 uVar4;
    uint uVar5;
    undefined4 uVar6;
    char *__s;
    int iVar7;
    undefined4 extraout_r12;
    undefined4 *puVar8;
    bool bVar9;
    size_t local_1c;

    uVar5 = param_1[1];
    bVar9 = 3 < uVar5;
    if (uVar5 != 4) {
        bVar9 = uVar5 != 1;
    }
    if (!bVar9 || (uVar5 == 4 || uVar5 == 2)) {
        if (param_1[6] != 0) {
            if (*(char *)*param_1 == '-') {
                __s = (char *)*param_1 + 1;
                local_1c = strcspn(__s, "|= ");
                while (*__s == '-') {
                    sVar1 = local_1c;
                    if (local_1c == 1)
                        goto LAB_000649c4;
                    iVar7 = param_1[1];
                    DAT_002463dc = DAT_002463dc + 1;
                LAB_00064928:
                    if ((iVar7 == 1) &&
                        (uVar3 = 1, sVar1 = local_1c,
                         __s[local_1c] == '=' || __s[local_1c] == ' '))
                        goto LAB_000649a8;
                    __s = (char *)FUN_00064790(__s, &local_1c);
                    if (__s == (char *)0x0) {
                        return;
                    }
                }
                if (local_1c == 1) {
                    iVar7 = param_1[1];
                    DAT_002463e0 = DAT_002463e0 + 1;
                    if ((iVar7 - 2U & 0xfffffffd) == 0) {
                        DAT_002463d8 = DAT_002463d8 + 1;
                    }
                    goto LAB_00064928;
                }
                __s = __s + -1;
                sVar1 = errx(1, "Option %s: invalid short option \'%.*s\'",
                             *param_1, local_1c + 1, __s);
                uVar3 = extraout_r12;
            LAB_000649a8:
                sVar1 = errx(uVar3, "Option %s: does not take arguments \'%s\'",
                             *param_1, __s + sVar1 + 1);
            LAB_000649c4:
                errx(sVar1, "Option %s: invalid long option \'--\'", *param_1);
            }
            errx(1, "Option %s: does not begin with \'-\'");
        }
        errx(1, "Option %s: description cannot be NULL");
    }
    puVar2 = (undefined4 *)errx(1, "Option %s: unknown entry type %u");
    DAT_002463e4 = realloc(DAT_002463e4, (DAT_002463ec + 1) * 0x1c);
    uVar3 = puVar2[1];
    uVar4 = puVar2[2];
    uVar6 = puVar2[3];
    puVar8 = (undefined4 *)((int)DAT_002463e4 + DAT_002463ec * 0x1c);
    DAT_002463ec = DAT_002463ec + 1;
    *puVar8 = *puVar2;
    puVar8[1] = uVar3;
    puVar8[2] = uVar4;
    puVar8[3] = uVar6;
    uVar3 = puVar2[5];
    uVar4 = puVar2[6];
    puVar8[4] = puVar2[4];
    puVar8[5] = uVar3;
    puVar8[6] = uVar4;
    return;
}

void FUN_00064a04(undefined4 *param_1)

{
    undefined4 uVar1;
    undefined4 uVar2;
    undefined4 uVar3;
    undefined4 *puVar4;

    DAT_002463e4 = realloc(DAT_002463e4, (DAT_002463ec + 1) * 0x1c);
    uVar1 = param_1[1];
    uVar2 = param_1[2];
    uVar3 = param_1[3];
    puVar4 = (undefined4 *)((int)DAT_002463e4 + DAT_002463ec * 0x1c);
    DAT_002463ec = DAT_002463ec + 1;
    *puVar4 = *param_1;
    puVar4[1] = uVar1;
    puVar4[2] = uVar2;
    puVar4[3] = uVar3;
    uVar1 = param_1[5];
    uVar2 = param_1[6];
    puVar4[4] = param_1[4];
    puVar4[5] = uVar1;
    puVar4[6] = uVar2;
    return;
}

char *FUN_00064a68(undefined4 param_1, int *param_2)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_000646f0();
    while (true) {
        if (pcVar1 == (char *)0x0) {
            return (char *)0x0;
        }
        if (*pcVar1 == '-')
            break;
        pcVar1 = (char *)FUN_000647d8(pcVar1, param_1, param_2);
    }
    *param_2 = *param_2 + -1;
    return pcVar1 + 1;
}

char *FUN_00064ac0(undefined4 param_1, undefined4 param_2, int *param_3)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_000647d8();
    while (true) {
        if (pcVar1 == (char *)0x0) {
            return (char *)0x0;
        }
        if (*pcVar1 == '-')
            break;
        pcVar1 = (char *)FUN_000647d8(pcVar1, param_2, param_3);
    }
    *param_3 = *param_3 + -1;
    return pcVar1 + 1;
}

char *FUN_00064b18(undefined4 param_1)

{
    char *pcVar1;
    undefined4 local_14[2];

    local_14[0] = 0;
    pcVar1 = (char *)FUN_000646f0(param_1, local_14);
    while (true) {
        if (pcVar1 == (char *)0x0) {
            return (char *)0x0;
        }
        if (*pcVar1 != '-')
            break;
        pcVar1 = (char *)FUN_000647d8(pcVar1, param_1, local_14);
    }
    return pcVar1;
}

char *FUN_00064b78(undefined4 param_1, undefined4 param_2)

{
    char *pcVar1;
    undefined4 local_14[2];

    local_14[0] = 1;
    pcVar1 = (char *)FUN_000647d8(param_1, param_2, local_14);
    while (true) {
        if (pcVar1 == (char *)0x0) {
            return (char *)0x0;
        }
        if (*pcVar1 != '-')
            break;
        pcVar1 = (char *)FUN_000647d8(pcVar1, param_2, local_14);
    }
    return pcVar1;
}

void FUN_00064bd8(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4, undefined4 param_5, undefined4 param_6,
                  undefined4 param_7)

{
    undefined4 local_24;
    undefined4 local_20;
    undefined4 local_1c;
    undefined4 uStack_18;
    undefined4 local_14;
    undefined4 local_10;
    undefined4 local_c;

    local_14 = param_5;
    local_10 = param_6;
    local_c = param_7;
    local_24 = param_1;
    local_20 = param_2;
    local_1c = param_3;
    uStack_18 = param_4;
    FUN_00064890(&local_24);
    FUN_00064a04(&local_24);
    return;
}

void FUN_00064c1c(undefined4 *param_1, int param_2)

{
    int iVar1;
    int iVar2;
    undefined4 local_34;
    undefined4 local_30;
    undefined4 local_2c;
    undefined4 local_28;
    undefined4 local_24;
    undefined4 local_20;
    int local_1c;

    iVar1 = DAT_002463ec;
    if (param_2 == 0) {
        iVar2 = param_1[1];
        if (iVar2 == 0x10) {
            return;
        }
    } else {
        local_34 = 0;
        local_2c = 0;
        local_28 = 0;
        local_24 = 0;
        local_20 = 0;
        local_30 = 8;
        local_1c = param_2;
        FUN_00064a04(&local_34);
        iVar2 = param_1[1];
        if (iVar2 == 0x10)
            goto LAB_00064ca4;
    }
    do {
        if (iVar2 == 8) {
            FUN_00064c1c(*param_1, param_1[6]);
        } else {
            FUN_00064890(param_1);
            FUN_00064a04(param_1);
        }
        iVar2 = param_1[8];
        param_1 = param_1 + 7;
    } while (iVar2 != 0x10);
    if (param_2 == 0) {
        return;
    }
LAB_00064ca4:
    *(int *)(DAT_002463e4 + iVar1 * 0x1c + 0x14) = DAT_002463ec - iVar1;
    return;
}

bool FUN_00064cf0(undefined4 param_1, undefined4 *param_2, undefined4 param_3)

{
    int iVar1;
    undefined4 local_1c[2];

    DAT_002463e8 = *param_2;
    local_1c[0] = 0;
    do {
        iVar1 = FUN_00064e5c(param_1, param_2, local_1c, param_3);
    } while (iVar1 == 1);
    return iVar1 == 0;
}

void FUN_00064d4c(void)

{
    free(DAT_002463e4);
    DAT_002463e4 = (void *)0x0;
    return;
}

void FUN_00064e24(int *param_1, int param_2, int param_3)

{
    memmove((void *)(param_2 + param_3 * 4),
            (void *)(param_2 + param_3 * 4 + 4), (*param_1 - param_3) * 4);
    *param_1 = *param_1 + -1;
    return;
}

/* WARNING: Type propagation algorithm not settling */

undefined4 FUN_00064e5c(undefined4 param_1, undefined4 *param_2, int *param_3,
                        code *param_4)

{
    char cVar1;
    int *piVar2;
    char *pcVar3;
    char *pcVar4;
    void *__ptr;
    int iVar5;
    size_t sVar6;
    int iVar7;
    int iVar8;
    int *piVar9;
    int iVar10;
    size_t sVar11;
    int iVar12;
    char *local_38;
    int local_30;
    size_t local_2c[2];

    pcVar3 = getenv("POSIXLY_CORRECT");
    pcVar4 = (char *)param_2[1];
    if (pcVar3 == (char *)0x0) {
        if (pcVar4 == (char *)0x0) {
            return 0;
        }
        if (*pcVar4 == '-') {
            piVar9 = param_2 + 1;
            iVar8 = 1;
        } else {
            iVar8 = 1;
            piVar2 = param_2 + 2;
            do {
                piVar9 = piVar2;
                pcVar4 = (char *)*piVar9;
                iVar8 = iVar8 + 1;
                if (pcVar4 == (char *)0x0) {
                    return 0;
                }
                piVar2 = piVar9 + 1;
            } while (*pcVar4 != '-');
        }
        cVar1 = pcVar4[1];
    } else {
        piVar9 = param_2 + 1;
        if (pcVar4 == (char *)0x0) {
            return 0;
        }
        if (*pcVar4 != '-') {
            return 0;
        }
        cVar1 = pcVar4[1];
        iVar8 = 1;
    }
    if (cVar1 == '-') {
        if (pcVar4[2] == '\0') {
            FUN_00064e24(param_1, param_2, iVar8);
            return 0;
        }
        if (*param_3 != 0) {
            /* WARNING: Subroutine does not return */
            __assert_fail("*offset == 0", "ccan/opt/parse.c", 0x3b,
                          "parse_one");
        }
        pcVar4 = (char *)FUN_00064a68(&local_30, local_2c);
        sVar6 = local_2c[0];
        while (pcVar4 != (char *)0x0) {
            iVar10 = *piVar9;
            local_2c[0] = sVar6;
            iVar5 = strncmp((char *)(iVar10 + 2), pcVar4, sVar6);
            if (iVar5 == 0) {
                sVar11 = sVar6 + 2;
                if (*(char *)(iVar10 + sVar11) == '=') {
                    iVar5 = local_30 * 0x1c;
                    iVar10 = iVar10 + sVar6 + 3;
                    local_38 = pcVar4 + -2;
                    iVar7 = DAT_002463e4 + iVar5;
                    if (*(int *)(iVar7 + 4) == 1) {
                        local_2c[0] = sVar11;
                        if (iVar10 != 0) {
                            (*param_4)("%s: %.*s: %s", *param_2, sVar11,
                                       local_38, "doesn\'t allow an argument");
                            return 0xffffffff;
                        }
                        goto LAB_0006510c;
                    }
                    local_2c[0] = sVar11;
                    if (iVar10 != 0)
                        goto LAB_00064f94;
                } else {
                    if (*(char *)(iVar10 + sVar11) != '\0')
                        goto LAB_000650bc;
                    local_38 = pcVar4 + -2;
                    iVar7 = DAT_002463e4 + local_30 * 0x1c;
                    local_2c[0] = sVar11;
                    if (*(int *)(iVar7 + 4) == 1)
                        goto LAB_0006510c;
                }
                local_38 = pcVar4 + -2;
                iVar5 = local_30 * 0x1c;
                iVar12 = *param_3;
                local_2c[0] = sVar11;
                goto LAB_00064f7c;
            }
        LAB_000650bc:
            pcVar4 = (char *)FUN_00064ac0(pcVar4, &local_30, local_2c);
            sVar6 = local_2c[0];
        }
    } else {
        local_38 = (char *)FUN_00064b18(&local_30);
        if (local_38 != (char *)0x0) {
            iVar12 = *param_3 + 1;
            if (*local_38 != *(char *)(*piVar9 + iVar12)) {
                do {
                    local_38 = (char *)FUN_00064b78(local_38, &local_30);
                    if (local_38 == (char *)0x0)
                        goto LAB_000650d4;
                    iVar12 = *param_3 + 1;
                } while (*(char *)(*piVar9 + iVar12) != *local_38);
            }
            local_38 = local_38 + -1;
            *param_3 = iVar12;
            local_2c[0] = 2;
            iVar5 = local_30 * 0x1c;
            iVar7 = DAT_002463e4 + iVar5;
            if (*(int *)(iVar7 + 4) == 1) {
            LAB_0006510c:
                iVar10 = 0;
                __ptr = (void *)(**(code **)(iVar7 + 8))(
                    *(undefined4 *)(iVar7 + 0x14));
            } else {
            LAB_00064f7c:
                if ((iVar12 == 0) ||
                    (iVar10 = *piVar9 + iVar12 + 1,
                     *(char *)(*piVar9 + iVar12 + 1) == '\0')) {
                    iVar10 = param_2[iVar8 + 1];
                    if (iVar10 == 0) {
                        (*param_4)("%s: %.*s: %s", *param_2, local_2c[0],
                                   local_38, "requires an argument");
                        return 0xffffffff;
                    }
                } else {
                    *param_3 = 0;
                }
            LAB_00064f94:
                if (*(int *)(DAT_002463e4 + iVar5 + 4) == 4) {
                    FUN_00064370(iVar10,
                                 *(undefined4 *)(DAT_002463e4 + iVar5 + 0x14));
                }
                iVar5 = DAT_002463e4 + local_30 * 0x1c;
                __ptr = (void *)(**(code **)(iVar5 + 0xc))(
                    iVar10, *(undefined4 *)(iVar5 + 0x14));
            }
            if (__ptr != (void *)0x0) {
                (*param_4)("%s: %.*s: %s", *param_2, local_2c[0], local_38,
                           __ptr);
                free(__ptr);
                return 0xffffffff;
            }
            if (*param_3 != 0) {
                if (*(char *)(*piVar9 + *param_3 + 1) != '\0') {
                    return 1;
                }
                *param_3 = 0;
            }
            FUN_00064e24(param_1, param_2, iVar8);
            if ((iVar10 != 0) && (*piVar9 == iVar10)) {
                FUN_00064e24(param_1, param_2, iVar8);
            }
            return 1;
        }
    }
LAB_000650d4:
    pcVar4 = (char *)*piVar9;
    sVar6 = strlen(pcVar4);
    (*param_4)("%s: %.*s: %s", *param_2, sVar6, pcVar4, "unrecognized option");
    return 0xffffffff;
}

char *FUN_0006530c(char *param_1, char *param_2)

{
    size_t sVar1;
    size_t sVar2;
    size_t sVar3;
    int iVar4;
    char *pcVar5;
    int iVar6;
    uint uVar7;
    int iVar8;
    char *__s;
    undefined4 *puVar9;
    char *pcVar10;
    undefined4 *puVar11;
    char *pcVar12;
    uint uVar13;
    uint uVar14;
    char *pcVar15;
    bool bVar16;
    int local_7c[20];
    undefined4 local_2c;

    sVar1 = strlen(param_1);
    uVar14 = DAT_002463ec;
    puVar9 = DAT_002463e4;
    sVar1 = DAT_002463e0 + 0x14 + sVar1;
    if (param_2 == (char *)0x0) {
        if (DAT_002463ec == 0) {
            param_2 = "";
            goto LAB_000653fc;
        }
        uVar13 = 0;
        puVar11 = DAT_002463e4;
        do {
            uVar13 = uVar13 + 1;
            if (((undefined *)puVar11[2] == &UNK_0006458c) &&
                (param_2 = (char *)puVar11[5], param_2 != (char *)0x0)) {
                sVar2 = strlen(param_2);
                sVar1 = sVar1 + sVar2;
                goto LAB_00065368;
            }
            puVar11 = puVar11 + 7;
        } while (uVar13 != DAT_002463ec);
        param_2 = "";
    } else {
        sVar2 = strlen(param_2);
        sVar1 = sVar1 + sVar2;
        puVar9 = DAT_002463e4;
        if (uVar14 == 0)
            goto LAB_000653fc;
    }
LAB_00065368:
    uVar13 = 0;
    do {
        while (true) {
            pcVar15 = (char *)puVar9[6];
            if (puVar9[1] != 8)
                break;
            uVar13 = uVar13 + 1;
            sVar2 = strlen(pcVar15);
            sVar1 = sVar2 + sVar1 + 3;
            puVar9 = puVar9 + 7;
            if (uVar14 <= uVar13)
                goto LAB_000653fc;
        }
        if (pcVar15 != (char *)&DAT_002463f0) {
            sVar2 = strlen((char *)*puVar9);
            sVar3 = strlen(pcVar15);
            iVar4 = sVar2 + sVar1 + 6 + sVar3;
            iVar8 = iVar4 + 0x76;
            if (puVar9[4] == 0) {
                iVar8 = iVar4 + 0x15;
            }
            sVar1 = iVar8 + 1;
        }
        uVar13 = uVar13 + 1;
        puVar9 = puVar9 + 7;
    } while (uVar13 < uVar14);
LAB_000653fc:
    pcVar15 = (char *)malloc(sVar1);
    if (pcVar15 != (char *)0x0) {
        iVar4 = sprintf(pcVar15, "Usage: %s", param_1);
        pcVar12 = pcVar15 + iVar4;
        builtin_strncpy(pcVar15 + iVar4, " [-", 4);
        pcVar5 = (char *)FUN_00064b18(local_7c);
        pcVar10 = pcVar12;
        if (pcVar5 != (char *)0x0) {
            iVar4 = 0;
            do {
                if ((undefined4 *)DAT_002463e4[local_7c[0] * 7 + 6] !=
                    &DAT_002463f0) {
                    pcVar12[iVar4 + 3] = *pcVar5;
                    iVar4 = iVar4 + 1;
                }
                pcVar5 = (char *)FUN_00064b78(pcVar5, local_7c);
            } while (pcVar5 != (char *)0x0);
            if (iVar4 != 0) {
                pcVar10 = pcVar12 + iVar4 + 4;
                (pcVar12 + iVar4 + 3)[0] = ']';
                (pcVar12 + iVar4 + 3)[1] = '\0';
            }
        }
        iVar4 = sprintf(pcVar10, " %s", param_2);
        pcVar5 = pcVar10 + iVar4 + 1;
        bVar16 = DAT_002463ec != 0;
        (pcVar10 + iVar4)[0] = '\n';
        (pcVar10 + iVar4)[1] = '\0';
        if (bVar16) {
            iVar4 = 0;
            uVar14 = 0;
            do {
                puVar9 = (undefined4 *)((int)DAT_002463e4 + iVar4);
                if ((undefined4 *)puVar9[6] != &DAT_002463f0) {
                    if (puVar9[1] == 8) {
                        iVar8 = sprintf(pcVar5, "%s:\n");
                        pcVar5 = pcVar5 + iVar8;
                    } else {
                        uVar7 = sprintf(pcVar5, "%s", *puVar9);
                        pcVar10 = pcVar5 + uVar7;
                        uVar13 = uVar7;
                        if (*(int *)((int)DAT_002463e4 + iVar4 + 4) == 2) {
                            __s = *(char **)((int)DAT_002463e4 + iVar4);
                            pcVar12 = strchr(__s, 0x20);
                            if ((pcVar12 == (char *)0x0) &&
                                (pcVar12 = strchr(__s, 0x3d),
                                 pcVar12 == (char *)0x0)) {
                                uVar13 = uVar7 + 6;
                                builtin_strncpy(pcVar5 + uVar7, " <arg>", 7);
                                pcVar10 = pcVar5 + uVar13;
                            }
                        }
                        if (uVar13 < 0x14) {
                            iVar8 = 0x14 - uVar13;
                        } else {
                            iVar8 = 1;
                        }
                        iVar8 = sprintf(pcVar10, "%.*s", iVar8,
                                        "                    ");
                        iVar6 = sprintf(
                            pcVar5 + iVar8 + uVar13, "%s",
                            *(undefined4 *)((int)DAT_002463e4 + iVar4 + 0x18));
                        iVar6 = iVar6 + iVar8 + uVar13;
                        pcVar10 = pcVar5 + iVar6;
                        if (*(int *)((int)DAT_002463e4 + iVar4 + 0x10) != 0) {
                            local_2c = 0x2e2e2e;
                            (**(code **)((int)DAT_002463e4 + iVar4 + 0x10))(
                                local_7c, *(undefined4 *)((int)DAT_002463e4 +
                                                          iVar4 + 0x14));
                            iVar8 =
                                sprintf(pcVar10, " (default: %s)", local_7c);
                            pcVar10 = pcVar5 + iVar8 + iVar6;
                        }
                        pcVar5 = pcVar10 + 1;
                        pcVar10[0] = '\n';
                        pcVar10[1] = '\0';
                    }
                }
                uVar14 = uVar14 + 1;
                iVar4 = iVar4 + 0x1c;
            } while (uVar14 < DAT_002463ec);
        }
        *pcVar5 = '\0';
    }
    return pcVar15;
}

void *memchr(void *__s, int __c, size_t __n)

{
    uint *puVar1;
    uint uVar2;
    uint uVar3;
    uint uVar4;

    if (__n == 0) {
        return (void *)0x0;
    }
    uVar4 = __c & 0xff;
    if (((uint)__s & 3) == 0) {
    LAB_000657a8:
        uVar3 = (__c & 0xffU) << 8 | uVar4;
        uVar3 = uVar3 | uVar3 << 0x10;
        if (3 < __n) {
            /* WARNING: Load size is inaccurate */
            uVar2 = *__s ^ uVar3;
            for (uVar2 = uVar2 + 0xfefefeff & ~uVar2; (uVar2 & 0x80808080) == 0;
                 uVar2 = uVar2 + 0xfefefeff & ~uVar2) {
                __s = (void *)((int)__s + 4);
                __n = __n - 4;
                if (__n < 4) {
                    if (__n == 0) {
                        return (void *)0x0;
                    }
                    break;
                }
                /* WARNING: Load size is inaccurate */
                uVar2 = *__s ^ uVar3;
            }
        }
        /* WARNING: Load size is inaccurate */
        if ((byte)*__s == uVar4) {
            return (uint *)__s;
        }
        puVar1 = (uint *)((int)__s + __n);
        while (__s = (void *)((int)__s + 1), (uint *)__s != puVar1) {
            /* WARNING: Load size is inaccurate */
            if (*__s == uVar4) {
                return (uint *)__s;
            }
        }
    } else {
        /* WARNING: Load size is inaccurate */
        if (*__s == uVar4) {
            return __s;
        }
        puVar1 = (uint *)((int)__s + 1);
        while (__s = puVar1, __n = __n - 1, __n != 0) {
            if (((uint)__s & 3) == 0)
                goto LAB_000657a8;
            /* WARNING: Load size is inaccurate */
            puVar1 = (uint *)((int)__s + 1);
            if ((byte)*__s == uVar4) {
                return (uint *)__s;
            }
        }
    }
    return (void *)0x0;
}

uint FUN_00065864(int param_1, uint param_2, int *param_3)

{
    byte bVar1;
    uint uVar2;
    uint uVar3;
    uint uVar4;
    uint uVar5;
    uint uVar6;
    int iVar7;
    int iVar8;
    int iVar9;
    uint uVar10;
    bool bVar11;

    iVar7 = 1;
    uVar2 = 0;
    iVar9 = 1;
    uVar10 = 0xffffffff;
    while (uVar6 = iVar9 + uVar2, uVar4 = uVar2, iVar9 + uVar2 < param_2) {
        while (uVar5 = uVar6, bVar1 = *(byte *)(param_1 + uVar10 + iVar9),
               *(byte *)(param_1 + uVar5) < bVar1) {
            iVar9 = 1;
            iVar7 = uVar5 - uVar10;
            uVar6 = uVar5 + 1;
            uVar4 = uVar5;
            if (param_2 <= uVar5 + 1)
                goto LAB_000658b4;
        }
        if (*(byte *)(param_1 + uVar5) == bVar1) {
            bVar11 = iVar9 == iVar7;
            iVar9 = iVar9 + 1;
            uVar2 = uVar4;
            if (bVar11) {
                iVar9 = 1;
                uVar2 = uVar5;
            }
        } else {
            iVar7 = 1;
            uVar2 = uVar4 + 1;
            iVar9 = iVar7;
            uVar10 = uVar4;
        }
    }
LAB_000658b4:
    iVar8 = 1;
    *param_3 = iVar7;
    uVar2 = 0;
    uVar6 = 0xffffffff;
    iVar9 = 1;
    while (uVar4 = iVar9 + uVar2, uVar5 = uVar2, iVar9 + uVar2 < param_2) {
        while (uVar3 = uVar4, bVar1 = *(byte *)(param_1 + uVar6 + iVar9),
               bVar1 < *(byte *)(param_1 + uVar3)) {
            iVar9 = 1;
            iVar8 = uVar3 - uVar6;
            uVar4 = uVar3 + 1;
            uVar5 = uVar3;
            if (param_2 <= uVar3 + 1)
                goto LAB_00065904;
        }
        if (*(byte *)(param_1 + uVar3) == bVar1) {
            bVar11 = iVar9 == iVar8;
            iVar9 = iVar9 + 1;
            uVar2 = uVar5;
            if (bVar11) {
                iVar9 = 1;
                uVar2 = uVar3;
            }
        } else {
            iVar8 = 1;
            uVar2 = uVar5 + 1;
            uVar6 = uVar5;
            iVar9 = iVar8;
        }
    }
LAB_00065904:
    uVar2 = uVar10 + 1;
    if (uVar10 + 1 <= uVar6 + 1) {
        *param_3 = iVar8;
        uVar2 = uVar6 + 1;
    }
    return uVar2;
}

int FUN_00065974(int param_1, int param_2, char *param_3, uint param_4)

{
    uint uVar1;
    int iVar2;
    int iVar3;
    uint __n;
    byte *pbVar4;
    uint uVar5;
    uint uVar6;
    uint *puVar7;
    uint uVar8;
    uint uVar9;
    uint uVar10;
    uint uVar11;
    char *pcVar12;
    char *pcVar13;
    bool bVar14;
    uint local_42c;
    uint local_428[257];

    uVar11 = param_4 - 1;
    if (param_4 < 3) {
        local_42c = 1;
        __n = uVar11;
    } else {
        __n = FUN_00065864(param_3, param_4, &local_42c);
    }
    uVar9 = local_42c;
    puVar7 = &local_42c;
    do {
        puVar7 = puVar7 + 1;
        *puVar7 = param_4;
    } while (puVar7 != local_428 + 0xff);
    if (param_4 != 0) {
        pbVar4 = (byte *)(param_3 + -1);
        uVar8 = uVar11;
        do {
            pbVar4 = pbVar4 + 1;
            local_428[*pbVar4] = uVar8;
            bVar14 = uVar8 != 0;
            uVar8 = uVar8 - 1;
        } while (bVar14);
    }
    iVar2 = memcmp(param_3, param_3 + local_42c, __n);
    if (iVar2 == 0) {
        uVar6 = __n - 1;
        uVar8 = 0;
        uVar10 = 0;
        do {
            while (true) {
                uVar5 = local_428[*(byte *)(param_1 + uVar8 + uVar11)];
                if (uVar5 == 0)
                    break;
                if (uVar10 != 0 && uVar5 < uVar9) {
                    uVar5 = param_4 - uVar9;
                }
                uVar8 = uVar8 + uVar5;
            LAB_00065a54:
                uVar10 = 0;
                if (param_2 - param_4 < uVar8) {
                    return 0;
                }
            }
            uVar5 = __n;
            if (__n < uVar10) {
                uVar5 = uVar10;
            }
            if (uVar5 < uVar11) {
                pcVar13 = param_3 + uVar5;
                pcVar12 = (char *)(param_1 + uVar5 + uVar8);
                if (*(char *)(param_1 + uVar5 + uVar8) == param_3[uVar5]) {
                    do {
                        uVar5 = uVar5 + 1;
                        if (uVar11 <= uVar5)
                            goto LAB_00065acc;
                        pcVar13 = pcVar13 + 1;
                        pcVar12 = pcVar12 + 1;
                    } while (*pcVar13 == *pcVar12);
                }
                uVar8 = uVar5 + (1 - __n) + uVar8;
                goto LAB_00065a54;
            }
        LAB_00065acc:
            uVar5 = __n;
            if ((uVar10 < __n) &&
                (pcVar12 = (char *)(param_1 + uVar6 + uVar8),
                 param_3[uVar6] == *(char *)(param_1 + uVar6 + uVar8))) {
                pcVar13 = param_3 + uVar6;
                uVar1 = uVar6;
                do {
                    uVar5 = uVar1;
                    if (uVar5 - 1 == uVar10 - 1)
                        break;
                    pcVar13 = pcVar13 + -1;
                    pcVar12 = pcVar12 + -1;
                    uVar1 = uVar5 - 1;
                } while (*pcVar13 == *pcVar12);
            }
            if (uVar5 < uVar10 + 1) {
                return param_1 + uVar8;
            }
            uVar8 = uVar8 + uVar9;
            uVar10 = param_4 - uVar9;
        } while (uVar8 <= param_2 - param_4);
    } else {
        iVar2 = __n - 1;
        uVar9 = param_4 - __n;
        if (param_4 - __n < __n) {
            uVar9 = __n;
        }
        uVar8 = 0;
        do {
            iVar3 = param_1 + uVar8;
            uVar10 = local_428[*(byte *)(iVar3 + uVar11)];
            if (local_428[*(byte *)(iVar3 + uVar11)] == 0) {
                if (uVar11 <= __n) {
                LAB_00065c08:
                    if (iVar2 == -1) {
                        return iVar3;
                    }
                    pcVar13 = (char *)(param_1 + iVar2 + uVar8);
                    pcVar12 = param_3 + iVar2;
                    uVar10 = uVar9 + 1;
                    if (*(char *)(param_1 + iVar2 + uVar8) == param_3[iVar2]) {
                        do {
                            if (pcVar12 == param_3) {
                                return iVar3;
                            }
                            pcVar12 = pcVar12 + -1;
                            pcVar13 = pcVar13 + -1;
                        } while (*pcVar12 == *pcVar13);
                    }
                    goto LAB_00065c4c;
                }
                pcVar13 = (char *)(param_1 + __n + uVar8);
                uVar10 = __n;
                pcVar12 = param_3 + __n;
                if (*(char *)(param_1 + __n + uVar8) == param_3[__n]) {
                    do {
                        uVar10 = uVar10 + 1;
                        if (uVar11 <= uVar10)
                            goto LAB_00065c08;
                        pcVar12 = pcVar12 + 1;
                        pcVar13 = pcVar13 + 1;
                    } while (*pcVar12 == *pcVar13);
                }
                uVar8 = uVar10 + (1 - __n) + uVar8;
            } else {
            LAB_00065c4c:
                uVar8 = uVar8 + uVar10;
            }
        } while (uVar8 <= param_2 - param_4);
    }
    return 0;
}

void *memmem(void *__haystack, size_t __haystacklen, void *__needle,
             size_t __needlelen)

{
    uint uVar1;
    void *pvVar2;
    int iVar3;
    uint uVar4;
    char *pcVar5;
    uint uVar6;
    uint uVar7;
    size_t sVar8;
    uint __n;
    uint uVar9;
    uint uVar10;
    int iVar11;
    char *pcVar12;
    int local_2c[2];

    if (__needlelen != 0) {
        if (__needlelen <= __haystacklen) {
            if (0x1f < __needlelen) {
                pvVar2 = (void *)FUN_00065974();
                return pvVar2;
            }
            /* WARNING: Load size is inaccurate */
            pvVar2 = memchr(__haystack, (uint)*__needle, __haystacklen);
            if (pvVar2 == (void *)0x0 || __needlelen == 1) {
                return pvVar2;
            }
            uVar9 = __haystacklen - ((int)pvVar2 - (int)__haystack);
            if (__needlelen <= uVar9) {
                if (__needlelen < 3) {
                    __n = __needlelen - 1;
                    local_2c[0] = 1;
                } else {
                    __n = FUN_00065864(__needle, __needlelen, local_2c);
                }
                iVar11 = local_2c[0];
                iVar3 = memcmp(__needle, (void *)((int)__needle + local_2c[0]),
                               __n);
                if (iVar3 == 0) {
                    uVar6 = __n - 1;
                    uVar4 = 0;
                    uVar10 = 0;
                    do {
                        uVar7 = __n;
                        if (__n < uVar10) {
                            uVar7 = uVar10;
                        }
                        if (uVar7 < __needlelen) {
                            pcVar12 = (char *)((int)__needle + uVar7);
                            pcVar5 = (char *)((int)pvVar2 + uVar7 + uVar4);
                            if (*(char *)((int)__needle + uVar7) ==
                                *(char *)((int)pvVar2 + uVar7 + uVar4)) {
                                do {
                                    uVar7 = uVar7 + 1;
                                    if (__needlelen == uVar7)
                                        goto LAB_00065db8;
                                    pcVar12 = pcVar12 + 1;
                                    pcVar5 = pcVar5 + 1;
                                } while (*pcVar12 == *pcVar5);
                            }
                            uVar4 = (1 - __n) + uVar4 + uVar7;
                            uVar10 = 0;
                        } else {
                        LAB_00065db8:
                            uVar7 = __n;
                            if ((uVar10 < __n) &&
                                (pcVar5 = (char *)((int)pvVar2 + uVar6 + uVar4),
                                 *(char *)((int)__needle + uVar6) ==
                                     *(char *)((int)pvVar2 + uVar6 + uVar4))) {
                                pcVar12 = (char *)((int)__needle + uVar6);
                                uVar1 = uVar6;
                                do {
                                    uVar7 = uVar1;
                                    if (uVar7 - 1 == uVar10 - 1)
                                        break;
                                    pcVar12 = pcVar12 + -1;
                                    pcVar5 = pcVar5 + -1;
                                    uVar1 = uVar7 - 1;
                                } while (*pcVar12 == *pcVar5);
                            }
                            if (uVar7 < uVar10 + 1) {
                                return (void *)((int)pvVar2 + uVar4);
                            }
                            uVar4 = uVar4 + iVar11;
                            uVar10 = __needlelen - iVar11;
                        }
                    } while (uVar4 <= uVar9 - __needlelen);
                } else {
                    iVar11 = __n - 1;
                    uVar4 = __needlelen - __n;
                    if (__needlelen - __n < __n) {
                        uVar4 = __n;
                    }
                    uVar10 = 0;
                    do {
                        if (__n < __needlelen) {
                            pcVar12 = (char *)((int)pvVar2 + __n + uVar10);
                            pcVar5 = (char *)((int)__needle + __n);
                            sVar8 = __n;
                            if (*(char *)((int)pvVar2 + __n + uVar10) ==
                                *(char *)((int)__needle + __n)) {
                                do {
                                    sVar8 = sVar8 + 1;
                                    if (__needlelen == sVar8)
                                        goto LAB_00065ee4;
                                    pcVar5 = pcVar5 + 1;
                                    pcVar12 = pcVar12 + 1;
                                } while (*pcVar5 == *pcVar12);
                            }
                            uVar10 = (1 - __n) + uVar10 + sVar8;
                        } else {
                        LAB_00065ee4:
                            if (iVar11 == -1) {
                            LAB_00065f28:
                                return (void *)((int)pvVar2 + uVar10);
                            }
                            pcVar12 = (char *)((int)pvVar2 + iVar11 + uVar10);
                            pcVar5 = (char *)((int)__needle + iVar11);
                            if (*(char *)((int)pvVar2 + iVar11 + uVar10) ==
                                *(char *)((int)__needle + iVar11)) {
                                do {
                                    if (pcVar5 == (char *)__needle)
                                        goto LAB_00065f28;
                                    pcVar5 = pcVar5 + -1;
                                    pcVar12 = pcVar12 + -1;
                                } while (*pcVar5 == *pcVar12);
                            }
                            uVar10 = uVar10 + uVar4 + 1;
                        }
                    } while (uVar10 <= uVar9 - __needlelen);
                }
            }
        }
        __haystack = (void *)0x0;
    }
    return __haystack;
}

undefined4 FUN_00065f88(int param_1)

{
    int __fd;
    int iVar1;
    undefined4 uVar2;
    undefined1 *puVar3;
    undefined1 *puVar4;
    undefined4 local_830;
    undefined1 local_82c;
    undefined1 uStack_81f;
    undefined1 local_81e[14];
    char local_810[8];
    undefined4 uStack_808;

    __fd = socket(2, 1, 0);
    if (__fd < 0) {
        builtin_strncpy(local_810, "error so", 8);
        uStack_808 = CONCAT13(uStack_808._3_1_, 0x6b63);
        FUN_00047ab4(0, local_810);
        uVar2 = 0xffffffff;
    } else {
        local_830 = 0x30687465;
        local_82c = 0;
        iVar1 = ioctl(__fd, 0x8927, &local_830);
        if (iVar1 < 0) {
            builtin_strncpy(local_810, "error io", 8);
            uStack_808._0_1_ = 'c';
            uStack_808._1_1_ = 't';
            uStack_808._2_1_ = 'l';
            uStack_808._3_1_ = '\0';
            FUN_00047ab4(0, local_810);
            close(__fd);
            uVar2 = 0xfffffffe;
        } else {
            puVar3 = &uStack_81f;
            puVar4 = (undefined1 *)(param_1 + -1);
            do {
                puVar3 = puVar3 + 1;
                puVar4 = puVar4 + 1;
                *puVar4 = *puVar3;
            } while (puVar4 != (undefined1 *)(param_1 + 5));
            close(__fd);
            uVar2 = 0;
        }
    }
    return uVar2;
}

void FUN_0006607c(void)

{
    int iVar1;
    bool bVar2;
    int iVar3;
    int iVar4;
    int iVar5;
    int iVar6;
    uint local_82c;
    char local_828[24];
    undefined2 uStack_810;
    undefined1 local_80e;

    local_82c = 0;
    memset(&DAT_001b0d38, 0, 0x124);
    FUN_0006688c(2, &local_82c);
    if (local_82c == 0) {
        builtin_strncpy(local_828, "Cannot Find Any Plug In!", 0x18);
        uStack_810 = 0xa0d;
        local_80e = 0;
        FUN_00047ab4(0, local_828, 0);
        return;
    }
    if ((int)local_82c < 0) {
        local_82c = local_82c >> 0x18;
        DAT_001b0e5c = 1;
        snprintf(local_828, 0x800, "HASH_ON_PLUG T9 = 0x%x\n", local_82c);
        FUN_00047ab4(2, local_828, 0);
        if (local_82c == 0) {
            return;
        }
        bVar2 = false;
        iVar3 = 0;
        iVar5 = DAT_001b0d38;
        do {
            iVar6 = iVar5 * 0x48;
            if ((local_82c & 1) != 0) {
                *(int *)(&DAT_001b0d3c + iVar6) = iVar3;
                if (iVar3 == 1) {
                    *(undefined4 *)(&DAT_001b0d44 + iVar6) = 2;
                    *(undefined4 *)(&DAT_001b0d48 + iVar6) = 10;
                    *(undefined4 *)(&DAT_001b0d4c + iVar6) = 0xb;
                    *(undefined4 *)(&DAT_001b0d40 + iVar6) = 3;
                } else if (iVar3 == 0) {
                    *(undefined4 *)(&DAT_001b0d44 + iVar6) = 1;
                    *(undefined4 *)(&DAT_001b0d48 + iVar6) = 8;
                    *(undefined4 *)(&DAT_001b0d4c + iVar6) = 9;
                    *(undefined4 *)(&DAT_001b0d40 + iVar6) = 3;
                } else if (iVar3 == 2) {
                    *(undefined4 *)(&DAT_001b0d44 + iVar6) = 3;
                    *(undefined4 *)(&DAT_001b0d48 + iVar6) = 0xc;
                    *(undefined4 *)(&DAT_001b0d4c + iVar6) = 0xd;
                    *(undefined4 *)(&DAT_001b0d40 + iVar6) = 3;
                }
                iVar5 = iVar5 + 1;
                bVar2 = true;
            }
            local_82c = local_82c >> 1;
            iVar3 = iVar3 + 1;
        } while (local_82c != 0);
    } else {
        local_82c = local_82c & 0xffff;
        DAT_001b0e5c = 0;
        snprintf(local_828, 0x800, "HASH_ON_PLUG V9 = 0x%x\n", local_82c);
        FUN_00047ab4(2, local_828, 0);
        if (local_82c == 0) {
            return;
        }
        bVar2 = false;
        iVar6 = 0;
        iVar3 = DAT_001b0d38;
        do {
            iVar1 = iVar3 * 0x48;
            iVar5 = iVar3;
            if ((local_82c & 1) != 0) {
                iVar4 = *(int *)(&DAT_001b0d40 + iVar1);
                bVar2 = true;
                iVar5 = iVar3 + 1;
                *(int *)(&DAT_001b0d3c + iVar1) = iVar6;
                *(int *)(&DAT_001b0d40 + iVar1) = iVar4 + 1;
                *(int *)(&DAT_001b0d44 + (iVar4 + iVar3 * 0x12) * 4) = iVar6;
            }
            local_82c = local_82c >> 1;
            iVar6 = iVar6 + 1;
            iVar3 = iVar5;
        } while (local_82c != 0);
    }
    if (bVar2) {
        DAT_001b0d38 = iVar5;
    }
    return;
}

undefined4 FUN_00066298(void)

{
    int iVar1;
    undefined4 uVar2;
    char local_818[16];
    undefined4 local_808;
    char acStack_804[4];
    undefined2 uStack_800;
    undefined1 local_7fe;

    if (DAT_001b0e60 == 0) {
        iVar1 = FUN_000667a0();
        if (iVar1 == 0) {
            iVar1 = FUN_000669c4();
            if (iVar1 == 0) {
                memset(&DAT_001b0d38, 0, 0x124);
                iVar1 = FUN_000694c4();
                if (iVar1 == 0) {
                    FUN_0006607c();
                    DAT_001b0e60 = 1;
                    FUN_00066474();
                    FUN_00068b54();
                    FUN_00067ea0();
                    return 0;
                }
                FUN_000667c0();
                FUN_000669cc();
                uVar2 = 0xfffffffd;
                builtin_strncpy(local_818, "failed to load h", 0x10);
                local_808._0_1_ = 'a';
                local_808._1_1_ = 'l';
                local_808._2_1_ = ' ';
                local_808._3_1_ = 'c';
                builtin_strncpy(acStack_804, "onfi", 4);
                uStack_800 = 0xa67;
                local_7fe = 0;
                FUN_00047ab4(0, local_818, 0);
            } else {
                uVar2 = 0xfffffffe;
                builtin_strncpy(local_818, "gpio init failed", 0x10);
                local_808 = CONCAT22(local_808._2_2_, 10);
                FUN_00047ab4(0, local_818, 0);
            }
        } else {
            uVar2 = 0xffffffff;
            builtin_strncpy(local_818, "fpga init failed", 0x10);
            local_808 = CONCAT22(local_808._2_2_, 10);
            FUN_00047ab4(0, local_818, 0);
        }
    } else {
        uVar2 = 0;
    }
    return uVar2;
}

void FUN_000663d8(void)

{
    if (DAT_001b0e60 == 0) {
        return;
    }
    FUN_00067f00();
    FUN_000667c0();
    FUN_0006647c();
    FUN_00068be4();
    FUN_000669cc();
    DAT_001b0e60 = 0;
    return;
}

void FUN_00066410(void *param_1)

{
    if (param_1 == (void *)0x0) {
        return;
    }
    FUN_0006607c();
    memcpy(param_1, &DAT_001b0d38, 0x124);
    return;
}

undefined4 FUN_00066474(void)

{
    return 0;
}

void FUN_0006647c(void)

{
    return;
}

int FUN_00066480(uint param_1)

{
    int iVar1;
    uint local_18;
    uint local_14[2];

    local_18 = 0;
    iVar1 = 6;
    FUN_0006688c(0, local_14);
    local_14[0] = local_14[0] & 0xffff;
    do {
        FUN_0006688c(1, &local_18);
        if ((local_18 << 0x15) >> 0x1d == param_1) {
            if (local_14[0] == 0xb025) {
                iVar1 = (local_18 & 0xff) * 0xf0;
            } else {
                iVar1 = (local_18 & 0xff) * 0x78;
            }
            return iVar1;
        }
        usleep(10000);
        iVar1 = iVar1 + -1;
    } while (iVar1 != 0);
    return -1;
}

int FUN_00066518(int param_1)

{
    int iVar1;
    int iVar2;

    if (param_1 == 0) {
        iVar1 = FUN_0006739c(0x3ba, 1);
        return iVar1;
    }
    if (param_1 == 1) {
        iVar1 = FUN_0006739c(0x3bb);
        return iVar1;
    }
    iVar1 = FUN_0006739c(0x3ba, 1);
    iVar2 = FUN_0006739c(0x3bb, 1);
    return iVar1 + iVar2;
}

undefined4 FUN_000665b0(void)

{
    undefined4 uVar1;
    char acStack_818[2052];

    DAT_001b0e64 = open64("/dev/axi_fpga_dev", 2);
    if (DAT_001b0e64 < 0) {
        snprintf(acStack_818, 0x800, "/dev/axi_fpga_dev open failed. fd = %d\n",
                 DAT_001b0e64);
        FUN_00047ab4(0, acStack_818);
        uVar1 = 0xffffffff;
    } else {
        DAT_001b0e68 = mmap64((void *)0x0, 0x1200, 3, 1, DAT_001b0e64, 0);
        if (DAT_001b0e68 == (void *)0x0) {
            snprintf(acStack_818, 0x800,
                     "mmap axi_fpga_addr failed. axi_fpga_addr = %p\n", 0);
            FUN_00047ab4(0, acStack_818, 0);
            close(DAT_001b0e64);
            uVar1 = 0xfffffffe;
        } else {
            DAT_001b0e6c = open64("/dev/fpga_mem", 2);
            if (DAT_001b0e6c < 0) {
                snprintf(acStack_818, 0x800,
                         "/dev/fpga_mem open failed. fd_fpga_mem_hal = %d\n",
                         DAT_001b0e6c);
                FUN_00047ab4(0, acStack_818);
                perror("open");
                munmap(DAT_001b0e68, 0x1200);
                close(DAT_001b0e64);
                uVar1 = 0xffffffff;
            } else {
                DAT_001b0e70 =
                    mmap64((void *)0x0, 0x1000000, 3, 1, DAT_001b0e6c, 0);
                if (DAT_001b0e70 == (void *)0x0) {
                    snprintf(acStack_818, 0x800,
                             "mmap fpga_mem_addr_hal failed. fpga_mem_addr_hal "
                             "= 0x%x\n",
                             0);
                    FUN_00047ab4(0, acStack_818, 0);
                    munmap(DAT_001b0e68, 0x1200);
                    close(DAT_001b0e64);
                    close(DAT_001b0e6c);
                    uVar1 = 0xffffffff;
                } else {
                    snprintf(acStack_818, 0x800,
                             "mmap fpga_mem_addr_hal = 0x%x\n", DAT_001b0e70);
                    FUN_00047ab4(3, acStack_818, 0);
                    uVar1 = 0;
                    DAT_001b0e74 = 1;
                }
            }
        }
    }
    return uVar1;
}

undefined4 FUN_000667a0(void)

{
    undefined4 uVar1;

    if (DAT_001b0e74 != 0) {
        return 0;
    }
    uVar1 = FUN_000665b0();
    return uVar1;
}

void FUN_000667c0(void)

{
    int iVar1;
    char local_808[32];
    undefined2 local_7e8;

    if (DAT_001b0e74 == 0) {
        return;
    }
    iVar1 = munmap(DAT_001b0e68, 0x1200);
    if (iVar1 < 0) {
        builtin_strncpy(local_808, "munmap failed!\n", 0x10);
        FUN_00047ab4(0, local_808);
    }
    iVar1 = munmap(DAT_001b0e70, 0x1000000);
    if (iVar1 < 0) {
        builtin_strncpy(local_808, "munmap fpga_mem_addr_hal failed!", 0x20);
        local_7e8 = 10;
        FUN_00047ab4(0, local_808);
    }
    DAT_001b0e74 = 0;
    close(DAT_001b0e64);
    close(DAT_001b0e6c);
    return;
}

undefined4 FUN_0006688c(int param_1, undefined4 *param_2)

{
    int iVar1;

    if ((DAT_001b0e74 == 0) && (iVar1 = FUN_000665b0(), iVar1 != 0)) {
        return 0xffffffff;
    }
    if (DAT_001b0e5c == 0) {
        iVar1 = *(int *)(&DAT_0009f16c + param_1 * 4);
    } else {
        iVar1 = *(int *)(&DAT_0009ee84 + param_1 * 4);
    }
    *param_2 = *(undefined4 *)(DAT_001b0e68 + iVar1 * 4);
    return 0;
}

undefined4 FUN_00066908(int param_1, undefined4 param_2)

{
    int iVar1;

    if ((DAT_001b0e74 == 0) && (iVar1 = FUN_000665b0(), iVar1 != 0)) {
        return 0xffffffff;
    }
    if (DAT_001b0e5c == 0) {
        iVar1 = *(int *)(&DAT_0009f16c + param_1 * 4);
    } else {
        iVar1 = *(int *)(&DAT_0009ee84 + param_1 * 4);
    }
    *(undefined4 *)(DAT_001b0e68 + iVar1 * 4) = param_2;
    return 0;
}

undefined4 FUN_00066980(void)

{
    int iVar1;

    if ((DAT_001b0e74 == 0) && (iVar1 = FUN_000665b0(), iVar1 != 0)) {
        return 0;
    }
    return DAT_001b0e70;
}

undefined4 FUN_000669c4(void)

{
    return 0;
}

void FUN_000669cc(void)

{
    return;
}

undefined4 FUN_000669d0(undefined4 param_1, int param_2)

{
    int iVar1;
    undefined4 uVar2;
    undefined4 local_81c;
    pthread_attr_t local_818[56];

    local_81c = param_1;
    if (param_2 == 0) {
        local_818[0]._0_1_ = 'b';
        local_818[0]._1_1_ = 'a';
        local_818[0]._2_1_ = 'd';
        local_818[0]._3_1_ = ' ';
        local_818[0]._4_1_ = 'p';
        local_818[0]._5_1_ = 'a';
        local_818[0]._6_1_ = 'r';
        local_818[0]._7_1_ = 'a';
        local_818[0]._8_2_ = 0xa6d;
        local_818[0]._10_1_ = '\0';
        FUN_00047ab4(0, local_818, 0);
        uVar2 = 0xffffffff;
    } else {
        if (DAT_001b0e78 == 0) {
            pthread_mutex_init((pthread_mutex_t *)&DAT_001b0e7c,
                               (pthread_mutexattr_t *)0x0);
            DAT_001b0e94 = FUN_00069ed4(&LAB_000669b4, 0, 0);
            pthread_mutex_init((pthread_mutex_t *)&DAT_001b0e98,
                               (pthread_mutexattr_t *)0x0);
            DAT_001b0eb0 = 1;
            pthread_attr_init(local_818);
            pthread_attr_setstacksize(local_818, 0x200000);
            pthread_create((pthread_t *)&DAT_001b0eb4, local_818, FUN_00067258,
                           (void *)0x0);
            DAT_001b0e78 = 1;
        }
        iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001b0e7c);
        if (iVar1 == 0) {
            iVar1 = FUN_00069f3c(DAT_001b0e94, &local_81c);
            if (iVar1 == 0) {
                local_818[0]._4_4_ = 0xffffffff;
                local_818[0]._0_4_ = param_2;
                FUN_00069f24(DAT_001b0e94, &local_81c, 4, local_818, 8);
            }
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b0e7c);
            uVar2 = 0;
        } else {
            local_818[0]._12_1_ = ' ';
            local_818[0]._13_1_ = 'g';
            local_818[0]._14_1_ = 'p';
            local_818[0]._15_1_ = 'i';
            local_818[0]._16_1_ = 'o';
            local_818[0]._17_1_ = ' ';
            local_818[0]._18_1_ = 'c';
            local_818[0]._19_1_ = 't';
            local_818[0]._20_1_ = 'r';
            local_818[0]._21_1_ = 'l';
            local_818[0]._22_1_ = ' ';
            local_818[0]._23_1_ = 'm';
            local_818[0]._24_1_ = 'u';
            local_818[0]._25_1_ = 't';
            local_818[0]._26_1_ = 'e';
            local_818[0]._27_1_ = 'x';
            local_818[0]._28_2_ = 10;
            FUN_00047ab4(0, local_818);
            uVar2 = 0xffffffff;
        }
    }
    return uVar2;
}

undefined4 FUN_00066b44(undefined4 param_1, int param_2)

{
    int iVar1;
    undefined4 uVar2;
    undefined4 local_814;
    char local_810[8];
    undefined4 uStack_808;
    char acStack_804[16];
    undefined4 local_7f4;
    char local_7f0[2020];

    local_814 = param_1;
    if (param_2 == 0) {
        builtin_strncpy(local_810, "bad para", 8);
        uStack_808 = CONCAT13(uStack_808._3_1_, 0xa6d);
        FUN_00047ab4(0, local_810, 0);
        uVar2 = 0xffffffff;
    } else {
        iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001b0e7c);
        if (iVar1 == 0) {
            iVar1 = FUN_00069f3c(DAT_001b0e94, &local_814);
            if (iVar1 == 1) {
                FUN_00069f5c(DAT_001b0e94, &local_814);
            } else {
                builtin_strncpy(local_810, "callback", 8);
                uStack_808._0_1_ = ' ';
                uStack_808._1_1_ = 'f';
                uStack_808._2_1_ = 'u';
                uStack_808._3_1_ = 'n';
                builtin_strncpy(acStack_804, "ction not regist", 0x10);
                local_7f4._0_1_ = 'e';
                local_7f4._1_1_ = 'r';
                local_7f4._2_1_ = 'e';
                local_7f4._3_1_ = 'd';
                builtin_strncpy(local_7f0, " before\n", 8);
                local_7f0[8] = 0;
                FUN_00047ab4(1, local_810, 0);
            }
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b0e7c);
            uVar2 = 0;
        } else {
            builtin_strncpy(local_810, "fail to ", 8);
            uStack_808._0_1_ = 'l';
            uStack_808._1_1_ = 'o';
            uStack_808._2_1_ = 'c';
            uStack_808._3_1_ = 'k';
            builtin_strncpy(acStack_804, " gpio ctrl mutex", 0x10);
            local_7f4 = CONCAT22(local_7f4._2_2_, 10);
            FUN_00047ab4(0, local_810);
            uVar2 = 0xffffffff;
        }
    }
    return uVar2;
}

undefined4 FUN_00066c5c(undefined4 param_1)

{
    int iVar1;
    size_t __n;
    ssize_t sVar2;
    undefined4 uVar3;
    char acStack_850[64];
    char local_810[2048];

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001b0e98);
    if (iVar1 == 0) {
        snprintf(acStack_850, 0x40, "/sys/class/gpio/gpio%d", param_1);
        iVar1 = access(acStack_850, 0);
        if (iVar1 == 0) {
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b0e98);
            return 0;
        }
        iVar1 = open64("/sys/class/gpio/export", 1);
        if (iVar1 < 0) {
            builtin_strncpy(local_810, "Failed to open export for writing!\n",
                            0x24);
            FUN_00047ab4(0, local_810, 0);
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b0e98);
            uVar3 = 0xfffffffe;
        } else {
            __n = snprintf(acStack_850, 0x40, "%d", param_1);
            sVar2 = write(iVar1, acStack_850, __n);
            if (sVar2 < 0) {
                snprintf(local_810, 0x800, "Failed to export gpio %d!",
                         param_1);
                FUN_00047ab4(0, local_810, 0);
                close(iVar1);
                pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b0e98);
                uVar3 = 0xfffffffd;
            } else {
                close(iVar1);
                pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b0e98);
                uVar3 = 0;
            }
        }
    } else {
        builtin_strncpy(local_810, "failed to api lock\n", 0x14);
        FUN_00047ab4(0, local_810);
        uVar3 = 0xffffffff;
    }
    return uVar3;
}

undefined4 FUN_00066dd8(undefined4 param_1)

{
    int iVar1;
    size_t __n;
    ssize_t sVar2;
    undefined4 uVar3;
    char acStack_850[64];
    char local_810[36];
    undefined2 local_7ec;

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001b0e98);
    if (iVar1 == 0) {
        snprintf(acStack_850, 0x40, "/sys/class/gpio/gpio%d", param_1);
        iVar1 = access(acStack_850, 0);
        if (iVar1 != 0) {
            snprintf(local_810, 0x800, "port %d already unexported, ret = %d\n",
                     param_1, iVar1);
            FUN_00047ab4(1, local_810, 0);
            perror("access error");
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b0e98);
            return 0;
        }
        iVar1 = open64("/sys/class/gpio/unexport", 1);
        if (iVar1 < 0) {
            builtin_strncpy(local_810, "Failed to open unexport for writing!",
                            0x24);
            local_7ec = 10;
            FUN_00047ab4(0, local_810, 0);
            uVar3 = 0xfffffffe;
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b0e98);
        } else {
            __n = snprintf(acStack_850, 0x40, "%d", param_1);
            sVar2 = write(iVar1, acStack_850, __n);
            if (sVar2 < 0) {
                snprintf(local_810, 0x800, "Failed to unexport gpio %d!",
                         param_1);
                uVar3 = 0xfffffffe;
                FUN_00047ab4(0, local_810, 0);
                close(iVar1);
                pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b0e98);
            } else {
                close(iVar1);
                pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b0e98);
                uVar3 = 0;
            }
        }
    } else {
        uVar3 = 0xffffffff;
        builtin_strncpy(local_810, "failed to api lock\n", 0x14);
        FUN_00047ab4(0, local_810);
    }
    return uVar3;
}

undefined4 FUN_00066fa0(undefined4 param_1, int param_2)

{
    int iVar1;
    ssize_t sVar2;
    undefined4 uVar3;
    size_t extraout_r2;
    size_t __n;
    undefined *__buf;
    char acStack_858[64];
    char local_818[2052];

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001b0e98);
    if (iVar1 == 0) {
        snprintf(acStack_858, 0x40, "/sys/class/gpio/gpio%d/direction",
                 param_1);
        iVar1 = open64(acStack_858, 1);
        if (iVar1 < 0) {
            snprintf(local_818, 0x800,
                     "Failed to open gpio %d direction for writing!\n",
                     param_1);
            FUN_00047ab4(0, local_818, 0);
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b0e98);
            uVar3 = 0xfffffffe;
        } else {
            __buf = &DAT_00089fbc;
            __n = extraout_r2;
            if (param_2 == 0) {
                __n = 2;
            }
            if (param_2 != 0) {
                __n = 3;
                __buf = &DAT_00089fbf;
            }
            sVar2 = write(iVar1, __buf, __n);
            if (sVar2 < 0) {
                snprintf(local_818, 0x800,
                         "Failed to set gpio %d direction %s !\n", param_1,
                         __buf);
                FUN_00047ab4(0, local_818, 0);
                close(iVar1);
                pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b0e98);
                uVar3 = 0xfffffffd;
            } else {
                close(iVar1);
                pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b0e98);
                uVar3 = 0;
            }
        }
    } else {
        builtin_strncpy(local_818, "failed to api lock\n", 0x14);
        FUN_00047ab4(0, local_818);
        uVar3 = 0xffffffff;
    }
    return uVar3;
}

undefined4 FUN_000670f0(undefined4 param_1, undefined1 *param_2)

{
    int iVar1;
    ssize_t sVar2;
    long lVar3;
    undefined4 uVar4;
    char local_85c[68];
    char local_818[20];
    undefined2 uStack_804;
    undefined1 local_802;

    local_85c[0] = '\0';
    local_85c[1] = '\0';
    local_85c[2] = '\0';
    local_85c[3] = '\0';
    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001b0e98);
    if (iVar1 == 0) {
        snprintf(local_85c + 4, 0x40, "/sys/class/gpio/gpio%d/value", param_1);
        iVar1 = open64(local_85c + 4, 0);
        if (iVar1 < 0) {
            snprintf(local_818, 0x800,
                     "Failed to open gpio %d value for reading!\n", param_1);
            uVar4 = 0xfffffffe;
            FUN_00047ab4(0, local_818, 0);
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b0e98);
        } else {
            sVar2 = read(iVar1, local_85c, 4);
            if (sVar2 < 0) {
                builtin_strncpy(local_818, "Failed to read value", 0x14);
                uStack_804 = 0xa21;
                local_802 = 0;
                uVar4 = 0xfffffffd;
                FUN_00047ab4(0, local_818, 0);
                close(iVar1);
                pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b0e98);
            } else {
                close(iVar1);
                pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b0e98);
                lVar3 = strtol(local_85c, (char **)0x0, 10);
                *param_2 = (char)lVar3;
                uVar4 = 0;
            }
        }
    } else {
        uVar4 = 0xffffffff;
        builtin_strncpy(local_818, "failed to api lock\n", 0x14);
        FUN_00047ab4(0, local_818, 0);
    }
    return uVar4;
}

undefined4 FUN_00067258(void)

{
    int iVar1;
    undefined4 *__ptr;
    undefined4 *__ptr_00;
    undefined4 uVar2;
    byte local_29;
    undefined4 local_28;
    uint local_24;

    prctl(0xf, &DAT_0008a21c, 0, 0, 0);
    do {
        if (DAT_001b0eb0 == 0) {
            return 0;
        }
        iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001b0e7c);
        if (iVar1 == 0) {
            __ptr = (undefined4 *)FUN_0006a044(DAT_001b0e94);
            iVar1 = (*(code *)*__ptr)();
            while (iVar1 != 0) {
                iVar1 = __ptr[5];
                __ptr_00 = (undefined4 *)(*(code *)__ptr[2])();
                uVar2 = *(undefined4 *)**(undefined4 **)(iVar1 + 0x10);
                local_29 = 0;
                iVar1 = FUN_000670f0(uVar2, &local_29);
                if (iVar1 != 0) {
                    free(__ptr_00);
                    break;
                }
                if (__ptr_00[1] != (uint)local_29) {
                    (*(code *)*__ptr_00)(uVar2, (uint)local_29);
                    local_28 = *__ptr_00;
                    local_24 = (uint)local_29;
                    (*(code *)__ptr[1])(__ptr, &local_28, 8);
                }
                free(__ptr_00);
                iVar1 = (*(code *)*__ptr)(__ptr);
            }
            free(__ptr);
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b0e7c);
        }
        usleep(200000);
    } while (true);
}

undefined4 FUN_0006739c(undefined4 param_1, int param_2)

{
    int iVar1;
    ssize_t sVar2;
    undefined4 uVar3;
    undefined *__buf;
    char acStack_850[64];
    char local_810[2048];

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001b0e98);
    if (iVar1 == 0) {
        snprintf(acStack_850, 0x40, "/sys/class/gpio/gpio%d/value", param_1);
        iVar1 = open64(acStack_850, 1);
        if (iVar1 < 0) {
            builtin_strncpy(local_810,
                            "Failed to open gpio value for writing!\n", 0x28);
            FUN_00047ab4(0, local_810, 0);
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b0e98);
            uVar3 = 0xfffffffe;
        } else {
            __buf = &DAT_00089fc4;
            if (param_2 != 0) {
                __buf = &DAT_00089fc5;
            }
            sVar2 = write(iVar1, __buf, 1);
            if (sVar2 < 0) {
                builtin_strncpy(local_810, "Failed to write value!\n", 0x18);
                FUN_00047ab4(0, local_810, 0);
                close(iVar1);
                pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b0e98);
                uVar3 = 0xfffffffd;
            } else {
                close(iVar1);
                pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b0e98);
                uVar3 = 0;
            }
        }
    } else {
        builtin_strncpy(local_810, "failed to api lock\n", 0x14);
        FUN_00047ab4(0, local_810);
        uVar3 = 0xffffffff;
    }
    return uVar3;
}

int FUN_000674e4(uint param_1)

{
    int iVar1;
    char local_808[8];
    undefined4 uStack_800;
    char acStack_7fc[16];
    undefined2 local_7ec;

    if (DAT_001b0e60 == 0) {
        builtin_strncpy(local_808, "please i", 8);
        uStack_800._0_1_ = 'n';
        uStack_800._1_1_ = 'i';
        uStack_800._2_1_ = 't';
        uStack_800._3_1_ = ' ';
        builtin_strncpy(acStack_7fc, "platform first!!", 0x10);
        local_7ec = 10;
        FUN_00047ab4(0, local_808, 0);
        iVar1 = -2;
    } else if (param_1 < 2) {
        iVar1 = param_1 + 1;
    } else {
        builtin_strncpy(local_808, "bad para", 8);
        uStack_800 = CONCAT13(uStack_800._3_1_, 0xa6d);
        FUN_00047ab4(0, local_808);
        iVar1 = -3;
    }
    return iVar1;
}

undefined4 FUN_000675d4(int param_1, uint param_2)

{
    undefined4 uVar1;
    uint uVar2;
    char local_810[8];
    undefined2 uStack_808;
    undefined1 local_806;

    if (param_1 < 3) {
        if (param_1 + -1 == 0) {
            if (99 < param_2) {
                param_2 = 100;
            }
            uVar2 = 100 - param_2 | param_2 << 0x10;
            FUN_00066908(0x13, uVar2);
            FUN_00066908(0x17, uVar2);
            return 0;
        }
        snprintf(local_810, 0x800, "pwm type %d not supported\n", param_1 + -1);
        FUN_00047ab4(0, local_810);
        uVar1 = 0;
    } else {
        builtin_strncpy(local_810, "bad para", 8);
        uStack_808 = 0xa6d;
        local_806 = 0;
        FUN_00047ab4(0, local_810);
        uVar1 = 0xfffffffd;
    }
    return uVar1;
}

undefined4 FUN_00067718(undefined4 param_1, undefined4 *param_2,
                        undefined4 *param_3, undefined4 *param_4,
                        undefined4 *param_5)

{
    undefined4 uVar1;
    undefined4 uVar2;
    undefined4 uVar3;
    char acStack_808[2052];

    switch (param_1) {
    case 0:
        uVar1 = 0x40;
        *param_2 = 0x18;
        uVar3 = 0x44;
        uVar2 = 0x45;
        break;
    case 1:
        uVar1 = 0x40;
        *param_2 = 0x10;
        uVar3 = 0x46;
        uVar2 = 0x47;
        break;
    case 2:
        uVar1 = 0x40;
        *param_2 = 8;
        uVar3 = 0x48;
        uVar2 = 0x49;
        break;
    case 3:
        *param_2 = 0;
        *param_3 = 0x40;
        *param_4 = 0x4a;
        *param_5 = 0x4b;
        return 0;
    case 4:
        uVar1 = 0x41;
        *param_2 = 0x18;
        uVar3 = 0x4c;
        uVar2 = 0x4d;
        break;
    case 5:
        uVar1 = 0x41;
        *param_2 = 0x10;
        uVar3 = 0x4e;
        uVar2 = 0x4f;
        break;
    case 6:
        uVar1 = 0x41;
        *param_2 = 8;
        uVar3 = 0x50;
        uVar2 = 0x51;
        break;
    case 7:
        *param_2 = 0;
        *param_3 = 0x41;
        *param_4 = 0x52;
        *param_5 = 0x53;
        return 0;
    case 8:
        uVar1 = 0x42;
        *param_2 = 0x18;
        uVar3 = 0x54;
        uVar2 = 0x55;
        break;
    case 9:
        uVar1 = 0x42;
        *param_2 = 0x10;
        uVar3 = 0x56;
        uVar2 = 0x57;
        break;
    case 10:
        uVar1 = 0x42;
        *param_2 = 8;
        uVar3 = 0x73;
        uVar2 = 0x74;
        break;
    case 0xb:
        *param_2 = 0;
        *param_3 = 0x42;
        *param_4 = 0x75;
        *param_5 = 0x76;
        return 0;
    case 0xc:
        uVar1 = 0x43;
        *param_2 = 0x18;
        uVar3 = 0x77;
        uVar2 = 0x78;
        break;
    case 0xd:
        uVar1 = 0x43;
        *param_2 = 0x10;
        uVar3 = 0x79;
        uVar2 = 0x7a;
        break;
    default:
        snprintf(acStack_808, 0x800, "%s: The uart %d is not supported!!!\n",
                 "get_send_address_info", param_1);
        FUN_00047ab4(0, acStack_808);
        return 0xffffffff;
    }
    *param_3 = uVar1;
    *param_4 = uVar3;
    *param_5 = uVar2;
    return 0;
}

uint FUN_0006793c(undefined4 param_1)

{
    uint local_80c;
    char acStack_808[2052];

    local_80c = 0;
    switch (param_1) {
    case 0:
        FUN_0006688c(0x58, &local_80c);
        local_80c = (local_80c << 6) >> 0x16;
        break;
    case 1:
        FUN_0006688c(0x58, &local_80c);
        local_80c = local_80c & 0x3ff;
        break;
    case 2:
        FUN_0006688c(0x59, &local_80c);
        local_80c = (local_80c << 6) >> 0x16;
        break;
    case 3:
        FUN_0006688c(0x59, &local_80c);
        local_80c = local_80c & 0x3ff;
        break;
    case 4:
        FUN_0006688c(0x5a, &local_80c);
        local_80c = (local_80c << 6) >> 0x16;
        break;
    case 5:
        FUN_0006688c(0x5a, &local_80c);
        local_80c = local_80c & 0x3ff;
        break;
    case 6:
        FUN_0006688c(0x5b, &local_80c);
        local_80c = (local_80c << 6) >> 0x16;
        break;
    case 7:
        FUN_0006688c(0x5b, &local_80c);
        local_80c = local_80c & 0x3ff;
        break;
    case 8:
        FUN_0006688c(0x5c, &local_80c);
        local_80c = (local_80c << 6) >> 0x16;
        break;
    case 9:
        FUN_0006688c(0x5c, &local_80c);
        local_80c = local_80c & 0x3ff;
        break;
    case 10:
        FUN_0006688c(0x5d, &local_80c);
        local_80c = (local_80c << 6) >> 0x16;
        break;
    case 0xb:
        FUN_0006688c(0x5d, &local_80c);
        local_80c = local_80c & 0x3ff;
        break;
    case 0xc:
        FUN_0006688c(0x5e, &local_80c);
        local_80c = (local_80c << 6) >> 0x16;
        break;
    case 0xd:
        FUN_0006688c(0x5e, &local_80c);
        local_80c = local_80c & 0x3ff;
        break;
    default:
        snprintf(acStack_808, 0x800, "%s: The uart%d is not supported!!!\n",
                 "check_how_many_uart_data_in_fpga", param_1);
        FUN_00047ab4(0, acStack_808);
        local_80c = 0;
    }
    return local_80c;
}

void FUN_00067b24(int param_1)

{
    int iVar1;
    pthread_mutex_t *__mutex;
    undefined4 local_82c;
    undefined4 local_828;
    undefined4 local_824;
    uint local_820;
    uint local_81c;
    char acStack_818[2048];

    __mutex = (pthread_mutex_t *)(param_1 * 0x18 + 0x1b0eb8);
    local_82c = 0;
    local_828 = 0;
    local_824 = 0;
    local_820 = 0;
    local_81c = 0;
    pthread_mutex_lock(__mutex);
    iVar1 =
        FUN_00067718(param_1, &local_81c, &local_82c, &local_828, &local_824);
    if (iVar1 == 0) {
        iVar1 = 0x15;
        do {
            FUN_0006688c(local_82c, &local_820);
            local_820 = local_820 >> (local_81c & 0xff) & 0xff;
            if (local_820 == 0xff) {
                pthread_mutex_unlock(__mutex);
                return;
            }
            printf("%s: waiting fpga uart%d clear send fifo space ...\n",
                   "clear_uart_tx_fifo", param_1);
            FUN_00066908(local_828, local_820 | 0x80000000);
            usleep(3000);
            iVar1 = iVar1 + -1;
        } while (iVar1 != 0);
        snprintf(
            acStack_818, 0x800,
            "%s: uart%d always dose not has enough send fifo space, break\n",
            "clear_uart_tx_fifo", param_1);
    } else {
        snprintf(acStack_818, 0x800,
                 "get_send_address_info error, chain_id = %d\n", param_1);
    }
    FUN_00047ab4(0, acStack_818, 0);
    pthread_mutex_unlock(__mutex);
    return;
}

uint FUN_00067c5c(undefined4 param_1, undefined1 *param_2, uint param_3)

{
    uint uVar1;
    undefined1 uVar2;
    undefined4 uVar3;
    undefined1 *puVar4;
    undefined1 *puVar5;
    uint uVar6;
    undefined4 uVar7;
    undefined4 local_824;
    char acStack_820[2052];

    local_824 = 0;
    switch (param_1) {
    case 0:
        uVar7 = 0x60;
        uVar3 = 0x5f;
        break;
    case 1:
        uVar7 = 0x62;
        uVar3 = 0x61;
        break;
    case 2:
        uVar7 = 100;
        uVar3 = 99;
        break;
    case 3:
        uVar7 = 0x66;
        uVar3 = 0x65;
        break;
    case 4:
        uVar7 = 0x68;
        uVar3 = 0x67;
        break;
    case 5:
        uVar7 = 0x6a;
        uVar3 = 0x69;
        break;
    case 6:
        uVar7 = 0x6c;
        uVar3 = 0x6b;
        break;
    case 7:
        uVar7 = 0x6e;
        uVar3 = 0x6d;
        break;
    case 8:
        uVar7 = 0x70;
        uVar3 = 0x6f;
        break;
    case 9:
        uVar7 = 0x72;
        uVar3 = 0x71;
        break;
    case 10:
        uVar7 = 0x7c;
        uVar3 = 0x7b;
        break;
    case 0xb:
        uVar7 = 0x7e;
        uVar3 = 0x7d;
        break;
    case 0xc:
        uVar7 = 0x80;
        uVar3 = 0x7f;
        break;
    case 0xd:
        uVar7 = 0x82;
        uVar3 = 0x81;
        break;
    default:
        snprintf(acStack_820, 0x800, "%s: The uart%d is not supported!!!\n",
                 "get_read_address_info", param_1);
        FUN_00047ab4(0, acStack_820, 0);
        snprintf(acStack_820, 0x800,
                 "get_read_address_info error, chain_id = %d\n", param_1);
        FUN_00047ab4(0, acStack_820, 0);
        return 0;
    }
    FUN_00066908(uVar3, param_3 & 0x3ff | 0x80000000);
    uVar1 = param_3 >> 2;
    if (uVar1 != 0) {
        puVar4 = param_2;
        do {
            puVar5 = puVar4 + 4;
            FUN_0006688c(uVar7, &local_824);
            puVar4[3] = (char)local_824;
            *puVar4 = (char)((uint)local_824 >> 0x18);
            puVar4[1] = (char)((uint)local_824 >> 0x10);
            puVar4[2] = (char)((uint)local_824 >> 8);
            puVar4 = puVar5;
        } while (param_2 + uVar1 * 4 != puVar5);
    }
    uVar6 = param_3 & 3;
    param_3 = param_3 & 0xfffffffc;
    if (uVar6 != 0) {
        FUN_0006688c(uVar7, &local_824);
        uVar2 = (undefined1)((uint)local_824 >> 0x10);
        if (uVar6 == 2) {
            param_3 = param_3 + 2;
            param_2[uVar1 * 4] = local_824._3_1_;
            param_2[uVar1 * 4 + 1] = uVar2;
        } else if (uVar6 == 3) {
            param_3 = param_3 + 3;
            param_2[uVar1 * 4] = local_824._3_1_;
            param_2[uVar1 * 4 + 1] = uVar2;
            param_2[uVar1 * 4 + 2] = (char)((uint)local_824 >> 8);
        } else {
            param_3 = param_3 + 1;
            param_2[uVar1 * 4] = local_824._3_1_;
        }
    }
    return param_3;
}

undefined4 FUN_00067ea0(void)

{
    char local_808[28];
    undefined2 local_7ec;

    if (DAT_001b0e60 != 0) {
        return 0;
    }
    builtin_strncpy(local_808, "please init platform first!!", 0x1c);
    local_7ec = 10;
    FUN_00047ab4(0, local_808, 0);
    return 0xffffffff;
}

void FUN_00067f00(void)

{
    return;
}

uint FUN_00067f04(int param_1, void *param_2, uint param_3)

{
    int iVar1;
    uint uVar2;
    uint uVar3;
    char *__format;
    pthread_mutex_t *__mutex;
    byte *pbVar4;
    byte *pbVar5;
    undefined4 local_92c;
    undefined4 local_928;
    undefined4 local_924;
    uint local_920;
    uint local_91c;
    byte local_918[256];
    char acStack_818[2048];

    memset(local_918, 0, 0x100);
    local_92c = 0;
    __mutex = (pthread_mutex_t *)(param_1 * 0x18 + 0x1b0eb8);
    local_928 = 0;
    local_924 = 0;
    local_920 = 0;
    local_91c = 0;
    pthread_mutex_lock(__mutex);
    iVar1 =
        FUN_00067718(param_1, &local_91c, &local_92c, &local_928, &local_924);
    if (iVar1 != 0) {
        snprintf(acStack_818, 0x800,
                 "get_send_address_info error, chain_id = %d\n", param_1);
        FUN_00047ab4(0, acStack_818, 0);
        pthread_mutex_unlock(__mutex);
        return 0;
    }
    iVar1 = 0x15;
    do {
        FUN_0006688c(local_92c, &local_920);
        local_920 = local_920 >> (local_91c & 0xff) & 0xff;
        if (param_3 <= local_920) {
            iVar1 = 0x16;
            do {
                FUN_0006688c(local_928, &local_920);
                if (-1 < (int)local_920) {
                    memcpy(local_918, param_2, param_3);
                    uVar2 = param_3 >> 2;
                    if (uVar2 != 0) {
                        pbVar4 = local_918;
                        do {
                            pbVar5 = pbVar4 + 4;
                            FUN_00066908(local_924, (uint)pbVar4[1] << 0x10 |
                                                        (uint)*pbVar4 << 0x18 |
                                                        (uint)pbVar4[3] |
                                                        (uint)pbVar4[2] << 8);
                            pbVar4 = pbVar5;
                        } while (local_918 + uVar2 * 4 != pbVar5);
                    }
                    uVar3 = param_3 & 3;
                    if (uVar3 != 0) {
                        iVar1 = uVar2 * 4;
                        uVar2 = (uint)local_918[iVar1] << 0x18;
                        if (uVar3 == 2) {
                            uVar2 = uVar2 | (uint)local_918[iVar1 + 1] << 0x10;
                        } else if (uVar3 == 3) {
                            uVar2 = (uint)local_918[iVar1 + 2] << 8 |
                                    (uint)local_918[iVar1 + 1] << 0x10 | uVar2;
                        }
                        FUN_00066908(local_924, uVar2);
                    }
                    FUN_00066908(local_928, param_3 | 0x80000000);
                    pthread_mutex_unlock(__mutex);
                    return param_3;
                }
                usleep(3000);
                iVar1 = iVar1 + -1;
            } while (iVar1 != 0);
            pthread_mutex_unlock(__mutex);
            __format = "%s: uart%d always busy, break\n";
            goto LAB_000680fc;
        }
        usleep(3000);
        iVar1 = iVar1 + -1;
    } while (iVar1 != 0);
    pthread_mutex_unlock(__mutex);
    __format = "%s: uart%d always dose not has enough send fifo space, break\n";
LAB_000680fc:
    snprintf(acStack_818, 0x800, __format, "uart_send", param_1);
    FUN_00047ab4(0, acStack_818, 0);
    return 0;
}

undefined4 FUN_00068150(uint param_1, undefined4 param_2, uint param_3)

{
    uint uVar1;
    undefined4 uVar2;
    pthread_mutex_t *__mutex;

    __mutex = (pthread_mutex_t *)(param_1 * 0x18 + 0x1b1038);
    pthread_mutex_lock(__mutex);
    uVar1 = FUN_0006793c(param_1 & 0xff);
    if (uVar1 < param_3) {
        param_3 = uVar1;
    }
    if (param_3 == 0) {
        pthread_mutex_unlock(__mutex);
        return 0;
    }
    uVar2 = FUN_00067c5c(param_1, param_2, param_3);
    pthread_mutex_unlock(__mutex);
    return uVar2;
}

undefined4 FUN_000681c4(int param_1, int param_2, undefined4 *param_3)

{
    undefined4 uVar1;
    pthread_mutex_t *__mutex;
    char acStack_810[2048];

    if (param_3 == (undefined4 *)0x0) {
        uVar1 = 0xfffffffd;
    } else {
        __mutex = (pthread_mutex_t *)(param_1 * 0x18 + 0x1b0eb8);
        pthread_mutex_lock(__mutex);
        if (param_2 == 0) {
            FUN_00066908(0xf, *param_3);
        } else {
            snprintf(acStack_810, 0x800, "unknown set config type = %d\n",
                     param_2);
            FUN_00047ab4(1, acStack_810, 0);
        }
        pthread_mutex_unlock(__mutex);
        uVar1 = 0xfffffffb;
    }
    return uVar1;
}

undefined4 FUN_00068300(int param_1, int param_2, int *param_3)

{
    undefined4 uVar1;
    pthread_mutex_t *__mutex;
    char acStack_810[2048];

    if (param_3 == (int *)0x0) {
        uVar1 = 0xfffffffd;
    } else {
        __mutex = (pthread_mutex_t *)(param_1 * 0x18 + 0x1b0eb8);
        pthread_mutex_lock(__mutex);
        if (param_2 == 0) {
            FUN_00066908(0xf, *param_3 << 0x10);
        } else {
            snprintf(acStack_810, 0x800, "unknown set config type = %d\n",
                     param_2);
            FUN_00047ab4(1, acStack_810, 0);
        }
        pthread_mutex_unlock(__mutex);
        uVar1 = 0xfffffffb;
    }
    return uVar1;
}

void FUN_00068444(uint param_1)

{
    size_t __size;
    void *__ptr;
    size_t sVar1;
    pthread_mutex_t *__mutex;
    char acStack_818[2052];

    __mutex = (pthread_mutex_t *)(param_1 * 0x18 + 0x1b1038);
    pthread_mutex_lock(__mutex);
    __size = FUN_0006793c(param_1 & 0xff);
    if (__size != 0) {
        __ptr = malloc(__size);
        if (__ptr == (void *)0x0) {
            snprintf(acStack_818, 0x800, "%s: uart%d malloc buffer error\n",
                     "clear_uart_rx_fifo", param_1);
            FUN_00047ab4(0, acStack_818, 0);
            usleep(500000);
            pthread_mutex_unlock(__mutex);
            return;
        }
        sVar1 = FUN_00067c5c(param_1, __ptr, __size);
        if (__size != sVar1) {
            snprintf(acStack_818, 0x800,
                     "%s: uart%d clear rx fifo error. nbytes = %d, len = %d\n",
                     "clear_uart_rx_fifo", param_1, __size, sVar1);
            FUN_00047ab4(0, acStack_818);
        }
        free(__ptr);
        usleep(10000);
    }
    pthread_mutex_unlock(__mutex);
    return;
}

undefined4 FUN_0006856c(void)

{
    FUN_00067b24();
    return 0;
}

undefined4 FUN_0006857c(void)

{
    FUN_00068444();
    return 0;
}

undefined4 FUN_0006858c(uint param_1)

{
    undefined4 uVar1;
    pthread_mutex_t *__mutex;

    __mutex = (pthread_mutex_t *)(param_1 * 0x18 + 0x1b1038);
    pthread_mutex_lock(__mutex);
    uVar1 = FUN_0006793c(param_1 & 0xff);
    pthread_mutex_unlock(__mutex);
    return uVar1;
}

void FUN_000685c8(void)

{
    if (DAT_001b11b8 == 0) {
        FUN_00066c5c(0x38b);
        FUN_00066fa0(0x38b, 1);
        DAT_001b11b8 = 1;
    }
    FUN_0006739c(0x38b, 0);
    return;
}

void FUN_0006860c(void)

{
    if (DAT_001b11b8 == 0) {
        return;
    }
    FUN_0006739c(0x38b, 1);
    return;
}

void FUN_00068640(undefined4 param_1, int param_2)

{
    int iVar1;
    undefined4 local_c;

    if ((param_2 != 0) &&
        (local_c = param_1, iVar1 = FUN_00069f3c(param_2, &local_c),
         iVar1 == 1)) {
        FUN_00069f5c(param_2, &local_c);
        return;
    }
    return;
}

undefined4 FUN_00068684(void)

{
    int iVar1;
    undefined4 *__ptr;
    int *__ptr_00;
    int local_24;
    int local_20;
    int local_1c;

    prctl(0xf, &DAT_0008a4d8, 0, 0, 0);
    while (DAT_001b11bc != 0) {
        iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001b11c0);
        if (iVar1 == 0) {
            __ptr = (undefined4 *)FUN_0006a044(DAT_001b11d8);
            iVar1 = (*(code *)*__ptr)();
            while (iVar1 != 0) {
                __ptr_00 = (int *)(*(code *)__ptr[2])();
                iVar1 = __ptr_00[1];
                if (iVar1 == 0) {
                    FUN_0006739c(
                        *(undefined4 *)**(undefined4 **)(__ptr[5] + 0x10),
                        (char)__ptr_00[2]);
                    local_24 = *__ptr_00;
                    local_1c = __ptr_00[2] + -1;
                    if (local_1c != 0) {
                        local_1c = 1;
                    }
                    __ptr_00[2] = local_1c;
                    iVar1 = local_24;
                } else {
                    local_24 = *__ptr_00;
                    local_1c = __ptr_00[2];
                }
                local_20 = iVar1 + -200;
                __ptr_00[1] = local_20;
                (*(code *)__ptr[1])(__ptr, &local_24);
                free(__ptr_00);
                iVar1 = (*(code *)*__ptr)(__ptr);
            }
            free(__ptr);
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b11c0);
        }
        usleep(200000);
    }
    return 0;
}

undefined4 FUN_000687c8(int param_1)

{
    int iVar1;
    undefined4 uVar2;
    char acStack_808[2048];

    iVar1 = FUN_00069b8c();
    if (iVar1 == param_1) {
        uVar2 = 0x100;
    } else {
        iVar1 = FUN_00069ba8(iVar1);
        if (iVar1 == param_1) {
            uVar2 = 0x101;
        } else {
            snprintf(acStack_808, 0x800, "unmaped port = %d\n", param_1);
            FUN_00047ab4(0, acStack_808);
            uVar2 = 0x102;
        }
    }
    return uVar2;
}

undefined4 FUN_00068828(void)

{
    int iVar1;
    undefined4 uVar2;

    iVar1 = FUN_00069b54();
    if (iVar1 < 0) {
        return 0;
    }
    uVar2 = FUN_00069b54();
    return uVar2;
}

undefined4 FUN_00068848(uint param_1)

{
    int iVar1;
    undefined4 uVar2;

    if (param_1 == 2) {
        iVar1 = FUN_00069b70();
        if (-1 < iVar1) {
            uVar2 = FUN_00069b70();
            return uVar2;
        }
    } else if (param_1 < 3) {
        if (param_1 == 1) {
            uVar2 = FUN_00068828();
            return uVar2;
        }
    } else if (param_1 == 0x100) {
        iVar1 = FUN_00069b8c();
        if (-1 < iVar1) {
            uVar2 = FUN_00069b8c();
            return uVar2;
        }
    } else if ((param_1 == 0x101) && (iVar1 = FUN_00069ba8(), -1 < iVar1)) {
        uVar2 = FUN_00069ba8();
        return uVar2;
    }
    return 0;
}

void FUN_000688c0(void)

{
    pthread_attr_t pStack_34;

    pthread_mutex_init((pthread_mutex_t *)&DAT_001b11c0,
                       (pthread_mutexattr_t *)0x0);
    DAT_001b11dc = 0;
    DAT_001b11e0 = 0;
    DAT_001b11e4 = 0;
    DAT_001b11e8 = 0;
    DAT_001b11ec = 0;
    DAT_001b11d8 = FUN_00069ed4(&LAB_00068630, 0, 0);
    pthread_attr_init(&pStack_34);
    pthread_attr_setstacksize(&pStack_34, 0x200000);
    pthread_create((pthread_t *)&DAT_001b11f0, &pStack_34, FUN_00068684,
                   (void *)0x0);
    DAT_001b11bc = 1;
    return;
}

void FUN_00068948(undefined4 param_1)

{
    char acStack_808[2052];

    snprintf(acStack_808, 0x800, "gpio port %d is not a supported key\n",
             param_1);
    FUN_00047ab4(1, acStack_808, 0);
    return;
}

void FUN_00068988(undefined4 param_1, int param_2)

{
    int iVar1;
    int iVar2;
    undefined4 *puVar3;
    undefined4 *puVar4;

    iVar1 = FUN_000687c8();
    if (iVar1 != 0x102) {
        puVar3 = &DAT_001b11dc;
        do {
            puVar4 = puVar3 + 1;
            if ((code *)*puVar3 != (code *)0x0) {
                iVar2 = param_2;
                if (param_2 != 0) {
                    iVar2 = 1;
                }
                (*(code *)*puVar3)(iVar1, iVar2);
            }
            puVar3 = puVar4;
        } while (puVar4 != (undefined4 *)&DAT_001b11f0);
        return;
    }
    FUN_00068948(param_1);
    return;
}

undefined4 FUN_000689e8(undefined4 param_1, int param_2)

{
    int iVar1;
    int iVar2;
    int iVar3;
    undefined4 uVar4;
    int local_81c;
    char local_818[4];
    int local_814;
    char local_810[12];
    undefined2 local_804;

    iVar2 = FUN_00068848();
    if (iVar2 == 0) {
        uVar4 = 0xffffffff;
        builtin_strncpy(local_818, "unsu", 4);
        local_814._0_1_ = 'p';
        local_814._1_1_ = 'o';
        local_814._2_1_ = 'r';
        local_814._3_1_ = 't';
        builtin_strncpy(local_810, "ed gpio port", 0xc);
        local_804 = 10;
        FUN_00047ab4(0, local_818, 0);
    } else {
        iVar3 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001b11c0);
        iVar1 = DAT_001b11d8;
        if (iVar3 == 0) {
            if (param_2 == 1) {
                FUN_00068640(iVar2, DAT_001b11d8);
                uVar4 = FUN_0006739c(iVar2, 0);
            } else if (param_2 == 2) {
                local_81c = iVar2;
                if ((DAT_001b11d8 == 0) ||
                    (iVar2 = FUN_00069f3c(DAT_001b11d8, &local_81c),
                     iVar2 != 0)) {
                    uVar4 = 0xffffffff;
                } else {
                    uVar4 = 0xffffffff;
                    local_818[0] = -0x38;
                    local_818[1] = '\0';
                    local_818[2] = '\0';
                    local_818[3] = '\0';
                    local_810[0] = '\x01';
                    local_810[1] = '\0';
                    local_810[2] = '\0';
                    local_810[3] = '\0';
                    local_814 = iVar2;
                    FUN_00069f24(iVar1, &local_81c, 4, local_818, 0xc);
                }
            } else {
                FUN_00068640(iVar2, DAT_001b11d8);
                uVar4 = FUN_0006739c(iVar2, 1);
            }
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b11c0);
        } else {
            uVar4 = 0xffffffff;
            builtin_strncpy(local_818, "fail", 4);
            local_814._0_1_ = 'e';
            local_814._1_1_ = 'd';
            local_814._2_1_ = ' ';
            local_814._3_1_ = 't';
            builtin_strncpy(local_810, "o api lock\n", 0xc);
            FUN_00047ab4(0, local_818);
        }
    }
    return uVar4;
}

undefined4 FUN_00068b54(void)

{
    undefined4 uVar1;

    if (DAT_001b11f4 == 0) {
        FUN_00068828();
        FUN_00066c5c();
        uVar1 = FUN_00068828();
        FUN_00066fa0(uVar1, 1);
        FUN_00068848(2);
        FUN_00066c5c();
        uVar1 = FUN_00068848(2);
        FUN_00066fa0(uVar1, 1);
        FUN_00068848(0x100);
        FUN_00066c5c();
        uVar1 = FUN_00068848(0x100);
        FUN_00066fa0(uVar1, 0);
        FUN_00068848(0x101);
        FUN_00066c5c();
        uVar1 = FUN_00068848(0x101);
        FUN_00066fa0(uVar1, 0);
        DAT_001b11f4 = 1;
    }
    return 0;
}

void FUN_00068be4(void)

{
    return;
}

void FUN_000690a0(void)

{
    int iVar1;
    char local_808[2052];

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001b11c0);
    if (iVar1 == 0) {
        if (0 < DAT_0009f454) {
            FUN_00069348();
        }
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b11c0);
        return;
    }
    builtin_strncpy(local_808, "failed to api lock\n", 0x14);
    FUN_00047ab4(0, local_808);
    return;
}

int FUN_00069128(char *param_1)

{
    int iVar1;
    char local_810[8];
    undefined4 uStack_808;
    char acStack_804[2040];

    if (DAT_001b11fc == 0) {
        if (param_1 == (char *)0x0) {
            builtin_strncpy(local_810, "bad para", 8);
            uStack_808 = CONCAT13(uStack_808._3_1_, 0xa6d);
            FUN_00047ab4(0, local_810, 0);
            iVar1 = -3;
        } else {
            iVar1 = open64(param_1, 0x802);
            DAT_001b1200 = iVar1;
            if (iVar1 < 0) {
                builtin_strncpy(local_810, "open lcd", 8);
                uStack_808._0_1_ = ' ';
                uStack_808._1_1_ = 'f';
                uStack_808._2_1_ = 'a';
                uStack_808._3_1_ = 'i';
                builtin_strncpy(acStack_804, "led!!!\n", 8);
                FUN_00047ab4(0, local_810, 0);
                iVar1 = -1;
            } else {
                DAT_001b11fc = 1;
            }
        }
    } else {
        iVar1 = 0;
    }
    return iVar1;
}

undefined4 FUN_000691ec(int param_1, uint param_2, int param_3, uint param_4)

{
    int iVar1;
    undefined4 uVar2;
    void *__src;
    uint uVar3;
    size_t __n;
    bool bVar4;
    bool bVar5;
    char local_828[8];
    undefined4 uStack_820;
    char acStack_81c[2040];

    if (DAT_001b11fc == 0) {
        uVar2 = 0xfffffffe;
    } else {
        if (DAT_001b1200 == param_1) {
            bVar5 = 0x3f < param_4;
            bVar4 = param_4 == 0x40;
            if (param_4 < 0x41) {
                bVar5 = 2 < (param_2 & 0xff);
                bVar4 = (param_2 & 0xff) == 3;
            }
            if (!bVar5 || bVar4) {
                iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001b1204);
                if (iVar1 == 0) {
                    iVar1 = 0;
                    do {
                        uVar3 = param_2 + 1;
                        __n = param_4;
                        if (0xf < param_4) {
                            __n = 0x10;
                        }
                        __src = (void *)(param_3 + iVar1);
                        iVar1 = iVar1 + __n;
                        memcpy(&DAT_001b121c + param_2 * 0x10, __src, __n);
                        param_4 = param_4 - __n;
                        param_2 = (uint)(char)uVar3;
                    } while ((uVar3 & 0xff) < 4 && param_4 != 0);
                    write(DAT_001b1200, &DAT_001b121c, 0x40);
                    pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b1204);
                    return 0;
                }
                builtin_strncpy(local_828, "failed t", 8);
                uStack_820._0_1_ = 'o';
                uStack_820._1_1_ = ' ';
                uStack_820._2_1_ = 'l';
                uStack_820._3_1_ = 'c';
                builtin_strncpy(acStack_81c, "d lock\n", 8);
                FUN_00047ab4(0, local_828, 0);
                return 0xfffffffc;
            }
        }
        builtin_strncpy(local_828, "bad para", 8);
        uStack_820 = CONCAT13(uStack_820._3_1_, 0xa6d);
        FUN_00047ab4(1, local_828, 0);
        uVar2 = 0xfffffffd;
    }
    return uVar2;
}

undefined4 FUN_00069348(int param_1)

{
    int iVar1;
    undefined4 uVar2;
    char local_810[8];
    undefined4 uStack_808;
    char acStack_804[2036];

    if (DAT_001b11fc == 0) {
        uVar2 = 0xfffffffe;
    } else if (DAT_001b1200 == param_1) {
        iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001b1204);
        if (iVar1 == 0) {
            memset(&DAT_001b121c, 0x20, 0x40);
            iVar1 = DAT_001b1200;
            lseek64(DAT_001b1200, 0, 0);
            write(iVar1, &DAT_001b121c, 0x40);
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b1204);
            uVar2 = 0;
        } else {
            builtin_strncpy(local_810, "failed t", 8);
            uStack_808._0_1_ = 'o';
            uStack_808._1_1_ = ' ';
            uStack_808._2_1_ = 'l';
            uStack_808._3_1_ = 'c';
            builtin_strncpy(acStack_804, "d lock\n", 8);
            FUN_00047ab4(0, local_810);
            uVar2 = 0xfffffffc;
        }
    } else {
        builtin_strncpy(local_810, "bad para", 8);
        uStack_808 = CONCAT13(uStack_808._3_1_, 0xa6d);
        FUN_00047ab4(1, local_810, 0);
        uVar2 = 0xfffffffd;
    }
    return uVar2;
}

int FUN_00069448(int param_1)

{
    int iVar1;
    char local_808[2048];

    if (DAT_001b11fc != 0) {
        iVar1 = close(param_1);
        if (iVar1 != 0) {
            builtin_strncpy(local_808, "lcd close failed!!!\n", 0x14);
            local_808[0x14] = 0;
            FUN_00047ab4(0, local_808);
            iVar1 = -1;
        }
        DAT_001b11fc = 0;
        return iVar1;
    }
    return 0;
}

undefined4 FUN_000694c4(void)

{
    int *piVar1;
    void *__ptr;
    int *piVar2;
    uint uVar3;
    uint uVar4;
    int *piVar5;
    undefined4 uVar6;
    uint extraout_r3;
    int iVar7;
    undefined4 *puVar8;
    bool bVar9;
    bool bVar10;
    bool bVar11;
    undefined1 auStack_924[252];
    char acStack_828[2052];

    memset(&DAT_001b125c, 0xff, 0x100);
    memset(&DAT_001b135c, 0xff, 0x48);
    piVar1 = (int *)FUN_0006d110(s___fan______max___6000___id___0____0009f45c,
                                 0, auStack_924);
    if ((piVar1 == (int *)0x0) || (*piVar1 != 0)) {
        snprintf(acStack_828, 0x800, "%s,%d bad json format\n",
                 "platform/7007/src/hal_conf.c", 0x2b);
        FUN_00047ab4(0, acStack_828);
        uVar6 = 0xffffffff;
    } else {
        __ptr = (void *)FUN_0006b6e8(piVar1, 0);
        free(__ptr);
        piVar2 = (int *)FUN_0006dfcc(piVar1, "chain");
        if ((piVar2 == (int *)0x0) || (*piVar2 != 1)) {
            snprintf(acStack_828, 0x800, "%s,%d bad chain format\n",
                     "platform/7007/src/hal_conf.c", 0x35);
            FUN_00047ab4(0, acStack_828);
            if (piVar1[1] != -1) {
                iVar7 = piVar1[1] + -1;
                piVar1[1] = iVar7;
                if (iVar7 == 0) {
                    FUN_0006e5dc(piVar1);
                }
            }
            uVar6 = 0xfffffffe;
        } else {
            uVar4 = 0;
            puVar8 = &DAT_001b125c;
            while (true) {
                uVar3 = FUN_0006e1a8(piVar2);
                bVar11 = 0xf < uVar4;
                bVar9 = uVar4 != 0x10;
                if (bVar9) {
                    bVar11 = uVar4 <= uVar3;
                }
                bVar10 = uVar3 != uVar4;
                uVar3 = extraout_r3;
                if (bVar11 && (bVar9 && bVar10)) {
                    uVar3 = 1;
                }
                if (!bVar11 || (!bVar9 || !bVar10)) {
                    uVar3 = 0;
                }
                if (!bVar11 || (!bVar9 || !bVar10))
                    break;
                piVar5 = (int *)FUN_0006e1c4(piVar2, uVar4);
                if ((piVar5 == (int *)0x0) || (*piVar5 != 0)) {
                    snprintf(acStack_828, 0x800, "%s,%d bad object in chain\n",
                             "platform/7007/src/hal_conf.c", 0x3f);
                    FUN_00047ab4(0, acStack_828);
                    if (piVar1[1] != -1) {
                        iVar7 = piVar1[1] + -1;
                        piVar1[1] = iVar7;
                        if (iVar7 == 0) {
                            FUN_0006e5dc(piVar1);
                        }
                    }
                    return 0xfffffffd;
                }
                FUN_0006dfcc(piVar5, "id");
                uVar6 = FUN_0006e430();
                *puVar8 = uVar6;
                FUN_0006dfcc(piVar5, &DAT_0008a648);
                uVar6 = FUN_0006e430();
                puVar8[1] = uVar6;
                FUN_0006dfcc(piVar5, &DAT_0008a650);
                uVar6 = FUN_0006e430();
                puVar8[2] = uVar6;
                FUN_0006dfcc(piVar5, "reset");
                uVar6 = FUN_0006e430();
                puVar8[3] = uVar6;
                uVar4 = uVar4 + 1;
                puVar8 = puVar8 + 4;
            }
            piVar2 = (int *)FUN_0006dfcc(piVar1, &DAT_0008027c);
            if ((piVar2 == (int *)0x0) || (*piVar2 != 1)) {
                snprintf(acStack_828, 0x800, "%s,%d bad fan format\n",
                         "platform/7007/src/hal_conf.c", 0x50);
                FUN_00047ab4(0, acStack_828);
                if (piVar1[1] != -1) {
                    iVar7 = piVar1[1] + -1;
                    piVar1[1] = iVar7;
                    if (iVar7 == 0) {
                        FUN_0006e5dc(piVar1);
                    }
                }
                uVar6 = 0xfffffffc;
            } else {
                puVar8 = &DAT_001b135c;
                while (true) {
                    uVar4 = FUN_0006e1a8(piVar2);
                    bVar11 = 5 < uVar3;
                    if (uVar3 != 6) {
                        bVar11 = uVar3 <= uVar4;
                    }
                    if (!bVar11 || (uVar3 == 6 || uVar4 == uVar3))
                        break;
                    piVar5 = (int *)FUN_0006e1c4(piVar2, uVar3);
                    if ((piVar5 == (int *)0x0) || (*piVar5 != 0)) {
                        snprintf(acStack_828, 0x800,
                                 "%s,%d bad object in fan\n",
                                 "platform/7007/src/hal_conf.c", 0x59);
                        FUN_00047ab4(0, acStack_828);
                        if (piVar1[1] != -1) {
                            iVar7 = piVar1[1] + -1;
                            piVar1[1] = iVar7;
                            if (iVar7 == 0) {
                                FUN_0006e5dc(piVar1);
                            }
                        }
                        return 0xfffffffb;
                    }
                    FUN_0006dfcc(piVar5, "id");
                    uVar6 = FUN_0006e430();
                    *puVar8 = uVar6;
                    FUN_0006dfcc(piVar5, &DAT_0008a694);
                    uVar6 = FUN_0006e430();
                    puVar8[1] = uVar6;
                    FUN_0006dfcc(piVar5, &DAT_0008a69c);
                    uVar6 = FUN_0006e430();
                    puVar8[2] = uVar6;
                    uVar3 = uVar3 + 1;
                    puVar8 = puVar8 + 3;
                }
                piVar2 = (int *)FUN_0006dfcc(piVar1, "red");
                if ((piVar2 == (int *)0x0) || (*piVar2 != 3)) {
                    snprintf(acStack_828, 0x800, "%s,%d bad red\n",
                             "platform/7007/src/hal_conf.c", 0x68);
                    FUN_00047ab4(0, acStack_828);
                    if (piVar1[1] != -1) {
                        iVar7 = piVar1[1] + -1;
                        piVar1[1] = iVar7;
                        if (iVar7 == 0) {
                            FUN_0006e5dc(piVar1);
                        }
                    }
                    uVar6 = 0xfffffffa;
                } else {
                    DAT_001b13a4 = FUN_0006e430();
                    piVar2 = (int *)FUN_0006dfcc(piVar1, "green");
                    if ((piVar2 == (int *)0x0) || (*piVar2 != 3)) {
                        snprintf(acStack_828, 0x800, "%s,%d bad green\n",
                                 "platform/7007/src/hal_conf.c", 0x70);
                        FUN_00047ab4(0, acStack_828);
                        if (piVar1[1] != -1) {
                            iVar7 = piVar1[1] + -1;
                            piVar1[1] = iVar7;
                            if (iVar7 == 0) {
                                FUN_0006e5dc(piVar1);
                            }
                        }
                        uVar6 = 0xfffffff9;
                    } else {
                        DAT_001b13a8 = FUN_0006e430();
                        piVar2 = (int *)FUN_0006dfcc(piVar1, "reset");
                        if ((piVar2 == (int *)0x0) || (*piVar2 != 3)) {
                            snprintf(acStack_828, 0x800, "%s,%d bad reset\n",
                                     "platform/7007/src/hal_conf.c", 0x78);
                            FUN_00047ab4(0, acStack_828);
                            if (piVar1[1] != -1) {
                                iVar7 = piVar1[1] + -1;
                                piVar1[1] = iVar7;
                                if (iVar7 == 0) {
                                    FUN_0006e5dc(piVar1);
                                }
                            }
                            uVar6 = 0xfffffff8;
                        } else {
                            DAT_001b13ac = FUN_0006e430();
                            piVar2 = (int *)FUN_0006dfcc(piVar1, "ipreport");
                            if ((piVar2 == (int *)0x0) || (*piVar2 != 3)) {
                                snprintf(acStack_828, 0x800,
                                         "%s,%d bad ipreport\n",
                                         "platform/7007/src/hal_conf.c", 0x80);
                                FUN_00047ab4(0, acStack_828);
                                if (piVar1[1] != -1) {
                                    iVar7 = piVar1[1] + -1;
                                    piVar1[1] = iVar7;
                                    if (iVar7 == 0) {
                                        FUN_0006e5dc(piVar1);
                                    }
                                }
                                uVar6 = 0xfffffff7;
                            } else {
                                DAT_001b13b0 = FUN_0006e430();
                                if (piVar1[1] != -1) {
                                    iVar7 = piVar1[1] + -1;
                                    piVar1[1] = iVar7;
                                    if (iVar7 == 0) {
                                        FUN_0006e5dc(piVar1);
                                    }
                                }
                                uVar6 = 0;
                                DAT_001b13b4 = 1;
                            }
                        }
                    }
                }
            }
        }
    }
    return uVar6;
}

undefined4 FUN_00069b54(void)

{
    undefined4 uVar1;

    uVar1 = DAT_001b13a4;
    if (DAT_001b13b4 == 0) {
        uVar1 = 0xffffffff;
    }
    return uVar1;
}

undefined4 FUN_00069b70(void)

{
    undefined4 uVar1;

    uVar1 = DAT_001b13a8;
    if (DAT_001b13b4 == 0) {
        uVar1 = 0xffffffff;
    }
    return uVar1;
}

undefined4 FUN_00069b8c(void)

{
    undefined4 uVar1;

    uVar1 = DAT_001b13ac;
    if (DAT_001b13b4 == 0) {
        uVar1 = 0xffffffff;
    }
    return uVar1;
}

undefined4 FUN_00069ba8(void)

{
    undefined4 uVar1;

    uVar1 = DAT_001b13b0;
    if (DAT_001b13b4 == 0) {
        uVar1 = 0xffffffff;
    }
    return uVar1;
}

undefined4 FUN_00069e18(undefined4 param_1)

{
    undefined4 local_c[2];

    FUN_0006ac04(param_1, local_c);
    return local_c[0];
}

void FUN_00069e34(int param_1, undefined4 param_2, undefined4 param_3)

{
    int iVar1;
    int *piVar2;
    undefined4 local_1c[2];

    piVar2 = *(int **)(param_1 + 0xc);
    iVar1 = *(int *)(param_1 + 0x14);
    if (*(int *)(*piVar2 + 0x20) != 0) {
        FUN_0006ac04(iVar1, local_1c);
        (**(code **)(*piVar2 + 0x20))(local_1c[0]);
        iVar1 = *(int *)(param_1 + 0x14);
    }
    FUN_0006ac44(*(undefined4 *)(iVar1 + 0x14), param_2, param_3);
    return;
}

int *FUN_00069ed4(undefined4 param_1, undefined4 param_2, undefined4 param_3)

{
    int *piVar1;
    int iVar2;

    piVar1 = (int *)malloc(4);
    if (piVar1 != (int *)0x0) {
        iVar2 = FUN_0006a3b0(param_1, param_2, param_3);
        *piVar1 = iVar2;
        if (iVar2 != 0) {
            return piVar1;
        }
    }
    return (int *)0x0;
}

undefined4 FUN_00069f24(int *param_1, undefined4 param_2, undefined4 param_3,
                        int param_4, undefined4 param_5)

{
    undefined4 *puVar1;
    undefined4 *puVar2;
    undefined4 uVar3;
    int iVar4;
    undefined4 *puVar5;
    undefined4 *puVar6;
    undefined4 *puVar7;
    undefined4 *puVar8;
    void *local_28;
    void *local_24[2];

    if (param_1 == (int *)0x0) {
        return 0x1f5;
    }
    puVar1 = (undefined4 *)*param_1;
    puVar2 = (undefined4 *)malloc(0x18);
    if (puVar2 == (undefined4 *)0x0) {
        return 2;
    }
    puVar5 = puVar1 + 1;
    *puVar2 = puVar5;
    puVar2[1] = puVar5;
    puVar2[3] = 1;
    uVar3 = FUN_0006aba8(param_2, param_3);
    puVar2[4] = uVar3;
    if (param_4 == 0) {
        puVar2[5] = 0;
    } else {
        uVar3 = FUN_0006aba8(param_4, param_5);
        puVar2[5] = uVar3;
    }
    puVar7 = (undefined4 *)*puVar1;
    if (puVar5 == (undefined4 *)*puVar1) {
        *puVar1 = puVar2;
        puVar2[2] = 0;
        puVar5 = puVar2;
    } else {
        do {
            puVar6 = puVar7;
            FUN_0006ac04(puVar6[4], &local_28);
            FUN_0006ac04(puVar2[4], local_24);
            iVar4 = (*(code *)puVar1[9])(local_24[0], local_28);
            free(local_28);
            free(local_24[0]);
            if (iVar4 == 0) {
                return 0x191;
            }
            puVar8 = puVar6 + 1;
            if (iVar4 < 0) {
                puVar8 = puVar6;
            }
            puVar7 = (undefined4 *)*puVar8;
        } while (puVar5 != (undefined4 *)*puVar8);
        puVar2[2] = puVar6;
        FUN_0006ac04(puVar6[4], &local_28);
        FUN_0006ac04(puVar2[4], local_24);
        iVar4 = (*(code *)puVar1[9])(local_24[0], local_28);
        free(local_28);
        free(local_24[0]);
        puVar5 = (undefined4 *)*puVar1;
        if (iVar4 < 0) {
            *puVar6 = puVar2;
        } else {
            puVar6[1] = puVar2;
        }
    LAB_0006a5c0:
        puVar7 = puVar2;
        if (puVar2 != puVar5) {
            while (true) {
                puVar6 = (undefined4 *)puVar7[2];
                if (puVar6[3] != 1)
                    goto LAB_0006a620;
                puVar2 = (undefined4 *)puVar6[2];
                puVar8 = (undefined4 *)*puVar2;
                if (puVar6 == puVar8) {
                    iVar4 = puVar2[1];
                    if (*(int *)(iVar4 + 0xc) == 1) {
                        puVar6[3] = 0;
                        *(undefined4 *)(iVar4 + 0xc) = 0;
                        puVar2[3] = 1;
                    } else {
                        if ((undefined4 *)puVar8[1] == puVar7) {
                            FUN_0006a090(puVar1, puVar8);
                            puVar8 = (undefined4 *)puVar8[2];
                            puVar2 = (undefined4 *)puVar8[2];
                            puVar7 = puVar6;
                        }
                        puVar8[3] = 0;
                        puVar2[3] = 1;
                        FUN_0006a0e4(puVar1, puVar2);
                        puVar5 = (undefined4 *)*puVar1;
                        puVar2 = puVar7;
                    }
                    goto LAB_0006a5c0;
                }
                if (puVar8[3] == 1)
                    break;
                puVar5 = puVar6;
                if (puVar7 == (undefined4 *)*puVar6) {
                    FUN_0006a0e4(puVar1, puVar6);
                    puVar5 = (undefined4 *)puVar6[2];
                    puVar2 = (undefined4 *)puVar5[2];
                    puVar7 = puVar6;
                }
                puVar5[3] = 0;
                puVar2[3] = 1;
                FUN_0006a090(puVar1, puVar2);
                puVar5 = (undefined4 *)*puVar1;
                if (puVar7 == puVar5)
                    goto LAB_0006a620;
            }
            puVar6[3] = 0;
            puVar8[3] = 0;
            puVar2[3] = 1;
            goto LAB_0006a5c0;
        }
    }
LAB_0006a620:
    puVar5[3] = 0;
    FUN_0006a330(puVar1);
    return 0;
}

int FUN_00069f3c(undefined4 *param_1)

{
    int iVar1;

    if (param_1 == (undefined4 *)0x0) {
        return 0;
    }
    iVar1 = FUN_0006a408(*param_1);
    if (iVar1 != 0) {
        iVar1 = 1;
    }
    return iVar1;
}

undefined4 FUN_00069f5c(undefined4 *param_1)

{
    void *__ptr;
    void *local_c;

    if (param_1 != (undefined4 *)0x0) {
        __ptr = (void *)FUN_0006a6ec(*param_1);
        if (__ptr != (void *)0x0) {
            FUN_0006ac04(*(undefined4 *)((int)__ptr + 0x10), &local_c);
            free(local_c);
            FUN_0006ac78(*(undefined4 *)((int)__ptr + 0x10));
            FUN_0006ac04(*(undefined4 *)((int)__ptr + 0x14), &local_c);
            free(local_c);
            FUN_0006ac78(*(undefined4 *)((int)__ptr + 0x14));
            free(__ptr);
        }
        return 0;
    }
    return 0x1f5;
}

undefined4 FUN_00069fd4(undefined4 *param_1, undefined4 param_2,
                        undefined4 param_3)

{
    int iVar1;

    if (param_1 == (undefined4 *)0x0) {
        return 0;
    }
    iVar1 = FUN_0006a408(*param_1);
    if (iVar1 != 0) {
        FUN_0006ac04(*(undefined4 *)(iVar1 + 0x14), param_3);
        return 1;
    }
    return 0;
}

undefined4 FUN_0006a018(undefined4 *param_1)

{
    undefined4 uVar1;

    if (param_1 == (undefined4 *)0x0) {
        uVar1 = 0;
    } else {
        uVar1 = FUN_0006a9a0(*param_1);
        free(param_1);
    }
    return uVar1;
}

void FUN_0006a044(undefined4 param_1)

{
    undefined4 *puVar1;

    puVar1 = (undefined4 *)malloc(0x18);
    puVar1[3] = param_1;
    *puVar1 = &LAB_00069e94;
    puVar1[2] = FUN_00069e18;
    puVar1[1] = FUN_00069e34;
    puVar1[4] = 0;
    puVar1[5] = 0;
    return;
}

void FUN_0006a090(undefined4 *param_1, int *param_2)

{
    int *piVar1;
    int *piVar2;
    int *piVar3;

    piVar2 = (int *)param_2[1];
    piVar3 = param_1 + 1;
    piVar1 = (int *)*piVar2;
    param_2[1] = (int)piVar1;
    if (piVar1 != piVar3) {
        piVar1[2] = (int)param_2;
    }
    piVar1 = (int *)param_2[2];
    if (piVar3 != piVar2) {
        piVar2[2] = (int)piVar1;
        piVar1 = (int *)param_2[2];
    }
    if (piVar1 == (int *)0x0) {
        *param_1 = piVar2;
    } else if ((int *)*piVar1 == param_2) {
        *piVar1 = (int)piVar2;
    } else {
        piVar1[1] = (int)piVar2;
    }
    *piVar2 = (int)param_2;
    if (piVar3 != param_2) {
        param_2[2] = (int)piVar2;
    }
    return;
}

void FUN_0006a0e4(undefined4 *param_1, int *param_2)

{
    int *piVar1;
    undefined4 *puVar2;
    int *piVar3;
    int *piVar4;

    piVar3 = (int *)*param_2;
    piVar4 = param_1 + 1;
    piVar1 = (int *)piVar3[1];
    *param_2 = (int)piVar1;
    if (piVar1 != piVar4) {
        piVar1[2] = (int)param_2;
    }
    puVar2 = (undefined4 *)param_2[2];
    if (piVar4 != piVar3) {
        piVar3[2] = (int)puVar2;
        puVar2 = (undefined4 *)param_2[2];
    }
    if (puVar2 == (undefined4 *)0x0) {
        *param_1 = piVar3;
    } else if ((int *)puVar2[1] == param_2) {
        puVar2[1] = piVar3;
    } else {
        *puVar2 = piVar3;
    }
    piVar3[1] = (int)param_2;
    if (piVar4 != param_2) {
        param_2[2] = (int)piVar3;
    }
    return;
}

void FUN_0006a138(int param_1, undefined4 *param_2)

{
    if (param_2 == (undefined4 *)(param_1 + 4)) {
        return;
    }
    do {
        if (1 < (uint)param_2[3]) {
            /* WARNING: Subroutine does not return */
            __assert_fail("debug_node_color(pTree,n) == clib_red || "
                          "debug_node_color(pTree,n) == clib_black",
                          "3rdparty/cstl/src/c_rb.c", 0x1df,
                          "debug_verify_property_1");
        }
        FUN_0006a138(param_1, *param_2);
        param_2 = (undefined4 *)param_2[1];
    } while (param_2 != (undefined4 *)(param_1 + 4));
    return;
}

void FUN_0006a198(int param_1, int *param_2)

{
    int *piVar1;
    int *piVar2;
    int *piVar3;

    piVar3 = (int *)(param_1 + 4);
LAB_0006a1a8:
    piVar1 = param_2;
    if (param_2 == piVar3) {
        return;
    }
    do {
        while (param_2 = (int *)*piVar1, piVar1[3] != 1) {
            piVar2 = (int *)piVar1[1];
        LAB_0006a1b4:
            FUN_0006a198(param_1);
            piVar1 = piVar2;
            if (piVar2 == piVar3) {
                return;
            }
        }
        if ((param_2 != piVar3) && (param_2[3] != 0)) {
            /* WARNING: Subroutine does not return */
            __assert_fail("debug_node_color(pTree,n->left) == clib_black",
                          "3rdparty/cstl/src/c_rb.c", 0x1ef,
                          "debug_verify_property_4");
        }
        piVar2 = (int *)piVar1[1];
        if (piVar2 == piVar3) {
            piVar1 = (int *)piVar1[2];
            if (piVar1 != piVar3) {
            LAB_0006a210:
                if (piVar1[3] != 0) {
                    /* WARNING: Subroutine does not return */
                    __assert_fail(
                        "debug_node_color(pTree,n->parent) == clib_black",
                        "3rdparty/cstl/src/c_rb.c", 0x1f1,
                        "debug_verify_property_4");
                }
                goto LAB_0006a1b4;
            }
            goto LAB_0006a1a8;
        }
        if (piVar2[3] != 0) {
            /* WARNING: Subroutine does not return */
            __assert_fail("debug_node_color(pTree,n->right) == clib_black",
                          "3rdparty/cstl/src/c_rb.c", 0x1f0,
                          "debug_verify_property_4");
        }
        piVar1 = (int *)piVar1[2];
        if (piVar1 != piVar3)
            goto LAB_0006a210;
        FUN_0006a198(param_1);
        piVar1 = piVar2;
    } while (true);
}

void FUN_0006a2a0(int param_1, undefined4 *param_2, int param_3, int *param_4)

{
    int iVar1;
    int iVar2;

    iVar1 = param_3 + 1;
    iVar2 = iVar1;
    if (param_2 != (undefined4 *)(param_1 + 4)) {
        do {
            iVar1 = iVar2;
            if (param_2[3] == 0) {
                iVar1 = iVar2 + 1;
                param_3 = iVar2;
            }
            FUN_0006a2a0(param_1, *param_2, param_3, param_4);
            param_2 = (undefined4 *)param_2[1];
            iVar2 = iVar1;
        } while (param_2 != (undefined4 *)(param_1 + 4));
    }
    if (*param_4 == -1) {
        *param_4 = iVar1;
        return;
    }
    if (*param_4 != iVar1) {
        /* WARNING: Subroutine does not return */
        __assert_fail("black_count == *path_black_count",
                      "3rdparty/cstl/src/c_rb.c", 0x205,
                      "debug_verify_property_5_helper");
    }
    return;
}

void FUN_0006a330(int *param_1)

{
    int *piVar1;

    piVar1 = (int *)*param_1;
    FUN_0006a138(param_1, piVar1);
    if ((piVar1 != param_1 + 1) && (piVar1[3] != 0)) {
        /* WARNING: Subroutine does not return */
        __assert_fail("debug_node_color(pTree,root) == clib_black",
                      "3rdparty/cstl/src/c_rb.c", 0x1e6,
                      "debug_verify_property_2");
    }
    FUN_0006a198(param_1, piVar1);
    FUN_0006a2a0(param_1, piVar1, 0);
    return;
}

void FUN_0006a3b0(int param_1, int param_2, int param_3)

{
    int *piVar1;
    int *piVar2;

    piVar1 = (int *)malloc(0x28);
    if (piVar1 == (int *)0x0) {
        return;
    }
    piVar2 = piVar1 + 1;
    piVar1[5] = 0;
    piVar1[6] = 0;
    piVar1[3] = 0;
    piVar1[4] = 0;
    piVar1[9] = param_1;
    piVar1[7] = param_2;
    piVar1[8] = param_3;
    *piVar1 = (int)piVar2;
    piVar1[1] = (int)piVar2;
    piVar1[2] = (int)piVar2;
    return;
}

int FUN_0006a408(int *param_1, undefined4 param_2)

{
    int *piVar1;
    int iVar2;
    int *piVar3;
    void *local_1c;

    piVar3 = (int *)*param_1;
    while (true) {
        if (piVar3 == param_1 + 1) {
            return 0;
        }
        FUN_0006ac04(piVar3[4], &local_1c);
        iVar2 = (*(code *)param_1[9])(param_2, local_1c);
        free(local_1c);
        if (iVar2 == 0)
            break;
        piVar1 = piVar3 + 1;
        if (iVar2 < 0) {
            piVar1 = piVar3;
        }
        piVar3 = (int *)*piVar1;
    }
    return (int)piVar3;
}

int *FUN_0006a6ec(int *param_1, undefined4 param_2)

{
    int iVar1;
    int iVar2;
    int *piVar3;
    int *piVar4;
    undefined4 *puVar5;
    int iVar6;
    int *piVar7;
    int *piVar8;
    int *piVar9;
    int *piVar10;
    void *local_1c;

    piVar3 = param_1 + 1;
    piVar7 = (int *)*param_1;
    while (true) {
        if (piVar3 == piVar7) {
            return (int *)0x0;
        }
        FUN_0006ac04(piVar7[4], &local_1c);
        iVar1 = (*(code *)param_1[9])(param_2, local_1c);
        free(local_1c);
        piVar4 = (int *)*piVar7;
        if (iVar1 == 0)
            break;
        piVar7 = (int *)piVar7[1];
        if (iVar1 < 0) {
            piVar7 = piVar4;
        }
    }
    piVar8 = (int *)piVar7[1];
    piVar9 = piVar8;
    piVar10 = piVar7;
    if ((piVar3 != piVar4) && (piVar9 = piVar4, piVar3 != piVar8)) {
        do {
            piVar10 = piVar8;
            piVar8 = (int *)*piVar10;
        } while (piVar3 != (int *)*piVar10);
        piVar9 = (int *)piVar10[1];
    }
    piVar9[2] = piVar10[2];
    puVar5 = (undefined4 *)piVar10[2];
    if (puVar5 == (undefined4 *)0x0) {
        *param_1 = (int)piVar9;
    } else if (piVar10 == (int *)*puVar5) {
        *puVar5 = piVar9;
    } else {
        puVar5[1] = piVar9;
    }
    if (piVar10 != piVar7) {
        iVar1 = piVar7[4];
        iVar6 = piVar7[5];
        iVar2 = piVar10[5];
        piVar7[4] = piVar10[4];
        piVar10[4] = iVar1;
        piVar7[5] = iVar2;
        piVar10[5] = iVar6;
    }
    if (piVar10[3] == 0) {
        piVar7 = (int *)*param_1;
    LAB_0006a814:
        piVar3 = piVar9;
        if (piVar9 != piVar7) {
            while (true) {
                piVar3 = piVar9;
                if (piVar9[3] != 0)
                    goto LAB_0006a878;
                piVar3 = (int *)piVar9[2];
                piVar7 = (int *)*piVar3;
                if (piVar9 == piVar7) {
                    piVar7 = (int *)piVar3[1];
                    if (piVar7[3] == 1) {
                        piVar7[3] = 0;
                        piVar3[3] = 1;
                        FUN_0006a090(param_1, piVar3);
                        piVar3 = (int *)piVar9[2];
                        piVar7 = (int *)piVar3[1];
                    }
                    iVar1 = piVar7[1];
                    if (*(int *)(*piVar7 + 0xc) == 0) {
                        if (*(int *)(iVar1 + 0xc) == 0)
                            goto LAB_0006a868;
                    } else if (*(int *)(iVar1 + 0xc) == 0) {
                        *(undefined4 *)(*piVar7 + 0xc) = 0;
                        piVar7[3] = 1;
                        FUN_0006a0e4(param_1, piVar7);
                        piVar3 = (int *)piVar9[2];
                        piVar7 = (int *)piVar3[1];
                        iVar1 = piVar7[1];
                    }
                    piVar7[3] = piVar3[3];
                    piVar3[3] = 0;
                    *(undefined4 *)(iVar1 + 0xc) = 0;
                    FUN_0006a090(param_1, piVar3);
                    piVar7 = (int *)*param_1;
                    piVar9 = piVar7;
                    goto LAB_0006a814;
                }
                if (piVar7[3] == 1) {
                    piVar7[3] = 0;
                    piVar3[3] = 1;
                    FUN_0006a0e4(param_1, piVar3);
                    piVar3 = (int *)piVar9[2];
                    piVar7 = (int *)*piVar3;
                }
                iVar1 = *piVar7;
                if (*(int *)(piVar7[1] + 0xc) != 0)
                    break;
                if (*(int *)(iVar1 + 0xc) != 0)
                    goto LAB_0006a8b0;
            LAB_0006a868:
                piVar7[3] = 1;
                piVar9 = piVar3;
                if (piVar3 == (int *)*param_1)
                    goto LAB_0006a878;
            }
            if (*(int *)(iVar1 + 0xc) == 0) {
                *(undefined4 *)(piVar7[1] + 0xc) = 0;
                piVar7[3] = 1;
                FUN_0006a090(param_1, piVar7);
                piVar3 = (int *)piVar9[2];
                piVar7 = (int *)*piVar3;
                iVar1 = *piVar7;
            }
        LAB_0006a8b0:
            piVar7[3] = piVar3[3];
            piVar3[3] = 0;
            *(undefined4 *)(iVar1 + 0xc) = 0;
            FUN_0006a0e4(param_1, piVar3);
            piVar7 = (int *)*param_1;
            piVar9 = piVar7;
            goto LAB_0006a814;
        }
    LAB_0006a878:
        piVar3[3] = 0;
    }
    FUN_0006a330(param_1);
    return piVar10;
}

undefined4 FUN_0006a9a0(undefined4 *param_1)

{
    undefined4 uVar1;
    int iVar2;
    undefined4 *__ptr;
    undefined4 *puVar3;
    undefined4 *puVar4;
    undefined4 *puVar5;
    undefined4 local_20;
    undefined4 local_1c;

    puVar3 = param_1 + 1;
    puVar5 = (undefined4 *)*param_1;
    while (__ptr = puVar5, __ptr != puVar3) {
        puVar5 = (undefined4 *)*__ptr;
        if (((undefined4 *)*__ptr == puVar3) &&
            (puVar4 = (undefined4 *)__ptr[1], puVar5 = puVar4,
             puVar3 == puVar4)) {
            uVar1 = __ptr[4];
            if (param_1[7] != 0) {
                FUN_0006ac04(uVar1, &local_20);
                (*(code *)param_1[7])(local_20);
                uVar1 = __ptr[4];
            }
            FUN_0006ac78(uVar1);
            iVar2 = __ptr[5];
            if (iVar2 != 0) {
                if (param_1[8] != 0) {
                    FUN_0006ac04(iVar2, &local_1c);
                    (*(code *)param_1[8])(local_1c);
                    iVar2 = __ptr[5];
                }
                FUN_0006ac78(iVar2);
            }
            puVar5 = (undefined4 *)__ptr[2];
            if (puVar5 == (undefined4 *)0x0) {
                free(__ptr);
                puVar5 = puVar4;
            } else if (puVar4 == (undefined4 *)*puVar5) {
                if (puVar4 != (undefined4 *)puVar5[1]) {
                    free((undefined4 *)puVar5[1]);
                    puVar5[1] = puVar4;
                }
            } else {
                free((undefined4 *)*puVar5);
                *puVar5 = puVar4;
            }
        }
    }
    free(param_1);
    return 0;
}

int *FUN_0006aaa8(int param_1, int *param_2)

{
    int *piVar1;

    do {
        piVar1 = param_2;
        param_2 = (int *)*piVar1;
    } while (param_2 != (int *)(param_1 + 4));
    return piVar1;
}

int *FUN_0006aafc(undefined4 *param_1, int *param_2)

{
    int *piVar1;
    int *piVar2;
    int *piVar3;
    int *piVar4;
    bool bVar5;

    piVar4 = param_1 + 1;
    piVar2 = (int *)param_2[1];
    if ((int *)param_2[1] == piVar4) {
        piVar2 = (int *)*param_1;
        do {
            piVar3 = piVar2;
            piVar2 = (int *)piVar3[1];
        } while (piVar4 != piVar2);
        if (param_2 == piVar3) {
            piVar3 = (int *)0x0;
        } else {
            piVar2 = (int *)param_2[2];
            piVar3 = piVar4;
            if ((piVar4 != piVar2) &&
                (piVar3 = piVar2, param_2 == (int *)piVar2[1])) {
                do {
                    piVar3 = (int *)piVar2[2];
                    if (piVar4 == piVar3) {
                        return piVar3;
                    }
                    bVar5 = (int *)piVar3[1] == piVar2;
                    piVar2 = piVar3;
                } while (bVar5);
            }
        }
    } else {
        do {
            piVar1 = (int *)*piVar2;
            piVar3 = piVar2;
            piVar2 = piVar1;
        } while (piVar4 != piVar1);
    }
    return piVar3;
}

undefined4 *FUN_0006aba8(void *param_1, size_t param_2)

{
    undefined4 *__ptr;
    void *__dest;

    __ptr = (undefined4 *)malloc(8);
    if (__ptr != (undefined4 *)0x0) {
        __ptr[1] = param_2;
        __dest = malloc(param_2);
        *__ptr = __dest;
        if (__dest == (void *)0x0) {
            free(__ptr);
            __ptr = (undefined4 *)0x0;
        } else {
            memcpy(__dest, param_1, param_2);
        }
    }
    return __ptr;
}

undefined4 FUN_0006ac04(undefined4 *param_1, undefined4 *param_2)

{
    void *__dest;
    size_t __size;

    __size = param_1[1];
    __dest = malloc(__size);
    *param_2 = __dest;
    if (__dest != (void *)0x0) {
        memcpy(__dest, (void *)*param_1, __size);
        return 0;
    }
    return 3;
}

void FUN_0006ac44(undefined4 *param_1, void *param_2, size_t param_3)

{
    void *__dest;

    free((void *)*param_1);
    __dest = malloc(param_3);
    *param_1 = __dest;
    memcpy(__dest, param_2, param_3);
    return;
}

void FUN_0006ac78(undefined4 *param_1)

{
    if (param_1 == (undefined4 *)0x0) {
        return;
    }
    free((void *)*param_1);
    free(param_1);
    return;
}

undefined4 FUN_0006acfc(uint param_1, int param_2, int param_3,
                        code *UNRECOVERED_JUMPTABLE, undefined4 param_5)

{
    int iVar1;
    int iVar2;
    undefined4 uVar3;

    if ((param_1 & 0x1f) == 0) {
        if ((param_3 != 0) && ((param_1 & 0x20) == 0)) {
            /* WARNING: Could not recover jumptable at 0x0006ad9c. Too many
             * branches */
            /* WARNING: Treating indirect jump as call */
            uVar3 = (*UNRECOVERED_JUMPTABLE)(" ", 1, param_5);
            return uVar3;
        }
    } else {
        iVar1 = (*UNRECOVERED_JUMPTABLE)("\n", 1, param_5);
        if (iVar1 != 0) {
            return 0xffffffff;
        }
        if (0 < param_2) {
            iVar1 = 0;
            do {
                iVar1 = iVar1 + 1;
                iVar2 =
                    (*UNRECOVERED_JUMPTABLE)("                                ",
                                             param_1 & 0x1f, param_5);
                if (iVar2 != 0) {
                    return 0xffffffff;
                }
            } while (param_2 != iVar1);
        }
    }
    return 0;
}

undefined4 FUN_0006ada0(char *param_1, code *param_2, undefined4 param_3,
                        uint param_4)

{
    int iVar1;
    char *pcVar2;
    char *pcVar3;
    undefined4 uVar4;
    uint local_3c;
    char acStack_38[20];

    iVar1 = (*param_2)(&DAT_00086d08, 1);
    if (iVar1 == 0) {
        pcVar2 = param_1;
        do {
            do {
                pcVar3 = pcVar2;
                if (*pcVar3 == '\0') {
                    if ((pcVar3 != param_1) &&
                        (iVar1 = (*param_2)(param_1, (int)pcVar3 - (int)param_1,
                                            param_3),
                         iVar1 != 0)) {
                        return 0xffffffff;
                    }
                LAB_0006afe8:
                    uVar4 = (*param_2)(&DAT_00086d08, 1, param_3);
                    return uVar4;
                }
                pcVar2 = (char *)FUN_0006db8c(pcVar3, &local_3c);
                if (pcVar2 == (char *)0x0) {
                    return 0xffffffff;
                }
            } while (((0x1f < (int)local_3c &&
                       (local_3c != 0x22 && local_3c != 0x5c)) &&
                      (((uint)(local_3c == 0x2f) & param_4 >> 10) == 0)) &&
                     (((uint)(0x7f < (int)local_3c) & param_4 >> 6) == 0));
            if ((pcVar3 != param_1) &&
                (iVar1 =
                     (*param_2)(param_1, (int)pcVar3 - (int)param_1, param_3),
                 iVar1 != 0)) {
                return 0xffffffff;
            }
            if (pcVar3 == pcVar2)
                goto LAB_0006afe8;
            if (local_3c == 0xc) {
                uVar4 = 2;
                pcVar3 = "\\f";
            } else if ((int)local_3c < 0xd) {
                if (local_3c == 9) {
                    uVar4 = 2;
                    pcVar3 = "\\t";
                } else if (local_3c == 10) {
                    uVar4 = 2;
                    pcVar3 = "\\n";
                } else if (local_3c == 8) {
                    uVar4 = 2;
                    pcVar3 = "\\b";
                } else {
                LAB_0006aef0:
                    if ((int)local_3c < 0x10000)
                        goto LAB_0006aef8;
                LAB_0006af2c:
                    local_3c = local_3c - 0x10000;
                    sprintf(acStack_38, "\\u%04x\\u%04x",
                            local_3c * 0x1000 >> 0x16 | 0xd800,
                            local_3c & 0x3ff | 0xdc00);
                    uVar4 = 0xc;
                    pcVar3 = acStack_38;
                }
            } else if (local_3c == 0x22) {
                uVar4 = 2;
                pcVar3 = "\\\"";
            } else if ((int)local_3c < 0x23) {
                if (local_3c == 0xd) {
                    uVar4 = 2;
                    pcVar3 = "\\r";
                } else {
                    if (0xffff < (int)local_3c)
                        goto LAB_0006af2c;
                LAB_0006aef8:
                    sprintf(acStack_38, "\\u%04x");
                    uVar4 = 6;
                    pcVar3 = acStack_38;
                }
            } else if (local_3c == 0x2f) {
                uVar4 = 2;
                pcVar3 = "\\/";
            } else {
                if (local_3c != 0x5c)
                    goto LAB_0006aef0;
                uVar4 = 2;
                pcVar3 = "\\\\";
            }
            iVar1 = (*param_2)(pcVar3, uVar4, param_3);
            param_1 = pcVar2;
        } while (iVar1 == 0);
    }
    return 0xffffffff;
}

undefined4 FUN_0006b004(undefined4 *param_1, uint param_2, int param_3,
                        code *param_4, undefined4 param_5)

{
    int iVar1;
    int iVar2;
    size_t sVar3;
    void *__base;
    undefined4 uVar4;
    undefined4 uVar5;
    int iVar6;
    undefined *puVar7;
    __compar_fn_t __compar;
    uint __nmemb;
    void *pvVar8;
    undefined4 *puVar9;
    uint uVar10;
    int iVar11;
    uint uVar12;
    char acStack_8c[104];

    if (param_1 == (undefined4 *)0x0)
        goto switchD_0006b028_default;
    switch (*param_1) {
    case 0:
        puVar7 = &DAT_0008a91c;
        if ((param_2 & 0x20) == 0) {
            uVar5 = 2;
        } else {
            uVar5 = 1;
            puVar7 = &DAT_000827b8;
        }
        if (param_1[8] == 0) {
            param_1[8] = 1;
            iVar2 = FUN_0006e048(param_1);
            iVar1 = (*param_4)(&DAT_00079dfc, 1, param_5);
            if (iVar1 == 0) {
                if (iVar2 == 0) {
                    param_1[8] = 0;
                    uVar5 = (*param_4)("}", 1, param_5);
                    return uVar5;
                }
                iVar11 = param_3 + 1;
                iVar1 = FUN_0006acfc(param_2, iVar11, 0, param_4, param_5);
                if (iVar1 == 0) {
                    if ((param_2 & 0x180) == 0) {
                        while (true) {
                            iVar1 = FUN_0006e094(param_1, iVar2);
                            uVar4 = FUN_0006e0c8(iVar2);
                            FUN_0006ada0(uVar4, param_4, param_5, param_2);
                            iVar6 = (*param_4)(puVar7, uVar5, param_5);
                            if (iVar6 != 0)
                                break;
                            uVar4 = FUN_0006e0d4(iVar2);
                            iVar2 = FUN_0006b004(uVar4, param_2, iVar11,
                                                 param_4, param_5);
                            if (iVar2 != 0)
                                break;
                            if (iVar1 == 0) {
                                iVar2 = FUN_0006acfc(param_2, param_3, 0,
                                                     param_4, param_5);
                                if (iVar2 == 0)
                                    goto LAB_0006b634;
                                break;
                            }
                            iVar2 = (*param_4)(&DAT_00086c58, 1, param_5);
                            if ((iVar2 != 0) ||
                                (iVar6 = FUN_0006acfc(param_2, iVar11, 1,
                                                      param_4, param_5),
                                 iVar2 = iVar1, iVar6 != 0))
                                break;
                        }
                    } else {
                        sVar3 = FUN_0006dfb0(param_1);
                        __base = (void *)FUN_0006d500(sVar3 << 3);
                        if (__base != (void *)0x0) {
                            puVar9 = (undefined4 *)((int)__base + 4);
                            __nmemb = 0;
                            do {
                                uVar12 = __nmemb;
                                __nmemb = uVar12 + 1;
                                uVar4 = FUN_0006be28(iVar2);
                                puVar9[-1] = uVar4;
                                uVar4 = FUN_0006e0c8(iVar2);
                                *puVar9 = uVar4;
                                iVar2 = FUN_0006e094(param_1, iVar2);
                                puVar9 = puVar9 + 2;
                            } while (iVar2 != 0);
                            if (sVar3 != __nmemb) {
                                /* WARNING: Subroutine does not return */
                                __assert_fail("i == size",
                                              "3rdparty/jansson-2.6/src/dump.c",
                                              0x141, "do_dump");
                            }
                            __compar = (__compar_fn_t)&LAB_0006ac9c;
                            if ((param_2 & 0x80) != 0) {
                                __compar = (__compar_fn_t)&LAB_0006acf0;
                            }
                            qsort(__base, __nmemb, 8, __compar);
                            uVar10 = 0;
                            pvVar8 = __base;
                            do {
                                uVar4 = *(undefined4 *)((int)pvVar8 + 4);
                                iVar2 = FUN_0006dfcc(param_1, uVar4);
                                if (iVar2 == 0) {
                                    /* WARNING: Subroutine does not return */
                                    __assert_fail(
                                        "value",
                                        "3rdparty/jansson-2.6/src/dump.c",
                                        0x151, "do_dump");
                                }
                                FUN_0006ada0(uVar4, param_4, param_5, param_2);
                                iVar1 = (*param_4)(puVar7, uVar5, param_5);
                                if ((iVar1 != 0) || (iVar2 = FUN_0006b004(
                                                         iVar2, param_2, iVar11,
                                                         param_4, param_5),
                                                     iVar2 != 0)) {
                                LAB_0006b3e4:
                                    FUN_0006d518(__base);
                                    goto LAB_0006b3ec;
                                }
                                if (uVar10 < uVar12) {
                                    iVar2 =
                                        (*param_4)(&DAT_00086c58, 1, param_5);
                                    if (iVar2 != 0)
                                        goto LAB_0006b3e4;
                                    iVar2 = FUN_0006acfc(param_2, iVar11, 1,
                                                         param_4, param_5);
                                } else {
                                    iVar2 = FUN_0006acfc(param_2, param_3, 0,
                                                         param_4, param_5);
                                }
                                if (iVar2 != 0)
                                    goto LAB_0006b3e4;
                                uVar10 = uVar10 + 1;
                                pvVar8 = (void *)((int)pvVar8 + 8);
                            } while (uVar10 != __nmemb);
                            FUN_0006d518(__base);
                        LAB_0006b634:
                            param_1[8] = 0;
                            uVar5 = (*param_4)("}", 1, param_5);
                            return uVar5;
                        }
                    }
                }
            }
        }
    LAB_0006b3ec:
        uVar5 = 0xffffffff;
        param_1[8] = 0;
        break;
    case 1:
        if (param_1[5] == 0) {
            param_1[5] = 1;
            iVar2 = FUN_0006e1a8(param_1);
            iVar1 = (*param_4)(&DAT_00086be0, 1, param_5);
            if (iVar1 == 0) {
                if (iVar2 == 0) {
                    param_1[5] = 0;
                    uVar5 = (*param_4)("]", 1, param_5);
                    return uVar5;
                }
                iVar11 = param_3 + 1;
                iVar1 = FUN_0006acfc(param_2, iVar11, 0, param_4, param_5);
                if (iVar1 == 0) {
                    if (0 < iVar2) {
                        iVar1 = 0;
                        do {
                            uVar5 = FUN_0006e1c4(param_1, iVar1);
                            iVar6 = FUN_0006b004(uVar5, param_2, iVar11,
                                                 param_4, param_5);
                            if (iVar6 != 0)
                                goto LAB_0006b520;
                            if (iVar1 < iVar2 + -1) {
                                iVar6 = (*param_4)(&DAT_00086c58, 1, param_5);
                                if (iVar6 != 0)
                                    goto LAB_0006b520;
                                iVar6 = FUN_0006acfc(param_2, iVar11, 1,
                                                     param_4, param_5);
                            } else {
                                iVar6 = FUN_0006acfc(param_2, param_3, 0,
                                                     param_4, param_5);
                            }
                            if (iVar6 != 0)
                                goto LAB_0006b520;
                            iVar1 = iVar1 + 1;
                        } while (iVar2 != iVar1);
                    }
                    param_1[5] = 0;
                    uVar5 = (*param_4)("]", 1, param_5);
                    return uVar5;
                }
            }
        }
    LAB_0006b520:
        uVar5 = 0xffffffff;
        param_1[5] = 0;
        break;
    case 2:
        uVar5 = FUN_0006e350(param_1);
        uVar5 = FUN_0006ada0(uVar5, param_4, param_5, param_2);
        return uVar5;
    case 3:
        FUN_0006e430(param_1);
        iVar2 = snprintf(acStack_8c, 100, "%lld");
        uVar5 = (*param_4)(acStack_8c, iVar2, param_5);
        return uVar5;
    case 4:
        FUN_0006e4e0(param_1);
        iVar2 = FUN_0006d818(acStack_8c, 100);
        if (-1 < iVar2) {
            uVar5 = (*param_4)(acStack_8c, iVar2, param_5);
            return uVar5;
        }
    default:
    switchD_0006b028_default:
        uVar5 = 0xffffffff;
        break;
    case 5:
        uVar5 = (*param_4)(&DAT_0007d2e0, 4, param_5);
        return uVar5;
    case 6:
        uVar5 = (*param_4)("false", 5, param_5);
        return uVar5;
    case 7:
        uVar5 = (*param_4)(&DAT_0008a920, 4, param_5);
    }
    return uVar5;
}

undefined4 FUN_0006b69c(uint *param_1, undefined4 param_2, undefined4 param_3,
                        uint param_4)

{
    undefined4 uVar1;

    if (((param_4 & 0x200) == 0) &&
        ((param_1 == (uint *)0x0 || (1 < *param_1)))) {
        return 0xffffffff;
    }
    uVar1 = FUN_0006b004(param_1, param_4, 0, param_2, param_3);
    return uVar1;
}

undefined4 FUN_0006b6e8(undefined4 param_1, undefined4 param_2)

{
    int iVar1;
    undefined4 uVar2;
    undefined1 auStack_1c[12];

    iVar1 = FUN_0006d580(auStack_1c);
    if (iVar1 == 0) {
        iVar1 = FUN_0006b69c(param_1, &LAB_0006acc0, auStack_1c, param_2);
        uVar2 = 0;
        if (iVar1 == 0) {
            FUN_0006d5f4(auStack_1c);
            uVar2 = FUN_0006d530();
        }
        FUN_0006d5b4(auStack_1c);
    } else {
        uVar2 = 0;
    }
    return uVar2;
}

int FUN_0006b7c4(int param_1, int *param_2, char *param_3, int param_4)

{
    int iVar1;
    int iVar2;

    iVar2 = *param_2;
    if ((iVar2 != param_1 + 0xc) || (iVar2 != param_2[1])) {
        while (true) {
            if (*(int *)(iVar2 + -4) == param_4) {
                iVar1 = strcmp((char *)(iVar2 + 0x10), param_3);
                if (iVar1 == 0) {
                    return iVar2 + -4;
                }
                iVar1 = param_2[1];
            } else {
                iVar1 = param_2[1];
            }
            if (iVar1 == iVar2)
                break;
            iVar2 = *(int *)(iVar2 + 4);
        }
    }
    return 0;
}

void FUN_0006b840(int param_1)

{
    int iVar1;
    int iVar2;
    int iVar3;
    int iVar4;

    iVar3 = *(int *)(param_1 + 0x10);
    if (iVar3 == param_1 + 0xc) {
        return;
    }
    do {
        iVar1 = *(int *)(iVar3 + 8);
        iVar4 = iVar3 + -4;
        iVar3 = *(int *)(iVar3 + 4);
        if (iVar1 != 0) {
            iVar2 = *(int *)(iVar1 + 4) + -1;
            if ((*(int *)(iVar1 + 4) != -1) &&
                (*(int *)(iVar1 + 4) = iVar2, iVar2 == 0)) {
                FUN_0006e5dc();
            }
        }
        FUN_0006d518(iVar4);
    } while (iVar3 != param_1 + 0xc);
    return;
}

undefined4 FUN_0006b8a0(undefined4 *param_1)

{
    undefined4 *puVar1;
    undefined4 *puVar2;
    undefined4 *puVar3;
    int iVar4;
    undefined4 *puVar5;

    *param_1 = 0;
    param_1[2] = 0;
    puVar1 = (undefined4 *)FUN_0006d500(0x28);
    param_1[1] = puVar1;
    if (puVar1 == (undefined4 *)0x0) {
        return 0xffffffff;
    }
    puVar5 = param_1 + 3;
    param_1[4] = puVar5;
    iVar4 = *(int *)(&DAT_0008a954 + param_1[2] * 4);
    param_1[3] = puVar5;
    if (iVar4 != 0) {
        puVar2 = puVar1;
        do {
            puVar2[1] = puVar5;
            puVar3 = puVar2 + 2;
            *puVar2 = puVar5;
            puVar2 = puVar3;
        } while (puVar3 != puVar1 + iVar4 * 2);
    }
    return 0;
}

void FUN_0006b910(int param_1)

{
    FUN_0006b840();
    FUN_0006d518(*(undefined4 *)(param_1 + 4));
    return;
}

undefined4 FUN_0006b928(uint *param_1, byte *param_2, int param_3, int param_4)

{
    int iVar1;
    size_t sVar2;
    int *piVar3;
    uint *puVar4;
    uint uVar5;
    int extraout_r1;
    int extraout_r1_00;
    byte *pbVar6;
    uint *puVar7;
    uint uVar8;
    int iVar9;
    int *piVar10;
    undefined4 *puVar11;
    undefined4 *puVar12;
    int iVar13;
    undefined4 *puVar14;
    uint *puVar15;
    uint *puVar16;

    uVar5 = *(uint *)(&DAT_0008a954 + param_1[2] * 4);
    puVar14 = (undefined4 *)param_1[1];
    if (uVar5 <= *param_1) {
        FUN_0006d518(puVar14);
        iVar13 = *(int *)(&DAT_0008a954 + (param_1[2] + 1) * 4);
        param_1[2] = param_1[2] + 1;
        puVar14 = (undefined4 *)FUN_0006d500(iVar13 << 3);
        param_1[1] = (uint)puVar14;
        if (puVar14 == (undefined4 *)0x0) {
            return 0xffffffff;
        }
        uVar8 = param_1[2];
        puVar15 = param_1 + 3;
        uVar5 = *(uint *)(&DAT_0008a954 + uVar8 * 4);
        if (uVar5 != 0) {
            puVar11 = puVar14;
            do {
                puVar11[1] = puVar15;
                puVar12 = puVar11 + 2;
                *puVar11 = puVar15;
                puVar11 = puVar12;
            } while (puVar14 + uVar5 * 2 != puVar12);
        }
        puVar7 = (uint *)param_1[4];
        param_1[3] = (uint)puVar15;
        param_1[4] = (uint)puVar15;
        if (puVar7 != puVar15) {
            do {
                while (true) {
                    FUN_000772cc(puVar7[-1], iVar13);
                    puVar4 = (uint *)puVar14[extraout_r1_00 * 2];
                    puVar11 = puVar14 + extraout_r1_00 * 2;
                    puVar16 = (uint *)puVar7[1];
                    if ((puVar4 != puVar15) || (puVar15 != (uint *)puVar11[1]))
                        break;
                    *puVar7 = param_1[3];
                    puVar7[1] = (uint)puVar15;
                    *(uint **)(param_1[3] + 4) = puVar7;
                    param_1[3] = (uint)puVar7;
                    puVar11[1] = puVar7;
                    *puVar11 = puVar7;
                    puVar7 = puVar16;
                    if (puVar16 == puVar15)
                        goto LAB_0006bb60;
                }
                uVar5 = *puVar4;
                puVar7[1] = (uint)puVar4;
                *puVar7 = uVar5;
                *(uint **)(*puVar4 + 4) = puVar7;
                *puVar4 = (uint)puVar7;
                *puVar11 = puVar7;
                puVar7 = puVar16;
            } while (puVar16 != puVar15);
        LAB_0006bb60:
            puVar14 = (undefined4 *)param_1[1];
            uVar5 = *(uint *)(&DAT_0008a954 + uVar8 * 4);
        }
    }
    uVar8 = (uint)*param_2;
    if (uVar8 == 0) {
        iVar13 = 0x1505;
    } else {
        iVar13 = 0x1505;
        pbVar6 = param_2;
        do {
            iVar13 = uVar8 + iVar13 * 0x21;
            pbVar6 = pbVar6 + 1;
            uVar8 = (uint)*pbVar6;
        } while (uVar8 != 0);
    }
    FUN_000772cc(iVar13, uVar5);
    puVar15 = puVar14 + extraout_r1 * 2;
    iVar1 = FUN_0006b7c4(param_1, puVar15, param_2, iVar13);
    if (iVar1 == 0) {
        sVar2 = strlen((char *)param_2);
        piVar3 = (int *)FUN_0006d500(sVar2 + 0x15);
        if (piVar3 == (int *)0x0) {
            return 0xffffffff;
        }
        *piVar3 = iVar13;
        piVar3[4] = param_3;
        strcpy((char *)(piVar3 + 5), (char *)param_2);
        puVar7 = (uint *)*puVar15;
        piVar10 = piVar3 + 1;
        piVar3[3] = param_4;
        piVar3[2] = (int)piVar10;
        piVar3[1] = (int)piVar10;
        if ((puVar7 == param_1 + 3) && (puVar7 == (uint *)puVar15[1])) {
            piVar3[1] = param_1[3];
            piVar3[2] = (int)puVar7;
            *(int **)(param_1[3] + 4) = piVar10;
            param_1[3] = (uint)piVar10;
            puVar15[1] = (uint)piVar10;
            *puVar15 = (uint)piVar10;
        } else {
            piVar3[1] = *puVar7;
            piVar3[2] = (int)puVar7;
            *(int **)(*puVar7 + 4) = piVar10;
            *puVar7 = (uint)piVar10;
            *puVar15 = (uint)piVar10;
        }
        *param_1 = *param_1 + 1;
        return 0;
    }
    iVar13 = *(int *)(iVar1 + 0xc);
    if (((iVar13 != 0) && (*(int *)(iVar13 + 4) != -1)) &&
        (iVar9 = *(int *)(iVar13 + 4) + -1, *(int *)(iVar13 + 4) = iVar9,
         iVar9 == 0)) {
        FUN_0006e5dc();
    }
    *(int *)(iVar1 + 0xc) = param_4;
    return 0;
}

int FUN_0006bbac(int param_1, byte *param_2)

{
    byte *pbVar1;
    int extraout_r1;
    uint uVar2;
    int iVar3;

    uVar2 = (uint)*param_2;
    if (uVar2 == 0) {
        iVar3 = 0x1505;
    } else {
        iVar3 = 0x1505;
        pbVar1 = param_2;
        do {
            iVar3 = uVar2 + iVar3 * 0x21;
            pbVar1 = pbVar1 + 1;
            uVar2 = (uint)*pbVar1;
        } while (uVar2 != 0);
    }
    FUN_000772cc(iVar3,
                 *(undefined4 *)(&DAT_0008a954 + *(int *)(param_1 + 8) * 4));
    iVar3 = FUN_0006b7c4(param_1, *(int *)(param_1 + 4) + extraout_r1 * 8,
                         param_2, iVar3);
    if (iVar3 != 0) {
        iVar3 = *(int *)(iVar3 + 0xc);
    }
    return iVar3;
}

undefined4 FUN_0006bc1c(int *param_1, byte *param_2)

{
    byte *pbVar1;
    int extraout_r1;
    undefined4 uVar2;
    int iVar3;
    uint uVar4;
    int iVar5;
    int iVar6;
    int iVar7;
    int iVar8;

    uVar4 = (uint)*param_2;
    if (uVar4 == 0) {
        iVar6 = 0x1505;
    } else {
        iVar6 = 0x1505;
        pbVar1 = param_2;
        do {
            iVar6 = uVar4 + iVar6 * 0x21;
            pbVar1 = pbVar1 + 1;
            uVar4 = (uint)*pbVar1;
        } while (uVar4 != 0);
    }
    FUN_000772cc(iVar6, *(undefined4 *)(&DAT_0008a954 + param_1[2] * 4));
    iVar8 = param_1[1];
    iVar7 = iVar8 + extraout_r1 * 8;
    iVar6 = FUN_0006b7c4(param_1, iVar7, param_2, iVar6);
    if (iVar6 != 0) {
        iVar3 = iVar6 + 4;
        uVar2 = *(undefined4 *)(iVar6 + 8);
        iVar5 = *(int *)(iVar6 + 4);
        if (iVar3 == *(int *)(iVar8 + extraout_r1 * 8)) {
            if (iVar3 == *(int *)(iVar7 + 4)) {
                *(int **)(iVar7 + 4) = param_1 + 3;
                *(int **)(iVar8 + extraout_r1 * 8) = param_1 + 3;
            } else {
                *(undefined4 *)(iVar8 + extraout_r1 * 8) = uVar2;
            }
        } else if (iVar3 == *(int *)(iVar7 + 4)) {
            *(int *)(iVar7 + 4) = iVar5;
        }
        iVar7 = *(int *)(iVar6 + 0xc);
        *(undefined4 *)(iVar5 + 4) = uVar2;
        **(int **)(iVar6 + 8) = iVar5;
        if (((iVar7 != 0) && (*(int *)(iVar7 + 4) != -1)) &&
            (iVar8 = *(int *)(iVar7 + 4) + -1, *(int *)(iVar7 + 4) = iVar8,
             iVar8 == 0)) {
            FUN_0006e5dc();
        }
        FUN_0006d518(iVar6);
        *param_1 = *param_1 + -1;
        return 0;
    }
    return 0xffffffff;
}

void FUN_0006bd2c(undefined4 *param_1)

{
    int iVar1;
    undefined4 *puVar2;
    undefined4 *puVar3;
    undefined4 *puVar4;
    undefined4 *puVar5;

    FUN_0006b840();
    puVar2 = param_1 + 3;
    iVar1 = *(int *)(&DAT_0008a954 + param_1[2] * 4);
    if (iVar1 != 0) {
        puVar3 = (undefined4 *)param_1[1];
        puVar4 = puVar3;
        do {
            puVar4[1] = puVar2;
            puVar5 = puVar4 + 2;
            *puVar4 = puVar2;
            puVar4 = puVar5;
        } while (puVar3 + iVar1 * 2 != puVar5);
    }
    param_1[4] = puVar2;
    param_1[3] = puVar2;
    *param_1 = 0;
    return;
}

int FUN_0006bd80(int param_1)

{
    int iVar1;

    iVar1 = *(int *)(param_1 + 0x10);
    if (iVar1 == param_1 + 0xc) {
        iVar1 = 0;
    }
    return iVar1;
}

int FUN_0006bd98(int param_1, byte *param_2)

{
    byte *pbVar1;
    int extraout_r1;
    uint uVar2;
    int iVar3;

    uVar2 = (uint)*param_2;
    if (uVar2 == 0) {
        iVar3 = 0x1505;
    } else {
        iVar3 = 0x1505;
        pbVar1 = param_2;
        do {
            iVar3 = uVar2 + iVar3 * 0x21;
            pbVar1 = pbVar1 + 1;
            uVar2 = (uint)*pbVar1;
        } while (uVar2 != 0);
    }
    FUN_000772cc(iVar3,
                 *(undefined4 *)(&DAT_0008a954 + *(int *)(param_1 + 8) * 4));
    iVar3 = FUN_0006b7c4(param_1, *(int *)(param_1 + 4) + extraout_r1 * 8,
                         param_2, iVar3);
    if (iVar3 != 0) {
        iVar3 = iVar3 + 4;
    }
    return iVar3;
}

int FUN_0006be08(int param_1, int param_2)

{
    int iVar1;

    iVar1 = *(int *)(param_2 + 4);
    if (iVar1 == param_1 + 0xc) {
        iVar1 = 0;
    }
    return iVar1;
}

int FUN_0006be20(int param_1)

{
    return param_1 + 0x10;
}

undefined4 FUN_0006be28(int param_1)

{
    return *(undefined4 *)(param_1 + 0xc);
}

undefined4 FUN_0006be30(int param_1)

{
    return *(undefined4 *)(param_1 + 8);
}

void FUN_0006be38(int param_1, undefined4 param_2)

{
    int iVar1;
    int iVar2;

    iVar1 = *(int *)(param_1 + 8);
    if ((iVar1 != 0) && (*(int *)(iVar1 + 4) != -1)) {
        iVar2 = *(int *)(iVar1 + 4) + -1;
        *(int *)(iVar1 + 4) = iVar2;
        if (iVar2 == 0) {
            FUN_0006e5dc();
            *(undefined4 *)(param_1 + 8) = param_2;
            return;
        }
    }
    *(undefined4 *)(param_1 + 8) = param_2;
    return;
}

void FUN_0006bf34(int param_1, int param_2, char *param_3, undefined4 param_4)

{
    char *pcVar1;
    undefined4 uVar2;
    undefined4 uVar3;
    undefined4 uVar4;
    char acStack_168[159];
    undefined1 local_c9;
    char acStack_c8[159];
    undefined1 local_29;
    undefined4 uStack_4;

    if (param_1 == 0) {
        return;
    }
    uStack_4 = param_4;
    vsnprintf(acStack_168, 0xa0, param_3, &uStack_4);
    local_c9 = 0;
    if (param_2 == 0) {
        uVar2 = 0xffffffff;
        pcVar1 = acStack_168;
        uVar3 = 0xffffffff;
        uVar4 = 0;
    } else {
        pcVar1 = (char *)FUN_0006d5f4(param_2 + 0x28);
        uVar3 = *(undefined4 *)(param_2 + 0x18);
        uVar2 = *(undefined4 *)(param_2 + 0x1c);
        uVar4 = *(undefined4 *)(param_2 + 0x24);
        if ((pcVar1 == (char *)0x0) || (*pcVar1 == '\0')) {
            if (*(int *)(param_2 + 0x14) != -2) {
                snprintf(acStack_c8, 0xa0, "%s near end of file", acStack_168);
                pcVar1 = acStack_c8;
                local_29 = 0;
                goto LAB_0006bfc4;
            }
        } else if (*(uint *)(param_2 + 0x2c) < 0x15) {
            snprintf(acStack_c8, 0xa0, "%s near \'%s\'", acStack_168, pcVar1);
            pcVar1 = acStack_c8;
            local_29 = 0;
            goto LAB_0006bfc4;
        }
        pcVar1 = acStack_168;
    }
LAB_0006bfc4:
    FUN_00074820(param_1, uVar3, uVar2, uVar4, "%s", pcVar1);
    return;
}

void FUN_0006c054(int param_1)

{
    if (*(int *)(param_1 + 0x34) != 0x100) {
        FUN_0006d5b4(param_1 + 0x28);
        return;
    }
    FUN_0006d518(*(undefined4 *)(param_1 + 0x38));
    FUN_0006d5b4(param_1 + 0x28);
    return;
}

int FUN_0006c088(byte *param_1)

{
    int iVar1;
    uint uVar2;
    byte *pbVar3;

    if (*param_1 != 0x75) {
        /* WARNING: Subroutine does not return */
        __assert_fail("str[0] == \'u\'", "3rdparty/jansson-2.6/src/load.c",
                      0x120, "decode_unicode_escape");
    }
    iVar1 = 0;
    pbVar3 = param_1 + 4;
    do {
        param_1 = param_1 + 1;
        uVar2 = (uint)*param_1;
        iVar1 = iVar1 * 0x10;
        if ((uVar2 - 0x30 & 0xff) < 10) {
            iVar1 = (uVar2 - 0x30) + iVar1;
        } else if (uVar2 - 0x61 < 0x1a) {
            iVar1 = (uVar2 - 0x57) + iVar1;
        } else {
            if (0x19 < uVar2 - 0x41) {
                /* WARNING: Subroutine does not return */
                __assert_fail("0", "3rdparty/jansson-2.6/src/load.c", 300,
                              "decode_unicode_escape");
            }
            iVar1 = (uVar2 - 0x37) + iVar1;
        }
    } while (param_1 != pbVar3);
    return iVar1;
}

void FUN_0006c134(int param_1, uint param_2)

{
    int iVar1;

    if (param_2 + 2 < 2) {
        return;
    }
    *(int *)(param_1 + 0x24) = *(int *)(param_1 + 0x24) + -1;
    if (param_2 == 10) {
        *(int *)(param_1 + 0x18) = *(int *)(param_1 + 0x18) + -1;
        *(undefined4 *)(param_1 + 0x1c) = *(undefined4 *)(param_1 + 0x20);
    } else {
        iVar1 = FUN_0006da38(param_2 & 0xff);
        if (iVar1 != 0) {
            *(int *)(param_1 + 0x1c) = *(int *)(param_1 + 0x1c) + -1;
        }
    }
    if (*(int *)(param_1 + 0x10) != 0) {
        iVar1 = *(int *)(param_1 + 0x10) + -1;
        *(int *)(param_1 + 0x10) = iVar1;
        if (*(byte *)(param_1 + iVar1 + 8) == param_2) {
            return;
        }
        /* WARNING: Subroutine does not return */
        __assert_fail("stream->buffer[stream->buffer_pos] == c",
                      "3rdparty/jansson-2.6/src/load.c", 0xe2, "stream_unget");
    }
    /* WARNING: Subroutine does not return */
    __assert_fail("stream->buffer_pos > 0", "3rdparty/jansson-2.6/src/load.c",
                  0xe0, "stream_unget");
}

uint FUN_0006c1f0(undefined4 *param_1, undefined4 param_2)

{
    undefined1 uVar1;
    int iVar2;
    int iVar3;
    int iVar4;
    undefined4 uVar5;
    undefined4 *puVar6;
    uint uVar7;
    undefined1 *puVar8;
    undefined1 *puVar9;

    puVar6 = (undefined4 *)((int)param_1 + param_1[4]);
    if (*(char *)(puVar6 + 2) == '\0') {
        iVar4 = (*(code *)*param_1)(param_1[1]);
        if (iVar4 == -1) {
            param_1[5] = 0xffffffff;
            return 0xffffffff;
        }
        param_1[4] = 0;
        *(char *)(param_1 + 2) = (char)iVar4;
        if (iVar4 - 0x80U < 0x80) {
            iVar2 = FUN_0006da38();
            if (iVar2 != 0) {
                if (iVar2 < 2) {
                    /* WARNING: Subroutine does not return */
                    __assert_fail("count >= 2",
                                  "3rdparty/jansson-2.6/src/load.c", 0xaf,
                                  "stream_get");
                }
                puVar8 = (undefined1 *)((int)param_1 + 9);
                do {
                    uVar1 = (*(code *)*param_1)(param_1[1]);
                    puVar9 = puVar8 + 1;
                    *puVar8 = uVar1;
                    puVar8 = puVar9;
                } while ((undefined1 *)((int)(param_1 + 2) + iVar2) != puVar9);
                iVar3 = FUN_0006daa4(param_1 + 2, iVar2, 0);
                if (iVar3 != 0) {
                    *(undefined1 *)((int)param_1 + iVar2 + 8) = 0;
                    iVar4 = param_1[4] + 1;
                    puVar6 = (undefined4 *)((int)param_1 + param_1[4]);
                    goto LAB_0006c254;
                }
            }
            param_1[5] = 0xfffffffe;
            FUN_0006bf34(param_2, param_1, "unable to decode byte 0x%x", iVar4);
            return 0xfffffffe;
        }
        iVar4 = 1;
        *(undefined1 *)((int)param_1 + 9) = 0;
        puVar6 = param_1;
    } else {
        iVar4 = param_1[4] + 1;
    }
LAB_0006c254:
    param_1[4] = iVar4;
    uVar7 = (uint) * (byte *)(puVar6 + 2);
    param_1[9] = param_1[9] + 1;
    if (uVar7 != 10) {
        iVar4 = FUN_0006da38(uVar7);
        if (iVar4 != 0) {
            param_1[7] = param_1[7] + 1;
        }
        return uVar7;
    }
    uVar5 = param_1[7];
    param_1[7] = 0;
    param_1[6] = param_1[6] + 1;
    param_1[8] = uVar5;
    return 10;
}

uint FUN_0006c368(int param_1)

{
    uint uVar1;

    uVar1 = *(uint *)(param_1 + 0x14);
    if (uVar1 == 0) {
        uVar1 = FUN_0006c1f0();
    }
    if (1 < uVar1 + 2) {
        FUN_0006d704(param_1 + 0x28, uVar1 & 0xff);
    }
    return uVar1;
}

void FUN_0006c3a8(int param_1, int param_2)

{
    int iVar1;

    if (param_2 + 2U < 2) {
        return;
    }
    FUN_0006c134();
    iVar1 = FUN_0006d728(param_1 + 0x28);
    if (iVar1 == param_2) {
        return;
    }
    /* WARNING: Subroutine does not return */
    __assert_fail("c == d", "3rdparty/jansson-2.6/src/load.c", 0x10c,
                  "lex_unget_unsave");
}

uint FUN_0006c3f4(int param_1, undefined4 param_2)

{
    char cVar1;
    char *pcVar2;
    int *piVar3;
    byte *__dest;
    byte bVar4;
    int iVar5;
    uint uVar6;
    uint uVar7;
    int iVar8;
    byte *pbVar9;
    bool bVar10;
    bool bVar11;
    longlong lVar12;
    undefined1 auStack_34[4];
    char *local_30;
    undefined4 uStack_2c;

    iVar8 = param_1 + 0x28;
    FUN_0006d5e0(iVar8);
    if (*(int *)(param_1 + 0x34) == 0x100) {
        FUN_0006d518(*(undefined4 *)(param_1 + 0x38));
        *(undefined4 *)(param_1 + 0x38) = 0;
    }
    do {
        uVar7 = *(uint *)(param_1 + 0x14);
        if (uVar7 == 0) {
            uVar7 = FUN_0006c1f0(param_1, param_2);
        }
        bVar10 = 0x1f < uVar7;
        if (uVar7 != 0x20) {
            bVar10 = uVar7 != 9;
        }
    } while ((!bVar10 || (uVar7 == 0x20 || uVar7 == 10)) || (uVar7 == 0xd));
    if (uVar7 == 0xffffffff) {
        *(undefined4 *)(param_1 + 0x34) = 0;
        return 0;
    }
    if (uVar7 == 0xfffffffe) {
    LAB_0006c4f8:
        *(undefined4 *)(param_1 + 0x34) = 0xffffffff;
        return 0xffffffff;
    }
    FUN_0006d704(iVar8, uVar7 & 0xff);
    if ((((uVar7 & 0xffffffdf) - 0x5b & 0xfffffffd) == 0) ||
        (uVar7 == 0x2c || uVar7 == 0x3a)) {
    LAB_0006c524:
        *(uint *)(param_1 + 0x34) = uVar7;
        return uVar7;
    }
    if (uVar7 == 0x22) {
        *(undefined4 *)(param_1 + 0x38) = 0;
        *(undefined4 *)(param_1 + 0x34) = 0xffffffff;
    LAB_0006c6a8:
        do {
            uVar7 = FUN_0006c368(param_1, param_2);
            while (true) {
                if (uVar7 == 0x22) {
                    __dest = (byte *)FUN_0006d500(*(int *)(param_1 + 0x2c) + 1);
                    *(byte **)(param_1 + 0x38) = __dest;
                    if (__dest == (byte *)0x0)
                        goto LAB_0006c730;
                    iVar8 = FUN_0006d5f4(iVar8);
                    pbVar9 = (byte *)(iVar8 + 1);
                    goto LAB_0006c8d8;
                }
                if (uVar7 == 0xfffffffe)
                    goto LAB_0006c730;
                if (uVar7 == 0xffffffff) {
                    FUN_0006bf34(param_2, param_1, "premature end of input");
                    goto LAB_0006c730;
                }
                if (uVar7 < 0x20) {
                    FUN_0006c3a8(param_1, uVar7);
                    if (uVar7 == 10) {
                        pcVar2 = "unexpected newline";
                    } else {
                        pcVar2 = "control character 0x%x";
                    }
                    FUN_0006bf34(param_2, param_1, pcVar2, uVar7);
                    goto LAB_0006c730;
                }
                if (uVar7 != 0x5c)
                    goto LAB_0006c6a8;
                uVar7 = FUN_0006c368(param_1, param_2);
                if (uVar7 != 0x75)
                    break;
                uVar7 = FUN_0006c368(param_1, param_2);
                iVar5 = 4;
                do {
                    uVar6 = (uVar7 & 0xffffffdf) - 0x41;
                    bVar11 = 4 < uVar6;
                    bVar10 = uVar6 == 5;
                    if (5 < uVar6) {
                        bVar11 = 8 < uVar7 - 0x30;
                        bVar10 = uVar7 - 0x30 == 9;
                    }
                    if (bVar11 && !bVar10)
                        goto LAB_0006c71c;
                    uVar7 = FUN_0006c368(param_1, param_2);
                    iVar5 = iVar5 + -1;
                } while (iVar5 != 0);
            }
        } while (((uVar7 == 0x5c || (uVar7 & 0xffffffbf) == 0x22) ||
                  (uVar7 == 0x2f)) ||
                 (((uVar7 & 0xfffffff7) == 0x66 ||
                   ((uVar7 - 0x72 & 0xfffffffd) == 0))));
    LAB_0006c71c:
        FUN_0006bf34(param_2, param_1, "invalid escape");
    LAB_0006c730:
        FUN_0006d518(*(undefined4 *)(param_1 + 0x38));
        return *(uint *)(param_1 + 0x34);
    }
    bVar10 = 0x2c < uVar7;
    if (uVar7 != 0x2d) {
        bVar10 = 8 < uVar7 - 0x30;
    }
    if (bVar10 && (uVar7 != 0x2d && uVar7 - 0x30 != 9)) {
        if ((uVar7 & 0xffffffdf) - 0x41 < 0x1a) {
            do {
                uVar7 = FUN_0006c368(param_1, param_2);
            } while ((uVar7 & 0xffffffdf) - 0x41 < 0x1a);
            FUN_0006c3a8(param_1, uVar7);
            pcVar2 = (char *)FUN_0006d5f4(iVar8);
            iVar8 = strcmp(pcVar2, "true");
            if (iVar8 == 0) {
                *(undefined4 *)(param_1 + 0x34) = 0x103;
                return 0x103;
            }
            iVar8 = strcmp(pcVar2, "false");
            if (iVar8 == 0) {
                uVar7 = 0x104;
                goto LAB_0006c524;
            }
            iVar8 = strcmp(pcVar2, "null");
            if (iVar8 == 0) {
                *(undefined4 *)(param_1 + 0x34) = 0x105;
                return 0x105;
            }
        } else {
            cVar1 = *(char *)(param_1 + *(int *)(param_1 + 0x10) + 8);
            while (cVar1 != '\0') {
                FUN_0006d704(iVar8);
                iVar5 = *(int *)(param_1 + 0x10) + 1;
                *(int *)(param_1 + 0x10) = iVar5;
                *(int *)(param_1 + 0x24) = *(int *)(param_1 + 0x24) + 1;
                cVar1 = *(char *)(param_1 + iVar5 + 8);
            }
        }
        goto LAB_0006c4f8;
    }
    *(undefined4 *)(param_1 + 0x34) = 0xffffffff;
    if (uVar7 == 0x2d) {
        uVar7 = FUN_0006c368(param_1, param_2);
        if (uVar7 == 0x30)
            goto LAB_0006c7fc;
        if (uVar7 - 0x30 < 10)
            goto LAB_0006c5ec;
    LAB_0006c818:
        FUN_0006c3a8(param_1, uVar7);
        uVar7 = *(uint *)(param_1 + 0x34);
    } else {
        if (uVar7 == 0x30) {
        LAB_0006c7fc:
            uVar7 = FUN_0006c368(param_1, param_2);
            if (uVar7 - 0x30 < 10)
                goto LAB_0006c818;
        } else {
        LAB_0006c5ec:
            do {
                uVar7 = FUN_0006c368(param_1, param_2);
            } while (uVar7 - 0x30 < 10);
        }
        if (uVar7 == 0x2e || uVar7 == 0x45) {
            if (uVar7 == 0x2e) {
                uVar7 = *(uint *)(param_1 + 0x14);
                if (uVar7 == 0) {
                    uVar7 = FUN_0006c1f0(param_1, param_2);
                }
                if (9 < uVar7 - 0x30) {
                    FUN_0006c134(param_1);
                    return *(uint *)(param_1 + 0x34);
                }
                FUN_0006d704(iVar8, uVar7 & 0xff);
                do {
                    uVar7 = FUN_0006c368(param_1, param_2);
                } while (uVar7 - 0x30 < 10);
            }
            if ((uVar7 & 0xffffffdf) == 0x45)
                goto LAB_0006c7b0;
        } else {
            if (uVar7 != 0x65) {
                FUN_0006c3a8(param_1, uVar7);
                pcVar2 = (char *)FUN_0006d5f4(iVar8);
                piVar3 = __errno_location();
                *piVar3 = 0;
                lVar12 = strtoll(pcVar2, &local_30, 10);
                if (*piVar3 == 0x22) {
                    if (lVar12 < 0) {
                        pcVar2 = "too big negative integer";
                    } else {
                        pcVar2 = "too big integer";
                    }
                    FUN_0006bf34(param_2, param_1, pcVar2);
                    return *(uint *)(param_1 + 0x34);
                }
                if (local_30 == pcVar2 + *(int *)(param_1 + 0x2c)) {
                    *(longlong *)(param_1 + 0x38) = lVar12;
                    *(undefined4 *)(param_1 + 0x34) = 0x101;
                    return 0x101;
                }
                /* WARNING: Subroutine does not return */
                __assert_fail("end == saved_text + lex->saved_text.length",
                              "3rdparty/jansson-2.6/src/load.c", 0x206,
                              "lex_scan_number");
            }
        LAB_0006c7b0:
            uVar7 = FUN_0006c368(param_1, param_2);
            if ((uVar7 - 0x2b & 0xfffffffd) == 0) {
                uVar7 = FUN_0006c368(param_1, param_2);
            }
            if (9 < uVar7 - 0x30)
                goto LAB_0006c818;
            do {
                uVar7 = FUN_0006c368(param_1, param_2);
            } while (uVar7 - 0x30 < 10);
        }
        FUN_0006c3a8(param_1, uVar7);
        iVar8 = FUN_0006d750(iVar8, &local_30);
        if (iVar8 == 0) {
            uVar7 = 0x102;
            *(undefined4 *)(param_1 + 0x34) = 0x102;
            *(char **)(param_1 + 0x38) = local_30;
            *(undefined4 *)(param_1 + 0x3c) = uStack_2c;
        } else {
            FUN_0006bf34(param_2, param_1, "real number overflow");
            uVar7 = *(uint *)(param_1 + 0x34);
        }
    }
    return uVar7;
LAB_0006c8d8:
    while (true) {
        bVar4 = *pbVar9;
        if (bVar4 == 0x22) {
            *__dest = 0;
            *(undefined4 *)(param_1 + 0x34) = 0x100;
            return 0x100;
        }
        if (bVar4 == 0x5c)
            break;
        *__dest = bVar4;
        __dest = __dest + 1;
        pbVar9 = pbVar9 + 1;
    }
    bVar4 = pbVar9[1];
    if (bVar4 == 0x75) {
        iVar8 = FUN_0006c088();
        if (iVar8 - 0xd800U < 0x400) {
            if ((pbVar9[6] != 0x5c) || (pbVar9[7] != 0x75)) {
            LAB_0006cb90:
                FUN_0006bf34(param_2, param_1, "invalid Unicode \'\\u%04X\'");
                goto LAB_0006c730;
            }
            iVar5 = FUN_0006c088(pbVar9 + 7);
            if (0x3ff < iVar5 - 0xdc00U) {
                FUN_0006bf34(param_2, param_1,
                             "invalid Unicode \'\\u%04X\\u%04X\'", iVar8,
                             iVar5);
                goto LAB_0006c730;
            }
            iVar8 = (iVar5 - 0xdc00U) + (iVar8 - 0xd800U) * 0x400 + 0x10000;
            pbVar9 = pbVar9 + 0xc;
        } else {
            if (iVar8 - 0xdc00U < 0x400)
                goto LAB_0006cb90;
            pbVar9 = pbVar9 + 6;
            if (iVar8 == 0) {
                FUN_0006bf34(param_2, param_1, "\\u0000 is not allowed");
                goto LAB_0006c730;
            }
        }
        iVar8 = FUN_0006d94c(iVar8, auStack_34, &local_30);
        if (iVar8 != 0) {
            /* WARNING: Subroutine does not return */
            __assert_fail("0", "3rdparty/jansson-2.6/src/load.c", 0x1ae,
                          "lex_scan_string");
        }
        memcpy(__dest, auStack_34, (size_t)local_30);
        __dest = __dest + (int)local_30;
        goto LAB_0006c8d8;
    }
    if (bVar4 == 0x62) {
        *__dest = 8;
    } else if (bVar4 < 99) {
        if (((bVar4 != 0x2f) && (bVar4 != 0x5c)) && (bVar4 != 0x22))
            goto LAB_0006c9cc;
    LAB_0006c9a4:
        *__dest = bVar4;
    } else if (bVar4 == 0x6e) {
        *__dest = 10;
    } else {
        if (bVar4 < 0x6f) {
            if (bVar4 != 0x66) {
            LAB_0006c9cc:
                /* WARNING: Subroutine does not return */
                __assert_fail("0", "3rdparty/jansson-2.6/src/load.c", 0x1bc,
                              "lex_scan_string");
            }
            bVar4 = 0xc;
            goto LAB_0006c9a4;
        }
        if (bVar4 == 0x72) {
            *__dest = 0xd;
        } else {
            if (bVar4 != 0x74)
                goto LAB_0006c9cc;
            *__dest = 9;
        }
    }
    __dest = __dest + 1;
    pbVar9 = pbVar9 + 2;
    goto LAB_0006c8d8;
}

int FUN_0006cbb0(int param_1, uint param_2, undefined4 param_3)

{
    int iVar1;
    int iVar2;
    int iVar3;
    int iVar4;
    undefined4 local_30[3];

    iVar3 = *(int *)(param_1 + 0x34);
    if (iVar3 == 0x101) {
        if ((param_2 & 8) == 0) {
            iVar3 = FUN_0006e400(*(undefined4 *)(param_1 + 0x38),
                                 *(undefined4 *)(param_1 + 0x3c));
        } else {
            iVar3 = FUN_0006d750(param_1 + 0x28, local_30);
            if (iVar3 == 0) {
                iVar3 = FUN_0006e480(local_30[0]);
            } else {
                FUN_0006bf34(param_3, param_1, "real number overflow");
                iVar3 = 0;
            }
        }
    } else {
        if (0x101 < iVar3) {
            if (iVar3 == 0x103) {
                iVar3 = FUN_0006e5b8();
                return iVar3;
            }
            if (iVar3 < 0x103) {
                iVar3 = FUN_0006e480((int)*(undefined8 *)(param_1 + 0x38));
                return iVar3;
            }
            if (iVar3 == 0x104) {
                iVar3 = FUN_0006e5c4();
                return iVar3;
            }
            if (iVar3 == 0x105) {
                iVar3 = FUN_0006e5d0();
                return iVar3;
            }
            goto LAB_0006ce24;
        }
        if (iVar3 == 0x5b) {
            iVar3 = FUN_0006e144();
            if (iVar3 == 0) {
                return 0;
            }
            FUN_0006c3f4(param_1, param_3);
            iVar2 = *(int *)(param_1 + 0x34);
            if (iVar2 == 0x5d) {
                return iVar3;
            }
            while (iVar2 != 0) {
                iVar2 = FUN_0006cbb0(param_1, param_2, param_3);
                if (iVar2 == 0)
                    goto LAB_0006cd94;
                if (*(int *)(iVar2 + 4) != -1) {
                    *(int *)(iVar2 + 4) = *(int *)(iVar2 + 4) + 1;
                }
                iVar1 = FUN_0006ed4c(iVar3, iVar2);
                iVar4 = *(int *)(iVar2 + 4);
                if (iVar1 != 0)
                    goto joined_r0x0006cf98;
                if ((iVar4 != -1) &&
                    (*(int *)(iVar2 + 4) = iVar4 + -1, iVar4 + -1 == 0)) {
                    FUN_0006e5dc(iVar2);
                }
                FUN_0006c3f4(param_1, param_3);
                if (*(int *)(param_1 + 0x34) != 0x2c) {
                    if (*(int *)(param_1 + 0x34) == 0x5d) {
                        return iVar3;
                    }
                    break;
                }
                FUN_0006c3f4(param_1, param_3);
                iVar2 = *(int *)(param_1 + 0x34);
            }
            FUN_0006bf34(param_3, param_1, "\']\' expected");
        } else {
            if (iVar3 < 0x5c) {
                if (iVar3 == -1) {
                    FUN_0006bf34(param_3, param_1, "invalid token");
                    return 0;
                }
            LAB_0006ce24:
                FUN_0006bf34(param_3, param_1, "unexpected token");
                return 0;
            }
            if (iVar3 != 0x7b) {
                if (iVar3 == 0x100) {
                    iVar3 = FUN_0006e2b0(*(undefined4 *)(param_1 + 0x38));
                    return iVar3;
                }
                goto LAB_0006ce24;
            }
            iVar3 = FUN_0006df5c();
            if (iVar3 == 0) {
                return 0;
            }
            FUN_0006c3f4(param_1, param_3);
            if (*(int *)(param_1 + 0x34) == 0x7d) {
                return iVar3;
            }
            if (*(int *)(param_1 + 0x34) == 0x100) {
                iVar4 = *(int *)(param_1 + 0x38);
                *(undefined4 *)(param_1 + 0x38) = 0;
                if (iVar4 == 0) {
                    return 0;
                }
            LAB_0006cd44:
                if (((param_2 & 1) == 0) ||
                    (iVar2 = FUN_0006dfcc(iVar3, iVar4), iVar2 == 0)) {
                    FUN_0006c3f4(param_1, param_3);
                    if (*(int *)(param_1 + 0x34) == 0x3a) {
                        FUN_0006c3f4(param_1, param_3);
                        iVar2 = FUN_0006cbb0(param_1, param_2, param_3);
                        if (iVar2 == 0) {
                            FUN_0006d518(iVar4);
                        } else {
                            if (*(int *)(iVar2 + 4) != -1) {
                                *(int *)(iVar2 + 4) = *(int *)(iVar2 + 4) + 1;
                            }
                            iVar1 = FUN_0006e894(iVar3, iVar4, iVar2);
                            if (iVar1 != 0) {
                                FUN_0006d518(iVar4);
                                iVar4 = *(int *)(iVar2 + 4);
                            joined_r0x0006cf98:
                                if ((iVar4 != -1) &&
                                    (*(int *)(iVar2 + 4) = iVar4 + -1,
                                     iVar4 + -1 == 0)) {
                                    FUN_0006e5dc(iVar2);
                                }
                                goto LAB_0006cd94;
                            }
                            if ((*(int *)(iVar2 + 4) != -1) &&
                                (iVar1 = *(int *)(iVar2 + 4) + -1,
                                 *(int *)(iVar2 + 4) = iVar1, iVar1 == 0)) {
                                FUN_0006e5dc(iVar2);
                            }
                            FUN_0006d518(iVar4);
                            FUN_0006c3f4(param_1, param_3);
                            if (*(int *)(param_1 + 0x34) == 0x2c) {
                                FUN_0006c3f4(param_1, param_3);
                                if (*(int *)(param_1 + 0x34) == 0x100)
                                    goto code_r0x0006cd34;
                                goto LAB_0006cfb8;
                            }
                            if (*(int *)(param_1 + 0x34) == 0x7d) {
                                return iVar3;
                            }
                            FUN_0006bf34(param_3, param_1, "\'}\' expected");
                        }
                    } else {
                        FUN_0006d518(iVar4);
                        FUN_0006bf34(param_3, param_1, "\':\' expected");
                    }
                } else {
                    FUN_0006d518(iVar4);
                    FUN_0006bf34(param_3, param_1, "duplicate object key");
                }
                goto LAB_0006cd94;
            }
        LAB_0006cfb8:
            FUN_0006bf34(param_3, param_1, "string or \'}\' expected");
        }
    LAB_0006cd94:
        if ((*(int *)(iVar3 + 4) == -1) ||
            (iVar2 = *(int *)(iVar3 + 4) + -1, *(int *)(iVar3 + 4) = iVar2,
             iVar2 != 0)) {
            return 0;
        }
        FUN_0006e5dc(iVar3);
        iVar3 = 0;
    }
    return iVar3;
code_r0x0006cd34:
    iVar4 = *(int *)(param_1 + 0x38);
    *(undefined4 *)(param_1 + 0x38) = 0;
    if (iVar4 == 0) {
        return 0;
    }
    goto LAB_0006cd44;
}

int FUN_0006d034(int param_1, uint param_2, int param_3)

{
    int iVar1;
    int iVar2;

    FUN_0006c3f4(param_1, param_3);
    if (((param_2 & 4) == 0) &&
        ((*(uint *)(param_1 + 0x34) & 0xffffffdf) != 0x5b)) {
        FUN_0006bf34(param_3, param_1, "\'[\' or \'{\' expected");
    } else {
        iVar1 = FUN_0006cbb0(param_1, param_2, param_3);
        if (iVar1 != 0) {
            if (((param_2 & 2) != 0) || (FUN_0006c3f4(param_1, param_3),
                                         *(int *)(param_1 + 0x34) == 0)) {
                if (param_3 != 0) {
                    *(undefined4 *)(param_3 + 8) =
                        *(undefined4 *)(param_1 + 0x24);
                    return iVar1;
                }
                return iVar1;
            }
            FUN_0006bf34(param_3, param_1, "end of file expected");
            if ((*(int *)(iVar1 + 4) != -1) &&
                (iVar2 = *(int *)(iVar1 + 4) + -1, *(int *)(iVar1 + 4) = iVar2,
                 iVar2 == 0)) {
                FUN_0006e5dc(iVar1);
                return 0;
            }
        }
    }
    return 0;
}

undefined4 FUN_0006d110(int param_1, undefined4 param_2, undefined4 param_3)

{
    int iVar1;
    undefined4 uVar2;
    int local_60[2];
    undefined1 *local_58;
    undefined1 *local_54;
    undefined1 local_50;
    undefined4 local_48;
    undefined4 local_44;
    undefined4 local_40;
    undefined4 local_3c;
    undefined4 local_34;
    undefined1 auStack_30[12];
    undefined4 local_24;

    FUN_000747d0(param_3, "<string>");
    if (param_1 == 0) {
        FUN_0006bf34(param_3, 0, "wrong arguments");
        uVar2 = 0;
    } else {
        uVar2 = 0;
        local_58 = &LAB_0006be90;
        local_60[1] = 0;
        local_50 = 0;
        local_48 = 0;
        local_44 = 0;
        local_3c = 0;
        local_34 = 0;
        local_40 = 1;
        local_60[0] = param_1;
        local_54 = (undefined1 *)local_60;
        iVar1 = FUN_0006d580(auStack_30);
        if (iVar1 == 0) {
            local_24 = 0xffffffff;
            uVar2 = FUN_0006d034(&local_58, param_2, param_3);
            FUN_0006c054(&local_58);
        }
    }
    return uVar2;
}

undefined4 FUN_0006d1d0(int param_1, undefined4 param_2, undefined4 param_3,
                        undefined4 param_4)

{
    int iVar1;
    undefined4 uVar2;
    int local_64;
    undefined4 local_60;
    undefined4 local_5c;
    undefined1 *local_58;
    int *local_54;
    undefined1 local_50;
    undefined4 local_48;
    undefined4 local_44;
    undefined4 local_40;
    undefined4 local_3c;
    undefined4 local_34;
    undefined1 auStack_30[12];
    undefined4 local_24;

    FUN_000747d0(param_4, "<buffer>");
    if (param_1 == 0) {
        FUN_0006bf34(param_4, 0, "wrong arguments");
        uVar2 = 0;
    } else {
        uVar2 = 0;
        local_54 = &local_64;
        local_58 = &LAB_0006beb4;
        local_5c = 0;
        local_50 = 0;
        local_48 = 0;
        local_44 = 0;
        local_3c = 0;
        local_34 = 0;
        local_40 = 1;
        local_64 = param_1;
        local_60 = param_2;
        iVar1 = FUN_0006d580(auStack_30);
        if (iVar1 == 0) {
            local_24 = 0xffffffff;
            uVar2 = FUN_0006d034(&local_58, param_3, param_4);
            FUN_0006c054(&local_58);
        }
    }
    return uVar2;
}

undefined4 FUN_0006d29c(int param_1, undefined4 param_2, undefined4 param_3)

{
    int iVar1;
    undefined4 uVar2;
    char *pcVar3;
    code *local_58;
    int local_54;
    undefined1 local_50;
    undefined4 local_48;
    undefined4 local_44;
    undefined4 local_40;
    undefined4 local_3c;
    undefined4 local_34;
    undefined1 auStack_30[12];
    undefined4 local_24;

    pcVar3 = "<stdin>";
    if (stdin != param_1) {
        pcVar3 = "<stream>";
    }
    FUN_000747d0(param_3, pcVar3);
    if (param_1 == 0) {
        FUN_0006bf34(param_3, 0, "wrong arguments");
        uVar2 = 0;
    } else {
        uVar2 = 0;
        local_58 = fgetc;
        local_50 = 0;
        local_48 = 0;
        local_44 = 0;
        local_3c = 0;
        local_34 = 0;
        local_40 = 1;
        local_54 = param_1;
        iVar1 = FUN_0006d580(auStack_30);
        if (iVar1 == 0) {
            local_24 = 0xffffffff;
            uVar2 = FUN_0006d034(&local_58, param_2, param_3);
            FUN_0006c054(&local_58);
        }
    }
    return uVar2;
}

undefined4 FUN_0006d374(char *param_1, undefined4 param_2, undefined4 param_3)

{
    FILE *__stream;
    undefined4 uVar1;
    int *piVar2;
    char *pcVar3;

    FUN_000747d0(param_3, param_1);
    if (param_1 == (char *)0x0) {
        FUN_0006bf34(param_3, 0, "wrong arguments");
        uVar1 = 0;
    } else {
        __stream = fopen64(param_1, "rb");
        if (__stream == (FILE *)0x0) {
            piVar2 = __errno_location();
            pcVar3 = strerror(*piVar2);
            FUN_0006bf34(param_3, 0, "unable to open %s: %s", param_1, pcVar3);
            uVar1 = 0;
        } else {
            uVar1 = FUN_0006d29c(__stream, param_2, param_3);
            fclose(__stream);
        }
    }
    return uVar1;
}

undefined4 FUN_0006d424(int param_1, undefined4 param_2, undefined4 param_3,
                        undefined4 param_4)

{
    int iVar1;
    undefined4 uVar2;
    undefined1 *local_468;
    undefined1 *local_464;
    undefined1 local_460;
    undefined4 local_458;
    undefined4 local_454;
    undefined4 local_450;
    undefined4 local_44c;
    undefined4 local_444;
    undefined1 auStack_440[12];
    undefined4 local_434;
    undefined1 auStack_428[1032];
    int local_20;
    undefined4 local_1c;

    memset(auStack_428, 0, 0x410);
    local_20 = param_1;
    local_1c = param_2;
    FUN_000747d0(param_4, "<callback>");
    if (param_1 == 0) {
        FUN_0006bf34(param_4, 0, "wrong arguments");
        uVar2 = 0;
    } else {
        local_464 = auStack_428;
        uVar2 = 0;
        local_468 = &LAB_0006bed8;
        local_460 = 0;
        local_458 = 0;
        local_454 = 0;
        local_44c = 0;
        local_444 = 0;
        local_450 = 1;
        iVar1 = FUN_0006d580(auStack_440);
        if (iVar1 == 0) {
            local_434 = 0xffffffff;
            uVar2 = FUN_0006d034(&local_468, param_3, param_4);
            FUN_0006c054(&local_468);
        }
    }
    return uVar2;
}

void FUN_0006d500(int param_1)

{
    if (param_1 == 0) {
        return;
    }
    /* WARNING: Could not recover jumptable at 0x0006d514. Too many branches */
    /* WARNING: Treating indirect jump as call */
    (*DAT_0009f5a4)();
    return;
}

void FUN_0006d518(int param_1)

{
    if (param_1 == 0) {
        return;
    }
    (*DAT_0009f5a8)();
    return;
}

void *FUN_0006d530(char *param_1)

{
    size_t sVar1;
    void *__dest;

    sVar1 = strlen(param_1);
    __dest = (void *)(*DAT_0009f5a4)(sVar1 + 1);
    if (__dest != (void *)0x0) {
        memcpy(__dest, param_1, sVar1 + 1);
    }
    return __dest;
}

undefined4 FUN_0006d580(undefined4 *param_1)

{
    undefined1 *puVar1;
    undefined4 uVar2;

    param_1[2] = 0x10;
    param_1[1] = 0;
    puVar1 = (undefined1 *)FUN_0006d500();
    *param_1 = puVar1;
    if (puVar1 == (undefined1 *)0x0) {
        uVar2 = 0xffffffff;
    } else {
        *puVar1 = 0;
        uVar2 = 0;
    }
    return uVar2;
}

void FUN_0006d5b4(int *param_1)

{
    if (*param_1 != 0) {
        FUN_0006d518();
    }
    param_1[2] = 0;
    param_1[1] = 0;
    *param_1 = 0;
    return;
}

void FUN_0006d5e0(undefined4 *param_1)

{
    param_1[1] = 0;
    *(undefined1 *)*param_1 = 0;
    return;
}

undefined4 FUN_0006d5f4(undefined4 *param_1)

{
    return *param_1;
}

undefined4 FUN_0006d610(int *param_1, void *param_2, size_t param_3)

{
    uint uVar1;
    uint uVar2;
    int iVar3;
    void *__dest;

    iVar3 = param_1[2];
    uVar1 = param_1[1];
    if (param_3 < iVar3 - uVar1) {
        __dest = (void *)*param_1;
    LAB_0006d6a4:
        memcpy((void *)((int)__dest + uVar1), param_2, param_3);
        iVar3 = param_1[1];
        param_1[1] = param_3 + iVar3;
        *(undefined1 *)(*param_1 + param_3 + iVar3) = 0;
        return 0;
    }
    if ((param_3 != 0xffffffff && -1 < iVar3) && (uVar1 <= -param_3 - 2)) {
        uVar2 = param_3 + 1 + uVar1;
        if (uVar2 < (uint)(iVar3 << 1)) {
            uVar2 = iVar3 << 1;
        }
        __dest = (void *)FUN_0006d500(uVar2);
        if (__dest != (void *)0x0) {
            memcpy(__dest, (void *)*param_1, param_1[1]);
            FUN_0006d518(*param_1);
            uVar1 = param_1[1];
            *param_1 = (int)__dest;
            param_1[2] = uVar2;
            goto LAB_0006d6a4;
        }
    }
    return 0xffffffff;
}

void FUN_0006d6dc(undefined4 param_1, char *param_2)

{
    size_t sVar1;

    sVar1 = strlen(param_2);
    FUN_0006d610(param_1, param_2, sVar1);
    return;
}

void FUN_0006d704(undefined4 param_1, undefined1 param_2)

{
    undefined1 local_9[5];

    local_9[0] = param_2;
    FUN_0006d610(param_1, local_9, 1);
    return;
}

undefined1 FUN_0006d728(int *param_1)

{
    undefined1 uVar1;
    int iVar2;

    if (param_1[1] == 0) {
        uVar1 = 0;
    } else {
        iVar2 = param_1[1] + -1;
        param_1[1] = iVar2;
        uVar1 = *(undefined1 *)(*param_1 + iVar2);
        *(undefined1 *)(*param_1 + iVar2) = 0;
    }
    return uVar1;
}

void FUN_0006d750(int *param_1, double *param_2)

{
    char cVar1;
    lconv *plVar2;
    char *pcVar3;
    int *piVar4;
    char *__s;
    double dVar5;
    char *local_1c[2];

    plVar2 = localeconv();
    __s = (char *)*param_1;
    cVar1 = *plVar2->decimal_point;
    if ((cVar1 != '.') && (pcVar3 = strchr(__s, 0x2e), pcVar3 != (char *)0x0)) {
        *pcVar3 = cVar1;
        __s = (char *)*param_1;
    }
    piVar4 = __errno_location();
    *piVar4 = 0;
    dVar5 = strtod(__s, local_1c);
    if (local_1c[0] != (char *)(*param_1 + param_1[1])) {
        /* WARNING: Subroutine does not return */
        __assert_fail("end == strbuffer->value + strbuffer->length",
                      "3rdparty/jansson-2.6/src/strconv.c", 0x46,
                      "jsonp_strtod");
    }
    if (*piVar4 != 0x22 || dVar5 == 0.0) {
        *param_2 = dVar5;
    }
    return;
}

uint FUN_0006d818(char *param_1, uint param_2)

{
    char cVar1;
    uint uVar2;
    lconv *plVar3;
    char *pcVar4;
    char *pcVar5;
    size_t __n;

    uVar2 = snprintf(param_1, param_2, "%.17g");
    if (param_2 <= uVar2) {
        return 0xffffffff;
    }
    plVar3 = localeconv();
    if (((byte)*plVar3->decimal_point != 0x2e) &&
        (pcVar4 = strchr(param_1, (uint)(byte)*plVar3->decimal_point),
         pcVar4 != (char *)0x0)) {
        *pcVar4 = '.';
    }
    pcVar5 = strchr(param_1, 0x2e);
    pcVar4 = strchr(param_1, 0x65);
    if (pcVar5 == (char *)0x0) {
        if (pcVar4 != (char *)0x0)
            goto LAB_0006d898;
        if (param_2 <= uVar2 + 3) {
            return 0xffffffff;
        }
        pcVar4 = param_1 + uVar2;
        *pcVar4 = '.';
        uVar2 = uVar2 + 2;
        pcVar4[1] = '0';
        param_1[uVar2] = '\0';
        pcVar4 = strchr(param_1, 0x65);
    }
    if (pcVar4 == (char *)0x0) {
        return uVar2;
    }
LAB_0006d898:
    pcVar5 = pcVar4 + 2;
    cVar1 = pcVar4[2];
    if (pcVar4[1] == '-') {
        pcVar4 = pcVar5;
        if (cVar1 == '0')
            goto LAB_0006d8b8;
    } else {
        pcVar4 = pcVar4 + 1;
        while (cVar1 == '0') {
        LAB_0006d8b8:
            pcVar5 = pcVar5 + 1;
            cVar1 = *pcVar5;
        }
        if (pcVar5 != pcVar4) {
            __n = uVar2 - ((int)pcVar5 - (int)param_1);
            uVar2 = uVar2 - ((int)pcVar5 - (int)pcVar4);
            memmove(pcVar4, pcVar5, __n);
        }
    }
    return uVar2;
}

undefined4 FUN_0006d94c(int param_1, byte *param_2, undefined4 *param_3)

{
    byte bVar1;

    if (param_1 < 0) {
        return 0xffffffff;
    }
    bVar1 = (byte)param_1;
    if (param_1 < 0x80) {
        *param_2 = bVar1;
        *param_3 = 1;
        return 0;
    }
    if (param_1 < 0x800) {
        *param_2 = (char)(param_1 >> 6) - 0x40;
        param_2[1] = (bVar1 & 0x3f) + 0x80;
        *param_3 = 2;
        return 0;
    }
    if (0xffff < param_1) {
        if (param_1 < 0x110000) {
            *param_2 = (char)(param_1 >> 0x12) - 0x10;
            param_2[1] = (byte)((uint)(param_1 << 0xe) >> 0x1a) + 0x80;
            param_2[2] = (byte)((uint)(param_1 << 0x14) >> 0x1a) + 0x80;
            param_2[3] = (bVar1 & 0x3f) + 0x80;
            *param_3 = 4;
            return 0;
        }
        return 0xffffffff;
    }
    *param_2 = (char)(param_1 >> 0xc) - 0x20;
    param_2[1] = (byte)((uint)(param_1 << 0x14) >> 0x1a) + 0x80;
    param_2[2] = (bVar1 & 0x3f) + 0x80;
    *param_3 = 3;
    return 0;
}

undefined4 FUN_0006da38(uint param_1)

{
    undefined4 uVar1;

    if ((param_1 & 0x80) == 0) {
        return 1;
    }
    if ((param_1 ^ 0x80) < 0x42) {
        return 0;
    }
    if ((param_1 + 0x3e & 0xff) < 0x1e) {
        return 2;
    }
    if ((param_1 + 0x20 & 0xff) < 0x10) {
        return 3;
    }
    if ((param_1 + 0x10 & 0xff) < 5) {
        uVar1 = 4;
    } else {
        uVar1 = 0;
    }
    return uVar1;
}

undefined4 FUN_0006daa4(byte *param_1, int param_2, uint *param_3)

{
    uint uVar1;
    int iVar2;
    uint uVar3;
    bool bVar4;

    uVar3 = (uint)*param_1;
    if (param_2 == 2) {
        uVar3 = uVar3 & 0x1f;
    } else if (param_2 == 3) {
        uVar3 = uVar3 & 0xf;
    } else {
        if (param_2 != 4) {
            return 0;
        }
        uVar3 = uVar3 & 7;
    }
    uVar1 = (uint)param_1[1];
    if ((uVar1 ^ 0x80) < 0x40) {
        param_1 = param_1 + 1;
        iVar2 = 1;
        do {
            iVar2 = iVar2 + 1;
            uVar3 = (uVar1 & 0x3f) + uVar3 * 0x40;
            if (param_2 <= iVar2) {
                if (0x10ffff < (int)uVar3) {
                    return 0;
                }
                if (uVar3 - 0xd800 < 0x800) {
                    return 0;
                }
                bVar4 = uVar3 == 0x7f;
                if ((int)uVar3 < 0x80) {
                    bVar4 = param_2 == 2;
                }
                if (bVar4) {
                    return 0;
                }
                if ((int)uVar3 < 0x800 && param_2 == 3) {
                    return 0;
                }
                if ((int)uVar3 < 0x10000 && param_2 == 4) {
                    return 0;
                }
                if (param_3 != (uint *)0x0) {
                    *param_3 = uVar3;
                }
                return 1;
            }
            param_1 = param_1 + 1;
            uVar1 = (uint)*param_1;
        } while ((uVar1 ^ 0x80) < 0x40);
    }
    return 0;
}

char *FUN_0006db8c(char *param_1, undefined4 *param_2)

{
    undefined4 uVar1;
    int iVar2;
    int iVar3;
    undefined4 extraout_r2;
    undefined4 local_14;

    if (*param_1 != '\0') {
        iVar2 = FUN_0006da38(*param_1);
        if ((iVar2 < 1) ||
            ((uVar1 = extraout_r2,
              iVar2 != 1 && (iVar3 = FUN_0006daa4(param_1, iVar2, &local_14),
                             uVar1 = local_14, iVar3 == 0)))) {
            param_1 = (char *)0x0;
        } else {
            local_14 = uVar1;
            param_1 = param_1 + iVar2;
            if (param_2 != (undefined4 *)0x0) {
                *param_2 = local_14;
            }
        }
        return param_1;
    }
    return param_1;
}

undefined4 FUN_0006dbfc(char *param_1, size_t param_2)

{
    int iVar1;
    int iVar2;
    int iVar3;

    if (param_2 == 0xffffffff) {
        param_2 = strlen(param_1);
    }
    if (0 < (int)param_2) {
        iVar3 = 0;
        do {
            iVar2 = FUN_0006da38(param_1[iVar3]);
            if (iVar2 == 0) {
                return 0;
            }
            if (1 < iVar2) {
                if ((int)param_2 < iVar2 + iVar3) {
                    return 0;
                }
                iVar1 = FUN_0006daa4(param_1 + iVar3, iVar2, 0);
                iVar3 = iVar3 + iVar2 + -1;
                if (iVar1 == 0) {
                    return 0;
                }
            }
            iVar3 = iVar3 + 1;
        } while (iVar3 < (int)param_2);
    }
    return 1;
}

void *FUN_0006dcdc(int param_1, int param_2, int param_3)

{
    void *__dest;
    void *__src;
    uint uVar1;
    uint uVar2;

    uVar2 = *(uint *)(param_1 + 8);
    __src = *(void **)(param_1 + 0x10);
    if (uVar2 < (uint)(param_2 + *(int *)(param_1 + 0xc))) {
        uVar1 = uVar2 << 1;
        if (uVar1 < uVar2 + param_2) {
            uVar1 = uVar2 + param_2;
        }
        __dest = (void *)FUN_0006d500(uVar1 << 2);
        if (__dest == (void *)0x0) {
            __src = (void *)0x0;
        } else {
            *(uint *)(param_1 + 8) = uVar1;
            *(void **)(param_1 + 0x10) = __dest;
            if (param_3 != 0) {
                memcpy(__dest, __src, *(int *)(param_1 + 0xc) << 2);
                FUN_0006d518(__src);
                return *(void **)(param_1 + 0x10);
            }
        }
    }
    return __src;
}

undefined4 *FUN_0006df5c(void)

{
    undefined4 *puVar1;
    int iVar2;
    undefined4 *puVar3;

    puVar1 = (undefined4 *)FUN_0006d500(0x24);
    puVar3 = puVar1;
    if (puVar1 != (undefined4 *)0x0) {
        puVar3 = (undefined4 *)0x0;
        puVar1[1] = 1;
        *puVar1 = 0;
        iVar2 = FUN_0006b8a0(puVar1 + 2);
        if (iVar2 == 0) {
            puVar1[7] = 0;
            puVar1[8] = 0;
            puVar3 = puVar1;
        } else {
            FUN_0006d518(puVar1);
        }
    }
    return puVar3;
}

int FUN_0006dfb0(int *param_1)

{
    int iVar1;

    if (param_1 != (int *)0x0) {
        if (*param_1 == 0) {
            iVar1 = param_1[2];
        } else {
            iVar1 = 0;
        }
        return iVar1;
    }
    return 0;
}

undefined4 FUN_0006dfcc(int *param_1)

{
    undefined4 uVar1;

    if ((param_1 != (int *)0x0) && (*param_1 == 0)) {
        uVar1 = FUN_0006bbac(param_1 + 2);
        return uVar1;
    }
    return 0;
}

undefined4 FUN_0006e014(int *param_1)

{
    if ((param_1 != (int *)0x0) && (*param_1 == 0)) {
        FUN_0006bd2c(param_1 + 2);
        param_1[7] = 0;
        return 0;
    }
    return 0xffffffff;
}

undefined4 FUN_0006e048(int *param_1)

{
    undefined4 uVar1;

    if ((param_1 != (int *)0x0) && (*param_1 == 0)) {
        uVar1 = FUN_0006bd80(param_1 + 2);
        return uVar1;
    }
    return 0;
}

undefined4 FUN_0006e094(int *param_1, int param_2)

{
    undefined4 uVar1;

    if ((param_1 != (int *)0x0) && (*param_1 == 0 && param_2 != 0)) {
        uVar1 = FUN_0006be08(param_1 + 2);
        return uVar1;
    }
    return 0;
}

void FUN_0006e0c8(int param_1)

{
    if (param_1 == 0) {
        return;
    }
    FUN_0006be20();
    return;
}

void FUN_0006e0d4(int param_1)

{
    if (param_1 == 0) {
        return;
    }
    FUN_0006be30();
    return;
}

int FUN_0006e138(int param_1)

{
    if (param_1 != 0) {
        param_1 = param_1 + -0x10;
    }
    return param_1;
}

undefined4 *FUN_0006e144(void)

{
    undefined4 *puVar1;
    int iVar2;

    puVar1 = (undefined4 *)FUN_0006d500(0x18);
    if (puVar1 != (undefined4 *)0x0) {
        *puVar1 = 1;
        puVar1[1] = 1;
        puVar1[2] = 8;
        puVar1[3] = 0;
        iVar2 = FUN_0006d500(0x20);
        puVar1[4] = iVar2;
        if (iVar2 == 0) {
            FUN_0006d518(puVar1);
            puVar1 = (undefined4 *)0x0;
        } else {
            puVar1[5] = 0;
        }
    }
    return puVar1;
}

int FUN_0006e1a8(int *param_1)

{
    int iVar1;

    if (param_1 != (int *)0x0) {
        if (*param_1 == 1) {
            iVar1 = param_1[3];
        } else {
            iVar1 = 0;
        }
        return iVar1;
    }
    return 0;
}

undefined4 FUN_0006e1c4(int *param_1, uint param_2)

{
    if (param_1 == (int *)0x0) {
        return 0;
    }
    if ((*param_1 == 1) && (param_2 < (uint)param_1[3])) {
        return *(undefined4 *)(param_1[4] + param_2 * 4);
    }
    return 0;
}

undefined4 FUN_0006e1f8(int *param_1, int *param_2)

{
    int iVar1;
    int *__src;
    size_t sVar2;
    size_t __n;
    int *piVar3;
    int *piVar4;

    if ((((param_1 != (int *)0x0) &&
          (*param_1 == 1 && param_2 != (int *)0x0)) &&
         (*param_2 == 1)) &&
        (iVar1 = FUN_0006dcdc(param_1, param_2[3]), iVar1 != 0)) {
        sVar2 = param_2[3];
        __src = (int *)param_2[4];
        __n = sVar2;
        if (sVar2 != 0) {
            __n = sVar2 * 4;
            piVar3 = __src;
            do {
                piVar4 = piVar3 + 1;
                iVar1 = *piVar3;
                if ((iVar1 != 0) && (*(int *)(iVar1 + 4) != -1)) {
                    *(int *)(iVar1 + 4) = *(int *)(iVar1 + 4) + 1;
                }
                piVar3 = piVar4;
            } while (__src + sVar2 != piVar4);
        }
        memcpy((void *)(param_1[4] + param_1[3] * 4), __src, __n);
        param_1[3] = param_1[3] + param_2[3];
        return 0;
    }
    return 0xffffffff;
}

undefined4 *FUN_0006e2b0(int param_1)

{
    undefined4 *puVar1;
    int iVar2;

    if ((param_1 != 0) && (puVar1 = (undefined4 *)FUN_0006d500(0xc),
                           puVar1 != (undefined4 *)0x0)) {
        *puVar1 = 2;
        puVar1[1] = 1;
        iVar2 = FUN_0006d530(param_1);
        puVar1[2] = iVar2;
        if (iVar2 == 0) {
            FUN_0006d518(puVar1);
            puVar1 = (undefined4 *)0x0;
        }
        return puVar1;
    }
    return (undefined4 *)0x0;
}

int FUN_0006e350(int *param_1)

{
    int iVar1;

    if (param_1 != (int *)0x0) {
        if (*param_1 == 2) {
            iVar1 = param_1[2];
        } else {
            iVar1 = 0;
        }
        return iVar1;
    }
    return 0;
}

undefined4 FUN_0006e36c(int *param_1, int param_2)

{
    int iVar1;

    if (((param_1 != (int *)0x0) && (*param_1 == 2 && param_2 != 0)) &&
        (iVar1 = FUN_0006d530(param_2), iVar1 != 0)) {
        FUN_0006d518(param_1[2]);
        param_1[2] = iVar1;
        return 0;
    }
    return 0xffffffff;
}

undefined4 FUN_0006e3c4(undefined4 param_1, int param_2)

{
    int iVar1;
    undefined4 uVar2;

    if ((param_2 != 0) &&
        (iVar1 = FUN_0006dbfc(param_2, 0xffffffff), iVar1 != 0)) {
        uVar2 = FUN_0006e36c(param_1, param_2);
        return uVar2;
    }
    return 0xffffffff;
}

void FUN_0006e400(undefined4 param_1, undefined4 param_2)

{
    undefined4 *puVar1;

    puVar1 = (undefined4 *)FUN_0006d500(0x10);
    if (puVar1 == (undefined4 *)0x0) {
        return;
    }
    puVar1[2] = param_1;
    puVar1[3] = param_2;
    *puVar1 = 3;
    puVar1[1] = 1;
    return;
}

undefined8 FUN_0006e430(int *param_1)

{
    if ((param_1 != (int *)0x0) && (*param_1 == 3)) {
        return *(undefined8 *)(param_1 + 2);
    }
    return 0;
}

undefined4 *FUN_0006e480(undefined4 param_1, undefined4 param_2)

{
    undefined4 *puVar1;

    if (!NAN((double)CONCAT44(param_2, param_1)) &&
        !NAN((double)CONCAT44(param_2, param_1))) {
        if (ABS((double)CONCAT44(param_2, param_1)) <= 1.79769313486232e+308) {
            puVar1 = (undefined4 *)FUN_0006d500(0x10);
            if (puVar1 == (undefined4 *)0x0) {
                return (undefined4 *)0x0;
            }
            puVar1[2] = param_1;
            puVar1[3] = param_2;
            *puVar1 = 4;
            puVar1[1] = 1;
            return puVar1;
        }
    }
    return (undefined4 *)0x0;
}

undefined4 FUN_0006e4e0(int *param_1)

{
    if ((param_1 != (int *)0x0) && (*param_1 == 4)) {
        return (int)*(undefined8 *)(param_1 + 2);
    }
    return 0;
}

undefined4 FUN_0006e570(int *param_1)

{
    undefined4 uVar1;

    if (param_1 != (int *)0x0) {
        if (*param_1 == 3) {
            uVar1 = FUN_000778b4(param_1[2], param_1[3]);
            return uVar1;
        }
        if (*param_1 == 4) {
            return (int)*(undefined8 *)(param_1 + 2);
        }
    }
    return 0;
}

undefined *FUN_0006e5b8(void)

{
    return &DAT_0009f5ac;
}

undefined *FUN_0006e5c4(void)

{
    return &DAT_0009f5b4;
}

undefined *FUN_0006e5d0(void)

{
    return &DAT_0009f5bc;
}

void FUN_0006e5dc(int *param_1)

{
    int iVar1;
    int iVar2;
    int iVar3;
    uint uVar4;
    uint uVar5;

    if (param_1 == (int *)0x0) {
        return;
    }
    iVar3 = *param_1;
    if (iVar3 == 0) {
        FUN_0006b910(param_1 + 2);
        FUN_0006d518(param_1);
        return;
    }
    if (iVar3 == 1) {
        uVar5 = param_1[3];
        iVar3 = param_1[4];
        if (uVar5 != 0) {
            uVar4 = 0;
            do {
                iVar1 = *(int *)(iVar3 + uVar4 * 4);
                uVar4 = uVar4 + 1;
                if (iVar1 != 0) {
                    iVar2 = *(int *)(iVar1 + 4) + -1;
                    if ((*(int *)(iVar1 + 4) != -1) &&
                        (*(int *)(iVar1 + 4) = iVar2, iVar2 == 0)) {
                        FUN_0006e5dc();
                        iVar3 = param_1[4];
                        uVar5 = param_1[3];
                    }
                }
            } while (uVar4 < uVar5);
        }
        FUN_0006d518(iVar3);
        FUN_0006d518(param_1);
        return;
    }
    if (iVar3 != 2) {
        if (1 < iVar3 - 3U) {
            return;
        }
        FUN_0006d518();
        return;
    }
    FUN_0006d518(param_1[2]);
    FUN_0006d518(param_1);
    return;
}

undefined4 FUN_0006e6a8(int *param_1)

{
    int iVar1;
    uint uVar2;
    int iVar3;
    uint uVar4;

    if ((param_1 != (int *)0x0) && (*param_1 == 1)) {
        uVar2 = param_1[3];
        if (uVar2 != 0) {
            uVar4 = 0;
            do {
                iVar1 = *(int *)(param_1[4] + uVar4 * 4);
                uVar4 = uVar4 + 1;
                if (iVar1 != 0) {
                    iVar3 = *(int *)(iVar1 + 4) + -1;
                    if ((*(int *)(iVar1 + 4) != -1) &&
                        (*(int *)(iVar1 + 4) = iVar3, iVar3 == 0)) {
                        FUN_0006e5dc();
                        uVar2 = param_1[3];
                    }
                }
            } while (uVar4 < uVar2);
        }
        param_1[3] = 0;
        return 0;
    }
    return 0xffffffff;
}

undefined4 FUN_0006e724(int *param_1, uint param_2)

{
    int iVar1;
    uint uVar2;
    int iVar3;
    uint uVar4;

    if (((param_1 != (int *)0x0) && (*param_1 == 1)) &&
        (uVar2 = param_1[3], param_2 < uVar2)) {
        iVar1 = *(int *)(param_1[4] + param_2 * 4);
        if ((iVar1 != 0) && (*(int *)(iVar1 + 4) != -1)) {
            iVar3 = *(int *)(iVar1 + 4) + -1;
            *(int *)(iVar1 + 4) = iVar3;
            if (iVar3 == 0) {
                FUN_0006e5dc();
                uVar2 = param_1[3];
            }
        }
        uVar4 = uVar2 - 1;
        if (param_2 < uVar4) {
            memmove((void *)(param_1[4] + param_2 * 4),
                    (void *)(param_1[4] + param_2 * 4 + 4),
                    (~param_2 + uVar2) * 4);
            uVar4 = param_1[3] - 1;
        }
        param_1[3] = uVar4;
        return 0;
    }
    return 0xffffffff;
}

undefined4 FUN_0006e7d4(int *param_1, uint param_2, int *param_3)

{
    int iVar1;
    int iVar2;
    int *piVar3;

    if (param_3 != (int *)0x0) {
        if (((param_1 != (int *)0x0) &&
             (*param_1 == 1 && param_3 != param_1)) &&
            (param_2 < (uint)param_1[3])) {
            iVar1 = *(int *)(param_1[4] + param_2 * 4);
            piVar3 = (int *)(param_1[4] + param_2 * 4);
            if (((iVar1 != 0) && (*(int *)(iVar1 + 4) != -1)) &&
                (iVar2 = *(int *)(iVar1 + 4) + -1, *(int *)(iVar1 + 4) = iVar2,
                 iVar2 == 0)) {
                FUN_0006e5dc();
                piVar3 = (int *)(param_1[4] + param_2 * 4);
            }
            *piVar3 = (int)param_3;
            return 0;
        }
        if ((param_3[1] != -1) &&
            (iVar1 = param_3[1] + -1, param_3[1] = iVar1, iVar1 == 0)) {
            FUN_0006e5dc(param_3);
        }
    }
    return 0xffffffff;
}

undefined4 FUN_0006e894(int *param_1, int param_2, int *param_3)

{
    int iVar1;

    if (param_3 != (int *)0x0) {
        if ((param_1 != (int *)0x0 && param_2 != 0) &&
            (*param_1 == 0 && param_3 != param_1)) {
            iVar1 = param_1[7];
            param_1[7] = iVar1 + 1;
            iVar1 = FUN_0006b928(param_1 + 2, param_2, iVar1, param_3);
            if (iVar1 == 0) {
                return 0;
            }
        }
        if ((param_3[1] != -1) &&
            (iVar1 = param_3[1] + -1, param_3[1] = iVar1, iVar1 == 0)) {
            FUN_0006e5dc(param_3);
        }
    }
    return 0xffffffff;
}

undefined4 FUN_0006e91c(int *param_1, int *param_2)

{
    int iVar1;
    int iVar2;

    if (((param_1 == (int *)0x0) || (*param_1 != 0 || param_2 == (int *)0x0)) ||
        (*param_2 != 0)) {
        return 0xffffffff;
    }
    iVar1 = FUN_0006bd80(param_2 + 2);
    if (iVar1 != 0) {
        while (iVar1 = FUN_0006be20(), iVar1 != 0) {
            iVar2 = FUN_0006be30(iVar1 + -0x10);
            if (iVar2 == 0) {
                return 0;
            }
            if (*(int *)(iVar2 + 4) != -1) {
                *(int *)(iVar2 + 4) = *(int *)(iVar2 + 4) + 1;
            }
            iVar2 = FUN_0006e894(param_1, iVar1, iVar2);
            if (iVar2 != 0) {
                return 0xffffffff;
            }
            if (*param_2 != 0) {
                return 0;
            }
            iVar1 = FUN_0006be08(param_2 + 2, iVar1 + -0x10);
            if (iVar1 == 0) {
                return 0;
            }
        }
    }
    return 0;
}

undefined4 FUN_0006e9e4(int *param_1, int *param_2)

{
    int iVar1;
    int iVar2;
    int iVar3;

    if (((param_1 == (int *)0x0) || (*param_1 != 0 || param_2 == (int *)0x0)) ||
        (*param_2 != 0)) {
        return 0xffffffff;
    }
    iVar1 = FUN_0006bd80(param_2 + 2);
    if ((iVar1 != 0) && (iVar1 = FUN_0006be20(), iVar1 != 0)) {
        while (true) {
            iVar2 = FUN_0006be30(iVar1 + -0x10);
            if (iVar2 == 0)
                break;
            if ((*param_1 == 0) &&
                (iVar3 = FUN_0006bbac(param_1 + 2, iVar1), iVar3 != 0)) {
                if (*(int *)(iVar2 + 4) != -1) {
                    *(int *)(iVar2 + 4) = *(int *)(iVar2 + 4) + 1;
                }
                FUN_0006e894(param_1, iVar1, iVar2);
            }
            if (*param_2 != 0) {
                return 0;
            }
            iVar1 = FUN_0006be08(param_2 + 2, iVar1 + -0x10);
            if (iVar1 == 0) {
                return 0;
            }
            iVar1 = FUN_0006be20();
            if (iVar1 == 0) {
                return 0;
            }
        }
    }
    return 0;
}

undefined4 FUN_0006ead8(int *param_1, int *param_2)

{
    int iVar1;
    int iVar2;
    int iVar3;

    if (((param_1 == (int *)0x0) || (*param_1 != 0 || param_2 == (int *)0x0)) ||
        (*param_2 != 0)) {
        return 0xffffffff;
    }
    iVar1 = FUN_0006bd80(param_2 + 2);
    if ((iVar1 != 0) && (iVar1 = FUN_0006be20(), iVar1 != 0)) {
        while (true) {
            iVar2 = FUN_0006be30(iVar1 + -0x10);
            if (iVar2 == 0)
                break;
            if ((*param_1 == 0) &&
                (iVar3 = FUN_0006bbac(param_1 + 2, iVar1), iVar3 != 0)) {
                iVar2 = *param_2;
            } else {
                if (*(int *)(iVar2 + 4) != -1) {
                    *(int *)(iVar2 + 4) = *(int *)(iVar2 + 4) + 1;
                }
                FUN_0006e894(param_1, iVar1, iVar2);
                iVar2 = *param_2;
            }
            if (iVar2 != 0) {
                return 0;
            }
            iVar1 = FUN_0006be08(param_2 + 2, iVar1 + -0x10);
            if (iVar1 == 0) {
                return 0;
            }
            iVar1 = FUN_0006be20();
            if (iVar1 == 0) {
                return 0;
            }
        }
    }
    return 0;
}

undefined4 FUN_0006ebd4(undefined4 param_1, int param_2, int param_3)

{
    int iVar1;
    undefined4 uVar2;

    if ((param_2 != 0) &&
        (iVar1 = FUN_0006dbfc(param_2, 0xffffffff), iVar1 != 0)) {
        uVar2 = FUN_0006e894(param_1, param_2, param_3);
        return uVar2;
    }
    if ((param_3 != 0) && (*(int *)(param_3 + 4) != -1)) {
        iVar1 = *(int *)(param_3 + 4) + -1;
        *(int *)(param_3 + 4) = iVar1;
        if (iVar1 == 0) {
            FUN_0006e5dc(param_3);
        }
    }
    return 0xffffffff;
}

undefined4 FUN_0006ec44(int *param_1, uint param_2, int *param_3)

{
    void *__src;
    void *__dest;
    int iVar1;
    size_t __n;

    if (param_3 != (int *)0x0) {
        if ((((param_1 != (int *)0x0) &&
              (*param_1 == 1 && param_3 != param_1)) &&
             (param_2 <= (uint)param_1[3])) &&
            (__src = (void *)FUN_0006dcdc(param_1, 1), __src != (void *)0x0)) {
            __dest = (void *)param_1[4];
            iVar1 = (param_2 + 1) * 4;
            __n = iVar1 - 4;
            if (__dest == __src) {
                memmove((void *)((int)__dest + iVar1),
                        (void *)((int)__src + __n), (param_1[3] - param_2) * 4);
            } else {
                memcpy(__dest, __src, __n);
                memcpy((void *)(param_1[4] + iVar1), (void *)((int)__src + __n),
                       (param_1[3] - param_2) * 4);
                FUN_0006d518(__src);
            }
            iVar1 = param_1[3];
            *(int **)(param_1[4] + __n) = param_3;
            param_1[3] = iVar1 + 1;
            return 0;
        }
        if ((param_3[1] != -1) &&
            (iVar1 = param_3[1] + -1, param_3[1] = iVar1, iVar1 == 0)) {
            FUN_0006e5dc(param_3);
        }
    }
    return 0xffffffff;
}

undefined4 FUN_0006ed4c(int *param_1, int *param_2)

{
    int iVar1;

    if (param_2 != (int *)0x0) {
        if (((param_1 != (int *)0x0) &&
             (*param_1 == 1 && param_2 != param_1)) &&
            (iVar1 = FUN_0006dcdc(param_1, 1), iVar1 != 0)) {
            iVar1 = param_1[3];
            *(int **)(param_1[4] + iVar1 * 4) = param_2;
            param_1[3] = iVar1 + 1;
            return 0;
        }
        if ((param_2[1] != -1) &&
            (iVar1 = param_2[1] + -1, param_2[1] = iVar1, iVar1 == 0)) {
            FUN_0006e5dc(param_2);
        }
    }
    return 0xffffffff;
}

int *FUN_0006edf8(int *param_1)

{
    int *piVar1;
    int iVar2;
    uint uVar3;
    int iVar4;
    uint uVar5;

    if (param_1 != (int *)0x0) {
        iVar2 = *param_1;
        if (iVar2 == 0) {
            piVar1 = (int *)FUN_0006df5c();
            if (piVar1 != (int *)0x0) {
                if (*param_1 != 0) {
                    return piVar1;
                }
                iVar2 = FUN_0006bd80(param_1 + 2);
                if (iVar2 == 0) {
                    return piVar1;
                }
                while (true) {
                    iVar2 = FUN_0006be20();
                    if (iVar2 == 0) {
                        return piVar1;
                    }
                    iVar4 = FUN_0006be30(iVar2 + -0x10);
                    if (iVar4 == 0)
                        break;
                    if (*(int *)(iVar4 + 4) != -1) {
                        *(int *)(iVar4 + 4) = *(int *)(iVar4 + 4) + 1;
                    }
                    FUN_0006e894(piVar1, iVar2, iVar4);
                    if (*param_1 != 0) {
                        return piVar1;
                    }
                    iVar2 = FUN_0006be08(param_1 + 2, iVar2 + -0x10);
                    if (iVar2 == 0) {
                        return piVar1;
                    }
                }
                return piVar1;
            }
        } else if (iVar2 == 1) {
            piVar1 = (int *)FUN_0006e144();
            if (piVar1 != (int *)0x0) {
                if (*param_1 != 1) {
                    return piVar1;
                }
                uVar3 = param_1[3];
                if (uVar3 == 0) {
                    return piVar1;
                }
                uVar5 = 0;
                while (true) {
                    iVar2 = 0;
                    if (((uVar5 < uVar3) &&
                         (iVar2 = *(int *)(param_1[4] + uVar5 * 4),
                          iVar2 != 0)) &&
                        (*(int *)(iVar2 + 4) != -1)) {
                        *(int *)(iVar2 + 4) = *(int *)(iVar2 + 4) + 1;
                    }
                    FUN_0006ed4c(piVar1, iVar2);
                    if (*param_1 != 1)
                        break;
                    uVar3 = param_1[3];
                    uVar5 = uVar5 + 1;
                    if (uVar3 <= uVar5) {
                        return piVar1;
                    }
                }
                return piVar1;
            }
        } else {
            if (iVar2 == 2) {
                piVar1 = (int *)FUN_0006e2b0(param_1[2]);
                return piVar1;
            }
            if (iVar2 == 3) {
                if ((param_1 == (int *)0x0) || (*param_1 != 3)) {
                    iVar2 = 0;
                    iVar4 = 0;
                } else {
                    iVar2 = param_1[2];
                    iVar4 = param_1[3];
                }
                piVar1 = (int *)FUN_0006d500(0x10);
                if (piVar1 != (int *)0x0) {
                    piVar1[2] = iVar2;
                    piVar1[3] = iVar4;
                    *piVar1 = 3;
                    piVar1[1] = 1;
                    return piVar1;
                }
                return (int *)0x0;
            }
            if (iVar2 == 4) {
                piVar1 = (int *)FUN_0006e480((int)*(undefined8 *)(param_1 + 2));
                return piVar1;
            }
            if (iVar2 - 5U < 3) {
                return param_1;
            }
        }
    }
    return (int *)0x0;
}

int *FUN_0006ef88(int *param_1)

{
    undefined4 uVar1;
    undefined4 uVar2;
    int *piVar3;
    int iVar4;
    uint uVar5;
    int iVar6;
    uint uVar7;

    if (param_1 != (int *)0x0) {
        iVar4 = *param_1;
        if (iVar4 == 0) {
            piVar3 = (int *)FUN_0006df5c();
            if (piVar3 != (int *)0x0) {
                if (*param_1 != 0) {
                    return piVar3;
                }
                iVar4 = FUN_0006bd80(param_1 + 2);
                while (true) {
                    if (iVar4 == 0) {
                        return piVar3;
                    }
                    uVar2 = FUN_0006be20(iVar4);
                    FUN_0006be30(iVar4);
                    uVar1 = FUN_0006ef88();
                    FUN_0006e894(piVar3, uVar2, uVar1);
                    if (*param_1 != 0)
                        break;
                    iVar4 = FUN_0006be08(param_1 + 2, iVar4);
                }
                return piVar3;
            }
        } else if (iVar4 == 1) {
            piVar3 = (int *)FUN_0006e144();
            if (piVar3 != (int *)0x0) {
                if (*param_1 != 1) {
                    return piVar3;
                }
                uVar5 = param_1[3];
                if (uVar5 == 0) {
                    return piVar3;
                }
                uVar7 = 0;
                while (true) {
                    uVar2 = 0;
                    if (uVar7 < uVar5) {
                        uVar2 = *(undefined4 *)(param_1[4] + uVar7 * 4);
                    }
                    uVar2 = FUN_0006ef88(uVar2);
                    FUN_0006ed4c(piVar3, uVar2);
                    if (*param_1 != 1)
                        break;
                    uVar5 = param_1[3];
                    uVar7 = uVar7 + 1;
                    if (uVar5 <= uVar7) {
                        return piVar3;
                    }
                }
                return piVar3;
            }
        } else {
            if (iVar4 == 2) {
                piVar3 = (int *)FUN_0006e2b0(param_1[2]);
                return piVar3;
            }
            if (iVar4 == 3) {
                if ((param_1 == (int *)0x0) || (*param_1 != 3)) {
                    iVar4 = 0;
                    iVar6 = 0;
                } else {
                    iVar4 = param_1[2];
                    iVar6 = param_1[3];
                }
                piVar3 = (int *)FUN_0006d500(0x10);
                if (piVar3 == (int *)0x0) {
                    return (int *)0x0;
                }
                piVar3[2] = iVar4;
                piVar3[3] = iVar6;
                *piVar3 = 3;
                piVar3[1] = 1;
                return piVar3;
            }
            if (iVar4 == 4) {
                piVar3 = (int *)FUN_0006e480((int)*(undefined8 *)(param_1 + 2));
                return piVar3;
            }
            if (iVar4 - 5U < 3) {
                return param_1;
            }
        }
    }
    return (int *)0x0;
}

undefined4 FUN_0006f0ec(undefined4 param_1)

{
    char acStack_808[2052];

    snprintf(acStack_808, 0x800, "%s: Bad eeprom param, input chain is %d\n",
             "eeprom_open", param_1);
    FUN_00047ab4(0, acStack_808);
    return 0x80000101;
}

void FUN_0006f13c(uint param_1)

{
    int iVar1;
    uint local_18;
    undefined2 local_14;
    undefined1 local_12;
    undefined1 local_11;

    if (param_1 < 0x10) {
        if ((*(int *)(&DAT_001b13b8 + param_1 * 8) == 0) ||
            (*(int *)(&DAT_001b13bc + param_1 * 8) == 0)) {
            local_14 = 0;
            local_12 = 10;
            local_11 = (undefined1)param_1;
            local_18 = param_1;
            iVar1 = FUN_00073660(&local_18);
            if (-1 < iVar1) {
                *(int *)(&DAT_001b13b8 + param_1 * 8) = iVar1;
                *(undefined4 *)(&DAT_001b13bc + param_1 * 8) = 1;
            }
        }
    } else {
        FUN_0006f0ec();
    }
    return;
}

int FUN_0006f254(uint param_1, byte param_2, int param_3, int param_4)

{
    int iVar1;
    byte bVar2;
    int iVar3;
    byte local_821;
    char acStack_820[2048];

    if (param_1 < 0x10) {
        if ((*(int *)(&DAT_001b13bc + param_1 * 8) != 0) ||
            (iVar1 = FUN_0006f13c(), -1 < iVar1)) {
            if (param_4 != 0) {
                iVar1 = param_3;
                bVar2 = param_2;
                do {
                    local_821 = bVar2;
                    iVar3 = iVar1 + 1;
                    bVar2 = local_821 + 1;
                    iVar1 = FUN_00073a24(
                        *(undefined4 *)(&DAT_001b13b8 + param_1 * 8),
                        &local_821, 1, iVar1, 1);
                    if (iVar1 != 1) {
                        snprintf(
                            acStack_820, 0x800,
                            "fail to write eeprom by iic, chain:%d, addr: %d",
                            param_1, (uint)local_821);
                        FUN_00047ab4(0, acStack_820);
                        return -0x7fffff00;
                    }
                    iVar1 = iVar3;
                } while (param_3 + param_4 != iVar3);
            }
            sleep(1);
            return 0;
        }
        snprintf(acStack_820, 0x800,
                 "%s: auto exec eeprom_open, but chain %d open eeprom failed\n",
                 "eeprom_write", param_1);
        FUN_00047ab4(0, acStack_820, 0);
    } else {
        snprintf(acStack_820, 0x800,
                 "%s: Bad eeprom param, input chain is %d\n", "eeprom_write",
                 param_1);
        iVar1 = -0x7ffffeff;
        FUN_00047ab4(0, acStack_820);
    }
    return iVar1;
}

int FUN_0006f3ac(uint param_1, byte param_2, int param_3, int param_4)

{
    int iVar1;
    byte bVar2;
    int iVar3;
    byte local_821;
    char acStack_820[2048];

    if (param_1 < 0x10) {
        if ((*(int *)(&DAT_001b13bc + param_1 * 8) != 0) ||
            (iVar1 = FUN_0006f13c(), -1 < iVar1)) {
            if (param_4 != 0) {
                iVar1 = param_3;
                bVar2 = param_2;
                do {
                    local_821 = bVar2;
                    iVar3 = iVar1 + 1;
                    bVar2 = local_821 + 1;
                    iVar1 = FUN_00073984(
                        *(undefined4 *)(&DAT_001b13b8 + param_1 * 8),
                        &local_821, 1, iVar1, 1);
                    if (iVar1 != 1) {
                        snprintf(
                            acStack_820, 0x800,
                            "fail to read eeprom by iic, chain: %d, addr: %d\n",
                            param_1, (uint)local_821);
                        FUN_00047ab4(0, acStack_820);
                        return -0x7fffff00;
                    }
                    iVar1 = iVar3;
                } while (param_3 + param_4 != iVar3);
            }
            usleep(500000);
            return 0;
        }
        snprintf(acStack_820, 0x800,
                 "%s: auto exec eeprom_open, but chain %d open eeprom failed\n",
                 "eeprom_read", param_1);
        FUN_00047ab4(0, acStack_820, 0);
    } else {
        snprintf(acStack_820, 0x800,
                 "%s: Bad eeprom param, input chain is %d\n", "eeprom_read",
                 param_1);
        iVar1 = -0x7ffffeff;
        FUN_00047ab4(0, acStack_820);
    }
    return iVar1;
}

void FUN_0006f508(void)

{
    int iVar1;
    uint local_14;

    iVar1 = 10;
    local_14 = 0;
    FUN_0006688c(0x23, &local_14);
    FUN_00066908(0x23, local_14 & 0xffffffbf);
    do {
        usleep(1000);
        local_14 = 0;
        FUN_0006688c(0x23, &local_14);
        if ((local_14 & 0x40) == 0) {
            return;
        }
        iVar1 = iVar1 + -1;
    } while (iVar1 != 0);
    return;
}

int FUN_0006f570(int param_1)

{
    if (param_1 == 0x1c200) {
        return 0x1a;
    }
    if ((double)(longlong)param_1 == 1500000.0) {
        return 1;
    }
    if (param_1 == 3000000) {
        return 0;
    }
    if (param_1 != 6000000) {
        if (param_1 != 12000000) {
            if (param_1 == 25000000) {
                param_1 = 5;
            }
            return param_1;
        }
        return 4;
    }
    return 3;
}

void FUN_0006f610(int param_1)

{
    int iVar1;
    int local_c;

    FUN_00066908(0x1b, param_1);
    if (-1 < param_1) {
        FUN_0006688c(0x1b, &local_c);
        return;
    }
    iVar1 = 0xbb9;
    do {
        FUN_0006688c(0x1b, &local_c);
        if (-1 < local_c) {
            return;
        }
        usleep(1000);
        iVar1 = iVar1 + -1;
    } while (iVar1 != 0);
    return;
}

undefined8 FUN_0006f684(int param_1)

{
    return *(undefined8 *)(DAT_001b1438 + param_1 * 0x40 + 8);
}

undefined4 FUN_0006f69c(int param_1)

{
    return *(undefined4 *)(DAT_001b1438 + param_1 * 0x40);
}

undefined4 FUN_0006f6b0(int param_1)

{
    return *(undefined4 *)(DAT_001b1438 + param_1 * 0x40 + 4);
}

undefined4 FUN_0006f6c8(int param_1, int param_2, int param_3)

{
    undefined1 *puVar1;
    undefined1 *puVar2;

    if (param_3 != 0) {
        puVar1 = (undefined1 *)(DAT_001b1438 + param_1 * 0x40 + 0x1f);
        puVar2 = (undefined1 *)(param_2 + -1);
        do {
            puVar1 = puVar1 + 1;
            puVar2 = puVar2 + 1;
            *puVar2 = *puVar1;
        } while (puVar2 != (undefined1 *)(param_2 + param_3 + -1));
    }
    return 0;
}

void FUN_0006f70c(void)

{
    FUN_0006688c(0xd);
    FUN_00066908(0xd, 0xffff);
    sleep(2);
    return;
}

undefined4 FUN_0006f79c(void)

{
    FUN_0006688c(0x23);
    return 0;
}

void FUN_0006f7c4(undefined4 param_1)

{
    FUN_00066908(0x23, param_1);
    return;
}

undefined4 FUN_0006f7d0(void)

{
    FUN_0006688c(0x23);
    FUN_00066908(0x23, 0x40);
    return 0;
}

undefined4 FUN_0006f808(void)

{
    FUN_0006688c(0x23);
    FUN_00066908(0x23, 0);
    return 0;
}

undefined4 FUN_0006f840(void)

{
    FUN_0006688c(0x23);
    FUN_00066908(0x23, 0x80);
    return 0;
}

undefined4 FUN_0006f878(void)

{
    FUN_0006688c(0x23);
    FUN_00066908(0x23, 0);
    return 0;
}

undefined4 FUN_0006f8b0(uint param_1)

{
    FUN_0006688c(0x23);
    FUN_00066908(0x23, (param_1 & 0xf) << 8);
    return 0;
}

undefined4 FUN_0006f8f8(void)

{
    FUN_0006688c(0x23);
    FUN_00066908(0x23, 0x8000);
    return 0;
}

undefined4 FUN_0006f930(void)

{
    FUN_0006688c(0x23);
    FUN_00066908(0x23, 0);
    return 0;
}

undefined4 FUN_0006f968(void)

{
    FUN_0006688c(0x23);
    FUN_00066908(0x23, 0x20);
    return 0;
}

undefined4 FUN_0006f9a0(void)

{
    FUN_0006688c(0x23);
    FUN_00066908(0x23, 0);
    return 0;
}

undefined4 FUN_0006f9d8(void)

{
    FUN_0006688c(0x23);
    FUN_00066908(0x23, 0x4000);
    return 0;
}

undefined4 FUN_0006fa10(void)

{
    FUN_0006688c(0x23);
    FUN_00066908(0x23, 0);
    return 0;
}

undefined4 FUN_0006fa48(void)

{
    FUN_0006688c(0x23);
    FUN_00066908(0x23, 0x2000);
    return 0;
}

undefined4 FUN_0006fa80(void)

{
    FUN_0006688c(0x23);
    FUN_00066908(0x23, 0);
    return 0;
}

void FUN_0006fab8(void)

{
    FUN_0006688c(0x1b);
    FUN_00066908(0x1b, 0);
    FUN_0006688c(0x23);
    FUN_00066908(0x23, 0);
    return;
}

void FUN_0006fb14(void)

{
    uint local_c;

    local_c = 0;
    FUN_0006688c(0xd, &local_c);
    FUN_00066908(0xd, ~(~(local_c >> 0x10) << 0x10));
    sleep(3);
    FUN_0006688c(0xd, &local_c);
    FUN_00066908(0xd, local_c & 0xffff0000);
    sleep(1);
    FUN_0006f508();
    return;
}

void FUN_0006fb84(char *param_1, size_t param_2)

{
    undefined4 local_18;
    undefined4 local_14[2];

    local_18 = 0;
    local_14[0] = 0;
    FUN_0006688c(0x1f, &local_18);
    FUN_0006688c(0x20, local_14);
    snprintf(param_1, param_2, "%08x%08x", local_14[0], local_18);
    return;
}

void FUN_0006fbe0(undefined4 param_1)

{
    FUN_00066908(0, param_1);
    return;
}

undefined4 FUN_0006fbec(void)

{
    undefined4 local_c[2];

    FUN_0006688c(0x29, local_c);
    return local_c[0];
}

void FUN_0006fc54(undefined4 param_1)

{
    undefined1 auStack_c[4];

    FUN_0006688c(0x27, auStack_c);
    FUN_00066908(0x27, param_1);
    FUN_0006688c(0x27, auStack_c);
    return;
}

void FUN_0006fc8c(undefined4 param_1)

{
    undefined1 auStack_c[8];

    FUN_00066908(0x14, param_1);
    FUN_0006688c(0x14, auStack_c);
    return;
}

void FUN_0006fd34(void)

{
    FUN_00066908(0x21, 0x10000);
    return;
}

undefined2 FUN_0006fd40(void)

{
    undefined2 local_c[4];

    FUN_0006688c(0x21, local_c);
    return local_c[0];
}

uint FUN_0006fd6c(void)

{
    uint local_c[2];

    FUN_0006688c(6, local_c);
    return local_c[0] & 0x7fff;
}

void FUN_0006fd90(undefined4 *param_1)

{
    undefined4 local_10;
    undefined4 uStack_c;

    FUN_0006688c(4, &local_10);
    FUN_0006688c(5, &uStack_c);
    *param_1 = local_10;
    param_1[1] = uStack_c;
    return;
}

void FUN_0006fdc4(undefined4 *param_1)

{
    undefined4 local_18;
    undefined4 local_14;
    undefined4 local_10;
    undefined4 local_c;

    local_18 = 0;
    local_14 = 0;
    local_10 = 0;
    local_c = 0;
    FUN_0006688c(4, &local_18);
    FUN_0006688c(5, &local_14);
    FUN_0006688c(4, &local_10);
    FUN_0006688c(5, &local_c);
    *param_1 = local_18;
    param_1[1] = local_14;
    param_1[2] = local_10;
    param_1[3] = local_c;
    return;
}

undefined4 FUN_0006fe2c(void)

{
    undefined4 local_c[2];

    FUN_0006688c(0x15, local_c);
    return local_c[0];
}

void FUN_0006fe4c(undefined4 param_1)

{
    undefined1 auStack_c[8];

    FUN_00066908(0x15, param_1);
    FUN_0006688c(0x15, auStack_c);
    return;
}

undefined4 FUN_0006ff04(void)

{
    undefined4 local_c[2];

    FUN_0006688c(3, local_c);
    return local_c[0];
}

bool FUN_0006ff24(uint param_1)

{
    uint local_c;

    FUN_0006688c(3, &local_c);
    return (local_c & 1 << (param_1 & 0xff)) != 0;
}

undefined4 FUN_0006ff58(void)

{
    undefined4 local_c[2];

    FUN_0006688c(0x2d, local_c);
    return local_c[0];
}

void FUN_0006ff78(uint param_1, int param_2)

{
    undefined1 auStack_c[4];

    if (param_2 == 4) {
        FUN_00066908(0x2d, param_1);
        FUN_0006688c(0x2d, auStack_c);
        FUN_00066908(0x39, param_1 | 0x4000);
        FUN_00066908(0x3a, param_1 | 0x8000);
        FUN_00066908(0x3b, param_1 | 0xc000);
        return;
    }
    if (param_2 != 8) {
        if (param_2 != 2) {
            FUN_00066908(0x2d, param_1);
            FUN_0006688c(0x2d, auStack_c);
            return;
        }
        FUN_00066908(0x2d, param_1);
        FUN_0006688c(0x2d, auStack_c);
        FUN_00066908(0x39, param_1 | 0x4000);
        return;
    }
    FUN_00066908(0x2d, param_1);
    FUN_0006688c(0x2d, auStack_c);
    FUN_00066908(0x39, param_1 | 0x4000);
    FUN_00066908(0x3a, param_1 | 0x8000);
    FUN_00066908(0x3b, param_1 | 0xc000);
    FUN_00066908(0x3c, param_1 | 0x2000);
    FUN_00066908(0x3d, param_1 | 0x6000);
    FUN_00066908(0x3e, param_1 | 0xa000);
    FUN_00066908(0x3f, param_1 | 0xe000);
    return;
}

undefined4 FUN_00070098(void)

{
    undefined4 local_c[2];

    FUN_0006688c(0x2e, local_c);
    return local_c[0];
}

void FUN_00070128(int param_1)

{
    int iVar1;
    int iVar2;
    undefined4 *puVar3;

    puVar3 = (undefined4 *)(param_1 + -4);
    iVar1 = 0x30;
    do {
        iVar2 = iVar1 + 1;
        puVar3 = puVar3 + 1;
        FUN_00066908(iVar1, *puVar3);
        iVar1 = iVar2;
    } while (iVar2 != 0x38);
    return;
}

void FUN_00070150(undefined4 param_1)

{
    undefined1 auStack_c[8];

    FUN_00066908(0x24, param_1);
    FUN_0006688c(0x24, auStack_c);
    return;
}

undefined4 FUN_00070178(uint param_1)

{
    uint local_10;
    undefined1 auStack_c[4];

    FUN_0006688c(0x24, &local_10);
    FUN_00066908(0x24, local_10 & 0xffffff00 | param_1);
    FUN_0006688c(0x24, auStack_c);
    return 0;
}

undefined4 FUN_000701bc(int param_1)

{
    uint local_10;
    undefined1 auStack_c[4];

    FUN_0006688c(0x24, &local_10);
    FUN_00066908(0x24, local_10 & 0xffff00ff | param_1 << 8);
    FUN_0006688c(0x24, auStack_c);
    return 0;
}

undefined4 FUN_00070200(int param_1)

{
    ushort local_10[2];
    undefined1 auStack_c[4];

    FUN_0006688c(0x24, local_10);
    FUN_00066908(0x24, (uint)local_10[0] | param_1 << 0x10);
    FUN_0006688c(0x24, auStack_c);
    return 0;
}

void FUN_00070240(undefined4 *param_1)

{
    undefined1 auStack_c[4];

    FUN_00066908(0x25, *param_1);
    FUN_00066908(0x26, param_1[1]);
    FUN_0006688c(0x25, auStack_c);
    FUN_0006688c(0x26, auStack_c);
    return;
}

void FUN_00070284(undefined2 param_1)

{
    undefined1 auStack_c[8];

    FUN_00066908(0x28, param_1);
    FUN_0006688c(0x28, auStack_c);
    return;
}

undefined4 FUN_000702ac(void)

{
    undefined4 local_c[2];

    FUN_0006688c(7, local_c);
    return local_c[0];
}

void FUN_000702cc(undefined4 param_1)

{
    undefined1 auStack_c[8];

    FUN_00066908(7, param_1);
    FUN_0006688c(7, auStack_c);
    return;
}

undefined4 FUN_000702f4(void)

{
    uint local_c[2];

    FUN_0006688c(7, local_c);
    FUN_00066908(7, local_c[0] | 0x10000);
    FUN_0006688c(7, local_c);
    return 0;
}

undefined4 FUN_00070330(int *param_1)

{
    void *__dest;
    undefined4 uVar1;
    byte *pbVar2;
    undefined4 *puVar3;
    byte *pbVar4;
    undefined4 *puVar5;
    uint uVar6;
    uint uVar7;
    int iVar8;
    size_t __nmemb;
    uint uVar9;
    byte *pbVar10;
    uint uVar11;
    byte *pbVar12;
    undefined4 uVar13;
    uint *puVar14;
    undefined4 uVar15;
    int local_5c;
    uint local_4c;
    uint local_48[9];

    memset(local_48, 0, 0x20);
    uVar7 = param_1[3];
    local_5c = DAT_001b143c;
    if (DAT_001b143c == DAT_001b1440) {
        local_5c = DAT_001b1444;
    }
    if ((uVar7 & 0x3f) < 0x38) {
        __nmemb = (uVar7 & 0xffffffc0) + 0x40;
    } else {
        __nmemb = (uVar7 & 0xffffffc0) + 0x80;
    }
    __dest = calloc(__nmemb, 1);
    if (__dest == (void *)0x0) {
        uVar1 = 0xfffffffc;
    } else {
        memcpy(__dest, (void *)param_1[2], uVar7);
        uVar11 = uVar7 << 3;
        *(undefined1 *)((int)__dest + uVar7) = 0x80;
        *(uint *)((int)__dest + (__nmemb - 4)) =
            uVar7 << 0x1b | (uVar11 >> 8 & 0xff) << 0x10 |
            (uVar11 >> 0x10 & 0xff) << 8 | uVar11 >> 0x18;
        *(undefined4 *)((int)__dest + (__nmemb - 8)) = 0;
        if (__nmemb != 0) {
            pbVar10 = (byte *)((int)__dest + -1);
            pbVar12 = (byte *)(local_5c + -1);
            pbVar2 = pbVar12;
            pbVar4 = pbVar10;
            do {
                pbVar4 = pbVar4 + 1;
                pbVar2 = pbVar2 + 1;
                *pbVar2 = *pbVar4;
            } while ((byte *)((int)__dest + (__nmemb - 1)) != pbVar4);
            pbVar2 = pbVar12 + __nmemb;
            iVar8 = 0;
            do {
                pbVar12 = pbVar12 + 1;
                pbVar10 = pbVar10 + 1;
                if ((uint)*pbVar12 != (uint)*pbVar10) {
                    printf("%s: coinbase_padding_in_ddr[%d] = 0x%x, but "
                           "*(coinbase_padding + %d) = 0x%x",
                           "dhash_send_job", iVar8, (uint)*pbVar12, iVar8,
                           (uint)*pbVar10);
                }
                iVar8 = iVar8 + 1;
            } while (pbVar2 != pbVar12);
        }
        if (param_1[5] != 0) {
            uVar7 = 0;
            puVar3 = (undefined4 *)(local_5c + __nmemb);
            do {
                puVar5 = (undefined4 *)(param_1[4] + uVar7 * 0x20);
                uVar7 = uVar7 + 1;
                uVar15 = puVar5[1];
                uVar13 = puVar5[2];
                uVar1 = puVar5[3];
                *puVar3 = *puVar5;
                puVar3[1] = uVar15;
                puVar3[2] = uVar13;
                puVar3[3] = uVar1;
                uVar15 = puVar5[5];
                uVar13 = puVar5[6];
                uVar1 = puVar5[7];
                puVar3[4] = puVar5[4];
                puVar3[5] = uVar15;
                puVar3[6] = uVar13;
                puVar3[7] = uVar1;
                puVar3 = puVar3 + 8;
            } while (uVar7 < (uint)param_1[5]);
        }
        FUN_0006f508();
        if (local_5c == DAT_001b143c) {
            iVar8 = DAT_001b1448 + 0x200000;
        } else {
            iVar8 = DAT_001b1448 + 0x210000;
        }
        FUN_00066908(0x29, iVar8);
        FUN_0006688c(0x29, &local_4c);
        FUN_00066908(0x2c, param_1[8]);
        FUN_0006688c(0x2c, &local_4c);
        if ((*param_1 != 0) ||
            (((iVar8 = param_1[1], iVar8 != 4 && (iVar8 != 8)) &&
              (iVar8 != 2)))) {
            iVar8 = 1;
        }
        FUN_0006ff78(param_1[9], iVar8);
        memset(local_48, 0, 0x20);
        pbVar4 = (byte *)param_1[10];
        puVar14 = &local_4c;
        pbVar2 = pbVar4;
        do {
            pbVar12 = pbVar2 + 4;
            puVar14 = puVar14 + 1;
            *puVar14 = (uint)pbVar2[2] << 0x10 | (uint)pbVar2[3] << 0x18 |
                       (uint)*pbVar2 | (uint)pbVar2[1] << 8;
            pbVar2 = pbVar12;
        } while (pbVar12 != pbVar4 + 0x20);
        FUN_00070128(local_48);
        FUN_00066908(0x2e, param_1[6]);
        FUN_0006688c(0x2e, &local_4c);
        FUN_00066908(0x2f, param_1[7]);
        FUN_0006688c(0x2f, &local_4c);
        FUN_00066908(0x24, (param_1[0xd] & 0xffU) << 8 | param_1[0xc] << 0x10 |
                               (__nmemb << 0x12) >> 0x18);
        FUN_0006688c(0x24, &local_4c);
        local_48[1] = param_1[0xf];
        local_48[0] = param_1[0xe];
        FUN_00070240(local_48);
        FUN_00070284(param_1[5]);
        FUN_00066908(0x2a, __nmemb + param_1[5] * 0x20 & 0xffff);
        FUN_0006688c(0x2a, &local_4c);
        usleep(1000);
        FUN_00066908(0x14, param_1[0x10] & 0x1ffffU | 0x80000000);
        FUN_0006688c(0x14, &local_4c);
        uVar7 = param_1[0x11];
        if (*param_1 == 0 && 1 < (uint)param_1[1]) {
            uVar9 = 0;
            uVar11 = 0;
            uVar6 = (param_1[1] & 0xfU) << 8;
        } else {
            if (*param_1 == 0) {
                uVar11 = 0;
                uVar9 = 0;
            } else {
                uVar9 = 0x2000;
                uVar11 = 0x4000;
            }
            uVar6 = 0x100;
        }
        if (uVar7 != 0) {
            uVar7 = 0x80;
            FUN_000702f4();
        }
        local_4c = 0;
        FUN_0006688c(0x23, &local_4c);
        FUN_00066908(0x23, local_4c & 0xfffff0bf | 0x8060 | uVar11 | uVar9 |
                               uVar6 | uVar7);
        free(__dest);
        uVar1 = 0;
        DAT_001b1440 = local_5c;
    }
    return uVar1;
}

void FUN_00070728(void)

{
    undefined1 auStack_c[4];

    pthread_mutex_lock((pthread_mutex_t *)&DAT_001b144c);
    FUN_0006688c(0x1b, auStack_c);
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b144c);
    return;
}

void FUN_0007075c(uint param_1)

{
    uint local_14[2];

    pthread_mutex_lock((pthread_mutex_t *)&DAT_001b144c);
    usleep(50000);
    FUN_0006688c(0x1b, local_14);
    FUN_0006f610(local_14[0] & 0xffffffc0 | param_1 & 0x3f);
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b144c);
    return;
}

void FUN_000707b0(int param_1, int param_2)

{
    uint uVar1;
    uint local_14[2];

    pthread_mutex_lock((pthread_mutex_t *)&DAT_001b144c);
    FUN_0006688c(0x1b, local_14);
    uVar1 = local_14[0] & 0xfff0ffff | param_1 << 0x10;
    if (param_2 == 0) {
        uVar1 = uVar1 & 0xffbfffff | 0x800000;
    } else {
        uVar1 = uVar1 | 0xc00000;
    }
    FUN_0006f610(uVar1);
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b144c);
    return;
}

void FUN_00070808(undefined4 *param_1, int param_2)

{
    uint local_14;

    pthread_mutex_lock((pthread_mutex_t *)&DAT_001b144c);
    FUN_00066908(0x1c, *param_1);
    FUN_00066908(0x1d, param_1[1]);
    FUN_00066908(0x1e, param_1[2]);
    FUN_0006688c(0x1c, &local_14);
    FUN_0006688c(0x1d, &local_14);
    FUN_0006688c(0x1e, &local_14);
    FUN_0006688c(0x1b, &local_14);
    FUN_0006f610(local_14 & 0xfff0ffff | 0x80800000 | param_2 << 0x10);
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b144c);
    return;
}

void FUN_000708a4(undefined4 *param_1, uint param_2)

{
    undefined4 uVar1;
    undefined4 *puVar2;
    undefined4 *puVar3;

    pthread_mutex_lock((pthread_mutex_t *)&DAT_001b1464);
    if (param_2 >> 2 != 0) {
        uVar1 = 0x10;
        puVar2 = param_1;
        do {
            puVar3 = puVar2 + 1;
            FUN_00066908(uVar1, *puVar2);
            uVar1 = 0x11;
            puVar2 = puVar3;
        } while (puVar3 != param_1 + (param_2 >> 2));
    }
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b1464);
    return;
}

undefined4 FUN_000708ec(void)

{
    undefined4 local_c[2];

    FUN_0006688c(0x12, local_c);
    return local_c[0];
}

void FUN_0007090c(uint param_1)

{
    FUN_00066908(0x12, param_1 | 0x80808000);
    DAT_001b1440 = DAT_001b143c;
    FUN_0006fc54(DAT_001b1448);
    return;
}

undefined4 FUN_00070940(void)

{
    FUN_0006688c(0xf);
    return 0;
}

void FUN_00070974(uint param_1)

{
    FUN_0006688c(0xd);
    FUN_00066908(0xd, 1 << (param_1 & 0xff));
    return;
}

void FUN_000709b8(void)

{
    FUN_0006688c(0xd);
    FUN_00066908(0xd, 0);
    return;
}

void FUN_000709fc(undefined4 param_1)

{
    FUN_00070974();
    usleep(100000);
    FUN_000709b8(param_1);
    return;
}

undefined4 FUN_00070a34(void)

{
    FUN_0006688c();
    return 0;
}

undefined4 FUN_00070a5c(void)

{
    FUN_0006688c(0);
    FUN_00066908(0);
    return 0;
}

undefined4 FUN_00070ab4(void)

{
    FUN_0006688c(0);
    FUN_00066908(0, 0x20000000);
    return 0;
}

undefined4 FUN_00070af4(void)

{
    FUN_0006688c(0);
    FUN_00066908(0, 0);
    return 0;
}

undefined4 FUN_00070b34(void)

{
    FUN_0006688c();
    return 0;
}

undefined4 FUN_00070b5c(void)

{
    FUN_0006688c(0);
    FUN_00066908(0, 0x40000000);
    return 0;
}

undefined4 FUN_00070b9c(void)

{
    int iVar1;
    undefined1 auStack_54[4];
    sysinfo sStack_50;

    DAT_001b1438 = FUN_00066980();
    DAT_001b1444 = DAT_001b1438 + 0x210000;
    iVar1 = DAT_001b1438 + 0x200000;
    DAT_001b143c = iVar1;
    sysinfo(&sStack_50);
    if (sStack_50.totalram < 0x3b9aca01) {
        if (sStack_50.totalram < 0x1dcd6501) {
            if (sStack_50.totalram < 0xbebc201) {
                DAT_001b1448 = 0x7000000;
            } else {
                DAT_001b1448 = 0xf000000;
            }
        } else {
            DAT_001b1448 = 0x1f000000;
        }
    } else {
        DAT_001b1448 = 0x3f000000;
    }
    DAT_001b1440 = iVar1;
    FUN_0006fc54();
    FUN_00066908(0x29, DAT_001b1448 + 0x200000);
    FUN_0006688c(0x29, auStack_54);
    FUN_00070af4();
    FUN_00070b5c();
    return 0;
}

undefined4 FUN_00070c58(void)

{
    FUN_0006688c(0);
    FUN_00066908(0, 0);
    return 0;
}

undefined4 FUN_00070c98(void)

{
    FUN_0006688c();
    return 0;
}

undefined4 FUN_00070cc0(void)

{
    FUN_0006688c();
    return 0;
}

undefined4 FUN_00070ce4(int param_1, undefined4 param_2)

{
    uint uVar1;
    uint uVar2;

    uVar1 = FUN_0006f570(param_2);
    FUN_0006688c(0xf);
    uVar2 = 0;
    if (param_1 == 0) {
        uVar2 = uVar1 & 0x3f;
    } else if (param_1 == 1) {
        uVar2 = (uVar1 & 0x3f) << 8;
    } else if (param_1 == 2) {
        uVar2 = (uVar1 & 0x3f) << 0x10;
    } else if (param_1 == 3) {
        uVar2 = (uVar1 & 0x3f) << 0x18;
    }
    FUN_00066908(0xf, uVar2);
    return 0;
}

/* WARNING: Removing unreachable block (ram,0x00070e20) */
/* WARNING: Removing unreachable block (ram,0x00070dbc) */
/* WARNING: Removing unreachable block (ram,0x00070d8c) */
/* WARNING: Removing unreachable block (ram,0x00070e08) */
/* WARNING: Removing unreachable block (ram,0x00070d94) */
/* WARNING: Removing unreachable block (ram,0x00070d9c) */
/* WARNING: Removing unreachable block (ram,0x00070da4) */
/* WARNING: Removing unreachable block (ram,0x00070db8) */
/* WARNING: Removing unreachable block (ram,0x00070e30) */
/* WARNING: Removing unreachable block (ram,0x00070e10) */

undefined4 FUN_00070d58(int param_1)

{
    FUN_0006688c(0xf);
    if ((((param_1 != 0) && (param_1 != 1)) && (param_1 != 2)) &&
        (param_1 != 3)) {
        return 0xffffffff;
    }
    return 3000000;
}

undefined4 FUN_00070e58(void)

{
    uint uVar1;

    uVar1 = FUN_0006f570();
    FUN_0006688c(0xf);
    uVar1 = uVar1 & 0x3f;
    FUN_00066908(0xf, uVar1 | uVar1 << 8 | uVar1 << 0x10 | uVar1 << 0x18);
    return 0;
}

undefined4 FUN_00070ea8(undefined4 param_1)

{
    char acStack_808[2052];

    snprintf(acStack_808, 0x800, "%s: Bad pic param, input chain is %d\n",
             "open_pic", param_1);
    FUN_00047ab4(0, acStack_808);
    return 0x80000201;
}

void FUN_00070ef8(int param_1, uint param_2)

{
    byte *pbVar1;
    uint uVar2;
    uint uVar3;
    char *pcVar4;
    int iVar5;
    undefined *local_818[512];

    pcVar4 = "read return data";
    iVar5 = param_1;
    snprintf((char *)local_818, 0x800, "Dumping %u %s bytes from %p:\n",
             param_2, "read return data", param_1);
    uVar3 = 0;
    FUN_00047ab4(2, local_818);
    do {
        while (param_2 <= uVar3) {
            uVar3 = uVar3 + 1;
            local_818[0] = &DAT_00202020;
            FUN_00047ab4(2, local_818, 0);
            if (uVar3 == 0x10)
                goto LAB_00070fb0;
        }
        pbVar1 = (byte *)(param_1 + uVar3);
        uVar3 = uVar3 + 1;
        snprintf((char *)local_818, 0x800, "%02x ", (uint)*pbVar1, pcVar4,
                 iVar5);
        FUN_00047ab4(2, local_818, 0);
    } while (uVar3 != 0x10);
LAB_00070fb0:
    uVar3 = 0;
    do {
        while (param_2 <= uVar3) {
            uVar3 = uVar3 + 1;
            local_818[0] = (undefined *)CONCAT22(local_818[0]._2_2_, 0x20);
            FUN_00047ab4(2, local_818, 0);
            if (uVar3 == 0x10)
                goto LAB_00071028;
        }
        uVar2 = (uint) * (byte *)(param_1 + uVar3);
        uVar3 = uVar3 + 1;
        if (0x5e < uVar2 - 0x20) {
            uVar2 = 0x2e;
        }
        snprintf((char *)local_818, 0x800, "%c", uVar2);
        FUN_00047ab4(2, local_818, 0);
    } while (uVar3 != 0x10);
LAB_00071028:
    local_818[0] = (undefined *)CONCAT22(local_818[0]._2_2_, 10);
    FUN_00047ab4(2, local_818, 0);
    return;
}

int FUN_0007104c(uint param_1)

{
    int iVar1;
    uint local_18;
    undefined2 local_14;
    undefined1 local_12;
    undefined1 local_11;

    if (param_1 < 0x10) {
        iVar1 = *(int *)(&DAT_00246410 + param_1 * 8);
        if ((iVar1 == 0) || (*(int *)(&DAT_00246414 + param_1 * 8) == 0)) {
            local_14 = 0;
            local_12 = 4;
            local_11 = (undefined1)param_1;
            local_18 = param_1;
            pthread_mutex_lock((pthread_mutex_t *)&DAT_001b147c);
            iVar1 = FUN_00073660(&local_18);
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b147c);
            if (-1 < iVar1) {
                *(int *)(&DAT_00246410 + param_1 * 8) = iVar1;
                *(undefined4 *)(&DAT_00246414 + param_1 * 8) = 1;
            }
        }
    } else {
        iVar1 = FUN_00070ea8();
    }
    return iVar1;
}

uint FUN_000711a0(uint param_1)

{
    int iVar1;
    char *pcVar2;
    uint uVar3;
    undefined4 uVar4;
    undefined4 local_830;
    byte local_82c;
    undefined4 local_828;
    undefined4 local_824;
    undefined4 local_820;
    undefined4 local_81c;
    char acStack_818[2052];

    if (0xf < param_1) {
        snprintf(acStack_818, 0x800, "%s: Bad pic param, input chain is %d\n",
                 "get_pic_version", param_1);
        FUN_00047ab4(0, acStack_818);
        return 0x80000201;
    }
    if ((*(int *)(&DAT_00246414 + param_1 * 8) == 0) &&
        (uVar3 = FUN_0007104c(), (int)uVar3 < 0)) {
        snprintf(acStack_818, 0x800,
                 "%s: auto exec open_pic, but chain %d open eeprom failed\n",
                 "get_pic_version", param_1);
        FUN_00047ab4(0, acStack_818, 0);
        return uVar3;
    }
    uVar4 = *(undefined4 *)(&DAT_00246410 + param_1 * 8);
    pthread_mutex_lock((pthread_mutex_t *)&DAT_001b147c);
    local_828 = 0x1704aa55;
    local_820 = 0;
    local_81c = 0;
    local_830 = 0;
    local_82c = 0;
    local_824 = 0x1b00;
    iVar1 = FUN_000738fc(uVar4, &local_828, 6);
    if (iVar1 == 6) {
        usleep(200000);
        iVar1 = FUN_00073874(uVar4, &local_830, 5);
        if (iVar1 != 5) {
            pcVar2 = "%s read iic err\n";
            goto LAB_000712f4;
        }
        if ((local_830._1_1_ == '\x17') && ((char)local_830 == '\x05')) {
            uVar3 = local_830 >> 0x10 & 0xff;
            if ((local_830 >> 0x18 == uVar3 + 0x1c >> 8) &&
                ((uint)local_82c == (uVar3 + 0x1c & 0xff)))
                goto LAB_00071290;
            pcVar2 = "%s failed 2!\n";
        } else {
            pcVar2 = "%s failed!\n";
        }
        snprintf(acStack_818, 0x800, pcVar2, "_bitmain_pic_get_sw_ver_common");
        FUN_00047ab4(0, acStack_818);
        FUN_00070ef8(&local_830, 5);
    } else {
        pcVar2 = "%s write iic err\n";
    LAB_000712f4:
        snprintf(acStack_818, 0x800, pcVar2, "_bitmain_pic_get_sw_ver_common");
        FUN_00047ab4(0, acStack_818, 0);
    }
    uVar3 = 0x80000200;
LAB_00071290:
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b147c);
    return uVar3;
}

int FUN_000713a4(uint param_1)

{
    int iVar1;
    char *__format;
    int iVar2;
    undefined4 uVar3;
    undefined2 local_82c;
    undefined4 local_828;
    undefined4 local_824;
    undefined4 local_820;
    undefined4 local_81c;
    char acStack_818[2052];

    if (0xf < param_1) {
        snprintf(acStack_818, 0x800, "%s: Bad pic param, input chain is %d\n",
                 "reset_pic", param_1);
        FUN_00047ab4(0, acStack_818);
        return -0x7ffffdff;
    }
    if ((*(int *)(&DAT_00246414 + param_1 * 8) == 0) &&
        (iVar1 = FUN_0007104c(), iVar1 < 0)) {
        snprintf(acStack_818, 0x800,
                 "%s: auto exec open_pic, but chain %d open eeprom failed\n",
                 "reset_pic", param_1);
        FUN_00047ab4(0, acStack_818, 0);
        return iVar1;
    }
    uVar3 = *(undefined4 *)(&DAT_00246410 + param_1 * 8);
    iVar2 = 0;
    pthread_mutex_lock((pthread_mutex_t *)&DAT_001b147c);
    local_828 = 0x704aa55;
    local_820 = 0;
    local_81c = 0;
    local_82c = 0;
    local_824 = 0xb00;
    iVar1 = FUN_000738fc(uVar3, &local_828, 6);
    if (iVar1 == 6) {
        usleep(200000);
        iVar1 = FUN_00073874(uVar3, &local_82c, 2);
        if (iVar1 != 2) {
            __format = "%s read iic err\n";
            goto LAB_000714e0;
        }
        if (((byte)local_82c == 7) && (local_82c._1_1_ == 1))
            goto LAB_00071470;
        snprintf(acStack_818, 0x800,
                 "%s failed! read_back_data[0] = 0x%02x, read_back_data[1] = "
                 "0x%02x\n\n",
                 "_bitmain_pic_reset_common", (uint)(byte)local_82c,
                 (uint)local_82c._1_1_);
        FUN_00047ab4(0, acStack_818);
    } else {
        __format = "%s write iic err\n";
    LAB_000714e0:
        snprintf(acStack_818, 0x800, __format, "_bitmain_pic_reset_common");
        FUN_00047ab4(0, acStack_818, 0);
    }
    iVar2 = -0x7ffffe00;
LAB_00071470:
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b147c);
    usleep(500000);
    return iVar2;
}

int FUN_0007157c(uint param_1)

{
    int iVar1;
    char *__format;
    int iVar2;
    undefined4 uVar3;
    undefined2 local_82c;
    undefined4 local_828;
    undefined4 local_824;
    undefined4 local_820;
    undefined4 local_81c;
    char acStack_818[2052];

    if (0xf < param_1) {
        snprintf(acStack_818, 0x800, "%s: Bad pic param, input chain is %d\n",
                 "jump_from_loader_to_app", param_1);
        FUN_00047ab4(0, acStack_818);
        return -0x7ffffdff;
    }
    if ((*(int *)(&DAT_00246414 + param_1 * 8) == 0) &&
        (iVar1 = FUN_0007104c(), iVar1 < 0)) {
        snprintf(acStack_818, 0x800,
                 "%s: auto exec open_pic, but chain %d open eeprom failed\n",
                 "jump_from_loader_to_app", param_1);
        FUN_00047ab4(0, acStack_818, 0);
        return iVar1;
    }
    uVar3 = *(undefined4 *)(&DAT_00246410 + param_1 * 8);
    iVar2 = 0;
    pthread_mutex_lock((pthread_mutex_t *)&DAT_001b147c);
    local_828 = 0x604aa55;
    local_820 = 0;
    local_81c = 0;
    local_82c = 0;
    local_824 = 0xa00;
    iVar1 = FUN_000738fc(uVar3, &local_828, 6);
    if (iVar1 == 6) {
        usleep(200000);
        iVar1 = FUN_00073874(uVar3, &local_82c, 2);
        if (iVar1 != 2) {
            __format = "%s read iic err\n";
            goto LAB_000716b8;
        }
        usleep(200000);
        if (((byte)local_82c == 6) && (local_82c._1_1_ == 1))
            goto LAB_00071654;
        snprintf(acStack_818, 0x800,
                 "%s failed! read_back_data[0] = 0x%02x, read_back_data[1] = "
                 "0x%02x\n\n",
                 "_bitmain_pic_start_app_common", (uint)(byte)local_82c,
                 (uint)local_82c._1_1_);
        FUN_00047ab4(0, acStack_818);
    } else {
        __format = "%s write iic err\n";
    LAB_000716b8:
        snprintf(acStack_818, 0x800, __format, "_bitmain_pic_start_app_common");
        FUN_00047ab4(0, acStack_818, 0);
    }
    iVar2 = -0x7ffffe00;
LAB_00071654:
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b147c);
    return iVar2;
}

int FUN_00071754(uint param_1)

{
    int iVar1;
    char *__format;
    int iVar2;
    undefined4 uVar3;
    undefined2 local_82c;
    undefined4 local_828;
    undefined4 local_824;
    undefined4 local_820;
    undefined4 local_81c;
    char acStack_818[2052];

    if (0xf < param_1) {
        snprintf(acStack_818, 0x800, "%s: Bad pic param, input chain is %d\n",
                 "enable_dc_dc", param_1);
        FUN_00047ab4(0, acStack_818);
        return -0x7ffffdff;
    }
    if ((*(int *)(&DAT_00246414 + param_1 * 8) == 0) &&
        (iVar1 = FUN_0007104c(), iVar1 < 0)) {
        snprintf(acStack_818, 0x800,
                 "%s: auto exec open_pic, but chain %d open eeprom failed\n",
                 "enable_dc_dc", param_1);
        FUN_00047ab4(0, acStack_818, 0);
        return iVar1;
    }
    uVar3 = *(undefined4 *)(&DAT_00246410 + param_1 * 8);
    iVar2 = 0;
    pthread_mutex_lock((pthread_mutex_t *)&DAT_001b147c);
    local_828 = 0x1505aa55;
    local_820 = 0;
    local_81c = 0;
    local_82c = 0;
    local_824 = 0x1b0001;
    iVar1 = FUN_000738fc(uVar3, &local_828, 7);
    if (iVar1 == 7) {
        usleep(200000);
        iVar1 = FUN_00073874(uVar3, &local_82c, 2);
        if (iVar1 != 2) {
            __format = "%s read iic err\n";
            goto LAB_0007188c;
        }
        if (((byte)local_82c == 0x15) && (local_82c._1_1_ == 1))
            goto LAB_00071828;
        snprintf(acStack_818, 0x800,
                 "%s failed! read_back_data[0] = 0x%02x, read_back_data[1] = "
                 "0x%02x\n\n",
                 "_bitmain_pic_enable_dc_dc_common", (uint)(byte)local_82c,
                 (uint)local_82c._1_1_);
        FUN_00047ab4(0, acStack_818);
    } else {
        __format = "%s write iic err\n";
    LAB_0007188c:
        snprintf(acStack_818, 0x800, __format,
                 "_bitmain_pic_enable_dc_dc_common");
        FUN_00047ab4(0, acStack_818, 0);
    }
    iVar2 = -0x7ffffe00;
LAB_00071828:
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b147c);
    return iVar2;
}

int FUN_00071928(uint param_1)

{
    int iVar1;
    char *__format;
    int iVar2;
    undefined4 uVar3;
    undefined2 local_82c;
    undefined4 local_828;
    undefined4 local_824;
    undefined4 local_820;
    undefined4 local_81c;
    char acStack_818[2052];

    if (0xf < param_1) {
        snprintf(acStack_818, 0x800, "%s: Bad pic param, input chain is %d\n",
                 "disable_dc_dc", param_1);
        FUN_00047ab4(0, acStack_818);
        return -0x7ffffdff;
    }
    if ((*(int *)(&DAT_00246414 + param_1 * 8) == 0) &&
        (iVar1 = FUN_0007104c(), iVar1 < 0)) {
        snprintf(acStack_818, 0x800,
                 "%s: auto exec open_pic, but chain %d open eeprom failed\n",
                 "disable_dc_dc", param_1);
        FUN_00047ab4(0, acStack_818, 0);
        return iVar1;
    }
    uVar3 = *(undefined4 *)(&DAT_00246410 + param_1 * 8);
    iVar2 = 0;
    pthread_mutex_lock((pthread_mutex_t *)&DAT_001b147c);
    local_828 = 0x1505aa55;
    local_820 = 0;
    local_81c = 0;
    local_82c = 0;
    local_824 = 0x1a0000;
    iVar1 = FUN_000738fc(uVar3, &local_828, 7);
    if (iVar1 == 7) {
        usleep(200000);
        iVar1 = FUN_00073874(uVar3, &local_82c, 2);
        if (iVar1 != 2) {
            __format = "%s read iic err\n";
            goto LAB_00071a58;
        }
        if (((byte)local_82c == 0x15) && (local_82c._1_1_ == 1))
            goto LAB_000719f4;
        snprintf(acStack_818, 0x800,
                 "%s failed! read_back_data[0] = 0x%02x, read_back_data[1] = "
                 "0x%02x\n\n",
                 "_bitmain_pic_disable_dc_dc_common", (uint)(byte)local_82c,
                 (uint)local_82c._1_1_);
        FUN_00047ab4(0, acStack_818);
    } else {
        __format = "%s write iic err\n";
    LAB_00071a58:
        snprintf(acStack_818, 0x800, __format,
                 "_bitmain_pic_disable_dc_dc_common");
        FUN_00047ab4(0, acStack_818, 0);
    }
    iVar2 = -0x7ffffe00;
LAB_000719f4:
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b147c);
    return iVar2;
}

int FUN_00071af4(uint param_1)

{
    int iVar1;
    char *__format;
    int iVar2;
    undefined4 uVar3;
    undefined4 local_830;
    undefined2 local_82c;
    undefined4 local_828;
    undefined4 local_824;
    undefined4 local_820;
    undefined4 local_81c;
    char acStack_818[2052];

    if (0xf < param_1) {
        snprintf(acStack_818, 0x800, "%s: Bad pic param, input chain is %d\n",
                 "send_pic_heart_beat", param_1);
        FUN_00047ab4(0, acStack_818);
        return -0x7ffffdff;
    }
    if ((*(int *)(&DAT_00246414 + param_1 * 8) == 0) &&
        (iVar1 = FUN_0007104c(), iVar1 < 0)) {
        snprintf(acStack_818, 0x800,
                 "%s: auto exec open_pic, but chain %d open eeprom failed\n",
                 "send_pic_heart_beat", param_1);
        FUN_00047ab4(0, acStack_818, 0);
        return iVar1;
    }
    uVar3 = *(undefined4 *)(&DAT_00246410 + param_1 * 8);
    iVar2 = 0;
    pthread_mutex_lock((pthread_mutex_t *)&DAT_001b147c);
    local_828 = 0x1604aa55;
    local_820 = 0;
    local_81c = 0;
    local_830 = 0;
    local_82c = 0;
    local_824 = 0x1a00;
    iVar1 = FUN_000738fc(uVar3, &local_828, 6);
    if (iVar1 == 6) {
        usleep(200000);
        iVar1 = FUN_00073874(uVar3, &local_830, 6);
        if (iVar1 != 6) {
            __format = "%s read iic err\n";
            goto LAB_00071c28;
        }
        if ((local_830._1_1_ == '\x16') && (local_830._2_1_ == '\x01'))
            goto LAB_00071bc4;
        snprintf(acStack_818, 0x800, "%s failed!\n",
                 "_bitmain_pic_heart_beat_common");
        FUN_00047ab4(0, acStack_818);
        FUN_00070ef8(&local_830, 6);
    } else {
        __format = "%s write iic err\n";
    LAB_00071c28:
        snprintf(acStack_818, 0x800, __format,
                 "_bitmain_pic_heart_beat_common");
        FUN_00047ab4(0, acStack_818, 0);
    }
    iVar2 = -0x7ffffe00;
LAB_00071bc4:
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b147c);
    return iVar2;
}

undefined4 FUN_00071cc8(undefined4 param_1)

{
    int iVar1;
    undefined4 uVar2;
    undefined2 local_824;
    undefined4 local_820;
    undefined4 local_81c;
    undefined4 local_818;
    undefined4 local_814;
    char acStack_810[2048];

    uVar2 = 0;
    pthread_mutex_lock((pthread_mutex_t *)&DAT_001b147c);
    local_814 = 0;
    local_818 = 0;
    local_820 = 0x106aa55;
    local_81c = 0xd000006;
    local_824 = 0;
    iVar1 = FUN_000738fc(param_1, &local_820, 8);
    if (iVar1 == 8) {
        usleep(200000);
        iVar1 = FUN_00073874(param_1, &local_824, 2);
        if (iVar1 == 2) {
            if (((byte)local_824 == 1) && (local_824._1_1_ == 1))
                goto LAB_00071d60;
            snprintf(acStack_810, 0x800,
                     "%s failed! read_back_data[0] = 0x%02x, read_back_data[1] "
                     "= 0x%02x\n\n",
                     "_bitmain_pic_seek_1704", (uint)(byte)local_824,
                     (uint)local_824._1_1_);
        } else {
            snprintf(acStack_810, 0x800, "%s read iic err\n",
                     "_bitmain_pic_seek_1704");
        }
    } else {
        snprintf(acStack_810, 0x800, "%s write iic err\n",
                 "_bitmain_pic_seek_1704");
    }
    FUN_00047ab4(0, acStack_810);
    uVar2 = 0x80000200;
LAB_00071d60:
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b147c);
    return uVar2;
}

void FUN_00071df8(int param_1, uint param_2)

{
    byte *pbVar1;
    uint uVar2;
    uint uVar3;
    char *pcVar4;
    int iVar5;
    undefined *local_820[513];

    pcVar4 = "read return data";
    iVar5 = param_1;
    snprintf((char *)local_820, 0x800, "Dumping %u %s bytes from %p:\n",
             param_2, "read return data", param_1);
    FUN_00047ab4(2, local_820, 0);
    if ((int)param_2 < 1) {
        return;
    }
    do {
        uVar3 = 0;
        do {
            while (uVar3 < param_2) {
                pbVar1 = (byte *)(param_1 + uVar3);
                uVar3 = uVar3 + 1;
                snprintf((char *)local_820, 0x800, "%02x ", (uint)*pbVar1,
                         pcVar4, iVar5);
                FUN_00047ab4(2, local_820, 0);
                if (uVar3 == 0x10)
                    goto LAB_00071ebc;
            }
            uVar3 = uVar3 + 1;
            local_820[0] = &DAT_00202020;
            FUN_00047ab4(2, local_820, 0);
        } while (uVar3 != 0x10);
    LAB_00071ebc:
        uVar3 = 0;
        do {
            while (uVar3 < param_2) {
                uVar2 = (uint) * (byte *)(param_1 + uVar3);
                uVar3 = uVar3 + 1;
                if (0x5e < uVar2 - 0x20) {
                    uVar2 = 0x2e;
                }
                snprintf((char *)local_820, 0x800, "%c", uVar2);
                FUN_00047ab4(2, local_820, 0);
                if (uVar3 == 0x10)
                    goto LAB_00071f34;
            }
            uVar3 = uVar3 + 1;
            local_820[0] = (undefined *)CONCAT22(local_820[0]._2_2_, 0x20);
            FUN_00047ab4(2, local_820, 0);
        } while (uVar3 != 0x10);
    LAB_00071f34:
        local_820[0] = (undefined *)CONCAT22(local_820[0]._2_2_, 10);
        param_1 = param_1 + 0x10;
        FUN_00047ab4(2, local_820, 0);
        if ((int)param_2 < 0x11) {
            return;
        }
        param_2 = param_2 - 0x10;
    } while (true);
}

int FUN_00071f68(uint param_1, uint *param_2, int param_3)

{
    char *__format;
    uint uVar1;
    uint uVar2;
    byte *pbVar3;
    undefined4 uVar4;
    int iVar5;
    undefined4 local_834;
    undefined2 uStack_830;
    byte local_82c;
    byte abStack_82b[4];
    ushort uStack_827;
    undefined1 uStack_825;
    byte bStack_824;
    byte local_823;
    byte local_822;
    char acStack_820[2052];

    if (0xf < param_1) {
        snprintf(acStack_820, 0x800, "%s: Bad pic param, input chain is %d\n",
                 "pic_get_voltage", param_1);
        FUN_00047ab4(0, acStack_820);
        return -0x7ffffdff;
    }
    if (*(int *)(&DAT_00246414 + param_1 * 8) == 0) {
        iVar5 = FUN_0007104c();
        if (iVar5 < 0) {
            snprintf(
                acStack_820, 0x800,
                "%s: auto exec open_pic, but chain %d open eeprom failed\n",
                "pic_get_voltage", param_1);
            FUN_00047ab4(0, acStack_820, 0);
            return iVar5;
        }
    } else {
        iVar5 = 0;
    }
    if (param_3 != 3) {
        snprintf(acStack_820, 0x800, "%s failed: parameters error!\n",
                 "pic_get_voltage");
        FUN_00047ab4(0, acStack_820);
        return iVar5;
    }
    pthread_mutex_lock((pthread_mutex_t *)&DAT_001b147c);
    uVar4 = *(undefined4 *)(&DAT_00246410 + param_1 * 8);
    abStack_82b[3] = 0;
    uStack_827 = 0;
    local_834 = 0x3704aa55;
    local_82c = 0;
    abStack_82b[0] = 0;
    abStack_82b[1] = 0;
    abStack_82b[2] = 0;
    uStack_825 = 0;
    bStack_824 = 0;
    local_823 = 0;
    local_822 = 0;
    uStack_830 = 0x3b00;
    iVar5 = FUN_000738fc(uVar4, &local_834, 6);
    if (iVar5 == 6) {
        usleep(200000);
        iVar5 = FUN_00073874(uVar4, &local_82c, 0xb);
        if (iVar5 == 0xb) {
            if ((local_82c != 0xb) || (abStack_82b[0] != 0x37)) {
                snprintf(acStack_820, 0x800,
                         "%s failed! read_back_data[0] = 0x%02x, "
                         "read_back_data[1] = 0x%02x\n\n",
                         "_read_an_voltage", (uint)local_82c,
                         (uint)abStack_82b[0]);
                iVar5 = -1;
                FUN_00047ab4(0, acStack_820);
                goto LAB_000720f8;
            }
            pbVar3 = &local_82c;
            uVar1 = 0;
            uVar2 = 0xb;
            while (true) {
                uVar2 = uVar1 + uVar2;
                uVar1 = uVar2 & 0xffff;
                if (pbVar3 == &bStack_824)
                    break;
                pbVar3 = pbVar3 + 1;
                uVar2 = (uint)*pbVar3;
            }
            if (((uint)local_823 == uVar1 >> 8) &&
                ((uint)local_822 == (uVar2 & 0xff))) {
                iVar5 = 0;
                *param_2 = (CONCAT11(abStack_82b[3], abStack_82b[2]) & 0xff)
                               << 8 |
                           (uint)abStack_82b[3];
                param_2[1] = (uStack_827 & 0xff) << 8 | (uint)(uStack_827 >> 8);
                param_2[2] = (CONCAT11(bStack_824, uStack_825) & 0xff) << 8 |
                             (uint)bStack_824;
                goto LAB_000720f8;
            }
            __format = "%s failed 2!\n";
        } else {
            __format = "%s read iic err\n";
        }
    } else {
        __format = "%s write iic err\n";
    }
    snprintf(acStack_820, 0x800, __format);
    iVar5 = -1;
    FUN_00047ab4(0, acStack_820);
LAB_000720f8:
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b147c);
    return iVar5;
}

uint FUN_000721f8(uint param_1, int param_2, int param_3, int param_4,
                  uint param_5)

{
    int iVar1;
    char *__format;
    uint uVar2;
    uint uVar3;
    uint uVar4;
    undefined2 uVar5;
    uint uVar7;
    byte *pbVar8;
    uint uVar9;
    undefined4 uVar10;
    undefined2 local_84c;
    undefined2 local_848;
    undefined1 local_846;
    undefined1 local_845;
    undefined1 local_844;
    undefined1 local_843;
    undefined4 local_842;
    undefined4 local_83e;
    undefined4 local_83a;
    undefined4 local_836;
    undefined4 local_832;
    undefined4 local_82e;
    undefined2 local_82a;
    char acStack_828[2052];
    uint uVar6;

    if (0xf < param_1) {
        snprintf(acStack_828, 0x800, "%s: Bad pic param, input chain is %d\n",
                 "app_write_data_into_flash", param_1);
        FUN_00047ab4(0, acStack_828);
        return 0x80000201;
    }
    if ((*(int *)(&DAT_00246414 + param_1 * 8) == 0) &&
        (uVar9 = FUN_0007104c(), (int)uVar9 < 0)) {
        snprintf(acStack_828, 0x800,
                 "%s: auto exec open_pic, but chain %d open eeprom failed\n",
                 "app_write_data_into_flash", param_1);
        FUN_00047ab4(0, acStack_828, 0);
        return uVar9;
    }
    uVar10 = *(undefined4 *)(&DAT_00246410 + param_1 * 8);
    pthread_mutex_lock((pthread_mutex_t *)&DAT_001b147c);
    uVar9 = param_5;
    if (0xf < (int)param_5) {
        uVar9 = 0x10;
    }
    local_843 = (undefined1)param_3;
    local_846 = (undefined1)(param_5 + 6);
    local_844 = (undefined1)param_2;
    uVar6 = (param_5 + 6 & 0xff) + param_3 + 0x35 + param_2;
    uVar5 = (undefined2)uVar6;
    local_848 = 0xaa55;
    local_84c = 0;
    local_842 = 0;
    local_83e = 0;
    local_83a = 0;
    local_836 = 0;
    local_832 = 0;
    local_82e = 0;
    local_82a = 0;
    local_845 = 0x35;
    if (0 < (int)param_5) {
        pbVar8 = (byte *)(param_4 + -1);
        uVar4 = 0;
        do {
            pbVar8 = pbVar8 + 1;
            uVar2 = (uint)*pbVar8;
            if (((uVar4 & 1) == 0) && (0x3f < uVar2)) {
                snprintf(acStack_828, 0x800,
                         "%s: the data[%d] must less than 0x3f\n",
                         "_app_write_data_into_flash_1704_v8", uVar4);
                FUN_00047ab4(0, acStack_828, 0);
                uVar2 = (uint)*pbVar8;
            }
            uVar7 = uVar6 + uVar2;
            uVar3 = uVar4 + 1;
            *(char *)((int)&local_842 + uVar4) = (char)uVar2;
            uVar6 = uVar7 & 0xffff;
            uVar5 = (undefined2)uVar7;
            uVar4 = uVar3;
        } while ((int)uVar3 < (int)uVar9);
    }
    uVar6 = uVar9 & 0xffff;
    uVar4 = uVar6 + 8 & 0xffff;
    *(char *)((int)&local_848 + (uVar6 + 6 & 0xffff)) =
        (char)((ushort)uVar5 >> 8);
    *(char *)((int)&local_848 + (uVar6 + 7 & 0xffff)) = (char)uVar5;
    uVar6 = FUN_000738fc(uVar10, &local_848, uVar4);
    if (uVar6 == uVar4) {
        usleep(200000);
        iVar1 = FUN_00073874(uVar10, &local_84c, 2);
        if (iVar1 == 2) {
            if (((byte)local_84c != 0x35) || (local_84c._1_1_ != 1)) {
                uVar9 = 0;
                snprintf(acStack_828, 0x800,
                         "%s failed 2! read_back_data[0] = 0x%02x, "
                         "read_back_data[1] = 0x%02x\n\n",
                         "_app_write_data_into_flash_1704_v8",
                         (uint)(byte)local_84c, (uint)local_84c._1_1_);
                FUN_00047ab4(0, acStack_828, 0);
            }
            goto LAB_0007239c;
        }
        __format = "%s read iic 2 err\n";
    } else {
        __format = "%s write iic 2 err\n";
    }
    snprintf(acStack_828, 0x800, __format,
             "_app_write_data_into_flash_1704_v8");
    uVar9 = 0;
    FUN_00047ab4(0, acStack_828);
LAB_0007239c:
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b147c);
    return uVar9;
}

size_t FUN_000724b8(uint param_1, int param_2, int param_3, void *param_4,
                    size_t param_5)

{
    byte *__ptr;
    int iVar1;
    size_t sVar2;
    uint uVar3;
    char *__format;
    uint uVar4;
    uint uVar5;
    uint uVar6;
    size_t sVar7;
    size_t __size;
    undefined4 uVar8;
    undefined4 local_834;
    undefined1 local_830;
    undefined1 local_82f;
    undefined1 local_82e;
    undefined1 local_82d;
    undefined1 local_82c;
    char acStack_828[2052];

    if (0xf < param_1) {
        snprintf(acStack_828, 0x800, "%s: Bad pic param, input chain is %d\n",
                 "app_read_data_from_flash", param_1);
        FUN_00047ab4(0, acStack_828);
        return 0x80000201;
    }
    if ((*(int *)(&DAT_00246414 + param_1 * 8) == 0) &&
        (sVar7 = FUN_0007104c(), (int)sVar7 < 0)) {
        snprintf(acStack_828, 0x800,
                 "%s: auto exec open_pic, but chain %d open eeprom failed\n",
                 "app_read_data_from_flash", param_1);
        FUN_00047ab4(0, acStack_828, 0);
        return sVar7;
    }
    __size = param_5 + 5;
    uVar8 = *(undefined4 *)(&DAT_00246410 + param_1 * 8);
    pthread_mutex_lock((pthread_mutex_t *)&DAT_001b147c);
    __ptr = (byte *)malloc(__size);
    sVar7 = param_5;
    if (0xf < (int)param_5) {
        sVar7 = 0x10;
    }
    local_834 = 0x3607aa55;
    uVar4 = sVar7 + 0x3d + param_3 + param_2 & 0xffff;
    local_830 = (undefined1)param_2;
    local_82f = (undefined1)param_3;
    local_82e = (undefined1)sVar7;
    local_82c = (undefined1)uVar4;
    local_82d = (undefined1)(uVar4 >> 8);
    iVar1 = FUN_000738fc(uVar8, &local_834, 9);
    if (iVar1 == 9) {
        usleep(200000);
        sVar2 = FUN_00073874(uVar8, __ptr, __size);
        if (__size == sVar2) {
            uVar4 = (uint)*__ptr;
            if (((__ptr[1] == 0x36) && (__ptr[2] == 1)) && (__size == uVar4)) {
                if ((int)(param_5 + 3) < 1) {
                    uVar5 = 0;
                    uVar3 = uVar5;
                } else {
                    uVar5 = 0;
                    uVar6 = 0;
                    uVar3 = uVar4;
                    while (true) {
                        uVar6 = uVar6 + 1 & 0xffff;
                        uVar5 = uVar5 + uVar3 & 0xffff;
                        if ((int)(param_5 + 3) <= (int)uVar6)
                            break;
                        uVar3 = (uint)__ptr[uVar6];
                    }
                    uVar3 = uVar5 >> 8;
                }
                if ((__ptr[param_5 + 3] == uVar3) &&
                    ((uint)__ptr[param_5 + 4] == (uVar5 & 0xff))) {
                    memcpy(param_4, __ptr + 3, sVar7);
                } else {
                    sVar7 = 0;
                    snprintf(acStack_828, 0x800, "%s failed 2!\n",
                             "_app_read_data_from_flash_1704_v8");
                    FUN_00047ab4(0, acStack_828, 0);
                    FUN_00071df8(__ptr, uVar4);
                }
            } else {
                snprintf(acStack_828, 0x800,
                         "%s failed !\n read_back_data[0] = 0x%x, "
                         "read_back_data[1] = 0x%x, read_back_data[2] = 0x%x\n",
                         "_app_read_data_from_flash_1704_v8", uVar4,
                         (uint)__ptr[1], (uint)__ptr[2]);
                sVar7 = 0;
                FUN_00047ab4(0, acStack_828);
                FUN_00071df8(__ptr, __size);
            }
            goto LAB_0007259c;
        }
        __format = "%s read iic 2 err\n";
    } else {
        __format = "%s write iic 2 err\n";
    }
    sVar7 = 0;
    snprintf(acStack_828, 0x800, __format, "_app_read_data_from_flash_1704_v8");
    FUN_00047ab4(0, acStack_828, 0);
LAB_0007259c:
    free(__ptr);
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b147c);
    return sVar7;
}

undefined4 FUN_00072de0(void)

{
    char local_808[2052];

    builtin_strncpy(local_808, "set DA conversion N failed\n", 0x1c);
    FUN_00047ab4(0, local_808);
    return 0x80000300;
}

int FUN_00072e2c(void)

{
    int iVar1;
    undefined4 local_18;
    undefined4 uStack_14;

    local_18 = 0;
    uStack_14 = 0x20001;
    pthread_mutex_lock((pthread_mutex_t *)&DAT_001b1494);
    iVar1 = FUN_00073660(&local_18);
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b1494);
    if (-1 < iVar1) {
        DAT_001b14b0 = 1;
        DAT_001b14ac = iVar1;
    }
    return iVar1;
}

undefined4 FUN_00072e84(undefined4 param_1, char *param_2, uint param_3,
                        char *param_4)

{
    byte *pbVar1;
    uint uVar2;
    char *pcVar3;
    uint uVar4;
    char *pcVar5;
    int iVar6;
    undefined4 uVar7;
    int iVar8;
    int local_848;
    undefined1 local_829;
    char local_828[24];
    undefined2 local_810;

    local_829 = 0x11;
    pthread_mutex_lock((pthread_mutex_t *)&DAT_001b1494);
    local_848 = 0;
    do {
        uVar4 = 0;
        do {
            pcVar3 = param_2 + uVar4;
            uVar4 = uVar4 + 1 & 0xff;
            FUN_00073a24(param_1, &local_829, 1, pcVar3, 1);
        } while (uVar4 < param_3);
        usleep(400000);
        pcVar3 = param_4;
        do {
            pcVar5 = pcVar3 + 1;
            FUN_00073984(param_1, &local_829, 1, pcVar3, 1);
            pcVar3 = pcVar5;
        } while (param_4 + 8 != pcVar5);
        usleep(100000);
        uVar4 = 0;
        pbVar1 = (byte *)(param_4 + 1);
        do {
            pbVar1 = pbVar1 + 1;
            uVar4 = uVar4 + *pbVar1 & 0xffff;
        } while (pbVar1 != (byte *)(param_4 + 5));
        uVar2 =
            (uint)(byte)param_4[6] + (uint)(byte)param_4[7] * 0x100 & 0xffff;
        if (uVar4 == uVar2) {
            if ((((*param_2 == *param_4) && (param_2[1] == param_4[1])) &&
                 (param_2[3] == param_4[3])) &&
                (param_4[2] == '\x06')) {
                uVar7 = 0;
                goto LAB_00073064;
            }
            builtin_strncpy(local_828, "power reply the bad data", 0x18);
            local_810 = 10;
            FUN_00047ab4(0, local_828);
        } else {
            snprintf(
                local_828, 0x800,
                "power reply the bad crc, crc = 0x%04x, crc_read = 0x%04x\n",
                uVar4, uVar2);
            FUN_00047ab4(0, local_828);
        }
        pbVar1 = (byte *)(param_4 + -1);
        iVar8 = 0;
        do {
            pbVar1 = pbVar1 + 1;
            iVar6 = iVar8 + 1;
            snprintf(local_828, 0x800, "read_back_data[%d] = 0x%02x", iVar8,
                     (uint)*pbVar1);
            FUN_00047ab4(0, local_828);
            iVar8 = iVar6;
        } while (iVar6 != 8);
        iVar8 = local_848 + 1;
        snprintf(local_828, 0x800, "Send power cmd(0x%02x) failed, retry %d\n",
                 (uint)(byte)param_2[3], local_848);
        FUN_00047ab4(0, local_828);
        local_848 = iVar8;
    } while (iVar8 != 3);
    uVar7 = 0x80000300;
LAB_00073064:
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b1494);
    return uVar7;
}

void FUN_00073100(undefined4 param_1, int param_2)

{
    int iVar1;
    undefined4 local_18;
    ushort local_14;
    char local_12;
    undefined1 local_11;
    undefined4 local_10;
    undefined4 local_c;

    local_12 = (byte)param_2 + 0x89;
    local_18 = 0x8306aa55;
    local_11 = (undefined1)((uint)(param_2 + 0x89) >> 8);
    local_10 = 0;
    local_14 = (ushort)(byte)param_2;
    local_c = 0;
    iVar1 = FUN_00072e84(param_1, &local_18, 8, &local_10);
    if (iVar1 != 0) {
        FUN_00072de0(iVar1);
    }
    return;
}

uint FUN_000731e4(void)

{
    undefined4 uVar1;
    char cVar2;
    uint uVar3;
    int iVar4;
    int iVar5;
    undefined4 local_830;
    undefined2 local_82c;
    uint local_828;
    uint local_824;
    char local_820[24];
    undefined2 local_808;

    if ((DAT_001b14b0 == 0) && (uVar3 = FUN_00072e2c(), (int)uVar3 < 0)) {
        snprintf(local_820, 0x800,
                 "%s: auto exec bitmain_power_open, but open power failed\n",
                 "bitmain_power_version");
        FUN_00047ab4(0, local_820, 0);
    } else {
        uVar1 = DAT_001b14ac;
        iVar5 = 10;
        do {
            local_830 = CONCAT31(local_830._1_3_, 0xff);
            local_828 = local_828 & 0xffffff00;
            pthread_mutex_lock((pthread_mutex_t *)&DAT_001b1494);
            iVar4 = FUN_00073984(uVar1, &local_828, 1, &local_830, 1);
            if (iVar4 == 1) {
                cVar2 = (char)local_830;
                pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b1494);
                if (cVar2 == -0xb)
                    break;
            } else {
                snprintf(local_820, 0x800, "%s: iic read is failed\n",
                         "_bitmain_get_power_code_version");
                FUN_00047ab4(0, local_820, 0);
                pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b1494);
            }
            usleep(100000);
            iVar5 = iVar5 + -1;
        } while (iVar5 != 0);
        local_830 = 0x204aa55;
        local_828 = 0;
        local_824 = 0;
        local_82c = 6;
        iVar5 = FUN_00072e84(uVar1, &local_830, 6, &local_828);
        if (iVar5 == 0) {
            uVar3 = local_824 & 0xffff;
        } else {
            uVar3 = 0x80000300;
            builtin_strncpy(local_820, "get power version failed", 0x18);
            local_808 = 10;
            FUN_00047ab4(0, local_820, 0);
        }
    }
    return uVar3;
}

undefined4 FUN_00073380(void)

{
    int iVar1;
    undefined4 uVar2;
    undefined4 local_820;
    undefined2 local_81c;
    undefined4 local_818;
    uint local_814;
    char local_810[20];
    undefined4 local_7fc;
    char acStack_7f8[2024];

    if ((DAT_001b14b0 == 0) && (iVar1 = FUN_00072e2c(), iVar1 < 0)) {
        snprintf(local_810, 0x800,
                 "%s: auto exec bitmain_power_open, but open power failed\n",
                 "bitmain_get_voltage");
        FUN_00047ab4(0, local_810, 0);
        uVar2 = SUB84((double)(longlong)iVar1, 0);
    } else {
        local_814 = 0;
        local_818 = 0;
        local_820 = 0x304aa55;
        local_81c = 7;
        iVar1 = FUN_00072e84(DAT_001b14ac, &local_820, 6, &local_818);
        if (iVar1 != 0) {
            builtin_strncpy(local_810, "get AD conversion N ", 0x14);
            local_7fc._0_1_ = 'f';
            local_7fc._1_1_ = 'a';
            local_7fc._2_1_ = 'i';
            local_7fc._3_1_ = 'l';
            builtin_strncpy(acStack_7f8, "ed\n", 4);
            FUN_00047ab4(0, local_810, 0);
            builtin_strncpy(local_810, "can nont get voltage", 0x14);
            local_7fc = CONCAT22(local_7fc._2_2_, 10);
            FUN_00047ab4(0, local_810, 0);
            return 0x40000000;
        }
        uVar2 =
            SUB84((765.411764 - (double)(longlong)(int)(local_814 & 0xffff)) /
                      35.833333,
                  0);
    }
    return uVar2;
}

int FUN_000734cc(void)

{
    int iVar1;
    double in_d0;
    uint uVar2;
    char acStack_818[2048];

    if ((DAT_001b14b0 == 0) && (iVar1 = FUN_00072e2c(), iVar1 < 0)) {
        snprintf(acStack_818, 0x800,
                 "%s: auto exec bitmain_power_open, but open power failed\n",
                 "bitmain_set_voltage");
        FUN_00047ab4(0, acStack_818, 0);
    } else {
        uVar2 = (uint)(longlong)(765.411764 - in_d0 * 35.833333);
        if (uVar2 < 0x100) {
            iVar1 = FUN_00073100(DAT_001b14ac, uVar2 & 0xff);
        } else {
            iVar1 = -0x7ffffcff;
        }
    }
    return iVar1;
}

int FUN_00073584(undefined4 param_1)

{
    int iVar1;
    char acStack_818[2052];

    if ((DAT_001b14b0 == 0) && (iVar1 = FUN_00072e2c(), iVar1 < 0)) {
        snprintf(acStack_818, 0x800,
                 "%s: auto exec bitmain_power_open, but open power failed\n",
                 "bitmain_set_voltage_by_n");
        FUN_00047ab4(0, acStack_818, 0);
    } else {
        iVar1 = FUN_00073100(DAT_001b14ac, param_1);
    }
    return iVar1;
}

undefined4 FUN_00073604(void)

{
    double in_d0;

    return (int)(longlong)(765.411764 - in_d0 * 35.833333);
}

int FUN_00073660(int param_1)

{
    int iVar1;
    int iVar2;
    char local_818[8];
    undefined4 uStack_810;
    char acStack_80c[8];
    ushort local_804;

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001b14b4);
    if (iVar1 != 0) {
        builtin_strncpy(local_818, "failed t", 8);
        uStack_810._0_1_ = 'o';
        uStack_810._1_1_ = ' ';
        uStack_810._2_1_ = 'i';
        uStack_810._3_1_ = 'i';
        builtin_strncpy(acStack_80c, "c lock\n", 8);
        FUN_00047ab4(0, local_818);
        return -4;
    }
    if (param_1 == 0) {
        iVar1 = -3;
        builtin_strncpy(local_818, "bad para", 8);
        uStack_810._0_3_ = 0xa6d;
        FUN_00047ab4(0, local_818, 0);
    } else {
        iVar1 = FUN_00073b94();
        if (iVar1 < 0) {
            iVar1 = -1;
            builtin_strncpy(local_818, "failed t", 8);
            uStack_810._0_1_ = 'o';
            uStack_810._1_1_ = ' ';
            uStack_810._2_1_ = 'i';
            uStack_810._3_1_ = '2';
            builtin_strncpy(acStack_80c, "c_init\n", 8);
            FUN_00047ab4(0, local_818, 0);
        } else {
            iVar2 = FUN_0007467c(iVar1, *(undefined2 *)(param_1 + 4));
            if (iVar2 == 0) {
                iVar2 = FUN_00074568(iVar1, 0x703,
                                     (uint) * (byte *)(param_1 + 7) << 1 |
                                         (uint) * (byte *)(param_1 + 6) << 4);
                if (iVar2 == 0)
                    goto LAB_000736f0;
                builtin_strncpy(local_818, "failed t", 8);
                uStack_810._0_1_ = 'o';
                uStack_810._1_1_ = ' ';
                uStack_810._2_1_ = 'i';
                uStack_810._3_1_ = '2';
                builtin_strncpy(acStack_80c, "c_ioctl\n", 8);
                local_804 = local_804 & 0xff00;
                FUN_00047ab4(0, local_818, 0);
            } else {
                builtin_strncpy(local_818, "failed t", 8);
                uStack_810._0_1_ = 'o';
                uStack_810._1_1_ = ' ';
                uStack_810._2_1_ = 'i';
                uStack_810._3_1_ = '2';
                builtin_strncpy(acStack_80c, "c_select", 8);
                local_804 = 10;
                FUN_00047ab4(0, local_818, 0);
            }
            if (iVar1 == 0) {
                iVar1 = -1;
            } else {
                FUN_00073c78(iVar1);
                iVar1 = -1;
            }
        }
    }
LAB_000736f0:
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b14b4);
    return iVar1;
}

void FUN_00073804(undefined4 param_1)

{
    int iVar1;
    char local_808[2048];

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001b14b4);
    if (iVar1 == 0) {
        FUN_00073c78(param_1);
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b14b4);
        return;
    }
    builtin_strncpy(local_808, "failed to i2c lock\n", 0x14);
    FUN_00047ab4(0, local_808);
    return;
}

undefined4 FUN_00073874(undefined4 param_1, undefined4 param_2,
                        undefined4 param_3)

{
    int iVar1;
    undefined4 uVar2;
    char local_810[2048];

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001b14b4);
    if (iVar1 == 0) {
        uVar2 = FUN_00073da0(param_1, param_2, param_3);
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b14b4);
    } else {
        uVar2 = 0xfffffffc;
        builtin_strncpy(local_810, "failed to i2c lock\n", 0x14);
        FUN_00047ab4(0, local_810);
    }
    return uVar2;
}

undefined4 FUN_000738fc(undefined4 param_1, undefined4 param_2,
                        undefined4 param_3)

{
    int iVar1;
    undefined4 uVar2;
    char local_810[2048];

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001b14b4);
    if (iVar1 == 0) {
        uVar2 = FUN_00073f8c(param_1, param_2, param_3);
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b14b4);
    } else {
        uVar2 = 0xfffffffc;
        builtin_strncpy(local_810, "failed to i2c lock\n", 0x14);
        FUN_00047ab4(0, local_810);
    }
    return uVar2;
}

undefined4 FUN_00073984(undefined4 param_1, undefined4 param_2,
                        undefined4 param_3, undefined4 param_4,
                        undefined4 param_5)

{
    int iVar1;
    undefined4 uVar2;
    char local_818[2052];

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001b14b4);
    if (iVar1 == 0) {
        uVar2 = FUN_0007411c(param_1, param_2, param_3, param_4, param_5);
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b14b4);
    } else {
        uVar2 = 0xfffffffc;
        builtin_strncpy(local_818, "failed to i2c lock\n", 0x14);
        FUN_00047ab4(0, local_818);
    }
    return uVar2;
}

undefined4 FUN_00073a24(undefined4 param_1, undefined4 param_2,
                        undefined4 param_3, undefined4 param_4,
                        undefined4 param_5)

{
    int iVar1;
    undefined4 uVar2;
    char local_818[2052];

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001b14b4);
    if (iVar1 == 0) {
        uVar2 = FUN_0007436c(param_1, param_2, param_3, param_4, param_5);
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b14b4);
    } else {
        uVar2 = 0xfffffffc;
        builtin_strncpy(local_818, "failed to i2c lock\n", 0x14);
        FUN_00047ab4(0, local_818);
    }
    return uVar2;
}

int FUN_00073ad4(void)

{
    int iVar1;
    int local_14[2];

    iVar1 = 0x259;
    local_14[0] = 0;
    do {
        FUN_0006688c(0xc, local_14);
        if (-(local_14[0] >> 0x1f) != 0) {
            return -(local_14[0] >> 0x1f);
        }
        usleep(5000);
        iVar1 = iVar1 + -1;
    } while (iVar1 != 0);
    return 0;
}

int FUN_00073b30(undefined1 *param_1)

{
    int iVar1;
    int local_14;

    iVar1 = 0x259;
    local_14 = 0;
    do {
        FUN_0006688c(0xc, &local_14);
        if (-(local_14 >> 0x1f) != 0) {
            *param_1 = (char)local_14;
            return -(local_14 >> 0x1f);
        }
        usleep(5000);
        iVar1 = iVar1 + -1;
    } while (iVar1 != 0);
    return 0;
}

int FUN_00073b94(void)

{
    undefined4 uVar1;
    int local_814;
    char local_810[28];
    undefined2 local_7f4;

    local_814 = -1;
    if (DAT_001b0e60 == 0) {
        builtin_strncpy(local_810, "please init platform first!!", 0x1c);
        local_7f4 = 10;
        FUN_00047ab4(0, local_810, 0);
        local_814 = -2;
    } else {
        uVar1 = DAT_001b14d0;
        if (DAT_001b14cc == 0) {
            uVar1 = FUN_00069ed4(&LAB_00073ac4, 0, 0);
            DAT_001b14d0 = uVar1;
            pthread_mutex_init((pthread_mutex_t *)&DAT_001b14d4,
                               (pthread_mutexattr_t *)0x0);
        }
        DAT_001b14cc = DAT_001b14cc + 1;
        local_810[0] = '\0';
        local_810[1] = '\0';
        local_810[2] = '\0';
        local_810[3] = '\0';
        local_810[4] = '\0';
        local_810[5] = '\0';
        local_810[6] = '\0';
        local_810[7] = '\0';
        local_814 = DAT_001b14cc;
        FUN_00069f24(uVar1, &local_814, 4, local_810, 8);
    }
    return local_814;
}

void FUN_00073c78(undefined4 param_1)

{
    int iVar1;
    undefined4 *__ptr;
    undefined4 local_814;
    char local_810[2048];

    local_814 = param_1;
    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001b14d4);
    if (iVar1 != 0) {
        builtin_strncpy(local_810, "failed to i2c lock\n", 0x14);
        FUN_00047ab4(0, local_810);
        return;
    }
    iVar1 = FUN_00069f3c(DAT_001b14d0, &local_814);
    if (iVar1 == 1) {
        FUN_00069f5c(DAT_001b14d0, &local_814);
    } else {
        snprintf(local_810, 0x800, "ctx(%d) is not inited\n", local_814);
        FUN_00047ab4(1, local_810, 0);
    }
    __ptr = (undefined4 *)FUN_0006a044(DAT_001b14d0);
    iVar1 = (*(code *)*__ptr)();
    if (iVar1 != 0) {
        do {
            iVar1 = (*(code *)*__ptr)(__ptr);
        } while (iVar1 != 0);
        free(__ptr);
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b14d4);
        return;
    }
    free(__ptr);
    pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b14d4);
    DAT_001b14cc = iVar1;
    FUN_0006a018(DAT_001b14d0);
    DAT_001b14d0 = iVar1;
    return;
}

int FUN_00073da0(undefined4 param_1, int param_2, int param_3)

{
    int iVar1;
    int iVar2;
    int iVar3;
    uint uVar4;
    undefined4 local_824[2];
    int *local_81c;
    char local_818[20];
    undefined2 uStack_804;
    undefined1 local_802;

    local_824[0] = param_1;
    local_81c = (int *)pthread_mutex_lock((pthread_mutex_t *)&DAT_001b14d4);
    if (local_81c == (int *)0x0) {
        iVar1 = FUN_00069fd4(DAT_001b14d0, local_824, &local_81c);
        if (iVar1 == 1) {
            iVar1 = *local_81c;
            uVar4 = local_81c[1];
            if (param_3 != 0) {
                iVar2 = param_2;
                do {
                    iVar3 = FUN_00073ad4();
                    if (iVar3 == 0) {
                        free(local_81c);
                        builtin_strncpy(local_818, "iic not ready 4 read",
                                        0x14);
                        uStack_804 = 0xa31;
                        local_802 = 0;
                        FUN_00047ab4(0, local_818, 0);
                        pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b14d4);
                        return -2;
                    }
                    FUN_00066908(0xc, iVar1 << 0x1a | 0x2000000U |
                                          (uVar4 >> 4) << 0x14 |
                                          (uVar4 & 0xe) << 0xf);
                    iVar3 = iVar2 + 1;
                    iVar2 = FUN_00073b30(iVar2);
                    if (iVar2 == 0) {
                        free(local_81c);
                        builtin_strncpy(local_818, "iic not ready 4 read",
                                        0x14);
                        uStack_804 = 0xa32;
                        local_802 = 0;
                        FUN_00047ab4(0, local_818, 0);
                        pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b14d4);
                        return -3;
                    }
                    iVar2 = iVar3;
                } while (iVar3 != param_2 + param_3);
            }
            free(local_81c);
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b14d4);
            return param_3;
        }
        snprintf(local_818, 0x800, "ctx %d not inited\n", local_824[0]);
        FUN_00047ab4(0, local_818, 0);
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b14d4);
        iVar1 = -2;
    } else {
        builtin_strncpy(local_818, "failed to i2c lock\n", 0x14);
        FUN_00047ab4(0, local_818);
        iVar1 = -1;
    }
    return iVar1;
}

int FUN_00073f8c(undefined4 param_1, int param_2, int param_3)

{
    byte bVar1;
    int *piVar2;
    int iVar3;
    int iVar4;
    uint uVar5;
    byte *pbVar6;
    undefined4 local_824[2];
    int *local_81c;
    char local_818[20];
    undefined2 uStack_804;
    undefined1 local_802;

    local_824[0] = param_1;
    local_81c = (int *)pthread_mutex_lock((pthread_mutex_t *)&DAT_001b14d4);
    if (local_81c == (int *)0x0) {
        iVar3 = FUN_00069fd4(DAT_001b14d0, local_824, &local_81c);
        piVar2 = local_81c;
        if (iVar3 == 1) {
            if (param_3 != 0) {
                pbVar6 = (byte *)(param_2 + -1);
                do {
                    uVar5 = piVar2[1];
                    pbVar6 = pbVar6 + 1;
                    bVar1 = *pbVar6;
                    iVar4 = *piVar2;
                    iVar3 = FUN_00073ad4();
                    if (iVar3 == 0) {
                        free(local_81c);
                        builtin_strncpy(local_818, "iic not ready 4 writ",
                                        0x14);
                        uStack_804 = 0xa65;
                        local_802 = 0;
                        FUN_00047ab4(0, local_818, 0);
                        pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b14d4);
                        return -2;
                    }
                    FUN_00066908(0xc, (uint)bVar1 | (uVar5 >> 4) << 0x14 |
                                          iVar4 << 0x1a | (uVar5 & 0xe) << 0xf);
                } while ((byte *)(param_2 + param_3 + -1) != pbVar6);
            }
            free(local_81c);
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b14d4);
            return param_3;
        }
        snprintf(local_818, 0x800, "ctx %d not inited\n", local_824[0]);
        FUN_00047ab4(0, local_818, 0);
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b14d4);
        iVar3 = -2;
    } else {
        builtin_strncpy(local_818, "failed to i2c lock\n", 0x14);
        FUN_00047ab4(0, local_818);
        iVar3 = -1;
    }
    return iVar3;
}

int FUN_0007411c(undefined4 param_1, byte *param_2, int param_3, int param_4,
                 int param_5)

{
    byte bVar1;
    int *piVar2;
    int iVar3;
    int iVar4;
    uint uVar5;
    int iVar6;
    undefined4 local_82c[2];
    int *local_824;
    char local_820[20];
    undefined4 uStack_80c;
    uint local_808;
    char acStack_804[2024];

    local_82c[0] = param_1;
    if (param_3 == 1) {
        local_824 = (int *)pthread_mutex_lock((pthread_mutex_t *)&DAT_001b14d4);
        if (local_824 == (int *)0x0) {
            iVar3 = FUN_00069fd4(DAT_001b14d0, local_82c, &local_824);
            piVar2 = local_824;
            if (iVar3 == 1) {
                iVar3 = 0;
                if (param_5 != 0) {
                    do {
                        iVar6 = *piVar2;
                        uVar5 = piVar2[1];
                        bVar1 = *param_2;
                        iVar4 = FUN_00073ad4();
                        if (iVar4 == 0) {
                            builtin_strncpy(local_820, "iic not ready 4 read",
                                            0x14);
                            uStack_80c = CONCAT13(uStack_80c._3_1_, 0xa31);
                            FUN_00047ab4(0, local_820, 0);
                            free(local_824);
                            pthread_mutex_unlock(
                                (pthread_mutex_t *)&DAT_001b14d4);
                            return -2;
                        }
                        FUN_00066908(0xc, iVar6 << 0x1a | 0x3000000U |
                                              (uVar5 >> 4) << 0x14 |
                                              (uVar5 & 0xe) << 0xf |
                                              ((uint)bVar1 + iVar3) * 0x100);
                        iVar4 = param_4 + iVar3;
                        iVar3 = iVar3 + 1;
                        iVar4 = FUN_00073b30(iVar4);
                        if (iVar4 == 0) {
                            builtin_strncpy(local_820, "iic failed to read d",
                                            0x14);
                            uStack_80c._0_1_ = 'a';
                            uStack_80c._1_1_ = 't';
                            uStack_80c._2_1_ = 'a';
                            uStack_80c._3_1_ = '\n';
                            local_808 = local_808 & 0xffffff00;
                            FUN_00047ab4(0, local_820, 0);
                            free(local_824);
                            pthread_mutex_unlock(
                                (pthread_mutex_t *)&DAT_001b14d4);
                            return -3;
                        }
                    } while (param_5 != iVar3);
                }
                free(local_824);
                pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b14d4);
                return param_5;
            }
            snprintf(local_820, 0x800, "ctx %d not inited\n", local_82c[0]);
            FUN_00047ab4(0, local_820, 0);
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b14d4);
            iVar3 = -2;
        } else {
            builtin_strncpy(local_820, "failed to i2c lock\n", 0x14);
            FUN_00047ab4(0, local_820);
            iVar3 = -1;
        }
    } else {
        builtin_strncpy(local_820, "more than one byte r", 0x14);
        uStack_80c._0_1_ = 'e';
        uStack_80c._1_1_ = 'g';
        uStack_80c._2_1_ = ' ';
        uStack_80c._3_1_ = 'a';
        local_808._0_1_ = 'd';
        local_808._1_1_ = 'd';
        local_808._2_1_ = 'r';
        local_808._3_1_ = 'e';
        builtin_strncpy(acStack_804, "ss is not supported\n", 0x14);
        acStack_804[0x14] = 0;
        FUN_00047ab4(0, local_820);
        iVar3 = -3;
    }
    return iVar3;
}

int FUN_0007436c(undefined4 param_1, byte *param_2, int param_3, int param_4,
                 int param_5)

{
    byte bVar1;
    int *piVar2;
    int iVar3;
    int iVar4;
    int iVar5;
    uint uVar6;
    int iVar7;
    byte *pbVar8;
    undefined4 local_82c[2];
    int *local_824;
    char local_820[20];
    undefined4 uStack_80c;
    char acStack_808[2028];

    local_82c[0] = param_1;
    if (param_3 == 1) {
        local_824 = (int *)pthread_mutex_lock((pthread_mutex_t *)&DAT_001b14d4);
        if (local_824 == (int *)0x0) {
            iVar3 = FUN_00069fd4(DAT_001b14d0, local_82c, &local_824);
            piVar2 = local_824;
            if (iVar3 == 1) {
                if (param_5 != 0) {
                    pbVar8 = (byte *)(param_4 + -1);
                    iVar3 = 0;
                    do {
                        iVar7 = *piVar2;
                        uVar6 = piVar2[1];
                        pbVar8 = pbVar8 + 1;
                        bVar1 = *pbVar8;
                        iVar5 = (uint)*param_2 + iVar3;
                        iVar3 = iVar3 + 1;
                        iVar4 = FUN_00073ad4();
                        if (iVar4 == 0) {
                            builtin_strncpy(local_820, "iic not ready 4 writ",
                                            0x14);
                            uStack_80c = CONCAT13(uStack_80c._3_1_, 0xa65);
                            FUN_00047ab4(0, local_820, 0);
                            free(local_824);
                            pthread_mutex_unlock(
                                (pthread_mutex_t *)&DAT_001b14d4);
                            return -2;
                        }
                        FUN_00066908(0xc,
                                     iVar7 << 0x1a | 0x1000000U |
                                         (uVar6 >> 4) << 0x14 | (uint)bVar1 |
                                         (uVar6 & 0xe) << 0xf | iVar5 * 0x100);
                    } while (param_5 != iVar3);
                }
                free(local_824);
                pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b14d4);
                return param_5;
            }
            snprintf(local_820, 0x800, "ctx %d not inited\n", local_82c[0]);
            FUN_00047ab4(0, local_820, 0);
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b14d4);
            iVar3 = -2;
        } else {
            builtin_strncpy(local_820, "failed to i2c lock\n", 0x14);
            FUN_00047ab4(0, local_820);
            iVar3 = -1;
        }
    } else {
        builtin_strncpy(local_820, "more than one byte r", 0x14);
        uStack_80c._0_1_ = 'e';
        uStack_80c._1_1_ = 'g';
        uStack_80c._2_1_ = ' ';
        uStack_80c._3_1_ = 'a';
        builtin_strncpy(acStack_808, "ddress is not supported\n", 0x18);
        acStack_808[0x18] = 0;
        FUN_00047ab4(0, local_820);
        iVar3 = -3;
    }
    return iVar3;
}

undefined4 FUN_00074568(int param_1, int param_2, undefined4 param_3)

{
    int iVar1;
    undefined4 *__ptr;
    undefined4 *__ptr_00;
    undefined4 uVar2;
    undefined4 local_818;
    undefined4 local_814;
    char acStack_810[2044];

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001b14d4);
    if (iVar1 == 0) {
        __ptr = (undefined4 *)FUN_0006a044(DAT_001b14d0);
        iVar1 = (*(code *)*__ptr)();
        while (iVar1 != 0) {
            if (*(int *)**(undefined4 **)(__ptr[5] + 0x10) == param_1) {
                __ptr_00 = (undefined4 *)(*(code *)__ptr[2])();
                if (param_2 == 0x703) {
                    local_818 = *__ptr_00;
                    local_814 = param_3;
                    (*(code *)__ptr[1])(__ptr, &local_818, 8);
                    free(__ptr_00);
                }
                break;
            }
            iVar1 = (*(code *)*__ptr)(__ptr);
        }
        free(__ptr);
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b14d4);
        uVar2 = 0;
    } else {
        local_818._0_1_ = 'f';
        local_818._1_1_ = 'a';
        local_818._2_1_ = 'i';
        local_818._3_1_ = 'l';
        local_814._0_1_ = 'e';
        local_814._1_1_ = 'd';
        local_814._2_1_ = ' ';
        local_814._3_1_ = 't';
        builtin_strncpy(acStack_810, "o i2c lock\n", 0xc);
        FUN_00047ab4(0, &local_818);
        uVar2 = 0xfffffffc;
    }
    return uVar2;
}

undefined4 FUN_0007467c(int param_1, undefined4 param_2)

{
    int iVar1;
    undefined4 *__ptr;
    void *__ptr_00;
    undefined4 uVar2;
    undefined4 local_810;
    undefined4 local_80c;
    char acStack_808[2040];

    iVar1 = pthread_mutex_lock((pthread_mutex_t *)&DAT_001b14d4);
    if (iVar1 == 0) {
        __ptr = (undefined4 *)FUN_0006a044(DAT_001b14d0);
        iVar1 = (*(code *)*__ptr)();
        while (iVar1 != 0) {
            if (*(int *)**(undefined4 **)(__ptr[5] + 0x10) == param_1) {
                __ptr_00 = (void *)(*(code *)__ptr[2])();
                local_80c = *(undefined4 *)((int)__ptr_00 + 4);
                local_810 = param_2;
                (*(code *)__ptr[1])(__ptr, &local_810, 8);
                free(__ptr_00);
                break;
            }
            iVar1 = (*(code *)*__ptr)(__ptr);
        }
        free(__ptr);
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b14d4);
        uVar2 = 0;
    } else {
        local_810._0_1_ = 'f';
        local_810._1_1_ = 'a';
        local_810._2_1_ = 'i';
        local_810._3_1_ = 'l';
        local_80c._0_1_ = 'e';
        local_80c._1_1_ = 'd';
        local_80c._2_1_ = ' ';
        local_80c._3_1_ = 't';
        builtin_strncpy(acStack_808, "o i2c lock\n", 0xc);
        FUN_00047ab4(0, &local_810);
        uVar2 = 0xfffffffc;
    }
    return uVar2;
}

void FUN_000747d0(undefined4 *param_1, char *param_2)

{
    char *pcVar1;
    size_t sVar2;

    if (param_1 == (undefined4 *)0x0) {
        return;
    }
    *(undefined1 *)(param_1 + 0x17) = 0;
    param_1[2] = 0;
    *param_1 = 0xffffffff;
    param_1[1] = 0xffffffff;
    if (param_2 == (char *)0x0) {
        *(undefined1 *)(param_1 + 3) = 0;
        return;
    }
    sVar2 = strlen(param_2);
    if (0x4f < sVar2) {
        pcVar1 = (char *)(param_1 + 3);
        pcVar1[0] = '.';
        pcVar1[1] = '.';
        pcVar1[2] = '.';
        pcVar1[3] = '\0';
        strcpy((char *)((int)param_1 + 0xf), param_2 + (sVar2 - 0x4c));
        return;
    }
    memcpy(param_1 + 3, param_2, sVar2 + 1);
    return;
}

void FUN_00074820(undefined4 *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4, char *param_5)

{
    if ((param_1 != (undefined4 *)0x0) && (*(char *)(param_1 + 0x17) == '\0')) {
        *param_1 = param_2;
        param_1[1] = param_3;
        param_1[2] = param_4;
        vsnprintf((char *)(param_1 + 0x17), 0xa0, param_5, &stack0x00000004);
        *(undefined1 *)((int)param_1 + 0xfb) = 0;
        return;
    }
    return;
}

void FUN_0007487c(undefined4 *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4, char *param_5, __gnuc_va_list param_6)

{
    if (param_1 == (undefined4 *)0x0) {
        return;
    }
    if (*(char *)(param_1 + 0x17) != '\0') {
        return;
    }
    *param_1 = param_2;
    param_1[1] = param_3;
    param_1[2] = param_4;
    vsnprintf((char *)(param_1 + 0x17), 0xa0, param_5, param_6);
    *(undefined1 *)((int)param_1 + 0xfb) = 0;
    return;
}

undefined4 FUN_000748c4(undefined4 param_1, int param_2, undefined4 param_3,
                        undefined4 param_4, undefined4 param_5)

{
    int iVar1;
    undefined4 uVar2;
    undefined1 auStack_2c[12];

    iVar1 = FUN_00076008(param_2, param_3, param_4, param_5, auStack_2c);
    if (iVar1 == 0) {
        FUN_000761b0(param_1, auStack_2c, 9);
        if (param_2 == 1) {
            param_3 = 0;
        }
        FUN_00075ed0(param_2 != 1, param_1, param_3, param_4, param_5);
        uVar2 = 0;
    } else {
        uVar2 = 0xffffffff;
    }
    return uVar2;
}

undefined4 FUN_00074950(void)

{
    undefined4 uVar1;
    uint in_r3;

    if (in_r3 < 4) {
        uVar1 = FUN_000748c4();
        return uVar1;
    }
    return 0xffffffff;
}

void FUN_000749a0(void)

{
    FUN_000748c4();
    return;
}

undefined4 FUN_000749ec(undefined4 param_1)

{
    int iVar1;
    undefined4 uVar2;
    undefined1 auStack_10[8];

    iVar1 = FUN_00076164(auStack_10);
    if (iVar1 == 0) {
        uVar2 = FUN_000761b0(param_1, auStack_10, 5);
    } else {
        uVar2 = 0xffffffff;
    }
    return uVar2;
}

undefined4 FUN_00074a28(undefined4 param_1, undefined4 param_2)

{
    int iVar1;
    undefined4 uVar2;
    undefined1 auStack_10[8];

    iVar1 = FUN_000760a0(param_2, auStack_10);
    if (iVar1 == 0) {
        uVar2 = FUN_000761b0(param_1, auStack_10, 5);
    } else {
        uVar2 = 0xffffffff;
    }
    return uVar2;
}

undefined4 FUN_00074a6c(undefined4 param_1, undefined4 param_2,
                        undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    undefined4 uVar2;
    undefined1 auStack_10[8];

    iVar1 = FUN_000760f4(param_2, param_3, param_4, auStack_10);
    if (iVar1 == 0) {
        uVar2 = FUN_000761b0(param_1, auStack_10, 5);
    } else {
        uVar2 = 0xffffffff;
    }
    return uVar2;
}

undefined4 FUN_00074acc(undefined4 param_1, char param_2)

{
    int iVar1;
    uint uVar2;
    char cVar3;

    uVar2 = 0;
    iVar1 = FUN_000772e8(0x100);
    cVar3 = '\0';
    do {
        uVar2 = uVar2 + 1 & 0xffff;
        FUN_00074a28(param_1, cVar3);
        cVar3 = param_2 + cVar3;
    } while ((int)uVar2 < iVar1);
    return 0;
}

undefined4 FUN_00074b18(undefined4 param_1, uint param_2)

{
    uint uVar1;
    char cVar2;
    undefined4 local_24;
    undefined4 local_20;
    undefined4 local_1c;

    if (param_2 < 0x2dc6c1) {
        cVar2 = FUN_00077070(25000000, param_2 << 3);
        FUN_00075d9c(0, param_1, 0, 0x68, &local_20);
        FUN_00075d9c(0, param_1, 0, 0x28, &local_1c);
        FUN_00075d9c(0, param_1, 0, 0x18, &local_24);
        local_24._0_2_ = CONCAT11(local_24._1_1_ & 0xe0 | cVar2 - 1U & 0x1f,
                                  (undefined1)local_24);
        local_24 = CONCAT13(local_24._3_1_ & 0xf0 | (byte)(cVar2 - 1U) >> 5,
                            CONCAT12(local_24._2_1_, (undefined2)local_24)) &
                   0xfffeffff;
    } else {
        cVar2 = FUN_00077070(400000000, param_2 << 3);
        FUN_00075d9c(0, param_1, 0, 0x68, &local_20);
        FUN_00075d9c(0, param_1, 0, 0x28, &local_1c);
        uVar1 = local_20;
        local_20 = (uint)(local_20._3_1_ & 0xdf | 0x40) << 0x18;
        local_20 =
            CONCAT22(local_20._2_2_, (short)uVar1) & 0xf000c088 | 0x700111;
        FUN_000748c4(param_1, 1, 0, 0x68, local_20);
        FUN_000748c4(param_1, 1, 0, 0x68, local_20);
        local_1c = CONCAT22((short)(CONCAT13(local_1c._3_1_, 0xf) >> 0x10),
                            CONCAT11(local_1c._1_1_, 0xf)) &
                       0x30000fff |
                   0x6000000;
        FUN_000748c4(param_1, 1, 0, 0x28, local_1c);
        FUN_00075d9c(0, param_1, 0, 0x18, &local_24);
        local_24._0_2_ = CONCAT11(local_24._1_1_ & 0xe0 | cVar2 - 1U & 0x1f,
                                  (undefined1)local_24);
        local_24 = CONCAT13(local_24._3_1_ & 0xf0 | (byte)(cVar2 - 1U) >> 5,
                            CONCAT12(local_24._2_1_, (undefined2)local_24)) |
                   0x10000;
    }
    FUN_000748c4(param_1, 1, 0, 0x18, local_24);
    FUN_00070ce4(param_1, param_2);
    return 0;
}

void FUN_00074d64(undefined4 param_1, uint param_2)

{
    FUN_000748c4(
        param_1, 1, 0, 0x14,
        CONCAT13((&DAT_0008b814)[param_2 >> 0x18],
                 CONCAT12((&DAT_0008b814)[(param_2 << 8) >> 0x18],
                          CONCAT11((&DAT_0008b814)[(param_2 << 0x10) >> 0x18],
                                   (&DAT_0008b814)[param_2 & 0xff]))));
    return;
}

void FUN_00074dd0(undefined4 param_1, int param_2, uint param_3)

{
    uint uVar1;

    if (param_2 == 0) {
        uVar1 = 0;
    } else {
        uVar1 = 0x80000000;
    }
    FUN_000748c4(param_1, 1, 0, 0xc, uVar1 | param_3 & 0xffff);
    return;
}

undefined4 FUN_00074e08(float param_1, undefined1 *param_2, undefined1 *param_3,
                        float *param_4)

{
    undefined1 uVar1;
    int iVar2;
    undefined4 uVar3;
    uint uVar4;
    int iVar5;
    uint uVar6;
    int iVar7;
    int iVar8;
    uint uVar9;
    uint uVar10;
    int iVar11;
    int iVar12;
    uint uVar13;
    float fVar14;
    int iVar15;
    float fVar16;

    iVar12 = 2;
    iVar7 = 0;
    iVar8 = 0;
    uVar9 = 0;
    iVar5 = 2;
    uVar10 = 0;
    iVar11 = 0;
    fVar14 = 10.0;
    while (true) {
        uVar4 = 1;
        do {
            iVar2 = uVar4 * uVar4;
            uVar6 = uVar4;
            uVar13 = uVar4 & 0xff;
            do {
                iVar15 = (int)(longlong)(((float)(longlong)(int)uVar6 *
                                          (float)(longlong)(int)uVar4 *
                                          param_1 * (float)(longlong)iVar5) /
                                             25.0 +
                                         0.5);
                if (((iVar15 - 0x10U < 0xeb) &&
                     (((fVar16 = (float)(longlong)iVar15 *
                                 (25.0 / (float)(longlong)iVar5),
                        iVar5 != 1 || (fVar16 <= 3125.0)) &&
                       (fVar16 <= 3200.0)))) &&
                    ((2000.0 <= fVar16 &&
                      (fVar16 = ABS(param_1 - fVar16 / (float)(longlong)iVar2),
                       fVar16 < fVar14)))) {
                    iVar8 = 1;
                    iVar7 = iVar15;
                    uVar9 = uVar4 & 0xff;
                    uVar10 = uVar13;
                    iVar11 = iVar5;
                    fVar14 = fVar16;
                }
                uVar6 = uVar6 + 1;
                iVar2 = iVar2 + uVar4;
                uVar13 = uVar6 & 0xff;
            } while (uVar13 != 8);
            uVar4 = uVar4 + 1;
        } while (uVar4 != 8);
        iVar5 = 1;
        if (iVar12 == 1)
            break;
        iVar12 = 1;
    }
    if (iVar7 == 0) {
        puts("find div fail, use default value");
        uVar3 = 0xffffffff;
    } else {
        if (param_4 != (float *)0x0) {
            *param_4 =
                ((25.0 / (float)(longlong)iVar11) * (float)(longlong)iVar7) /
                (float)(longlong)(iVar8 * (int)(short)uVar10 *
                                  (int)(short)uVar9);
        }
        printf("final refdiv: %d, fbdiv: %d, postdiv1: %d, postdiv2: %d, usr "
               "divider: %d, min diff value: %f\n",
               iVar11, iVar7, uVar10, uVar9, iVar8, (double)fVar14);
        printf("Want freq: %f, Real freq: %f\n");
        uVar3 = 0;
        *param_2 = (char)uVar10;
        param_2[1] = (char)uVar9;
        param_2[2] = (char)iVar11;
        *(short *)(param_2 + 4) = (short)iVar7;
        uVar1 = (undefined1)iVar8;
        *param_3 = uVar1;
        param_3[1] = uVar1;
        param_3[2] = uVar1;
        param_3[3] = uVar1;
    }
    return uVar3;
}

void FUN_00075030(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4, uint param_5)

{
    undefined1 auStack_24[4];
    undefined1 local_20;
    undefined1 local_1f;
    undefined1 local_1e;
    undefined2 local_1c;

    FUN_00074e08((float)param_5, &local_20, auStack_24, 0);
    FUN_00074950(param_1, param_2, param_3, param_4, local_20, local_1f,
                 local_1e, local_1c);
    return;
}

void FUN_00075094(undefined4 param_1, undefined4 param_2, uint param_3,
                  undefined2 param_4)

{
    FUN_00074950(param_1, 1, 0, param_2, param_3 & 0xff, param_3 >> 8 & 0xff,
                 param_3 >> 0x10 & 0xff, param_4);
    return;
}

void FUN_000750d8(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  uint param_4, undefined2 param_5)

{
    FUN_00074950(param_1, 0, param_2, param_3, param_4 & 0xff,
                 (param_4 << 0x10) >> 0x18, (param_4 << 8) >> 0x18, param_5);
    return;
}

void FUN_0007524c(undefined4 param_1, undefined1 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_00075030(param_1, 0, param_2, param_3, param_4);
    return;
}

void FUN_00075294(undefined4 param_1, undefined4 param_2, uint param_3)

{
    FUN_000748c4(param_1, 0, param_2, 0x54, param_3 & 7);
    return;
}

void FUN_000752c0(undefined4 param_1, uint param_2)

{
    FUN_000748c4(param_1, 1, 0, 0x54, param_2 & 7);
    return;
}

void FUN_000752fc(undefined4 param_1)

{
    uint uVar1;
    undefined1 uVar2;
    undefined4 local_c;

    FUN_00075d9c(0, param_1, 0, 0x6c, &local_c);
    uVar2 = local_c._3_1_;
    uVar1 = local_c & 0xfffffff8;
    local_c._2_2_ = (undefined2)(uVar1 >> 0x10);
    local_c =
        CONCAT13(uVar2, (int3)CONCAT22(local_c._2_2_,
                                       CONCAT11(local_c._1_1_, (char)uVar1))) &
            0xfcfffcff |
        0x2000203;
    FUN_000748c4(param_1, 1, 0, 0x6c, local_c);
    return;
}

void FUN_00075374(undefined4 param_1, int param_2, byte param_3,
                  undefined2 param_4)

{
    byte bVar1;
    undefined4 local_1c;

    local_1c._2_2_ = (undefined2)((uint)local_1c >> 0x18);
    FUN_00075d9c(0, param_1, 0, 0xa4, &local_1c);
    bVar1 = local_1c._3_1_;
    local_1c = CONCAT22(local_1c._2_2_, param_4);
    if (param_2 == 0) {
        bVar1 = bVar1 & 0x7f;
    } else {
        bVar1 = bVar1 | 0x80;
    }
    local_1c =
        CONCAT13(bVar1 & 0x8f | (param_3 & 3) << 4, (undefined3)local_1c);
    FUN_000748c4(param_1, 1, 0, 0xa4, local_1c);
    return;
}

void FUN_000753f4(undefined4 param_1, int param_2)

{
    byte bVar1;
    undefined4 local_14[2];

    FUN_00075d9c(0, param_1, 0, 0x18, local_14);
    if (param_2 == 0) {
        bVar1 = (byte)local_14[0] & 0xfb;
    } else {
        bVar1 = (byte)local_14[0] | 4;
    }
    local_14[0] = CONCAT31(local_14[0]._1_3_, bVar1);
    FUN_000748c4(param_1, 1, 0, 0x18, local_14[0]);
    return;
}

void FUN_00075458(undefined4 param_1, int param_2)

{
    byte bVar1;
    undefined4 local_14;

    FUN_00075d9c(0, param_1, 0, 0x18, &local_14);
    if (param_2 == 0) {
        bVar1 = local_14._1_1_ & 0x7f;
    } else {
        bVar1 = local_14._1_1_ | 0x80;
    }
    local_14._0_2_ = CONCAT11(bVar1, (undefined1)local_14);
    FUN_000748c4(param_1, 1, 0, 0x18, local_14);
    return;
}

void FUN_000754bc(undefined4 param_1, int param_2)

{
    uint local_14[2];

    FUN_00075d9c(0, param_1, 0, 0x18, local_14);
    if (param_2 == 0) {
        local_14[0] = local_14[0] & 0xffbfffff | 0xf0000000;
    } else {
        local_14[0] = local_14[0] & 0xfffffff | 0x400000;
    }
    FUN_000748c4(param_1, 1, 0, 0x18, local_14[0]);
    return;
}

void FUN_00075548(undefined4 param_1, undefined4 param_2)

{
    FUN_000748c4(param_1, 1, 0, 0x10, param_2);
    return;
}

void FUN_0007556c(undefined4 param_1)

{
    FUN_000748c4(param_1, 1, 0, 0x3c, 0x80008106);
    FUN_000748c4(param_1, 1, 0, 0x3c, 0x80000206);
    return;
}

void FUN_0007561c(undefined4 param_1)

{
    FUN_000748c4(param_1, 1, 0, 0x90, 0x800);
    return;
}

void FUN_00075644(undefined4 param_1)

{
    uint local_c;

    FUN_00075d9c(0, param_1, 0, 0x6c, &local_c);
    local_c = local_c | 0x80000000;
    FUN_000748c4(param_1, 1, 0, 0x6c, local_c);
    return;
}

void FUN_0007569c(undefined4 param_1)

{
    uint local_c;

    FUN_00075d9c(0, param_1, 0, 0x6c, &local_c);
    local_c = local_c & 0x7fffffff;
    FUN_000748c4(param_1, 1, 0, 0x6c, local_c);
    return;
}

void FUN_000756f4(undefined4 param_1, undefined4 param_2)

{
    FUN_000748c4(param_1, 1, 0, 0x9c, param_2);
    return;
}

void FUN_00075718(undefined4 param_1, int param_2)

{
    FUN_000748c4(param_1, 1, 0, 0x90, (param_2 - 1U & 7) << 4 | 0x30005001);
    return;
}

void FUN_0007575c(undefined4 param_1)

{
    uint uVar1;
    undefined4 local_c;

    FUN_00075d9c(0, param_1, 0, 0x90, &local_c);
    uVar1 = local_c & 0xffffff7f;
    local_c._2_2_ = (undefined2)(uVar1 >> 0x10);
    local_c = CONCAT22(local_c._2_2_, CONCAT11(local_c._1_1_, (char)uVar1)) &
                  0xfffff7ff |
              2;
    FUN_000748c4(param_1, 1, 0, 0x90, local_c);
    return;
}

void FUN_000757c4(undefined4 param_1)

{
    uint local_c;

    FUN_00075d9c(0, param_1, 0, 0x90, &local_c);
    local_c = CONCAT31((int3)(local_c >> 8),
                       ~((byte) ~(byte)((local_c << 0x19) >> 0x18) >> 1)) &
              0xfffff7fd;
    FUN_000748c4(param_1, 1, 0, 0x90, local_c);
    return;
}

void FUN_00075840(undefined4 param_1, undefined1 param_2)

{
    undefined4 local_14;

    FUN_00075d9c(0, param_1, 0, 0x90, &local_14);
    local_14._0_3_ = CONCAT12(param_2, (undefined2)local_14);
    FUN_000748c4(param_1, 1, 0, 0x90, local_14);
    return;
}

void FUN_000758bc(undefined4 param_1, undefined4 param_2)

{
    uint local_14;

    FUN_00075d9c(0, param_1, param_2, 0x18, &local_14);
    local_14 = local_14 & 0xffffff8f | 0x4030;
    FUN_000748c4(param_1, 0, param_2, 0x18, local_14);
    return;
}

void FUN_000759f4(undefined4 param_1, undefined4 param_2)

{
    FUN_000748c4(param_1, 0, param_2, 0x2c);
    return;
}

void FUN_00075a2c(undefined4 param_1, byte param_2)

{
    undefined4 local_14[2];

    FUN_00075d9c(0, param_1, 0, 0x18, local_14);
    local_14[0] = CONCAT31(local_14[0]._1_3_,
                           (byte)local_14[0] & 0xf7 | (param_2 & 1) << 3);
    FUN_000748c4(param_1, 1, 0, 0x18, local_14[0]);
    return;
}

void FUN_00075ae8(undefined4 param_1, undefined4 param_2)

{
    FUN_000748c4(param_1, 0, param_2, 0xb0, 0x100000);
    return;
}

void FUN_00075b10(undefined4 param_1)

{
    FUN_000748c4(param_1, 1, 0, 0xb0, 0x100000);
    return;
}

void FUN_00075b64(undefined4 param_1)

{
    FUN_000748c4(param_1, 1, 0, 0xb0, 0x3014003a);
    return;
}

void FUN_00075c4c(undefined4 param_1, uint param_2, uint param_3)

{
    FUN_000748c4(param_1, 1, 0, 0x3c,
                 (param_2 & 1) << 4 | param_3 & 3 | 0x80008700);
    return;
}

void FUN_00075cc4(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_000749a0(param_1, 1, 0, param_2, param_3, param_4);
    return;
}

uint FUN_00075cec(uint param_1)

{
    return param_1 >> 0x19;
}

undefined1 FUN_00075cf4(int param_1)

{
    undefined1 uVar1;

    uVar1 = FUN_00077070((uint)(param_1 << 7) >> 0x18);
    return uVar1;
}

undefined4 FUN_00075d08(uint param_1)

{
    undefined *__dest;
    undefined *puVar1;
    uint uVar2;

    if (param_1 < 4) {
        uVar2 = 0;
        do {
            if (param_1 == uVar2) {
                __dest = &DAT_001b1d04 + param_1 * 0x20000;
                do {
                    puVar1 = __dest + 0x200;
                    memcpy(__dest, &DAT_0009f5c4, 0x200);
                    __dest = puVar1;
                } while (puVar1 != (undefined *)(param_1 * 0x20000 + 0x1d1d04));
                memcpy(&DAT_001b14ec + param_1 * 0x200, &DAT_0009f5c4, 0x200);
            }
            uVar2 = uVar2 + 1;
        } while (uVar2 != 4);
        return 0;
    }
    return 0xffffffff;
}

undefined4 FUN_00075d9c(int param_1, uint param_2, int param_3, uint param_4,
                        undefined4 *param_5)

{
    undefined4 uVar1;
    int iVar2;
    undefined *puVar3;

    if (param_2 < 4) {
        pthread_mutex_lock((pthread_mutex_t *)&DAT_001b1cec);
        if (param_1 == 0) {
            iVar2 = (param_4 >> 2) + param_2 * 0x40;
            if ((byte)(&DAT_001b14ec)[iVar2 * 8] == param_4) {
                puVar3 = &DAT_001b14ec + iVar2 * 8;
            LAB_00075e6c:
                *param_5 = *(undefined4 *)(puVar3 + 4);
                pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b1cec);
                printf("[%s] level::%d, which_chain::%u, which_asic::%u, "
                       "register_address::%02x, register_value::%08x.\r\n",
                       "get_register_cache_value", param_1, param_2, param_3,
                       param_4, *param_5);
                return 0;
            }
            uVar1 = 0xfffffffc;
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b1cec);
        } else if (param_1 == 1) {
            iVar2 = (param_4 >> 2) + (param_3 + param_2 * 0x100) * 0x40;
            if ((byte)(&DAT_001b1d04)[iVar2 * 8] == param_4) {
                puVar3 = &DAT_001b1d04 + iVar2 * 8;
                goto LAB_00075e6c;
            }
            uVar1 = 0xfffffffb;
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b1cec);
        } else {
            uVar1 = 0xfffffffa;
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b1cec);
        }
        printf("[%s] level::%d, which_chain::%u, which_asic::%u, "
               "register_address::%02x failed.\r\n",
               "get_register_cache_value", param_1, param_2, param_3, param_4);
    } else {
        uVar1 = 0xffffffff;
    }
    return uVar1;
}

undefined4 FUN_00075ed0(int param_1, uint param_2, int param_3, uint param_4,
                        undefined4 param_5)

{
    undefined4 uVar1;
    int iVar2;

    if (param_2 < 4) {
        pthread_mutex_lock((pthread_mutex_t *)&DAT_001b1cec);
        if (param_1 == 0) {
            iVar2 = (param_4 >> 2) + param_2 * 0x40;
            if ((byte)(&DAT_001b14ec)[iVar2 * 8] == param_4) {
                *(undefined4 *)(&DAT_001b14f0 + iVar2 * 8) = param_5;
                pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b1cec);
            LAB_00075fac:
                printf("[%s] level::%d, which_chain::%u, which_asic::%u, "
                       "register_address::%02x, register_value::%08x.\r\n",
                       "set_register_cache_value", param_1, param_2, param_3,
                       param_4, param_5);
                return 0;
            }
            uVar1 = 0xfffffffc;
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b1cec);
        } else if (param_1 == 1) {
            iVar2 = (param_4 >> 2) + (param_3 + param_2 * 0x100) * 0x40;
            if ((byte)(&DAT_001b1d04)[iVar2 * 8] == param_4) {
                *(undefined4 *)(&DAT_001b1d08 + iVar2 * 8) = param_5;
                pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b1cec);
                goto LAB_00075fac;
            }
            uVar1 = 0xfffffffb;
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b1cec);
        } else {
            uVar1 = 0xfffffffa;
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_001b1cec);
        }
        printf("[%s] level::%d, which_chain::%u, which_asic::%u, "
               "register_address::%02x failed.\r\n",
               "set_register_cache_value", param_1, param_2, param_3, param_4);
    } else {
        uVar1 = 0xffffffff;
    }
    return uVar1;
}

undefined4 FUN_00076008(uint param_1, byte param_2, byte param_3,
                        undefined4 param_4, byte *param_5)

{
    byte bVar1;
    undefined4 uVar2;

    if (param_5 == (byte *)0x0) {
        uVar2 = 0xffffffff;
    } else {
        uVar2 = 0;
        param_5[0] = 0;
        param_5[1] = 0;
        param_5[2] = 0;
        param_5[3] = 0;
        if (param_1 != 0) {
            param_1 = 1;
        }
        param_5[3] = param_3;
        param_5[7] = (byte)param_4;
        param_5[2] = param_2;
        param_5[4] = (byte)((uint)param_4 >> 0x18);
        param_5[5] = (byte)((uint)param_4 >> 0x10);
        param_5[6] = (byte)((uint)param_4 >> 8);
        param_5[8] = 0;
        *param_5 = (byte)((param_1 & 1) << 4) | 0x41;
        param_5[1] = 9;
        bVar1 = FUN_00076284(param_5, 0x40);
        param_5[8] = param_5[8] & 0xe0 | bVar1 & 0x1f;
    }
    return uVar2;
}

undefined4 FUN_000760a0(undefined1 param_1, undefined4 *param_2)

{
    byte bVar1;
    undefined4 uVar2;

    if (param_2 == (undefined4 *)0x0) {
        uVar2 = 0xffffffff;
    } else {
        uVar2 = 0;
        *param_2 = 0;
        *(undefined1 *)(param_2 + 1) = 0;
        *(undefined1 *)((int)param_2 + 2) = param_1;
        *(undefined1 *)((int)param_2 + 1) = 5;
        *(undefined1 *)param_2 = 0x40;
        bVar1 = FUN_00076284(param_2, 0x20);
        *(byte *)(param_2 + 1) = *(byte *)(param_2 + 1) & 0xe0 | bVar1 & 0x1f;
    }
    return uVar2;
}

undefined4 FUN_000760f4(uint param_1, byte param_2, byte param_3, byte *param_4)

{
    byte bVar1;
    undefined4 uVar2;

    if (param_4 == (byte *)0x0) {
        uVar2 = 0xffffffff;
    } else {
        uVar2 = 0;
        param_4[0] = 0;
        param_4[1] = 0;
        param_4[2] = 0;
        param_4[3] = 0;
        if (param_1 != 0) {
            param_1 = 1;
        }
        param_4[3] = param_3;
        param_4[2] = param_2;
        param_4[4] = 0;
        param_4[1] = 5;
        *param_4 = (byte)((param_1 & 1) << 4) | 0x42;
        bVar1 = FUN_00076284(param_4, 0x20);
        param_4[4] = param_4[4] & 0xe0 | bVar1 & 0x1f;
    }
    return uVar2;
}

undefined4 FUN_00076164(undefined4 *param_1)

{
    byte bVar1;
    undefined4 uVar2;

    if (param_1 == (undefined4 *)0x0) {
        uVar2 = 0xffffffff;
    } else {
        uVar2 = 0;
        *param_1 = 0;
        *(undefined1 *)(param_1 + 1) = 0;
        *(undefined1 *)((int)param_1 + 1) = 5;
        *(undefined1 *)param_1 = 0x53;
        bVar1 = FUN_00076284(param_1, 0x20);
        *(byte *)(param_1 + 1) = *(byte *)(param_1 + 1) & 0xe0 | bVar1 & 0x1f;
    }
    return uVar2;
}

undefined4 FUN_000761b0(undefined4 param_1, int param_2, uint param_3)

{
    int iVar1;
    uint *unaff_r4;
    uint uVar2;
    uint uVar3;
    uint uVar4;
    uint local_24;
    undefined4 local_20;
    undefined4 local_1c;

    uVar4 = 0;
    local_24 = 0;
    if (param_3 != 0) {
        unaff_r4 = &local_24;
    }
    local_20 = 0;
    local_1c = 0;
    if (param_3 != 0) {
    LAB_000761dc:
        do {
            iVar1 = 0;
            uVar3 = uVar4;
            while (uVar3 < param_3) {
                uVar3 = *unaff_r4;
                if (iVar1 == 0) {
                    *unaff_r4 = uVar3 | (uint) * (byte *)(param_2 + uVar4)
                                            << 0x18;
                } else {
                    uVar2 = (uint) * (byte *)(param_2 + uVar4 + iVar1);
                    if (iVar1 == 1) {
                        *unaff_r4 = uVar3 | uVar2 << 0x10;
                    } else if (iVar1 == 2) {
                        *unaff_r4 = uVar3 | uVar2 << 8;
                    } else {
                        *unaff_r4 = uVar2 | uVar3;
                        if (iVar1 == 3) {
                            uVar4 = uVar4 + 4;
                            unaff_r4 = unaff_r4 + 1;
                            if (param_3 <= uVar4)
                                goto LAB_00076228;
                            goto LAB_000761dc;
                        }
                    }
                }
                iVar1 = iVar1 + 1;
                uVar3 = uVar4 + iVar1;
            }
            uVar4 = uVar4 + 4;
            unaff_r4 = unaff_r4 + 1;
        } while (uVar4 < param_3);
    }
LAB_00076228:
    FUN_00070808(&local_24, param_1);
    return 0;
}

uint FUN_00076284(byte *param_1, uint param_2)

{
    uint uVar1;
    uint uVar2;
    uint uVar3;
    char cVar4;
    uint uVar5;
    uint uVar6;
    uint uVar7;
    uint uVar8;
    uint uVar9;
    uint uVar10;
    uint uVar11;
    uint uVar12;

    if (param_2 != 0) {
        cVar4 = '\0';
        uVar12 = 0;
        uVar7 = 0x80;
        uVar5 = 1;
        uVar1 = 1;
        uVar2 = 1;
        uVar3 = 1;
        uVar9 = 1;
        do {
            uVar6 = uVar9;
            uVar11 = uVar3;
            uVar10 = uVar2;
            uVar9 = uVar1;
            uVar8 = uVar5;
            cVar4 = cVar4 + '\x01';
            uVar12 = uVar12 + 1 & 0xff;
            uVar5 = *param_1 & uVar7;
            uVar7 = uVar7 >> 1;
            if (uVar5 != 0) {
                uVar6 = uVar6 ^ 1;
            }
            if (cVar4 == '\b') {
                param_1 = param_1 + 1;
                cVar4 = '\0';
                uVar7 = 0x80;
            }
            uVar5 = uVar10;
            uVar1 = uVar11;
            uVar2 = uVar6;
            uVar3 = uVar6 ^ uVar8;
        } while (uVar12 < param_2);
        if (uVar9 == 0) {
            uVar7 = 0;
        } else {
            uVar7 = 0x10;
        }
        if (uVar11 != 0) {
            uVar7 = uVar7 | 8;
        }
        if (uVar6 != uVar8) {
            uVar7 = uVar7 | 4;
        }
        if (uVar10 != 0) {
            uVar7 = uVar7 | 2;
        }
        if (uVar6 != 0) {
            uVar7 = uVar7 | 1;
        }
        return uVar7;
    }
    return 0x1f;
}

undefined4 FUN_000763ac(uint *param_1)

{
    pthread_t __th;
    int iVar1;
    int iVar2;
    size_t sVar3;
    void *__buf;
    ssize_t sVar4;
    uint uVar5;
    code *pcVar6;
    undefined4 local_260;
    socklen_t local_25c;
    char local_258[16];
    sockaddr local_248;
    sockaddr sStack_238;
    char local_228[256];
    char local_128[260];

    __th = pthread_self();
    pthread_detach(__th);
    local_258[0] = '\0';
    local_258[1] = '\0';
    local_258[2] = '\0';
    local_258[3] = '\0';
    local_258[4] = '\0';
    local_258[5] = '\0';
    local_258[6] = '\0';
    local_258[7] = '\0';
    local_258[8] = '\0';
    local_258[9] = '\0';
    local_258[10] = '\0';
    local_258[0xb] = '\0';
    local_258[0xc] = '\0';
    local_258[0xd] = '\0';
    local_258[0xe] = '\0';
    local_258[0xf] = '\0';
    sprintf(local_258, "ct_b/fcb/%d", *param_1);
    prctl(0xf, local_258);
    local_248.sa_family = 2;
    local_248.sa_data._2_4_ = inet_addr("127.0.0.1");
    iVar1 = socket(2, 1, 0);
    if (iVar1 < 0) {
        perror("socket error");
        return 0;
    }
    local_260 = 1;
    iVar2 = setsockopt(iVar1, 1, 2, &local_260, 4);
    if (iVar2 < 0) {
        perror("set sockopt err");
        return 0;
    }
    uVar5 = *param_1;
    while (true) {
        local_248.sa_data._0_2_ =
            (ushort)((uVar5 & 0xff) << 8) | (ushort)(uVar5 >> 8) & 0xff;
        iVar2 = bind(iVar1, &local_248, 0x10);
        if (-1 < iVar2)
            break;
        perror("bind error");
        uVar5 = *param_1 + 1;
        *param_1 = uVar5;
    }
    iVar2 = listen(iVar1, 5);
    if (iVar2 < 0) {
        perror("listen error");
    } else {
        local_25c = 0x10;
        param_1[0x24] = 1;
        iVar1 = accept(iVar1, &sStack_238, &local_25c);
        if (-1 < iVar1) {
            local_228[0] = '\0';
            local_228[1] = '\0';
            local_228[2] = '\0';
            local_228[3] = '\0';
            memset(local_228 + 4, 0, 0xfc);
            sprintf(local_228, "%x %s\n", 0x3f, param_1 + 4);
            sVar3 = strlen(local_228);
            send(iVar1, local_228, sVar3 + 1, 0);
            sVar3 = param_1[0x25];
            __buf = malloc(sVar3);
            sVar4 = recv(iVar1, __buf, sVar3, 0);
            if (0 < sVar4) {
                *(undefined1 *)((int)__buf + sVar4) = 0;
            }
            do {
                sVar4 = recv(iVar1, __buf, param_1[0x25], 0);
                if (sVar4 < 1) {
                    pcVar6 = (code *)0x0;
                } else {
                    pcVar6 = (code *)param_1[3];
                    if (pcVar6 != (code *)0x0) {
                        pcVar6 = (code *)(*pcVar6)(__buf);
                    }
                }
                local_128[0] = '\0';
                local_128[1] = '\0';
                local_128[2] = '\0';
                local_128[3] = '\0';
                memset(local_128 + 4, 0, 0xfc);
                sprintf(local_128, "%x %d %s %s", 0x3f, pcVar6, param_1 + 4,
                        &DAT_0008be14);
                sVar3 = strlen(local_128);
                send(iVar1, local_128, sVar3 + 1, 0);
            } while (true);
        }
        perror("accept error");
    }
    return 0;
}

undefined4 FUN_00076638(int param_1)

{
    pthread_t __th;
    ssize_t sVar1;
    int iVar2;
    int *__arg;
    int iVar3;
    size_t sVar4;
    int iVar5;
    char *__s2;
    int __fd;
    undefined4 local_200;
    pthread_t pStack_1fc;
    char local_1f8[8];
    undefined4 local_1f0;
    undefined4 local_1ec;
    undefined4 local_1e8;
    undefined4 local_1e4;
    undefined4 local_1e0;
    undefined4 local_1dc;
    undefined4 local_1d8;
    undefined4 local_1d4;
    undefined4 local_1d0;
    undefined4 local_1cc;
    undefined4 local_1c8;
    undefined4 local_1c4;
    undefined4 local_1c0;
    undefined4 local_1bc;
    undefined4 local_1b8;
    undefined4 local_1b4;
    undefined4 local_1b0;
    undefined4 local_1ac;
    undefined4 local_1a8;
    undefined1 auStack_1a4[124];
    undefined4 local_128;
    undefined1 auStack_124[256];

    __th = pthread_self();
    pthread_detach(__th);
    local_1ec = 0;
    builtin_strncpy(local_1f8, "ct_b/mai", 8);
    local_1f0 = 0x6e;
    prctl(0xf, local_1f8);
    __fd = *(int *)(param_1 + 8);
    do {
        while (true) {
            while (true) {
                local_1a8 = 0;
                memset(auStack_1a4, 0, 0x7c);
                sVar1 = recv(__fd, &local_1a8, 0x80, 0);
                if (sVar1 < 1) {
                    return 0;
                }
                auStack_1a4[sVar1 + -4] = 0;
                local_1e8 = 0;
                local_1e4 = 0;
                local_1c8 = 0;
                local_1c4 = 0;
                local_200 = 0;
                local_1e0 = 0;
                local_1dc = 0;
                local_1d8 = 0;
                local_1d4 = 0;
                local_1d0 = 0;
                local_1cc = 0;
                local_1c0 = 0;
                local_1bc = 0;
                local_1b8 = 0;
                local_1b4 = 0;
                local_1b0 = 0;
                local_1ac = 0;
                __isoc99_sscanf(&local_1a8, "%x%s%s", &local_200, &local_1c8,
                                &local_1e8);
                iVar2 = strcmp((char *)&local_1c8, "regist");
                if (iVar2 == 0)
                    break;
                iVar2 = DAT_00231d04 + 1;
                memcpy((void *)(DAT_00231d04 * 0x80 + 0x231d2c), &local_1a8,
                       0x80);
                DAT_00231d04 = iVar2;
            }
            __arg = (int *)calloc(0x98, 1);
            iVar2 = DAT_00231d08;
            if (DAT_00231d08 != 0)
                break;
        LAB_000768e8:
            local_128 = 0;
            memset(auStack_124, 0, 0xfc);
            sprintf((char *)&local_128, "%x %d %s %s %s", 0x3f, 0, "reg_resp",
                    "no_name", &local_1e8);
            sVar4 = strlen((char *)&local_128);
            send(__fd, &local_128, sVar4 + 1, 0);
            free(__arg);
        }
        __s2 = &DAT_00235d30;
        iVar5 = 0;
        do {
            iVar3 = strcmp((char *)&local_1e8, __s2);
            __s2 = __s2 + 0x88;
            if (iVar3 == 0) {
                iVar3 = *(int *)(&DAT_00235db0 + iVar5 * 0x88);
                __arg[3] = *(int *)(&DAT_00235d2c + iVar5 * 0x88);
                __arg[0x25] = iVar3;
                break;
            }
            iVar5 = iVar5 + 1;
        } while (iVar5 != iVar2);
        if (iVar2 == iVar5)
            goto LAB_000768e8;
        *__arg = DAT_0009f7c4;
        sVar4 = strlen((char *)&local_1e8);
        memcpy(__arg + 4, &local_1e8, sVar4 + 1);
        __arg[0x24] = 0;
        pthread_create(&pStack_1fc, (pthread_attr_t *)0x0, FUN_000763ac, __arg);
        iVar2 = __arg[0x24];
        while (iVar2 == 0) {
            usleep(10000);
            iVar2 = __arg[0x24];
        }
        iVar2 = *__arg;
        local_128 = 0;
        if (iVar2 != DAT_0009f7c4) {
            DAT_0009f7c4 = iVar2;
        }
        memset(auStack_124, 0, 0xfc);
        sprintf((char *)&local_128, "%x %d %s %s %s", 0x3f, iVar2, "reg_resp",
                &DAT_0008be14, &local_1e8);
        sVar4 = strlen((char *)&local_128);
        send(__fd, &local_128, sVar4 + 1, 0);
        DAT_0009f7c4 = DAT_0009f7c4 + 1;
    } while (true);
}

undefined4 FUN_00076964(int param_1, int param_2)

{
    void *pvVar1;
    in_addr_t iVar2;
    int __fd;
    int iVar3;
    size_t sVar4;
    ssize_t sVar5;
    void *pvVar6;
    undefined4 uVar7;
    undefined *__dest;
    void *pvVar8;
    uint uVar9;
    undefined4 local_44c;
    socklen_t local_448;
    pthread_t pStack_444;
    sockaddr local_440;
    sockaddr sStack_430;
    char local_420[128];
    undefined4 local_3a0;
    undefined1 auStack_39c[124];
    undefined4 local_320;
    undefined4 uStack_31c;
    undefined4 uStack_318;
    undefined4 uStack_314;
    undefined1 auStack_310[240];
    undefined4 local_220;
    undefined1 auStack_21c[512];

    if (DAT_00231d0c == 0) {
        pthread_mutex_init((pthread_mutex_t *)&DAT_00231d10,
                           (pthread_mutexattr_t *)0x0);
        DAT_00231d08 = param_2;
        if (param_2 != 0) {
            __dest = &DAT_00235d30;
            pvVar6 = (void *)(param_1 + 4);
            do {
                pvVar1 = memcpy(__dest, pvVar6, 0x80);
                pvVar8 = (void *)((int)pvVar6 + 0x88);
                uVar7 = *(undefined4 *)((int)pvVar6 + -4);
                __dest = (undefined *)((int)pvVar1 + 0x88);
                *(undefined4 *)((int)pvVar1 + 0x80) =
                    *(undefined4 *)((int)pvVar6 + 0x80);
                *(undefined4 *)((int)pvVar1 + -4) = uVar7;
                pvVar6 = pvVar8;
            } while ((int)pvVar8 + (param_2 * -0x88 - (param_1 + 4)) != 0);
        }
        local_440.sa_data[4] = '\0';
        local_440.sa_data[5] = '\0';
        local_440.sa_data[6] = '\0';
        local_440.sa_data[7] = '\0';
        local_440.sa_data[8] = '\0';
        local_440.sa_data[9] = '\0';
        local_440.sa_data[10] = '\0';
        local_440.sa_data[0xb] = '\0';
        local_440.sa_data[0xc] = '\0';
        local_440.sa_data[0xd] = '\0';
        local_440.sa_data[0] = '\0';
        local_440.sa_data[1] = '\0';
        local_440.sa_data[2] = '\0';
        local_440.sa_data[3] = '\0';
        local_440.sa_family = 2;
        iVar2 = inet_addr("127.0.0.1");
        local_440.sa_data._2_2_ = SUB42(iVar2, 0);
        local_440.sa_data._4_2_ = SUB42(iVar2 >> 0x10, 0);
        local_44c = 1;
        __fd = socket(2, 1, 0);
        if (__fd < 0) {
            uVar7 = 0xfffffffc;
            perror("socket error");
        } else {
            iVar3 = setsockopt(__fd, 1, 2, &local_44c, 4);
            if (iVar3 < 0) {
                uVar7 = 0xfffffffc;
                perror("set sockopt err");
            } else {
                uVar9 = 0x560a;
                while (true) {
                    local_440.sa_data._0_2_ = (ushort)((uVar9 & 0xff) << 8) |
                                              (ushort)(uVar9 >> 8) & 0xff;
                    uVar9 = uVar9 + 1;
                    iVar3 = bind(__fd, &local_440, 0x10);
                    if (-1 < iVar3)
                        break;
                    perror("bind error");
                }
                iVar3 = listen(__fd, 5);
                if (iVar3 < 0) {
                    uVar7 = 0xfffffffc;
                    perror("listen error");
                } else {
                    local_448 = 0x10;
                    iVar3 = accept(__fd, &sStack_430, &local_448);
                    if (iVar3 < 0) {
                        uVar7 = 0xfffffffc;
                        perror("accept error");
                    } else {
                        local_420[0] = '\0';
                        local_420[1] = '\0';
                        local_420[2] = '\0';
                        local_420[3] = '\0';
                        memset(local_420 + 4, 0, 0x7c);
                        sprintf(local_420, "Hello!0x%x\n", 0x3f);
                        sVar4 = strlen(local_420);
                        send(iVar3, local_420, sVar4 + 1, 0);
                        DAT_00231d0c = 1;
                        local_220 = 0;
                        DAT_00231d28 = iVar3;
                        memset(auStack_21c, 0, 0x1fc);
                        sVar5 = recv(iVar3, &local_220, 0x400, 0);
                        if (0 < sVar5) {
                            auStack_21c[sVar5 + -4] = 0;
                        }
                        local_320 = 0x20333231;
                        uStack_31c = 0x20363534;
                        uStack_318 = 0x20393837;
                        uStack_314 = 0x636261;
                        memset(auStack_310, 0, 0xf0);
                        send(iVar3, &local_320, 0x10, 0);
                        local_3a0 = 0;
                        memset(auStack_39c, 0, 0x7c);
                        sVar5 = recv(iVar3, &local_3a0, 0x80, 0);
                        if (0 < sVar5) {
                            auStack_39c[sVar5 + -4] = 0;
                        }
                        pvVar6 = malloc(0xc);
                        *(int *)((int)pvVar6 + 8) = iVar3;
                        *(int *)((int)pvVar6 + 4) = __fd;
                        pthread_create(&pStack_444, (pthread_attr_t *)0x0,
                                       FUN_00076638, pvVar6);
                        uVar7 = 0;
                    }
                }
            }
        }
    } else {
        uVar7 = 0xffffffff;
    }
    return uVar7;
}

/* WARNING: Type propagation algorithm not settling */

undefined4 FUN_00076c60(int param_1)

{
    pthread_mutex_t *__mutex;
    size_t sVar1;
    in_addr_t iVar2;
    int iVar3;
    int iVar4;
    ssize_t sVar5;
    undefined4 uVar6;
    uint local_498[2];
    sockaddr local_490;
    undefined4 local_480;
    undefined4 local_47c;
    undefined4 local_478;
    undefined4 local_474;
    undefined4 local_470;
    undefined4 local_46c;
    undefined4 local_468;
    undefined4 local_464;
    undefined4 local_460;
    undefined4 local_45c;
    undefined4 local_458;
    undefined4 local_454;
    undefined4 local_450;
    undefined4 local_44c;
    undefined4 local_448;
    undefined4 local_444;
    undefined4 local_440;
    undefined4 local_43c;
    undefined4 local_438;
    undefined4 local_434;
    undefined4 local_430;
    undefined4 local_42c;
    undefined4 local_428;
    undefined4 local_424;
    undefined4 local_420;
    undefined1 auStack_41c[124];
    undefined *local_3a0;
    undefined1 auStack_39c[124];
    undefined4 local_320;
    undefined1 auStack_31c[252];
    undefined4 local_220;
    undefined1 auStack_21c[512];

    if (DAT_00231d0c == 0) {
        uVar6 = 0xffffffff;
    } else {
        __mutex = (pthread_mutex_t *)malloc(0x24);
        pthread_mutex_init(__mutex, (pthread_mutexattr_t *)0x0);
        iVar4 = DAT_00231d28;
        local_320 = 0;
        memset(auStack_31c, 0, 0xfc);
        sprintf((char *)&local_320, "%x regist %s", 0x3f, param_1);
        iVar3 = DAT_00231d04;
        sVar1 = strlen((char *)&local_320);
        send(iVar4, &local_320, sVar1 + 1, 0);
        local_420 = 0;
        memset(auStack_41c, 0, 0x7c);
        while (iVar3 == DAT_00231d04) {
            usleep(1000);
        }
        memcpy(&local_420, (void *)(iVar3 * 0x80 + 0x231d2c), 0x80);
        local_498[0] = 0;
        local_498[1] = 0;
        local_480 = 0;
        local_47c = 0;
        local_460 = 0;
        local_45c = 0;
        local_440 = 0;
        local_43c = 0;
        local_478 = 0;
        local_474 = 0;
        local_470 = 0;
        local_46c = 0;
        local_468 = 0;
        local_464 = 0;
        local_458 = 0;
        local_454 = 0;
        local_450 = 0;
        local_44c = 0;
        local_448 = 0;
        local_444 = 0;
        local_438 = 0;
        local_434 = 0;
        local_430 = 0;
        local_42c = 0;
        local_428 = 0;
        local_424 = 0;
        __isoc99_sscanf(&local_420, "%x%d%s%s%s", local_498 + 1, local_498,
                        &local_480, &local_460, &local_440);
        if (local_498[0] == 0) {
            uVar6 = 0xfffffffc;
        } else {
            local_490.sa_family = 2;
            local_490.sa_data[0] = '\0';
            local_490.sa_data[1] = '\0';
            local_490.sa_data[2] = '\0';
            local_490.sa_data[3] = '\0';
            local_490.sa_data[4] = '\0';
            local_490.sa_data[5] = '\0';
            local_490.sa_data[6] = '\0';
            local_490.sa_data[7] = '\0';
            local_490.sa_data[8] = '\0';
            local_490.sa_data[9] = '\0';
            local_490.sa_data[10] = '\0';
            local_490.sa_data[0xb] = '\0';
            local_490.sa_data[0xc] = '\0';
            local_490.sa_data[0xd] = '\0';
            iVar2 = inet_addr("127.0.0.1");
            local_490.sa_data._2_2_ = SUB42(iVar2, 0);
            local_490.sa_data._4_2_ = SUB42(iVar2 >> 0x10, 0);
            local_490.sa_data._0_2_ = (ushort)((local_498[0] & 0xff) << 8) |
                                      (ushort)(local_498[0] >> 8) & 0xff;
            iVar3 = socket(2, 1, 0);
            if (iVar3 < 0) {
                perror("socket err:");
                uVar6 = 0xfffffffc;
            } else {
                iVar4 = connect(iVar3, &local_490, 0x10);
                if (iVar4 < 0) {
                    perror("connect err:");
                    uVar6 = 0xfffffffd;
                } else {
                    local_220 = 0;
                    memset(auStack_21c, 0, 0x1fc);
                    sVar5 = recv(iVar3, &local_220, 0x200, 0);
                    if (0 < sVar5) {
                        auStack_21c[sVar5 + -4] = 0;
                    }
                    memset(auStack_39c, 0, 0x7c);
                    local_3a0 = &DAT_00214b4f;
                    send(iVar3, &local_3a0, 4, 0);
                    uVar6 = 0;
                    *(int *)((int)__mutex + 0x20) = iVar3;
                    *(pthread_mutex_t **)(param_1 + 0x80) = __mutex;
                    __mutex[1].__data.__lock = local_498[0];
                }
            }
        }
    }
    return uVar6;
}

undefined4 FUN_00076f20(int param_1, void *param_2, size_t param_3,
                        int *param_4)

{
    int iVar1;
    ssize_t sVar2;
    undefined4 uVar3;
    pthread_mutex_t *__mutex;
    int local_160;
    int local_15c;
    int local_158;
    int local_154;
    int local_150;
    int local_14c;
    int local_148;
    int local_144;
    int local_140;
    int local_13c;
    int local_138;
    int local_134;
    int local_130;
    int local_12c;
    int local_128;
    int local_124;
    int local_120;
    int local_11c;
    int local_118;
    undefined1 auStack_114[252];

    if (DAT_00231d0c == 0) {
        uVar3 = 0xffffffff;
    } else {
        __mutex = *(pthread_mutex_t **)(param_1 + 0x80);
        if (__mutex == (pthread_mutex_t *)0x0) {
            uVar3 = 0xfffffffe;
        } else {
            iVar1 = pthread_mutex_trylock(__mutex);
            if (iVar1 == 0) {
                sVar2 =
                    send(*(int *)((int)__mutex + 0x20), param_2, param_3, 0);
                if (sVar2 < 1) {
                    uVar3 = 0xfffffffc;
                    pthread_mutex_unlock(__mutex);
                } else {
                    local_118 = iVar1;
                    memset(auStack_114, 0, 0xfc);
                    sVar2 = recv(*(int *)((int)__mutex + 0x20), &local_118,
                                 0x100, 0);
                    local_160 = iVar1;
                    local_15c = iVar1;
                    local_158 = iVar1;
                    local_154 = iVar1;
                    local_150 = iVar1;
                    local_14c = iVar1;
                    local_148 = iVar1;
                    local_144 = iVar1;
                    local_140 = iVar1;
                    local_13c = iVar1;
                    local_138 = iVar1;
                    local_134 = iVar1;
                    local_130 = iVar1;
                    local_12c = iVar1;
                    local_128 = iVar1;
                    local_124 = iVar1;
                    local_120 = iVar1;
                    local_11c = iVar1;
                    if (0 < sVar2) {
                        __isoc99_sscanf(&local_118, &DAT_0008be9c, &local_160,
                                        &local_15c, &local_158, &local_138);
                    }
                    if (param_4 != (int *)0x0) {
                        *param_4 = local_15c;
                    }
                    pthread_mutex_unlock(__mutex);
                    uVar3 = 0;
                }
            } else {
                uVar3 = 0xfffffffd;
            }
        }
    }
    return uVar3;
}

ulonglong FUN_00077070(uint param_1, uint param_2)

{
    uint uVar1;
    ulonglong uVar2;

    if (param_2 - 1 == 0) {
        return CONCAT44(param_2, param_1);
    }
    if (param_2 == 0) {
        uVar1 = raise(8);
        return (ulonglong)uVar1;
    }
    if (param_1 <= param_2) {
        return CONCAT44(param_2, (uint)(param_1 == param_2));
    }
    if ((param_2 & param_2 - 1) == 0) {
        return CONCAT44(param_2, param_1 >> (0x1fU - LZCOUNT(param_2) & 0xff));
    }
    /* WARNING: Could not recover jumptable at 0x000770a0. Too many branches */
    /* WARNING: Treating indirect jump as call */
    uVar2 = (*(code *)(&UNK_000770a8 +
                       (0x1f - (LZCOUNT(param_2) - LZCOUNT(param_1))) * 0x10))(
        param_1, param_2, 0);
    return uVar2;
}

void FUN_000772cc(undefined4 param_1, int param_2)

{
    if (param_2 != 0) {
        FUN_00077070();
        return;
    }
    raise(8);
    return;
}

ulonglong FUN_000772e8(uint param_1, uint param_2)

{
    uint uVar1;
    uint uVar2;
    uint uVar3;
    ulonglong uVar4;

    if (param_2 == 0) {
        uVar2 = raise(8);
        return (ulonglong)uVar2;
    }
    uVar3 = param_1 ^ param_2;
    uVar2 = param_2;
    if ((int)param_2 < 0) {
        uVar2 = -param_2;
    }
    if (uVar2 - 1 == 0) {
        if ((int)param_2 < 0) {
            param_1 = -param_1;
        }
        return CONCAT44(uVar2, param_1);
    }
    uVar1 = param_1;
    if ((int)param_1 < 0) {
        uVar1 = -param_1;
    }
    if (uVar1 <= uVar2) {
        if (uVar1 < uVar2) {
            param_1 = 0;
        }
        if (uVar1 == uVar2) {
            param_1 = (int)uVar3 >> 0x1f | 1;
        }
        return CONCAT44(uVar2, param_1);
    }
    if ((uVar2 & uVar2 - 1) == 0) {
        uVar1 = uVar1 >> (0x1fU - LZCOUNT(uVar2) & 0xff);
        if ((int)uVar3 < 0) {
            uVar1 = -uVar1;
        }
        return CONCAT44(uVar2, uVar1);
    }
    /* WARNING: Could not recover jumptable at 0x00077328. Too many branches */
    /* WARNING: Treating indirect jump as call */
    uVar4 = (*(code *)(&UNK_00077330 +
                       (0x1f - (LZCOUNT(uVar2) - LZCOUNT(uVar1))) * 0x10))(0);
    return uVar4;
}

ulonglong FUN_000778a4(uint param_1, uint param_2)

{
    byte bVar1;
    uint uVar2;
    uint uVar3;
    uint uVar4;
    int iVar5;
    uint uVar6;
    int iVar7;
    uint uVar8;
    bool bVar9;
    bool bVar10;
    bool bVar11;

    if (param_1 == 0 && param_2 == 0) {
        return CONCAT44(param_2, param_1);
    }
    iVar7 = 0x432;
    uVar8 = param_2 >> 0x16;
    if (uVar8 != 0) {
        iVar7 = 3;
        if (param_2 >> 0x19 != 0) {
            iVar7 = 6;
        }
        if (param_2 >> 0x1c != 0) {
            iVar7 = iVar7 + 3;
        }
        uVar4 = iVar7 - ((int)param_2 >> 0x1f);
        uVar8 = param_1 << (0x20 - uVar4 & 0xff);
        param_1 = param_1 >> (uVar4 & 0xff) | param_2 << (0x20 - uVar4 & 0xff);
        param_2 = param_2 >> (uVar4 & 0xff);
        iVar7 = uVar4 + 0x432;
    }
    if (0xfffff < param_2) {
        if (0x1fffff < param_2) {
            uVar4 = param_2 & 1;
            param_2 = param_2 >> 1;
            bVar1 = (byte)param_1;
            param_1 = (uint)(uVar4 != 0) << 0x1f | param_1 >> 1;
            uVar8 = (uint)(bVar1 & 1) << 0x1f | uVar8 >> 1;
            iVar7 = iVar7 + 1;
            if (0xffbfffff < (uint)(iVar7 * 0x200000)) {
                return 0x7ff0000000000000;
            }
        }
    LAB_000776b0:
        bVar10 = 0x7fffffff < uVar8;
        if (uVar8 == 0x80000000) {
            bVar10 = (param_1 & 1) != 0;
        }
        return CONCAT44(param_2 + iVar7 * 0x100000 +
                            (uint)CARRY4(param_1, (uint)bVar10),
                        param_1 + bVar10);
    }
    bVar9 = (uVar8 & 0x80000000) != 0;
    uVar8 = uVar8 << 1;
    uVar4 = param_1 * 2;
    bVar10 = CARRY4(param_1, param_1);
    param_1 = param_1 * 2 + (uint)bVar9;
    param_2 = param_2 * 2 + (uint)(bVar10 || CARRY4(uVar4, (uint)bVar9));
    iVar7 = iVar7 + -1;
    if ((param_2 & 0x100000) != 0)
        goto LAB_000776b0;
    uVar2 = param_1;
    uVar4 = param_2;
    if (param_2 == 0) {
        uVar2 = 0;
        uVar4 = param_1;
    }
    iVar5 = LZCOUNT(uVar4);
    if (param_2 == 0) {
        iVar5 = iVar5 + 0x20;
    }
    uVar6 = iVar5 - 0xb;
    bVar11 = SBORROW4(uVar6, 0x20);
    uVar3 = iVar5 - 0x2b;
    bVar10 = (int)uVar3 < 0;
    bVar9 = uVar3 == 0;
    if ((int)uVar6 < 0x20) {
        bVar11 = SCARRY4(uVar3, 0xc);
        iVar5 = iVar5 + -0x1f;
        bVar10 = iVar5 < 0;
        bVar9 = iVar5 == 0;
        uVar3 = uVar6;
        if (!bVar9 && bVar10 == bVar11) {
            uVar2 = uVar4 << (uVar6 & 0xff);
            uVar4 = uVar4 >> (0xcU - iVar5 & 0xff);
            goto LAB_00077728;
        }
    }
    if (bVar9 || bVar10 != bVar11) {
        uVar8 = 0x20 - uVar3;
    }
    uVar4 = uVar4 << (uVar3 & 0xff);
    if (bVar9 || bVar10 != bVar11) {
        uVar4 = uVar4 | uVar2 >> (uVar8 & 0xff);
        uVar2 = uVar2 << (uVar3 & 0xff);
    }
LAB_00077728:
    if ((int)uVar6 <= iVar7) {
        return CONCAT44(uVar4 + (iVar7 - uVar6) * 0x100000, uVar2);
    }
    uVar8 = ~(iVar7 - uVar6);
    if (0x1e < (int)uVar8) {
        return (ulonglong)(uVar4 >> (uVar8 - 0x1f & 0xff));
    }
    iVar7 = uVar8 - 0x13;
    if (iVar7 == 0 || iVar7 < 0 != SCARRY4(uVar8 - 0x1f, 0xc)) {
        uVar8 = uVar8 + 1;
        return CONCAT44(uVar4 >> (uVar8 & 0xff),
                        uVar2 >> (uVar8 & 0xff) | uVar4
                                                      << (0x20 - uVar8 & 0xff));
    }
    return (ulonglong)(uVar2 >> (0x20 - (0xcU - iVar7) & 0xff) |
                       uVar4 << (0xcU - iVar7 & 0xff));
}

ulonglong FUN_000778b4(uint param_1, uint param_2)

{
    byte bVar1;
    uint uVar2;
    uint uVar3;
    uint uVar4;
    int iVar5;
    uint uVar6;
    int iVar7;
    uint uVar8;
    uint uVar9;
    bool bVar10;
    bool bVar11;
    bool bVar12;

    if (param_1 == 0 && param_2 == 0) {
        return CONCAT44(param_2, param_1);
    }
    uVar8 = param_2 & 0x80000000;
    uVar3 = param_2;
    if ((int)uVar8 < 0) {
        bVar11 = param_1 != 0;
        param_1 = -param_1;
        uVar3 = -param_2 - (uint)bVar11;
    }
    iVar7 = 0x432;
    uVar9 = uVar3 >> 0x16;
    if (uVar9 != 0) {
        iVar7 = 3;
        if (uVar3 >> 0x19 != 0) {
            iVar7 = 6;
        }
        if (uVar3 >> 0x1c != 0) {
            iVar7 = iVar7 + 3;
        }
        uVar4 = iVar7 - ((int)uVar3 >> 0x1f);
        uVar9 = param_1 << (0x20 - uVar4 & 0xff);
        param_1 = param_1 >> (uVar4 & 0xff) | uVar3 << (0x20 - uVar4 & 0xff);
        uVar3 = uVar3 >> (uVar4 & 0xff);
        iVar7 = uVar4 + 0x432;
    }
    if (0xfffff < uVar3) {
        if (0x1fffff < uVar3) {
            uVar4 = uVar3 & 1;
            uVar3 = uVar3 >> 1;
            bVar1 = (byte)param_1;
            param_1 = (uint)(uVar4 != 0) << 0x1f | param_1 >> 1;
            uVar9 = (uint)(bVar1 & 1) << 0x1f | uVar9 >> 1;
            iVar7 = iVar7 + 1;
            if (0xffbfffff < (uint)(iVar7 * 0x200000)) {
                return (ulonglong)(uVar8 | 0x7ff00000) << 0x20;
            }
        }
    LAB_000776b0:
        bVar11 = 0x7fffffff < uVar9;
        if (uVar9 == 0x80000000) {
            bVar11 = (param_1 & 1) != 0;
        }
        return CONCAT44(uVar3 + iVar7 * 0x100000 +
                                (uint)CARRY4(param_1, (uint)bVar11) |
                            uVar8,
                        param_1 + bVar11);
    }
    bVar10 = (uVar9 & 0x80000000) != 0;
    uVar9 = uVar9 << 1;
    uVar4 = param_1 * 2;
    bVar11 = CARRY4(param_1, param_1);
    param_1 = param_1 * 2 + (uint)bVar10;
    uVar3 = uVar3 * 2 + (uint)(bVar11 || CARRY4(uVar4, (uint)bVar10));
    iVar7 = iVar7 + -1;
    if ((uVar3 & 0x100000) != 0)
        goto LAB_000776b0;
    uVar2 = param_1;
    uVar4 = uVar3;
    if (uVar3 == 0) {
        uVar2 = 0;
        uVar4 = param_1;
    }
    iVar5 = LZCOUNT(uVar4);
    if (uVar3 == 0) {
        iVar5 = iVar5 + 0x20;
    }
    uVar6 = iVar5 - 0xb;
    bVar12 = SBORROW4(uVar6, 0x20);
    uVar3 = iVar5 - 0x2b;
    bVar11 = (int)uVar3 < 0;
    bVar10 = uVar3 == 0;
    if ((int)uVar6 < 0x20) {
        bVar12 = SCARRY4(uVar3, 0xc);
        iVar5 = iVar5 + -0x1f;
        bVar11 = iVar5 < 0;
        bVar10 = iVar5 == 0;
        uVar3 = uVar6;
        if (!bVar10 && bVar11 == bVar12) {
            uVar2 = uVar4 << (uVar6 & 0xff);
            uVar4 = uVar4 >> (0xcU - iVar5 & 0xff);
            goto LAB_00077728;
        }
    }
    if (bVar10 || bVar11 != bVar12) {
        uVar9 = 0x20 - uVar3;
    }
    uVar4 = uVar4 << (uVar3 & 0xff);
    if (bVar10 || bVar11 != bVar12) {
        uVar4 = uVar4 | uVar2 >> (uVar9 & 0xff);
        uVar2 = uVar2 << (uVar3 & 0xff);
    }
LAB_00077728:
    if ((int)uVar6 <= iVar7) {
        return CONCAT44(uVar4 + (iVar7 - uVar6) * 0x100000 | uVar8, uVar2);
    }
    uVar3 = ~(iVar7 - uVar6);
    if (0x1e < (int)uVar3) {
        return CONCAT44(param_2, uVar4 >> (uVar3 - 0x1f & 0xff)) &
               0x80000000ffffffff;
    }
    iVar7 = uVar3 - 0x13;
    if (iVar7 == 0 || iVar7 < 0 != SCARRY4(uVar3 - 0x1f, 0xc)) {
        uVar3 = uVar3 + 1;
        return CONCAT44(uVar8 | uVar4 >> (uVar3 & 0xff),
                        uVar2 >> (uVar3 & 0xff) | uVar4
                                                      << (0x20 - uVar3 & 0xff));
    }
    return CONCAT44(param_2, uVar2 >> (0x20 - (0xcU - iVar7) & 0xff) |
                                 uVar4 << (0xcU - iVar7 & 0xff)) &
           0x80000000ffffffff;
}

void FUN_00077910(undefined4 param_1, undefined4 param_2, int param_3,
                  int param_4)

{
    if ((param_4 == 0) && (param_3 == 0)) {
        raise(8);
        return;
    }
    FUN_000779b0();
    return;
}

int FUN_0007794c(undefined4 param_1, uint param_2, undefined4 param_3,
                 undefined4 param_4)

{
    int iVar1;

    if (-1 < (int)((uint)((double)CONCAT44(param_2, param_1) < 0.0) << 0x1f)) {
        iVar1 = FUN_00077970();
        return iVar1;
    }
    iVar1 =
        FUN_00077970(param_1, param_2 ^ 0x80000000, param_3, param_4, param_4);
    return -iVar1;
}

undefined8 FUN_00077970(undefined4 param_1, undefined4 param_2)

{
    uint uVar1;
    double dVar2;

    dVar2 = (double)CONCAT44(param_2, param_1) * 2.3283064365386963e-10;
    uVar1 = (uint)(0.0 < dVar2) * (int)(longlong)dVar2;
    dVar2 = (double)CONCAT44(param_2, param_1) - (double)uVar1 * 4294967296.0;
    return CONCAT44(uVar1, (uint)(0.0 < dVar2) * (int)(longlong)dVar2);
}

undefined8 FUN_000779b0(uint param_1, uint param_2, uint param_3, uint param_4,
                        uint *param_5)

{
    uint uVar1;
    uint uVar2;
    int iVar3;
    uint uVar4;
    uint uVar5;
    uint uVar6;
    uint uVar7;
    uint uVar8;
    uint uVar9;
    int iVar10;
    uint uVar11;
    bool bVar12;

    bVar12 = param_4 <= param_2;
    if (param_2 == param_4) {
        bVar12 = param_3 <= param_1;
    }
    if (bVar12) {
        iVar10 = LZCOUNT(param_4);
        if (param_4 == 0) {
            iVar10 = LZCOUNT(param_3) + 0x20;
        }
        iVar3 = LZCOUNT(param_2);
        if (param_2 == 0) {
            iVar3 = LZCOUNT(param_1) + 0x20;
        }
        uVar11 = iVar10 - iVar3;
        uVar8 = uVar11 - 0x20;
        uVar9 = 0x20 - uVar11;
        uVar5 = param_3 << (uVar11 & 0xff);
        uVar6 = param_4 << (uVar11 & 0xff) | param_3 << (uVar8 & 0xff) |
                param_3 >> (uVar9 & 0xff);
        bVar12 = uVar6 <= param_2;
        if (param_2 == uVar6) {
            bVar12 = uVar5 <= param_1;
        }
        if (bVar12) {
            bVar12 = param_1 < uVar5;
            param_1 = param_1 - uVar5;
            uVar1 = 1 << (uVar11 & 0xff);
            param_2 = (param_2 - uVar6) - (uint)bVar12;
            uVar2 = 1 << (uVar8 & 0xff) | 1U >> (uVar9 & 0xff);
        } else {
            uVar1 = 0;
            uVar2 = uVar1;
        }
        if (uVar11 != 0) {
            uVar7 = uVar6 >> 1;
            uVar6 = (uint)((uVar6 & 1) != 0) << 0x1f | uVar5 >> 1;
            uVar5 = uVar11;
            do {
                while (true) {
                    bVar12 = uVar7 <= param_2;
                    if (param_2 == uVar7) {
                        bVar12 = uVar6 <= param_1;
                    }
                    if (bVar12)
                        break;
                    bVar12 = CARRY4(param_1, param_1);
                    param_1 = param_1 * 2;
                    param_2 = param_2 * 2 + (uint)bVar12;
                    uVar5 = uVar5 - 1;
                    uVar4 = param_2;
                    if (uVar5 == 0)
                        goto LAB_00077a5a;
                }
                bVar12 = param_1 < uVar6;
                uVar4 = param_1 - uVar6;
                param_1 = uVar4 * 2 + 1;
                param_2 = ((param_2 - uVar7) - (uint)bVar12) * 2 +
                          (uint)CARRY4(uVar4, uVar4) +
                          (uint)(0xfffffffe < uVar4 * 2);
                uVar5 = uVar5 - 1;
                uVar4 = param_2;
            } while (uVar5 != 0);
        LAB_00077a5a:
            param_2 = uVar4 >> (uVar11 & 0xff);
            bVar12 = CARRY4(uVar1, param_1);
            uVar5 = uVar1 + param_1;
            param_1 = param_1 >> (uVar11 & 0xff) | uVar4 << (uVar9 & 0xff) |
                      uVar4 >> (uVar8 & 0xff);
            uVar6 = param_1 << (uVar11 & 0xff);
            uVar1 = uVar5 - uVar6;
            uVar2 = ((uVar4 + uVar2 + bVar12) -
                     (param_2 << (uVar11 & 0xff) |
                      param_1 << (uVar11 - 0x20 & 0xff) |
                      param_1 >> (0x20 - uVar11 & 0xff))) -
                    (uint)(uVar5 < uVar6);
        }
    } else {
        uVar1 = 0;
        uVar2 = uVar1;
    }
    if (param_5 != (uint *)0x0) {
        *param_5 = param_1;
        param_5[1] = param_2;
    }
    return CONCAT44(uVar2, uVar1);
}

void FUN_00077ac8(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    int iVar1;
    undefined **ppuVar2;

    _DT_INIT();
    iVar1 = 0;
    ppuVar2 = &__DT_INIT_ARRAY;
    do {
        iVar1 = iVar1 + 1;
        (*(code *)*ppuVar2)(param_1, param_2, param_3, *ppuVar2, param_4);
        ppuVar2 = ppuVar2 + 1;
    } while (iVar1 != 1);
    return;
}

void _DT_FINI(void)

{
    return;
}
