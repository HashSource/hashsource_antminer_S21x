// Decompiled: cgminer_f211a507e67b857c

void _DT_INIT(void)

{
    FUN_00012f10();
    return;
}

void entry(undefined4 param_1)

{
    undefined4 in_stack_00000000;

    __libc_start_main(FUN_00050c58, in_stack_00000000, &stack0x00000004,
                      0x690a1, &DAT_000690e1, param_1);
    /* WARNING: Subroutine does not return */
    abort();
}

/* WARNING: Removing unreachable block (ram,0x00012f24) */

void FUN_00012f10(void)

{
    __gmon_start__();
    return;
}

/* WARNING: Removing unreachable block (ram,0x00012f44) */
/* WARNING: Removing unreachable block (ram,0x00012f4e) */

void FUN_00012f34(void)

{
    return;
}

void _FINI_0(void)

{
    if (DAT_0008774c == '\0') {
        FUN_00012f34();
        DAT_0008774c = '\x01';
    }
    return;
}

/* WARNING: Removing unreachable block (ram,0x00012f74) */
/* WARNING: Removing unreachable block (ram,0x00012fbc) */
/* WARNING: Removing unreachable block (ram,0x00012f7e) */

void _INIT_0(void)

{
    return;
}

undefined4 FUN_00012fc0(char *param_1, char *param_2, socklen_t param_3)

{
    size_t sVar1;
    int iVar2;
    undefined4 uVar3;
    char acStack_38[15];
    undefined1 local_29;
    short local_28[2];
    undefined1 auStack_24[4];
    undefined1 auStack_20[8];
    short *local_18;
    short *local_14;
    short *local_10;
    int local_c;

    local_c = 0xffffffff;
    sVar1 = strlen(param_1);
    if (sVar1 < 0x10) {
        local_c = socket(2, 2, 0);
        if (local_c == -1) {
            perror("Failed to create socket for IPv4");
            uVar3 = 0xffffffff;
        } else {
            strncpy(acStack_38, param_1, 0xf);
            local_29 = 0;
            iVar2 = ioctl(local_c, 0x8915, acStack_38);
            if (iVar2 == -1) {
                close(local_c);
                local_c = socket(10, 2, 0);
                if (local_c == -1) {
                    perror("Failed to create socket for IPv6");
                    return 0xffffffff;
                }
                iVar2 = ioctl(local_c, 0x8915, acStack_38);
                if (iVar2 == -1) {
                    perror("IOCTL failed to get IP address");
                    close(local_c);
                    return 0xffffffff;
                }
            }
            local_10 = local_28;
            if (local_28[0] == 2) {
                local_18 = local_10;
                inet_ntop(2, auStack_24, param_2, param_3);
            } else {
                if (local_28[0] != 10) {
                    fwrite("Unknown address family.\n", 1, 0x18, stderr);
                    close(local_c);
                    return 0xffffffff;
                }
                local_14 = local_10;
                inet_ntop(10, auStack_20, param_2, param_3);
            }
            close(local_c);
            uVar3 = 0;
        }
    } else {
        fprintf(stderr,
                "Error: Interface name \'%s\' is too long. Max length is %d.\n",
                param_1, 0xf);
        uVar3 = 0xffffffff;
    }
    return uVar3;
}

undefined4 FUN_000131c0(undefined4 param_1, char *param_2, undefined4 param_3)

{
    int iVar1;
    size_t sVar2;
    undefined4 uVar3;
    uint local_c;

    iVar1 = FUN_00012fc0(param_1, param_2, param_3);
    if (iVar1 == 0) {
        sVar2 = strlen(param_2);
        for (local_c = 0; local_c < sVar2; local_c = local_c + 1) {
            if ((param_2[local_c] == ':') || (param_2[local_c] == '.')) {
                param_2[local_c] = 'X';
            }
        }
        uVar3 = 0;
    } else {
        fprintf(stderr, "Failed to get IP address from interface \'%s\'.\n",
                param_1);
        uVar3 = 0xffffffff;
    }
    return uVar3;
}

undefined4 FUN_000132a4(undefined4 param_1, undefined4 param_2)

{
    int iVar1;
    undefined4 uVar2;

    iVar1 = FUN_000131c0(&DAT_000691e4, param_1, param_2);
    if (iVar1 == 0) {
        uVar2 = 0;
    } else {
        fwrite("Failed to retrieve and modify IP address for eth0.\n", 1, 0x33,
               stderr);
        uVar2 = 0xffffffff;
    }
    return uVar2;
}

void FUN_00013310(int param_1)

{
    bool bVar1;
    int iVar2;
    int *piVar3;

    if ((param_1 != 0) && (*(int *)(param_1 + 4) != -1)) {
        piVar3 = (int *)(param_1 + 4);
        DataMemoryBarrier(0xf);
        do {
            iVar2 = *piVar3;
            bVar1 = (bool)hasExclusiveAccess(piVar3);
        } while (!bVar1);
        *piVar3 = iVar2 + -1;
        if (iVar2 + -1 == 0) {
            FUN_000680f0(param_1);
        }
    }
    return;
}

void FUN_00013374(pthread_mutex_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_mutex_lock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0001340c(pthread_mutex_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_mutex_unlock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_000134a4(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0001340c(param_1, param_2, param_3, param_4);
    (*DAT_00086aa0)();
    return;
}

void FUN_000134ec(pthread_rwlock_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_rwlock_rdlock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF RDLOCK ERROR ON LOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_00013584(pthread_rwlock_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_rwlock_unlock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0001361c(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_00013584(param_1, param_2, param_3, param_4);
    (*DAT_00086aa0)();
    return;
}

void FUN_000136c8(int param_1, int param_2, int param_3)

{
    undefined4 uVar1;
    int iVar2;
    int local_c;

    if ((param_1 != 0) && (param_2 != 0)) {
        for (local_c = 0; local_c < *(int *)(param_2 + 8);
             local_c = local_c + 1) {
            if (*(int *)(*(int *)(param_2 + 0x10) + local_c * 4) == param_3) {
                uVar1 = FUN_00067728(
                    *(undefined4 *)(*(int *)(param_2 + 0xc) + local_c * 4));
                FUN_0006611c(param_1, "status", uVar1);
                iVar2 = *(int *)(*(int *)(param_2 + 0x10) + local_c * 4);
                uVar1 = FUN_00067c3c(iVar2, iVar2 >> 0x1f);
                FUN_0006611c(param_1, &DAT_00069300, uVar1);
                uVar1 = FUN_00067728(
                    *(undefined4 *)(*(int *)(param_2 + 0x14) + local_c * 4));
                FUN_0006611c(param_1, &DAT_00069308, uVar1);
                return;
            }
        }
    }
    return;
}

void FUN_00013814(int param_1, undefined4 param_2)

{
    undefined4 local_20;
    undefined4 uStack_1c;
    undefined4 local_18;
    undefined4 uStack_14;
    undefined4 local_10;
    undefined4 local_c;

    local_18 = 0;
    uStack_14 = 0;
    local_20 = 0;
    uStack_1c = 0;
    local_c = 0;
    if (param_1 != 0) {
        local_10 = param_2;
        sscanf(&DAT_000955fc, "%lf", &local_18);
        sscanf(&DAT_0009561c, "%lf", &local_20);
        if (((double)CONCAT44(uStack_14, local_18) <
             (double)CONCAT44(uStack_1c, local_20) * 0.95) ||
            (((byte)DAT_00096ee8 & 8) != 0)) {
            local_c = 0xffffffff;
        } else {
            local_c = 0;
        }
        FUN_000136c8(param_1, local_10, local_c);
    }
    return;
}

void FUN_00013908(int param_1, undefined4 param_2)

{
    bool bVar1;
    int iVar2;
    undefined4 local_14;
    int local_10;

    bVar1 = false;
    if (param_1 != 0) {
        iVar2 = pthread_mutex_trylock((pthread_mutex_t *)&DAT_00087e7c);
        if (iVar2 == 0) {
            for (local_10 = 0; local_10 < DAT_00092028;
                 local_10 = local_10 + 1) {
                iVar2 = *(int *)(DAT_000920cc + local_10 * 4);
                if ((*(int *)(iVar2 + 100) != 0) &&
                    (*(char *)(iVar2 + 0x61) != '\x01')) {
                    bVar1 = true;
                    break;
                }
            }
            pthread_mutex_unlock((pthread_mutex_t *)&DAT_00087e7c);
        } else {
            bVar1 = true;
        }
        if (bVar1) {
            local_14 = 0;
        } else {
            local_14 = 0xffffffff;
        }
        FUN_000136c8(param_1, param_2, local_14);
    }
    return;
}

void FUN_00013a40(int param_1, undefined4 param_2)

{
    undefined4 local_c;

    local_c = 0;
    if (param_1 != 0) {
        if (((byte)DAT_00096ee8 & 1) != 0) {
            local_c = 0xffffffff;
        }
        FUN_000136c8(param_1, param_2, local_c);
    }
    return;
}

void FUN_00013ab4(int param_1, undefined4 param_2)

{
    undefined4 local_c;

    local_c = 0;
    if (param_1 != 0) {
        if (((byte)DAT_00096ee8 & 2) != 0) {
            local_c = 0xffffffff;
        }
        if (((byte)DAT_00096ee8 & 4) != 0) {
            local_c = 0xfffffffe;
        }
        FUN_000136c8(param_1, param_2, local_c);
    }
    return;
}

void FUN_00013b50(int param_1)

{
    undefined4 uVar1;
    undefined4 uVar2;
    int local_14;

    if (param_1 != 0) {
        for (local_14 = 0; *(int *)(&DAT_00086444 + local_14 * 0x18) != 0;
             local_14 = local_14 + 1) {
            uVar1 = FUN_00065ed4();
            uVar2 =
                FUN_00067728(*(undefined4 *)(&DAT_00086444 + local_14 * 0x18));
            FUN_0006611c(uVar1, &DAT_00069404, uVar2);
            (**(code **)(&DAT_00086448 + local_14 * 0x18))(
                uVar1, &DAT_00086444 + local_14 * 0x18);
            FUN_00066ea4(param_1, uVar1);
        }
    }
    return;
}

void FUN_00013c84(int param_1, undefined4 *param_2)

{
    undefined4 uVar1;
    char local_2c[16];
    undefined4 local_1c;
    undefined4 local_18;
    undefined4 local_14;
    undefined4 local_10;
    undefined4 local_c;

    local_1c = 0;
    local_18 = 0;
    local_14 = 0;
    local_10 = 0;
    local_2c[0] = '\0';
    local_2c[1] = '\0';
    local_2c[2] = '\0';
    local_2c[3] = '\0';
    local_2c[4] = '\0';
    local_2c[5] = '\0';
    local_2c[6] = '\0';
    local_2c[7] = '\0';
    local_2c[8] = '\0';
    local_2c[9] = '\0';
    local_2c[10] = '\0';
    local_2c[0xb] = '\0';
    local_2c[0xc] = '\0';
    local_2c[0xd] = '\0';
    local_2c[0xe] = '\0';
    local_2c[0xf] = '\0';
    if ((param_1 != 0) && (param_2 != (undefined4 *)0x0)) {
        local_c = FUN_00065ed4();
        uVar1 = FUN_00067728(&DAT_0006940c);
        FUN_0006611c(local_c, "STATUS", uVar1);
        uVar1 = FUN_00067c3c(DAT_00087754, DAT_00087754 >> 0x1f);
        FUN_0006611c(local_c, &DAT_00069418, uVar1);
        snprintf((char *)&local_1c, 0x10, "%s", *param_2);
        uVar1 = FUN_00067728(&local_1c);
        FUN_0006611c(local_c, &DAT_00069424, uVar1);
        snprintf(local_2c, 0x10, "%s", param_2[1]);
        uVar1 = FUN_00067728(local_2c);
        FUN_0006611c(local_c, "api_version", uVar1);
        FUN_0006611c(param_1, "STATUS", local_c);
    }
    return;
}

void FUN_00013e18(int param_1)

{
    undefined4 uVar1;
    char acStack_cc[64];
    char acStack_8c[64];
    char acStack_4c[64];
    undefined4 local_c;

    memset(acStack_4c, 0, 0x40);
    memset(acStack_8c, 0, 0x40);
    memset(acStack_cc, 0, 0x40);
    if (param_1 != 0) {
        local_c = FUN_00065ed4();
        snprintf(acStack_4c, 0x40, "%s", &DAT_00087b48);
        uVar1 = FUN_00067728(acStack_4c);
        FUN_0006611c(local_c, "miner_version", uVar1);
        snprintf(acStack_8c, 0x40, "%s", &DAT_00087c48);
        uVar1 = FUN_00067728(acStack_8c);
        FUN_0006611c(local_c, "CompileTime", uVar1);
        snprintf(acStack_cc, 0x40, "%s", &DAT_00087d48);
        if (DAT_000954ec != '\0') {
            snprintf(acStack_cc, 0x40, "%s", &DAT_000954ec);
        }
        uVar1 = FUN_00067728(acStack_cc);
        FUN_0006611c(local_c, &DAT_00069404, uVar1);
        FUN_0006611c(param_1, &DAT_00069450, local_c);
    }
    return;
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */

undefined4 FUN_00013f84(undefined4 param_1, int param_2)

{
    undefined4 uVar1;
    double dVar2;
    undefined8 uVar3;
    char acStack_874[2048];
    undefined2 local_74[2];
    char local_70[8];
    undefined4 local_68;
    undefined4 uStack_64;
    undefined4 local_60;
    undefined4 uStack_5c;
    undefined4 local_58;
    undefined4 uStack_54;
    undefined4 local_50;
    undefined4 uStack_4c;
    undefined4 local_44;
    undefined4 local_40;
    undefined4 local_3c;
    undefined4 local_38;
    int local_34;
    undefined8 local_30;
    undefined4 local_24;
    undefined4 local_20;
    undefined4 local_1c;
    int local_18;
    undefined4 local_14;
    undefined4 local_10;
    undefined4 uStack_c;

    local_14 = 0;
    local_44 = 0;
    local_40 = 0;
    local_3c = 0;
    local_38 = 0;
    local_1c = 0;
    local_20 = 0;
    local_24 = 0;
    local_10 = 0;
    uStack_c = 0;
    local_50 = 0;
    uStack_4c = 0;
    local_58 = 0;
    uStack_54 = 0;
    local_60 = 0;
    uStack_5c = 0;
    local_68 = 0;
    uStack_64 = 0;
    local_70[0] = '\0';
    local_70[1] = '\0';
    local_70[2] = '\0';
    local_70[3] = '\0';
    local_70[4] = '\0';
    local_70[5] = '\0';
    local_70[6] = '\0';
    local_70[7] = '\0';
    local_30 = 0;
    local_34 = 0;
    local_74[0] = 0;
    local_18 = param_2;
    if ((param_2 == 0) || (param_2 == 0)) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            snprintf(acStack_874, 0x800, "%s: input bad api param\n",
                     "get_summary");
            FUN_0001e4ec(3, acStack_874, 0);
        }
        local_14 = 0x80000002;
    } else {
        FUN_000585b0(local_74, 1);
        FUN_00013c84(param_1, local_18);
        FUN_00013374(&DAT_000954c8, "api_new.c", "get_summary", 0x159);
        FUN_00013e18(param_1);
        local_24 = FUN_00066a14();
        local_1c = FUN_00065ed4();
        if (DAT_000954e8 < 2) {
            local_10 = 0;
            uStack_c = 0;
            if (0 < DAT_000954e8) {
                FUN_0004e78c();
            }
        } else {
            local_10 = _DAT_00087478;
            uStack_c = DAT_0008747c;
        }
        uVar3 = FUN_00068f1c(local_10, uStack_c);
        uVar1 = FUN_00067c3c((int)uVar3, (int)((ulonglong)uVar3 >> 0x20));
        FUN_0006611c(local_1c, "elapsed", uVar1);
        sscanf(&DAT_000955ec, "%lf", &local_50);
        dVar2 = (double)CONCAT44(uStack_4c, local_50) * 100.0;
        uVar3 = FUN_00068f1c(SUB84(dVar2, 0), (int)((ulonglong)dVar2 >> 0x20));
        dVar2 =
            (double)FUN_00068e84((int)uVar3, (int)((ulonglong)uVar3 >> 0x20));
        uVar1 = FUN_00067df4(SUB84(dVar2 / 100.0, 0));
        FUN_0006611c(local_1c, "rate_5s", uVar1);
        sscanf(&DAT_000955fc, "%lf", &local_58);
        dVar2 = (double)CONCAT44(uStack_54, local_58) * 100.0;
        uVar3 = FUN_00068f1c(SUB84(dVar2, 0), (int)((ulonglong)dVar2 >> 0x20));
        dVar2 =
            (double)FUN_00068e84((int)uVar3, (int)((ulonglong)uVar3 >> 0x20));
        uVar1 = FUN_00067df4(SUB84(dVar2 / 100.0, 0));
        FUN_0006611c(local_1c, "rate_30m", uVar1);
        sscanf(&DAT_0009560c, "%lf", &local_60);
        dVar2 = (double)CONCAT44(uStack_5c, local_60) * 100.0;
        uVar3 = FUN_00068f1c(SUB84(dVar2, 0), (int)((ulonglong)dVar2 >> 0x20));
        dVar2 =
            (double)FUN_00068e84((int)uVar3, (int)((ulonglong)uVar3 >> 0x20));
        uVar1 = FUN_00067df4(SUB84(dVar2 / 100.0, 0));
        FUN_0006611c(local_1c, "rate_avg", uVar1);
        sscanf(&DAT_0009561c, "%lf", &local_68);
        dVar2 = (double)CONCAT44(uStack_64, local_68) * 100.0;
        uVar3 = FUN_00068f1c(SUB84(dVar2, 0), (int)((ulonglong)dVar2 >> 0x20));
        dVar2 =
            (double)FUN_00068e84((int)uVar3, (int)((ulonglong)uVar3 >> 0x20));
        uVar1 = FUN_00067df4(SUB84(dVar2 / 100.0, 0));
        FUN_0006611c(local_1c, "rate_ideal", uVar1);
        snprintf(local_70, 8, "%s/s", &DAT_0009562c);
        uVar1 = FUN_00067728(local_70);
        FUN_0006611c(local_1c, "rate_unit", uVar1);
        local_34 = DAT_00095228;
        uVar1 = FUN_00067c3c(DAT_00095228, DAT_00095228 >> 0x1f);
        FUN_0006611c(local_1c, "hw_all", uVar1);
        local_30 = CONCAT44(DAT_00087e70._4_4_, (undefined4)DAT_00087e70);
        uVar1 = FUN_00067c3c((undefined4)DAT_00087e70, DAT_00087e70._4_4_);
        FUN_0006611c(local_1c, "bestshare", uVar1);
        local_20 = FUN_00066a14();
        FUN_00013b50(local_20);
        FUN_0006611c(local_1c, "status", local_20);
        FUN_00066ea4(local_24, local_1c);
        FUN_0006611c(param_1, "SUMMARY", local_24);
        FUN_000134a4(&DAT_000954c8, "api_new.c", "get_summary", 0x18e);
    }
    return local_14;
}

undefined4 FUN_000144c4(int param_1, int param_2)

{
    undefined4 uVar1;
    time_t tVar2;
    int iVar3;
    undefined8 uVar4;
    char acStack_960[2048];
    undefined4 local_160;
    undefined4 local_15c;
    undefined4 local_158;
    undefined4 local_154;
    undefined4 local_150;
    undefined4 local_14c;
    char local_148[8];
    undefined4 local_140;
    uint local_13c;
    uint local_138;
    char acStack_134[128];
    char acStack_b4[128];
    undefined4 local_34;
    undefined4 local_30;
    undefined4 local_2c;
    undefined4 local_28;
    int local_24;
    undefined4 local_20;
    undefined4 local_1c;
    int local_18;
    undefined4 local_14;
    int local_10;
    int local_c;

    local_14 = 0;
    local_c = 0;
    local_34 = 0;
    local_30 = 0;
    local_2c = 0;
    local_28 = 0;
    local_1c = 0;
    local_20 = 0;
    local_18 = param_2;
    memset(acStack_b4, 0, 0x80);
    memset(acStack_134, 0, 0x80);
    local_140._0_1_ = '\0';
    local_140._1_1_ = '\0';
    local_140._2_1_ = '\0';
    local_140._3_1_ = '\0';
    local_13c = 0;
    local_138 = 0;
    local_148[0] = '\0';
    local_148[1] = '\0';
    local_148[2] = '\0';
    local_148[3] = '\0';
    local_148[4] = '\0';
    local_148[5] = '\0';
    local_148[6] = '\0';
    local_148[7] = '\0';
    local_160 = 0;
    local_15c = 0;
    local_158 = 0;
    local_154 = 0;
    local_150 = 0;
    local_14c = 0;
    local_10 = 0;
    if ((local_18 == 0) || (param_1 == 0)) {
        if ((DAT_00091f58 != '\0') ||
            ((DAT_00087769 != '\0' || (2 < DAT_0008697c)))) {
            snprintf(acStack_960, 0x800, "%s: input bad api param\n",
                     "get_pools");
            FUN_0001e4ec(3, acStack_960, 0);
        }
        local_14 = 0x80000002;
    } else {
        FUN_00013c84(param_1, local_18);
        FUN_00013e18(param_1);
        local_1c = FUN_00066a14();
        for (local_c = 0; local_c < DAT_00092028; local_c = local_c + 1) {
            local_24 = *(int *)(DAT_000920cc + local_c * 4);
            if (local_24 != 0) {
                local_20 = FUN_00065ed4();
                uVar1 = FUN_00067c3c(local_c, local_c >> 0x1f);
                FUN_0006611c(local_20, "index", uVar1);
                memset(acStack_b4, 0, 0x80);
                snprintf(acStack_b4, 0x80, "%s",
                         *(undefined4 *)(local_24 + 0xa4));
                uVar1 = FUN_00067728(acStack_b4);
                FUN_0006611c(local_20, &DAT_000694ec, uVar1);
                memset(acStack_134, 0, 0x80);
                snprintf(acStack_134, 0x80, "%s",
                         *(undefined4 *)(local_24 + 0xac));
                uVar1 = FUN_00067728(acStack_134);
                FUN_0006611c(local_20, &DAT_000694f0, uVar1);
                memset(&local_140, 0, 0xc);
                iVar3 = *(int *)(local_24 + 100);
                if (iVar3 == 1) {
                    if (*(char *)(local_24 + 0x61) == '\0') {
                        local_140._0_1_ = 'A';
                        local_140._1_1_ = 'l';
                        local_140._2_1_ = 'i';
                        local_140._3_1_ = 'v';
                        local_13c = CONCAT22(local_13c._2_2_, 0x65);
                    } else {
                        local_140._0_1_ = 'D';
                        local_140._1_1_ = 'e';
                        local_140._2_1_ = 'a';
                        local_140._3_1_ = 'd';
                        local_13c = local_13c & 0xffffff00;
                    }
                } else if (iVar3 == 0) {
                    local_140._0_1_ = 'D';
                    local_140._1_1_ = 'i';
                    local_140._2_1_ = 's';
                    local_140._3_1_ = 'a';
                    local_13c._0_1_ = 'b';
                    local_13c._1_1_ = 'l';
                    local_13c._2_1_ = 'e';
                    local_13c._3_1_ = 'd';
                    local_138 = local_138 & 0xffffff00;
                } else if (iVar3 == 2) {
                    local_140._0_1_ = 'R';
                    local_140._1_1_ = 'e';
                    local_140._2_1_ = 'j';
                    local_140._3_1_ = 'e';
                    local_13c._0_1_ = 'c';
                    local_13c._1_1_ = 't';
                    local_13c._2_1_ = 'i';
                    local_13c._3_1_ = 'n';
                    local_138 = CONCAT22(local_138._2_2_, 0x67);
                } else {
                    local_140._0_1_ = 'U';
                    local_140._1_1_ = 'n';
                    local_140._2_1_ = 'k';
                    local_140._3_1_ = 'n';
                    local_13c._0_1_ = 'o';
                    local_13c._1_1_ = 'w';
                    local_13c._2_1_ = 'n';
                    local_13c._3_1_ = '\0';
                }
                uVar1 = FUN_00067728(&local_140);
                FUN_0006611c(local_20, "status", uVar1);
                uVar1 = FUN_00067c3c(*(int *)(local_24 + 4),
                                     *(int *)(local_24 + 4) >> 0x1f);
                FUN_0006611c(local_20, "priority", uVar1);
                uVar1 = FUN_00067c3c(*(undefined4 *)(local_24 + 0x74), 0);
                FUN_0006611c(local_20, "getworks", uVar1);
                uVar1 = FUN_00067c3c(*(undefined4 *)(local_24 + 8),
                                     *(undefined4 *)(local_24 + 0xc));
                FUN_0006611c(local_20, "accepted", uVar1);
                uVar1 = FUN_00067c3c(*(undefined4 *)(local_24 + 0x10),
                                     *(undefined4 *)(local_24 + 0x14));
                FUN_0006611c(local_20, "rejected", uVar1);
                uVar1 = FUN_00067c3c(*(undefined4 *)(local_24 + 0x7c), 0);
                FUN_0006611c(local_20, "discarded", uVar1);
                uVar1 = FUN_00067c3c(*(undefined4 *)(local_24 + 0x78), 0);
                FUN_0006611c(local_20, "stale", uVar1);
                memset(local_148, 0, 8);
                snprintf(local_148, 8, "%s", local_24 + 0x30);
                uVar1 = FUN_00067728(local_148);
                FUN_0006611c(local_20, &DAT_0006956c, uVar1);
                uVar1 = FUN_00067c3c(*(undefined4 *)(local_24 + 0x28),
                                     *(undefined4 *)(local_24 + 0x2c));
                FUN_0006611c(local_20, "diff1", uVar1);
                uVar4 = FUN_00068f1c(*(undefined4 *)(local_24 + 0x48),
                                     *(undefined4 *)(local_24 + 0x4c));
                uVar1 =
                    FUN_00067c3c((int)uVar4, (int)((ulonglong)uVar4 >> 0x20));
                FUN_0006611c(local_20, "diffa", uVar1);
                uVar4 = FUN_00068f1c(*(undefined4 *)(local_24 + 0x50),
                                     *(undefined4 *)(local_24 + 0x54));
                uVar1 =
                    FUN_00067c3c((int)uVar4, (int)((ulonglong)uVar4 >> 0x20));
                FUN_0006611c(local_20, "diffr", uVar1);
                uVar4 = FUN_00068f1c(*(undefined4 *)(local_24 + 0x58),
                                     *(undefined4 *)(local_24 + 0x5c));
                uVar1 =
                    FUN_00067c3c((int)uVar4, (int)((ulonglong)uVar4 >> 0x20));
                FUN_0006611c(local_20, "diffs", uVar1);
                uVar4 = FUN_00068f1c(*(undefined4 *)(local_24 + 0x168),
                                     *(undefined4 *)(local_24 + 0x16c));
                uVar1 =
                    FUN_00067c3c((int)uVar4, (int)((ulonglong)uVar4 >> 0x20));
                FUN_0006611c(local_20, "lsdiff", uVar1);
                memset(&local_160, 0, 0x18);
                if (*(int *)(local_24 + 0x160) < 1) {
                    local_160 = CONCAT22(local_160._2_2_, 0x30);
                } else {
                    tVar2 = time((time_t *)0x0);
                    local_10 = tVar2 - *(int *)(local_24 + 0x160);
                    if (local_10 < 0) {
                        local_10 = 0;
                    }
                    snprintf((char *)&local_160, 0x18, "%d:%02d:%02d",
                             local_10 / 0xe10, (local_10 % 0xe10) / 0x3c,
                             (local_10 % 0xe10) % 0x3c);
                }
                uVar1 = FUN_00067728(&local_160);
                FUN_0006611c(local_20, "lstime", uVar1);
                FUN_00066ea4(local_1c, local_20);
            }
        }
        FUN_0006611c(param_1, "POOLS", local_1c);
    }
    return local_14;
}

undefined4 FUN_00014d2c(int param_1, int param_2)

{
    undefined4 uVar1;
    char *pcVar2;
    char acStack_b50[2048];
    char acStack_350[512];
    undefined4 local_150;
    undefined4 local_14c;
    undefined4 local_148;
    undefined2 local_144;
    undefined1 local_142;
    undefined1 auStack_140[128];
    undefined1 auStack_c0[128];
    undefined4 local_40;
    undefined4 local_3c;
    undefined2 local_38;
    undefined4 local_34;
    undefined4 local_30;
    undefined4 local_2c;
    undefined4 local_28;
    FILE *local_24;
    undefined4 local_20;
    undefined4 local_1c;
    undefined4 local_18;
    int local_14;
    undefined4 local_10;
    undefined4 local_c;

    local_c = 0;
    local_10 = 0;
    local_34 = 0;
    local_30 = 0;
    local_2c = 0;
    local_28 = 0;
    local_18 = 0;
    local_1c = 0;
    local_40 = 0;
    local_3c = 0;
    local_38 = 0;
    local_14 = param_2;
    memset(auStack_c0, 0, 0x80);
    memset(auStack_140, 0, 0x80);
    local_150 = 0;
    local_14c = 0;
    local_148 = 0;
    local_144 = 0;
    local_142 = 0;
    memset(acStack_350, 0, 0x200);
    local_20 = 0;
    if ((local_14 == 0) || (param_1 == 0)) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            snprintf(acStack_b50, 0x800, "%s: input bad api param\n",
                     "get_warning");
            FUN_0001e4ec(3, acStack_b50, 0);
        }
        local_c = 0x80000002;
    } else {
        FUN_00013c84(param_1, local_14);
        FUN_00013e18(param_1);
        local_24 = fopen64("/tmp/warning.log", "r");
        if (local_24 == (FILE *)0x0) {
            local_c = 0x80000001;
        } else {
            local_18 = FUN_00066a14();
            while (pcVar2 = fgets(acStack_350, 0x200, local_24),
                   pcVar2 != (char *)0x0) {
                memset(&local_40, 0, 10);
                memset(auStack_c0, 0, 0x80);
                memset(auStack_140, 0, 0x80);
                memset(&local_150, 0, 0xf);
                sscanf(acStack_350, "%[^;]; %[^;]; %[^;]; %s", &local_40,
                       auStack_c0, auStack_140, &local_150);
                memset(acStack_350, 0, 0x200);
                local_1c = FUN_00065ed4();
                uVar1 = FUN_00067728(&local_40);
                FUN_0006611c(local_1c, &DAT_00069300, uVar1);
                uVar1 = FUN_00067728(auStack_c0);
                FUN_0006611c(local_1c, "cause", uVar1);
                uVar1 = FUN_00067728(auStack_140);
                FUN_0006611c(local_1c, "suggestion", uVar1);
                uVar1 = FUN_00067728(&local_150);
                FUN_0006611c(local_1c, "timestamp", uVar1);
                FUN_00066ea4(local_18, local_1c);
            }
            fclose(local_24);
            FUN_0006611c(param_1, "WARNING", local_18);
        }
    }
    return local_c;
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */

undefined4 FUN_000150bc(int param_1, int param_2)

{
    char acStack_858[2048];
    undefined2 local_58[2];
    undefined4 local_54;
    undefined4 local_50;
    undefined4 local_4c;
    undefined4 local_48;
    int local_44;
    undefined4 local_40;
    undefined4 uStack_3c;
    undefined4 local_38;
    undefined4 local_34;
    int local_30;
    undefined4 local_2c;
    undefined4 local_28;
    int local_24;

    local_28 = 0;
    local_2c = 0;
    local_24 = 0;
    local_54 = 0;
    local_50 = 0;
    local_4c = 0;
    local_48 = 0;
    local_58[0] = 0;
    local_34 = 0;
    local_38 = 0;
    local_40 = 0;
    uStack_3c = 0;
    local_30 = param_2;
    if ((param_2 == 0) || (param_1 == 0)) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            snprintf(acStack_858, 0x800, "%s: input bad api param\n",
                     "get_stats");
            FUN_0001e4ec(3, acStack_858, 0);
        }
        local_28 = 0x80000002;
    } else {
        FUN_000585b0(local_58, 1);
        FUN_00013c84(param_1, local_30);
        FUN_00013e18(param_1);
        local_34 = FUN_00066a14();
        local_24 = 0;
        while (true) {
            if (DAT_000941a8 <= local_24)
                break;
            local_44 = FUN_0002ef94(local_24);
            if ((local_44 != 0) && (*(int *)(local_44 + 4) != 0)) {
                if (*(int *)(*(int *)(local_44 + 4) + 0x1c) == 0) {
                    local_38 = 0;
                } else {
                    local_38 =
                        (**(code **)(*(int *)(local_44 + 4) + 0x1c))(local_44);
                    FUN_00066ea4(local_34, local_38);
                }
            }
            local_24 = local_24 + 1;
        }
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            snprintf(acStack_858, 0x800,
                     "total_mhashes_done = %lf\n new_total_mhashes_done = "
                     "%lf\n total_secs = %lf\n, new_total_secs = %lf",
                     acStack_858, DAT_00091f50, DAT_00091f54, DAT_00092098,
                     DAT_0009209c, _DAT_00087478, DAT_0008747c, DAT_00087480,
                     DAT_00087484);
            FUN_0001e4ec(7, acStack_858, 0);
        }
        FUN_0006611c(param_1, "STATS", local_34);
    }
    return local_28;
}

undefined4 FUN_0001539c(undefined4 param_1, int param_2)

{
    undefined4 uVar1;
    char acStack_848[2048];
    undefined2 local_48[2];
    char local_44[8];
    undefined4 local_3c;
    undefined4 local_38;
    undefined4 local_34;
    undefined4 local_30;
    undefined4 local_2c;
    undefined4 local_28;
    undefined4 local_24;
    int local_20;
    undefined4 local_1c;
    int local_18;
    undefined4 local_14;
    int local_10;
    int local_c;

    local_14 = 0;
    local_c = 0;
    local_10 = 0;
    local_18 = 0;
    local_1c = 0;
    local_3c = 0;
    local_38 = 0;
    local_44[0] = '\0';
    local_44[1] = '\0';
    local_44[2] = '\0';
    local_44[3] = '\0';
    local_44[4] = '\0';
    local_44[5] = '\0';
    local_44[6] = '\0';
    local_44[7] = '\0';
    local_48[0] = 0;
    local_24 = 0;
    local_28 = 0;
    local_2c = 0;
    local_30 = 0;
    local_34 = 0;
    local_20 = param_2;
    if ((param_2 == 0) || (param_2 == 0)) {
        if ((DAT_00091f58 != '\0') ||
            ((DAT_00087769 != '\0' || (2 < DAT_0008697c)))) {
            snprintf(acStack_848, 0x800, "%s: input bad api param\n",
                     "get_rate");
            FUN_0001e4ec(3, acStack_848, 0);
        }
        local_14 = 0x80000002;
    } else {
        FUN_000585b0(local_48, 1);
        FUN_00013c84(param_1, local_20);
        FUN_00013e18(param_1);
        FUN_00013374(&DAT_000954c8, "api_new.c", "get_rate", 0x271);
        local_18 = DAT_00096ee4;
        if (0x17 < DAT_00096ee4) {
            local_18 = 0x18;
        }
        local_24 = FUN_00066a14();
        local_30 = FUN_00065ed4();
        snprintf(local_44, 8, "%s/s", &DAT_0009562c);
        uVar1 = FUN_00067728(local_44);
        FUN_0006611c(local_30, &DAT_0006967c, uVar1);
        local_28 = FUN_00066a14();
        for (local_c = 0; local_c < local_18; local_c = local_c + 1) {
            memset(&local_3c, 0, 8);
            snprintf((char *)&local_3c, 8, "%dmin", (local_c + 1) * 0xf);
            uVar1 = FUN_00067728(&local_3c);
            FUN_00066ea4(local_28, uVar1);
        }
        FUN_0006611c(local_30, "xAxis", local_28);
        local_28 = FUN_00066a14();
        for (local_c = 0; local_c < DAT_000954e4; local_c = local_c + 1) {
            local_2c = FUN_00065ed4();
            memset(&local_3c, 0, 8);
            snprintf((char *)&local_3c, 8, "chain%d",
                     *(undefined4 *)(&DAT_00095648 + local_c * 0x610));
            uVar1 = FUN_00067728(&local_3c);
            FUN_0006611c(local_2c, &DAT_0006969c, uVar1);
            local_34 = FUN_00066a14();
            for (local_10 = 0; local_10 < local_18; local_10 = local_10 + 1) {
                uVar1 = FUN_00067c3c(
                    *(int *)(&DAT_000954e0 +
                             (local_c * 0x184 + local_10 + 0xb2) * 4),
                    *(int *)(&DAT_000954e0 +
                             (local_c * 0x184 + local_10 + 0xb2) * 4) >>
                        0x1f);
                FUN_00066ea4(local_34, uVar1);
            }
            FUN_0006611c(local_2c, &DAT_000696a4, local_34);
            FUN_00066ea4(local_28, local_2c);
        }
        FUN_0006611c(local_30, "series", local_28);
        FUN_00066ea4(local_24, local_30);
        FUN_0006611c(param_1, &DAT_000696b4, local_24);
        FUN_000134a4(&DAT_000954c8, "api_new.c", "get_rate", 0x298);
    }
    return local_14;
}

undefined4 FUN_000157c8(undefined4 param_1, undefined4 param_2)

{
    int iVar1;
    char acStack_80c[2048];
    undefined4 local_c;

    local_c = 0;
    if ((DAT_00087768 != '\0') &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (6 < DAT_0008697c)))) {
        snprintf(acStack_80c, 0x800,
                 "<<<<<<<<<<<<<<<<<<<<exec %s start>>>>>>>>>>>>>>>>",
                 "reload_config", param_2, param_1);
        FUN_0001e4ec(7, acStack_80c, 0);
    }
    iVar1 = strcmp(&DAT_00087758, DAT_00086440);
    if (iVar1 == 0) {
        FUN_00050784();
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            snprintf(acStack_80c, 0x800,
                     "<<<<<<<<<<<<<<<<<<<<exec %s end>>>>>>>>>>>>>>>>>>",
                     "reload_config", param_2, param_1);
            FUN_0001e4ec(7, acStack_80c, 0);
        }
    } else {
        local_c = 0x80000005;
    }
    return local_c;
}

undefined4 FUN_00015948(undefined4 param_1, undefined4 param_2)

{
    int iVar1;
    size_t sVar2;
    char acStack_814[2048];
    char local_14[4];
    undefined2 local_10;
    undefined4 local_c;

    local_c = 0;
    if ((DAT_00087768 != '\0') &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (6 < DAT_0008697c)))) {
        snprintf(acStack_814, 0x800,
                 "<<<<<<<<<<<<<<<<<<<<exec %s start>>>>>>>>>>>>>>>>",
                 "enter_sleep", param_2, param_1);
        FUN_0001e4ec(7, acStack_814, 0);
    }
    iVar1 = strcmp(&DAT_00087758, DAT_00086440);
    if (iVar1 == 0) {
        builtin_strncpy(local_14, "slee", 4);
        local_10 = 0x70;
        sVar2 = strlen(local_14);
        FUN_000585b0(local_14, sVar2);
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            snprintf(acStack_814, 0x800,
                     "<<<<<<<<<<<<<<<<<<<<exec %s end>>>>>>>>>>>>>>>>>>",
                     "enter_sleep", param_2, param_1);
            FUN_0001e4ec(7, acStack_814, 0);
        }
    } else {
        local_c = 0x80000005;
    }
    return local_c;
}

void FUN_00015b04(int param_1, char param_2, int param_3, char *param_4)

{
    uint uVar1;
    undefined4 uVar2;
    char local_44[48];
    undefined2 local_14[2];
    undefined4 local_10;
    undefined4 local_c;

    local_c = 0;
    local_10 = 0;
    local_14[0] = 0;
    local_44[0] = '\0';
    local_44[1] = '\0';
    local_44[2] = '\0';
    local_44[3] = '\0';
    local_44[4] = '\0';
    local_44[5] = '\0';
    local_44[6] = '\0';
    local_44[7] = '\0';
    local_44[8] = '\0';
    local_44[9] = '\0';
    local_44[10] = '\0';
    local_44[0xb] = '\0';
    local_44[0xc] = '\0';
    local_44[0xd] = '\0';
    local_44[0xe] = '\0';
    local_44[0xf] = '\0';
    local_44[0x10] = '\0';
    local_44[0x11] = '\0';
    local_44[0x12] = '\0';
    local_44[0x13] = '\0';
    local_44[0x14] = '\0';
    local_44[0x15] = '\0';
    local_44[0x16] = '\0';
    local_44[0x17] = '\0';
    local_44[0x18] = '\0';
    local_44[0x19] = '\0';
    local_44[0x1a] = '\0';
    local_44[0x1b] = '\0';
    local_44[0x1c] = '\0';
    local_44[0x1d] = '\0';
    local_44[0x1e] = '\0';
    local_44[0x1f] = '\0';
    local_44[0x20] = '\0';
    local_44[0x21] = '\0';
    local_44[0x22] = '\0';
    local_44[0x23] = '\0';
    local_44[0x24] = '\0';
    local_44[0x25] = '\0';
    local_44[0x26] = '\0';
    local_44[0x27] = '\0';
    local_44[0x28] = '\0';
    local_44[0x29] = '\0';
    local_44[0x2a] = '\0';
    local_44[0x2b] = '\0';
    local_44[0x2c] = '\0';
    local_44[0x2d] = '\0';
    local_44[0x2e] = '\0';
    local_44[0x2f] = '\0';
    if ((param_1 != 0) && (param_4 != (char *)0x0)) {
        local_c = FUN_00066a14();
        local_10 = FUN_00065ed4();
        if (param_2 == '\0') {
            uVar1 = 0x972c;
        } else {
            uVar1 = 0x940c;
        }
        local_14[0] = *(undefined2 *)(uVar1 | 0x60000);
        uVar2 = FUN_00067728(local_14);
        FUN_0006611c(local_10, "STATUS", uVar2);
        uVar2 = FUN_00067c3c(DAT_00087754, DAT_00087754 >> 0x1f);
        FUN_0006611c(local_10, &DAT_00069730, uVar2);
        uVar2 = FUN_00067c3c(param_3, param_3 >> 0x1f);
        FUN_0006611c(local_10, &DAT_00069738, uVar2);
        if (param_3 == 7) {
            snprintf(local_44, 0x30, param_4, DAT_00092028);
        } else {
            snprintf(local_44, 0x30, "%s", param_4);
        }
        uVar2 = FUN_00067728(local_44);
        FUN_0006611c(local_10, &DAT_00069424, uVar2);
        uVar2 = FUN_00067728(DAT_00086c40);
        FUN_0006611c(local_10, "Description", uVar2);
        FUN_00066ea4(local_c, local_10);
        FUN_0006611c(param_1, "STATUS", local_c);
        if (param_2 != '\x01') {
            uVar2 = FUN_00067c3c(1, 0);
            FUN_0006611c(param_1, &DAT_0006974c, uVar2);
        }
    }
    return;
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */

undefined4 FUN_00015da4(int param_1, int param_2)

{
    longlong lVar1;
    undefined4 uVar2;
    double dVar3;
    double dVar4;
    undefined8 uVar5;
    char acStack_884[2048];
    undefined2 local_84[2];
    undefined4 local_80;
    undefined4 uStack_7c;
    undefined4 local_78;
    undefined4 uStack_74;
    undefined4 local_70;
    undefined4 uStack_6c;
    int local_64;
    double local_60;
    double local_58;
    double local_50;
    double local_48;
    double local_40;
    double local_38;
    undefined4 local_30;
    undefined4 uStack_2c;
    undefined4 local_28;
    undefined4 uStack_24;
    undefined4 local_1c;
    undefined4 local_18;
    undefined4 local_14;

    local_14 = 0;
    local_18 = 0;
    local_1c = 0;
    local_28 = 0;
    uStack_24 = 0;
    local_70 = 0;
    uStack_6c = 0;
    local_78 = 0;
    uStack_74 = 0;
    local_80 = 0;
    uStack_7c = 0;
    local_30 = 0;
    uStack_2c = 0;
    local_38 = 0.0;
    local_40 = 0.0;
    local_48 = 0.0;
    local_50 = 0.0;
    local_58 = 0.0;
    local_60 = 0.0;
    local_84[0] = 0;
    local_64 = param_2;
    if ((param_2 == 0) || (param_1 == 0)) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            snprintf(acStack_884, 0x800, "%s: input bad api param\n",
                     "get_summary_old");
            FUN_0001e4ec(3, acStack_884, 0);
        }
        local_14 = 0x80000002;
        lVar1 = CONCAT44(DAT_00091f90._4_4_, (undefined4)DAT_00091f90);
    } else {
        FUN_000585b0(local_84, 1);
        FUN_00013374(&DAT_000954c8, "api_new.c", "get_summary_old", 0x2ed);
        FUN_00015b04(param_1, 1, 0xb, *(undefined4 *)(local_64 + 8));
        local_18 = FUN_00066a14();
        local_1c = FUN_00065ed4();
        local_28 = _DAT_00087478;
        uStack_24 = DAT_0008747c;
        uVar5 = FUN_00068f1c(_DAT_00087478, DAT_0008747c);
        uVar2 = FUN_00067c3c((int)uVar5, (int)((ulonglong)uVar5 >> 0x20));
        FUN_0006611c(local_1c, "Elapsed", uVar2);
        sscanf(&DAT_000955ec, "%lf", &local_70);
        dVar3 = (double)CONCAT44(uStack_6c, local_70) * 100.0;
        uVar5 = FUN_00068f1c(SUB84(dVar3, 0), (int)((ulonglong)dVar3 >> 0x20));
        dVar3 =
            (double)FUN_00068e84((int)uVar5, (int)((ulonglong)uVar5 >> 0x20));
        uVar2 = FUN_00067df4(SUB84(dVar3 / 100.0, 0));
        FUN_0006611c(local_1c, "GHS 5s", uVar2);
        sscanf(&DAT_0009560c, "%lf", &local_80);
        dVar3 = (double)CONCAT44(uStack_7c, local_80) * 100.0;
        uVar5 = FUN_00068f1c(SUB84(dVar3, 0), (int)((ulonglong)dVar3 >> 0x20));
        dVar3 =
            (double)FUN_00068e84((int)uVar5, (int)((ulonglong)uVar5 >> 0x20));
        uVar2 = FUN_00067df4(SUB84(dVar3 / 100.0, 0));
        FUN_0006611c(local_1c, "GHS av", uVar2);
        sscanf(&DAT_000955fc, "%lf", &local_78);
        dVar3 = (double)CONCAT44(uStack_74, local_78) * 100.0;
        uVar5 = FUN_00068f1c(SUB84(dVar3, 0), (int)((ulonglong)dVar3 >> 0x20));
        dVar3 =
            (double)FUN_00068e84((int)uVar5, (int)((ulonglong)uVar5 >> 0x20));
        uVar2 = FUN_00067df4(SUB84(dVar3 / 100.0, 0));
        FUN_0006611c(local_1c, "GHS 30m", uVar2);
        uVar2 = FUN_00067c3c(DAT_0009523c, 0);
        FUN_0006611c(local_1c, "Found Blocks", uVar2);
        uVar2 = FUN_00067c3c((undefined4)DAT_00094150, DAT_00094150._4_4_);
        FUN_0006611c(local_1c, "Getwork", uVar2);
        uVar2 = FUN_00067c3c((undefined4)DAT_000920b8, DAT_000920b8._4_4_);
        FUN_0006611c(local_1c, "Accepted", uVar2);
        uVar2 = FUN_00067c3c((undefined4)DAT_00094180, DAT_00094180._4_4_);
        FUN_0006611c(local_1c, "Rejected", uVar2);
        uVar2 = FUN_00067c3c(DAT_00095228, DAT_00095228 >> 0x1f);
        FUN_0006611c(local_1c, "Hardware Errors", uVar2);
        dVar3 = _DAT_000940f0 + _DAT_00094178 + _DAT_000920c0;
        DAT_00091f90 =
            FUN_00068f1c(SUB84(dVar3, 0), (int)((ulonglong)dVar3 >> 0x20));
        dVar3 =
            (double)FUN_00068e84((undefined4)DAT_000920b8, DAT_000920b8._4_4_);
        if ((double)CONCAT44(DAT_0008747c, _DAT_00087478) == 0.0) {
            dVar4 = 1.0;
        } else {
            dVar4 = (double)CONCAT44(DAT_0008747c, _DAT_00087478);
        }
        dVar3 = (dVar3 / dVar4) * 60.0 * 100.0;
        uVar5 = FUN_00068f1c(SUB84(dVar3, 0), (int)((ulonglong)dVar3 >> 0x20));
        local_38 =
            (double)FUN_00068e84((int)uVar5, (int)((ulonglong)uVar5 >> 0x20));
        local_38 = local_38 / 100.0;
        uVar5 = FUN_00068f1c(SUB84(local_38 * 100.0, 0),
                             (int)((ulonglong)(local_38 * 100.0) >> 0x20));
        dVar3 =
            (double)FUN_00068e84((int)uVar5, (int)((ulonglong)uVar5 >> 0x20));
        uVar2 = FUN_00067df4(SUB84(dVar3 / 100.0, 0));
        FUN_0006611c(local_1c, "Utility", uVar2);
        uVar2 = FUN_00067c3c(DAT_000941d0, DAT_000941d4);
        FUN_0006611c(local_1c, "Discarded", uVar2);
        uVar2 = FUN_00067c3c(DAT_00095490, DAT_00095494);
        FUN_0006611c(local_1c, "Stale", uVar2);
        uVar2 = FUN_00067c3c(DAT_000920d0, 0);
        FUN_0006611c(local_1c, "Get Failures", uVar2);
        uVar2 = FUN_00067c3c(DAT_000920dc, 0);
        FUN_0006611c(local_1c, "Local Work", uVar2);
        uVar2 = FUN_00067c3c(DAT_00091f74, 0);
        FUN_0006611c(local_1c, "Remote Failures", uVar2);
        uVar2 = FUN_00067c3c(DAT_000953a0, 0);
        FUN_0006611c(local_1c, "Network Blocks", uVar2);
        uVar5 = FUN_00068f1c(SUB84(_DAT_00091f50 * 100.0, 0),
                             (int)((ulonglong)(_DAT_00091f50 * 100.0) >> 0x20));
        dVar3 =
            (double)FUN_00068e84((int)uVar5, (int)((ulonglong)uVar5 >> 0x20));
        uVar2 = FUN_00067df4(SUB84(dVar3 / 100.0, 0));
        FUN_0006611c(local_1c, "Total MH", uVar2);
        dVar3 =
            (double)FUN_00068e84((undefined4)DAT_00091f90, DAT_00091f90._4_4_);
        if ((double)CONCAT44(DAT_0008747c, _DAT_00087478) == 0.0) {
            dVar4 = 1.0;
        } else {
            dVar4 = (double)CONCAT44(DAT_0008747c, _DAT_00087478);
        }
        dVar3 = (dVar3 / dVar4) * 60.0 * 100.0;
        uVar5 = FUN_00068f1c(SUB84(dVar3, 0), (int)((ulonglong)dVar3 >> 0x20));
        local_40 =
            (double)FUN_00068e84((int)uVar5, (int)((ulonglong)uVar5 >> 0x20));
        local_40 = local_40 / 100.0;
        uVar2 = FUN_00067df4(SUB84(local_40, 0));
        FUN_0006611c(local_1c, "Work Utility", uVar2);
        uVar5 = FUN_00068f1c(SUB84(_DAT_000940f0 * 100.0, 0),
                             (int)((ulonglong)(_DAT_000940f0 * 100.0) >> 0x20));
        dVar3 =
            (double)FUN_00068e84((int)uVar5, (int)((ulonglong)uVar5 >> 0x20));
        uVar2 = FUN_00067df4(SUB84(dVar3 / 100.0, 0));
        FUN_0006611c(local_1c, "Difficulty Accepted", uVar2);
        uVar5 = FUN_00068f1c(SUB84(_DAT_00094178 * 100.0, 0),
                             (int)((ulonglong)(_DAT_00094178 * 100.0) >> 0x20));
        dVar3 =
            (double)FUN_00068e84((int)uVar5, (int)((ulonglong)uVar5 >> 0x20));
        uVar2 = FUN_00067df4(SUB84(dVar3 / 100.0, 0));
        FUN_0006611c(local_1c, "Difficulty Rejected", uVar2);
        uVar5 = FUN_00068f1c(SUB84(_DAT_000920c0 * 100.0, 0),
                             (int)((ulonglong)(_DAT_000920c0 * 100.0) >> 0x20));
        dVar3 =
            (double)FUN_00068e84((int)uVar5, (int)((ulonglong)uVar5 >> 0x20));
        uVar2 = FUN_00067df4(SUB84(dVar3 / 100.0, 0));
        FUN_0006611c(local_1c, "Difficulty Stale", uVar2);
        uVar2 = FUN_00067c3c((undefined4)DAT_00087e70, DAT_00087e70._4_4_);
        FUN_0006611c(local_1c, "Best Share", uVar2);
        if (DAT_00091f90 + DAT_00095228 == 0) {
            local_48 = 0.0;
        } else {
            lVar1 = (longlong)DAT_00095228;
            local_48 = (double)FUN_00068e84(
                (int)(DAT_00091f90 + DAT_00095228),
                (int)((ulonglong)(DAT_00091f90 + DAT_00095228) >> 0x20));
            local_48 = (double)lVar1 / local_48;
        }
        uVar5 = FUN_00068f1c(SUB84(local_48 * 100.0, 0),
                             (int)((ulonglong)(local_48 * 100.0) >> 0x20));
        dVar3 =
            (double)FUN_00068e84((int)uVar5, (int)((ulonglong)uVar5 >> 0x20));
        uVar2 = FUN_00067df4(SUB84(dVar3 / 100.0, 0));
        FUN_0006611c(local_1c, "Device Hardware%", uVar2);
        dVar3 = _DAT_00094178;
        if (DAT_00091f90 == 0) {
            local_50 = 0.0;
        } else {
            local_50 = (double)FUN_00068e84((undefined4)DAT_00091f90,
                                            DAT_00091f90._4_4_);
            local_50 = dVar3 / local_50;
        }
        uVar5 = FUN_00068f1c(SUB84(local_50 * 100.0, 0),
                             (int)((ulonglong)(local_50 * 100.0) >> 0x20));
        dVar3 =
            (double)FUN_00068e84((int)uVar5, (int)((ulonglong)uVar5 >> 0x20));
        uVar2 = FUN_00067df4(SUB84(dVar3 / 100.0, 0));
        FUN_0006611c(local_1c, "Device Rejected%", uVar2);
        if (_DAT_000940f0 + _DAT_00094178 + _DAT_000920c0 == 0.0) {
            local_58 = 0.0;
        } else {
            local_58 =
                _DAT_00094178 / (_DAT_000940f0 + _DAT_00094178 + _DAT_000920c0);
        }
        uVar5 = FUN_00068f1c(SUB84(local_58 * 100.0, 0),
                             (int)((ulonglong)(local_58 * 100.0) >> 0x20));
        dVar3 =
            (double)FUN_00068e84((int)uVar5, (int)((ulonglong)uVar5 >> 0x20));
        uVar2 = FUN_00067df4(SUB84(dVar3 / 100.0, 0));
        FUN_0006611c(local_1c, "Pool Rejected%", uVar2);
        if (_DAT_000940f0 + _DAT_00094178 + _DAT_000920c0 == 0.0) {
            local_60 = 0.0;
        } else {
            local_60 =
                _DAT_000920c0 / (_DAT_000940f0 + _DAT_00094178 + _DAT_000920c0);
        }
        uVar5 = FUN_00068f1c(SUB84(local_60 * 100.0, 0),
                             (int)((ulonglong)(local_60 * 100.0) >> 0x20));
        dVar3 =
            (double)FUN_00068e84((int)uVar5, (int)((ulonglong)uVar5 >> 0x20));
        uVar2 = FUN_00067df4(SUB84(dVar3 / 100.0, 0));
        FUN_0006611c(local_1c, "Pool Stale%", uVar2);
        uVar2 = FUN_00067c3c(DAT_00095248, DAT_00095248 >> 0x1f);
        FUN_0006611c(local_1c, "Last getwork", uVar2);
        FUN_00066ea4(local_18, local_1c);
        FUN_0006611c(param_1, "SUMMARY", local_18);
        uVar2 = FUN_00067c3c(1, 0);
        FUN_0006611c(param_1, &DAT_0006974c, uVar2);
        FUN_000134a4(&DAT_000954c8, "api_new.c", "get_summary_old", 0x335);
        lVar1 = DAT_00091f90;
    }
    DAT_00091f90._4_4_ = (undefined4)((ulonglong)lVar1 >> 0x20);
    DAT_00091f90._0_4_ = (undefined4)lVar1;
    return local_14;
}

undefined4 FUN_00016aa0(int param_1, int param_2)

{
    time_t tVar1;
    undefined4 uVar2;
    int iVar3;
    uint *puVar4;
    double dVar5;
    ulonglong uVar6;
    undefined8 uVar7;
    undefined8 uVar8;
    char acStack_96c[2048];
    undefined4 local_16c;
    undefined4 local_168;
    undefined4 local_164;
    undefined4 local_160;
    undefined4 local_15c;
    undefined4 local_158;
    char local_154[8];
    undefined4 local_14c;
    uint local_148;
    uint local_144;
    char acStack_140[128];
    char acStack_c0[128];
    double dStack_40;
    int local_38;
    int local_34;
    undefined4 local_30;
    undefined4 uStack_2c;
    double local_28;
    undefined4 local_1c;
    undefined4 local_18;
    undefined4 local_14;
    int local_10;
    int local_c;

    local_14 = 0;
    local_18 = 0;
    local_1c = 0;
    local_c = 0;
    memset(acStack_c0, 0, 0x80);
    memset(acStack_140, 0, 0x80);
    local_14c._0_1_ = '\0';
    local_14c._1_1_ = '\0';
    local_14c._2_1_ = '\0';
    local_14c._3_1_ = '\0';
    local_148 = 0;
    local_144 = 0;
    local_154[0] = '\0';
    local_154[1] = '\0';
    local_154[2] = '\0';
    local_154[3] = '\0';
    local_154[4] = '\0';
    local_154[5] = '\0';
    local_154[6] = '\0';
    local_154[7] = '\0';
    local_16c = 0;
    local_168 = 0;
    local_164 = 0;
    local_160 = 0;
    local_15c = 0;
    local_158 = 0;
    local_10 = 0;
    local_28 = 0.0;
    local_30 = 0;
    uStack_2c = 0;
    local_34 = param_2;
    if ((param_2 == 0) || (param_1 == 0)) {
        if ((DAT_00091f58 != '\0') ||
            ((DAT_00087769 != '\0' || (2 < DAT_0008697c)))) {
            snprintf(acStack_96c, 0x800, "%s: input bad api param\n",
                     "get_pools_old");
            FUN_0001e4ec(3, acStack_96c, 0);
        }
        local_14 = 0x80000002;
    } else if (DAT_00092028 == 0) {
        FUN_00015b04(param_1, 0, 8, "No pools");
    } else {
        FUN_00015b04(param_1, 1, 7, *(undefined4 *)(param_2 + 8));
        local_18 = FUN_00066a14();
        for (local_c = 0; local_c < DAT_00092028; local_c = local_c + 1) {
            local_38 = *(int *)(DAT_000920cc + local_c * 4);
            if (*(char *)(local_38 + 0x69) == '\0') {
                local_1c = FUN_00065ed4();
                uVar2 = FUN_00067c3c(local_c, local_c >> 0x1f);
                FUN_0006611c(local_1c, &DAT_000698cc, uVar2);
                memset(acStack_c0, 0, 0x80);
                snprintf(acStack_c0, 0x80, "%s",
                         *(undefined4 *)(local_38 + 0xa4));
                uVar2 = FUN_00067728(acStack_c0);
                FUN_0006611c(local_1c, &DAT_000698d4, uVar2);
                memset(&local_14c, 0, 0xc);
                iVar3 = *(int *)(local_38 + 100);
                if (iVar3 == 1) {
                    if (*(char *)(local_38 + 0x61) == '\0') {
                        local_14c._0_1_ = 'A';
                        local_14c._1_1_ = 'l';
                        local_14c._2_1_ = 'i';
                        local_14c._3_1_ = 'v';
                        local_148 = CONCAT22(local_148._2_2_, 0x65);
                    } else {
                        local_14c._0_1_ = 'D';
                        local_14c._1_1_ = 'e';
                        local_14c._2_1_ = 'e';
                        local_14c._3_1_ = 'd';
                        local_148 = local_148 & 0xffffff00;
                    }
                } else if (iVar3 == 0) {
                    local_14c._0_1_ = 'D';
                    local_14c._1_1_ = 'i';
                    local_14c._2_1_ = 's';
                    local_14c._3_1_ = 'a';
                    local_148._0_1_ = 'b';
                    local_148._1_1_ = 'l';
                    local_148._2_1_ = 'e';
                    local_148._3_1_ = 'd';
                    local_144 = local_144 & 0xffffff00;
                } else if (iVar3 == 2) {
                    local_14c._0_1_ = 'R';
                    local_14c._1_1_ = 'e';
                    local_14c._2_1_ = 'j';
                    local_14c._3_1_ = 'e';
                    local_148._0_1_ = 'c';
                    local_148._1_1_ = 't';
                    local_148._2_1_ = 'i';
                    local_148._3_1_ = 'n';
                    local_144 = CONCAT22(local_144._2_2_, 0x67);
                } else {
                    local_14c._0_1_ = 'U';
                    local_14c._1_1_ = 'n';
                    local_14c._2_1_ = 'k';
                    local_14c._3_1_ = 'n';
                    local_148._0_1_ = 'o';
                    local_148._1_1_ = 'w';
                    local_148._2_1_ = 'n';
                    local_148._3_1_ = '\0';
                }
                uVar2 = FUN_00067728(&local_14c);
                FUN_0006611c(local_1c, "Status", uVar2);
                uVar2 = FUN_00067c3c(*(int *)(local_38 + 4),
                                     *(int *)(local_38 + 4) >> 0x1f);
                FUN_0006611c(local_1c, "Priority", uVar2);
                uVar2 = FUN_00067c3c(*(int *)(local_38 + 0x38),
                                     *(int *)(local_38 + 0x38) >> 0x1f);
                FUN_0006611c(local_1c, "Quota", uVar2);
                if (*(int *)(local_38 + 0x6c) == 0) {
                    uVar2 = FUN_00067728(&DAT_0006990c);
                    FUN_0006611c(local_1c, "Long Poll", uVar2);
                } else {
                    uVar2 = FUN_00067728(&DAT_000698fc);
                    FUN_0006611c(local_1c, "Long Poll", uVar2);
                }
                uVar2 = FUN_00067c3c(*(undefined4 *)(local_38 + 0x74), 0);
                FUN_0006611c(local_1c, "Getworks", uVar2);
                uVar2 = FUN_00067c3c(*(undefined4 *)(local_38 + 8),
                                     *(undefined4 *)(local_38 + 0xc));
                FUN_0006611c(local_1c, "Accepted", uVar2);
                uVar2 = FUN_00067c3c(*(undefined4 *)(local_38 + 0x10),
                                     *(undefined4 *)(local_38 + 0x14));
                FUN_0006611c(local_1c, "Rejected", uVar2);
                uVar2 = FUN_00067c3c(*(undefined4 *)(local_38 + 0x7c), 0);
                FUN_0006611c(local_1c, "Discarded", uVar2);
                uVar2 = FUN_00067c3c(*(undefined4 *)(local_38 + 0x78), 0);
                FUN_0006611c(local_1c, "Stale", uVar2);
                uVar2 = FUN_00067c3c(*(undefined4 *)(local_38 + 0x80), 0);
                FUN_0006611c(local_1c, "Get Failures", uVar2);
                uVar2 = FUN_00067c3c(*(undefined4 *)(local_38 + 0x84), 0);
                FUN_0006611c(local_1c, "Remote Failures", uVar2);
                memset(acStack_140, 0, 0x80);
                snprintf(acStack_140, 0x80, "%s",
                         *(undefined4 *)(local_38 + 0xac));
                uVar2 = FUN_00067728(acStack_140);
                FUN_0006611c(local_1c, &DAT_0006991c, uVar2);
                memset(&local_16c, 0, 0x18);
                if (*(int *)(local_38 + 0x160) < 1) {
                    local_16c = CONCAT22(local_16c._2_2_, 0x30);
                } else {
                    tVar1 = time((time_t *)0x0);
                    local_10 = tVar1 - *(int *)(local_38 + 0x160);
                    if (local_10 < 0) {
                        local_10 = 0;
                    }
                    snprintf((char *)&local_16c, 0x18, "%d:%02d:%02d",
                             local_10 / 0xe10, (local_10 % 0xe10) / 0x3c,
                             (local_10 % 0xe10) % 0x3c);
                }
                uVar2 = FUN_00067728(&local_16c);
                FUN_0006611c(local_1c, "Last Share Time", uVar2);
                memset(local_154, 0, 8);
                snprintf(local_154, 8, "%s", local_38 + 0x30);
                uVar2 = FUN_00067728(local_154);
                FUN_0006611c(local_1c, &DAT_00069934, uVar2);
                uVar2 = FUN_00067c3c(*(undefined4 *)(local_38 + 0x28),
                                     *(undefined4 *)(local_38 + 0x2c));
                FUN_0006611c(local_1c, "Diff1 Shares", uVar2);
                if (*(int *)(local_38 + 0xb8) == 0) {
                    uVar2 = FUN_00067728(&DAT_00069328);
                    FUN_0006611c(local_1c, "Proxy Type", uVar2);
                    uVar2 = FUN_00067728(&DAT_00069328);
                    FUN_0006611c(local_1c, "Proxy", uVar2);
                } else {
                    uVar2 = FUN_00020460(*(undefined4 *)(local_38 + 0xb4));
                    uVar2 = FUN_00067728(uVar2);
                    FUN_0006611c(local_1c, "Proxy Type", uVar2);
                    uVar2 = FUN_00067728(*(undefined4 *)(local_38 + 0xb8));
                    FUN_0006611c(local_1c, "Proxy", uVar2);
                }
                dVar5 = *(double *)(local_38 + 0x48) * 100.0;
                uVar8 = FUN_00068f1c(SUB84(dVar5, 0),
                                     (int)((ulonglong)dVar5 >> 0x20));
                dVar5 = (double)FUN_00068e84((int)uVar8,
                                             (int)((ulonglong)uVar8 >> 0x20));
                uVar2 = FUN_00067df4(SUB84(dVar5 / 100.0, 0));
                FUN_0006611c(local_1c, "Difficulty Accepted", uVar2);
                dVar5 = *(double *)(local_38 + 0x50) * 100.0;
                uVar8 = FUN_00068f1c(SUB84(dVar5, 0),
                                     (int)((ulonglong)dVar5 >> 0x20));
                dVar5 = (double)FUN_00068e84((int)uVar8,
                                             (int)((ulonglong)uVar8 >> 0x20));
                uVar2 = FUN_00067df4(SUB84(dVar5 / 100.0, 0));
                FUN_0006611c(local_1c, "Difficulty Rejected", uVar2);
                dVar5 = *(double *)(local_38 + 0x58) * 100.0;
                uVar8 = FUN_00068f1c(SUB84(dVar5, 0),
                                     (int)((ulonglong)dVar5 >> 0x20));
                dVar5 = (double)FUN_00068e84((int)uVar8,
                                             (int)((ulonglong)uVar8 >> 0x20));
                uVar2 = FUN_00067df4(SUB84(dVar5 / 100.0, 0));
                FUN_0006611c(local_1c, "Difficulty Stale", uVar2);
                dVar5 = *(double *)(local_38 + 0x168) * 100.0;
                uVar8 = FUN_00068f1c(SUB84(dVar5, 0),
                                     (int)((ulonglong)dVar5 >> 0x20));
                dVar5 = (double)FUN_00068e84((int)uVar8,
                                             (int)((ulonglong)uVar8 >> 0x20));
                uVar2 = FUN_00067df4(SUB84(dVar5 / 100.0, 0));
                FUN_0006611c(local_1c, "Last Share Difficulty", uVar2);
                if (*(char *)(local_38 + 0x290) == '\0') {
                    uVar2 = FUN_000680b0();
                } else {
                    uVar2 = FUN_00068090();
                }
                FUN_0006611c(local_1c, "Has Stratum", uVar2);
                if (*(char *)(local_38 + 0x291) == '\0') {
                    uVar2 = FUN_000680b0();
                } else {
                    uVar2 = FUN_00068090();
                }
                FUN_0006611c(local_1c, "Stratum Active", uVar2);
                if (*(char *)(local_38 + 0x291) == '\0') {
                    uVar2 = FUN_00067728(&DAT_00069328);
                    FUN_0006611c(local_1c, "Stratum URL", uVar2);
                } else {
                    uVar2 = FUN_00067728(*(undefined4 *)(local_38 + 0x240));
                    FUN_0006611c(local_1c, "Stratum URL", uVar2);
                }
                if (*(char *)(local_38 + 0x2f0) == '\0') {
                    uVar2 = FUN_000680b0();
                } else {
                    uVar2 = FUN_00068090();
                }
                FUN_0006611c(local_1c, "Has GBT", uVar2);
                puVar4 = (uint *)(local_38 + 0x170);
                uVar6 =
                    VectorAdd(*(undefined8 *)puVar4, *(undefined8 *)puVar4, 8);
                uVar8 = VectorAdd((uVar6 & 0xffffffff00000000) +
                                      (uVar6 & 0xffffffff),
                                  *(undefined8 *)puVar4, 8);
                uVar7 = VectorShiftLeft(uVar8, 5, 0x40, 0);
                uVar8 = VectorAdd(uVar8, uVar7, 8);
                dVar5 = (double)FUN_00068e84(
                    (uint)uVar8 + *puVar4,
                    (int)((ulonglong)uVar8 >> 0x20) +
                        *(int *)(local_38 + 0x174) +
                        (uint)CARRY4((uint)uVar8, *puVar4));
                uVar2 = FUN_00067df4(SUB84(dVar5 / 100.0, 0));
                FUN_0006611c(local_1c, "Best Share", uVar2);
                if (*(double *)(local_38 + 0x48) +
                        *(double *)(local_38 + 0x50) +
                        *(double *)(local_38 + 0x58) ==
                    0.0) {
                    local_28 = 0.0;
                } else {
                    local_28 = *(double *)(local_38 + 0x50) /
                               (*(double *)(local_38 + 0x48) +
                                *(double *)(local_38 + 0x50) +
                                *(double *)(local_38 + 0x58));
                }
                uVar8 =
                    FUN_00068f1c(SUB84(local_28 * 100.0, 0),
                                 (int)((ulonglong)(local_28 * 100.0) >> 0x20));
                dVar5 = (double)FUN_00068e84((int)uVar8,
                                             (int)((ulonglong)uVar8 >> 0x20));
                uVar2 = FUN_00067df4(SUB84(dVar5 / 100.0, 0));
                FUN_0006611c(local_1c, "Pool Rejected%", uVar2);
                if (*(double *)(local_38 + 0x48) +
                        *(double *)(local_38 + 0x50) +
                        *(double *)(local_38 + 0x58) ==
                    0.0) {
                    dStack_40 = 0.0;
                } else {
                    dStack_40 = *(double *)(local_38 + 0x58) /
                                (*(double *)(local_38 + 0x48) +
                                 *(double *)(local_38 + 0x50) +
                                 *(double *)(local_38 + 0x58));
                }
                uVar8 =
                    FUN_00068f1c(SUB84(dStack_40 * 100.0, 0),
                                 (int)((ulonglong)(dStack_40 * 100.0) >> 0x20));
                dVar5 = (double)FUN_00068e84((int)uVar8,
                                             (int)((ulonglong)uVar8 >> 0x20));
                uVar2 = FUN_00067df4(SUB84(dVar5 / 100.0, 0));
                FUN_0006611c(local_1c, "Pool Stale%%", uVar2);
                FUN_00066ea4(local_18, local_1c);
            }
        }
        FUN_0006611c(param_1, "POOLS", local_18);
        uVar2 = FUN_00067c3c(1, 0);
        FUN_0006611c(param_1, &DAT_0006974c, uVar2);
    }
    return local_14;
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */

undefined4 FUN_0001785c(int param_1, int param_2)

{
    undefined4 uVar1;
    int iVar2;
    double dVar3;
    undefined8 uVar4;
    char acStack_9dc[2048];
    char acStack_1dc[64];
    undefined2 local_19c[2];
    uint local_198[64];
    char local_98[32];
    undefined4 local_78;
    undefined4 local_74;
    undefined4 local_70;
    undefined4 local_6c;
    undefined4 local_68;
    undefined4 uStack_64;
    undefined4 local_60;
    undefined4 uStack_5c;
    undefined4 local_58;
    undefined4 uStack_54;
    undefined4 local_50;
    undefined4 uStack_4c;
    int local_44;
    int local_40;
    int local_3c;
    undefined4 local_38;
    undefined4 uStack_34;
    undefined4 local_30;
    undefined4 local_2c;
    undefined4 local_28;
    int local_24;
    int local_20;
    int local_1c;
    int local_18;
    int local_14;
    int local_10;
    int local_c;

    local_28 = 0;
    local_2c = 0;
    local_30 = 0;
    local_c = 0;
    local_10 = 0;
    local_14 = 0;
    local_38 = 0;
    uStack_34 = 0;
    local_50 = 0;
    uStack_4c = 0;
    local_58 = 0;
    uStack_54 = 0;
    local_60 = 0;
    uStack_5c = 0;
    local_68 = 0;
    uStack_64 = 0;
    local_3c = 0;
    local_78 = 0;
    local_74 = 0;
    local_70 = 0;
    local_6c = 0;
    local_98[0] = '\0';
    local_98[1] = '\0';
    local_98[2] = '\0';
    local_98[3] = '\0';
    local_98[4] = '\0';
    local_98[5] = '\0';
    local_98[6] = '\0';
    local_98[7] = '\0';
    local_98[8] = '\0';
    local_98[9] = '\0';
    local_98[10] = '\0';
    local_98[0xb] = '\0';
    local_98[0xc] = '\0';
    local_98[0xd] = '\0';
    local_98[0xe] = '\0';
    local_98[0xf] = '\0';
    local_98[0x10] = '\0';
    local_98[0x11] = '\0';
    local_98[0x12] = '\0';
    local_98[0x13] = '\0';
    local_98[0x14] = '\0';
    local_98[0x15] = '\0';
    local_98[0x16] = '\0';
    local_98[0x17] = '\0';
    local_98[0x18] = '\0';
    local_98[0x19] = '\0';
    local_98[0x1a] = '\0';
    local_98[0x1b] = '\0';
    local_98[0x1c] = '\0';
    local_98[0x1d] = '\0';
    local_98[0x1e] = '\0';
    local_98[0x1f] = '\0';
    memset(local_198, 0, 0x100);
    local_18 = 0;
    local_1c = 0;
    local_20 = 0;
    local_40 = 0;
    local_19c[0] = 0;
    memset(acStack_1dc, 0, 0x40);
    local_44 = param_2;
    if ((param_2 == 0) || (param_1 == 0)) {
        if ((DAT_00091f58 != '\0') ||
            ((DAT_00087769 != '\0' || (2 < DAT_0008697c)))) {
            snprintf(acStack_9dc, 0x800, "%s: input bad api param\n",
                     "get_stats_old");
            FUN_0001e4ec(3, acStack_9dc, 0);
        }
        local_30 = 0x80000002;
    } else {
        FUN_000585b0(local_19c, 1);
        FUN_00013374(&DAT_000954c8, "api_new.c", "get_stats_old", 0x3d3);
        FUN_00015b04(param_1, 1, 0x46, *(undefined4 *)(local_44 + 8));
        local_28 = FUN_00066a14();
        local_2c = FUN_00065ed4();
        uVar1 = FUN_00067728("1.0.0");
        FUN_0006611c(local_2c, "BMMiner", uVar1);
        uVar1 = FUN_00067728(&DAT_00087b48);
        FUN_0006611c(local_2c, "Miner", uVar1);
        uVar1 = FUN_00067728(&DAT_00087c48);
        FUN_0006611c(local_2c, "CompileTime", uVar1);
        snprintf(acStack_1dc, 0x40, "%s", &DAT_00087d48);
        if (DAT_000954ec != '\0') {
            snprintf(acStack_1dc, 0x40, "%s", &DAT_000954ec);
        }
        uVar1 = FUN_00067728(acStack_1dc);
        FUN_0006611c(local_2c, &DAT_000699d0, uVar1);
        FUN_00066ea4(local_28, local_2c);
        for (local_c = 0; local_c < DAT_000941a8; local_c = local_c + 1) {
            local_3c = FUN_0002ef94(local_c);
            local_2c = FUN_00065ed4();
            uVar1 = FUN_00067c3c(local_c, local_c >> 0x1f);
            FUN_0006611c(local_2c, "STATS", uVar1);
            snprintf((char *)&local_78, 0x10, "BTM_SOC%d", local_c);
            uVar1 = FUN_00067728(&local_78);
            FUN_0006611c(local_2c, &DAT_000699e4, uVar1);
            local_38 = _DAT_00087478;
            uStack_34 = DAT_0008747c;
            uVar4 = FUN_00068f1c(_DAT_00087478, DAT_0008747c);
            uVar1 = FUN_00067c3c((int)uVar4, (int)((ulonglong)uVar4 >> 0x20));
            FUN_0006611c(local_2c, "Elapsed", uVar1);
            uVar1 = FUN_00067c3c(*(undefined4 *)(local_3c + 0x124), 0);
            FUN_0006611c(local_2c, "Calls", uVar1);
            uVar1 = FUN_00067c3c(*(int *)(local_3c + 0x128),
                                 *(int *)(local_3c + 0x128) >> 0x1f);
            FUN_0006611c(local_2c, &DAT_000699f0, uVar1);
            uVar1 = FUN_00067c3c(*(int *)(local_3c + 0x130),
                                 *(int *)(local_3c + 0x130) >> 0x1f);
            FUN_0006611c(local_2c, &DAT_000699f8, uVar1);
            uVar1 = FUN_00067c3c(*(int *)(local_3c + 0x138),
                                 *(int *)(local_3c + 0x138) >> 0x1f);
            FUN_0006611c(local_2c, &DAT_000699fc, uVar1);
            sscanf(&DAT_000955ec, "%lf", &local_50);
            dVar3 = (double)CONCAT44(uStack_4c, local_50) * 100.0;
            uVar4 =
                FUN_00068f1c(SUB84(dVar3, 0), (int)((ulonglong)dVar3 >> 0x20));
            dVar3 = (double)FUN_00068e84((int)uVar4,
                                         (int)((ulonglong)uVar4 >> 0x20));
            uVar1 = FUN_00067df4(SUB84(dVar3 / 100.0, 0));
            FUN_0006611c(local_2c, "GHS 5s", uVar1);
            sscanf(&DAT_0009560c, "%lf", &local_60);
            dVar3 = (double)CONCAT44(uStack_5c, local_60) * 100.0;
            uVar4 =
                FUN_00068f1c(SUB84(dVar3, 0), (int)((ulonglong)dVar3 >> 0x20));
            dVar3 = (double)FUN_00068e84((int)uVar4,
                                         (int)((ulonglong)uVar4 >> 0x20));
            uVar1 = FUN_00067df4(SUB84(dVar3 / 100.0, 0));
            FUN_0006611c(local_2c, "GHS av", uVar1);
            sscanf(&DAT_000955fc, "%lf", &local_58);
            dVar3 = (double)CONCAT44(uStack_54, local_58) * 100.0;
            uVar4 =
                FUN_00068f1c(SUB84(dVar3, 0), (int)((ulonglong)dVar3 >> 0x20));
            dVar3 = (double)FUN_00068e84((int)uVar4,
                                         (int)((ulonglong)uVar4 >> 0x20));
            uVar1 = FUN_00067df4(SUB84(dVar3 / 100.0, 0));
            FUN_0006611c(local_2c, "rate_30m", uVar1);
            uVar1 = FUN_00067c3c(DAT_00086c6c, DAT_00086c6c >> 0x1f);
            FUN_0006611c(local_2c, &DAT_00069a00, uVar1);
            uVar1 = FUN_00067c3c(DAT_000954e4, DAT_000954e4 >> 0x1f);
            FUN_0006611c(local_2c, "miner_count", uVar1);
            for (local_10 = 0; (local_10 < DAT_000954e4 && (local_10 < 4));
                 local_10 = local_10 + 1) {
                local_18 =
                    local_18 + *(int *)(&DAT_0009564c + local_10 * 0x610);
            }
            iVar2 = DAT_000954e4;
            if (DAT_000954e4 == 0) {
                iVar2 = 1;
            }
            local_18 = FUN_000688c0(local_18, iVar2);
            uVar1 = FUN_00067c3c(local_18, local_18 >> 0x1f);
            FUN_0006611c(local_2c, "frequency", uVar1);
            uVar1 = FUN_00067c3c(DAT_00095634, DAT_00095634 >> 0x1f);
            FUN_0006611c(local_2c, "fan_num", uVar1);
            for (local_10 = 0; local_10 < DAT_00095634;
                 local_10 = local_10 + 1) {
                memset(local_98, 0, 0x20);
                snprintf(local_98, 0x20, "fan%d", local_10 + 1);
                uVar1 = FUN_00067c3c(
                    *(int *)(&DAT_000954e0 + (local_10 + 0x56) * 4),
                    *(int *)(&DAT_000954e0 + (local_10 + 0x56) * 4) >> 0x1f);
                FUN_0006611c(local_2c, local_98, uVar1);
            }
            uVar1 = FUN_00067c3c(DAT_000954e4, DAT_000954e4 >> 0x1f);
            FUN_0006611c(local_2c, "temp_num", uVar1);
            for (local_10 = 0; local_10 < 4; local_10 = local_10 + 1) {
                for (local_24 = 0; local_24 < DAT_000954e4;
                     local_24 = local_24 + 1) {
                    if (*(int *)(&DAT_00095648 + local_24 * 0x610) ==
                        local_10) {
                        memset(local_98, 0, 0x20);
                        local_1c = -0xff;
                        snprintf(local_98, 0x20, "temp%d", local_10 + 1);
                        for (local_14 = 0; local_14 < 4;
                             local_14 = local_14 + 1) {
                            if (local_1c < (&DAT_000954e4)[local_24 * 0x184 +
                                                           local_14 + 0xa8]) {
                                local_1c = (&DAT_000954e4)[local_24 * 0x184 +
                                                           local_14 + 0xa8];
                            }
                        }
                        uVar1 = FUN_00067c3c(local_1c, local_1c >> 0x1f);
                        FUN_0006611c(local_2c, local_98, uVar1);
                        memset(local_98, 0, 0x20);
                        local_1c = -0xff;
                        snprintf(local_98, 0x20, "temp2_%d", local_10 + 1);
                        for (local_14 = 0; local_14 < 4;
                             local_14 = local_14 + 1) {
                            if (local_1c < (&DAT_000954e4)[local_24 * 0x184 +
                                                           local_14 + 0xac]) {
                                local_1c = (&DAT_000954e4)[local_24 * 0x184 +
                                                           local_14 + 0xac];
                            }
                        }
                        uVar1 = FUN_00067c3c(local_1c, local_1c >> 0x1f);
                        FUN_0006611c(local_2c, local_98, uVar1);
                    }
                }
            }
            for (local_10 = 0; local_10 < 4; local_10 = local_10 + 1) {
                memset(local_98, 0, 0x20);
                memset(local_198, 0, 0x100);
                snprintf(local_98, 0x20, "temp_pcb%d", local_10 + 1);
                for (local_14 = 0;
                     ((local_14 < DAT_000954e4 && (local_14 < 4)) &&
                      (*(int *)(&DAT_00095648 + local_14 * 0x610) != local_10));
                     local_14 = local_14 + 1) {
                }
                if (local_14 < DAT_000954e4) {
                    snprintf((char *)local_198, 0x100, "%d-%d-%d-%d",
                             *(undefined4 *)(&DAT_00095784 + local_14 * 0x610),
                             *(undefined4 *)(&DAT_00095788 + local_14 * 0x610),
                             *(undefined4 *)(&DAT_0009578c + local_14 * 0x610),
                             *(undefined4 *)(&DAT_00095790 + local_14 * 0x610));
                } else {
                    local_198[0] = 0x2d302d30;
                    local_198[1] = 0x302d30;
                }
                uVar1 = FUN_00067728(local_198);
                FUN_0006611c(local_2c, local_98, uVar1);
            }
            for (local_10 = 0; local_10 < 4; local_10 = local_10 + 1) {
                memset(local_98, 0, 0x20);
                memset(local_198, 0, 0x100);
                snprintf(local_98, 0x20, "temp_chip%d", local_10 + 1);
                for (local_14 = 0;
                     ((local_14 < DAT_000954e4 && (local_14 < 4)) &&
                      (*(int *)(&DAT_00095648 + local_14 * 0x610) != local_10));
                     local_14 = local_14 + 1) {
                }
                if (local_14 < DAT_000954e4) {
                    snprintf((char *)local_198, 0x100, "%d-%d-%d-%d",
                             *(undefined4 *)(&DAT_00095794 + local_14 * 0x610),
                             *(undefined4 *)(&DAT_00095798 + local_14 * 0x610),
                             *(undefined4 *)(&DAT_0009579c + local_14 * 0x610),
                             *(undefined4 *)(&DAT_000957a0 + local_14 * 0x610));
                } else {
                    local_198[0] = 0x2d302d30;
                    local_198[1] = 0x302d30;
                }
                uVar1 = FUN_00067728(local_198);
                FUN_0006611c(local_2c, local_98, uVar1);
            }
            for (local_10 = 0; local_10 < 4; local_10 = local_10 + 1) {
                memset(local_98, 0, 0x20);
                memset(local_198, 0, 0x100);
                snprintf(local_98, 0x20, "temp_pic%d", local_10 + 1);
                for (local_14 = 0;
                     ((local_14 < DAT_000954e4 && (local_14 < 4)) &&
                      (*(int *)(&DAT_00095648 + local_14 * 0x610) != local_10));
                     local_14 = local_14 + 1) {
                }
                if (local_14 < DAT_000954e4) {
                    snprintf((char *)local_198, 0x100, "%d-%d-%d-%d",
                             *(undefined4 *)(&DAT_00095774 + local_14 * 0x610),
                             *(undefined4 *)(&DAT_00095778 + local_14 * 0x610),
                             *(undefined4 *)(&DAT_0009577c + local_14 * 0x610),
                             *(undefined4 *)(&DAT_00095780 + local_14 * 0x610));
                } else {
                    local_198[0] = 0x2d302d30;
                    local_198[1] = 0x302d30;
                }
                uVar1 = FUN_00067728(local_198);
                FUN_0006611c(local_2c, local_98, uVar1);
            }
            sscanf(&DAT_0009561c, "%lf", &local_68);
            dVar3 = (double)CONCAT44(uStack_64, local_68) * 100.0;
            uVar4 =
                FUN_00068f1c(SUB84(dVar3, 0), (int)((ulonglong)dVar3 >> 0x20));
            dVar3 = (double)FUN_00068e84((int)uVar4,
                                         (int)((ulonglong)uVar4 >> 0x20));
            uVar1 = FUN_00067df4(SUB84(dVar3 / 100.0, 0));
            FUN_0006611c(local_2c, "total_rateideal", uVar1);
            uVar1 = FUN_00067728(&DAT_00069a98);
            FUN_0006611c(local_2c, "rate_unit", uVar1);
            uVar1 = FUN_00067c3c(local_18, local_18 >> 0x1f);
            FUN_0006611c(local_2c, "total_freqavg", uVar1);
            for (local_10 = 0; (local_10 < DAT_000954e4 && (local_10 < 4));
                 local_10 = local_10 + 1) {
                local_20 =
                    local_20 + *(int *)(&DAT_00095670 + local_10 * 0x610);
            }
            uVar1 = FUN_00067c3c(local_20, local_20 >> 0x1f);
            FUN_0006611c(local_2c, "total_acn", uVar1);
            dVar3 = (double)CONCAT44(uStack_5c, local_60) * 100.0;
            uVar4 =
                FUN_00068f1c(SUB84(dVar3, 0), (int)((ulonglong)dVar3 >> 0x20));
            dVar3 = (double)FUN_00068e84((int)uVar4,
                                         (int)((ulonglong)uVar4 >> 0x20));
            uVar1 = FUN_00067df4(SUB84(dVar3 / 100.0, 0));
            FUN_0006611c(local_2c, "total rate", uVar1);
            uVar1 = FUN_00067c3c(local_40, local_40 >> 0x1f);
            FUN_0006611c(local_2c, "temp_max", uVar1);
            uVar1 = FUN_00067c3c(DAT_00095228, DAT_00095228 >> 0x1f);
            FUN_0006611c(local_2c, "no_matching_work", uVar1);
            for (local_10 = 0; local_10 < 4; local_10 = local_10 + 1) {
                memset(local_98, 0, 0x20);
                snprintf(local_98, 0x20, "chain_acn%d", local_10 + 1);
                for (local_14 = 0;
                     ((local_14 < DAT_000954e4 && (local_14 < 4)) &&
                      (*(int *)(&DAT_00095648 + local_14 * 0x610) != local_10));
                     local_14 = local_14 + 1) {
                }
                if (local_14 < DAT_000954e4) {
                    uVar1 = FUN_00067c3c(
                        *(int *)(&DAT_00095670 + local_14 * 0x610),
                        *(int *)(&DAT_00095670 + local_14 * 0x610) >> 0x1f);
                    FUN_0006611c(local_2c, local_98, uVar1);
                } else {
                    uVar1 = FUN_00067c3c(0, 0);
                    FUN_0006611c(local_2c, local_98, uVar1);
                }
            }
            for (local_10 = 0; local_10 < 4; local_10 = local_10 + 1) {
                memset(local_98, 0, 0x20);
                memset(local_198, 0, 0x100);
                snprintf(local_98, 0x20, "chain_acs%d", local_10 + 1);
                for (local_14 = 0;
                     ((local_14 < DAT_000954e4 && (local_14 < 4)) &&
                      (*(int *)(&DAT_00095648 + local_14 * 0x610) != local_10));
                     local_14 = local_14 + 1) {
                }
                if (local_14 < DAT_000954e4) {
                    snprintf((char *)local_198, 0x100, "%s",
                             local_14 * 0x610 + 0x95674);
                } else {
                    local_198[0] = local_198[0] & 0xffffff00;
                }
                uVar1 = FUN_00067728(local_198);
                FUN_0006611c(local_2c, local_98, uVar1);
            }
            for (local_10 = 0; local_10 < 4; local_10 = local_10 + 1) {
                memset(local_98, 0, 0x20);
                snprintf(local_98, 0x20, "chain_hw%d", local_10 + 1);
                for (local_14 = 0;
                     ((local_14 < DAT_000954e4 && (local_14 < 4)) &&
                      (*(int *)(&DAT_00095648 + local_14 * 0x610) != local_10));
                     local_14 = local_14 + 1) {
                }
                if (local_14 < DAT_000954e4) {
                    uVar1 = FUN_00067c3c(
                        *(int *)(&DAT_000957a4 + local_14 * 0x610),
                        *(int *)(&DAT_000957a4 + local_14 * 0x610) >> 0x1f);
                    FUN_0006611c(local_2c, local_98, uVar1);
                } else {
                    uVar1 = FUN_00067c3c(0, 0);
                    FUN_0006611c(local_2c, local_98, uVar1);
                }
            }
            for (local_10 = 0; local_10 < 4; local_10 = local_10 + 1) {
                memset(local_98, 0, 0x20);
                snprintf(local_98, 0x20, "chain_rate%d", local_10 + 1);
                for (local_14 = 0;
                     ((local_14 < DAT_000954e4 && (local_14 < 4)) &&
                      (*(int *)(&DAT_00095648 + local_14 * 0x610) != local_10));
                     local_14 = local_14 + 1) {
                }
                if (local_14 < DAT_000954e4) {
                    uVar1 = FUN_00067728(local_14 * 0x610 + 0x95660);
                    FUN_0006611c(local_2c, local_98, uVar1);
                } else {
                    uVar1 = FUN_00067728(&DAT_00069328);
                    FUN_0006611c(local_2c, local_98, uVar1);
                }
            }
            for (local_10 = 0; local_10 < 4; local_10 = local_10 + 1) {
                memset(local_98, 0, 0x20);
                snprintf(local_98, 0x20, "freq%d", local_10 + 1);
                for (local_14 = 0;
                     ((local_14 < DAT_000954e4 && (local_14 < 4)) &&
                      (*(int *)(&DAT_00095648 + local_14 * 0x610) != local_10));
                     local_14 = local_14 + 1) {
                }
                if (local_14 < DAT_000954e4) {
                    uVar1 = FUN_00067c3c(
                        *(int *)(&DAT_0009564c + local_14 * 0x610),
                        *(int *)(&DAT_0009564c + local_14 * 0x610) >> 0x1f);
                    FUN_0006611c(local_2c, local_98, uVar1);
                } else {
                    uVar1 = FUN_00067c3c(0, 0);
                    FUN_0006611c(local_2c, local_98, uVar1);
                }
            }
            uVar1 = FUN_00067728(&DAT_00087b48);
            FUN_0006611c(local_2c, "miner_version", uVar1);
            uVar1 = FUN_00067728(&DAT_00096ec0);
            FUN_0006611c(local_2c, "miner_id", uVar1);
            FUN_00066ea4(local_28, local_2c);
        }
        FUN_0006611c(param_1, "STATS", local_28);
        uVar1 = FUN_00067c3c(1, 0);
        FUN_0006611c(param_1, &DAT_0006974c, uVar1);
        FUN_000134a4(&DAT_000954c8, "api_new.c", "get_stats_old", 0x4e6);
    }
    return local_30;
}

int FUN_00019204(void)

{
    int local_10;
    int local_c;

    local_c = 0;
    FUN_000134ec(&DAT_00094188, "api_new.c", "numascs", 0x4f2);
    for (local_10 = 0; local_10 < DAT_000941a8; local_10 = local_10 + 1) {
        if (**(int **)(*(int *)(DAT_00094130 + local_10 * 4) + 4) == 2) {
            local_c = local_c + 1;
        }
        if (**(int **)(*(int *)(DAT_00094130 + local_10 * 4) + 4) == 3) {
            local_c = local_c + 1;
        }
    }
    FUN_0001361c(&DAT_00094188, "api_new.c", "numascs", 0x4f7);
    return local_c;
}

int FUN_00019308(int param_1)

{
    int local_10;
    int local_c;

    local_c = 0;
    FUN_000134ec(&DAT_00094188, "api_new.c", "ascdevice", 0x4ff);
    local_10 = 0;
    while (true) {
        if (DAT_000941a8 <= local_10) {
            FUN_0001361c(&DAT_00094188, "api_new.c", "ascdevice", 0x507);
            return -1;
        }
        if (**(int **)(*(int *)(DAT_00094130 + local_10 * 4) + 4) == 2) {
            local_c = local_c + 1;
        }
        if (**(int **)(*(int *)(DAT_00094130 + local_10 * 4) + 4) == 3) {
            local_c = local_c + 1;
        }
        if (param_1 + 1 == local_c)
            break;
        local_10 = local_10 + 1;
    }
    FUN_0001361c(&DAT_00094188, "api_new.c", "ascdevice", 0x50c);
    return local_10;
}

undefined4 FUN_00019450(int param_1, int param_2)

{
    undefined4 uVar1;
    uint uVar2;
    int iVar3;
    undefined4 extraout_s1;
    undefined4 extraout_s1_00;
    double dVar4;
    undefined8 uVar5;
    char acStack_860[2048];
    char acStack_60[24];
    double dStack_48;
    double dStack_40;
    int local_34;
    undefined4 local_30;
    int local_2c;
    undefined4 local_28;
    undefined4 local_24;
    int local_20;
    int local_1c;
    undefined4 local_18;
    int local_14;

    local_18 = 0;
    local_1c = 0;
    local_20 = 0;
    local_14 = 0;
    local_24 = 0;
    local_28 = 0;
    local_2c = param_2;
    if ((param_2 == 0) || (param_1 == 0)) {
        if ((DAT_00091f58 != '\0') ||
            ((DAT_00087769 != '\0' || (2 < DAT_0008697c)))) {
            snprintf(acStack_860, 0x800, "%s: input bad api param\n",
                     "get_devs_old");
            FUN_0001e4ec(3, acStack_860, 0);
        }
        local_18 = 0x80000002;
    } else {
        local_1c = FUN_00019204();
        if ((local_20 == 0) && (local_1c == 0)) {
            FUN_00015b04(param_1, 0, 10, "No ASCs");
        } else {
            FUN_00015b04(param_1, 1, 9, *(undefined4 *)(local_2c + 8));
            local_24 = FUN_00066a14();
            for (local_14 = 0; local_14 < local_1c; local_14 = local_14 + 1) {
                local_28 = FUN_00065ed4();
                local_30 = FUN_00019308(local_14);
                local_34 = FUN_0002ef94(local_30);
                uVar1 = FUN_00067c3c(local_14, local_14 >> 0x1f);
                FUN_0006611c(local_28, &DAT_00069b34, uVar1);
                uVar1 =
                    FUN_00067728(*(undefined4 *)(*(int *)(local_34 + 4) + 8));
                FUN_0006611c(local_28, &DAT_00069b38, uVar1);
                uVar1 = FUN_00067c3c(*(int *)(local_34 + 8),
                                     *(int *)(local_34 + 8) >> 0x1f);
                FUN_0006611c(local_28, &DAT_000699e4, uVar1);
                if (*(int *)(local_34 + 0x20) == 1) {
                    uVar1 = FUN_00067728(&DAT_0006990c);
                    FUN_0006611c(local_28, "Enabled", uVar1);
                } else {
                    uVar1 = FUN_00067728(&DAT_000698fc);
                    FUN_0006611c(local_28, "Enabled", uVar1);
                }
                uVar1 = FUN_00067728("Alive");
                FUN_0006611c(local_28, "Status", uVar1);
                dVar4 = *(double *)(local_34 + 0xb0) * 100.0;
                uVar5 = FUN_00068f1c(SUB84(dVar4, 0),
                                     (int)((ulonglong)dVar4 >> 0x20));
                dVar4 = (double)FUN_00068e84((int)uVar5,
                                             (int)((ulonglong)uVar5 >> 0x20));
                uVar1 = FUN_00067df4(SUB84(dVar4 / 100.0, 0));
                FUN_0006611c(local_28, "Tenperature", uVar1);
                dVar4 = *(double *)(local_34 + 0x50);
                uVar1 = FUN_000324e8(local_34);
                dVar4 = (dVar4 / (double)CONCAT44(extraout_s1, uVar1)) * 100.0;
                uVar5 = FUN_00068f1c(SUB84(dVar4, 0),
                                     (int)((ulonglong)dVar4 >> 0x20));
                dVar4 = (double)FUN_00068e84((int)uVar5,
                                             (int)((ulonglong)uVar5 >> 0x20));
                uVar1 = FUN_00067df4(SUB84(dVar4 / 100.0, 0));
                FUN_0006611c(local_28, "MHS av", uVar1);
                snprintf(acStack_60, 0x18, "MHS %ds", DAT_00086c20);
                dVar4 = *(double *)(local_34 + 0x30) * 100.0;
                uVar5 = FUN_00068f1c(SUB84(dVar4, 0),
                                     (int)((ulonglong)dVar4 >> 0x20));
                dVar4 = (double)FUN_00068e84((int)uVar5,
                                             (int)((ulonglong)uVar5 >> 0x20));
                uVar1 = FUN_00067df4(SUB84(dVar4 / 100.0, 0));
                FUN_0006611c(local_28, acStack_60, uVar1);
                uVar1 = FUN_00067c3c(*(int *)(local_34 + 0x24),
                                     *(int *)(local_34 + 0x24) >> 0x1f);
                FUN_0006611c(local_28, "Accepted", uVar1);
                uVar1 = FUN_00067c3c(*(int *)(local_34 + 0x28),
                                     *(int *)(local_34 + 0x28) >> 0x1f);
                FUN_0006611c(local_28, "Rejected", uVar1);
                uVar1 = FUN_00067c3c(*(int *)(local_34 + 0x2c),
                                     *(int *)(local_34 + 0x2c) >> 0x1f);
                FUN_0006611c(local_28, "Hardware Errors", uVar1);
                dVar4 = *(double *)(local_34 + 0x58) * 100.0;
                uVar5 = FUN_00068f1c(SUB84(dVar4, 0),
                                     (int)((ulonglong)dVar4 >> 0x20));
                dVar4 = (double)FUN_00068e84((int)uVar5,
                                             (int)((ulonglong)uVar5 >> 0x20));
                uVar1 = FUN_00067df4(SUB84(dVar4 / 100.0, 0));
                FUN_0006611c(local_28, "Utility", uVar1);
                if (*(int *)(local_34 + 0xdc) < 1) {
                    uVar5 = SIMDExpandImmediate(0, 0xe, 0xff);
                } else {
                    uVar5 = VectorShiftRight(
                        CONCAT44(*(undefined4 *)(local_34 + 0xd8),
                                 *(undefined4 *)(local_34 + 0xd8)),
                        0x20);
                }
                uVar1 =
                    FUN_00067c3c((int)uVar5, (int)((ulonglong)uVar5 >> 0x20));
                FUN_0006611c(local_28, "Last Share Pool", uVar1);
                uVar1 = FUN_00067c3c(*(int *)(local_34 + 0xdc),
                                     *(int *)(local_34 + 0xdc) >> 0x1f);
                FUN_0006611c(local_28, "Last Share Time", uVar1);
                dVar4 = *(double *)(local_34 + 0x50) * 100.0;
                uVar5 = FUN_00068f1c(SUB84(dVar4, 0),
                                     (int)((ulonglong)dVar4 >> 0x20));
                dVar4 = (double)FUN_00068e84((int)uVar5,
                                             (int)((ulonglong)uVar5 >> 0x20));
                uVar1 = FUN_00067df4(SUB84(dVar4 / 100.0, 0));
                FUN_0006611c(local_28, "Total MH", uVar1);
                uVar1 = FUN_00067c3c(*(undefined4 *)(local_34 + 0xc0),
                                     *(undefined4 *)(local_34 + 0xc4));
                FUN_0006611c(local_28, "Diff1 Work", uVar1);
                uVar5 = FUN_00068f1c(*(undefined4 *)(local_34 + 200),
                                     *(undefined4 *)(local_34 + 0xcc));
                uVar1 =
                    FUN_00067c3c((int)uVar5, (int)((ulonglong)uVar5 >> 0x20));
                FUN_0006611c(local_28, "Difficulty Accepted", uVar1);
                uVar5 = FUN_00068f1c(*(undefined4 *)(local_34 + 0xd0),
                                     *(undefined4 *)(local_34 + 0xd4));
                uVar1 =
                    FUN_00067c3c((int)uVar5, (int)((ulonglong)uVar5 >> 0x20));
                FUN_0006611c(local_28, "Difficulty Rejected", uVar1);
                uVar1 = FUN_00067c3c(*(int *)(local_34 + 0xe8),
                                     *(int *)(local_34 + 0xe8) >> 0x1f);
                FUN_0006611c(local_28, "Last Share Difficulty", uVar1);
                uVar1 = FUN_00067c3c(*(int *)(local_34 + 0xe8),
                                     *(int *)(local_34 + 0xe8) >> 0x1f);
                FUN_0006611c(local_28, "Last Valid Work", uVar1);
                uVar2 = *(uint *)(local_34 + 0x2c);
                if (*(uint *)(local_34 + 0xc0) + uVar2 == 0 &&
                    *(int *)(local_34 + 0xc4) + ((int)uVar2 >> 0x1f) +
                            (uint)CARRY4(*(uint *)(local_34 + 0xc0), uVar2) ==
                        0) {
                    dStack_40 = 0.0;
                } else {
                    iVar3 = *(int *)(local_34 + 0x2c);
                    uVar2 = *(uint *)(local_34 + 0x2c);
                    dStack_40 = (double)FUN_00068e84(
                        *(uint *)(local_34 + 0xc0) + uVar2,
                        *(int *)(local_34 + 0xc4) + ((int)uVar2 >> 0x1f) +
                            (uint)CARRY4(*(uint *)(local_34 + 0xc0), uVar2));
                    dStack_40 = (double)(longlong)iVar3 / dStack_40;
                }
                uVar5 =
                    FUN_00068f1c(SUB84(dStack_40 * 100.0, 0),
                                 (int)((ulonglong)(dStack_40 * 100.0) >> 0x20));
                dVar4 = (double)FUN_00068e84((int)uVar5,
                                             (int)((ulonglong)uVar5 >> 0x20));
                uVar1 = FUN_00067df4(SUB84(dVar4 / 100.0, 0));
                FUN_0006611c(local_28, "Device Hardware%", uVar1);
                if (*(int *)(local_34 + 0xc0) == 0 &&
                    *(int *)(local_34 + 0xc4) == 0) {
                    dStack_48 = 0.0;
                } else {
                    dVar4 = *(double *)(local_34 + 0xd0);
                    dStack_48 =
                        (double)FUN_00068e84(*(undefined4 *)(local_34 + 0xc0),
                                             *(undefined4 *)(local_34 + 0xc4));
                    dStack_48 = dVar4 / dStack_48;
                }
                uVar5 =
                    FUN_00068f1c(SUB84(dStack_48 * 100.0, 0),
                                 (int)((ulonglong)(dStack_48 * 100.0) >> 0x20));
                dVar4 = (double)FUN_00068e84((int)uVar5,
                                             (int)((ulonglong)uVar5 >> 0x20));
                uVar1 = FUN_00067df4(SUB84(dVar4 / 100.0, 0));
                FUN_0006611c(local_28, "Device Rejected%", uVar1);
                uVar1 = FUN_000324e8(local_34);
                uVar5 = FUN_00068f1c(uVar1, extraout_s1_00);
                uVar1 =
                    FUN_00067c3c((int)uVar5, (int)((ulonglong)uVar5 >> 0x20));
                FUN_0006611c(local_28, "Device Elapsed", uVar1);
                FUN_00066ea4(local_24, local_28);
            }
            FUN_0006611c(param_1, &DAT_00069ba0, local_24);
            uVar1 = FUN_00067c3c(1, 0);
            FUN_0006611c(param_1, &DAT_0006974c, uVar1);
        }
    }
    return local_18;
}

undefined4 FUN_00019d0c(int param_1, int param_2)

{
    undefined4 uVar1;
    char acStack_864[2048];
    char acStack_64[64];
    int local_24;
    undefined4 local_20;
    undefined4 local_1c;
    undefined4 local_18;
    undefined4 local_14;
    undefined4 local_10;
    undefined4 local_c;

    local_c = 0;
    local_10 = 0;
    local_14 = 0;
    local_18 = 0;
    local_1c = 0;
    local_20 = 0;
    local_24 = param_2;
    memset(acStack_64, 0, 0x40);
    if ((local_24 == 0) || (param_1 == 0)) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            snprintf(acStack_864, 0x800, "%s: input bad api param\n",
                     "get_version_old");
            FUN_0001e4ec(3, acStack_864, 0);
        }
        local_c = 0x80000002;
    } else {
        FUN_00015b04(param_1, 1, 0x16, *(undefined4 *)(local_24 + 8));
        local_1c = FUN_00066a14();
        local_20 = FUN_00065ed4();
        uVar1 = FUN_00067728("1.0.0");
        FUN_0006611c(local_20, "BMMiner", uVar1);
        uVar1 = FUN_00067728(&DAT_00069ba8);
        FUN_0006611c(local_20, &DAT_00069bac, uVar1);
        uVar1 = FUN_00067728(&DAT_00087b48);
        FUN_0006611c(local_20, "Miner", uVar1);
        uVar1 = FUN_00067728(&DAT_00087c48);
        FUN_0006611c(local_20, "CompileTime", uVar1);
        snprintf(acStack_64, 0x40, "%s", &DAT_00087d48);
        if (DAT_000954ec != '\0') {
            snprintf(acStack_64, 0x40, "%s", &DAT_000954ec);
        }
        uVar1 = FUN_00067728(acStack_64);
        FUN_0006611c(local_20, &DAT_000699d0, uVar1);
        FUN_00066ea4(local_1c, local_20);
        FUN_0006611c(param_1, "VERSION", local_1c);
        uVar1 = FUN_00067c3c(1, 0);
        FUN_0006611c(param_1, &DAT_0006974c, uVar1);
    }
    return local_c;
}

int FUN_00019f88(char *param_1, size_t param_2, int param_3)

{
    int iVar1;
    char local_20[20];
    int local_c;

    local_20[0x10] = '\0';
    local_20[0x11] = '\0';
    local_20[0x12] = '\0';
    local_20[0x13] = '\0';
    local_c = 0;
    local_20[0] = '\0';
    local_20[1] = '\0';
    local_20[2] = '\0';
    local_20[3] = '\0';
    local_20[4] = '\0';
    local_20[5] = '\0';
    local_20[6] = '\0';
    local_20[7] = '\0';
    local_20[8] = '\0';
    local_20[9] = '\0';
    local_20[10] = '\0';
    local_20[0xb] = '\0';
    local_20[0xc] = '\0';
    local_20[0xd] = '\0';
    local_20[0xe] = '\0';
    local_20[0xf] = '\0';
    if (((param_1 == (char *)0x0) || ((int)param_2 < 1)) ||
        (0x10 < (int)param_2)) {
        iVar1 = -0x7ffffffe;
    } else {
        strncpy(local_20, param_1, param_2);
        if (param_3 == 0) {
            for (local_c = 0; *(int *)(&DAT_0008651c + local_c * 0xc) != 0;
                 local_c = local_c + 1) {
                iVar1 =
                    strcmp(local_20, *(char **)(&DAT_0008651c + local_c * 0xc));
                if (iVar1 == 0) {
                    return local_c;
                }
            }
        } else if ((param_3 == 1) || (param_3 == 2)) {
            for (local_c = 0; *(int *)(&DAT_000864bc + local_c * 0x10) != 0;
                 local_c = local_c + 1) {
                iVar1 = strcmp(local_20,
                               *(char **)(&DAT_000864bc + local_c * 0x10));
                if (iVar1 == 0) {
                    return local_c;
                }
            }
        }
        iVar1 = -0x7ffffffd;
    }
    return iVar1;
}

int FUN_0001a154(void)

{
    int iVar1;
    time_t tVar2;
    int *piVar3;
    char *pcVar4;
    char acStack_858[2048];
    undefined4 local_58;
    addrinfo *local_54;
    addrinfo local_50;
    char acStack_30[12];
    int local_24;
    undefined4 local_20;
    short local_1a;
    addrinfo *local_18;
    char *local_14;
    int local_10;
    int local_c;

    local_1a = 0xfbc;
    local_c = 0;
    local_10 = 0;
    sprintf(acStack_30, "%d", 0xfbc);
    memset(&local_50, 0, 0x20);
    local_50.ai_flags = 1;
    local_50.ai_family = 0;
    iVar1 = getaddrinfo("0.0.0.0", acStack_30, &local_50, &local_54);
    if (iVar1 == 0) {
        local_18 = local_54;
        while ((local_18 != (addrinfo *)0x0 &&
                (local_c = socket(local_54->ai_family, 1, 0), local_c < 1))) {
            local_18 = local_18->ai_next;
        }
        if (local_c == -1) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                snprintf(acStack_858, 0x800, "%s: exec socket() failed\n",
                         "api_init_socket");
                FUN_0001e4ec(3, acStack_858, 0);
            }
            local_c = -0x7ffffffa;
        } else {
            local_58 = 1;
            local_20 = 4;
            setsockopt(local_c, 1, 2, &local_58, 4);
            local_24 = time((time_t *)0x0);
            while (local_10 == 0) {
                iVar1 = bind(local_c, local_18->ai_addr, local_18->ai_addrlen);
                if (iVar1 < 0) {
                    piVar3 = __errno_location();
                    local_14 = strerror(*piVar3);
                    tVar2 = time((time_t *)0x0);
                    if (0x3d < tVar2 - local_24)
                        break;
                    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                        (3 < DAT_0008697c)) {
                        snprintf(acStack_858, 0x800,
                                 "%s: api bind to port %d failed, trying again "
                                 "in 30sec",
                                 "api_init_socket", (int)local_1a);
                        FUN_0001e4ec(4, acStack_858, 0);
                    }
                    sleep(0x1e);
                } else {
                    local_10 = 1;
                }
            }
            freeaddrinfo(local_54);
            if (local_10 == 0) {
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (2 < DAT_0008697c)) {
                    snprintf(acStack_858, 0x800,
                             "api bind to port %d, failed (%s)", (int)local_1a,
                             local_14);
                    FUN_0001e4ec(3, acStack_858, 0);
                }
                local_c = -0x7ffffffa;
            } else {
                iVar1 = listen(local_c, 100);
                if (iVar1 < 0) {
                    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                        (2 < DAT_0008697c)) {
                        piVar3 = __errno_location();
                        pcVar4 = strerror(*piVar3);
                        snprintf(acStack_858, 0x800,
                                 "%s: exec listen() failed (%s)",
                                 "api_init_socket", pcVar4);
                        FUN_0001e4ec(3, acStack_858, 0);
                    }
                    close(local_c);
                    local_c = -0x7ffffffa;
                }
            }
        }
    } else {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            snprintf(acStack_858, 0x800, "%s: exec getaddrinfo() failed\n",
                     "api_init_socket");
            FUN_0001e4ec(3, acStack_858, 0);
        }
        local_c = -0x7ffffffa;
    }
    return local_c;
}

undefined4 FUN_0001a5d4(undefined4 param_1, undefined4 param_2, char *param_3,
                        undefined4 *param_4)

{
    undefined4 uVar1;
    char acStack_910[2048];
    undefined1 auStack_110[252];
    int *local_14;
    int *local_10;
    undefined4 local_c;

    local_c = 0;
    local_10 = (int *)0x0;
    local_14 = (int *)0x0;
    local_10 = (int *)FUN_00064704(param_1, 0, auStack_110);
    if ((local_10 == (int *)0x0) || (*local_10 != 0)) {
        *param_4 = 2;
        snprintf(param_3, 0x10, "%s", param_1, param_4, param_3, param_2);
    } else {
        local_14 = (int *)FUN_00065fec(local_10, "command");
        if ((local_14 == (int *)0x0) || (*local_14 != 2)) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                snprintf(acStack_910, 0x800,
                         "%s error: format error about command\n",
                         "parse_recv_buf", param_4, param_3, param_2);
                FUN_0001e4ec(3, acStack_910, 0);
            }
            local_c = 0x80000007;
        } else {
            uVar1 = FUN_000677d0(local_14);
            snprintf(param_3, 0x10, "%s", uVar1, param_4, param_3, param_2);
            local_14 = (int *)FUN_00065fec(local_10, "new_api");
            if ((local_14 == (int *)0x0) || (*local_14 != 5)) {
                *param_4 = 1;
            } else {
                *param_4 = 0;
            }
        }
        FUN_00013310(local_10);
    }
    return local_c;
}

int *FUN_0001a7a4(int *param_1, char *param_2)

{
    int *piVar1;
    char *pcVar2;
    int iVar3;
    int iVar4;
    fd_set fStack_8bc;
    char acStack_83c[2048];
    timeval local_3c;
    fd_set *local_34;
    int *local_30;
    int *local_2c;
    size_t local_28;
    uint local_24;
    char *local_20;
    int local_1c;
    char local_15;
    size_t local_14;

    local_28 = 0;
    local_14 = 0;
    local_15 = '\0';
    local_2c = (int *)0x0;
    local_30 = (int *)0x0;
    local_1c = 0;
    local_20 = (char *)0x0;
    piVar1 = param_1;
    if ((param_1 != (int *)0x0) && (param_2 != (char *)0x0)) {
        piVar1 = (int *)strlen(param_2);
        local_28 = (int)piVar1 + 1U;
        local_20 = param_2;
        local_14 = (int)piVar1 + 1U;
        while (local_15 != '\x01') {
            local_3c.tv_sec = 0;
            local_3c.tv_usec = 50000;
            local_34 = &fStack_8bc;
            for (local_24 = 0; local_24 < 0x20; local_24 = local_24 + 1) {
                fStack_8bc.fds_bits[local_24] = 0;
            }
            iVar4 = *param_1;
            iVar3 = iVar4 + 0x1f;
            if (-1 < iVar4) {
                iVar3 = iVar4;
            }
            fStack_8bc.fds_bits[iVar3 >> 5] = fStack_8bc.fds_bits[iVar3 >> 5] |
                                              1 << (*param_1 % 0x20 & 0xffU);
            local_2c = (int *)select(*param_1 + 1, (fd_set *)0x0, &fStack_8bc,
                                     (fd_set *)0x0, &local_3c);
            if ((int)local_2c < 1) {
                if (((DAT_00091f58 == '\0') && (DAT_00087769 == '\0')) &&
                    (DAT_0008697c < 3)) {
                    return local_2c;
                }
                snprintf(acStack_83c, 0x800, "%s: send select failed, ret = %d",
                         "send_api_result", local_2c);
                piVar1 = (int *)FUN_0001e4ec(3, acStack_83c, 0);
                return piVar1;
            }
            piVar1 = (int *)send(*param_1, local_20, local_14, 0);
            local_30 = piVar1;
            if ((int)piVar1 < 0) {
                local_1c = local_1c + 1;
                piVar1 = __errno_location();
                if ((*piVar1 != 0xb) &&
                    (piVar1 = __errno_location(), *piVar1 != 0xb)) {
                    if ((DAT_00091f58 == '\0') &&
                        ((DAT_00087769 == '\0' && (DAT_0008697c < 3)))) {
                        return piVar1;
                    }
                    iVar3 = local_28 - local_14;
                    piVar1 = __errno_location();
                    pcVar2 = strerror(*piVar1);
                    snprintf(acStack_83c, 0x800, "%s: send (%d:%d) failed %s",
                             "send_api_result", local_28, iVar3, pcVar2);
                    piVar1 = (int *)FUN_0001e4ec(3, acStack_83c, 0);
                    return piVar1;
                }
                if ((DAT_00087768 != '\0') &&
                    (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                      (6 < DAT_0008697c)))) {
                    snprintf(acStack_83c, 0x800, "%s: send EAGAIN ",
                             "send_api_result");
                    piVar1 = (int *)FUN_0001e4ec(7, acStack_83c, 0);
                }
                if (((int)local_14 < 1) || (2 < local_1c)) {
                    local_15 = '\x01';
                } else {
                    local_15 = '\0';
                }
            } else {
                local_14 = local_14 - (int)piVar1;
                local_20 = local_20 + (int)piVar1;
                if (piVar1 == (int *)0x0) {
                    local_1c = local_1c + 1;
                }
                if (((int)local_14 < 1) || (2 < local_1c)) {
                    local_15 = '\x01';
                } else {
                    local_15 = '\0';
                }
            }
        }
    }
    return piVar1;
}

int FUN_0001ac28(int param_1, char *param_2, int param_3)

{
    size_t sVar1;
    undefined4 uVar2;
    int extraout_r3;
    int extraout_r3_00;
    int extraout_r3_01;
    int extraout_r3_02;
    char local_7c[8];
    undefined2 local_74;
    int local_18;
    int local_14;

    local_14 = 0x80000001;
    local_18 = 0;
    memset(local_7c, 0, 100);
    if ((((param_2 == (char *)0x0) || (param_1 == 0)) || (param_3 < 0)) ||
        (2 < param_3)) {
        param_3 = -0x7ffffffe;
    } else {
        sVar1 = strlen(param_2);
        local_14 = FUN_00019f88(param_2, sVar1, param_3);
        if (local_14 < 0) {
            if (param_3 == 0) {
                if (local_14 == -0x7ffffffd) {
                    snprintf(local_7c, 100, "not support (%s)", param_2);
                } else {
                    builtin_strncpy(local_7c, "bad para", 8);
                    local_74 = 0x6d;
                }
                uVar2 = FUN_00067728(local_7c);
                FUN_0006611c(param_1, "error_message", uVar2);
                param_3 = extraout_r3;
            } else {
                param_3 = local_14;
                if (local_14 == -0x7ffffffd) {
                    FUN_00015b04(param_1, 0, 0xe, "Invalid command");
                    param_3 = extraout_r3_00;
                }
            }
        } else {
            local_18 = local_14;
            if (param_3 == 0) {
                param_3 = (*(code *)(&PTR_FUN_00086524)[local_14 * 3])(
                    param_1, &DAT_0008651c + local_14 * 0xc);
                if (param_3 < 0) {
                    if (param_3 == -0x7ffffffe) {
                        builtin_strncpy(local_7c, "bad para", 8);
                        local_74 = 0x6d;
                    }
                    local_14 = param_3;
                    uVar2 = FUN_00067728(local_7c);
                    FUN_0006611c(param_1, "error_message", uVar2);
                    param_3 = extraout_r3_01;
                }
            } else if ((param_3 == 1) || (param_3 == 2)) {
                (**(code **)(&DAT_000864c8 + local_14 * 0x10))(
                    param_1, &DAT_000864bc + local_14 * 0x10);
                param_3 = extraout_r3_02;
            }
        }
    }
    return param_3;
}

void FUN_0001ae94(int *param_1)

{
    DAT_00087750 = 1;
    if (*param_1 != -1) {
        shutdown(*param_1, 2);
        close(*param_1);
        *param_1 = -1;
    }
    return;
}

void FUN_0001af04(char *param_1, int *param_2)

{
    undefined4 uVar1;
    undefined4 extraout_s1;
    undefined8 uVar2;
    char local_108[4];
    ushort local_104;

    memset(local_108, 0, 0x100);
    if ((param_1 != (char *)0x0) && (param_2 != (int *)0x0)) {
        if ((param_2 == (int *)0x0) || (*param_2 != 6)) {
            if ((param_2 == (int *)0x0) || (*param_2 != 5)) {
                if ((param_2 == (int *)0x0) || (*param_2 != 3)) {
                    if ((param_2 == (int *)0x0) || (*param_2 != 4)) {
                        if ((param_2 != (int *)0x0) && (*param_2 == 2)) {
                            uVar1 = FUN_000677d0(param_2);
                            snprintf(local_108, 0x100, "%s", uVar1);
                        }
                    } else {
                        uVar1 = FUN_00067e80(param_2);
                        snprintf(local_108, 0x100, "%.2lf", local_108,
                                 CONCAT44(extraout_s1, uVar1));
                    }
                } else {
                    uVar2 = FUN_00067c98(param_2);
                    uVar1 = (undefined4)((ulonglong)uVar2 >> 0x20);
                    snprintf(local_108, 0x100, "%lld", uVar1, (int)uVar2,
                             uVar1);
                }
            } else {
                builtin_strncpy(local_108, "true", 4);
                local_104 = local_104 & 0xff00;
            }
        } else {
            builtin_strncpy(local_108, "fals", 4);
            local_104 = 0x65;
        }
        strcat(param_1, local_108);
    }
    return;
}

void FUN_0001b0a0(char *param_1, undefined4 param_2)

{
    undefined4 uVar1;
    size_t sVar2;
    char *apcStack_13c[4];
    char *local_12c;
    char acStack_128[256];
    int local_28;
    int local_24;
    int local_20;
    int *local_1c;
    char *local_18;
    int local_14;
    int local_10;
    int *local_c;

    local_c = (int *)0x0;
    local_1c = (int *)0x0;
    local_20 = 0;
    memset(acStack_128, 0, 0x100);
    local_14 = 0;
    apcStack_13c[0] = "SUMMARY";
    apcStack_13c[1] = "POOLS";
    apcStack_13c[2] = "STATS";
    apcStack_13c[3] = "DEVS";
    local_12c = "VERSION";
    local_18 = (char *)0x0;
    local_28 = 0;
    local_24 = 5;
    for (local_10 = 0; local_10 < local_24; local_10 = local_10 + 1) {
        local_c = (int *)FUN_00065fec(param_2, apcStack_13c[local_10]);
        if ((local_c != (int *)0x0) && (*local_c == 1))
            break;
    }
    if (local_10 < local_24) {
        if ((local_10 == 0) || (local_10 == 4)) {
            snprintf(acStack_128, 0x100, "%s,", apcStack_13c[local_10]);
            strcat(param_1, acStack_128);
        }
        local_28 = FUN_00066b34(local_c);
        for (local_14 = 0; local_14 < local_28; local_14 = local_14 + 1) {
            local_1c = (int *)FUN_00066b80(local_c, local_14);
            if ((local_1c != (int *)0x0) && (*local_1c == 0)) {
                uVar1 = FUN_0006655c(local_1c);
                local_18 = (char *)FUN_00066698(uVar1);
                while (local_18 != (char *)0x0) {
                    uVar1 = FUN_00066788(local_18);
                    local_20 = FUN_000666d4(uVar1);
                    if (local_20 == 0)
                        break;
                    strcat(param_1, local_18);
                    sVar2 = strlen(param_1);
                    (param_1 + sVar2)[0] = '=';
                    (param_1 + sVar2)[1] = '\0';
                    FUN_0001af04(param_1, local_20);
                    sVar2 = strlen(param_1);
                    (param_1 + sVar2)[0] = ',';
                    (param_1 + sVar2)[1] = '\0';
                    uVar1 = FUN_00066788(local_18);
                    uVar1 = FUN_00066628(local_1c, uVar1);
                    local_18 = (char *)FUN_00066698(uVar1);
                }
                sVar2 = strlen(param_1);
                param_1[sVar2 - 1] = '|';
                if (local_28 + -1 != local_14) {
                    sVar2 = strlen(param_1);
                    param_1[sVar2] = ',';
                }
            }
        }
    }
    return;
}

undefined4 FUN_0001b398(int param_1, char *param_2)

{
    int *piVar1;
    undefined4 uVar2;
    int iVar3;
    size_t sVar4;
    undefined4 local_10;
    char *local_c;

    local_10 = 0;
    if ((param_1 == 0) || (param_2 == (char *)0x0)) {
        local_10 = 0x80000007;
    } else {
        piVar1 = (int *)FUN_00065fec(param_1, "STATUS");
        if ((piVar1 == (int *)0x0) || (*piVar1 != 1)) {
            local_10 = 0x80000002;
        } else {
            piVar1 = (int *)FUN_00066b80(piVar1, 0);
            if ((piVar1 == (int *)0x0) || (*piVar1 != 0)) {
                local_10 = 0x80000002;
            } else {
                uVar2 = FUN_0006655c(piVar1);
                local_c = (char *)FUN_00066698(uVar2);
                while (local_c != (char *)0x0) {
                    uVar2 = FUN_00066788(local_c);
                    iVar3 = FUN_000666d4(uVar2);
                    if (iVar3 == 0)
                        break;
                    strcat(param_2, local_c);
                    sVar4 = strlen(param_2);
                    (param_2 + sVar4)[0] = '=';
                    (param_2 + sVar4)[1] = '\0';
                    FUN_0001af04(param_2, iVar3);
                    sVar4 = strlen(param_2);
                    (param_2 + sVar4)[0] = ',';
                    (param_2 + sVar4)[1] = '\0';
                    uVar2 = FUN_00066788(local_c);
                    uVar2 = FUN_00066628(piVar1, uVar2);
                    local_c = (char *)FUN_00066698(uVar2);
                }
                sVar4 = strlen(param_2);
                param_2[sVar4 - 1] = '|';
                FUN_0001b0a0(param_2, param_1);
            }
        }
    }
    return local_10;
}

undefined4 FUN_0001b588(undefined4 param_1, undefined4 param_2)

{
    uint uVar1;
    undefined4 uVar2;
    int iVar3;
    uint uVar4;
    char local_148[268];
    void *local_3c;
    undefined4 local_38;
    undefined4 local_34;
    int *local_30;
    int *local_2c;
    int *local_28;
    int *local_24;
    undefined4 local_20;
    int local_1c;
    int local_18;
    uint local_14;

    local_20 = 0;
    local_14 = 0;
    local_24 = (int *)0x0;
    local_28 = (int *)0x0;
    local_2c = (int *)0x0;
    local_30 = (int *)0x0;
    local_34 = 0;
    local_38 = 0;
    local_148[0] = '\0';
    local_148[1] = '\0';
    local_148[2] = '\0';
    local_148[3] = '\0';
    local_148[4] = '\0';
    local_148[5] = '\0';
    local_148[6] = '\0';
    local_148[7] = '\0';
    local_148[8] = '\0';
    local_148[9] = '\0';
    local_148[10] = '\0';
    local_148[0xb] = '\0';
    local_148[0xc] = '\0';
    local_148[0xd] = '\0';
    local_148[0xe] = '\0';
    local_148[0xf] = '\0';
    local_1c = 0;
    local_3c = (void *)0x0;
    local_24 = (int *)FUN_00064704(param_2, 0, local_148 + 0x10);
    if ((local_24 == (int *)0x0) || (*local_24 != 0)) {
        local_20 = 0x80000003;
    } else {
        local_28 = (int *)FUN_00065fec(local_24, "command");
        if ((local_28 == (int *)0x0) || (*local_28 != 1)) {
            FUN_00013310(local_24);
            local_20 = 0x80000003;
        } else {
            local_2c = (int *)FUN_00065fec(local_24, "new_api");
            if ((local_2c == (int *)0x0) || (*local_2c != 5)) {
                local_18 = 1;
            } else {
                local_18 = 0;
            }
            local_34 = FUN_00065ed4();
            local_14 = 0;
            while (((uVar1 = local_14, uVar4 = FUN_00066b34(local_28),
                     uVar1 < uVar4 &&
                         (local_30 = (int *)FUN_00066b80(local_28, local_14),
                          local_30 != (int *)0x0)) &&
                    ((int)local_14 < 0xb))) {
                if ((local_30 != (int *)0x0) && (*local_30 == 2)) {
                    memset(local_148, 0, 0x10);
                    uVar2 = FUN_000677d0(local_30);
                    snprintf(local_148, 0x10, "%s", uVar2);
                    iVar3 = strcmp(local_148, "reload");
                    if ((iVar3 == 0) && (local_18 == 0)) {
                        local_1c = 1;
                    } else {
                        local_38 = FUN_00065ed4();
                        FUN_0001ac28(local_38, local_148, local_18);
                        FUN_0006611c(local_34, local_148, local_38);
                    }
                }
                local_14 = local_14 + 1;
            }
            local_3c = (void *)FUN_000605a4(local_34, 0x6000);
            FUN_0001a7a4(param_1, local_3c);
            free(local_3c);
            if (local_1c == 1) {
                FUN_0001ac28(local_34, "reload", 0);
            }
            FUN_00013310(local_34);
            FUN_00013310(local_24);
        }
    }
    return local_20;
}

/* WARNING: Type propagation algorithm not settling */

void FUN_0001b868(void)

{
    int iVar1;
    int *piVar2;
    char *pcVar3;
    size_t sVar4;
    __pthread_unwind_buf_t a_Stack_79f0[6];
    char acStack_78d8[2048];
    char acStack_70d8[2048];
    char local_68d8[2048];
    char acStack_60d8[2048];
    char acStack_58d8[2048];
    char acStack_50d8[2048];
    char acStack_48d8[2048];
    char acStack_40d8[2048];
    char acStack_38d8[2048];
    undefined4 local_30d8;
    undefined4 local_30d4;
    undefined4 local_30d0;
    undefined4 local_30cc;
    undefined4 local_30c8;
    int local_30c4[5];
    undefined1 auStack_30b0[4096];
    char local_20b0[8192];
    socklen_t local_b0;
    sockaddr asStack_ac[8];
    int local_2c;
    int local_28;
    int local_24;
    void *local_20;
    undefined4 local_1c;
    ssize_t local_18;
    int local_14;
    int *local_10;
    code *local_c;

    local_14 = 0;
    local_28 = -1;
    local_2c = -1;
    local_18 = 0;
    memset(local_20b0, 0, 0x2000);
    memset(auStack_30b0, 0, 0x1000);
    local_30c4[1] = 0;
    local_30c4[2] = 0;
    local_30c4[3] = 0;
    local_30c4[4] = 0;
    local_30c4[0] = 2;
    local_1c = 0;
    local_20 = (void *)0x0;
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (4 < DAT_0008697c)) {
        snprintf(acStack_78d8, 0x800, "Start %s function\n", &DAT_00069ff4);
        FUN_0001e4ec(5, acStack_78d8, 0);
    }
    local_c = FUN_0001ae94;
    local_10 = &local_28;
    local_24 = __sigsetjmp(a_Stack_79f0, 0);
    if (local_24 != 0) {
        (*local_c)(local_10);
        __pthread_unwind_next(a_Stack_79f0);
    }
    __pthread_register_cancel(a_Stack_79f0);
    local_14 = FUN_0001a154();
    iVar1 = local_14;
    if (local_14 == -0x7ffffffa) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            snprintf(acStack_70d8, 0x800, "%s: init socket failed",
                     &DAT_00069ff4);
            FUN_0001e4ec(3, acStack_70d8, 0);
        }
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            builtin_strncpy(local_68d8, "cgminer restart", 0x10);
            FUN_0001e4ec(3, local_68d8, 0);
        }
        /* WARNING: Subroutine does not return */
        __assert_fail("0", "api_new.c", 0x741, "api");
    }
    do {
        local_28 = iVar1;
        if (DAT_00087750 == '\x01') {
        LAB_0001c270:
            __pthread_unregister_cancel(a_Stack_79f0);
            (*local_c)(local_10);
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (4 < DAT_0008697c)) {
                snprintf(acStack_38d8, 0x800, "End %s function !!!",
                         &DAT_00069ff4);
                FUN_0001e4ec(5, acStack_38d8, 0);
            }
            close(local_28);
            return;
        }
        local_b0 = 0x80;
        local_2c = accept(local_28, asStack_ac, &local_b0);
        if (local_2c < 0) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                piVar2 = __errno_location();
                pcVar3 = strerror(*piVar2);
                snprintf(acStack_60d8, 0x800, "%s: exec accept failed (%s)",
                         &DAT_00069ff4, pcVar3);
                FUN_0001e4ec(3, acStack_60d8, 0);
            }
            goto LAB_0001c270;
        }
        local_30c8 = 1;
        local_30cc = 5;
        local_30d0 = 2;
        setsockopt(local_2c, 1, 9, &local_30c8, 4);
        setsockopt(local_2c, 6, 1, &local_30c8, 4);
        setsockopt(local_2c, 6, 6, &local_30c8, 4);
        setsockopt(local_2c, 6, 4, &local_30cc, 4);
        setsockopt(local_2c, 6, 5, &local_30d0, 4);
        local_30d8 = 10;
        local_30d4 = 0;
        local_14 = setsockopt(local_2c, 1, 0x15, &local_30d8, 8);
        if (local_14 != 0) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                snprintf(acStack_58d8, 0x800,
                         "%s:setsocket SO_SNDTIMEO failed\n", &DAT_00069ff4);
                FUN_0001e4ec(3, acStack_58d8, 0);
            }
            close(local_2c);
        }
        local_14 = setsockopt(local_2c, 1, 0x14, &local_30d8, 8);
        if (local_14 != 0) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                snprintf(acStack_50d8, 0x800,
                         "%s:setsocket SO_RCVTIMEO failed\n", &DAT_00069ff4);
                FUN_0001e4ec(3, acStack_50d8, 0);
            }
            close(local_2c);
        }
        local_18 = recv(local_2c, local_20b0, 0xfff, 0);
        if (local_18 < 1) {
            local_20b0[0] = '\0';
        LAB_0001c248:
            close(local_2c);
            iVar1 = local_28;
        } else {
            local_20b0[local_18] = '\0';
            memset(local_30c4 + 1, 0, 0x10);
            memset(&DAT_00087758, 0, 0x10);
            DAT_00087754 = time((time_t *)0x0);
            getnameinfo(asStack_ac, 0x80, &DAT_00087758, 0x10, (char *)0x0, 0,
                        1);
            if ((DAT_00087768 != '\0') &&
                (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                  (6 < DAT_0008697c)))) {
                snprintf(acStack_48d8, 0x800, "connect_addr: %s",
                         &DAT_00087758);
                FUN_0001e4ec(7, acStack_48d8, 0);
            }
            sVar4 = strlen(local_20b0);
            local_14 = FUN_0001b588(&local_2c, local_20b0, sVar4 + 1);
            if (local_14 != 0) {
                local_1c = FUN_00065ed4();
                sVar4 = strlen(local_20b0);
                local_14 = FUN_0001a5d4(local_20b0, sVar4 + 1, local_30c4 + 1,
                                        local_30c4);
                if (local_14 < 0) {
                    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                        (2 < DAT_0008697c)) {
                        snprintf(acStack_40d8, 0x800,
                                 "%s: input invaild param format",
                                 &DAT_00069ff4);
                        FUN_0001e4ec(3, acStack_40d8, 0);
                    }
                    FUN_00015b04(local_1c, 0, 0x18, "Missing JSON \'command\'");
                } else {
                    FUN_0001ac28(local_1c, local_30c4 + 1, local_30c4[0]);
                }
                if (local_30c4[0] == 2) {
                    memset(auStack_30b0, 0, 0x1000);
                    FUN_0001b398(local_1c, auStack_30b0);
                    FUN_0001a7a4(&local_2c, auStack_30b0);
                    FUN_00013310(local_1c);
                } else {
                    local_20 = (void *)FUN_000605a4(local_1c, 0x6000);
                    FUN_0001a7a4(&local_2c, local_20);
                    FUN_00013310(local_1c);
                    free(local_20);
                }
                goto LAB_0001c248;
            }
            close(local_2c);
            iVar1 = local_28;
        }
    } while (true);
}

void FUN_0001c3b4(pthread_mutex_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_mutex_init(param_1, (pthread_mutexattr_t *)0x0);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "Failed to pthread_mutex_init errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0001c450(pthread_mutex_t *param_1)

{
    pthread_mutex_destroy(param_1);
    return;
}

void FUN_0001c470(pthread_rwlock_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_rwlock_init(param_1, (pthread_rwlockattr_t *)0x0);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "Failed to pthread_rwlock_init errno=%d in %s %s():%d",
                 *piVar2, param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0001c50c(pthread_rwlock_t *param_1)

{
    pthread_rwlock_destroy(param_1);
    return;
}

void FUN_0001c52c(int param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0001c3b4(param_1, param_2, param_3, param_4);
    FUN_0001c470(param_1 + 0x18, param_2, param_3, param_4);
    return;
}

void FUN_0001c57c(int param_1)

{
    FUN_0001c50c(param_1 + 0x18);
    FUN_0001c450(param_1);
    return;
}

void FUN_0001c5b0(undefined4 *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    void *pvVar1;
    char acStack_814[2048];
    int local_14;
    size_t local_10;
    undefined4 *local_c;

    if (*(char *)(param_1 + 1) != '\0') {
        snprintf(
            acStack_814, 0x800,
            "List %s store can\'t %s() - from %s %s() line %d in %s %s():%d",
            *param_1, "k_alloc_items", param_2, param_3, param_4, "klist.c",
            "k_alloc_items", 0x13);
        FUN_0001e4ec(3, acStack_814, 1);
        FUN_0004bfb0(1);
    }
    if (((int)param_1[10] < 1) || ((int)param_1[6] < (int)param_1[10])) {
        local_10 = param_1[9];
        if ((0 < (int)param_1[10]) &&
            ((int)param_1[10] < (int)(param_1[6] + local_10))) {
            local_10 = param_1[10] - param_1[6];
        }
        param_1[0xc] = param_1[0xc] + 1;
        pvVar1 = realloc((void *)param_1[0xd], param_1[0xc] << 2);
        param_1[0xd] = pvVar1;
        if (param_1[0xd] == 0) {
            snprintf(
                acStack_814, 0x800,
                "List %s item_memory failed to realloc count=%d in %s %s():%d",
                *param_1, param_1[0xc], "klist.c", "k_alloc_items", 0x21);
            FUN_0001e4ec(3, acStack_814, 1);
            FUN_0004bfb0(1);
        }
        local_c = (undefined4 *)calloc(local_10, 0x10);
        if (local_c == (undefined4 *)0x0) {
            snprintf(acStack_814, 0x800,
                     "List %s failed to calloc %d new items - total was %d, "
                     "limit was %d in %s %s():%d",
                     *param_1, local_10, param_1[6], param_1[10], "klist.c",
                     "k_alloc_items", 0x26);
            FUN_0001e4ec(3, acStack_814, 1);
            FUN_0004bfb0(1);
        }
        *(undefined4 **)(param_1[0xd] + (param_1[0xc] + 0x3fffffff) * 4) =
            local_c;
        param_1[6] = param_1[6] + local_10;
        param_1[7] = local_10;
        param_1[8] = local_10;
        *local_c = *param_1;
        local_c[1] = 0;
        local_c[2] = local_c + 4;
        for (local_14 = 1; local_14 < (int)(local_10 - 1);
             local_14 = local_14 + 1) {
            local_c[local_14 * 4] = *param_1;
            local_c[local_14 * 4 + 1] = local_c + (local_14 + 0xfffffff) * 4;
            local_c[local_14 * 4 + 2] = local_c + (local_14 + 1) * 4;
        }
        local_c[(local_10 + 0xfffffff) * 4] = *param_1;
        local_c[(local_10 + 0xfffffff) * 4 + 1] =
            local_c + (local_10 + 0xffffffe) * 4;
        local_c[(local_10 + 0xfffffff) * 4 + 2] = 0;
        param_1[3] = local_c;
        if (*(char *)(param_1 + 0xb) != '\0') {
            param_1[4] = local_c + (local_10 + 0xfffffff) * 4;
        }
        for (local_c = (undefined4 *)param_1[3]; local_c != (undefined4 *)0x0;
             local_c = *(undefined4 **)((int)local_c + 8)) {
            param_1[0xe] = param_1[0xe] + 1;
            pvVar1 = realloc((void *)param_1[0xf], param_1[0xe] << 2);
            param_1[0xf] = pvVar1;
            if (param_1[0xf] == 0) {
                snprintf(acStack_814, 0x800,
                         "List %s data_memory failed to realloc count=%d in %s "
                         "%s():%d",
                         *param_1, param_1[0xe], "klist.c", "k_alloc_items",
                         0x45);
                FUN_0001e4ec(3, acStack_814, 1);
                FUN_0004bfb0(1);
            }
            pvVar1 = calloc(1, param_1[5]);
            *(void **)((int)local_c + 0xc) = pvVar1;
            if (*(int *)((int)local_c + 0xc) == 0) {
                snprintf(acStack_814, 0x800,
                         "List %s failed to calloc item data in %s %s():%d",
                         *param_1, "klist.c", "k_alloc_items", 0x49);
                FUN_0001e4ec(3, acStack_814, 1);
                FUN_0004bfb0(1);
            }
            *(undefined4 *)(param_1[0xf] + (param_1[0xe] + 0x3fffffff) * 4) =
                *(undefined4 *)((int)local_c + 0xc);
        }
    }
    return;
}

undefined4 *FUN_0001cbdc(undefined4 *param_1)

{
    char acStack_80c[2048];
    undefined4 *local_c;

    local_c = (undefined4 *)calloc(1, 0x40);
    if (local_c == (undefined4 *)0x0) {
        snprintf(acStack_80c, 0x800,
                 "Failed to calloc store for %s in %s %s():%d", *param_1,
                 "klist.c", "k_new_store", 0x55);
        FUN_0001e4ec(3, acStack_80c, 1);
        FUN_0004bfb0(1);
    }
    *(undefined1 *)(local_c + 1) = 1;
    local_c[2] = param_1[2];
    *local_c = *param_1;
    *(undefined1 *)(local_c + 0xb) = *(undefined1 *)(param_1 + 0xb);
    return local_c;
}

undefined4 *FUN_0001ccc4(undefined4 param_1, undefined4 param_2, int param_3,
                         int param_4, undefined1 param_5, undefined4 param_6,
                         undefined4 param_7, undefined4 param_8)

{
    void *pvVar1;
    char acStack_80c[2048];
    undefined4 *local_c;

    if (param_3 < 1) {
        snprintf(
            acStack_80c, 0x800,
            "Invalid new list %s with allocate %d must be > 0 in %s %s():%d",
            param_1, param_3, "klist.c", "_k_new_list", 100);
        FUN_0001e4ec(3, acStack_80c, 1);
        FUN_0004bfb0(1);
    }
    if (param_4 < 0) {
        snprintf(acStack_80c, 0x800,
                 "Invalid new list %s with limit %d must be >= 0 in %s %s():%d",
                 param_1, param_4, "klist.c", "_k_new_list", 0x67);
        FUN_0001e4ec(3, acStack_80c, 1);
        FUN_0004bfb0(1);
    }
    local_c = (undefined4 *)calloc(1, 0x40);
    if (local_c == (undefined4 *)0x0) {
        snprintf(acStack_80c, 0x800, "Failed to calloc list %s in %s %s():%d",
                 param_1, "klist.c", "_k_new_list", 0x6b);
        FUN_0001e4ec(3, acStack_80c, 1);
        FUN_0004bfb0(1);
    }
    *(undefined1 *)(local_c + 1) = 0;
    pvVar1 = calloc(1, 0x38);
    local_c[2] = pvVar1;
    if (local_c[2] == 0) {
        snprintf(acStack_80c, 0x800,
                 "Failed to calloc lock for list %s in %s %s():%d", param_1,
                 "klist.c", "_k_new_list", 0x71);
        FUN_0001e4ec(3, acStack_80c, 1);
        FUN_0004bfb0(1);
    }
    FUN_0001c52c(local_c[2], "klist.c", "_k_new_list", 0x73);
    *local_c = param_1;
    local_c[5] = param_2;
    local_c[9] = param_3;
    local_c[10] = param_4;
    *(undefined1 *)(local_c + 0xb) = param_5;
    FUN_0001c5b0(local_c, param_6, param_7, param_8);
    return local_c;
}

int FUN_0001cf74(int param_1, undefined4 param_2, undefined4 param_3,
                 undefined4 param_4)

{
    int iVar1;

    if ((*(int *)(param_1 + 0xc) == 0) && (*(char *)(param_1 + 4) != '\x01')) {
        FUN_0001c5b0(param_1, param_2, param_3, param_4);
    }
    if (*(int *)(param_1 + 0xc) == 0) {
        iVar1 = 0;
    } else {
        iVar1 = *(int *)(param_1 + 0xc);
        *(undefined4 *)(param_1 + 0xc) = *(undefined4 *)(iVar1 + 8);
        if (*(int *)(param_1 + 0xc) == 0) {
            if (*(char *)(param_1 + 0x2c) != '\0') {
                *(undefined4 *)(param_1 + 0x10) = 0;
            }
        } else {
            *(undefined4 *)(*(int *)(param_1 + 0xc) + 4) = 0;
        }
        *(undefined4 *)(iVar1 + 8) = 0;
        *(undefined4 *)(iVar1 + 4) = *(undefined4 *)(iVar1 + 8);
        *(int *)(param_1 + 0x1c) = *(int *)(param_1 + 0x1c) + -1;
    }
    return iVar1;
}

int FUN_0001d080(int param_1, undefined4 param_2, undefined4 param_3,
                 undefined4 param_4)

{
    int iVar1;

    iVar1 = FUN_0001cf74(param_1, param_2, param_3, param_4);
    if (iVar1 != 0) {
        memset(*(void **)(iVar1 + 0xc), 0, *(size_t *)(param_1 + 0x14));
    }
    return iVar1;
}

int FUN_0001d0ec(undefined4 *param_1, undefined4 param_2, undefined4 param_3,
                 undefined4 param_4)

{
    int iVar1;
    char acStack_80c[2052];

    if (*(char *)(param_1 + 0xb) != '\x01') {
        snprintf(acStack_80c, 0x800,
                 "List %s can\'t %s() - do_tail is false - from %s %s() line "
                 "%d in %s %s():%d",
                 *param_1, "_k_unlink_tail", param_2, param_3, param_4,
                 "klist.c", "_k_unlink_tail", 0xb5);
        FUN_0001e4ec(3, acStack_80c, 1);
        FUN_0004bfb0(1);
    }
    if (param_1[4] == 0) {
        iVar1 = 0;
    } else {
        iVar1 = param_1[4];
        param_1[4] = *(undefined4 *)(iVar1 + 4);
        if (param_1[4] == 0) {
            param_1[3] = 0;
        } else {
            *(undefined4 *)(param_1[4] + 8) = 0;
        }
        *(undefined4 *)(iVar1 + 8) = 0;
        *(undefined4 *)(iVar1 + 4) = *(undefined4 *)(iVar1 + 8);
        param_1[7] = param_1[7] + -1;
    }
    return iVar1;
}

void FUN_0001d258(int *param_1, int *param_2, undefined4 param_3,
                  undefined4 param_4, undefined4 param_5)

{
    char acStack_808[2048];

    if (*param_2 != *param_1) {
        snprintf(acStack_808, 0x800,
                 "List %s can\'t %s() a %s item - from %s %s() line %d in %s "
                 "%s():%d",
                 *param_1, "_k_add_head", *param_2, param_3, param_4, param_5,
                 "klist.c", "_k_add_head", 0xcd);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    param_2[1] = 0;
    param_2[2] = param_1[3];
    if (param_1[3] != 0) {
        *(int **)(param_1[3] + 4) = param_2;
    }
    param_1[3] = (int)param_2;
    if (((char)param_1[0xb] != '\0') && (param_1[4] == 0)) {
        param_1[4] = (int)param_2;
    }
    param_1[7] = param_1[7] + 1;
    param_1[8] = param_1[8] + 1;
    return;
}

void FUN_0001d3c4(int *param_1, int *param_2, undefined4 param_3,
                  undefined4 param_4, undefined4 param_5)

{
    char acStack_808[2048];

    if (*param_2 != *param_1) {
        snprintf(acStack_808, 0x800,
                 "List %s can\'t %s() a %s item - from %s %s() line %d in %s "
                 "%s():%d",
                 *param_1, "_k_add_tail", *param_2, param_3, param_4, param_5,
                 "klist.c", "_k_add_tail", 0xec);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    if ((char)param_1[0xb] != '\x01') {
        snprintf(acStack_808, 0x800,
                 "List %s can\'t %s() - do_tail is false - from %s %s() line "
                 "%d in %s %s():%d",
                 *param_1, "_k_add_tail", param_3, param_4, param_5, "klist.c",
                 "_k_add_tail", 0xf1);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    param_2[1] = param_1[4];
    param_2[2] = 0;
    if (param_1[4] != 0) {
        *(int **)(param_1[4] + 8) = param_2;
    }
    param_1[4] = (int)param_2;
    if (param_1[3] == 0) {
        param_1[3] = (int)param_2;
    }
    param_1[7] = param_1[7] + 1;
    param_1[8] = param_1[8] + 1;
    return;
}

void FUN_0001d5c0(int *param_1, int *param_2, int param_3, undefined4 param_4,
                  undefined4 param_5, undefined4 param_6)

{
    char acStack_808[2048];

    if (*param_2 != *param_1) {
        snprintf(acStack_808, 0x800,
                 "List %s can\'t %s() a %s item - from %s %s() line %d in %s "
                 "%s():%d",
                 *param_1, "_k_insert_before", *param_2, param_4, param_5,
                 param_6, "klist.c", "_k_insert_before", 0x106);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    if (param_3 == 0) {
        snprintf(acStack_808, 0x800,
                 "%s() (%s) can\'t before a null item - from %s %s() line %d "
                 "in %s %s():%d",
                 "_k_insert_before", *param_1, param_4, param_5, param_6,
                 "klist.c", "_k_insert_before", 0x10b);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    param_2[2] = param_3;
    param_2[1] = *(int *)(param_3 + 4);
    if (*(int *)(param_3 + 4) == 0) {
        param_1[3] = (int)param_2;
    } else {
        *(int **)(*(int *)(param_3 + 4) + 8) = param_2;
    }
    *(int **)(param_3 + 4) = param_2;
    param_1[7] = param_1[7] + 1;
    param_1[8] = param_1[8] + 1;
    return;
}

void FUN_0001d7a0(int *param_1, int *param_2, int param_3, undefined4 param_4,
                  undefined4 param_5, undefined4 param_6)

{
    char acStack_808[2048];

    if (*param_2 != *param_1) {
        snprintf(acStack_808, 0x800,
                 "List %s can\'t %s() a %s item - from %s %s() line %d in %s "
                 "%s():%d",
                 *param_1, "_k_insert_after", *param_2, param_4, param_5,
                 param_6, "klist.c", "_k_insert_after", 0x11e);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    if (param_3 == 0) {
        snprintf(acStack_808, 0x800,
                 "%s() (%s) can\'t after a null item - from %s %s() line %d in "
                 "%s %s():%d",
                 "_k_insert_after", *param_1, param_4, param_5, param_6,
                 "klist.c", "_k_insert_after", 0x123);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    param_2[1] = param_3;
    param_2[2] = *(int *)(param_3 + 8);
    if (*(int *)(param_3 + 8) == 0) {
        if ((char)param_1[0xb] != '\0') {
            param_1[4] = (int)param_2;
        }
    } else {
        *(int **)(*(int *)(param_3 + 8) + 4) = param_2;
    }
    *(int **)(param_3 + 8) = param_2;
    param_1[7] = param_1[7] + 1;
    param_1[8] = param_1[8] + 1;
    return;
}

void FUN_0001d990(int *param_1, int *param_2, undefined4 param_3,
                  undefined4 param_4, undefined4 param_5)

{
    char acStack_808[2048];

    if (*param_2 != *param_1) {
        snprintf(acStack_808, 0x800,
                 "List %s can\'t %s() a %s item - from %s %s() line %d in %s "
                 "%s():%d",
                 *param_1, "_k_unlink_item", *param_2, param_3, param_4,
                 param_5, "klist.c", "_k_unlink_item", 0x138);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    if (param_2[1] != 0) {
        *(int *)(param_2[1] + 8) = param_2[2];
    }
    if (param_2[2] != 0) {
        *(int *)(param_2[2] + 4) = param_2[1];
    }
    if ((int *)param_1[3] == param_2) {
        param_1[3] = param_2[2];
    }
    if (((char)param_1[0xb] != '\0') && ((int *)param_1[4] == param_2)) {
        param_1[4] = param_2[1];
    }
    param_2[2] = 0;
    param_2[1] = param_2[2];
    param_1[7] = param_1[7] + -1;
    return;
}

void FUN_0001db30(int *param_1, int *param_2, undefined4 param_3,
                  undefined4 param_4, undefined4 param_5)

{
    char acStack_808[2048];

    if (*param_1 != *param_2) {
        snprintf(acStack_808, 0x800,
                 "List %s can\'t %s() to a %s list - from %s %s() line %d in "
                 "%s %s():%d",
                 *param_1, "_k_list_transfer_to_head", *param_2, param_3,
                 param_4, param_5, "klist.c", "_k_list_transfer_to_head",
                 0x152);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    if ((char)param_1[0xb] != '\x01') {
        snprintf(acStack_808, 0x800,
                 "List %s can\'t %s() - do_tail is false - from %s %s() line "
                 "%d in %s %s():%d",
                 *param_1, "_k_list_transfer_to_head", param_3, param_4,
                 param_5, "klist.c", "_k_list_transfer_to_head", 0x157);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    if (param_1[3] != 0) {
        if (param_2[3] == 0) {
            param_2[4] = param_1[4];
        } else {
            *(int *)(param_2[3] + 4) = param_1[4];
        }
        *(int *)(param_1[4] + 8) = param_2[3];
        param_2[3] = param_1[3];
        param_1[4] = 0;
        param_1[3] = param_1[4];
        param_2[7] = param_2[7] + param_1[7];
        param_1[7] = 0;
        param_2[8] = param_2[8] + param_1[8];
        param_1[8] = 0;
    }
    return;
}

void FUN_0001dd7c(int *param_1, int *param_2, undefined4 param_3,
                  undefined4 param_4, undefined4 param_5)

{
    char acStack_808[2048];

    if (*param_1 != *param_2) {
        snprintf(acStack_808, 0x800,
                 "List %s can\'t %s() to a %s list - from %s %s() line %d in "
                 "%s %s():%d",
                 *param_1, "_k_list_transfer_to_tail", *param_2, param_3,
                 param_4, param_5, "klist.c", "_k_list_transfer_to_tail",
                 0x170);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    if ((char)param_1[0xb] != '\x01') {
        snprintf(acStack_808, 0x800,
                 "List %s can\'t %s() - do_tail is false - from %s %s() line "
                 "%d in %s %s():%d",
                 *param_1, "_k_list_transfer_to_tail", param_3, param_4,
                 param_5, "klist.c", "_k_list_transfer_to_tail", 0x175);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    if (param_1[3] != 0) {
        if (param_2[4] == 0) {
            param_2[3] = param_1[3];
        } else {
            *(int *)(param_2[4] + 8) = param_1[3];
        }
        *(int *)(param_1[3] + 4) = param_2[4];
        param_2[4] = param_1[4];
        param_1[4] = 0;
        param_1[3] = param_1[4];
        param_2[7] = param_2[7] + param_1[7];
        param_1[7] = 0;
        param_2[8] = param_2[8] + param_1[8];
        param_1[8] = 0;
    }
    return;
}

undefined4 FUN_0001dfc8(undefined4 *param_1, undefined4 param_2,
                        undefined4 param_3, undefined4 param_4)

{
    char acStack_80c[2048];
    int local_c;

    if (*(char *)(param_1 + 1) != '\0') {
        snprintf(
            acStack_80c, 0x800,
            "List %s can\'t %s() a store - from %s %s() line %d in %s %s():%d",
            *param_1, "_k_free_list", param_2, param_3, param_4, "klist.c",
            "_k_free_list", 400);
        FUN_0001e4ec(3, acStack_80c, 1);
        FUN_0004bfb0(1);
    }
    for (local_c = 0; local_c < (int)param_1[0xc]; local_c = local_c + 1) {
        free(*(void **)(param_1[0xd] + local_c * 4));
    }
    free((void *)param_1[0xd]);
    for (local_c = 0; local_c < (int)param_1[0xe]; local_c = local_c + 1) {
        free(*(void **)(param_1[0xf] + local_c * 4));
    }
    free((void *)param_1[0xf]);
    FUN_0001c57c(param_1[2]);
    free((void *)param_1[2]);
    free(param_1);
    return 0;
}

undefined4 FUN_0001e178(undefined4 *param_1, undefined4 param_2,
                        undefined4 param_3, undefined4 param_4)

{
    char acStack_808[2048];

    if (*(char *)(param_1 + 1) != '\x01') {
        snprintf(acStack_808, 0x800,
                 "Store %s can\'t %s() the list - from %s %s() line %d in %s "
                 "%s():%d",
                 *param_1, "_k_free_store", param_2, param_3, param_4,
                 "klist.c", "_k_free_store", 0x1a8);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    free(param_1);
    return 0;
}

void FUN_0001e24c(pthread_mutex_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_mutex_lock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0001e2e4(pthread_mutex_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_mutex_unlock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0001e37c(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0001e2e4(param_1, param_2, param_3, param_4);
    (*DAT_00086aa0)();
    return;
}

int FUN_0001e3c4(pthread_mutex_t *param_1)

{
    int iVar1;

    iVar1 = pthread_mutex_trylock(param_1);
    return iVar1;
}

void FUN_0001e3fc(int param_1, undefined4 param_2, undefined4 param_3,
                  char param_4)

{
    if ((DAT_000953fc == '\0') || (param_1 == 3)) {
        if (param_4 != '\0') {
            FUN_0001e3c4(&DAT_000941ac, "logging.c", "my_log_curses", 0x28);
            FUN_0001e37c(&DAT_000941ac, "logging.c", "my_log_curses", 0x29);
        }
        FUN_0001e24c(&DAT_000941ac, "logging.c", "my_log_curses", 0x34);
        printf("%s%s%s", param_2, param_3, "                    \n");
        FUN_0001e37c(&DAT_000941ac, "logging.c", "my_log_curses", 0x36);
    }
    return;
}

void FUN_0001e4ec(uint param_1, char *param_2, undefined1 param_3)

{
    int iVar1;
    size_t sVar2;
    char acStack_64[64];
    time_t local_24;
    time_t local_20;
    int local_1c;
    tm *local_18;
    int local_14;

    if (DAT_00091f58 == '\0') {
        local_20 = 0;
        local_1c = 0;
        FUN_00022308(&local_20);
        local_24 = local_20;
        local_14 = local_1c / 1000;
        local_18 = localtime(&local_24);
        snprintf(acStack_64, 0x40, " [%d-%02d-%02d %02d:%02d:%02d.%03d] ",
                 local_18->tm_year + 0x76c, local_18->tm_mon + 1,
                 local_18->tm_mday, local_18->tm_hour, local_18->tm_min,
                 local_18->tm_sec, local_14);
        iVar1 = fileno(stderr);
        iVar1 = isatty(iVar1);
        if (iVar1 == 0) {
            fprintf(stderr, "%s%s\n", acStack_64, param_2);
            fflush(stderr);
        }
        if (DAT_00087770 != '\0') {
            if (DAT_0008776c == (FILE *)0x0) {
                DAT_0008776c =
                    fopen64((char *)&DAT_00087774, (char *)&DAT_00087874);
            }
            if (DAT_0008776c != (FILE *)0x0) {
                sVar2 = strlen(acStack_64);
                fwrite(acStack_64, sVar2, 1, DAT_0008776c);
                sVar2 = strlen(param_2);
                fwrite(param_2, sVar2, 1, DAT_0008776c);
                fwrite(&DAT_0006a648, 1, 1, DAT_0008776c);
                fflush(DAT_0008776c);
            }
        }
        FUN_0001e3fc(param_1, acStack_64, param_2, param_3);
    } else {
        syslog(param_1 | 0x80, "%s", param_2);
    }
    return;
}

void FUN_0001e75c(uint param_1, undefined4 param_2, undefined1 param_3)

{
    int iVar1;

    if (DAT_00091f58 == '\0') {
        iVar1 = fileno(stderr);
        iVar1 = isatty(iVar1);
        if (iVar1 == 0) {
            fprintf(stderr, "%s\n", param_2);
            fflush(stderr);
        }
        FUN_0001e3fc(param_1, &DAT_0006a650, param_2, param_3);
    } else {
        syslog(param_1 | 0x80, "%s", param_2);
    }
    return;
}

void FUN_0001e82c(pthread_mutex_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_mutex_lock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0001e8c4(pthread_mutex_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_mutex_unlock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0001e95c(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0001e8c4(param_1, param_2, param_3, param_4);
    (*DAT_00086aa0)();
    return;
}

void FUN_0001e9a4(pthread_rwlock_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_rwlock_wrlock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0001ea3c(pthread_rwlock_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_rwlock_unlock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0001ead4(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0001ea3c(param_1, param_2, param_3, param_4);
    return;
}

void FUN_0001eb0c(int param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0001e82c(param_1, param_2, param_3, param_4);
    FUN_0001e9a4(param_1 + 0x18, param_2, param_3, param_4);
    return;
}

void FUN_0001eb5c(int param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0001ead4(param_1 + 0x18, param_2, param_3, param_4);
    FUN_0001e95c(param_1, param_2, param_3, param_4);
    return;
}

void FUN_0001ebac(int param_1, undefined4 param_2)

{
    undefined4 uVar1;
    char acStack_80c[2048];
    undefined4 *local_c;

    local_c = (undefined4 *)calloc(1, 0x20);
    if (local_c == (undefined4 *)0x0) {
        snprintf(acStack_80c, 0x800, "Failed to calloc dupdata in %s %s():%d",
                 "noncedup.c", "dupalloc", 0x24);
        FUN_0001e4ec(3, acStack_80c, 1);
        FUN_0004bfb0(1);
    }
    *local_c = param_2;
    uVar1 = FUN_0001ccc4("Nonces", 0x10, 0x400, 0, 1, "noncedup.c", "dupalloc",
                         0x27);
    local_c[1] = uVar1;
    uVar1 = FUN_0001cbdc(local_c[1]);
    local_c[2] = uVar1;
    *(undefined4 **)(param_1 + 0x18) = local_c;
    return;
}

bool FUN_0001ed3c(int param_1, int param_2, int param_3)

{
    uint uVar1;
    bool bVar2;
    undefined4 uVar3;
    undefined4 extraout_s1;
    char acStack_81c[2048];
    undefined1 auStack_1c[8];
    int *local_14;
    int local_10;
    char local_9;

    local_14 = *(int **)(param_1 + 0x18);
    local_9 = '\x01';
    if (local_14 == (int *)0x0) {
        bVar2 = false;
    } else {
        FUN_00022308(auStack_1c);
        uVar1 = local_14[4];
        local_14[4] = uVar1 + 1;
        local_14[5] = local_14[5] + (uint)(0xfffffffe < uVar1);
        FUN_0001eb0c(*(undefined4 *)(local_14[1] + 8), "noncedup.c",
                     "isdupnonce", 0x46);
        local_10 = *(int *)(local_14[2] + 0x10);
        while ((local_9 != '\0' && (local_10 != 0))) {
            if ((**(int **)(local_10 + 0xc) == *(int *)(param_2 + 0x154)) &&
                (*(int *)(*(int *)(local_10 + 0xc) + 4) == param_3)) {
                local_9 = '\0';
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (3 < DAT_0008697c)) {
                    snprintf(acStack_81c, 0x800, "%s%d: Duplicate nonce %08x",
                             *(undefined4 *)(*(int *)(param_1 + 4) + 8),
                             *(undefined4 *)(param_1 + 8), param_3);
                    FUN_0001e4ec(4, acStack_81c, 0);
                }
            } else {
                local_10 = *(int *)(local_10 + 4);
            }
        }
        if (local_9 != '\0') {
            local_10 =
                FUN_0001cf74(local_14[1], "noncedup.c", "isdupnonce", 0x51);
            **(undefined4 **)(local_10 + 0xc) =
                *(undefined4 *)(param_2 + 0x154);
            *(int *)(*(int *)(local_10 + 0xc) + 4) = param_3;
            memcpy((void *)(*(int *)(local_10 + 0xc) + 8), auStack_1c, 8);
            FUN_0001d258(local_14[2], local_10, "noncedup.c", "isdupnonce",
                         0x55);
        }
        local_10 = *(int *)(local_14[2] + 0x10);
        while ((local_10 != 0 &&
                (uVar3 = FUN_000226b0(*(int *)(local_10 + 0xc) + 8, auStack_1c),
                 (double)(longlong)*local_14 <
                     (double)CONCAT44(extraout_s1, uVar3)))) {
            local_10 =
                FUN_0001d0ec(local_14[2], "noncedup.c", "isdupnonce", 0x59);
            FUN_0001d258(local_14[1], local_10, "noncedup.c", "isdupnonce",
                         0x5a);
            local_10 = *(int *)(local_14[2] + 0x10);
        }
        FUN_0001eb5c(*(undefined4 *)(local_14[1] + 8), "noncedup.c",
                     "isdupnonce", 0x5d);
        if (local_9 != '\x01') {
            uVar1 = local_14[6];
            local_14[6] = uVar1 + 1;
            local_14[7] = local_14[7] + (uint)(0xfffffffe < uVar1);
        }
        bVar2 = local_9 == '\0';
    }
    return bVar2;
}

void FUN_0001f0a4(int param_1, int param_2, int param_3)

{
    uint uVar1;
    int iVar2;
    uint uVar3;
    uint uVar4;
    uint local_13c[8];
    uint local_11c[67];
    int local_10;
    int local_c;

    for (local_c = 0; local_c < param_3; local_c = local_c + 1) {
        iVar2 = param_2 + local_c * 0x40;
        for (local_10 = 0; local_10 < 0x10; local_10 = local_10 + 1) {
            local_11c[local_10] = CONCAT13(
                *(undefined1 *)(iVar2 + local_10 * 4),
                CONCAT12(*(undefined1 *)(iVar2 + local_10 * 4 + 1),
                         CONCAT11(*(undefined1 *)(iVar2 + local_10 * 4 + 2),
                                  *(undefined1 *)(iVar2 + local_10 * 4 + 3))));
        }
        for (local_10 = 0x10; local_10 < 0x40; local_10 = local_10 + 1) {
            local_11c[local_10] = ((local_11c[local_10 + -2] >> 0x11 |
                                    local_11c[local_10 + -2] << 0xf) ^
                                   (local_11c[local_10 + -2] >> 0x13 |
                                    local_11c[local_10 + -2] << 0xd) ^
                                   local_11c[local_10 + -2] >> 10) +
                                  local_11c[local_10 + -7] +
                                  (local_11c[local_10 + -0xf] >> 3 ^
                                   (local_11c[local_10 + -0xf] >> 7 |
                                    local_11c[local_10 + -0xf] << 0x19) ^
                                   (local_11c[local_10 + -0xf] >> 0x12 |
                                    local_11c[local_10 + -0xf] << 0xe)) +
                                  local_11c[local_10 + -0x10];
        }
        for (local_10 = 0; local_10 < 8; local_10 = local_10 + 1) {
            local_13c[local_10] = *(uint *)(param_1 + (local_10 + 0x22) * 4);
        }
        for (local_10 = 0; local_10 < 0x40; local_10 = local_10 + 1) {
            iVar2 =
                local_13c[7] +
                ((local_13c[4] >> 0x19 | local_13c[4] << 7) ^
                 (local_13c[4] >> 6 | local_13c[4] << 0x1a) ^
                 (local_13c[4] >> 0xb | local_13c[4] << 0x15)) +
                (local_13c[6] & ~local_13c[4] ^ local_13c[4] & local_13c[5]) +
                *(int *)(&DAT_000869a0 + local_10 * 4) + local_11c[local_10];
            uVar1 = local_13c[0] & local_13c[1];
            uVar3 = local_13c[2] & local_13c[0];
            uVar4 = local_13c[2] & local_13c[1];
            local_13c[7] = local_13c[6];
            local_13c[6] = local_13c[5];
            local_13c[5] = local_13c[4];
            local_13c[4] = local_13c[3] + iVar2;
            local_13c[3] = local_13c[2];
            local_13c[2] = local_13c[1];
            local_13c[1] = local_13c[0];
            local_13c[0] = iVar2 +
                           ((local_13c[0] >> 2 | local_13c[0] << 0x1e) ^
                            (local_13c[0] >> 0xd | local_13c[0] << 0x13) ^
                            (local_13c[0] >> 0x16 | local_13c[0] << 10)) +
                           (uVar4 ^ uVar1 ^ uVar3);
        }
        for (local_10 = 0; local_10 < 8; local_10 = local_10 + 1) {
            *(uint *)(param_1 + (local_10 + 0x22) * 4) =
                *(int *)(param_1 + (local_10 + 0x22) * 4) + local_13c[local_10];
        }
    }
    return;
}

void FUN_0001f4d0(undefined4 param_1, undefined4 param_2, undefined4 param_3)

{
    undefined1 auStack_b0[168];

    FUN_0001f520(auStack_b0);
    FUN_0001f598(auStack_b0, param_1, param_2);
    FUN_0001f6e8(auStack_b0, param_3);
    return;
}

void FUN_0001f520(undefined4 *param_1)

{
    int local_c;

    for (local_c = 0; local_c < 8; local_c = local_c + 1) {
        param_1[local_c + 0x22] = *(undefined4 *)(&DAT_00086980 + local_c * 4);
    }
    param_1[1] = 0;
    *param_1 = 0;
    return;
}

void FUN_0001f598(int *param_1, void *param_2, uint param_3)

{
    uint uVar1;
    size_t __n;
    uint __n_00;

    __n = 0x40 - param_1[1];
    if (param_3 <= __n) {
        __n = param_3;
    }
    memcpy((void *)((int)param_1 + param_1[1] + 8), param_2, __n);
    if (param_1[1] + param_3 < 0x40) {
        param_1[1] = param_1[1] + param_3;
    } else {
        uVar1 = param_3 - __n >> 6;
        FUN_0001f0a4(param_1, param_1 + 2, 1);
        FUN_0001f0a4(param_1, (int)param_2 + __n, uVar1);
        __n_00 = param_3 - __n & 0x3f;
        memcpy(param_1 + 2, (void *)((int)param_2 + __n + uVar1 * 0x40),
               __n_00);
        param_1[1] = __n_00;
        *param_1 = *param_1 + (uVar1 + 1) * 0x40;
    }
    return;
}

void FUN_0001f6e8(int *param_1, int param_2)

{
    int iVar1;
    int iVar2;
    int iVar3;
    int local_c;

    if ((param_1[1] & 0x3fU) < 0x38) {
        iVar3 = 1;
    } else {
        iVar3 = 2;
    }
    iVar1 = (*param_1 + param_1[1]) * 8;
    iVar2 = iVar3 * 0x40;
    memset((void *)((int)param_1 + param_1[1] + 8), 0, iVar2 - param_1[1]);
    *(undefined1 *)((int)param_1 + param_1[1] + 8) = 0x80;
    *(char *)((int)param_1 + iVar2 + 7) = (char)iVar1;
    *(char *)((int)param_1 + iVar2 + 6) = (char)((uint)iVar1 >> 8);
    *(char *)((int)param_1 + iVar2 + 5) = (char)((uint)iVar1 >> 0x10);
    *(char *)(param_1 + iVar3 * 0x10 + 1) = (char)((uint)iVar1 >> 0x18);
    FUN_0001f0a4(param_1, param_1 + 2, iVar3);
    for (local_c = 0; local_c < 8; local_c = local_c + 1) {
        *(char *)(param_2 + local_c * 4 + 3) = (char)param_1[local_c + 0x22];
        *(char *)(param_2 + local_c * 4 + 2) =
            (char)((uint)param_1[local_c + 0x22] >> 8);
        *(char *)(param_2 + local_c * 4 + 1) =
            (char)((uint)param_1[local_c + 0x22] >> 0x10);
        *(char *)(param_2 + local_c * 4) =
            (char)((uint)param_1[local_c + 0x22] >> 0x18);
    }
    return;
}

uint FUN_0001f920(uint param_1)

{
    return param_1 << 0x18 | (param_1 >> 8 & 0xff) << 0x10 |
           (param_1 >> 0x10 & 0xff) << 8 | param_1 >> 0x18;
}

void FUN_0001f948(int param_1)

{
    bool bVar1;
    int iVar2;
    int *piVar3;

    if ((param_1 != 0) && (*(int *)(param_1 + 4) != -1)) {
        piVar3 = (int *)(param_1 + 4);
        DataMemoryBarrier(0xf);
        do {
            iVar2 = *piVar3;
            bVar1 = (bool)hasExclusiveAccess(piVar3);
        } while (!bVar1);
        *piVar3 = iVar2 + -1;
        if (iVar2 + -1 == 0) {
            FUN_000680f0(param_1);
        }
    }
    return;
}

void FUN_0001f9ac(int *param_1, int *param_2, int param_3)

{
    *(int **)(param_3 + 4) = param_1;
    *param_1 = param_3;
    param_1[1] = (int)param_2;
    *param_2 = (int)param_1;
    return;
}

void FUN_0001fa00(undefined4 param_1, int param_2)

{
    FUN_0001f9ac(param_1, *(undefined4 *)(param_2 + 4), param_2);
    return;
}

void FUN_0001fa34(int *param_1, int param_2)

{
    *(int **)(param_2 + 4) = param_1;
    *param_1 = param_2;
    return;
}

void FUN_0001fa6c(undefined4 *param_1)

{
    FUN_0001fa34(param_1[1], *param_1);
    *param_1 = 0;
    param_1[1] = 0;
    return;
}

bool FUN_0001fab8(int *param_1)

{
    return (int *)*param_1 == param_1;
}

undefined4 FUN_0001faf4(void)

{
    int *piVar1;
    undefined4 uVar2;

    piVar1 = __errno_location();
    if ((*piVar1 == 0xb) || (piVar1 = __errno_location(), *piVar1 == 0xb)) {
        uVar2 = 1;
    } else {
        uVar2 = 0;
    }
    return uVar2;
}

bool FUN_0001fb40(void)

{
    int *piVar1;

    piVar1 = __errno_location();
    return *piVar1 == 0x6e;
}

bool FUN_0001fb6c(void)

{
    int *piVar1;

    piVar1 = __errno_location();
    return *piVar1 == 4;
}

void FUN_0001fb98(uint *param_1)

{
    if ((*param_1 & 3) != 0) {
        *param_1 = (*param_1 & 0xfffffffc) + 4;
    }
    return;
}

uint FUN_0001fbe0(uint param_1)

{
    return param_1 << 0x18 | (param_1 >> 8 & 0xff) << 0x10 |
           (param_1 >> 0x10 & 0xff) << 8 | param_1 >> 0x18;
}

void FUN_0001fc08(undefined4 *param_1, undefined4 *param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_0001fbe0(param_2[7]);
    *param_1 = uVar1;
    uVar1 = FUN_0001fbe0(param_2[6]);
    param_1[1] = uVar1;
    uVar1 = FUN_0001fbe0(param_2[5]);
    param_1[2] = uVar1;
    uVar1 = FUN_0001fbe0(param_2[4]);
    param_1[3] = uVar1;
    uVar1 = FUN_0001fbe0(param_2[3]);
    param_1[4] = uVar1;
    uVar1 = FUN_0001fbe0(param_2[2]);
    param_1[5] = uVar1;
    uVar1 = FUN_0001fbe0(param_2[1]);
    param_1[6] = uVar1;
    uVar1 = FUN_0001fbe0(*param_2);
    param_1[7] = uVar1;
    return;
}

void FUN_0001fd4c(pthread_mutex_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_mutex_lock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0001fde4(pthread_mutex_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_mutex_unlock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0001fe7c(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0001fde4(param_1, param_2, param_3, param_4);
    (*DAT_00086aa0)();
    return;
}

void FUN_0001fec4(pthread_rwlock_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_rwlock_wrlock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0001ff5c(pthread_rwlock_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_rwlock_unlock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0001fff4(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0001ff5c(param_1, param_2, param_3, param_4);
    return;
}

void FUN_0002002c(int param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0001fd4c(param_1, param_2, param_3, param_4);
    FUN_0001fec4(param_1 + 0x18, param_2, param_3, param_4);
    return;
}

void FUN_0002007c(int param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0001fff4(param_1 + 0x18, param_2, param_3, param_4);
    FUN_0001fe7c(param_1, param_2, param_3, param_4);
    return;
}

undefined4 FUN_000200cc(void)

{
    return 0;
}

void FUN_000200e8(int param_1)

{
    undefined4 local_18;
    undefined4 local_14;
    undefined4 local_10;
    uint local_c;

    local_10 = 1;
    local_14 = 0x2d;
    local_18 = 0x1e;
    local_c = fcntl(param_1, 3, 0);
    fcntl(param_1, 4, local_c | 0x800);
    setsockopt(param_1, 1, 9, &local_10, 4);
    if (DAT_000954a8 != '\x01') {
        fcntl(param_1, 2, 1);
    }
    setsockopt(param_1, 6, 1, &local_10, 4);
    setsockopt(param_1, 6, 6, &local_10, 4);
    setsockopt(param_1, 6, 4, &local_14, 4);
    setsockopt(param_1, 6, 5, &local_18, 4);
    return;
}

void *FUN_00020210(size_t param_1, undefined4 param_2, undefined4 param_3,
                   undefined4 param_4)

{
    size_t local_814[2];
    char acStack_80c[2048];
    void *local_c;

    local_814[0] = param_1;
    FUN_0001fb98(local_814);
    local_c = malloc(local_814[0]);
    if (local_c == (void *)0x0) {
        snprintf(acStack_80c, 0x800, "Failed to malloc size %d from %s %s:%d",
                 local_814[0], param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_80c, 1);
        FUN_0004bfb0(1);
    }
    return local_c;
}

void *FUN_000202d4(size_t param_1, size_t param_2, undefined4 param_3,
                   undefined4 param_4, undefined4 param_5)

{
    size_t local_818;
    size_t local_814;
    char acStack_80c[2048];
    void *local_c;

    local_818 = param_2;
    local_814 = param_1;
    FUN_0001fb98(&local_818);
    local_c = calloc(local_814, local_818);
    if (local_c == (void *)0x0) {
        snprintf(acStack_80c, 0x800,
                 "Failed to calloc memb %d size %d from %s %s:%d", local_814,
                 local_818, param_3, param_4, param_5);
        FUN_0001e4ec(3, acStack_80c, 1);
        FUN_0004bfb0(1);
    }
    return local_c;
}

void *FUN_000203a0(void *param_1, size_t param_2, undefined4 param_3,
                   undefined4 param_4, undefined4 param_5)

{
    size_t local_818;
    void *local_814;
    char acStack_80c[2048];
    void *local_c;

    local_818 = param_2;
    local_814 = param_1;
    FUN_0001fb98(&local_818);
    local_c = realloc(local_814, local_818);
    if (local_c == (void *)0x0) {
        snprintf(acStack_80c, 0x800, "Failed to realloc size %d from %s %s:%d",
                 local_818, param_3, param_4, param_5);
        FUN_0001e4ec(3, acStack_80c, 1);
        FUN_0004bfb0(1);
    }
    return local_c;
}

char *FUN_00020460(int param_1)

{
    int local_c;

    local_c = 0;
    while (true) {
        if (*(int *)(&DAT_00086ba4 + local_c * 8) == 0) {
            return "invalid";
        }
        if (*(int *)(&DAT_00086ba8 + local_c * 8) == param_1)
            break;
        local_c = local_c + 1;
    }
    return *(char **)(&DAT_00086ba4 + local_c * 8);
}

char *FUN_000204f0(char *param_1, int param_2)

{
    size_t __n;
    int iVar1;
    char *pcVar2;
    undefined4 uVar3;
    int local_c;

    *(undefined4 *)(param_2 + 0xb8) = 0;
    local_c = 0;
    while (true) {
        if (*(int *)(&DAT_00086ba4 + local_c * 8) == 0) {
            return param_1;
        }
        __n = strlen(*(char **)(&DAT_00086ba4 + local_c * 8));
        iVar1 = strncmp(param_1, *(char **)(&DAT_00086ba4 + local_c * 8), __n);
        if (iVar1 == 0)
            break;
        local_c = local_c + 1;
    }
    pcVar2 = strchr(param_1, 0x7c);
    if (pcVar2 == (char *)0x0) {
        return param_1;
    }
    *pcVar2 = '\0';
    uVar3 = FUN_00020210(pcVar2 + (-__n - (int)param_1) + 1, "util.c",
                         "get_proxy", 0x2ec);
    *(undefined4 *)(param_2 + 0xb8) = uVar3;
    strcpy(*(char **)(param_2 + 0xb8), param_1 + __n);
    FUN_00022720(*(undefined4 *)(param_2 + 0xb8), param_2 + 0x26c,
                 param_2 + 0x270);
    *(undefined4 *)(param_2 + 0xb4) =
        *(undefined4 *)(&DAT_00086ba8 + local_c * 8);
    return pcVar2 + 1;
}

void FUN_0002067c(char *param_1, int param_2, int param_3)

{
    char *pcVar1;
    char *local_14;
    int local_c;

    local_14 = param_1;
    for (local_c = 0; local_c < param_3; local_c = local_c + 1) {
        pcVar1 = local_14 + 1;
        *local_14 =
            "0123456789abcdefbin2hex"[*(byte *)(param_2 + local_c) >> 4];
        local_14 = local_14 + 2;
        *pcVar1 = "0123456789abcdefbin2hex"[*(byte *)(param_2 + local_c) & 0xf];
    }
    *local_14 = '\0';
    return;
}

undefined4 FUN_00020744(undefined4 param_1, int param_2)

{
    undefined4 uVar1;
    uint local_c;

    local_c = param_2 * 2 + 1;
    if ((local_c & 3) != 0) {
        local_c = local_c + (4 - (int)local_c % 4);
    }
    uVar1 = FUN_000202d4(local_c, 1, "util.c", "bin2hex", 0x313);
    FUN_0002067c(uVar1, param_1, param_2);
    return uVar1;
}

undefined1 FUN_000207e8(byte *param_1, byte *param_2, int param_3)

{
    byte *pbVar1;
    int local_824;
    byte *local_820;
    byte *local_81c;
    char local_814[20];
    undefined2 local_800;
    int local_14;
    uint local_10;
    byte local_a;
    undefined1 local_9;

    local_9 = 0;
    local_824 = param_3;
    local_820 = param_2;
    local_81c = param_1;
    while (true) {
        if ((*local_820 == 0) || (local_824 == 0)) {
            if ((local_824 == 0) && (*local_820 == 0)) {
                local_9 = 1;
            }
            return local_9;
        }
        if (local_820[1] == 0)
            break;
        pbVar1 = local_820 + 1;
        local_10 = *(uint *)(&DAT_0006a934 + (uint)*local_820 * 4);
        local_820 = local_820 + 2;
        local_a = *pbVar1;
        local_14 = *(int *)(&DAT_0006a934 + (uint)local_a * 4);
        if (((int)local_10 < 0) || (local_14 < 0)) {
            if ((DAT_00091f58 == '\0') &&
                ((DAT_00087769 == '\0' && (DAT_0008697c < 3)))) {
                return 0;
            }
            builtin_strncpy(local_814, "hex2bin scan failed", 0x14);
            FUN_0001e4ec(3, local_814, 0);
            return local_9;
        }
        *local_81c = (byte)((local_10 & 0xf) << 4) | (byte)local_14;
        local_824 = local_824 + -1;
        local_81c = local_81c + 1;
    }
    if (((DAT_00091f58 == '\0') && (DAT_00087769 == '\0')) &&
        (DAT_0008697c < 3)) {
        return 0;
    }
    builtin_strncpy(local_814, "hex2bin str truncate", 0x14);
    local_800 = 100;
    FUN_0001e4ec(3, local_814, 0);
    return local_9;
}

undefined1 FUN_00020a38(char *param_1, undefined4 param_2, undefined4 param_3,
                        undefined4 param_4)

{
    char acStack_818[2051];
    byte local_15;
    size_t local_14;
    undefined1 local_d;
    int local_c;

    local_d = 0;
    if (param_1 == (char *)0x0) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            snprintf(acStack_818, 0x800,
                     "Null string passed to valid_hex from in %s %s():%d",
                     param_2, param_3, param_4);
            FUN_0001e4ec(3, acStack_818, 0);
        }
    } else {
        local_14 = strlen(param_1);
        for (local_c = 0; local_c < (int)local_14; local_c = local_c + 1) {
            local_15 = param_1[local_c];
            if (*(int *)(&DAT_0006a934 + (uint)local_15 * 4) < 0) {
                if (((DAT_00091f58 == '\0') && (DAT_00087769 == '\0')) &&
                    (DAT_0008697c < 3)) {
                    return local_d;
                }
                snprintf(
                    acStack_818, 0x800,
                    "Invalid char 0x%x passed to valid_hex from in %s %s():%d",
                    (uint)local_15, param_2, param_3, param_4);
                FUN_0001e4ec(3, acStack_818, 0);
                return local_d;
            }
        }
        local_d = 1;
    }
    return local_d;
}

undefined1 FUN_00020c00(char *param_1, undefined4 param_2, undefined4 param_3,
                        undefined4 param_4)

{
    char acStack_818[2051];
    byte local_15;
    size_t local_14;
    undefined1 local_d;
    int local_c;

    local_d = 0;
    if (param_1 == (char *)0x0) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            snprintf(acStack_818, 0x800,
                     "Null string passed to valid_ascii from in %s %s():%d",
                     param_2, param_3, param_4);
            FUN_0001e4ec(3, acStack_818, 0);
        }
    } else {
        local_14 = strlen(param_1);
        if (local_14 == 0) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                snprintf(acStack_818, 0x800,
                         "Zero length string passed to valid_ascii from in %s "
                         "%s():%d",
                         param_2, param_3, param_4);
                FUN_0001e4ec(3, acStack_818, 0);
            }
        } else {
            for (local_c = 0; local_c < (int)local_14; local_c = local_c + 1) {
                local_15 = param_1[local_c];
                if ((local_15 < 0x20) || (0x7e < local_15)) {
                    if ((DAT_00091f58 == '\0') &&
                        ((DAT_00087769 == '\0' && (DAT_0008697c < 3)))) {
                        return local_d;
                    }
                    snprintf(acStack_818, 0x800,
                             "Invalid char 0x%x passed to valid_ascii from in "
                             "%s %s():%d",
                             (uint)local_15, param_2, param_3, param_4);
                    FUN_0001e4ec(3, acStack_818, 0);
                    return local_d;
                }
            }
            local_d = 1;
        }
    }
    return local_d;
}

size_t FUN_00020e5c(undefined1 *param_1, char *param_2)

{
    longlong lVar1;
    size_t sVar2;
    uint uVar3;
    uint uVar4;
    undefined8 uVar5;
    undefined8 uVar6;
    ulonglong uVar7;
    size_t *local_44;
    uint local_3c[7];
    undefined8 local_20;
    size_t local_18;
    int local_14;
    int local_10;
    uint local_c;

    memset(local_3c, 0, 0x1c);
    local_18 = strlen(param_2);
    sVar2 = local_18;
    for (local_10 = 0; local_10 < (int)local_18; local_10 = local_10 + 1) {
        local_c = *(uint *)(&DAT_0006ae80 + (uint)(byte)param_2[local_10] * 4);
        for (local_14 = 6; -1 < local_14; local_14 = local_14 + -1) {
            uVar3 = local_3c[local_14];
            uVar5 = VectorAdd((ulonglong)uVar3, (ulonglong)uVar3, 8);
            uVar4 = (uint)uVar5;
            uVar6 = CONCAT44((int)((ulonglong)uVar5 >> 0x20) * 2 +
                                 (uint)CARRY4(uVar4, uVar4),
                             uVar4 * 2);
            uVar5 = VectorShiftLeft(uVar6, 3, 0x40, 0);
            uVar5 = VectorSub(uVar5, uVar6, 8);
            uVar5 = VectorAdd(uVar5, (ulonglong)uVar3, 8);
            uVar7 = VectorAdd(uVar5, uVar5, 8);
            lVar1 = (uVar7 & 0xffffffff00000000) + (uVar7 & 0xffffffff) +
                    (ulonglong)local_c;
            local_20 = lVar1;
            lVar1 = local_20;
            local_20._4_4_ = (uint)((ulonglong)lVar1 >> 0x20);
            sVar2 = 0;
            local_c = local_20._4_4_ & 0x3f;
            local_20._0_4_ = (uint)lVar1;
            local_3c[local_14] = (uint)local_20;
            local_20 = lVar1;
        }
    }
    local_44 = (size_t *)(param_1 + 1);
    *param_1 = (char)local_3c[0];
    for (local_10 = 1; local_10 < 7; local_10 = local_10 + 1) {
        sVar2 = FUN_0001f920(local_3c[local_10]);
        *local_44 = sVar2;
        local_44 = local_44 + 1;
    }
    return sVar2;
}

void FUN_00021028(undefined1 *param_1, undefined4 param_2)

{
    undefined1 uStack_24;
    undefined1 auStack_23[27];

    memset(&uStack_24, 0, 0x19);
    FUN_00020e5c(&uStack_24, param_2);
    *param_1 = 0x76;
    param_1[1] = 0xa9;
    param_1[2] = 0x14;
    FUN_0002befc(param_1 + 3, auStack_23, 0x14, "util.c",
                 "address_to_pubkeyhash", 0x3c4);
    param_1[0x17] = 0x88;
    param_1[0x18] = 0xac;
    return;
}

undefined1 *FUN_0002119c(char *param_1, int *param_2)

{
    size_t sVar1;
    undefined1 *puVar2;
    undefined4 uVar3;

    sVar1 = strlen(param_1);
    puVar2 =
        (undefined1 *)FUN_00020210(sVar1 + 9, "util.c", "ser_string", 0x3e2);
    if (sVar1 < 0xfd) {
        *puVar2 = (char)sVar1;
        FUN_0002befc(puVar2 + 1, param_1, sVar1, "util.c", "ser_string", 0x3e6);
        *param_2 = sVar1 + 1;
    } else if (sVar1 < 0x10000) {
        *puVar2 = 0xfd;
        *(ushort *)(puVar2 + 1) = (ushort)sVar1 << 8 | (ushort)sVar1 >> 8;
        FUN_0002befc(puVar2 + 3, param_1, sVar1, "util.c", "ser_string", 0x3ef);
        *param_2 = sVar1 + 3;
    } else {
        *puVar2 = 0xfe;
        uVar3 = FUN_0001f920(sVar1);
        *(undefined4 *)(puVar2 + 1) = uVar3;
        FUN_0002befc(puVar2 + 5, param_1, sVar1, "util.c", "ser_string", 0x3f9);
        *param_2 = sVar1 + 5;
    }
    return puVar2;
}

char FUN_00021358(int param_1, int param_2)

{
    uint uVar1;
    undefined1 auStack_868[32];
    undefined1 auStack_848[32];
    char acStack_828[2048];
    void *local_28;
    void *local_24;
    uint local_20;
    uint local_1c;
    int local_18;
    int local_14;
    int local_10;
    char local_9;

    local_9 = '\x01';
    local_10 = 7;
    do {
        if (local_10 < 0) {
        LAB_00021410:
            if (DAT_00087768 != '\0') {
                local_18 = param_2;
                local_14 = param_1;
                FUN_0001fc08(auStack_868, param_1);
                FUN_0001fc08(auStack_848, param_2);
                local_24 = (void *)FUN_00020744(auStack_868, 0x20);
                local_28 = (void *)FUN_00020744(auStack_848, 0x20);
                if ((DAT_00087768 != '\0') &&
                    (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                      (6 < DAT_0008697c)))) {
                    if (local_9 == '\0') {
                        uVar1 = 0xb084;
                    } else {
                        uVar1 = 0xb06c;
                    }
                    snprintf(acStack_828, 0x800,
                             " Proof: %s\nTarget: %s\nTrgVal? %s", local_24,
                             local_28, uVar1 | 0x60000);
                    FUN_0001e4ec(7, acStack_828, 0);
                }
                free(local_24);
                free(local_28);
            }
            return local_9;
        }
        local_1c = *(uint *)(param_1 + local_10 * 4);
        local_20 = *(uint *)(param_2 + local_10 * 4);
        if (local_20 < local_1c) {
            local_9 = '\0';
            goto LAB_00021410;
        }
        if (local_1c < local_20) {
            local_9 = '\x01';
            goto LAB_00021410;
        }
        local_10 = local_10 + -1;
    } while (true);
}

int FUN_0002154c(void)

{
    int iVar1;

    iVar1 = FUN_000202d4(1, 0x58, "util.c", "tq_new", 0x433);
    *(int *)iVar1 = iVar1;
    *(int *)(iVar1 + 4) = iVar1;
    pthread_mutex_init((pthread_mutex_t *)(iVar1 + 0xc),
                       (pthread_mutexattr_t *)0x0);
    pthread_cond_init((pthread_cond_t *)(iVar1 + 0x28),
                      (pthread_condattr_t *)0x0);
    return iVar1;
}

void FUN_000215d0(int *param_1)

{
    undefined4 *puVar1;
    undefined4 *local_10;
    undefined4 *local_c;

    if (param_1 != (int *)0x0) {
        local_c = (undefined4 *)*param_1 + -1;
        puVar1 = *(undefined4 **)*param_1;
        while (local_10 = puVar1 + -1, local_c + 1 != param_1) {
            FUN_0001fa6c(local_c + 1);
            free(local_c);
            local_c = local_10;
            puVar1 = (undefined4 *)*puVar1;
        }
        pthread_cond_destroy((pthread_cond_t *)(param_1 + 10));
        pthread_mutex_destroy((pthread_mutex_t *)(param_1 + 3));
        memset(param_1, 0, 0x58);
        free(param_1);
    }
    return;
}

void FUN_00021698(int param_1, undefined1 param_2)

{
    FUN_0001fd4c(param_1 + 0xc, "util.c", "tq_freezethaw", 0x452);
    *(undefined1 *)(param_1 + 8) = param_2;
    pthread_cond_signal((pthread_cond_t *)(param_1 + 0x28));
    FUN_0001fe7c(param_1 + 0xc, "util.c", "tq_freezethaw", 0x455);
    return;
}

void FUN_00021714(undefined4 param_1)

{
    FUN_00021698(param_1, 1);
    return;
}

void FUN_00021738(undefined4 param_1)

{
    FUN_00021698(param_1, 0);
    return;
}

bool FUN_0002175c(int param_1, undefined4 param_2)

{
    undefined4 *__ptr;
    bool local_9;

    __ptr = (undefined4 *)FUN_000202d4(1, 0xc, "util.c", "tq_push", 0x467);
    *__ptr = param_2;
    __ptr[1] = __ptr + 1;
    __ptr[2] = __ptr + 1;
    FUN_0001fd4c(param_1 + 0xc, "util.c", "tq_push", 0x46b);
    local_9 = *(char *)(param_1 + 8) == '\x01';
    if (local_9) {
        free(__ptr);
    } else {
        FUN_0001fa00(__ptr + 1, param_1);
    }
    local_9 = !local_9;
    pthread_cond_signal((pthread_cond_t *)(param_1 + 0x28));
    FUN_0001fe7c(param_1 + 0xc, "util.c", "tq_push", 0x478);
    return local_9;
}

undefined4 FUN_00021870(int *param_1, timespec *param_2)

{
    int iVar1;
    undefined4 *__ptr;
    int local_10;
    undefined4 local_c;

    local_c = 0;
    FUN_0001fd4c(param_1 + 3, "util.c", "tq_pop", 0x484);
    iVar1 = FUN_0001fab8(param_1);
    if (iVar1 != 0) {
        if (param_2 == (timespec *)0x0) {
            local_10 = pthread_cond_wait((pthread_cond_t *)(param_1 + 10),
                                         (pthread_mutex_t *)(param_1 + 3));
        } else {
            local_10 = pthread_cond_timedwait((pthread_cond_t *)(param_1 + 10),
                                              (pthread_mutex_t *)(param_1 + 3),
                                              param_2);
        }
        if ((local_10 != 0) || (iVar1 = FUN_0001fab8(param_1), iVar1 != 0))
            goto LAB_00021978;
    }
    __ptr = (undefined4 *)(*param_1 + -4);
    local_c = *__ptr;
    FUN_0001fa6c(*param_1);
    free(__ptr);
LAB_00021978:
    FUN_0001fe7c(param_1 + 3, "util.c", "tq_pop", 0x49e);
    return local_c;
}

int FUN_000219a8(int param_1, pthread_attr_t *param_2, __start_routine *param_3,
                 void *param_4)

{
    int iVar1;

    FUN_0002b9b4(param_1 + 0x10, "util.c", "thr_info_create", 0x4a5);
    iVar1 =
        pthread_create((pthread_t *)(param_1 + 0xc), param_2, param_3, param_4);
    return iVar1;
}

void FUN_00021a0c(int param_1)

{
    if (param_1 != 0) {
        if (*(int *)(param_1 + 0xc) != 0) {
            pthread_cancel(*(pthread_t *)(param_1 + 0xc));
            *(undefined4 *)(param_1 + 0xc) = 0;
        }
        FUN_0002bd44(param_1 + 0x10);
    }
    return;
}

void FUN_00021a70(int *param_1, int *param_2)

{
    *param_2 = *param_1 - *param_2;
    param_2[1] = param_1[1] - param_2[1];
    if (param_2[1] < 0) {
        *param_2 = *param_2 + -1;
        param_2[1] = param_2[1] + 1000000;
    }
    return;
}

void FUN_00021b04(int *param_1, int *param_2)

{
    *param_2 = *param_1 + *param_2;
    param_2[1] = param_1[1] + param_2[1];
    if (999999 < param_2[1]) {
        *param_2 = *param_2 + 1;
        param_2[1] = param_2[1] + -1000000;
    }
    return;
}

bool FUN_00021ba0(int *param_1, int *param_2)

{
    bool bVar1;

    if (*param_1 == *param_2) {
        bVar1 = param_2[1] < param_1[1];
    } else {
        bVar1 = *param_2 < *param_1;
    }
    return bVar1;
}

bool FUN_00021c20(int *param_1, int *param_2)

{
    bool bVar1;

    if (*param_1 == *param_2) {
        bVar1 = param_1[1] < param_2[1];
    } else {
        bVar1 = *param_1 < *param_2;
    }
    return bVar1;
}

void FUN_00021ca0(undefined4 param_1, undefined4 param_2)

{
    FUN_0002befc(param_1, param_2, 8, "util.c", "copy_time", 0x4d2);
    return;
}

void FUN_00021d40(undefined4 *param_1, undefined4 *param_2)

{
    *param_1 = *param_2;
    param_1[1] = param_2[1] * 1000;
    return;
}

void FUN_00021d88(undefined4 *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    lldiv_t local_18;

    lldiv(&local_18, CONCAT44(param_4, param_3), 1000000);
    *param_1 = (undefined4)local_18.quot;
    param_1[1] = (undefined4)local_18.rem;
    return;
}

void FUN_00021ddc(undefined4 *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    lldiv_t local_18;

    lldiv(&local_18, CONCAT44(param_4, param_3), 1000000);
    *param_1 = (undefined4)local_18.quot;
    param_1[1] = (int)local_18.rem * 1000;
    return;
}

void FUN_00021e3c(undefined4 *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    lldiv_t local_18;

    lldiv(&local_18, CONCAT44(param_4, param_3), 1000);
    *param_1 = (undefined4)local_18.quot;
    param_1[1] = (int)local_18.rem * 1000000;
    return;
}

void FUN_00021e9c(undefined4 *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    lldiv_t local_18;

    lldiv(&local_18, CONCAT44(param_4, param_3), 1000);
    *param_1 = (undefined4)local_18.quot;
    param_1[1] = (int)local_18.rem * 1000;
    return;
}

void FUN_00021ef8(int *param_1)

{
    while (999999999 < param_1[1]) {
        param_1[1] = param_1[1] + -1000000000;
        *param_1 = *param_1 + 1;
    }
    while (param_1[1] < 0) {
        param_1[1] = param_1[1] + 1000000000;
        *param_1 = *param_1 + -1;
    }
    return;
}

void FUN_00021fa4(int *param_1, int *param_2)

{
    *param_1 = *param_1 + *param_2;
    param_1[1] = param_1[1] + param_2[1];
    FUN_00021ef8(param_1);
    return;
}

int FUN_00022000(int *param_1)

{
    return *param_1 * 1000 + param_1[1] / 1000000;
}

void FUN_00022054(int *param_1, int *param_2)

{
    *param_1 = *param_1 - *param_2;
    param_1[1] = param_1[1] - param_2[1];
    FUN_00021ef8(param_1);
    return;
}

char *FUN_000220b0(char *param_1, char *param_2)

{
    int iVar1;
    char *pcVar2;
    char local_38[4];
    char *local_34;
    char *local_24;
    char *local_20;
    size_t local_1c;
    size_t local_18;
    int local_14;

    if ((param_1 == (char *)0x0) || (param_2 == (char *)0x0)) {
        local_34 = (char *)0x0;
    } else {
        local_34 = param_1;
        local_18 = strlen(param_1);
        local_1c = strlen(param_2);
        if ((local_18 == 0) || (local_1c == 0)) {
            local_34 = (char *)0x0;
        } else {
            iVar1 = -(local_18 + 0xe & 0xfffffff8);
            local_20 = local_38 + iVar1;
            local_24 = local_38 + (iVar1 - (local_1c + 0xe & 0xfffffff8));
            for (local_14 = 0; local_14 < (int)local_18;
                 local_14 = local_14 + 1) {
                pcVar2 = local_20 + local_14;
                iVar1 = tolower((uint)(byte)local_34[local_14]);
                *pcVar2 = (char)iVar1;
            }
            for (local_14 = 0; local_14 < (int)local_1c;
                 local_14 = local_14 + 1) {
                pcVar2 = local_24 + local_14;
                iVar1 = tolower((uint)(byte)param_2[local_14]);
                *pcVar2 = (char)iVar1;
            }
            pcVar2 = strstr(local_20, local_24);
            if (pcVar2 == (char *)0x0) {
                local_34 = (char *)0x0;
            } else {
                local_34 = local_34 + ((int)pcVar2 - (int)local_20);
            }
        }
    }
    return local_34;
}

char *FUN_00022278(undefined4 *param_1, char *param_2)

{
    char *pcVar1;
    char *__s;

    __s = (char *)*param_1;
    if (__s == (char *)0x0) {
        pcVar1 = (char *)0x0;
    } else {
        pcVar1 = strpbrk(__s, param_2);
    }
    if (pcVar1 == (char *)0x0) {
        *param_1 = 0;
    } else {
        *pcVar1 = '\0';
        *param_1 = pcVar1 + 1;
    }
    return __s;
}

void FUN_00022308(__time_t *param_1)

{
    timespec local_10;

    clock_gettime(1, &local_10);
    *param_1 = local_10.tv_sec;
    param_1[1] = local_10.tv_nsec / 1000;
    return;
}

undefined4 FUN_00022360(undefined4 param_1)

{
    undefined4 uVar1;

    uVar1 = FUN_00022000(param_1);
    return uVar1;
}

void FUN_00022424(timespec *param_1)

{
    clock_gettime(1, param_1);
    return;
}

void FUN_00022448(timespec *param_1)

{
    int iVar1;

    do {
        iVar1 = clock_nanosleep(1, 1, param_1, (timespec *)0x0);
    } while (iVar1 == 4);
    return;
}

void FUN_00022484(undefined4 param_1, int param_2)

{
    undefined1 auStack_10[8];

    FUN_00021e3c(auStack_10, auStack_10, param_2, param_2 >> 0x1f);
    FUN_00021fa4(auStack_10, param_1);
    FUN_00022448(auStack_10);
    return;
}

void FUN_000224d4(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    undefined1 auStack_10[8];

    FUN_00021ddc(auStack_10, auStack_10, param_3, param_4);
    FUN_00021fa4(auStack_10, param_1);
    FUN_00022448(auStack_10);
    return;
}

void FUN_0002251c(undefined4 param_1)

{
    undefined1 auStack_10[8];

    FUN_00022424(auStack_10);
    FUN_00022484(auStack_10, param_1);
    return;
}

void FUN_00022550(undefined4 param_1, undefined4 param_2)

{
    undefined1 auStack_10[8];

    FUN_00022424(auStack_10);
    FUN_000224d4(auStack_10, auStack_10, param_1, param_2);
    return;
}

undefined4 FUN_000226b0(int *param_1, int *param_2)

{
    return SUB84((double)(longlong)(*param_1 - *param_2) +
                     (double)(longlong)(param_1[1] - param_2[1]) / 1000000.0,
                 0);
}

undefined4 FUN_00022720(char *param_1, undefined4 *param_2, undefined4 *param_3)

{
    char *pcVar1;
    size_t sVar2;
    undefined4 uVar3;
    undefined2 local_130;
    undefined1 local_12e;
    char acStack_128[256];
    char *local_28;
    char *local_24;
    char *local_20;
    int local_1c;
    size_t local_18;
    char *local_14;
    char *local_10;
    char *local_c;

    local_14 = (char *)0x0;
    local_1c = 0;
    *param_2 = param_1;
    pcVar1 = strstr(param_1, "//");
    local_c = param_1;
    if (pcVar1 != (char *)0x0) {
        local_c = pcVar1 + 2;
    }
    local_20 = strchr(local_c, 0x5b);
    local_24 = strchr(local_c, 0x5d);
    if (((local_20 == (char *)0x0) || (local_24 == (char *)0x0)) ||
        (local_24 <= local_20)) {
        local_10 = strchr(local_c, 0x3a);
    } else {
        local_10 = strchr(local_24, 0x3a);
    }
    if (local_10 == (char *)0x0) {
        local_18 = strlen(local_c);
    } else {
        local_18 = (int)local_10 - (int)local_c;
        sVar2 = strlen(local_c);
        local_1c = (sVar2 - local_18) + -1;
        if (local_1c < 1) {
            return 0;
        }
        local_14 = local_10 + 1;
    }
    if ((int)local_18 < 1) {
        uVar3 = 0;
    } else {
        if (((local_20 != (char *)0x0) && (local_24 != (char *)0x0)) &&
            (local_20 < local_24)) {
            local_18 = local_18 - 2;
            local_c = local_c + 1;
        }
        snprintf(acStack_128, 0xfe, "%.*s", local_18, local_c);
        if (local_1c == 0) {
            local_130 = 0x3038;
            local_12e = 0;
        } else {
            snprintf((char *)&local_130, 6, "%.*s", local_1c, local_14);
            local_28 = strpbrk((char *)&local_130, "/#");
            if (local_28 != (char *)0x0) {
                *local_28 = '\0';
            }
        }
        pcVar1 = strdup((char *)&local_130);
        *param_3 = pcVar1;
        pcVar1 = strdup(acStack_128);
        *param_2 = pcVar1;
        uVar3 = 1;
    }
    return uVar3;
}

undefined4 FUN_000229a4(int param_1, char *param_2, int param_3)

{
    char cVar1;
    size_t sVar2;
    int iVar3;
    uint uVar4;
    size_t local_834;
    fd_set afStack_824[16];
    timeval local_24;
    fd_set *local_1c;
    int local_18;
    uint local_14;
    int local_10;
    uint local_c;

    local_18 = *(int *)(param_1 + 0x24c);
    local_c = 0;
    if (((DAT_00092090 != '\0') && (DAT_00087768 != '\0')) &&
        ((DAT_00091f58 != '\0' ||
          ((DAT_00087769 != '\0' || (6 < DAT_0008697c)))))) {
        snprintf((char *)afStack_824, 0x800, "SEND: %s", param_2);
        FUN_0001e4ec(7, afStack_824, 0);
    }
    sVar2 = strlen(param_2);
    (param_2 + sVar2)[0] = '\n';
    (param_2 + sVar2)[1] = '\0';
    local_834 = param_3 + 1;
    do {
        if ((int)local_834 < 1) {
            uVar4 = *(uint *)(param_1 + 0x1f0);
            *(uint *)(param_1 + 0x1f0) = uVar4 + 1;
            *(uint *)(param_1 + 500) =
                *(int *)(param_1 + 500) + (uint)(0xfffffffe < uVar4);
            uVar4 = *(uint *)(param_1 + 0x1f8);
            *(uint *)(param_1 + 0x1f8) = local_c + uVar4;
            *(uint *)(param_1 + 0x1fc) = ((int)local_c >> 0x1f) +
                                         *(int *)(param_1 + 0x1fc) +
                                         (uint)CARRY4(local_c, uVar4);
            uVar4 = *(uint *)(param_1 + 0x200);
            *(uint *)(param_1 + 0x200) = local_c + uVar4;
            *(uint *)(param_1 + 0x204) = ((int)local_c >> 0x1f) +
                                         *(int *)(param_1 + 0x204) +
                                         (uint)CARRY4(local_c, uVar4);
            return 0;
        }
        local_24.tv_sec = 1;
        local_24.tv_usec = 0;
        while (true) {
            local_1c = afStack_824;
            for (local_14 = 0; local_14 < 0x20; local_14 = local_14 + 1) {
                afStack_824[0].fds_bits[local_14] = 0;
            }
            iVar3 = local_18 + 0x1f;
            if (-1 < local_18) {
                iVar3 = local_18;
            }
            afStack_824[0].fds_bits[iVar3 >> 5] =
                afStack_824[0].fds_bits[iVar3 >> 5] |
                1 << (local_18 % 0x20 & 0xffU);
            iVar3 = select(local_18 + 1, (fd_set *)0x0, afStack_824,
                           (fd_set *)0x0, &local_24);
            if (0 < iVar3)
                break;
            iVar3 = FUN_0001fb6c();
            if (iVar3 == 0) {
                return 1;
            }
        }
        if (*(char *)(param_1 + 0x250) == '\0') {
            local_10 = send(*(int *)(param_1 + 0x24c), param_2 + local_c,
                            local_834, 0x4000);
        } else {
            local_10 = SSL_write(*(SSL **)(param_1 + 0x254), param_2 + local_c,
                                 local_834);
        }
        if (local_10 < 0) {
            cVar1 = FUN_0001faf4();
            if (cVar1 != '\x01') {
                return 2;
            }
            local_10 = 0;
        }
        local_c = local_c + local_10;
        local_834 = local_834 - local_10;
    } while (true);
}

bool FUN_00022cf8(undefined4 *param_1, undefined4 param_2, undefined4 param_3)

{
    char local_80c[28];
    undefined4 local_7f0;
    char local_7ec[16];
    undefined2 local_7dc;
    int local_c;

    local_c = 3;
    if (((DAT_00092090 != '\0') && (DAT_00087768 != '\0')) &&
        ((DAT_00091f58 != '\0' ||
          ((DAT_00087769 != '\0' || (6 < DAT_0008697c)))))) {
        snprintf(local_80c, 0x800, "SEND: %s", param_2);
        FUN_0001e4ec(7, local_80c, 0);
    }
    FUN_0001fd4c(param_1 + 0xb4, "util.c", "stratum_send", 0x6af);
    if (*(char *)((int)param_1 + 0x291) != '\0') {
        local_c = FUN_000229a4(param_1, param_2, param_3);
    }
    FUN_0001fe7c(param_1 + 0xb4, "util.c", "stratum_send", 0x6b5);
    if (local_c == 2) {
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            builtin_strncpy(local_80c, "Failed to send in stratum_se", 0x1c);
            local_7f0 = CONCAT13(local_7f0._3_1_, 0x646e);
            FUN_0001e4ec(7, local_80c, 0);
        }
        FUN_00029ef4(param_1);
    } else if (local_c == 3) {
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            builtin_strncpy(local_80c, "Stratum send failed due to n", 0x1c);
            local_7f0._0_1_ = 'o';
            local_7f0._1_1_ = ' ';
            local_7f0._2_1_ = 'p';
            local_7f0._3_1_ = 'o';
            builtin_strncpy(local_7ec, "ol stratum_activ", 0x10);
            local_7dc = 0x65;
            FUN_0001e4ec(7, local_80c, 0);
        }
    } else if (local_c == 1) {
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            snprintf(local_80c, 0x800, "Write select failed on pool %d sock",
                     *param_1);
            FUN_0001e4ec(7, local_80c, 0);
        }
        FUN_00029ef4(param_1);
    }
    return local_c == 0;
}

bool FUN_00023060(int param_1, int param_2)

{
    int iVar1;
    int local_a8;
    fd_set fStack_9c;
    timeval local_1c;
    fd_set *local_14;
    int local_10;
    uint local_c;

    local_10 = *(int *)(param_1 + 0x24c);
    local_a8 = param_2;
    if (param_2 < 0) {
        local_a8 = 0;
    }
    local_14 = &fStack_9c;
    for (local_c = 0; local_c < 0x20; local_c = local_c + 1) {
        fStack_9c.fds_bits[local_c] = 0;
    }
    iVar1 = local_10 + 0x1f;
    if (-1 < local_10) {
        iVar1 = local_10;
    }
    fStack_9c.fds_bits[iVar1 >> 5] =
        fStack_9c.fds_bits[iVar1 >> 5] | 1 << (local_10 % 0x20 & 0xffU);
    local_1c.tv_usec = 0;
    local_1c.tv_sec = local_a8;
    iVar1 = select(local_10 + 1, &fStack_9c, (fd_set *)0x0, (fd_set *)0x0,
                   &local_1c);
    return 0 < iVar1;
}

undefined4 FUN_00023188(int param_1)

{
    undefined4 uVar1;

    if (**(char **)(param_1 + 0x260) == '\0') {
        uVar1 = FUN_00023060(param_1, 0);
    } else {
        uVar1 = 1;
    }
    return uVar1;
}

void FUN_000231d0(int param_1)

{
    if (*(int *)(param_1 + 0x260) != 0) {
        **(undefined1 **)(param_1 + 0x260) = 0;
    }
    return;
}

void FUN_0002320c(int param_1)

{
    int local_c;

    FUN_0001fd4c(param_1 + 0x2d0, "util.c", "clear_sock", 0x6fc);
    do {
        if (*(int *)(param_1 + 0x24c) == 0) {
            local_c = 0;
        } else {
            local_c = recv(*(int *)(param_1 + 0x24c),
                           *(void **)(param_1 + 0x260), 0x1ffc, 0);
        }
    } while (0 < local_c);
    FUN_0001fe7c(param_1 + 0x2d0, "util.c", "clear_sock", 0x705);
    FUN_000231d0(param_1);
    return;
}

void FUN_000232b4(int *param_1, uint param_2, uint param_3, undefined4 param_4,
                  undefined4 param_5, undefined4 param_6)

{
    int iVar1;

    if (param_3 != param_2) {
        iVar1 = FUN_000203a0(*param_1, param_3, param_4, param_5, param_6);
        *param_1 = iVar1;
        if (param_2 < param_3) {
            memset((void *)(*param_1 + param_2), 0, param_3 - param_2);
        }
    }
    return;
}

void FUN_00023350(int param_1, int param_2)

{
    size_t sVar1;
    undefined4 uVar2;
    uint uVar3;
    int iVar4;

    sVar1 = strlen(*(char **)(param_1 + 0x260));
    uVar3 = sVar1 + param_2 + 1;
    if (*(uint *)(param_1 + 0x264) <= uVar3) {
        iVar4 = (uVar3 & 0xffffe000) + 0x2000;
        uVar2 = FUN_000203a0(*(undefined4 *)(param_1 + 0x260), iVar4, "util.c",
                             "recalloc_sock", 0x722);
        *(undefined4 *)(param_1 + 0x260) = uVar2;
        memset((void *)(*(int *)(param_1 + 0x260) + sVar1), 0, iVar4 - sVar1);
        *(int *)(param_1 + 0x264) = iVar4;
    }
    return;
}

char *FUN_00023428(int param_1)

{
    char cVar1;
    char *pcVar2;
    uint uVar3;
    undefined4 uVar4;
    undefined4 extraout_s1;
    char local_2834[32];
    ushort local_2814;
    undefined1 local_2812;
    char local_2034[40];
    undefined4 local_200c;
    char acStack_2008[8148];
    undefined1 auStack_34[8];
    undefined1 auStack_2c[8];
    size_t local_24;
    char *local_20;
    size_t local_1c;
    size_t local_18;
    int local_14;
    int local_10;
    char *local_c;

    local_c = (char *)0x0;
    local_14 = 0;
    pcVar2 = strchr(*(char **)(param_1 + 0x260), 10);
    if (pcVar2 == (char *)0x0) {
        FUN_00022308(auStack_2c);
        cVar1 = FUN_00023060(param_1, 0x3c);
        if (cVar1 != '\x01') {
            if ((DAT_00087768 != '\0') &&
                (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                  (6 < DAT_0008697c)))) {
                builtin_strncpy(local_2034,
                                "Timed out waiting for data on socket_ful",
                                0x28);
                local_200c._0_2_ = 0x6c;
                FUN_0001e4ec(7, local_2034, 0);
            }
            goto LAB_00023ab8;
        }
        while (true) {
            memset(local_2034, 0, 0x2000);
            if (*(char *)(param_1 + 0x250) == '\0') {
                local_10 =
                    recv(*(int *)(param_1 + 0x24c), local_2034, 0x1ffc, 0);
            } else {
                local_10 =
                    SSL_read(*(SSL **)(param_1 + 0x254), local_2034, 0x1ffc);
            }
            if (local_10 == 0)
                break;
            FUN_00022308(auStack_34);
            uVar4 = FUN_000226b0(auStack_34, auStack_2c);
            local_14 = (int)(longlong)(double)CONCAT44(extraout_s1, uVar4);
            if (local_10 < 0) {
                cVar1 = FUN_0001faf4();
                if ((cVar1 != '\x01') ||
                    (cVar1 = FUN_00023060(param_1, 0x3c - local_14),
                     cVar1 != '\x01')) {
                    if ((DAT_00087768 != '\0') &&
                        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                          (6 < DAT_0008697c)))) {
                        builtin_strncpy(local_2834,
                                        "Failed to recv sock in recv_line",
                                        0x20);
                        local_2814 = local_2814 & 0xff00;
                        FUN_0001e4ec(7, local_2834, 0);
                    }
                    FUN_00029ef4(param_1);
                    goto LAB_0002387c;
                }
            } else {
                local_18 = strlen(local_2034);
                FUN_00023350(param_1, local_18);
                strcat(*(char **)(param_1 + 0x260), local_2034);
            }
            if ((0x3b < local_14) ||
                (pcVar2 = strchr(*(char **)(param_1 + 0x260), 10),
                 pcVar2 != (char *)0x0))
                goto LAB_0002387c;
        }
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            builtin_strncpy(local_2834, "Socket closed waiting in recv_li",
                            0x20);
            local_2814 = 0x656e;
            local_2812 = 0;
            FUN_0001e4ec(7, local_2834, 0);
        }
        FUN_00029ef4(param_1);
    }
LAB_0002387c:
    local_1c = strlen(*(char **)(param_1 + 0x260));
    local_20 = strtok(*(char **)(param_1 + 0x260), "\n");
    if (local_20 == (char *)0x0) {
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            builtin_strncpy(local_2034,
                            "Failed to parse a \\n terminated string i", 0x28);
            local_200c._0_1_ = 'n';
            local_200c._1_1_ = ' ';
            local_200c._2_1_ = 'r';
            local_200c._3_1_ = 'e';
            builtin_strncpy(acStack_2008, "cv_line", 8);
            FUN_0001e4ec(7, local_2034, 0);
        }
    } else {
        local_c = strdup(local_20);
        local_24 = strlen(local_c);
        if ((int)(local_24 + 1) < (int)local_1c) {
            memmove(*(void **)(param_1 + 0x260),
                    (void *)(*(int *)(param_1 + 0x260) + local_24 + 1),
                    (local_1c - local_24) + 1);
        } else {
            **(undefined1 **)(param_1 + 0x260) = 0;
        }
        uVar3 = *(uint *)(param_1 + 0x208);
        *(uint *)(param_1 + 0x208) = uVar3 + 1;
        *(uint *)(param_1 + 0x20c) =
            *(int *)(param_1 + 0x20c) + (uint)(0xfffffffe < uVar3);
        uVar3 = *(uint *)(param_1 + 0x210);
        *(size_t *)(param_1 + 0x210) = local_24 + uVar3;
        *(uint *)(param_1 + 0x214) = ((int)local_24 >> 0x1f) +
                                     *(int *)(param_1 + 0x214) +
                                     (uint)CARRY4(local_24, uVar3);
        uVar3 = *(uint *)(param_1 + 0x218);
        *(size_t *)(param_1 + 0x218) = local_24 + uVar3;
        *(uint *)(param_1 + 0x21c) = ((int)local_24 >> 0x1f) +
                                     *(int *)(param_1 + 0x21c) +
                                     (uint)CARRY4(local_24, uVar3);
    }
LAB_00023ab8:
    if (local_c == (char *)0x0) {
        FUN_0002320c(param_1);
    } else if (((DAT_00092090 != '\0') && (DAT_00087768 != '\0')) &&
               ((DAT_00091f58 != '\0' ||
                 ((DAT_00087769 != '\0' || (6 < DAT_0008697c)))))) {
        snprintf(local_2034, 0x800, "RECVD: %s", local_c);
        FUN_0001e4ec(7, local_2034, 0);
    }
    return local_c;
}

undefined4 FUN_00023b88(int *param_1, uint param_2)

{
    uint uVar1;
    int *piVar2;
    undefined4 uVar3;

    if ((param_1 == (int *)0x0) || (*param_1 != 7)) {
        if ((param_1 == (int *)0x0) || (*param_1 != 1)) {
            uVar3 = 0;
        } else {
            uVar1 = FUN_00066b34(param_1);
            if (uVar1 < param_2) {
                uVar3 = 0;
            } else {
                piVar2 = (int *)FUN_00066b80(param_1, param_2);
                if ((piVar2 == (int *)0x0) || (*piVar2 != 2)) {
                    uVar3 = 0;
                } else {
                    uVar3 = FUN_000677d0(piVar2);
                }
            }
        }
    } else {
        uVar3 = 0;
    }
    return uVar3;
}

char *FUN_00023c50(undefined4 param_1, undefined4 param_2)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_00023b88(param_1, param_2);
    if (pcVar1 == (char *)0x0) {
        pcVar1 = (char *)0x0;
    } else {
        pcVar1 = strdup(pcVar1);
    }
    return pcVar1;
}

undefined4 FUN_00023ca0(char *param_1)

{
    undefined4 uVar1;
    char local_814[2048];
    timeval local_14;
    uint local_c;

    local_c = 0xffffffff;
    local_c = strtol(param_1, (char **)0x0, 0x10);
    if ((DAT_00087aa8 == '\x01') || (local_c == 0)) {
        uVar1 = 0;
    } else {
        local_14.tv_sec = 0;
        local_14.tv_usec = 0;
        gettimeofday(&local_14, (__timezone_ptr_t)0x0);
        if ((uint)local_14.tv_sec < local_c) {
            local_14.tv_sec = local_c;
            settimeofday(&local_14, (timezone *)0x0);
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (4 < DAT_0008697c)) {
                builtin_strncpy(local_814, "settime notify.ntime successfuly",
                                0x20);
                local_814[0x20] = 0;
                FUN_0001e4ec(5, local_814, 0);
            }
            DAT_00087aa8 = '\x01';
            uVar1 = 1;
        } else {
            uVar1 = 0;
        }
    }
    return uVar1;
}

char FUN_00023e04(undefined4 *param_1, undefined4 param_2)

{
    char cVar1;
    int iVar2;
    int *piVar3;
    size_t sVar4;
    undefined4 uVar5;
    int iVar6;
    undefined4 *puVar7;
    int iVar8;
    uint uVar9;
    undefined4 uVar10;
    int iVar11;
    int iVar12;
    bool bVar13;
    char *local_988[5];
    undefined4 local_974;
    undefined4 local_970;
    undefined4 *local_96c;
    undefined4 local_964;
    undefined4 local_960;
    undefined4 local_95c;
    undefined4 local_958;
    undefined4 local_954;
    undefined4 local_950;
    undefined4 local_94c;
    undefined4 local_948;
    char local_944[48];
    uint local_914;
    undefined2 local_910;
    undefined1 local_90e;
    char acStack_144[228];
    void *local_60;
    char *local_5c;
    undefined4 local_58;
    uint local_54;
    uint local_50;
    char local_49;
    undefined4 local_48;
    undefined4 local_44;
    undefined4 local_40;
    char *local_3c;
    char *local_38;
    undefined4 local_34;
    void *local_30;
    char *local_2c;
    int local_28;
    int *local_24;
    int local_20;
    int local_1c;
    int local_18;
    char local_11;

    local_1c = 0;
    local_20 = 0;
    local_11 = '\0';
    local_970 = param_2;
    local_96c = param_1;
    local_24 = (int *)FUN_00066b80(param_2, 4);
    if (((local_24 != (int *)0x0) && (local_24 != (int *)0x0)) &&
        (*local_24 == 1)) {
        local_28 = FUN_00066b34(local_24);
        for (local_18 = 0; local_18 < local_28; local_18 = local_18 + 1) {
            local_964 = 0;
            local_960 = 0;
            local_95c = 0;
            local_958 = 0;
            local_954 = 0;
            local_950 = 0;
            local_94c = 0;
            local_948 = 0;
            local_2c = (char *)FUN_00023c50(local_24, local_18);
            if (local_2c == (char *)0x0) {
                return local_11;
            }
            local_11 = FUN_000207e8(&local_964, local_2c, 0x20);
            if (local_11 != '\x01') {
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (2 < DAT_0008697c)) {
                    local_988[0] = local_2c;
                    snprintf(local_944, 0x800, "merkle %d: %s", local_18);
                    FUN_0001e4ec(3, local_944, 0);
                }
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (2 < DAT_0008697c)) {
                    builtin_strncpy(
                        local_944,
                        "Failed to convert merkle to merkle_bin in parse_",
                        0x30);
                    local_914._0_1_ = 'n';
                    local_914._1_1_ = 'o';
                    local_914._2_1_ = 't';
                    local_914._3_1_ = 'i';
                    local_910 = 0x7966;
                    local_90e = 0;
                    FUN_0001e4ec(3, local_944, 0);
                }
                free(local_2c);
                return local_11;
            }
            free(local_2c);
        }
        local_30 = (void *)FUN_00023c50(local_970, 0);
        local_34 = FUN_00023b88(local_970, 1);
        local_38 = (char *)FUN_00023c50(local_970, 2);
        local_3c = (char *)FUN_00023c50(local_970, 3);
        local_40 = FUN_00023b88(local_970, 5);
        local_44 = FUN_00023b88(local_970, 6);
        local_48 = FUN_00023b88(local_970, 7);
        FUN_00023ca0(local_48);
        iVar2 = FUN_00066b80(local_970, 8);
        if ((iVar2 == 0) ||
            (piVar3 = (int *)FUN_00066b80(local_970, 8), *piVar3 != 5)) {
            local_49 = '\0';
        } else {
            local_49 = '\x01';
        }
        cVar1 = FUN_00020c00(local_30, "util.c", "parse_notify", 0x7eb);
        if ((((cVar1 == '\x01') &&
              (cVar1 = FUN_00020a38(local_34, "util.c", "parse_notify", 0x7eb),
               cVar1 == '\x01')) &&
             (cVar1 = FUN_00020a38(local_38, "util.c", "parse_notify", 0x7eb),
              cVar1 == '\x01')) &&
            (((cVar1 = FUN_00020a38(local_3c, "util.c", "parse_notify", 0x7ec),
               cVar1 == '\x01' && (cVar1 = FUN_00020a38(local_40, "util.c",
                                                        "parse_notify", 0x7ec),
                                   cVar1 == '\x01')) &&
              ((cVar1 = FUN_00020a38(local_44, "util.c", "parse_notify", 0x7ec),
                cVar1 == '\x01' && (cVar1 = FUN_00020a38(local_48, "util.c",
                                                         "parse_notify", 0x7ed),
                                    cVar1 == '\x01')))))) {
            FUN_0002002c(local_96c + 0x35, "util.c", "parse_notify", 0x7f6);
            free((void *)local_96c[0xac]);
            local_96c[0xac] = local_30;
            snprintf((char *)(local_96c + 0x1b0), 0x41, "%s", local_34);
            sVar4 = strlen(local_38);
            local_50 = sVar4 >> 1;
            sVar4 = strlen(local_3c);
            local_54 = sVar4 >> 1;
            snprintf((char *)(local_96c + 0x1c1), 9, "%s", local_40);
            snprintf((char *)(local_96c + 0x1c4), 9, "%s", local_44);
            snprintf((char *)(local_96c + 0x1c7), 9, "%s", local_48);
            *(char *)(local_96c + 0xae) = local_49;
            if (0.0 < *(double *)(local_96c + 0x1ca)) {
                local_96c[0x1cc] = local_96c[0x1ca];
                local_96c[0x1cd] = local_96c[0x1cb];
            }
            local_96c[0x18d] =
                local_96c[0x18b] + local_50 + local_96c[0xa2] + local_54;
            local_58 = local_96c[0x18d];
            local_96c[0x18e] = local_96c[0x18b] + local_50;
            for (local_18 = 0; local_18 < (int)local_96c[0x1af];
                 local_18 = local_18 + 1) {
                free(*(void **)(local_96c[0xad] + local_18 * 4));
            }
            if (local_28 != 0) {
                local_988[0] = (char *)0x80b;
                uVar5 = FUN_000203a0(local_96c[0xad], local_28 * 4 + 1,
                                     "util.c", "parse_notify");
                local_96c[0xad] = uVar5;
                for (local_18 = 0; local_18 < local_28;
                     local_18 = local_18 + 1) {
                    local_5c = (char *)FUN_00023c50(local_24, local_18);
                    iVar8 = local_96c[0xad];
                    iVar2 = local_18 * 4;
                    uVar5 = FUN_00020210(0x20, "util.c", "parse_notify", 0x810);
                    *(undefined4 *)(iVar8 + iVar2) = uVar5;
                    if (((DAT_00092090 != '\0') && (DAT_00087768 != '\0')) &&
                        ((DAT_00091f58 != '\0' ||
                          ((DAT_00087769 != '\0' || (6 < DAT_0008697c)))))) {
                        local_988[0] = local_5c;
                        snprintf(local_944, 0x800, "merkle %d: %s", local_18);
                        FUN_0001e4ec(7, local_944, 0);
                    }
                    local_11 = FUN_000207e8(
                        *(undefined4 *)(local_96c[0xad] + local_18 * 4),
                        local_5c, 0x20);
                    free(local_5c);
                    if (local_11 != '\x01') {
                        if (((DAT_00091f58 != '\0') ||
                             (DAT_00087769 != '\0')) ||
                            (2 < DAT_0008697c)) {
                            builtin_strncpy(local_944,
                                            "Failed to convert merkle to "
                                            "merkle_bin in parse_",
                                            0x30);
                            local_914._0_1_ = 'n';
                            local_914._1_1_ = 'o';
                            local_914._2_1_ = 't';
                            local_914._3_1_ = 'i';
                            local_910 = 0x7966;
                            local_90e = 0;
                            FUN_0001e4ec(3, local_944, 0);
                        }
                        goto LAB_00024c80;
                    }
                }
            }
            local_96c[0x1af] = local_28;
            if ((int)local_96c[0x1af] < 2) {
                uVar9 = local_96c[0x5e];
                local_96c[0x5e] = uVar9 + 1;
                local_96c[0x5f] = local_96c[0x5f] + (uint)(0xfffffffe < uVar9);
            }
            if (local_49 != '\0') {
                *(undefined8 *)(local_96c + 0xa0) = 0;
            }
            local_988[0] = (char *)(local_96c + 0x1b0);
            local_988[2] = (char *)(local_96c + 0x1c7);
            local_988[3] = (char *)(local_96c + 0x1c4);
            local_974 = DAT_00087470;
            local_988[4] = "00000000";
            local_988[1] = (char *)DAT_00086bdc;
            snprintf(acStack_144, 0xe1, "%s%s%s%s%s%s%s", local_96c + 0x1c1);
            local_11 = FUN_000207e8(local_96c + 399, acStack_144, 0x70);
            if (local_11 == '\x01') {
                iVar2 = -(local_50 + 0xe & 0xfffffff8);
                local_1c = (int)&local_970 + iVar2;
                local_11 = FUN_000207e8(local_1c, local_38, local_50);
                if (local_11 == '\x01') {
                    iVar8 = -(local_54 + 0xe & 0xfffffff8);
                    local_20 = (int)&local_970 + iVar8 + iVar2;
                    local_11 = FUN_000207e8(local_20, local_3c, local_54);
                    if (local_11 == '\x01') {
                        free((void *)local_96c[0x18c]);
                        uVar5 = local_58;
                        *(undefined4 *)((int)local_988 + iVar8 + iVar2) = 0x849;
                        uVar5 =
                            FUN_000202d4(uVar5, 1, "util.c", "parse_notify");
                        local_96c[0x18c] = uVar5;
                        uVar5 = local_96c[0x18c];
                        *(undefined4 *)((int)local_988 + iVar8 + iVar2 + 4) =
                            0x84a;
                        *(char **)((int)local_988 + iVar8 + iVar2) =
                            "parse_notify";
                        FUN_0002befc(uVar5, local_1c, local_50, "util.c");
                        if (local_96c[0x18b] != 0) {
                            iVar6 = local_96c[0x18c] + local_50;
                            uVar5 = local_96c[0x9e];
                            uVar10 = local_96c[0x18b];
                            *(undefined4 *)((int)local_988 + iVar8 + iVar2 +
                                            4) = 0x84c;
                            *(char **)((int)local_988 + iVar8 + iVar2) =
                                "parse_notify";
                            FUN_0002befc(iVar6, uVar5, uVar10, "util.c");
                        }
                        iVar11 = local_96c[0x18c];
                        iVar6 = local_96c[0x18b] + local_50;
                        iVar12 = local_96c[0xa2];
                        *(undefined4 *)((int)local_988 + iVar8 + iVar2 + 4) =
                            0x84d;
                        *(char **)((int)local_988 + iVar8 + iVar2) =
                            "parse_notify";
                        FUN_0002befc(iVar11 + iVar6 + iVar12, local_20,
                                     local_54, "util.c");
                        if (DAT_00087768 != '\0') {
                            local_60 = (void *)FUN_00020744(local_96c[0x18c],
                                                            local_96c[0x18d]);
                            if ((DAT_00087768 != '\0') &&
                                (((DAT_00091f58 != '\0' ||
                                   (DAT_00087769 != '\0')) ||
                                  (6 < DAT_0008697c)))) {
                                uVar5 = *local_96c;
                                *(void **)((int)local_988 + iVar8 + iVar2) =
                                    local_60;
                                snprintf(local_944, 0x800,
                                         "Pool %d coinbase %s", uVar5);
                                FUN_0001e4ec(7, local_944, 0);
                            }
                            free(local_60);
                        }
                    } else if (((DAT_00091f58 != '\0') ||
                                (DAT_00087769 != '\0')) ||
                               (2 < DAT_0008697c)) {
                        builtin_strncpy(
                            local_944,
                            "Failed to convert cb2 to cb2_bin in parse_notify",
                            0x30);
                        local_914 = local_914 & 0xffffff00;
                        FUN_0001e4ec(3, local_944, 0);
                    }
                } else if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                           (2 < DAT_0008697c)) {
                    builtin_strncpy(
                        local_944,
                        "Failed to convert cb1 to cb1_bin in parse_notify",
                        0x30);
                    local_914 = local_914 & 0xffffff00;
                    FUN_0001e4ec(3, local_944, 0);
                }
            } else if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                       (2 < DAT_0008697c)) {
                builtin_strncpy(
                    local_944,
                    "Failed to convert header to header_bin in parse_", 0x30);
                local_914._0_1_ = 'n';
                local_914._1_1_ = 'o';
                local_914._2_1_ = 't';
                local_914._3_1_ = 'i';
                local_910 = 0x7966;
                local_90e = 0;
                FUN_0001e4ec(3, local_944, 0);
            }
        LAB_00024c80:
            FUN_0002007c(local_96c + 0x35, "util.c", "parse_notify", 0x856);
            if (DAT_00092090 != '\0') {
                if ((DAT_00087768 != '\0') &&
                    (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                      (6 < DAT_0008697c)))) {
                    snprintf(local_944, 0x800, "job_id: %s", local_30);
                    FUN_0001e4ec(7, local_944, 0);
                }
                if ((DAT_00087768 != '\0') &&
                    (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                      (6 < DAT_0008697c)))) {
                    snprintf(local_944, 0x800, "prev_hash: %s", local_34);
                    FUN_0001e4ec(7, local_944, 0);
                }
                if ((DAT_00087768 != '\0') &&
                    (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                      (6 < DAT_0008697c)))) {
                    snprintf(local_944, 0x800, "coinbase1: %s", local_38);
                    FUN_0001e4ec(7, local_944, 0);
                }
                if ((DAT_00087768 != '\0') &&
                    (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                      (6 < DAT_0008697c)))) {
                    snprintf(local_944, 0x800, "coinbase2: %s", local_3c);
                    FUN_0001e4ec(7, local_944, 0);
                }
                if ((DAT_00087768 != '\0') &&
                    (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                      (6 < DAT_0008697c)))) {
                    snprintf(local_944, 0x800, "bbversion: %s", local_40);
                    FUN_0001e4ec(7, local_944, 0);
                }
                if ((DAT_00087768 != '\0') &&
                    (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                      (6 < DAT_0008697c)))) {
                    snprintf(local_944, 0x800, "nbit: %s", local_44);
                    FUN_0001e4ec(7, local_944, 0);
                }
                if ((DAT_00087768 != '\0') &&
                    (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                      (6 < DAT_0008697c)))) {
                    snprintf(local_944, 0x800, "ntime: %s", local_48);
                    FUN_0001e4ec(7, local_944, 0);
                }
                if ((DAT_00087768 != '\0') &&
                    (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                      (6 < DAT_0008697c)))) {
                    if (local_49 == '\0') {
                        uVar9 = 0xb408;
                    } else {
                        uVar9 = 0xb404;
                    }
                    snprintf(local_944, 0x800, "clean: %s", uVar9 | 0x60000);
                    FUN_0001e4ec(7, local_944, 0);
                }
            }
            free(local_38);
            free(local_3c);
            local_96c[0x1d] = local_96c[0x1d] + 1;
            bVar13 = 0xfffffffe < (uint)DAT_00094150;
            DAT_00094150._0_4_ = (uint)DAT_00094150 + 1;
            DAT_00094150._4_4_ = DAT_00094150._4_4_ + (uint)bVar13;
            puVar7 = (undefined4 *)FUN_0002f984();
            if (puVar7 == local_96c) {
                DAT_00095230 = 1;
            }
        } else {
            free(local_30);
            free(local_38);
            free(local_3c);
        }
    }
    return local_11;
}

undefined4 FUN_000251a8(int param_1, undefined4 param_2)

{
    undefined4 uVar1;
    uint uVar2;
    undefined4 local_14;

    for (local_14 = 0; uVar2 = FUN_00066b34(param_2), local_14 < uVar2;
         local_14 = local_14 + 1) {
        uVar1 = FUN_00066b80(param_2, local_14);
        uVar1 = FUN_00067c98(uVar1);
        *(undefined4 *)(param_1 + (local_14 + 0xa6) * 4 + 4) = uVar1;
    }
    return 1;
}

uint FUN_0002523c(uint param_1, uint *param_2)

{
    sbyte local_30[24];
    uint local_18;
    uint local_14;
    uint local_10;
    uint local_c;

    local_c = 0;
    local_10 = 0;
    local_30[0] = 0;
    local_30[1] = 0;
    local_30[2] = 0;
    local_30[3] = 0;
    local_30[4] = 0;
    local_30[5] = 0;
    local_30[6] = 0;
    local_30[7] = 0;
    local_30[8] = 0;
    local_30[9] = 0;
    local_30[10] = 0;
    local_30[0xb] = 0;
    local_30[0xc] = 0;
    local_30[0xd] = 0;
    local_30[0xe] = 0;
    local_30[0xf] = 0;
    local_30[0x10] = 0;
    local_30[0x11] = 0;
    local_30[0x12] = 0;
    local_30[0x13] = 0;
    local_30[0x14] = 0;
    local_30[0x15] = 0;
    local_30[0x16] = 0;
    local_14 = 0;
    while ((local_14 < 0x20 && (local_c < 0x17))) {
        if ((param_1 & 1 << (local_14 & 0xff)) != 0) {
            local_30[local_c] = (sbyte)local_14;
            local_c = local_c + 1;
        }
        local_14 = local_14 + 1;
    }
    for (local_18 = 0; (local_18 < local_c && ((int)local_18 < (int)*param_2));
         local_18 = local_18 + 1) {
        local_10 = local_10 | 1 << local_30[local_18];
    }
    if (local_c < *param_2) {
        *param_2 = local_c;
    }
    return local_10;
}

void FUN_000253d0(undefined4 *param_1, char *param_2)

{
    char acStack_824[2048];
    uint local_24;
    uint local_20;
    char local_1c[12];
    size_t local_10;
    int local_c;

    builtin_strncpy(local_1c, "000000000", 9);
    local_c = 0;
    local_10 = strlen(param_2);
    local_20 = 0;
    local_24 = 0x10;
    if (param_2 == (char *)0x0) {
        *(undefined1 *)(param_1 + 0xa5) = 0;
        param_1[0xa6] = 1;
    } else {
        for (local_c = 0; local_c < (int)local_10; local_c = local_c + 1) {
            local_1c[(local_c - local_10) + 8] = param_2[local_c];
        }
        local_1c[8] = 0;
        FUN_000207e8(&local_20, local_1c, 4);
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (5 < DAT_0008697c)) {
            snprintf(acStack_824, 0x800,
                     "mask returned by pool is %s, swaped = 0x%x", param_2,
                     local_20);
            FUN_0001e4ec(6, acStack_824, 0);
        }
        local_20 = (local_20 & 0xe00000) >> 8 | (local_20 & 0xff00) << 8 |
                   (local_20 & 0xe0ff1f) << 0x18;
        local_20 = FUN_0002523c(local_20, &local_24);
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (4 < DAT_0008697c)) {
            snprintf(acStack_824, 0x800, "real mask = 0x%x, bit_num = %d",
                     local_20, local_24);
            FUN_0001e4ec(5, acStack_824, 0);
        }
        if (local_20 == 0) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (4 < DAT_0008697c)) {
                snprintf(acStack_824, 0x800,
                         "Pool %d rolling mask do not match!", *param_1);
                FUN_0001e4ec(5, acStack_824, 0);
            }
            *(undefined1 *)(param_1 + 0xa5) = 0;
            param_1[0xa6] = 1;
        } else {
            *(undefined1 *)(param_1 + 0xa5) = 1;
            param_1[0xa6] = 1 << (local_24 & 0xff);
        }
        param_1[0xa7] = local_20;
    }
    return;
}

undefined4 FUN_00025710(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_00066b80(param_2, 0);
    uVar1 = FUN_000677d0(uVar1);
    FUN_000253d0(param_1, uVar1);
    return 1;
}

undefined1 FUN_00025764(undefined4 *param_1, undefined4 param_2)

{
    undefined4 uVar1;
    int iVar2;
    size_t sVar3;
    char acStack_920[2048];
    undefined4 local_120[23];
    undefined1 auStack_c4[160];
    int *local_24;
    int *local_20;
    int *local_1c;
    int local_18;
    undefined4 local_14;
    char *local_10;
    undefined1 local_9;

    local_9 = 0;
    local_14 = 0;
    local_18 = 0;
    local_18 = FUN_00064704(param_2, 0, local_120);
    if (local_18 == 0) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (5 < DAT_0008697c)) {
            snprintf(acStack_920, 0x800, "JSON decode failed(%d): %s",
                     local_120[0], auStack_c4);
            FUN_0001e4ec(6, acStack_920, 0);
        }
    } else {
        local_1c = (int *)FUN_00065fec(local_18, "result");
        local_20 = (int *)FUN_00065fec(local_18, "error");
        if (((local_1c != (int *)0x0) &&
             ((local_1c == (int *)0x0 || (*local_1c != 7)))) &&
            ((local_20 == (int *)0x0 ||
              ((local_20 != (int *)0x0 && (*local_20 == 7)))))) {
            uVar1 = FUN_0006655c(local_1c);
            local_10 = (char *)FUN_00066698(uVar1);
            while (local_10 != (char *)0x0) {
                uVar1 = FUN_00066788(local_10);
                local_24 = (int *)FUN_000666d4(uVar1);
                if (local_24 == (int *)0x0)
                    break;
                iVar2 = strcasecmp(local_10, "version-rolling");
                if ((iVar2 == 0) && (sVar3 = strlen(local_10), sVar3 == 0xf)) {
                    if ((local_24 == (int *)0x0) || (*local_24 != 5)) {
                        if ((DAT_00091f58 != '\0') ||
                            ((DAT_00087769 != '\0' || (4 < DAT_0008697c)))) {
                            snprintf(acStack_920, 0x800,
                                     "Pool %d don\'t support ab!", *param_1);
                            FUN_0001e4ec(5, acStack_920, 0);
                        }
                        *(undefined1 *)(param_1 + 0xa5) = 0;
                        param_1[0xa6] = 1;
                        local_9 = 1;
                        break;
                    }
                    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                        (4 < DAT_0008697c)) {
                        snprintf(acStack_920, 0x800, "POOL %d support ab mode!",
                                 *param_1);
                        FUN_0001e4ec(5, acStack_920, 0);
                    }
                } else {
                    iVar2 = strcasecmp(local_10, "version-rolling.mask");
                    if ((iVar2 == 0) &&
                        (sVar3 = strlen(local_10), sVar3 == 0x14)) {
                        local_14 = FUN_000677d0(local_24);
                        FUN_000253d0(param_1, local_14);
                        local_9 = 1;
                    } else if (((DAT_00091f58 != '\0') ||
                                (DAT_00087769 != '\0')) ||
                               (2 < DAT_0008697c)) {
                        snprintf(
                            acStack_920, 0x800,
                            "JSON-RPC unexpected mining.configure value: %s",
                            local_10);
                        FUN_0001e4ec(3, acStack_920, 0);
                    }
                }
                uVar1 = FUN_00066788(local_10);
                uVar1 = FUN_00066628(local_1c, uVar1);
                local_10 = (char *)FUN_00066698(uVar1);
            }
        }
    }
    FUN_0001f948(local_18);
    return local_9;
}

undefined4 FUN_00025b88(undefined4 *param_1, undefined4 param_2)

{
    undefined4 uVar1;
    undefined4 extraout_s1;
    char acStack_81c[2048];
    int local_1c;
    undefined8 local_18;
    undefined4 local_10;
    undefined4 uStack_c;

    uVar1 = FUN_00066b80(param_2, 0);
    uVar1 = FUN_00067ff8(uVar1);
    local_18 = (double)CONCAT44(extraout_s1, uVar1);
    if (local_18 == 0.0) {
        uVar1 = 0;
    } else {
        FUN_0002002c(param_1 + 0x35, "util.c", "parse_diff", 0x902);
        if (*(double *)(param_1 + 0x1ca) <= 0.0) {
            local_10 = param_1[0x1cc];
            uStack_c = param_1[0x1cd];
            param_1[0x1cc] = (undefined4)local_18;
            param_1[0x1cd] = local_18._4_4_;
            param_1[0x1ca] = param_1[0x1cc];
            param_1[0x1cb] = param_1[0x1cd];
        } else {
            local_10 = param_1[0x1ca];
            uStack_c = param_1[0x1cb];
            param_1[0x1ca] = (undefined4)local_18;
            param_1[0x1cb] = local_18._4_4_;
        }
        FUN_0002007c(param_1 + 0x35, "util.c", "parse_diff", 0x90f);
        if ((double)CONCAT44(uStack_c, local_10) == local_18) {
            if ((DAT_00087768 != '\0') &&
                (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                  (6 < DAT_0008697c)))) {
                snprintf(acStack_81c, 0x800, "Pool %d difficulty set to %f",
                         *param_1, (undefined4)local_18, local_18._4_4_);
                FUN_0001e4ec(7, acStack_81c, 0);
            }
        } else {
            local_1c = (int)(longlong)local_18;
            if ((double)(longlong)local_1c == local_18) {
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (4 < DAT_0008697c)) {
                    snprintf(acStack_81c, 0x800,
                             "Pool %d difficulty changed to %d", *param_1,
                             local_1c);
                    FUN_0001e4ec(5, acStack_81c, 0);
                }
            } else if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                       (4 < DAT_0008697c)) {
                snprintf(acStack_81c, 0x800,
                         "Pool %d difficulty changed to %.1f", *param_1,
                         (undefined4)local_18, local_18._4_4_);
                FUN_0001e4ec(5, acStack_81c, 0);
            }
        }
        uVar1 = 1;
    }
    return uVar1;
}

undefined4 FUN_00025e98(undefined4 *param_1, undefined4 param_2)

{
    char cVar1;
    size_t sVar2;
    undefined4 uVar3;
    char local_810[44];
    undefined2 local_7e4;
    undefined1 local_7e2;
    int local_10;
    char *local_c;

    local_c = (char *)FUN_00023c50(param_2, 0);
    cVar1 = FUN_00020a38(local_c, "util.c", "parse_extranonce", 0x92d);
    if (cVar1 == '\x01') {
        uVar3 = FUN_00066b80(param_2, 1);
        local_10 = FUN_00067c98(uVar3);
        if (local_10 == 0) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (5 < DAT_0008697c)) {
                builtin_strncpy(local_810,
                                "Failed to get valid n2size in parse_extranon",
                                0x2c);
                local_7e4 = 0x6563;
                local_7e2 = 0;
                FUN_0001e4ec(6, local_810, 0);
            }
            free(local_c);
            uVar3 = 0;
        } else {
            FUN_0002002c(param_1 + 0x35, "util.c", "parse_extranonce", 0x939);
            free((void *)param_1[0x9d]);
            param_1[0x9d] = local_c;
            sVar2 = strlen(local_c);
            param_1[0x18b] = sVar2 >> 1;
            free((void *)param_1[0x9e]);
            uVar3 = FUN_000202d4(param_1[0x18b], 1, "util.c",
                                 "parse_extranonce", 0x93e);
            param_1[0x9e] = uVar3;
            if (param_1[0x9e] == 0) {
                snprintf(local_810, 0x800,
                         "Failed to calloc pool->nonce1bin in %s %s():%d",
                         "util.c", "parse_extranonce", 0x940);
                FUN_0001e4ec(3, local_810, 1);
                FUN_0004bfb0(1);
            }
            FUN_000207e8(param_1[0x9e], param_1[0x9d], param_1[0x18b]);
            param_1[0xa2] = local_10;
            FUN_0002007c(param_1 + 0x35, "util.c", "parse_extranonce", 0x943);
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (4 < DAT_0008697c)) {
                snprintf(local_810, 0x800,
                         "Pool %d extranonce change requested", *param_1);
                FUN_0001e4ec(5, local_810, 0);
            }
            uVar3 = 1;
        }
    } else {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (5 < DAT_0008697c)) {
            builtin_strncpy(local_810,
                            "Failed to get valid nonce1 in parse_extranon",
                            0x2c);
            local_7e4 = 0x6563;
            local_7e2 = 0;
            FUN_0001e4ec(6, local_810, 0);
        }
        uVar3 = 0;
    }
    return uVar3;
}

void FUN_00026254(int param_1)

{
    FUN_000231d0(param_1);
    *(undefined1 *)(param_1 + 0x293) = 0;
    *(undefined1 *)(param_1 + 0x291) = *(undefined1 *)(param_1 + 0x293);
    if (*(int *)(param_1 + 0x24c) != 0) {
        if ((*(char *)(param_1 + 0x250) != '\0') &&
            (*(int *)(param_1 + 0x254) != 0)) {
            SSL_shutdown(*(SSL **)(param_1 + 0x254));
            X509_free(*(X509 **)(param_1 + 0x25c));
            SSL_CTX_free(*(SSL_CTX **)(param_1 + 600));
            SSL_free(*(SSL **)(param_1 + 0x254));
        }
        close(*(int *)(param_1 + 0x24c));
    }
    *(undefined4 *)(param_1 + 0x24c) = 0;
    return;
}

undefined4 FUN_0002631c(undefined4 *param_1, undefined4 param_2)

{
    char cVar1;
    undefined4 uVar2;
    int iVar3;
    int *piVar4;
    undefined1 local_a40[8];
    char acStack_a38[256];
    undefined1 auStack_938[8];
    undefined4 local_930;
    undefined4 *local_92c;
    char acStack_928[2048];
    char acStack_128[256];
    undefined4 local_28;
    undefined4 local_24;
    void *local_20;
    int local_1c;
    char *local_18;
    char *local_14;
    char *local_10;
    char *local_c;

    local_930 = param_2;
    local_92c = param_1;
    memset(acStack_128, 0, 0xff);
    uVar2 = FUN_00066b80(local_930, 0);
    local_c = (char *)FUN_000677d0(uVar2);
    if (local_c == (char *)0x0) {
        local_c = (char *)local_92c[0x9a];
    } else {
        local_14 = strchr((char *)local_92c[0x9a], 0x2e);
        if (local_14 == (char *)0x0) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                snprintf(acStack_928, 0x800,
                         "Denied stratum reconnect request for pool without "
                         "domain \'%s\'",
                         local_92c[0x9a]);
                FUN_0001e4ec(3, acStack_928, 0);
            }
            return 0;
        }
        local_18 = strchr(local_c, 0x2e);
        if (local_18 == (char *)0x0) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                snprintf(acStack_928, 0x800,
                         "Denied stratum reconnect request to url without "
                         "domain \'%s\'",
                         local_c);
                FUN_0001e4ec(3, acStack_928, 0);
            }
            return 0;
        }
        iVar3 = strcmp(local_14, local_18);
        if (iVar3 != 0) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                snprintf(acStack_928, 0x800,
                         "Denied stratum reconnect request to non-matching "
                         "domain url \'%s\'",
                         local_92c[0x9a]);
                FUN_0001e4ec(3, acStack_928, 0);
            }
            return 0;
        }
    }
    uVar2 = FUN_00066b80(local_930, 1);
    local_1c = FUN_00067c98(uVar2);
    if (local_1c == 0) {
        uVar2 = FUN_00066b80(local_930, 1);
        local_10 = (char *)FUN_000677d0(uVar2);
        piVar4 = (int *)auStack_938;
        if (local_10 == (char *)0x0) {
            local_10 = (char *)local_92c[0x92];
            piVar4 = (int *)auStack_938;
        }
    } else {
        local_10 = acStack_a38;
        sprintf(local_10, "%d", local_1c);
        piVar4 = (int *)local_a40;
    }
    *piVar4 = (int)local_10;
    snprintf(acStack_128, 0xfe, "%s:%s", local_c);
    cVar1 = FUN_00022720(acStack_128, &local_24, &local_28);
    if (cVar1 == '\x01') {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (3 < DAT_0008697c)) {
            uVar2 = *local_92c;
            *piVar4 = (int)acStack_128;
            snprintf(acStack_928, 0x800,
                     "Stratum reconnect requested from pool %d to %s", uVar2);
            FUN_0001e4ec(4, acStack_928, 0);
        }
        FUN_0003efc0(local_92c);
        FUN_0001fd4c(local_92c + 0xb4, "util.c", "parse_reconnect", 0x994);
        FUN_00026254(local_92c);
        local_20 = (void *)local_92c[0x9a];
        local_92c[0x9a] = local_24;
        local_92c[0x90] = local_92c[0x9a];
        free(local_20);
        local_20 = (void *)local_92c[0x92];
        local_92c[0x92] = local_28;
        free(local_20);
        FUN_0001fe7c(local_92c + 0xb4, "util.c", "parse_reconnect", 0x99d);
        uVar2 = FUN_0002b4b0(local_92c);
    } else {
        uVar2 = 0;
    }
    return uVar2;
}

undefined4 FUN_00026764(undefined4 param_1, undefined4 param_2)

{
    char cVar1;
    size_t sVar2;
    undefined4 uVar3;
    char acStack_2010[8192];
    undefined4 local_10;
    int local_c;

    local_c = FUN_00065fec(param_2, &DAT_0006b768);
    if (local_c == 0) {
        uVar3 = 0;
    } else {
        uVar3 = FUN_00065fec(param_2, &DAT_0006b768);
        local_10 = FUN_00067c98(uVar3);
        sprintf(acStack_2010,
                "{\"id\": %d, \"result\": \"cgminer/1.0.0\", \"error\": null}",
                local_10);
        sVar2 = strlen(acStack_2010);
        cVar1 = FUN_00022cf8(param_1, acStack_2010, sVar2);
        if (cVar1 == '\x01') {
            uVar3 = 1;
        } else {
            uVar3 = 0;
        }
    }
    return uVar3;
}

undefined4 FUN_00026880(undefined4 param_1, undefined4 param_2)

{
    char cVar1;
    size_t sVar2;
    undefined4 uVar3;
    char acStack_2010[8192];
    undefined4 local_10;
    int local_c;

    local_c = FUN_00065fec(param_2, &DAT_0006b768);
    if (local_c == 0) {
        uVar3 = 0;
    } else {
        uVar3 = FUN_00065fec(param_2, &DAT_0006b768);
        local_10 = FUN_00067c98(uVar3);
        sprintf(acStack_2010,
                "{\"id\": %d, \"result\": \"pong\", \"error\": null}",
                local_10);
        sVar2 = strlen(acStack_2010);
        cVar1 = FUN_00022cf8(param_1, acStack_2010, sVar2);
        if (cVar1 == '\x01') {
            uVar3 = 1;
        } else {
            uVar3 = 0;
        }
    }
    return uVar3;
}

undefined4 FUN_0002699c(undefined4 *param_1, int *param_2)

{
    undefined4 uVar1;
    char acStack_80c[2048];
    int local_c;

    if ((param_2 == (int *)0x0) || (*param_2 != 1)) {
        uVar1 = 0;
    } else {
        uVar1 = FUN_00066b80(param_2, 0);
        local_c = FUN_000677d0(uVar1);
        if (local_c == 0) {
            uVar1 = 0;
        } else {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (4 < DAT_0008697c)) {
                snprintf(acStack_80c, 0x800, "Pool %d message: %s", *param_1,
                         local_c);
                FUN_0001e4ec(5, acStack_80c, 0);
            }
            uVar1 = 1;
        }
    }
    return uVar1;
}

undefined1 FUN_00026aa0(undefined4 *param_1, int param_2)

{
    int iVar1;
    char local_920[24];
    undefined2 local_908;
    undefined1 local_906;
    undefined4 local_120[23];
    undefined1 auStack_c4[160];
    char *local_24;
    undefined4 local_20;
    int *local_1c;
    int local_18;
    int local_14;
    char *local_10;
    undefined1 local_9;

    local_14 = 0;
    local_9 = 0;
    if (param_2 != 0) {
        local_14 = FUN_00064704(param_2, 0, local_120);
        if (local_14 == 0) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (5 < DAT_0008697c)) {
                snprintf(local_920, 0x800, "JSON decode failed(%d): %s",
                         local_120[0], auStack_c4);
                FUN_0001e4ec(6, local_920, 0);
            }
        } else {
            local_18 = FUN_00065fec(local_14, "method");
            if (local_18 != 0) {
                local_1c = (int *)FUN_00065fec(local_14, "error");
                local_20 = FUN_00065fec(local_14, "params");
                if ((local_1c == (int *)0x0) ||
                    ((local_1c != (int *)0x0 && (*local_1c == 7)))) {
                    local_24 = (char *)FUN_000677d0(local_18);
                    if (local_24 != (char *)0x0) {
                        iVar1 =
                            strncasecmp(local_24, "mining.multi_version", 0x14);
                        if (iVar1 == 0) {
                            *(undefined1 *)(param_1 + 0xa5) = 1;
                            if (((DAT_00091f58 != '\0') ||
                                 (DAT_00087769 != '\0')) ||
                                (5 < DAT_0008697c)) {
                                builtin_strncpy(local_920,
                                                "Pool support multi versi",
                                                0x18);
                                local_908 = 0x6e6f;
                                local_906 = 0;
                                FUN_0001e4ec(6, local_920, 0);
                            }
                            local_9 = FUN_000251a8(param_1, local_20);
                        } else {
                            iVar1 = strncasecmp(local_24, "mining.notify", 0xd);
                            if (iVar1 == 0) {
                                iVar1 = FUN_00023e04(param_1, local_20);
                                if (iVar1 == 0) {
                                    local_9 = 0;
                                    *(undefined1 *)((int)param_1 + 0x293) = 0;
                                } else {
                                    local_9 = 1;
                                    *(undefined1 *)((int)param_1 + 0x293) = 1;
                                }
                            } else {
                                iVar1 = strncasecmp(
                                    local_24, "mining.set_version_mask", 0x17);
                                if (iVar1 == 0) {
                                    iVar1 = FUN_00025710(param_1, local_20);
                                    if (iVar1 == 0) {
                                        local_9 = 0;
                                        *(undefined1 *)((int)param_1 + 0x293) =
                                            0;
                                    } else {
                                        local_9 = 1;
                                        *(undefined1 *)((int)param_1 + 0x293) =
                                            1;
                                    }
                                } else {
                                    iVar1 = strncasecmp(local_24,
                                                        "mining.set_difficulty",
                                                        0x15);
                                    if (iVar1 == 0) {
                                        local_9 =
                                            FUN_00025b88(param_1, local_20);
                                    } else {
                                        iVar1 = strncasecmp(
                                            local_24, "mining.set_extranonce",
                                            0x15);
                                        if (iVar1 == 0) {
                                            local_9 =
                                                FUN_00025e98(param_1, local_20);
                                        } else {
                                            iVar1 = strncasecmp(
                                                local_24, "client.reconnect",
                                                0x10);
                                            if (iVar1 == 0) {
                                                local_9 = FUN_0002631c(
                                                    param_1, local_20);
                                            } else {
                                                iVar1 = strncasecmp(
                                                    local_24,
                                                    "client.get_version", 0x12);
                                                if (iVar1 == 0) {
                                                    local_9 = FUN_00026764(
                                                        param_1, local_14);
                                                } else {
                                                    iVar1 = strncasecmp(
                                                        local_24,
                                                        "client.show_message",
                                                        0x13);
                                                    if (iVar1 == 0) {
                                                        local_9 = FUN_0002699c(
                                                            param_1, local_20);
                                                    } else {
                                                        iVar1 = strncasecmp(
                                                            local_24,
                                                            "mining.ping", 0xb);
                                                        if (iVar1 == 0) {
                                                            if (((DAT_00091f58 !=
                                                                  '\0') ||
                                                                 (DAT_00087769 !=
                                                                  '\0')) ||
                                                                (5 <
                                                                 DAT_0008697c)) {
                                                                snprintf(
                                                                    local_920,
                                                                    0x800,
                                                                    "Pool %d "
                                                                    "ping",
                                                                    *param_1);
                                                                FUN_0001e4ec(
                                                                    6,
                                                                    local_920,
                                                                    0);
                                                            }
                                                            local_9 =
                                                                FUN_00026880(
                                                                    param_1,
                                                                    local_14);
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                } else {
                    if (local_1c == (int *)0x0) {
                        local_10 = strdup("(unknown reason)");
                    } else {
                        local_10 = (char *)FUN_000605a4(local_1c, 3);
                    }
                    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                        (5 < DAT_0008697c)) {
                        snprintf(local_920, 0x800,
                                 "JSON-RPC method decode failed: %s", local_10);
                        FUN_0001e4ec(6, local_920, 0);
                    }
                    free(local_10);
                }
            }
            FUN_0001f948(local_14);
        }
    }
    return local_9;
}

undefined1 FUN_00027060(undefined4 *param_1)

{
    char cVar1;
    size_t sVar2;
    int iVar3;
    char local_291c[2048];
    undefined1 auStack_211c[252];
    char acStack_2020[8192];
    int *local_20;
    int *local_1c;
    void *local_18;
    char *local_14;
    undefined1 local_d;
    undefined4 local_c;

    local_c = 0;
    local_18 = (void *)0x0;
    local_d = 0;
    DAT_00091f84 = DAT_00091f84 + 1;
    sprintf(acStack_2020, "{\"id\": %d, \"method\": "
                          "\"mining.extranonce.subscribe\", \"params\": []}");
    sVar2 = strlen(acStack_2020);
    cVar1 = FUN_00022cf8(param_1, acStack_2020, sVar2);
    if (cVar1 == '\x01') {
        while (cVar1 = FUN_00023060(param_1, 2), cVar1 == '\x01') {
            local_18 = (void *)FUN_00023428(param_1);
            if (local_18 == (void *)0x0) {
                return local_d;
            }
            iVar3 = FUN_00026aa0(param_1, local_18);
            if (iVar3 == 0) {
                local_c = FUN_00064704(local_18, 0, auStack_211c);
                free(local_18);
                local_1c = (int *)FUN_00065fec(local_c, "result");
                local_20 = (int *)FUN_00065fec(local_c, "error");
                if (((local_1c != (int *)0x0) &&
                     ((local_1c == (int *)0x0 || (*local_1c != 6)))) &&
                    ((local_20 == (int *)0x0 ||
                      ((local_20 != (int *)0x0 && (*local_20 == 7)))))) {
                    local_d = 1;
                    if ((DAT_00091f58 != '\0') ||
                        ((DAT_00087769 != '\0' || (5 < DAT_0008697c)))) {
                        snprintf(local_291c, 0x800,
                                 "Stratum extranonce subscribe for pool %d",
                                 *param_1);
                        FUN_0001e4ec(6, local_291c, 0);
                    }
                    goto LAB_000275fc;
                }
                if (local_20 == (int *)0x0) {
                    local_14 = strdup("(unknown reason)");
                } else {
                    local_14 = (char *)FUN_00023b88(local_20, 1);
                    if (local_14 == (char *)0x0) {
                        local_14 = (char *)FUN_000677d0(local_20);
                    }
                    if ((local_14 != (char *)0x0) &&
                        (iVar3 = strcmp(local_14,
                                        "Method \'subscribe\' not found for "
                                        "service \'mining.extranonce\'"),
                         iVar3 == 0)) {
                        if ((DAT_00091f58 != '\0') ||
                            ((DAT_00087769 != '\0' || (5 < DAT_0008697c)))) {
                            snprintf(local_291c, 0x800,
                                     "Cannot subscribe to mining.extranonce "
                                     "for pool %d",
                                     *param_1);
                            FUN_0001e4ec(6, local_291c, 0);
                        }
                        local_d = 1;
                        goto LAB_000275fc;
                    }
                    if ((local_14 != (char *)0x0) &&
                        (iVar3 =
                             strcmp(local_14, "Unrecognized request provided"),
                         iVar3 == 0)) {
                        if ((DAT_00091f58 != '\0') ||
                            ((DAT_00087769 != '\0' || (5 < DAT_0008697c)))) {
                            snprintf(local_291c, 0x800,
                                     "Cannot subscribe to mining.extranonce "
                                     "for pool %d",
                                     *param_1);
                            FUN_0001e4ec(6, local_291c, 0);
                        }
                        local_d = 1;
                        goto LAB_000275fc;
                    }
                    local_14 = (char *)FUN_000605a4(local_20, 3);
                }
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (5 < DAT_0008697c)) {
                    snprintf(local_291c, 0x800,
                             "Pool %d JSON extranonce subscribe failed: %s",
                             *param_1, local_14);
                    FUN_0001e4ec(6, local_291c, 0);
                }
                free(local_14);
                goto LAB_000275fc;
            }
            free(local_18);
        }
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            builtin_strncpy(
                local_291c,
                "Timed out waiting for response extranonce.subscribe", 0x34);
            FUN_0001e4ec(7, local_291c, 0);
        }
        local_d = 1;
    LAB_000275fc:
        FUN_0001f948(local_c);
    }
    return local_d;
}

undefined1 FUN_00027614(undefined4 *param_1)

{
    char cVar1;
    size_t sVar2;
    int iVar3;
    char acStack_291c[2048];
    undefined1 auStack_211c[252];
    char acStack_2020[8192];
    int *local_20;
    int *local_1c;
    void *local_18;
    undefined4 local_14;
    char *local_10;
    undefined1 local_9;

    iVar3 = DAT_00091f84;
    local_14 = 0;
    local_18 = (void *)0x0;
    local_9 = 0;
    DAT_00091f84 = DAT_00091f84 + 1;
    sprintf(acStack_2020,
            "{\"id\": %d, \"method\": \"mining.authorize\", \"params\": "
            "[\"%s\", \"%s\"]}",
            iVar3, param_1[0x2b], param_1[0x2c]);
    sVar2 = strlen(acStack_2020);
    cVar1 = FUN_00022cf8(param_1, acStack_2020, sVar2);
    if (cVar1 == '\x01') {
        while (local_18 = (void *)FUN_00023428(param_1),
               local_18 != (void *)0x0) {
            iVar3 = FUN_00026aa0(param_1, local_18);
            if (iVar3 == 0) {
                local_14 = FUN_00064704(local_18, 0, auStack_211c);
                free(local_18);
                local_1c = (int *)FUN_00065fec(local_14, "result");
                local_20 = (int *)FUN_00065fec(local_14, "error");
                if (((local_1c == (int *)0x0) ||
                     ((local_1c != (int *)0x0 && (*local_1c == 6)))) ||
                    ((local_20 != (int *)0x0 &&
                      ((local_20 == (int *)0x0 || (*local_20 != 7)))))) {
                    if (local_20 == (int *)0x0) {
                        local_10 = strdup("(unknown reason)");
                    } else {
                        local_10 = (char *)FUN_000605a4(local_20, 3);
                    }
                    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                        (5 < DAT_0008697c)) {
                        snprintf(acStack_291c, 0x800,
                                 "pool %d JSON stratum auth failed: %s",
                                 *param_1, local_10);
                        FUN_0001e4ec(6, acStack_291c, 0);
                    }
                    free(local_10);
                    FUN_00029ef4(param_1);
                } else {
                    local_9 = 1;
                    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                        (5 < DAT_0008697c)) {
                        snprintf(acStack_291c, 0x800,
                                 "Stratum authorisation success for pool %d",
                                 *param_1);
                        FUN_0001e4ec(6, acStack_291c, 0);
                    }
                    *(undefined1 *)((int)param_1 + 99) = 1;
                    iVar3 = DAT_00091f84;
                    DAT_00087894 = 1;
                    if (DAT_000953a8 != 0) {
                        DAT_00091f84 = DAT_00091f84 + 1;
                        sprintf(
                            acStack_2020,
                            "{\"id\": %d, \"method\": "
                            "\"mining.suggest_difficulty\", \"params\": [%d]}",
                            iVar3, DAT_000953a8);
                        sVar2 = strlen(acStack_2020);
                        FUN_00022cf8(param_1, acStack_2020, sVar2);
                    }
                }
                FUN_0001f948(local_14);
                return local_9;
            }
            free(local_18);
        }
    }
    return local_9;
}

uint FUN_00027a44(int param_1)

{
    ssize_t sVar1;
    uint uVar2;
    byte local_9;

    sVar1 = recv(param_1, &local_9, 1, 0);
    if (sVar1 == -1) {
        uVar2 = 0xffffffff;
    } else {
        uVar2 = (uint)local_9;
    }
    return uVar2;
}

undefined4 FUN_00027a8c(int param_1, int param_2, char param_3)

{
    char cVar1;
    size_t __n;
    int iVar2;
    char acStack_c10[2048];
    char acStack_410[1024];
    ssize_t local_10;
    int local_c;

    if (param_3 == '\0') {
        snprintf(
            acStack_410, 0x400, "CONNECT %s:%s HTTP/1.1\r\nHost: %s:%s\r\n\r\n",
            *(undefined4 *)(param_1 + 0x268), *(undefined4 *)(param_1 + 0x248),
            *(undefined4 *)(param_1 + 0x268), *(undefined4 *)(param_1 + 0x248));
    } else {
        snprintf(acStack_410, 0x400, "CONNECT %s:%s HTTP/1.0\r\n\r\n",
                 *(undefined4 *)(param_1 + 0x268),
                 *(undefined4 *)(param_1 + 0x248));
    }
    if ((DAT_00087768 != '\0') &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (6 < DAT_0008697c)))) {
        snprintf(acStack_c10, 0x800, "Sending proxy %s:%s - %s",
                 *(undefined4 *)(param_1 + 0x26c),
                 *(undefined4 *)(param_1 + 0x270), acStack_410);
        FUN_0001e4ec(7, acStack_c10, 0);
    }
    __n = strlen(acStack_410);
    send(param_2, acStack_410, __n, 0);
    local_10 = recv(param_2, acStack_410, 0xc, 0);
    if (local_10 < 1) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (3 < DAT_0008697c)) {
            snprintf(acStack_c10, 0x800,
                     "Couldn\'t read from proxy %s:%s after sending CONNECT",
                     *(undefined4 *)(param_1 + 0x26c),
                     *(undefined4 *)(param_1 + 0x270));
            FUN_0001e4ec(4, acStack_c10, 0);
        }
    } else {
        acStack_410[local_10] = '\0';
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            snprintf(acStack_c10, 0x800, "Received from proxy %s:%s - %s",
                     *(undefined4 *)(param_1 + 0x26c),
                     *(undefined4 *)(param_1 + 0x270), acStack_410);
            FUN_0001e4ec(7, acStack_c10, 0);
        }
        iVar2 = strcmp(acStack_410, "HTTP/1.1 200");
        if ((iVar2 == 0) ||
            (iVar2 = strcmp(acStack_410, "HTTP/1.0 200"), iVar2 == 0)) {
            for (local_c = 0; local_c < 4; local_c = local_c + 1) {
                cVar1 = FUN_00027a44(param_2);
                acStack_410[local_c] = cVar1;
                if (acStack_410[local_c] == -1) {
                    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                        (3 < DAT_0008697c)) {
                        snprintf(acStack_c10, 0x800,
                                 "Couldn\'t read HTTP byte from proxy %s:%s",
                                 *(undefined4 *)(param_1 + 0x26c),
                                 *(undefined4 *)(param_1 + 0x270));
                        FUN_0001e4ec(4, acStack_c10, 0);
                    }
                    return 0;
                }
            }
            do {
                iVar2 = strncmp(acStack_410, "\r\n\r\n", 4);
                if (iVar2 == 0) {
                    if ((DAT_00087768 != '\0') &&
                        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                          (6 < DAT_0008697c)))) {
                        snprintf(acStack_c10, 0x800,
                                 "Success negotiating with %s:%s HTTP proxy",
                                 *(undefined4 *)(param_1 + 0x26c),
                                 *(undefined4 *)(param_1 + 0x270));
                        FUN_0001e4ec(7, acStack_c10, 0);
                    }
                    return 1;
                }
                for (local_c = 0; local_c < 3; local_c = local_c + 1) {
                    acStack_410[local_c] = acStack_410[local_c + 1];
                }
                acStack_410[3] = FUN_00027a44(param_2);
            } while (acStack_410[3] != -1);
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (3 < DAT_0008697c)) {
                snprintf(acStack_c10, 0x800,
                         "Couldn\'t read HTTP byte from proxy %s:%s",
                         *(undefined4 *)(param_1 + 0x26c),
                         *(undefined4 *)(param_1 + 0x270));
                FUN_0001e4ec(4, acStack_c10, 0);
            }
        } else if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                   (3 < DAT_0008697c)) {
            snprintf(acStack_c10, 0x800, "HTTP Error from proxy %s:%s - %s",
                     *(undefined4 *)(param_1 + 0x26c),
                     *(undefined4 *)(param_1 + 0x270), acStack_410);
            FUN_0001e4ec(4, acStack_c10, 0);
        }
    }
    return 0;
}

undefined4 FUN_00028188(int param_1, int param_2)

{
    int iVar1;
    uint uVar2;
    undefined4 uVar3;
    char acStack_a18[2048];
    undefined1 local_218;
    undefined1 local_217;
    byte local_216;
    undefined1 local_215;
    undefined1 local_214;
    undefined1 auStack_213[510];
    char local_15;
    undefined2 local_14;
    undefined1 local_11;
    size_t local_10;
    int local_c;

    local_218 = 5;
    local_217 = 1;
    local_216 = 0;
    if ((DAT_00087768 != '\0') &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (6 < DAT_0008697c)))) {
        snprintf(acStack_a18, 0x800,
                 "Attempting to negotiate with %s:%s SOCKS5 proxy",
                 *(undefined4 *)(param_1 + 0x26c),
                 *(undefined4 *)(param_1 + 0x270));
        FUN_0001e4ec(7, acStack_a18, 0);
    }
    send(param_2, &local_218, 3, 0);
    iVar1 = FUN_00027a44(param_2);
    if ((iVar1 == 5) && (uVar2 = FUN_00027a44(param_2), uVar2 == local_216)) {
        local_218 = 5;
        local_217 = 1;
        local_216 = 0;
        local_215 = 3;
        local_10 = strlen(*(char **)(param_1 + 0x268));
        if (0xff < (int)local_10) {
            local_10 = 0xff;
        }
        local_214 = (undefined1)local_10;
        local_11 = local_214;
        FUN_0002befc(auStack_213, *(undefined4 *)(param_1 + 0x268), local_10,
                     "util.c", "socks5_negotiate", 0xb3f);
        iVar1 = atoi(*(char **)(param_1 + 0x248));
        local_14 = (undefined2)iVar1;
        auStack_213[local_10] = (char)((uint)iVar1 >> 8);
        auStack_213[local_10 + 1] = (char)local_14;
        send(param_2, &local_218, local_10 + 7, 0);
        iVar1 = FUN_00027a44(param_2);
        if ((iVar1 == 5) && (iVar1 = FUN_00027a44(param_2), iVar1 == 0)) {
            FUN_00027a44(param_2);
            local_15 = FUN_00027a44(param_2);
            if (local_15 == '\x01') {
                for (local_c = 0; local_c < 4; local_c = local_c + 1) {
                    FUN_00027a44(param_2);
                }
            } else {
                if (local_15 != '\x03') {
                    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                        (3 < DAT_0008697c)) {
                        snprintf(acStack_a18, 0x800,
                                 "Bad response from %s:%s SOCKS5 server",
                                 *(undefined4 *)(param_1 + 0x26c),
                                 *(undefined4 *)(param_1 + 0x270));
                        FUN_0001e4ec(4, acStack_a18, 0);
                    }
                    return 0;
                }
                local_10 = FUN_00027a44(param_2);
                for (local_c = 0; local_c < (int)local_10;
                     local_c = local_c + 1) {
                    FUN_00027a44(param_2);
                }
            }
            for (local_c = 0; local_c < 2; local_c = local_c + 1) {
                FUN_00027a44(param_2);
            }
            if ((DAT_00087768 != '\0') &&
                (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                  (6 < DAT_0008697c)))) {
                snprintf(acStack_a18, 0x800,
                         "Success negotiating with %s:%s SOCKS5 proxy",
                         *(undefined4 *)(param_1 + 0x26c),
                         *(undefined4 *)(param_1 + 0x270));
                FUN_0001e4ec(7, acStack_a18, 0);
            }
            uVar3 = 1;
        } else {
            if ((DAT_00091f58 != '\0') ||
                ((DAT_00087769 != '\0' || (3 < DAT_0008697c)))) {
                snprintf(acStack_a18, 0x800,
                         "Bad response from %s:%s SOCKS5 server",
                         *(undefined4 *)(param_1 + 0x26c),
                         *(undefined4 *)(param_1 + 0x270));
                FUN_0001e4ec(4, acStack_a18, 0);
            }
            uVar3 = 0;
        }
    } else {
        if ((DAT_00091f58 != '\0') ||
            ((DAT_00087769 != '\0' || (3 < DAT_0008697c)))) {
            snprintf(acStack_a18, 0x800,
                     "Bad response from %s:%s SOCKS5 server",
                     *(undefined4 *)(param_1 + 0x26c),
                     *(undefined4 *)(param_1 + 0x270));
            FUN_0001e4ec(4, acStack_a18, 0);
        }
        uVar3 = 0;
    }
    return uVar3;
}

undefined4 FUN_000286d0(int param_1, int param_2, char param_3)

{
    int iVar1;
    undefined4 uVar2;
    char local_a51;
    addrinfo aStack_a44;
    addrinfo aaStack_a24[64];
    addrinfo *local_224;
    undefined1 local_220;
    undefined1 local_21f;
    undefined1 local_21e;
    undefined1 local_21d;
    undefined1 local_21c;
    undefined1 local_21b;
    undefined1 local_21a;
    undefined1 local_219;
    char local_218[508];
    sockaddr *local_1c;
    undefined2 local_16;
    size_t local_14;
    int local_10;
    in_addr_t local_c;

    local_220 = 4;
    local_21f = 1;
    iVar1 = atoi(*(char **)(param_1 + 0x248));
    local_16 = (undefined2)iVar1;
    local_21e = (undefined1)((uint)iVar1 >> 8);
    local_21d = (undefined1)iVar1;
    builtin_strncpy(local_218, "CGMINER", 8);
    local_c = inet_addr(*(char **)(param_1 + 0x268));
    local_c = ntohl(local_c);
    if (local_c == 0xffffffff) {
        local_224 = &aStack_a44;
        memset(aaStack_a24, 0, 0x20);
        aaStack_a24[0].ai_family = 2;
        iVar1 = getaddrinfo(*(char **)(param_1 + 0x268), (char *)0x0,
                            aaStack_a24, &local_224);
        local_a51 = param_3;
        if (iVar1 == 0) {
            local_1c = local_224->ai_addr;
            local_c = ntohl(*(uint32_t *)(local_1c->sa_data + 2));
            local_a51 = '\0';
            freeaddrinfo(local_224);
        }
    } else {
        local_a51 = '\0';
    }
    if (local_a51 == '\x01') {
        local_21c = 0;
        local_21b = 0;
        local_21a = 0;
        local_219 = 1;
        local_14 = strlen(*(char **)(param_1 + 0x268));
        if (0xff < (int)local_14) {
            local_14 = 0xff;
        }
        FUN_0002befc(local_218 + 8, *(undefined4 *)(param_1 + 0x268), local_14,
                     "util.c", "socks4_negotiate", 0xba5);
        iVar1 = local_14 + 8;
        local_14 = local_14 + 0x11;
        local_218[iVar1] = '\0';
        send(param_2, &local_220, local_14, 0);
    } else {
        if (local_c == 0xffffffff) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (3 < DAT_0008697c)) {
                snprintf((char *)aaStack_a24, 0x800,
                         "Invalid IP address specified for socks4 proxy: %s",
                         *(undefined4 *)(param_1 + 0x268));
                FUN_0001e4ec(4, aaStack_a24, 0);
            }
            return 0;
        }
        local_21c = (undefined1)(local_c >> 0x18);
        local_21b = (undefined1)(local_c >> 0x10);
        local_21a = (undefined1)(local_c >> 8);
        local_219 = (undefined1)local_c;
        send(param_2, &local_220, 0x10, 0);
    }
    iVar1 = FUN_00027a44(param_2);
    if ((iVar1 == 0) && (iVar1 = FUN_00027a44(param_2), iVar1 == 0x5a)) {
        for (local_10 = 0; local_10 < 6; local_10 = local_10 + 1) {
            FUN_00027a44(param_2);
        }
        uVar2 = 1;
    } else {
        if ((DAT_00091f58 != '\0') ||
            ((DAT_00087769 != '\0' || (3 < DAT_0008697c)))) {
            snprintf((char *)aaStack_a24, 0x800,
                     "Bad response from %s:%s SOCKS4 server",
                     *(undefined4 *)(param_1 + 0x26c),
                     *(undefined4 *)(param_1 + 0x270));
            FUN_0001e4ec(4, aaStack_a24, 0);
        }
        uVar2 = 0;
    }
    return uVar2;
}

void FUN_00028ac8(int param_1)

{
    uint uVar1;

    uVar1 = fcntl(param_1, 3, 0);
    fcntl(param_1, 4, uVar1 | 0x800);
    return;
}

void FUN_00028b0c(int param_1)

{
    uint uVar1;

    uVar1 = fcntl(param_1, 3, 0);
    fcntl(param_1, 4, uVar1 & 0xfffff7ff);
    return;
}

bool FUN_00028b50(void)

{
    int *piVar1;

    piVar1 = __errno_location();
    return *piVar1 == 0x73;
}

undefined4 FUN_00028b7c(int param_1)

{
    size_t sVar1;
    SSL_METHOD *meth;
    BIO_METHOD *type;
    int iVar2;
    SSL_CIPHER *c;
    char *pcVar3;
    undefined4 uVar4;
    char local_85c[16];
    uint local_84c;
    char acStack_848[8];
    uint local_840;
    char local_83c[4];
    undefined2 local_838;
    undefined1 local_836;
    X509 *local_3c;
    long local_38;
    int local_34;
    SSL *local_30;
    X509_STORE *local_2c;
    X509 *local_28;
    BIO *local_24;
    SSL_CTX *local_20;
    int local_1c;
    undefined *local_18;
    undefined1 local_11;

    local_11 = 0;
    local_18 = &DAT_0006bd98;
    sVar1 = strlen(
        "-----BEGIN "
        "CERTIFICATE-----"
        "\nMIIC7zCCAdcCFFbqE9PJlIVF9gfzurkXzS6t7SPIMA0GCSqGSIb3DQEBCwUAMDQx\nCz"
        "AJBgNVBAYTAlNHMRMwEQYDVQQIDApTb21lLVN0YXRlMRAwDgYDVQQKDAdBTlRQ\nT09MMB"
        "4XDTI0MDgzMDAyNDAwMloXDTM0MDgyODAyNDAwMlowNDELMAkGA1UEBhMC\nU0cxEzARBg"
        "NVBAgMClNvbWUtU3RhdGUxEDAOBgNVBAoMB0FOVFBPT0wwggEiMA0G\nCSqGSIb3DQEBAQ"
        "UAA4IBDwAwggEKAoIBAQCeWq27wElC20BA1ro6WSp/"
        "vQkVMJvK\ndOPkWjARKZcz+SE3ruEGo/x/"
        "Wqt3uBfzzKlGuae4nbEfBEj1yNl6bCA847RNurV4\nt7c4n7pK969hGXi9P77ckBlG69xM"
        "Kvk4hfDvpJBWxHD9GF7Zi2ntfxkH7lsFiLwK\nSaMtvdVIBDY6lOIPfKMdmYeJxbl5wWtX"
        "lXSF2cYvLcZa4s6TsT2ead8lLEy7jVR2\n4MPAbc+EdPlFIH96hSvJjGSO+"
        "27RqiiUwGzA8BSZTa7yXjypGuIhizsjPqQSc7rN\nqKr+0Cebblw7X0UxDvr/"
        "0LQSZTQj2lF9MZ1O7MyTq6sCQLTIehuUdZj5AgMBAAEw\nDQYJKoZIhvcNAQELBQADggEB"
        "AE7SpQFMU8fXKQUKmhYn+"
        "LbSLyYUJcYBFfyjicZt\nH6FjmzTqaHApzjj013kwMfKQ5ymWAyDSnf9fwZUTh8jzw9UaR"
        "XfvkSkw1OBY3WzH\nROJb6MA4nOaahPDvVxoCV/"
        "Ypvky17BH0Vkt+p7gs+58dDDRAVg6C5iSueYXHUmAs\n6vxAKX1XnkIkTakxjJAx1h+"
        "i1FCCsuWrO1wwZLgivXnmltcVRxkPkrz7k+"
        "XsKfa7\n70HDg1PN1fL6L5pFQhb3NfVonYaVZAbsxMjnXVFGbsTrnc+"
        "1IfJ5rTBAbK67Sa2r\nuAJMOjhJj0foq2v9TmSVqCjpK++9ToviWuf+8/C7Kc/"
        "EJEk=\n-----END CERTIFICATE-----\n");
    local_1c = sVar1 + 1;
    OPENSSL_init_ssl(0, 0, 0);
    OPENSSL_init_crypto(0xc, 0, 0);
    OPENSSL_init_ssl(0x200002, 0, 0);
    meth = (SSL_METHOD *)TLS_client_method();
    local_20 = SSL_CTX_new(meth);
    type = BIO_s_mem();
    local_24 = BIO_new(type);
    BIO_write(local_24, local_18, local_1c);
    local_28 = PEM_read_bio_X509(local_24, (X509 **)0x0, (undefined1 *)0x0,
                                 (void *)0x0);
    if (local_28 == (X509 *)0x0) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            builtin_strncpy(local_85c, "unable to parse ", 0x10);
            local_84c._0_1_ = 'c';
            local_84c._1_1_ = 'e';
            local_84c._2_1_ = 'r';
            local_84c._3_1_ = 't';
            builtin_strncpy(acStack_848, "ificate ", 8);
            local_840._0_1_ = 'i';
            local_840._1_1_ = 'n';
            local_840._2_1_ = ' ';
            local_840._3_1_ = 'm';
            builtin_strncpy(local_83c, "emor", 4);
            local_838 = 0xa79;
            local_836 = 0;
            FUN_0001e4ec(3, local_85c, 0);
        }
        BIO_free(local_24);
    } else {
        local_2c = SSL_CTX_get_cert_store(local_20);
        X509_STORE_add_cert(local_2c, local_28);
        BIO_free(local_24);
        local_30 = SSL_new(local_20);
        SSL_set_fd(local_30, *(int *)(param_1 + 0x24c));
        local_34 = SSL_connect(local_30);
        if (local_34 == 1) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (5 < DAT_0008697c)) {
                c = SSL_get_current_cipher(local_30);
                pcVar3 = SSL_CIPHER_get_name(c);
                snprintf(local_85c, 0x800, "Connected with %s encryption\n",
                         pcVar3);
                FUN_0001e4ec(6, local_85c, 0);
            }
            local_38 = SSL_get_verify_result(local_30);
            if (((local_38 == 0) || (local_38 == 9)) || (local_38 == 10)) {
                local_3c = SSL_get_peer_certificate(local_30);
                if (local_3c != (X509 *)0x0) {
                    uVar4 = *(undefined4 *)(param_1 + 0x240);
                    sVar1 = strlen(*(char **)(param_1 + 0x240));
                    iVar2 = X509_check_host(local_3c, uVar4, sVar1, 0, 0);
                    if (iVar2 == 1) {
                        *(SSL_CTX **)(param_1 + 600) = local_20;
                        *(SSL **)(param_1 + 0x254) = local_30;
                        *(X509 **)(param_1 + 0x25c) = local_28;
                        return 1;
                    }
                }
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (2 < DAT_0008697c)) {
                    builtin_strncpy(local_85c, "cert check fail\n", 0x10);
                    local_84c = local_84c & 0xffffff00;
                    FUN_0001e4ec(3, local_85c, 0);
                }
                SSL_shutdown(local_30);
            } else {
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (2 < DAT_0008697c)) {
                    pcVar3 = X509_verify_cert_error_string(local_38);
                    snprintf(local_85c, 0x800, "Verify return code: %ld (%s)\n",
                             local_38, pcVar3);
                    FUN_0001e4ec(3, local_85c, 0);
                }
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (2 < DAT_0008697c)) {
                    builtin_strncpy(local_85c, "cert of pool is ", 0x10);
                    local_84c._0_1_ = 'v';
                    local_84c._1_1_ = 'e';
                    local_84c._2_1_ = 'r';
                    local_84c._3_1_ = 'i';
                    builtin_strncpy(acStack_848, "fy fail\n", 8);
                    local_840 = local_840 & 0xffffff00;
                    FUN_0001e4ec(3, local_85c, 0);
                }
                SSL_shutdown(local_30);
            }
        } else {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                snprintf(local_85c, 0x800,
                         "unable to connect pool by ssl, connect ret %d\n",
                         local_34);
                FUN_0001e4ec(3, local_85c, 0);
            }
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                iVar2 = SSL_get_error(local_30, local_34);
                snprintf(local_85c, 0x800,
                         "SSL error #%d in accept,program terminated\n", iVar2);
                FUN_0001e4ec(3, local_85c, 0);
            }
        }
        X509_free(local_28);
        SSL_CTX_free(local_20);
        SSL_free(local_30);
    }
    return 0;
}

undefined4 FUN_0002916c(int param_1)

{
    char cVar1;
    int iVar2;
    undefined4 uVar3;
    fd_set fStack_8dc;
    char local_85c[12];
    undefined4 local_850;
    undefined4 local_84c;
    char acStack_848[4];
    undefined4 local_844;
    undefined2 local_840;
    int local_5c[2];
    timeval local_54;
    addrinfo aStack_4c;
    addrinfo *local_2c;
    int local_28;
    int local_24;
    fd_set *local_20;
    uint local_1c;
    int local_18;
    char *local_14;
    char *local_10;
    addrinfo *local_c;

    local_18 = 0;
    FUN_0001fd4c(param_1 + 0x2d0, "util.c", "setup_stratum_socket", 0xc1d);
    *(undefined1 *)(param_1 + 0x291) = 0;
    if (*(int *)(param_1 + 0x24c) != 0) {
        if ((*(char *)(param_1 + 0x250) != '\0') &&
            (*(int *)(param_1 + 0x254) != 0)) {
            SSL_shutdown(*(SSL **)(param_1 + 0x254));
            X509_free(*(X509 **)(param_1 + 0x25c));
            SSL_CTX_free(*(SSL_CTX **)(param_1 + 600));
            SSL_free(*(SSL **)(param_1 + 0x254));
        }
        close(*(int *)(param_1 + 0x24c));
    }
    *(undefined4 *)(param_1 + 0x24c) = 0;
    FUN_0001fe7c(param_1 + 0x2d0, "util.c", "setup_stratum_socket", 0xc2f);
    memset(&aStack_4c, 0, 0x20);
    aStack_4c.ai_family = 0;
    aStack_4c.ai_socktype = 1;
    if ((*(int *)(param_1 + 0xb8) == 0) && (DAT_00087e94 != 0)) {
        *(int *)(param_1 + 0xb8) = DAT_00087e94;
        FUN_00022720(*(undefined4 *)(param_1 + 0xb8), param_1 + 0x26c,
                     param_1 + 0x270);
        *(undefined4 *)(param_1 + 0xb4) = 3;
    }
    if (*(int *)(param_1 + 0xb8) == 0) {
        local_10 = *(char **)(param_1 + 0x268);
        local_14 = *(char **)(param_1 + 0x248);
    } else {
        local_10 = *(char **)(param_1 + 0x26c);
        local_14 = *(char **)(param_1 + 0x270);
    }
    iVar2 = getaddrinfo(local_10, local_14, &aStack_4c, &local_2c);
    if (iVar2 == 0) {
        for (local_c = local_2c; local_c != (addrinfo *)0x0;
             local_c = local_c->ai_next) {
            local_18 = socket(local_c->ai_family, local_c->ai_socktype,
                              local_c->ai_protocol);
            if (local_18 == -1) {
                if ((DAT_00087768 != '\0') &&
                    (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                      (6 < DAT_0008697c)))) {
                    builtin_strncpy(local_85c, "Failed socke", 0xc);
                    local_850._0_2_ = 0x74;
                    FUN_0001e4ec(7, local_85c, 0);
                }
            } else {
                FUN_00028ac8(local_18);
                iVar2 =
                    connect(local_18, local_c->ai_addr, local_c->ai_addrlen);
                if (iVar2 != -1) {
                    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                        (3 < DAT_0008697c)) {
                        builtin_strncpy(local_85c, "Succeeded im", 0xc);
                        local_850._0_1_ = 'm';
                        local_850._1_1_ = 'e';
                        local_850._2_1_ = 'd';
                        local_850._3_1_ = 'i';
                        local_84c._0_1_ = 'a';
                        local_84c._1_1_ = 't';
                        local_84c._2_1_ = 'e';
                        local_84c._3_1_ = ' ';
                        builtin_strncpy(acStack_848, "conn", 4);
                        local_844._0_1_ = 'e';
                        local_844._1_1_ = 'c';
                        local_844._2_1_ = 't';
                        local_844._3_1_ = '\0';
                        FUN_0001e4ec(4, local_85c, 0);
                    }
                    FUN_00028b0c(local_18);
                    break;
                }
                local_54.tv_sec = 1;
                local_54.tv_usec = 0;
                cVar1 = FUN_00028b50();
                if (cVar1 == '\x01') {
                    do {
                        local_20 = &fStack_8dc;
                        for (local_1c = 0; local_1c < 0x20;
                             local_1c = local_1c + 1) {
                            fStack_8dc.fds_bits[local_1c] = 0;
                        }
                        iVar2 = local_18 + 0x1f;
                        if (-1 < local_18) {
                            iVar2 = local_18;
                        }
                        fStack_8dc.fds_bits[iVar2 >> 5] =
                            fStack_8dc.fds_bits[iVar2 >> 5] |
                            1 << (local_18 % 0x20 & 0xffU);
                        local_24 =
                            select(local_18 + 1, (fd_set *)0x0, &fStack_8dc,
                                   (fd_set *)0x0, &local_54);
                        if (0 < local_24) {
                            iVar2 = local_18 + 0x1f;
                            if (-1 < local_18) {
                                iVar2 = local_18;
                            }
                            if ((fStack_8dc.fds_bits[iVar2 >> 5] >>
                                     (local_18 % 0x20 & 0xffU) &
                                 1U) != 0) {
                                local_5c[1] = 4;
                                local_28 =
                                    getsockopt(local_18, 1, 4, local_5c,
                                               (socklen_t *)(local_5c + 1));
                                if ((local_28 == 0) && (local_5c[0] == 0)) {
                                    if ((DAT_00087768 != '\0') &&
                                        (((DAT_00091f58 != '\0' ||
                                           (DAT_00087769 != '\0')) ||
                                          (6 < DAT_0008697c)))) {
                                        builtin_strncpy(local_85c,
                                                        "Succeeded de", 0xc);
                                        local_850._0_1_ = 'l';
                                        local_850._1_1_ = 'a';
                                        local_850._2_1_ = 'y';
                                        local_850._3_1_ = 'e';
                                        local_84c._0_1_ = 'd';
                                        local_84c._1_1_ = ' ';
                                        local_84c._2_1_ = 'c';
                                        local_84c._3_1_ = 'o';
                                        builtin_strncpy(acStack_848, "nnec", 4);
                                        local_844._0_2_ = 0x74;
                                        FUN_0001e4ec(7, local_85c, 0);
                                    }
                                    FUN_00028b0c(local_18);
                                    goto LAB_000299ec;
                                }
                            }
                        }
                    } while ((local_24 < 0) &&
                             (iVar2 = FUN_0001fb6c(), iVar2 != 0));
                    close(local_18);
                    if ((DAT_00087768 != '\0') &&
                        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                          (6 < DAT_0008697c)))) {
                        builtin_strncpy(local_85c, "Select timeo", 0xc);
                        local_850._0_1_ = 'u';
                        local_850._1_1_ = 't';
                        local_850._2_1_ = '/';
                        local_850._3_1_ = 'f';
                        local_84c._0_1_ = 'a';
                        local_84c._1_1_ = 'i';
                        local_84c._2_1_ = 'l';
                        local_84c._3_1_ = 'e';
                        builtin_strncpy(acStack_848, "d co", 4);
                        local_844._0_1_ = 'n';
                        local_844._1_1_ = 'n';
                        local_844._2_1_ = 'e';
                        local_844._3_1_ = 'c';
                        local_840 = 0x74;
                        FUN_0001e4ec(7, local_85c, 0);
                    }
                } else {
                    close(local_18);
                    if ((DAT_00087768 != '\0') &&
                        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                          (6 < DAT_0008697c)))) {
                        builtin_strncpy(local_85c, "Failed sock ", 0xc);
                        local_850._0_1_ = 'c';
                        local_850._1_1_ = 'o';
                        local_850._2_1_ = 'n';
                        local_850._3_1_ = 'n';
                        local_84c._0_1_ = 'e';
                        local_84c._1_1_ = 'c';
                        local_84c._2_1_ = 't';
                        local_84c._3_1_ = '\0';
                        FUN_0001e4ec(7, local_85c, 0);
                    }
                }
            }
        }
    LAB_000299ec:
        if (local_c == (addrinfo *)0x0) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (5 < DAT_0008697c)) {
                snprintf(local_85c, 0x800,
                         "Failed to connect to stratum on %s:%s", local_10,
                         local_14);
                FUN_0001e4ec(6, local_85c, 0);
            }
            freeaddrinfo(local_2c);
            uVar3 = 0;
        } else {
            freeaddrinfo(local_2c);
            if (*(int *)(param_1 + 0xb8) != 0) {
                switch (*(undefined4 *)(param_1 + 0xb4)) {
                case 0:
                    cVar1 = FUN_00027a8c(param_1, local_18, 0);
                    if (cVar1 != '\x01') {
                        return 0;
                    }
                    break;
                case 1:
                    cVar1 = FUN_00027a8c(param_1, local_18, 1);
                    if (cVar1 != '\x01') {
                        return 0;
                    }
                    break;
                case 2:
                    cVar1 = FUN_000286d0(param_1, local_18, 0);
                    if (cVar1 != '\x01') {
                        return 0;
                    }
                    break;
                case 3:
                case 5:
                    cVar1 = FUN_00028188(param_1, local_18);
                    if (cVar1 != '\x01') {
                        return 0;
                    }
                    break;
                case 4:
                    cVar1 = FUN_000286d0(param_1, local_18, 1);
                    if (cVar1 != '\x01') {
                        return 0;
                    }
                    break;
                default:
                    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                        (3 < DAT_0008697c)) {
                        snprintf(local_85c, 0x800,
                                 "Unsupported proxy type for %s:%s",
                                 *(undefined4 *)(param_1 + 0x26c),
                                 *(undefined4 *)(param_1 + 0x270));
                        FUN_0001e4ec(4, local_85c, 0);
                    }
                    return 0;
                }
            }
            if (*(int *)(param_1 + 0x260) == 0) {
                uVar3 = FUN_000202d4(0x2000, 1, "util.c",
                                     "setup_stratum_socket", 0xcb9);
                *(undefined4 *)(param_1 + 0x260) = uVar3;
                *(undefined4 *)(param_1 + 0x264) = 0x2000;
            }
            *(int *)(param_1 + 0x24c) = local_18;
            if (*(char *)(param_1 + 0x250) != '\0') {
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (4 < DAT_0008697c)) {
                    builtin_strncpy(local_85c, "start ssl co", 0xc);
                    local_850._0_1_ = 'n';
                    local_850._1_1_ = 'n';
                    local_850._2_1_ = 'e';
                    local_850._3_1_ = 'c';
                    local_84c._0_3_ = 0xa74;
                    FUN_0001e4ec(5, local_85c, 0);
                }
                cVar1 = FUN_00028b7c(param_1);
                if (cVar1 != '\x01') {
                    close(local_18);
                    *(undefined4 *)(param_1 + 0x24c) = 0;
                    return 0;
                }
            }
            FUN_000200e8(local_18);
            uVar3 = 1;
        }
    } else {
        if (*(char *)(param_1 + 99) == '\x01') {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (5 < DAT_0008697c)) {
                snprintf(local_85c, 0x800, "Failed to getaddrinfo for %s:%s",
                         local_10, local_14);
                FUN_0001e4ec(6, local_85c, 0);
            }
        } else {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (3 < DAT_0008697c)) {
                snprintf(local_85c, 0x800,
                         "Failed to resolve (?wrong URL) %s:%s", local_10,
                         local_14);
                FUN_0001e4ec(4, local_85c, 0);
            }
            *(undefined1 *)(param_1 + 99) = 1;
        }
        __res_init();
        uVar3 = 0;
    }
    return uVar3;
}

undefined4 FUN_00029d9c(undefined4 param_1)

{
    bool bVar1;
    int *piVar2;
    int iVar3;
    int *piVar4;
    char *__s1;
    int iVar5;
    undefined4 uVar6;
    int local_10;

    piVar2 = (int *)FUN_00066b80(param_1, 0);
    if (((piVar2 != (int *)0x0) && (piVar2 != (int *)0x0)) && (*piVar2 == 1)) {
        iVar3 = FUN_00066b34(piVar2);
        for (local_10 = 0; local_10 < iVar3; local_10 = local_10 + 1) {
            piVar4 = (int *)FUN_00066b80(piVar2, local_10);
            if ((piVar4 == (int *)0x0) || (*piVar4 != 1)) {
                bVar1 = true;
            } else {
                bVar1 = false;
            }
            if (piVar4 == (int *)0x0 || bVar1) {
                return 0;
            }
            __s1 = (char *)FUN_00023b88(piVar4, 0);
            if ((__s1 != (char *)0x0) &&
                (iVar5 = strncasecmp(__s1, "mining.notify", 0xd), iVar5 == 0)) {
                uVar6 = FUN_00023c50(piVar4, 1);
                return uVar6;
            }
        }
    }
    return 0;
}

void FUN_00029ef4(undefined4 *param_1)

{
    char acStack_808[2048];

    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (5 < DAT_0008697c)) {
        snprintf(acStack_808, 0x800, "Closing socket for stratum pool %d",
                 *param_1);
        FUN_0001e4ec(6, acStack_808, 0);
    }
    FUN_0001fd4c(param_1 + 0xb4, "util.c", "suspend_stratum", 0xcf1);
    FUN_00026254(param_1);
    FUN_0001fe7c(param_1 + 0xb4, "util.c", "suspend_stratum", 0xcf3);
    return;
}

char FUN_00029fcc(undefined4 *param_1)

{
    char cVar1;
    undefined4 uVar2;
    size_t sVar3;
    int iVar4;
    char local_2918[36];
    uint local_28f4;
    char acStack_28f0[8];
    undefined2 local_28e8;
    undefined1 local_28e6;
    char acStack_201c[8192];
    undefined4 local_1c;
    void *local_18;
    char local_14;
    char local_13;
    char local_12;
    char local_11;

    local_11 = '\0';
    local_12 = '\0';
    local_13 = '\0';
    local_14 = '\0';
    local_18 = (void *)0x0;
    local_1c = 0;
    while (true) {
        cVar1 = FUN_0002916c(param_1);
        iVar4 = DAT_00091f84;
        if (cVar1 == '\x01') {
            local_14 = '\x01';
            if (DAT_00086c3e != '\0') {
                DAT_00091f84 = DAT_00091f84 + 1;
                uVar2 = FUN_0001fbe0(0xe0ff1f);
                sprintf(
                    acStack_201c,
                    "{\"id\":%d, \"method\":\"mining.configure\", "
                    "\"params\":[[\"version-rolling\"],{\"version-rolling."
                    "mask\":\"%08x\",\"version-rolling.min-bit-count\":%d}]}",
                    iVar4, uVar2, 0x10);
                param_1[0xa6] = 1;
            }
            sVar3 = strlen(acStack_201c);
            iVar4 = FUN_000229a4(param_1, acStack_201c, sVar3);
            if (iVar4 == 0) {
                cVar1 = FUN_00023060(param_1, 0x3c);
                if (cVar1 == '\x01') {
                    local_18 = (void *)FUN_00023428(param_1);
                    if (local_18 != (void *)0x0) {
                        local_12 = '\x01';
                        FUN_00025764(param_1, local_18);
                        free(local_18);
                        local_11 = '\x01';
                    }
                } else if ((DAT_00087768 != '\0') &&
                           (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                             (6 < DAT_0008697c)))) {
                    builtin_strncpy(local_2918,
                                    "Timed out waiting for response in in",
                                    0x24);
                    local_28f4._0_1_ = 'i';
                    local_28f4._1_1_ = 't';
                    local_28f4._2_1_ = 'i';
                    local_28f4._3_1_ = 'a';
                    builtin_strncpy(acStack_28f0, "te_strat", 8);
                    local_28e8 = 0x6d75;
                    local_28e6 = 0;
                    FUN_0001e4ec(7, local_2918, 0);
                }
            } else if ((DAT_00087768 != '\0') &&
                       (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                         (6 < DAT_0008697c)))) {
                builtin_strncpy(local_2918,
                                "Failed to send s in initiate_stratum", 0x24);
                local_28f4 = local_28f4 & 0xffffff00;
                FUN_0001e4ec(7, local_2918, 0);
            }
        } else {
            local_14 = '\0';
        }
        if (local_11 != '\0')
            break;
        if ((local_12 == '\0') || (local_13 == '\x01')) {
            if ((DAT_00087768 != '\0') &&
                (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                  (6 < DAT_0008697c)))) {
                builtin_strncpy(local_2918, "Initiate stratum failed", 0x18);
                FUN_0001e4ec(7, local_2918, 0);
            }
            if (local_14 != '\0') {
                FUN_00029ef4(param_1);
            }
            return local_11;
        }
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            builtin_strncpy(local_2918, "Failed to resume stratum, trying afr",
                            0x24);
            local_28f4._0_1_ = 'e';
            local_28f4._1_1_ = 's';
            local_28f4._2_1_ = 'h';
            local_28f4._3_1_ = '\0';
            FUN_0001e4ec(7, local_2918, 0);
        }
        local_13 = '\x01';
    }
    if (param_1[0x90] == 0) {
        param_1[0x90] = param_1[0x9a];
    }
    *(undefined1 *)((int)param_1 + 0x291) = 1;
    if (DAT_00092090 == '\0') {
        return local_11;
    }
    if (DAT_00087768 == '\0') {
        return local_11;
    }
    if (((DAT_00091f58 == '\0') && (DAT_00087769 == '\0')) &&
        (DAT_0008697c < 7)) {
        return local_11;
    }
    snprintf(
        local_2918, 0x800,
        "Pool %d confirmed mining.subscribe with extranonce1 %s extran2size %d",
        *param_1, param_1[0x9d], param_1[0xa2]);
    FUN_0001e4ec(7, local_2918, 0);
    return local_11;
}

char FUN_0002a5c4(undefined4 *param_1)

{
    char cVar1;
    size_t sVar2;
    int iVar3;
    undefined4 uVar4;
    char local_292c[36];
    uint local_2908;
    char acStack_2904[4];
    undefined4 local_2900;
    undefined2 local_28fc;
    undefined1 local_28fa;
    undefined4 local_212c[23];
    undefined1 auStack_20d0[160];
    char acStack_2030[8192];
    int local_30;
    char *local_2c;
    char *local_28;
    int *local_24;
    int *local_20;
    void *local_1c;
    char local_15;
    char *local_14;
    int local_10;
    char local_b;
    char local_a;
    char local_9;

    local_9 = '\0';
    local_a = '\0';
    local_b = '\0';
    local_15 = '\0';
    local_1c = (void *)0x0;
    local_10 = 0;
    while (true) {
        if (local_a == '\0') {
            FUN_0002320c(param_1);
            iVar3 = DAT_00091f84;
            if (param_1[0xa3] == 0) {
                DAT_00091f84 = DAT_00091f84 + 1;
                sprintf(acStack_2030,
                        "{\"id\": %d, \"method\": \"mining.subscribe\", "
                        "\"params\": [\"%s/%s\"]}",
                        iVar3, &DAT_00087d48, &DAT_00087c48);
            } else {
                DAT_00091f84 = DAT_00091f84 + 1;
                sprintf(acStack_2030,
                        "{\"id\": %d, \"method\": \"mining.subscribe\", "
                        "\"params\": [\"%s/%s\", \"%s\"]}",
                        iVar3, &DAT_00087d48, &DAT_00087c48, param_1[0xa3]);
            }
        } else {
            FUN_0002320c(param_1);
            DAT_00091f84 = DAT_00091f84 + 1;
            sprintf(acStack_2030, "{\"id\": %d, \"method\": "
                                  "\"mining.subscribe\", \"params\": []}");
        }
        sVar2 = strlen(acStack_2030);
        iVar3 = FUN_000229a4(param_1, acStack_2030, sVar2);
        if (iVar3 == 0) {
            cVar1 = FUN_00023060(param_1, 0x3c);
            if (cVar1 == '\x01') {
                local_1c = (void *)FUN_00023428(param_1);
                if (local_1c != (void *)0x0) {
                    local_a = '\x01';
                    local_10 = FUN_00064704(local_1c, 0, local_212c);
                    free(local_1c);
                    if (local_10 == 0) {
                        if (((DAT_00091f58 != '\0') ||
                             (DAT_00087769 != '\0')) ||
                            (5 < DAT_0008697c)) {
                            snprintf(local_292c, 0x800,
                                     "JSON decode failed(%d): %s",
                                     local_212c[0], auStack_20d0);
                            FUN_0001e4ec(6, local_292c, 0);
                        }
                    } else {
                        local_20 = (int *)FUN_00065fec(local_10, "result");
                        local_24 = (int *)FUN_00065fec(local_10, "error");
                        if (((local_20 == (int *)0x0) ||
                             ((local_20 != (int *)0x0 && (*local_20 == 7)))) ||
                            ((local_24 != (int *)0x0 &&
                              ((local_24 == (int *)0x0 ||
                                (*local_24 != 7)))))) {
                            if (local_24 == (int *)0x0) {
                                local_14 = strdup("(unknown reason)");
                            } else {
                                local_14 = (char *)FUN_000605a4(local_24, 3);
                            }
                            if (((DAT_00091f58 != '\0') ||
                                 (DAT_00087769 != '\0')) ||
                                (5 < DAT_0008697c)) {
                                snprintf(local_292c, 0x800,
                                         "JSON-RPC decode failed: %s",
                                         local_14);
                                FUN_0001e4ec(6, local_292c, 0);
                            }
                            free(local_14);
                        } else {
                            local_28 = (char *)FUN_00029d9c(local_20);
                            if (((local_28 == (char *)0x0) &&
                                 (DAT_00087768 != '\0')) &&
                                ((DAT_00091f58 != '\0' ||
                                  ((DAT_00087769 != '\0' ||
                                    (6 < DAT_0008697c)))))) {
                                builtin_strncpy(
                                    local_292c,
                                    "Failed to get sessionid in initiate_",
                                    0x24);
                                local_2908._0_1_ = 's';
                                local_2908._1_1_ = 't';
                                local_2908._2_1_ = 'r';
                                local_2908._3_1_ = 'a';
                                builtin_strncpy(acStack_2904, "tum", 4);
                                FUN_0001e4ec(7, local_292c, 0);
                            }
                            local_2c = (char *)FUN_00023c50(local_20, 1);
                            cVar1 = FUN_00020a38(local_2c, "util.c",
                                                 "initiate_stratum", 0xd9d);
                            if (cVar1 == '\x01') {
                                uVar4 = FUN_00066b80(local_20, 2);
                                local_30 = FUN_00067c98(uVar4);
                                if ((local_30 < 2) || (0x10 < local_30)) {
                                    if ((DAT_00091f58 != '\0') ||
                                        ((DAT_00087769 != '\0' ||
                                          (5 < DAT_0008697c)))) {
                                        builtin_strncpy(local_292c,
                                                        "Failed to get valid "
                                                        "n2size in initia",
                                                        0x24);
                                        local_2908._0_1_ = 't';
                                        local_2908._1_1_ = 'e';
                                        local_2908._2_1_ = '_';
                                        local_2908._3_1_ = 's';
                                        builtin_strncpy(acStack_2904, "trat",
                                                        4);
                                        local_2900._0_3_ = 0x6d75;
                                        FUN_0001e4ec(6, local_292c, 0);
                                    }
                                    free(local_28);
                                    free(local_2c);
                                } else {
                                    if ((((local_28 != (char *)0x0) &&
                                          (param_1[0xa3] != 0)) &&
                                         (iVar3 = strcmp(local_28,
                                                         (char *)param_1[0xa3]),
                                          iVar3 == 0)) &&
                                        (((DAT_00091f58 != '\0' ||
                                           (DAT_00087769 != '\0')) ||
                                          (4 < DAT_0008697c)))) {
                                        snprintf(
                                            local_292c, 0x800,
                                            "Pool %d successfully negotiated "
                                            "resume with the same session ID",
                                            *param_1);
                                        FUN_0001e4ec(5, local_292c, 0);
                                    }
                                    FUN_0002002c(param_1 + 0x35, "util.c",
                                                 "initiate_stratum", 0xdb1);
                                    free((void *)param_1[0x9d]);
                                    free((void *)param_1[0xa3]);
                                    param_1[0xa3] = local_28;
                                    param_1[0x9d] = local_2c;
                                    sVar2 = strlen(local_2c);
                                    param_1[0x18b] = sVar2 >> 1;
                                    free((void *)param_1[0x9e]);
                                    uVar4 = FUN_000202d4(
                                        param_1[0x18b], 1, "util.c",
                                        "initiate_stratum", 0xdb8);
                                    param_1[0x9e] = uVar4;
                                    FUN_000207e8(param_1[0x9e], param_1[0x9d],
                                                 param_1[0x18b]);
                                    param_1[0xa2] = local_30;
                                    FUN_0002007c(param_1 + 0x35, "util.c",
                                                 "initiate_stratum", 0xdbb);
                                    if (((local_28 != (char *)0x0) &&
                                         (DAT_00087768 != '\0')) &&
                                        ((DAT_00091f58 != '\0' ||
                                          ((DAT_00087769 != '\0' ||
                                            (6 < DAT_0008697c)))))) {
                                        snprintf(
                                            local_292c, 0x800,
                                            "Pool %d stratum session id: %s",
                                            *param_1, param_1[0xa3]);
                                        FUN_0001e4ec(7, local_292c, 0);
                                    }
                                    local_9 = '\x01';
                                }
                            } else {
                                if (((DAT_00091f58 != '\0') ||
                                     (DAT_00087769 != '\0')) ||
                                    (5 < DAT_0008697c)) {
                                    builtin_strncpy(
                                        local_292c,
                                        "Failed to get valid nonce1 in initia",
                                        0x24);
                                    local_2908._0_1_ = 't';
                                    local_2908._1_1_ = 'e';
                                    local_2908._2_1_ = '_';
                                    local_2908._3_1_ = 's';
                                    builtin_strncpy(acStack_2904, "trat", 4);
                                    local_2900._0_3_ = 0x6d75;
                                    FUN_0001e4ec(6, local_292c, 0);
                                }
                                free(local_28);
                            }
                        }
                    }
                }
            } else if ((DAT_00087768 != '\0') &&
                       (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                         (6 < DAT_0008697c)))) {
                builtin_strncpy(local_292c,
                                "Timed out waiting for response in in", 0x24);
                local_2908._0_1_ = 'i';
                local_2908._1_1_ = 't';
                local_2908._2_1_ = 'i';
                local_2908._3_1_ = 'a';
                builtin_strncpy(acStack_2904, "te_s", 4);
                local_2900._0_1_ = 't';
                local_2900._1_1_ = 'r';
                local_2900._2_1_ = 'a';
                local_2900._3_1_ = 't';
                local_28fc = 0x6d75;
                local_28fa = 0;
                FUN_0001e4ec(7, local_292c, 0);
            }
        } else if ((DAT_00087768 != '\0') &&
                   (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                     (6 < DAT_0008697c)))) {
            builtin_strncpy(local_292c, "Failed to send s in initiate_stratum",
                            0x24);
            local_2908 = local_2908 & 0xffffff00;
            FUN_0001e4ec(7, local_292c, 0);
        }
        if (local_9 != '\0')
            break;
        if ((local_a == '\0') || (local_b == '\x01')) {
            if ((DAT_00087768 != '\0') &&
                (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                  (6 < DAT_0008697c)))) {
                builtin_strncpy(local_292c, "Initiate stratum failed", 0x18);
                FUN_0001e4ec(7, local_292c, 0);
            }
            if (local_15 != '\0') {
                FUN_00029ef4(param_1);
            }
        LAB_0002b498:
            FUN_0001f948(local_10);
            return local_9;
        }
        FUN_0002002c(param_1 + 0x35, "util.c", "initiate_stratum", 0xdd7);
        free((void *)param_1[0xa3]);
        free((void *)param_1[0x9d]);
        param_1[0x9d] = 0;
        param_1[0xa3] = param_1[0x9d];
        FUN_0002007c(param_1 + 0x35, "util.c", "initiate_stratum", 0xddb);
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            builtin_strncpy(local_292c, "Failed to resume stratum, trying afr",
                            0x24);
            local_2908._0_1_ = 'e';
            local_2908._1_1_ = 's';
            local_2908._2_1_ = 'h';
            local_2908._3_1_ = '\0';
            FUN_0001e4ec(7, local_292c, 0);
        }
        local_b = '\x01';
        FUN_0001f948(local_10);
    }
    if (param_1[0x90] == 0) {
        param_1[0x90] = param_1[0x9a];
    }
    *(undefined1 *)((int)param_1 + 0x291) = 1;
    param_1[0x1ca] = 0;
    param_1[0x1cb] = 0;
    param_1[0x1cc] = 0;
    param_1[0x1cd] = 0x3ff00000;
    if (((DAT_00092090 != '\0') && (DAT_00087768 != '\0')) &&
        ((DAT_00091f58 != '\0' ||
          ((DAT_00087769 != '\0' || (6 < DAT_0008697c)))))) {
        snprintf(local_292c, 0x800,
                 "Pool %d confirmed mining.subscribe with extranonce1 %s "
                 "extran2size %d",
                 *param_1, param_1[0x9d], param_1[0xa2]);
        FUN_0001e4ec(7, local_292c, 0);
    }
    goto LAB_0002b498;
}

char FUN_0002b4b0(int param_1)

{
    char cVar1;
    char local_9;

    local_9 = '\0';
    if (*(char *)(param_1 + 0x291) != '\0') {
        FUN_00029ef4(param_1);
    }
    cVar1 = FUN_00029fcc(param_1);
    if ((((cVar1 == '\x01') &&
          (cVar1 = FUN_0002a5c4(param_1), cVar1 == '\x01')) &&
         ((*(char *)(param_1 + 0x244) == '\0' ||
           (cVar1 = FUN_00027060(param_1), cVar1 == '\x01')))) &&
        (cVar1 = FUN_00027614(param_1), cVar1 == '\x01')) {
        local_9 = '\x01';
    }
    if (local_9 == '\x01') {
        FUN_0003f5b4(param_1);
    } else {
        FUN_00035934(param_1);
    }
    return local_9;
}

time_t FUN_0002b5b0(int param_1, undefined4 param_2)

{
    time_t tVar1;

    tVar1 = time((time_t *)0x0);
    *(time_t *)(param_1 + 0xf4) = tVar1;
    *(undefined4 *)(param_1 + 0xf8) = param_2;
    switch (param_2) {
    case 0:
        *(int *)(param_1 + 0xfc) = *(int *)(param_1 + 0xfc) + 1;
        break;
    case 1:
        *(int *)(param_1 + 0x100) = *(int *)(param_1 + 0x100) + 1;
        break;
    case 2:
        *(int *)(param_1 + 0x104) = *(int *)(param_1 + 0x104) + 1;
        break;
    case 3:
        *(int *)(param_1 + 0x108) = *(int *)(param_1 + 0x108) + 1;
        break;
    case 4:
        *(int *)(param_1 + 0x10c) = *(int *)(param_1 + 0x10c) + 1;
        break;
    case 5:
        *(int *)(param_1 + 0x110) = *(int *)(param_1 + 0x110) + 1;
        break;
    case 6:
        *(int *)(param_1 + 0x114) = *(int *)(param_1 + 0x114) + 1;
        break;
    case 7:
        *(int *)(param_1 + 0x118) = *(int *)(param_1 + 0x118) + 1;
        break;
    case 8:
        *(int *)(param_1 + 0x11c) = *(int *)(param_1 + 0x11c) + 1;
        break;
    case 9:
        *(int *)(param_1 + 0x120) = *(int *)(param_1 + 0x120) + 1;
    }
    return tVar1;
}

char *FUN_0002b714(char *param_1, char *param_2)

{
    size_t local_14;
    char *local_10;
    size_t local_c;

    local_c = 0;
    local_14 = strlen(param_2);
    local_10 = param_1;
    if (local_14 != 0) {
        if (param_1 != (char *)0x0) {
            local_c = strlen(param_1);
        }
        local_14 = local_14 + local_c + 1;
        FUN_0001fb98(&local_14);
        local_10 =
            (char *)FUN_00020210(local_14, "util.c", "realloc_strcat", 0xe39);
        if (param_1 == (char *)0x0) {
            strcpy(local_10, param_2);
        } else {
            sprintf(local_10, "%s%s", param_1, param_2);
            free(param_1);
        }
    }
    return local_10;
}

byte *FUN_0002b7f8(byte *param_1)

{
    byte bVar1;
    size_t sVar2;
    char acStack_814[2048];
    byte *local_14;
    byte *local_10;
    byte *local_c;

    if (param_1 == (byte *)0x0) {
        local_14 = (byte *)strdup("(null)");
        if (local_14 == (byte *)0x0) {
            snprintf(acStack_814, 0x800, "Failed to malloc null in %s %s():%d",
                     "util.c", "str_text", 0xe52);
            FUN_0001e4ec(3, acStack_814, 1);
            FUN_0004bfb0(1);
        }
    }
    local_c = param_1;
    sVar2 = strlen((char *)param_1);
    local_14 = (byte *)FUN_00020210(sVar2 * 4 + 5, "util.c", "str_text", 0xe57);
    local_10 = local_14;
    do {
        if ((*local_c < 0x20) || (0x7e < *local_c)) {
            sprintf((char *)local_10, "0x%02x", (uint)*local_c);
            local_10 = local_10 + 4;
        } else {
            *local_10 = *local_c;
            local_10 = local_10 + 1;
        }
        bVar1 = *local_c;
        local_c = local_c + 1;
    } while (bVar1 != 0);
    *local_10 = 0;
    return local_14;
}

void FUN_0002b968(undefined4 param_1)

{
    char acStack_18[16];

    snprintf(acStack_18, 0x10, "cg@%s", param_1);
    prctl(0xf, acStack_18, 0, 0, 0);
    return;
}

void FUN_0002b9b4(sem_t *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    int *piVar1;
    char acStack_80c[2048];
    int local_c;

    local_c = sem_init(param_1, 0, 0);
    if (local_c != 0) {
        piVar1 = __errno_location();
        snprintf(acStack_80c, 0x800,
                 "Failed to sem_init ret=%d errno=%d in %s %s():%d", local_c,
                 *piVar1, param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_80c, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0002ba68(sem_t *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = sem_post(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "Failed to sem_post errno=%d cgsem=0x%p in %s %s():%d",
                 *piVar2, param_1, param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0002bb08(sem_t *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    do {
        iVar1 = sem_wait(param_1);
        if (iVar1 == 0) {
            return;
        }
        iVar1 = FUN_0001fb6c();
    } while (iVar1 != 0);
    piVar2 = __errno_location();
    snprintf(acStack_808, 0x800,
             "Failed to sem_wait errno=%d cgsem=0x%p in %s %s():%d", *piVar2,
             param_1, param_2, param_3, param_4);
    FUN_0001e4ec(3, acStack_808, 1);
    FUN_0004bfb0(1);
    return;
}

undefined4 FUN_0002bbbc(sem_t *param_1, int param_2, undefined4 param_3,
                        undefined4 param_4, undefined4 param_5)

{
    int iVar1;
    int *piVar2;
    char acStack_824[2048];
    undefined1 auStack_24[8];
    undefined1 auStack_1c[8];
    timespec tStack_14;
    int local_c;

    FUN_00022308(auStack_24);
    FUN_00021d40(auStack_1c, auStack_24);
    FUN_00021e3c(&tStack_14, &tStack_14, param_2, param_2 >> 0x1f);
    while (true) {
        FUN_00021fa4(&tStack_14, auStack_1c);
        local_c = sem_timedwait(param_1, &tStack_14);
        if (local_c == 0) {
            return 0;
        }
        iVar1 = FUN_0001fb40();
        if (iVar1 != 0)
            break;
        iVar1 = FUN_0001fb6c();
        if (iVar1 == 0) {
            piVar2 = __errno_location();
            snprintf(
                acStack_824, 0x800,
                "Failed to sem_timedwait errno=%d cgsem=0x%p in %s %s():%d",
                *piVar2, param_1, param_3, param_4, param_5);
            FUN_0001e4ec(3, acStack_824, 1);
            FUN_0004bfb0(1);
            return 0;
        }
    }
    return 0x6e;
}

void FUN_0002bcf0(sem_t *param_1)

{
    int iVar1;
    undefined4 local_c;

    do {
        local_c = sem_trywait(param_1);
        if ((local_c < 0) && (iVar1 = FUN_0001fb6c(), iVar1 != 0)) {
            local_c = 0;
        }
    } while (local_c == 0);
    return;
}

void FUN_0002bd44(sem_t *param_1)

{
    sem_destroy(param_1);
    return;
}

undefined4 FUN_0002bd64(int param_1)

{
    pthread_setcanceltype(1, (int *)0x0);
    (**(code **)(param_1 + 0x10))(*(undefined4 *)(param_1 + 0x14));
    FUN_0002ba68(param_1, "util.c", "completion_thread", 0xf39);
    return 0;
}

bool FUN_0002bdcc(undefined4 param_1, undefined4 param_2, undefined4 param_3)

{
    int iVar1;
    bool bVar2;
    pthread_t local_14;
    void *local_10;
    char local_9;

    local_9 = 0;
    local_10 =
        (void *)FUN_00020210(0x18, "util.c", "cg_completion_timeout", 0xf44);
    FUN_0002b9b4(local_10, "util.c", "cg_completion_timeout", 0xf45);
    *(undefined4 *)((int)local_10 + 0x10) = param_1;
    *(undefined4 *)((int)local_10 + 0x14) = param_2;
    pthread_create(&local_14, (pthread_attr_t *)0x0, FUN_0002bd64, local_10);
    iVar1 = FUN_0002bbbc(local_10, param_3, "util.c", "cg_completion_timeout",
                         0xf4b);
    bVar2 = iVar1 != 0;
    if (bVar2) {
        iVar1 = 1;
    }
    local_9 = (char)iVar1;
    if (!bVar2) {
        local_9 = '\0';
    }
    if (local_9 == '\x01') {
        pthread_cancel(local_14);
    } else {
        pthread_join(local_14, (void **)0x0);
        free(local_10);
    }
    return local_9 == '\0';
}

void FUN_0002befc(void *param_1, void *param_2, uint param_3,
                  undefined4 param_4, undefined4 param_5, undefined4 param_6)

{
    char acStack_808[2048];

    if ((param_3 == 0) || (0x80000000 < param_3)) {
        if ((DAT_00091f58 != '\0') ||
            ((DAT_00087769 != '\0' || (2 < DAT_0008697c)))) {
            snprintf(acStack_808, 0x800,
                     "ERR: Asked to memcpy %u bytes from %s %s():%d", param_3,
                     param_4, param_5, param_6);
            FUN_0001e4ec(3, acStack_808, 0);
        }
    } else if (param_1 == (void *)0x0) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            snprintf(acStack_808, 0x800,
                     "ERR: Asked to memcpy %u bytes to NULL from %s %s():%d",
                     param_3, param_4, param_5, param_6);
            FUN_0001e4ec(3, acStack_808, 0);
        }
    } else if (param_2 == (void *)0x0) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            snprintf(acStack_808, 0x800,
                     "ERR: Asked to memcpy %u bytes from NULL from %s %s():%d",
                     param_3, param_4, param_5, param_6);
            FUN_0001e4ec(3, acStack_808, 0);
        }
    } else {
        memcpy(param_1, param_2, param_3);
    }
    return;
}

void FUN_0002c208(int param_1, int param_2)

{
    undefined1 uVar1;
    undefined4 local_10;
    undefined4 local_c;

    local_10 = param_2 - 1;
    for (local_c = 0; local_c < local_10; local_c = local_c + 1) {
        uVar1 = *(undefined1 *)(param_1 + local_c);
        *(undefined1 *)(param_1 + local_c) =
            *(undefined1 *)(param_1 + local_10);
        *(undefined1 *)(param_1 + local_10) = uVar1;
        local_10 = local_10 - 1;
    }
    return;
}

undefined4 FUN_0002c2b0(undefined4 param_1, byte param_2)

{
    undefined4 uVar1;

    switch (param_1) {
    case 1:
        uVar1 = 1;
        break;
    case 2:
        if ((param_2 & 0x80) == 0x80) {
            uVar1 = 2;
        } else {
            uVar1 = 1;
        }
        break;
    default:
        uVar1 = 0;
        break;
    case 4:
        param_2 = param_2 & 0xc0;
        if (param_2 == 0x80) {
            uVar1 = 3;
        } else if (param_2 == 0xc0) {
            uVar1 = 4;
        } else if (param_2 == 0x40) {
            uVar1 = 2;
        } else {
            uVar1 = 1;
        }
        break;
    case 8:
        param_2 = param_2 & 0xe0;
        if (param_2 == 0x80) {
            uVar1 = 5;
        } else {
            if (param_2 < 0x81) {
                if (param_2 == 0x40) {
                    return 3;
                }
                if (param_2 == 0x60) {
                    return 4;
                }
                if (param_2 == 0x20) {
                    return 2;
                }
            } else {
                if (param_2 == 0xc0) {
                    return 7;
                }
                if (param_2 == 0xe0) {
                    return 8;
                }
                if (param_2 == 0xa0) {
                    return 6;
                }
            }
            uVar1 = 1;
        }
        break;
    case 0x10:
        param_2 = param_2 & 0xf0;
        if (param_2 == 0x80) {
            uVar1 = 9;
        } else {
            if (param_2 < 0x81) {
                if (param_2 == 0x40) {
                    return 5;
                }
                if (param_2 < 0x41) {
                    if (param_2 == 0x20) {
                        return 3;
                    }
                    if (param_2 == 0x30) {
                        return 4;
                    }
                    if (param_2 == 0x10) {
                        return 2;
                    }
                } else {
                    if (param_2 == 0x60) {
                        return 7;
                    }
                    if (param_2 == 0x70) {
                        return 8;
                    }
                    if (param_2 == 0x50) {
                        return 6;
                    }
                }
            } else {
                if (param_2 == 0xc0) {
                    return 0xd;
                }
                if (param_2 < 0xc1) {
                    if (param_2 == 0xa0) {
                        return 0xb;
                    }
                    if (param_2 == 0xb0) {
                        return 0xc;
                    }
                    if (param_2 == 0x90) {
                        return 10;
                    }
                } else {
                    if (param_2 == 0xe0) {
                        return 0xf;
                    }
                    if (param_2 == 0xf0) {
                        return 0x10;
                    }
                    if (param_2 == 0xd0) {
                        return 0xe;
                    }
                }
            }
            uVar1 = 1;
        }
        break;
    case 0x20:
        switch (param_2 & 0xf8) {
        case 8:
            uVar1 = 2;
            break;
        case 0x10:
            uVar1 = 3;
            break;
        case 0x18:
            uVar1 = 4;
            break;
        case 0x20:
            uVar1 = 5;
            break;
        case 0x28:
            uVar1 = 6;
            break;
        case 0x30:
            uVar1 = 7;
            break;
        case 0x38:
            uVar1 = 8;
            break;
        case 0x40:
            uVar1 = 9;
            break;
        case 0x48:
            uVar1 = 10;
            break;
        case 0x50:
            uVar1 = 0xb;
            break;
        case 0x58:
            uVar1 = 0xc;
            break;
        case 0x60:
            uVar1 = 0xd;
            break;
        case 0x68:
            uVar1 = 0xe;
            break;
        case 0x70:
            uVar1 = 0xf;
            break;
        case 0x78:
            uVar1 = 0x10;
            break;
        case 0x80:
            uVar1 = 0x11;
            break;
        case 0x88:
            uVar1 = 0x12;
            break;
        case 0x90:
            uVar1 = 0x13;
            break;
        case 0x98:
            uVar1 = 0x14;
            break;
        case 0xa0:
            uVar1 = 0x15;
            break;
        case 0xa8:
            uVar1 = 0x16;
            break;
        case 0xb0:
            uVar1 = 0x17;
            break;
        case 0xb8:
            uVar1 = 0x18;
            break;
        case 0xc0:
            uVar1 = 0x19;
            break;
        case 200:
            uVar1 = 0x1a;
            break;
        case 0xd0:
            uVar1 = 0x1b;
            break;
        case 0xd8:
            uVar1 = 0x1c;
            break;
        case 0xe0:
            uVar1 = 0x1d;
            break;
        case 0xe8:
            uVar1 = 0x1e;
            break;
        case 0xf0:
            uVar1 = 0x1f;
            break;
        case 0xf8:
            uVar1 = 0x20;
            break;
        default:
            uVar1 = 1;
        }
        break;
    case 0x40:
        switch (param_2 & 0xfc) {
        case 4:
            uVar1 = 2;
            break;
        case 8:
            uVar1 = 3;
            break;
        case 0xc:
            uVar1 = 4;
            break;
        case 0x10:
            uVar1 = 5;
            break;
        case 0x14:
            uVar1 = 6;
            break;
        case 0x18:
            uVar1 = 7;
            break;
        case 0x1c:
            uVar1 = 8;
            break;
        case 0x20:
            uVar1 = 9;
            break;
        case 0x24:
            uVar1 = 10;
            break;
        case 0x28:
            uVar1 = 0xb;
            break;
        case 0x2c:
            uVar1 = 0xc;
            break;
        case 0x30:
            uVar1 = 0xd;
            break;
        case 0x34:
            uVar1 = 0xe;
            break;
        case 0x38:
            uVar1 = 0xf;
            break;
        case 0x3c:
            uVar1 = 0x10;
            break;
        case 0x40:
            uVar1 = 0x11;
            break;
        case 0x44:
            uVar1 = 0x12;
            break;
        case 0x48:
            uVar1 = 0x13;
            break;
        case 0x4c:
            uVar1 = 0x14;
            break;
        case 0x50:
            uVar1 = 0x15;
            break;
        case 0x54:
            uVar1 = 0x16;
            break;
        case 0x58:
            uVar1 = 0x17;
            break;
        case 0x5c:
            uVar1 = 0x18;
            break;
        case 0x60:
            uVar1 = 0x19;
            break;
        case 100:
            uVar1 = 0x1a;
            break;
        case 0x68:
            uVar1 = 0x1b;
            break;
        case 0x6c:
            uVar1 = 0x1c;
            break;
        case 0x70:
            uVar1 = 0x1d;
            break;
        case 0x74:
            uVar1 = 0x1e;
            break;
        case 0x78:
            uVar1 = 0x1f;
            break;
        case 0x7c:
            uVar1 = 0x20;
            break;
        case 0x80:
            uVar1 = 0x21;
            break;
        case 0x84:
            uVar1 = 0x22;
            break;
        case 0x88:
            uVar1 = 0x23;
            break;
        case 0x8c:
            uVar1 = 0x24;
            break;
        case 0x90:
            uVar1 = 0x25;
            break;
        case 0x94:
            uVar1 = 0x26;
            break;
        case 0x98:
            uVar1 = 0x27;
            break;
        case 0x9c:
            uVar1 = 0x28;
            break;
        case 0xa0:
            uVar1 = 0x29;
            break;
        case 0xa4:
            uVar1 = 0x2a;
            break;
        case 0xa8:
            uVar1 = 0x2b;
            break;
        case 0xac:
            uVar1 = 0x2c;
            break;
        case 0xb0:
            uVar1 = 0x2d;
            break;
        case 0xb4:
            uVar1 = 0x2e;
            break;
        case 0xb8:
            uVar1 = 0x2f;
            break;
        case 0xbc:
            uVar1 = 0x30;
            break;
        case 0xc0:
            uVar1 = 0x31;
            break;
        case 0xc4:
            uVar1 = 0x32;
            break;
        case 200:
            uVar1 = 0x33;
            break;
        case 0xcc:
            uVar1 = 0x34;
            break;
        case 0xd0:
            uVar1 = 0x35;
            break;
        case 0xd4:
            uVar1 = 0x36;
            break;
        case 0xd8:
            uVar1 = 0x37;
            break;
        case 0xdc:
            uVar1 = 0x38;
            break;
        case 0xe0:
            uVar1 = 0x39;
            break;
        case 0xe4:
            uVar1 = 0x3a;
            break;
        case 0xe8:
            uVar1 = 0x3b;
            break;
        case 0xec:
            uVar1 = 0x3c;
            break;
        case 0xf0:
            uVar1 = 0x3d;
            break;
        case 0xf4:
            uVar1 = 0x3e;
            break;
        case 0xf8:
            uVar1 = 0x3f;
            break;
        case 0xfc:
            uVar1 = 0x40;
            break;
        default:
            uVar1 = 1;
        }
    }
    return uVar1;
}

void FUN_0002d0ec(int param_1, undefined1 *param_2, char param_3)

{
    uint uVar1;
    byte bVar2;
    int iVar3;
    size_t sVar4;
    undefined4 uVar5;
    undefined4 local_ca8;
    undefined4 local_ca4;
    undefined4 local_ca0;
    undefined4 local_c9c;
    undefined4 local_c98;
    undefined4 local_c94;
    undefined4 local_c90;
    undefined4 local_c8c;
    undefined4 local_c88;
    undefined4 local_c84;
    undefined4 local_c80;
    undefined4 local_c7c;
    undefined4 local_c78;
    undefined4 local_c74;
    undefined4 local_c70;
    undefined4 local_c6c;
    undefined4 local_c68;
    undefined4 local_c64;
    undefined4 local_c60;
    undefined4 local_c5c;
    undefined4 local_c58;
    undefined4 local_c54;
    undefined4 local_c50;
    undefined4 local_c4c;
    char acStack_c48[1024];
    char acStack_848[2048];
    undefined8 local_48;
    int local_3c;
    void *local_38;
    void *local_34;
    void *local_30;
    void *local_2c;
    void *local_28;
    void *local_24;
    uint local_20;
    uint uStack_1c;
    int local_14;

    if (DAT_00087ab8 != (char *)0x0) {
        memset(acStack_c48, 0, 0x400);
        local_c88 = 0;
        local_c84 = 0;
        local_c80 = 0;
        local_c7c = 0;
        local_c78 = 0;
        local_c74 = 0;
        local_c70 = 0;
        local_c6c = 0;
        local_c68 = 0;
        local_c64 = 0;
        local_c60 = 0;
        local_c5c = 0;
        local_c58 = 0;
        local_c54 = 0;
        local_c50 = 0;
        local_c4c = 0;
        local_24 = (void *)0x0;
        local_28 = (void *)0x0;
        local_2c = (void *)0x0;
        local_30 = (void *)0x0;
        local_34 = (void *)0x0;
        local_38 = (void *)0x0;
        local_3c = 0;
        local_48 = 0;
        local_ca8 = *(undefined4 *)(param_1 + 0x80);
        local_ca4 = *(undefined4 *)(param_1 + 0x84);
        local_ca0 = *(undefined4 *)(param_1 + 0x88);
        local_c9c = *(undefined4 *)(param_1 + 0x8c);
        local_c98 = *(undefined4 *)(param_1 + 0x90);
        local_c94 = *(undefined4 *)(param_1 + 0x94);
        local_c90 = *(undefined4 *)(param_1 + 0x98);
        local_c8c = *(undefined4 *)(param_1 + 0x9c);
        memcpy(&local_c88, (void *)(param_1 + 0x40), 0xc);
        local_c68 = *(undefined4 *)(param_1 + 0xc0);
        local_c64 = *(undefined4 *)(param_1 + 0xc4);
        local_c60 = *(undefined4 *)(param_1 + 200);
        local_c5c = *(undefined4 *)(param_1 + 0xcc);
        local_c58 = *(undefined4 *)(param_1 + 0xd0);
        local_c54 = *(undefined4 *)(param_1 + 0xd4);
        local_c50 = *(undefined4 *)(param_1 + 0xd8);
        local_c4c = *(undefined4 *)(param_1 + 0xdc);
        FUN_0002c208(&local_ca8, 0x20);
        FUN_0002c208(&local_c88, 0xc);
        FUN_0002c208(&local_c68, 0x20);
        local_24 = (void *)FUN_00020744(param_1, 0x80);
        local_28 = (void *)FUN_00020744(&local_ca8, 0x20);
        local_2c = (void *)FUN_00020744(&local_c88, 0xc);
        local_30 = (void *)FUN_00020744(param_2, 4);
        local_34 = (void *)FUN_00020744(param_2, 5);
        local_38 = (void *)FUN_00020744(&local_c68, 0x20);
        local_48 = FUN_00036274(param_1);
        uVar5 = (undefined4)((ulonglong)local_48 >> 0x20);
        if (param_3 == '\0') {
            uVar1 = 0xc90c;
        } else {
            uVar1 = 0xc908;
        }
        sprintf(acStack_c48,
                "%s %08x midstate %s data %s nonce %s hash %s diff %lld",
                uVar1 | 0x60000, *(undefined4 *)(param_1 + 0x154), local_28,
                local_2c, local_34, local_38, (int)local_48, uVar5);
        iVar3 = strcmp(DAT_00087ab8, "screen");
        if (iVar3 == 0) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                snprintf(acStack_848, 0x800, acStack_c48);
                FUN_0001e4ec(3, acStack_848, 0);
            }
        } else {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                snprintf(acStack_848, 0x800, acStack_c48);
                FUN_0001e4ec(3, acStack_848, 0);
            }
            if (DAT_00087898 != (FILE *)0x0) {
                if (param_3 == '\0') {
                    uVar1 = 0xc90c;
                } else {
                    uVar1 = 0xc908;
                }
                sprintf(acStack_c48,
                        "%s %08x work %s midstate %s data %s nonce %s hash %s "
                        "diff %lld",
                        uVar1 | 0x60000, *(undefined4 *)(param_1 + 0x154),
                        local_24, local_28, local_2c, local_34, local_38, uVar5,
                        (uint)local_48, local_48._4_4_);
                sVar4 = strlen(acStack_c48);
                fwrite(acStack_c48, sVar4, 1, DAT_00087898);
                fwrite(&DAT_0006b0ec, 1, 1, DAT_00087898);
                fflush(DAT_00087898);
                if (param_3 != '\0') {
                    if (DAT_00087aa4 == 1) {
                        sprintf(acStack_c48,
                                "midstate %s data %s nonce %s hash %s",
                                local_28, local_2c, local_30, local_38);
                        sVar4 = strlen(acStack_c48);
                        fwrite(acStack_c48, sVar4, 1, DAT_0008789c);
                        fwrite(&DAT_0006b0ec, 1, 1, DAT_0008789c);
                        fflush(DAT_0008789c);
                    } else if ((DAT_00087aa4 == 0x20) ||
                               (DAT_00087aa4 == 0x40)) {
                        sprintf(acStack_c48,
                                "midstate %s data %s nonce %s hash %s",
                                local_28, local_2c, local_30, local_38);
                        local_3c = FUN_0002c2b0(DAT_00087aa4, *param_2);
                        sVar4 = strlen(acStack_c48);
                        fwrite(acStack_c48, sVar4, 1,
                               (&DAT_0008789c)[local_3c]);
                        fwrite(&DAT_0006b0ec, 1, 1, (&DAT_0008789c)[local_3c]);
                        fflush((&DAT_0008789c)[local_3c]);
                    }
                    if (DAT_00087ac0 != '\0') {
                        local_14 = 0;
                        local_20 = (uint)local_48;
                        uStack_1c = local_48._4_4_;
                        do {
                            bVar2 = (byte)uStack_1c;
                            uStack_1c = uStack_1c >> 1;
                            local_20 =
                                (uint)(bVar2 & 1) << 0x1f | local_20 >> 1;
                            if (local_20 == 0 && uStack_1c == 0)
                                break;
                            local_14 = local_14 + 1;
                        } while (local_14 < 0x40);
                        if ((DAT_00087768 != '\0') &&
                            (((DAT_00091f58 != '\0' ||
                               (DAT_00087769 != '\0')) ||
                              (6 < DAT_0008697c)))) {
                            snprintf(acStack_848, 0x800,
                                     "work diff %lld diffnum %d", acStack_848,
                                     (uint)local_48, local_48._4_4_, local_14);
                            FUN_0001e4ec(7, acStack_848, 0);
                        }
                        sprintf(acStack_c48,
                                "midstate %s data %s nonce %s hash %s",
                                local_28, local_2c, local_30, local_38);
                        sVar4 = strlen(acStack_c48);
                        fwrite(acStack_c48, sVar4, 1,
                               *(FILE **)(&DAT_000879a0 + local_14 * 4));
                        fwrite(&DAT_0006b0ec, 1, 1,
                               *(FILE **)(&DAT_000879a0 + local_14 * 4));
                        fflush(*(FILE **)(&DAT_000879a0 + local_14 * 4));
                    }
                }
            }
        }
        if (local_24 != (void *)0x0) {
            free(local_24);
        }
        if (local_28 != (void *)0x0) {
            free(local_28);
        }
        if (local_2c != (void *)0x0) {
            free(local_2c);
        }
        if (local_30 != (void *)0x0) {
            free(local_30);
        }
        if (local_34 != (void *)0x0) {
            free(local_34);
        }
        if (local_38 != (void *)0x0) {
            free(local_38);
        }
    }
    return;
}

void FUN_0002da94(undefined4 param_1, undefined4 param_2, undefined1 param_3)

{
    undefined4 local_18;
    undefined4 local_14;
    undefined4 local_10;
    undefined1 local_c;

    if (DAT_00087ab8 != 0) {
        local_10 = 0;
        local_c = 0;
        local_18 = param_2;
        local_14 = param_1;
        memcpy(&local_10, &local_18, 4);
        FUN_0002d0ec(local_14, &local_10, param_3);
    }
    return;
}

void FUN_0002ddcc(int param_1, int param_2, uint param_3)

{
    undefined4 uVar1;
    undefined4 local_14;

    for (local_14 = 0; local_14 < param_3 >> 2; local_14 = local_14 + 1) {
        uVar1 = FUN_0001fbe0(*(undefined4 *)(param_2 + local_14 * 4));
        *(undefined4 *)(param_1 + local_14 * 4) = uVar1;
    }
    return;
}

uint FUN_0002de60(uint param_1)

{
    return param_1 << 0x18 | (param_1 >> 8 & 0xff) << 0x10 |
           (param_1 >> 0x10 & 0xff) << 8 | param_1 >> 0x18;
}

void FUN_0002de88(int param_1)

{
    bool bVar1;
    int iVar2;
    int *piVar3;

    if ((param_1 != 0) && (*(int *)(param_1 + 4) != -1)) {
        piVar3 = (int *)(param_1 + 4);
        DataMemoryBarrier(0xf);
        do {
            iVar2 = *piVar3;
            bVar1 = (bool)hasExclusiveAccess(piVar3);
        } while (!bVar1);
        *piVar3 = iVar2 + -1;
        if (iVar2 + -1 == 0) {
            FUN_000680f0(param_1);
        }
    }
    return;
}

void FUN_0002deec(int *param_1, int param_2)

{
    *(int **)(param_2 + 4) = param_1;
    *param_1 = param_2;
    return;
}

void FUN_0002df24(undefined4 *param_1)

{
    FUN_0002deec(param_1[1], *param_1);
    *param_1 = 0;
    param_1[1] = 0;
    return;
}

uint FUN_0002df70(uint param_1)

{
    return param_1 << 0x18 | (param_1 >> 8 & 0xff) << 0x10 |
           (param_1 >> 0x10 & 0xff) << 8 | param_1 >> 0x18;
}

void FUN_0002df98(undefined4 *param_1, undefined4 *param_2)

{
    *param_1 = param_2[7];
    param_1[1] = param_2[6];
    param_1[2] = param_2[5];
    param_1[3] = param_2[4];
    param_1[4] = param_2[3];
    param_1[5] = param_2[2];
    param_1[6] = param_2[1];
    param_1[7] = *param_2;
    return;
}

void FUN_0002e064(undefined4 *param_1, undefined4 *param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_0002df70(param_2[7]);
    *param_1 = uVar1;
    uVar1 = FUN_0002df70(param_2[6]);
    param_1[1] = uVar1;
    uVar1 = FUN_0002df70(param_2[5]);
    param_1[2] = uVar1;
    uVar1 = FUN_0002df70(param_2[4]);
    param_1[3] = uVar1;
    uVar1 = FUN_0002df70(param_2[3]);
    param_1[4] = uVar1;
    uVar1 = FUN_0002df70(param_2[2]);
    param_1[5] = uVar1;
    uVar1 = FUN_0002df70(param_2[1]);
    param_1[6] = uVar1;
    uVar1 = FUN_0002df70(*param_2);
    param_1[7] = uVar1;
    return;
}

void FUN_0002e1a8(int param_1, int param_2)

{
    undefined4 uVar1;
    undefined4 local_14;

    for (local_14 = 0; local_14 < 8; local_14 = local_14 + 1) {
        uVar1 = FUN_0002df70(*(undefined4 *)(param_2 + local_14 * 4));
        *(undefined4 *)(param_1 + local_14 * 4) = uVar1;
    }
    return;
}

void FUN_0002e22c(int param_1, int param_2)

{
    undefined4 uVar1;
    undefined4 local_14;

    for (local_14 = 0; local_14 < 0x10; local_14 = local_14 + 1) {
        uVar1 = FUN_0002df70(*(undefined4 *)(param_2 + local_14 * 4));
        *(undefined4 *)(param_1 + local_14 * 4) = uVar1;
    }
    return;
}

void FUN_0002e2b0(int param_1, int param_2)

{
    undefined4 uVar1;
    undefined4 local_14;

    for (local_14 = 0; local_14 < 0x14; local_14 = local_14 + 1) {
        uVar1 = FUN_0002df70(*(undefined4 *)(param_2 + local_14 * 4));
        *(undefined4 *)(param_1 + local_14 * 4) = uVar1;
    }
    return;
}

void FUN_0002e334(void)

{
    return;
}

void FUN_0002e354(pthread_mutex_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_mutex_lock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0002e3ec(pthread_mutex_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_mutex_unlock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0002e484(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0002e3ec(param_1, param_2, param_3, param_4);
    (*DAT_00086aa0)();
    return;
}

void FUN_0002e4cc(pthread_rwlock_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_rwlock_wrlock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF WRLOCK ERROR ON LOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

int FUN_0002e564(pthread_rwlock_t *param_1)

{
    int iVar1;

    iVar1 = pthread_rwlock_trywrlock(param_1);
    return iVar1;
}

void FUN_0002e59c(pthread_rwlock_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_rwlock_rdlock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF RDLOCK ERROR ON LOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0002e634(pthread_rwlock_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_rwlock_unlock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0002e6cc(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0002e634(param_1, param_2, param_3, param_4);
    return;
}

void FUN_0002e704(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0002e634(param_1, param_2, param_3, param_4);
    (*DAT_00086aa0)();
    return;
}

void FUN_0002e74c(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0002e634(param_1, param_2, param_3, param_4);
    (*DAT_00086aa0)();
    return;
}

void FUN_0002e794(pthread_mutex_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_mutex_init(param_1, (pthread_mutexattr_t *)0x0);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "Failed to pthread_mutex_init errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0002e830(pthread_rwlock_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_rwlock_init(param_1, (pthread_rwlockattr_t *)0x0);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "Failed to pthread_rwlock_init errno=%d in %s %s():%d",
                 *piVar2, param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0002e8cc(int param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0002e794(param_1, param_2, param_3, param_4);
    FUN_0002e830(param_1 + 0x18, param_2, param_3, param_4);
    return;
}

void FUN_0002e91c(int param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0002e354(param_1, param_2, param_3, param_4);
    FUN_0002e59c(param_1 + 0x18, param_2, param_3, param_4);
    FUN_0002e3ec(param_1, param_2, param_3, param_4);
    return;
}

void FUN_0002e980(int param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0002e354(param_1, param_2, param_3, param_4);
    FUN_0002e4cc(param_1 + 0x18, param_2, param_3, param_4);
    return;
}

void FUN_0002e9d0(int param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0002e6cc(param_1 + 0x18, param_2, param_3, param_4);
    FUN_0002e59c(param_1 + 0x18, param_2, param_3, param_4);
    FUN_0002e3ec(param_1, param_2, param_3, param_4);
    return;
}

void FUN_0002ea38(int param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0002e704(param_1 + 0x18, param_2, param_3, param_4);
    return;
}

void FUN_0002ea74(int param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0002e6cc(param_1 + 0x18, param_2, param_3, param_4);
    FUN_0002e484(param_1, param_2, param_3, param_4);
    return;
}

undefined4 FUN_0002eac4(int param_1, int param_2)

{
    undefined4 uVar1;

    if (*(int *)(param_1 + 8) < *(int *)(param_2 + 8)) {
        uVar1 = 1;
    } else if ((*(int *)(param_1 + 8) == *(int *)(param_2 + 8)) &&
               (*(int *)(param_1 + 4) < *(int *)(param_2 + 4))) {
        uVar1 = 1;
    } else {
        uVar1 = 0;
    }
    return uVar1;
}

undefined4 FUN_0002eb44(void)

{
    char cVar1;
    int iVar2;
    undefined4 uVar3;
    time_t local_18;
    time_t local_14[2];
    tm *local_c;

    if ((DAT_000951f8 == '\x01') || (DAT_000940f8 == '\x01')) {
        FUN_00022308(local_14);
        local_18 = local_14[0];
        local_c = localtime(&local_18);
        if (DAT_000951f8 == '\0') {
            cVar1 = FUN_0002eac4(local_c, &DAT_000940fc);
            if (cVar1 == '\x01') {
                uVar3 = 1;
            } else {
                uVar3 = 0;
            }
        } else if (DAT_000940f8 == '\x01') {
            iVar2 = FUN_0002eac4(&DAT_000951fc, &DAT_000940fc);
            if (iVar2 == 0) {
                iVar2 = FUN_0002eac4(local_c, &DAT_000951fc);
                if (iVar2 == 0) {
                    uVar3 = 1;
                } else {
                    iVar2 = FUN_0002eac4(local_c, &DAT_000940fc);
                    if (iVar2 == 0) {
                        uVar3 = 0;
                    } else {
                        uVar3 = 1;
                    }
                }
            } else {
                iVar2 = FUN_0002eac4(local_c, &DAT_000940fc);
                if ((iVar2 == 0) ||
                    (cVar1 = FUN_0002eac4(local_c, &DAT_000951fc),
                     cVar1 == '\x01')) {
                    uVar3 = 0;
                } else {
                    uVar3 = 1;
                }
            }
        } else {
            iVar2 = FUN_0002eac4(local_c, &DAT_000951fc);
            if (iVar2 == 0) {
                DAT_000951f8 = '\0';
                uVar3 = 1;
            } else {
                uVar3 = 0;
            }
        }
    } else {
        uVar3 = 1;
    }
    return uVar3;
}

void FUN_0002ed04(char *param_1, size_t param_2, time_t *param_3)

{
    time_t local_1c;
    tm *local_18;
    int local_14;

    local_1c = *param_3;
    local_14 = param_3[1] / 1000;
    local_18 = localtime(&local_1c);
    snprintf(param_1, param_2, "[%d-%02d-%02d %02d:%02d:%02d.%03d]",
             local_18->tm_year + 0x76c, local_18->tm_mon + 1, local_18->tm_mday,
             local_18->tm_hour, local_18->tm_min, local_18->tm_sec, local_14);
    return;
}

void FUN_0002edd0(char *param_1, size_t param_2, time_t *param_3)

{
    time_t local_14;
    tm *local_10;
    int local_c;

    local_14 = *param_3;
    local_c = param_3[1] / 1000;
    local_10 = localtime(&local_14);
    snprintf(param_1, param_2, "[%02d:%02d:%02d.%03d]", local_10->tm_hour,
             local_10->tm_min, local_10->tm_sec, local_c);
    return;
}

void FUN_0002ee70(char *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    undefined4 uStack_c;
    undefined4 uStack_8;
    undefined4 uStack_4;

    uStack_c = param_2;
    uStack_8 = param_3;
    uStack_4 = param_4;
    vsnprintf(&DAT_0008814c, 0x200, param_1, &uStack_c);
    FUN_0001e4ec(3, &DAT_0008814c, 1);
    /* WARNING: Subroutine does not return */
    exit(1);
}

undefined4 FUN_0002eebc(int param_1)

{
    return *(undefined4 *)(DAT_000930e8 + param_1 * 4);
}

undefined4 FUN_0002eef8(undefined4 param_1)

{
    undefined4 uVar1;

    FUN_0002e59c(&DAT_00094158, "cgminer.c", "get_thread", 0x268);
    uVar1 = FUN_0002eebc(param_1);
    FUN_0002e704(&DAT_00094158, "cgminer.c", "get_thread", 0x26a);
    return uVar1;
}

undefined4 FUN_0002ef64(undefined4 param_1)

{
    int iVar1;

    iVar1 = FUN_0002eef8(param_1);
    return *(undefined4 *)(iVar1 + 0x24);
}

undefined4 FUN_0002ef94(int param_1)

{
    undefined4 uVar1;

    FUN_0002e59c(&DAT_00094188, "cgminer.c", "get_devices", 0x27c);
    uVar1 = *(undefined4 *)(DAT_00094130 + param_1 * 4);
    FUN_0002e704(&DAT_00094188, "cgminer.c", "get_devices", 0x27e);
    return uVar1;
}

void FUN_0002f014(undefined4 param_1, int param_2)

{
    char local_c2c[20];
    undefined2 local_c18;
    char acStack_42c[1023];
    undefined1 local_2d;
    size_t local_2c;
    size_t local_28;
    void *local_24;
    void *local_20;
    void *local_1c;
    undefined4 local_18;
    int local_14;
    int local_10;
    undefined4 local_c;

    if (DAT_00088364 != (FILE *)0x0) {
        local_c = *(undefined4 *)(param_2 + 0x100);
        local_10 = FUN_0002ef64(local_c);
        local_14 = *(int *)(param_2 + 0x104);
        local_18 = *(undefined4 *)(param_2 + 0x1b0);
        local_1c = (void *)FUN_00020744(param_2 + 0xa0, 0x20);
        local_20 = (void *)FUN_00020744(param_2 + 0xc0, 0x20);
        local_24 = (void *)FUN_00020744(param_2, 0x80);
        local_28 = snprintf(
            acStack_42c, 0x400, "%lu,%s,%s,%s,%s%u,%u,%s,%s\n", local_18,
            param_1, local_1c, *(undefined4 *)(local_14 + 0xa4),
            *(undefined4 *)(*(int *)(local_10 + 4) + 8),
            *(undefined4 *)(local_10 + 8), local_c, local_20, local_24);
        free(local_1c);
        free(local_20);
        free(local_24);
        if ((int)local_28 < 0x400) {
            if ((int)local_28 < 0) {
                if (((DAT_00091f58 == '\0') && (DAT_00087769 == '\0')) &&
                    (DAT_0008697c < 3)) {
                    return;
                }
                builtin_strncpy(local_c2c, "sharelog printf erro", 0x14);
                local_c18 = 0x72;
                FUN_0001e4ec(3, local_c2c, 0);
                return;
            }
        } else {
            local_2d = 0;
        }
        FUN_0002e354(&DAT_0008834c, "cgminer.c", "sharelog", 0x2ac);
        local_2c = fwrite(acStack_42c, local_28, 1, DAT_00088364);
        fflush(DAT_00088364);
        FUN_0002e484(&DAT_0008834c, "cgminer.c", "sharelog", 0x2af);
        if ((local_2c != 1) &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (2 < DAT_0008697c)))) {
            builtin_strncpy(local_c2c, "sharelog fwrite erro", 0x14);
            local_c18 = 0x72;
            FUN_0001e4ec(3, local_c2c, 0);
        }
    }
    return;
}

void FUN_0002f314(void)

{
    undefined4 uVar1;
    int extraout_r1;
    char acStack_81c[2048];
    uint local_1c;
    int local_18;
    int local_14;
    uint local_10;
    uint local_c;

    local_10 = 0xffffffff;
    for (local_14 = 0; local_14 < DAT_00092028; local_14 = local_14 + 1) {
        local_18 = *(int *)(DAT_000920cc + local_14 * 4);
        local_1c = *(uint *)(local_18 + 0x38);
        if ((local_1c != 0) && (local_1c < local_10)) {
            local_10 = local_1c;
        }
    }
    if (local_10 == 0xffffffff) {
        local_c = 1;
    } else {
        local_c = local_10;
        for (local_14 = 0; local_14 < DAT_00092028; local_14 = local_14 + 1) {
            local_18 = *(int *)(DAT_000920cc + local_14 * 4);
            local_1c = *(uint *)(local_18 + 0x38);
            if (local_1c != 0) {
                while (FUN_000688a4(local_1c, local_c), extraout_r1 != 0) {
                    local_c = local_c - 1;
                }
            }
        }
    }
    for (local_14 = 0; local_14 < DAT_00092028; local_14 = local_14 + 1) {
        local_18 = *(int *)(DAT_000920cc + local_14 * 4);
        *(uint *)(local_18 + 0x40) = DAT_00086c38 * *(int *)(local_18 + 0x40);
        uVar1 = FUN_00068648(*(undefined4 *)(local_18 + 0x40), local_c);
        *(undefined4 *)(local_18 + 0x40) = uVar1;
        uVar1 = FUN_00068648(*(undefined4 *)(local_18 + 0x38), local_c);
        *(undefined4 *)(local_18 + 0x3c) = uVar1;
    }
    DAT_00086c38 = local_c;
    if ((DAT_00087768 != '\0') &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (6 < DAT_0008697c)))) {
        snprintf(acStack_81c, 0x800,
                 "Global quota greatest common denominator set to %lu",
                 local_c);
        FUN_0001e4ec(7, acStack_81c, 0);
    }
    return;
}

undefined4 *FUN_0002f5cc(void)

{
    int iVar1;
    char local_80c[32];
    undefined4 local_7ec;
    char acStack_7e8[2012];
    undefined4 *local_c;

    local_c =
        (undefined4 *)FUN_000202d4(0x748, 1, "cgminer.c", "add_pool", 0x301);
    *(undefined1 *)(local_c + 0xa5) = 0;
    if (local_c == (undefined4 *)0x0) {
        builtin_strncpy(local_80c, "Failed to malloc pool in add_poo", 0x20);
        local_7ec._0_2_ = 0x6c;
        FUN_0001e4ec(3, local_80c, 1);
        FUN_0004bfb0(1);
    }
    local_c[1] = DAT_00092028;
    *local_c = local_c[1];
    DAT_000920cc = FUN_000203a0(DAT_000920cc, (DAT_00092028 + 2) * 4,
                                "cgminer.c", "add_pool", 0x30d);
    iVar1 = DAT_00092028 * 4;
    DAT_00092028 = DAT_00092028 + 1;
    *(undefined4 **)(DAT_000920cc + iVar1) = local_c;
    FUN_0002e794(local_c + 0x2f, "cgminer.c", "add_pool", 0x310);
    iVar1 = pthread_cond_init((pthread_cond_t *)(local_c + 0x4a),
                              (pthread_condattr_t *)0x0);
    if (iVar1 != 0) {
        builtin_strncpy(local_80c, "Failed to pthread_cond_init in a", 0x20);
        local_7ec._0_1_ = 'd';
        local_7ec._1_1_ = 'd';
        local_7ec._2_1_ = '_';
        local_7ec._3_1_ = 'p';
        builtin_strncpy(acStack_7e8, "ool", 4);
        FUN_0001e4ec(3, local_80c, 1);
        FUN_0004bfb0(1);
    }
    FUN_0002e8cc(local_c + 0x35, "cgminer.c", "add_pool", 0x317);
    FUN_0002e794(local_c + 0xb4, "cgminer.c", "add_pool", 0x318);
    FUN_0002e8cc(local_c + 0xbd, "cgminer.c", "add_pool", 0x319);
    local_c[0x56] = local_c + 0x56;
    local_c[0x57] = local_c + 0x56;
    local_c[0x22] = 0xffffffff;
    local_c[0x28] = DAT_00086c84;
    local_c[0x2e] = 0;
    local_c[0xe] = 1;
    FUN_0002f314();
    *(undefined1 *)(local_c + 0x91) = 0;
    return local_c;
}

undefined1 FUN_0002f88c(int param_1, undefined1 *param_2)

{
    undefined1 uVar1;

    FUN_0002e354(param_1 + 0xbc, "cgminer.c", "pool_tset", 0x32f);
    uVar1 = *param_2;
    *param_2 = 1;
    FUN_0002e484(param_1 + 0xbc, "cgminer.c", "pool_tset", 0x334);
    return uVar1;
}

undefined1 FUN_0002f908(int param_1, undefined1 *param_2)

{
    undefined1 uVar1;

    FUN_0002e354(param_1 + 0xbc, "cgminer.c", "pool_tclear", 0x33e);
    uVar1 = *param_2;
    *param_2 = 0;
    FUN_0002e484(param_1 + 0xbc, "cgminer.c", "pool_tclear", 0x343);
    return uVar1;
}

undefined4 FUN_0002f984(void)

{
    undefined4 uVar1;

    FUN_0002e91c(&DAT_00095310, "cgminer.c", "current_pool", 0x34d);
    uVar1 = DAT_00088090;
    FUN_0002ea38(&DAT_00095310, "cgminer.c", "current_pool", 0x351);
    return uVar1;
}

char *FUN_0002f9f0(undefined4 param_1, int *param_2, int param_3, int param_4)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_000551f8(param_1, param_2);
    if (pcVar1 == (char *)0x0) {
        if ((*param_2 < param_3) || (param_4 < *param_2)) {
            pcVar1 = "Value out of range";
        } else {
            pcVar1 = (char *)0x0;
        }
    }
    return pcVar1;
}

undefined4 FUN_0002fa74(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_0002f9f0(param_1, param_2, 0, 9999);
    return uVar1;
}

undefined4 FUN_0002faac(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_0002f9f0(param_1, param_2, 1, 0xffff);
    return uVar1;
}

undefined4 FUN_0002fae4(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_0002f9f0(param_1, param_2, 0, 10);
    return uVar1;
}

undefined4 FUN_0002fb1c(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_0002f9f0(param_1, param_2, 0, 100);
    return uVar1;
}

undefined4 FUN_0002fb54(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_0002f9f0(param_1, param_2, 0, 0xff);
    return uVar1;
}

undefined4 FUN_0002fb8c(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_0002f9f0(param_1, param_2, 1, 0xff);
    return uVar1;
}

undefined4 FUN_0002fbc4(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_0002f9f0(param_1, param_2, 0, 0x1e00);
    return uVar1;
}

undefined4 FUN_0002fbfc(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_0002f9f0(param_1, param_2, 0, 200);
    return uVar1;
}

undefined4 FUN_0002fc34(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_0002f9f0(param_1, param_2, 0x20, 0x3f);
    return uVar1;
}

undefined4 FUN_0002fc6c(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_0002f9f0(param_1, param_2, 0x16, 0x4b);
    return uVar1;
}

undefined4 FUN_0002fca4(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_0002f9f0(param_1, param_2, 0x2a, 0x55);
    return uVar1;
}

undefined4 FUN_0002fcdc(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_0002f9f0(param_1, param_2, 0x16, 0x37);
    return uVar1;
}

undefined4 FUN_0002fd14(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_0002f9f0(param_1, param_2, 0x2a, 0x3e);
    return uVar1;
}

undefined4 FUN_0002fd4c(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_0002f9f0(param_1, param_2, 1, 10);
    return uVar1;
}

undefined4 FUN_0002fd84(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_0002f9f0(param_1, param_2, 0, 4);
    return uVar1;
}

void FUN_0002fdbc(char *param_1, undefined4 *param_2, undefined4 *param_3)

{
    int iVar1;

    iVar1 = sscanf(param_1, "%d-%d", param_2, param_3);
    if (iVar1 == 1) {
        *param_3 = *param_2;
    }
    return;
}

undefined4 FUN_0002fe70(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    DAT_00087e6c = 2;
    uVar1 = FUN_0002f9f0(param_1, &DAT_000930e4, 0, 9999, param_2);
    return uVar1;
}

undefined4 FUN_0002feec(undefined4 *param_1, char *param_2)

{
    char cVar1;
    int iVar2;
    char *pcVar3;
    undefined4 uVar4;
    char acStack_808[2048];

    cVar1 = FUN_00022720(param_2, param_1 + 0x9a, param_1 + 0x92);
    if (cVar1 == '\x01') {
        iVar2 = strncasecmp(param_2, "stratum+tcp://", 0xe);
        if (iVar2 == 0) {
            pcVar3 = strdup(param_2);
            param_1[0x29] = pcVar3;
            *(undefined1 *)(param_1 + 0xa4) = 1;
            param_1[0x90] = param_1[0x9a];
            *(undefined1 *)(param_1 + 0x94) = 0;
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (4 < DAT_0008697c)) {
                snprintf(acStack_808, 0x800, "Pool %d is tcp pool.", *param_1);
                FUN_0001e4ec(5, acStack_808, 0);
            }
            uVar4 = 1;
        } else {
            iVar2 = strncasecmp(param_2, "stratum+tls://", 0xe);
            if (iVar2 == 0) {
                pcVar3 = strdup(param_2);
                param_1[0x29] = pcVar3;
                *(undefined1 *)(param_1 + 0xa4) = 1;
                param_1[0x90] = param_1[0x9a];
                *(undefined1 *)(param_1 + 0x94) = 1;
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (4 < DAT_0008697c)) {
                    snprintf(acStack_808, 0x800, "Pool %d is tls pool.",
                             *param_1);
                    FUN_0001e4ec(5, acStack_808, 0);
                }
                uVar4 = 1;
            } else {
                uVar4 = 0;
            }
        }
    } else {
        uVar4 = 0;
    }
    return uVar4;
}

undefined4 FUN_00030104(void)

{
    DAT_00088094 = DAT_00088094 + 1;
    if (DAT_00092028 < DAT_00088094) {
        FUN_0002f5cc();
    }
    return *(undefined4 *)(DAT_000920cc + (DAT_00088094 + 0x3fffffff) * 4);
}

undefined4 FUN_0003017c(int param_1, undefined4 param_2)

{
    char *__s1;
    int iVar1;
    char *__dest;

    __s1 = (char *)FUN_000204f0(param_2, param_1);
    iVar1 = FUN_0002feec(param_1, __s1);
    if (iVar1 == 0) {
        FUN_000551c4(__s1, param_1 + 0xa4);
        iVar1 = strncmp(__s1, "http://", 7);
        if ((iVar1 != 0) &&
            (iVar1 = strncmp(__s1, "https://", 8), iVar1 != 0)) {
            __dest =
                (char *)FUN_00020210(0x100, "cgminer.c", "setup_url", 0x42e);
            builtin_strncpy(__dest, "stratum+tcp://", 0xf);
            strncat(__dest, __s1, 0xf2);
            FUN_0002feec(param_1, __dest);
        }
    }
    return *(undefined4 *)(param_1 + 0xa4);
}

undefined4 FUN_00030290(undefined4 param_1)

{
    char *pcVar1;
    char acStack_80c[2048];
    undefined4 *local_c;

    local_c = (undefined4 *)FUN_00030104();
    FUN_0003017c(local_c, param_1);
    pcVar1 = strstr((char *)local_c[0x29], ".nicehash.com");
    if ((((pcVar1 != (char *)0x0) ||
          (pcVar1 = strstr((char *)local_c[0x29], "#xnsub"),
           pcVar1 != (char *)0x0)) &&
         (*(undefined1 *)(local_c + 0x91) = 1, DAT_00087768 != '\0')) &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (6 < DAT_0008697c)))) {
        snprintf(acStack_80c, 0x800, "Pool %d extranonce subscribing enabled.",
                 *local_c);
        FUN_0001e4ec(7, acStack_80c, 0);
    }
    return 0;
}

char *FUN_000303a8(char *param_1)

{
    char *pcVar1;
    char acStack_820[2048];
    undefined4 *local_20;
    char *local_1c;
    int local_18;
    size_t local_14;
    size_t local_10;
    char *local_c;

    local_c = strchr(param_1, 0x3b);
    if (local_c == (char *)0x0) {
        pcVar1 = "No semicolon separated quota;URL pair found";
    } else {
        local_10 = strlen(param_1);
        *local_c = '\0';
        local_14 = strlen(param_1);
        if (local_14 == 0) {
            pcVar1 = "No parameter for quota found";
        } else {
            local_10 = local_10 + ~local_14;
            if ((int)local_10 < 1) {
                pcVar1 = "No parameter for URL found";
            } else {
                local_18 = atoi(param_1);
                if (local_18 < 0) {
                    pcVar1 = "Invalid negative parameter for quota set";
                } else {
                    local_1c = param_1 + local_14 + 1;
                    local_20 = (undefined4 *)FUN_00030104();
                    FUN_0003017c(local_20, local_1c);
                    local_20[0xe] = local_18;
                    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                        (5 < DAT_0008697c)) {
                        snprintf(acStack_820, 0x800,
                                 "Setting pool %d to quota %d", *local_20,
                                 local_20[0xe]);
                        FUN_0001e4ec(6, acStack_820, 0);
                    }
                    FUN_0002f314();
                    pcVar1 = (char *)0x0;
                }
            }
        }
    }
    return pcVar1;
}

char *FUN_0003054c(char *param_1)

{
    int iVar1;
    size_t sVar2;
    size_t sVar3;
    char *pcVar4;
    char acStack_84c[48];
    char acStack_81c[2048];
    char *local_1c;
    size_t local_18;
    int local_14;

    if (DAT_000880a0 != 0) {
        return "Use only user + pass or userpass, but not both";
    }
    DAT_00088098 = DAT_00088098 + 1;
    if (DAT_00092028 < DAT_00088098) {
        FUN_0002f5cc();
    }
    local_14 = *(int *)(DAT_000920cc + (DAT_00088098 + 0x3fffffff) * 4);
    if (DAT_00087ad0 == 1) {
        iVar1 = FUN_000132a4(acStack_84c, 0x2e);
        if (iVar1 != 0) {
            return "Failed to get modified IP address";
        }
        sVar2 = strlen(param_1);
        sVar3 = strlen(acStack_84c);
        local_18 = sVar2 + sVar3 + 2;
        local_1c = (char *)malloc(local_18);
        if (local_1c == (char *)0x0) {
            return "Memory allocation failed";
        }
        pcVar4 = acStack_84c;
        snprintf(local_1c, local_18, "%s.%s", param_1, pcVar4);
        FUN_000551c4(local_1c, local_14 + 0xac);
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (3 < DAT_0008697c)) {
            snprintf(acStack_81c, 0x800, "opt_bitmain_user_ip_cat %d ",
                     DAT_00087ad0, pcVar4);
            FUN_0001e4ec(4, acStack_81c, 0);
        }
    } else {
        FUN_000551c4(param_1, local_14 + 0xac);
    }
    return (char *)0x0;
}

char *FUN_00030770(undefined4 param_1)

{
    char *pcVar1;

    if (DAT_000880a0 == 0) {
        DAT_0008809c = DAT_0008809c + 1;
        if (DAT_00092028 < DAT_0008809c) {
            FUN_0002f5cc();
        }
        FUN_000551c4(param_1,
                     *(int *)(DAT_000920cc + (DAT_0008809c + 0x3fffffff) * 4) +
                         0xb0);
        pcVar1 = (char *)0x0;
    } else {
        pcVar1 = "Use only user + pass or userpass, but not both";
    }
    return pcVar1;
}

char *FUN_00030830(char *param_1)

{
    char *pcVar1;
    int iVar2;

    if ((DAT_00088098 == 0) && (DAT_0008809c == 0)) {
        DAT_000880a0 = DAT_000880a0 + 1;
        if (DAT_00092028 < DAT_000880a0) {
            FUN_0002f5cc();
        }
        iVar2 = *(int *)(DAT_000920cc + (DAT_000880a0 + 0x3fffffff) * 4);
        pcVar1 = strdup(param_1);
        FUN_000551c4(param_1, iVar2 + 0xa8);
        pcVar1 = strtok(pcVar1, ":");
        *(char **)(iVar2 + 0xac) = pcVar1;
        if (*(int *)(iVar2 + 0xac) == 0) {
            pcVar1 = "Failed to find : delimited user info";
        } else {
            pcVar1 = strtok((char *)0x0, ":");
            *(char **)(iVar2 + 0xb0) = pcVar1;
            if (*(int *)(iVar2 + 0xb0) == 0) {
                pcVar1 = strdup("");
                *(char **)(iVar2 + 0xb0) = pcVar1;
            }
            pcVar1 = (char *)0x0;
        }
    } else {
        pcVar1 = "Use only user + pass or userpass, but not both";
    }
    return pcVar1;
}

undefined4 FUN_00030994(void)

{
    char acStack_80c[2048];
    undefined4 *local_c;

    DAT_000880a4 = DAT_000880a4 + 1;
    if (DAT_00092028 < DAT_000880a4) {
        FUN_0002f5cc();
    }
    local_c = *(undefined4 **)(DAT_000920cc + (DAT_000880a4 + 0x3fffffff) * 4);
    if ((DAT_00087768 != '\0') &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (6 < DAT_0008697c)))) {
        snprintf(acStack_80c, 0x800, "Enable extranonce subscribe on %d",
                 *local_c);
        FUN_0001e4ec(7, acStack_80c, 0);
    }
    FUN_00055008(local_c + 0x91);
    return 0;
}

char *FUN_00030b00(char *param_1, undefined1 *param_2)

{
    int iVar1;
    char *pcVar2;

    iVar1 = sscanf(param_1, "%d:%d", param_2 + 0xc, param_2 + 8);
    if (iVar1 == 2) {
        if ((((*(int *)(param_2 + 0xc) < 0x18) &&
              (*(int *)(param_2 + 8) < 0x3c)) &&
             (-1 < *(int *)(param_2 + 0xc))) &&
            (-1 < *(int *)(param_2 + 8))) {
            *param_2 = 1;
            pcVar2 = (char *)0x0;
        } else {
            pcVar2 = "Invalid time set.";
        }
    } else {
        pcVar2 = "Invalid time set, should be HH:MM";
    }
    return pcVar2;
}

undefined4 FUN_00030bb4(undefined4 param_1)

{
    undefined4 uVar1;

    uVar1 = FUN_00030b00(param_1, &DAT_000951f8);
    return uVar1;
}

undefined4 FUN_00030be4(undefined4 param_1)

{
    undefined4 uVar1;

    uVar1 = FUN_00030b00(param_1, &DAT_000940f8);
    return uVar1;
}

undefined4 FUN_00030c14(char *param_1)

{
    int iVar1;
    char local_810[36];
    undefined2 local_7ec;
    char *local_10;
    long local_c;

    local_10 = "";
    local_c = strtol(param_1, &local_10, 10);
    if ((*local_10 == '\0') && (-1 < local_c)) {
        DAT_00088364 = fdopen(local_c, "a");
        if ((DAT_00088364 == (FILE *)0x0) &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (2 < DAT_0008697c)))) {
            snprintf(local_810, 0x800, "Failed to open fd %u for share log",
                     local_c);
            FUN_0001e4ec(3, local_810, 0);
        }
    } else {
        iVar1 = strcmp(param_1, "-");
        if (iVar1 == 0) {
            DAT_00088364 = stdout;
            if ((stdout == (FILE *)0x0) &&
                (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                  (2 < DAT_0008697c)))) {
                builtin_strncpy(local_810,
                                "Standard output missing for share lo", 0x24);
                local_7ec = 0x67;
                FUN_0001e4ec(3, local_810, 0);
            }
        } else {
            DAT_00088364 = fopen64(param_1, "a");
            if ((DAT_00088364 == (FILE *)0x0) &&
                (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                  (2 < DAT_0008697c)))) {
                snprintf(local_810, 0x800, "Failed to open %s for share log",
                         param_1);
                FUN_0001e4ec(3, local_810, 0);
            }
        }
    }
    return 0;
}

char *FUN_00030eb4(char *param_1)

{
    int iVar1;
    char *pcVar2;

    if ((param_1 == (char *)0x0) || (*param_1 == '\0')) {
        pcVar2 = "Invalid parameters for set temp cutoff";
    } else {
        iVar1 = atoi(param_1);
        if ((iVar1 < 0) || (200 < iVar1)) {
            pcVar2 = "Invalid value passed to set temp cutoff";
        } else {
            pcVar2 = (char *)0x0;
            DAT_00088374 = param_1;
        }
    }
    return pcVar2;
}

void FUN_00030f3c(void)

{
    char local_818[40];
    undefined2 local_7f0;
    char *local_18;
    int local_14;
    int local_10;
    int local_c;

    local_10 = 0;
    local_14 = 0;
    if (DAT_00088374 == (char *)0x0) {
        FUN_0002e59c(&DAT_00094188, "cgminer.c", "load_temp_cutoffs", 0x56f);
        for (local_c = local_14; local_c < DAT_000941a8;
             local_c = local_c + 1) {
            if (*(int *)(*(int *)(DAT_00094130 + local_c * 4) + 0xb8) == 0) {
                *(undefined4 *)(*(int *)(DAT_00094130 + local_c * 4) + 0xb8) =
                    0x5f;
            }
        }
        FUN_0002e704(&DAT_00094188, "cgminer.c", "load_temp_cutoffs", 0x578);
    } else {
        local_14 = 0;
        local_18 = strtok(DAT_00088374, ",");
        while (local_18 != (char *)0x0) {
            if (DAT_000941a8 <= local_14) {
                builtin_strncpy(local_818,
                                "Too many values passed to set temp cutof",
                                0x28);
                local_7f0 = 0x66;
                FUN_0001e4ec(3, local_818, 1);
                FUN_0004bfb0(1);
            }
            local_10 = atoi(local_18);
            if ((local_10 < 0) || (200 < local_10)) {
                builtin_strncpy(
                    local_818, "Invalid value passed to set temp cutoff", 0x28);
                FUN_0001e4ec(3, local_818, 1);
                FUN_0004bfb0(1);
            }
            FUN_0002e59c(&DAT_00094188, "cgminer.c", "load_temp_cutoffs",
                         0x568);
            *(int *)(*(int *)(DAT_00094130 + local_14 * 4) + 0xb8) = local_10;
            FUN_0002e704(&DAT_00094188, "cgminer.c", "load_temp_cutoffs",
                         0x56a);
            local_14 = local_14 + 1;
            local_18 = strtok((char *)0x0, ",");
        }
        if (local_14 < 2) {
            FUN_0002e59c(&DAT_00094188, "cgminer.c", "load_temp_cutoffs",
                         0x57f);
            for (local_c = local_14; local_c < DAT_000941a8;
                 local_c = local_c + 1) {
                *(int *)(*(int *)(DAT_00094130 + local_c * 4) + 0xb8) =
                    local_10;
            }
            FUN_0002e704(&DAT_00094188, "cgminer.c", "load_temp_cutoffs",
                         0x585);
        }
    }
    return;
}

undefined4 FUN_00031274(undefined4 param_1)

{
    FUN_000551c4(param_1, &DAT_00087ab0);
    return 0;
}

undefined4 FUN_000312a4(undefined4 param_1)

{
    FUN_000551c4(param_1, &DAT_00087ab4);
    return 0;
}

undefined4 FUN_000312d4(undefined4 param_1)

{
    FUN_000551c4(param_1, &DAT_00087ab8);
    return 0;
}

undefined4 FUN_00031304(undefined4 param_1)

{
    FUN_000551c4(param_1, &DAT_00087abc);
    return 0;
}

char *FUN_00031334(undefined4 param_1, float *param_2)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_0005527c(param_1, param_2);
    if (pcVar1 == (char *)0x0) {
        if ((*param_2 < 125.0) || (500.0 < *param_2)) {
            pcVar1 = "Value out of range";
        } else {
            pcVar1 = (char *)0x0;
        }
    }
    return pcVar1;
}

char *FUN_000313c0(undefined4 param_1, float *param_2)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_0005527c(param_1, param_2);
    if (pcVar1 == (char *)0x0) {
        if ((*param_2 < 100.0) || (250.0 < *param_2)) {
            pcVar1 = "Value out of range";
        } else {
            pcVar1 = (char *)0x0;
        }
    }
    return pcVar1;
}

char *FUN_0003144c(undefined4 param_1, float *param_2)

{
    char *pcVar1;

    pcVar1 = (char *)FUN_0005527c(param_1, param_2);
    if (pcVar1 == (char *)0x0) {
        if ((*param_2 < 100.0) || (250.0 < *param_2)) {
            pcVar1 = "Value out of range";
        } else {
            pcVar1 = (char *)0x0;
        }
    }
    return pcVar1;
}

undefined4 FUN_000314fc(undefined4 param_1)

{
    FUN_000551c4(param_1, &DAT_00087aac);
    return 0;
}

undefined *FUN_0003152c(undefined4 param_1, char param_2)

{
    uint uVar1;
    undefined4 uVar2;
    undefined *puVar3;
    char acStack_828[2048];
    int *local_28;
    undefined4 local_24;
    int *local_20;
    char *local_1c;
    uint local_18;
    char *local_14;
    char *local_10;
    int *local_c;

    if ((param_2 != '\0') && (DAT_0008837c == 0)) {
        DAT_0008837c = 1;
    }
    local_c = &DAT_00086c90;
    do {
        if (local_c[1] == 0x10) {
            local_20 = (int *)FUN_00065fec(param_1, "include");
            if (((local_20 == (int *)0x0) || (local_20 == (int *)0x0)) ||
                (*local_20 != 2)) {
                puVar3 = (undefined *)0x0;
            } else {
                uVar2 = FUN_000677d0(local_20);
                puVar3 = (undefined *)FUN_00031a40(uVar2, 0);
            }
            return puVar3;
        }
        if ((local_c[1] & 8U) != 0) {
            /* WARNING: Subroutine does not return */
            __assert_fail("!(opt->type & OPT_SUBTABLE)", "cgminer.c", 0x7e2,
                          "parse_config");
        }
        if (*local_c != 0) {
            local_1c = strdup((char *)*local_c);
            local_10 = strtok(local_1c, "|");
            while (local_10 != (char *)0x0) {
                local_14 = (char *)0x0;
                if ((local_10[1] == '-') &&
                    (local_20 = (int *)FUN_00065fec(param_1, local_10 + 2),
                     local_20 != (int *)0x0)) {
                    if (((local_c[1] & 6U) == 0) ||
                        ((local_20 == (int *)0x0 || (*local_20 != 2)))) {
                        if (((local_c[1] & 6U) == 0) ||
                            ((local_20 == (int *)0x0 || (*local_20 != 1)))) {
                            if (((local_20 == (int *)0x0) ||
                                 (*local_20 != 5)) &&
                                ((local_20 == (int *)0x0 ||
                                  (*local_20 != 6)))) {
                                local_14 = "Invalid value";
                            } else if ((local_c[1] & 1U) == 0) {
                                if ((local_20 == (int *)0x0) ||
                                    (*local_20 != 5)) {
                                    FUN_00055038(local_c[5]);
                                } else {
                                    FUN_00055008(local_c[5]);
                                }
                            } else {
                                local_14 =
                                    (char *)(*(code *)local_c[2])(local_c[5]);
                            }
                        } else {
                            local_18 = 0;
                            while ((uVar1 = FUN_00066b34(local_20),
                                    local_18 < uVar1 &&
                                        (local_28 = (int *)FUN_00066b80(
                                             local_20, local_18),
                                         local_28 != (int *)0x0))) {
                                if ((local_28 == (int *)0x0) ||
                                    (*local_28 != 2)) {
                                    if ((local_28 != (int *)0x0) &&
                                        (*local_28 == 0)) {
                                        local_14 =
                                            (char *)FUN_0003152c(local_28, 0);
                                    }
                                } else {
                                    local_24 = FUN_000677d0(local_28);
                                    local_14 = (char *)(*(code *)local_c[3])(
                                        local_24, local_c[5]);
                                    if (local_c[1] == 4) {
                                        FUN_000551c4(local_24, local_c[5]);
                                    }
                                }
                                if (local_14 != (char *)0x0)
                                    break;
                                local_18 = local_18 + 1;
                            }
                        }
                    } else {
                        local_24 = FUN_000677d0(local_20);
                        local_14 =
                            (char *)(*(code *)local_c[3])(local_24, local_c[5]);
                        if (local_c[1] == 4) {
                            FUN_000551c4(local_24, local_c[5]);
                        }
                    }
                    if (local_14 != (char *)0x0) {
                        if (param_2 == '\0') {
                            snprintf(&DAT_000898d0, 200,
                                     "Parsing JSON option %s: %s", local_10,
                                     local_14);
                            return &DAT_000898d0;
                        }
                        if (((DAT_00091f58 != '\0') ||
                             (DAT_00087769 != '\0')) ||
                            (2 < DAT_0008697c)) {
                            snprintf(acStack_828, 0x800,
                                     "Invalid config option %s: %s", local_10,
                                     local_14);
                            FUN_0001e4ec(3, acStack_828, 0);
                        }
                        DAT_0008837c = -1;
                    }
                }
                local_10 = strtok((char *)0x0, "|");
            }
            free(local_1c);
        }
        local_c = local_c + 7;
    } while (true);
}

char *FUN_00031a40(char *param_1)

{
    size_t sVar1;
    size_t sVar2;
    undefined1 auStack_118[92];
    char acStack_bc[160];
    char *local_1c;
    size_t local_18;
    int *local_14;

    if (DAT_00087e9c == (char *)0x0) {
        DAT_00087e9c = strdup(param_1);
    }
    DAT_0008813c = DAT_0008813c + 1;
    if (DAT_0008813c < 0xb) {
        local_14 = (int *)FUN_00064b1c(param_1, 0, auStack_118);
        if ((local_14 == (int *)0x0) || (*local_14 != 0)) {
            sVar1 = strlen(param_1);
            sVar2 = strlen(acStack_bc);
            local_18 = sVar1 + sVar2 + 0x23;
            local_1c = (char *)FUN_00020210(local_18, "cgminer.c",
                                            "load_config", 0x88a);
            snprintf(local_1c, local_18,
                     "JSON decode of file \'%s\' failed\n %s", param_1,
                     acStack_bc);
        } else {
            DAT_00088138 = 1;
            local_1c = (char *)FUN_0003152c(local_14, 1);
        }
    } else {
        local_1c = "Too many levels of JSON includes (limit 10) or a loop";
    }
    return local_1c;
}

undefined4 FUN_00031b98(undefined4 param_1)

{
    FUN_000551c4(param_1, &DAT_000941c4);
    return 0;
}

void FUN_00031bc8(void)

{
    int iVar1;

    DAT_00087e9c =
        (char *)FUN_00020210(0x1000, "cgminer.c", "load_default_config", 0x8a3);
    DAT_0008813c = 0;
    FUN_0003c7dc(DAT_00087e9c);
    iVar1 = access(DAT_00087e9c, 4);
    if (iVar1 == 0) {
        FUN_00031a40(DAT_00087e9c, 0);
    } else {
        free(DAT_00087e9c);
        DAT_00087e9c = (char *)0x0;
    }
    return;
}

void FUN_00031c88(undefined4 param_1)

{
    undefined4 uVar1;

    printf("%s\nBuilt with bitmain_c5 mining support.\n", &DAT_00087ea4);
    uVar1 = FUN_00056c74(DAT_000954c0, param_1);
    printf("%s", uVar1);
    fflush(stdout);
    /* WARNING: Subroutine does not return */
    exit(0);
}

void FUN_00031cf4(int param_1)

{
    undefined1 auStack_f4[136];
    undefined1 auStack_6c[32];
    undefined1 auStack_4c[64];
    undefined1 *local_c;

    local_c = auStack_4c;
    FUN_0002e22c(local_c, param_1);
    FUN_0001f520(auStack_f4);
    FUN_0001f598(auStack_f4, auStack_4c, 0x40);
    FUN_0002befc(param_1 + 0x80, auStack_6c, 0x20, "cgminer.c", "calc_midstate",
                 0x90f);
    FUN_0002e334(param_1 + 0x80, param_1 + 0x80);
    return;
}

int FUN_00031d94(void)

{
    int iVar1;

    FUN_0002e980(&DAT_00095310, "cgminer.c", "total_work_inc", 0x918);
    iVar1 = DAT_00088148;
    DAT_00088148 = DAT_00088148 + 1;
    FUN_0002ea74(&DAT_00095310, "cgminer.c", "total_work_inc", 0x91a);
    return iVar1;
}

int FUN_00031e10(void)

{
    undefined4 uVar1;
    char local_80c[32];
    undefined2 local_7ec;
    undefined1 local_7ea;
    int local_c;

    local_c = FUN_000202d4(1, 0x1c0, "cgminer.c", "make_work", 0x921);
    if (local_c == 0) {
        builtin_strncpy(local_80c, "Failed to calloc work in make_wo", 0x20);
        local_7ec = 0x6b72;
        local_7ea = 0;
        FUN_0001e4ec(3, local_80c, 1);
        FUN_0004bfb0(1);
    }
    uVar1 = FUN_00031d94();
    *(undefined4 *)(local_c + 0x154) = uVar1;
    return local_c;
}

void FUN_00031ed8(void *param_1)

{
    free(*(void **)((int)param_1 + 0x120));
    free(*(void **)((int)param_1 + 0x134));
    free(*(void **)((int)param_1 + 0x148));
    free(*(void **)((int)param_1 + 0x140));
    memset(param_1, 0, 0x1c0);
    return;
}

void FUN_00031f40(int *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    char acStack_80c[2048];
    void *local_c;

    local_c = (void *)*param_1;
    if (local_c == (void *)0x0) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            snprintf(acStack_80c, 0x800,
                     "Free work called with NULL work from %s %s:%d", param_2,
                     param_3, param_4);
            FUN_0001e4ec(3, acStack_80c, 0);
        }
    } else {
        FUN_00031ed8(local_c);
        free(local_c);
        *param_1 = 0;
    }
    return;
}

undefined4 FUN_00032028(undefined4 param_1)

{
    int iVar1;

    iVar1 = FUN_0002ef64(param_1);
    return *(undefined4 *)(iVar1 + 8);
}

void FUN_00032058(double *param_1)

{
    double in_d0;
    double dVar1;
    double in_d1;
    double in_d2;

    if (0.0 < in_d1) {
        dVar1 = exp(in_d1 / in_d2);
        dVar1 = 1.0 - 1.0 / dVar1;
        *param_1 = *param_1 + (in_d0 / in_d1) * dVar1;
        *param_1 = *param_1 / (dVar1 + 1.0);
    }
    return;
}

undefined4 FUN_0003210c(void)

{
    undefined4 uVar1;

    if (DAT_00087e98 == 0) {
        uVar1 = 0;
    } else {
        uVar1 = *(undefined4 *)(*(int *)(DAT_00087e98 + 0x158) + 0xc);
    }
    return uVar1;
}

void FUN_00032154(uint param_1, uint param_2, char *param_3, size_t param_4,
                  int param_5)

{
    bool bVar1;
    double dVar2;
    undefined8 uVar3;
    undefined2 local_60[2];
    undefined4 local_5c;
    undefined4 local_58;
    undefined4 uStack_54;
    undefined4 local_50;
    undefined4 uStack_4c;
    undefined4 local_48;
    undefined4 uStack_44;
    undefined4 local_40;
    undefined4 uStack_3c;
    undefined4 local_38;
    undefined4 uStack_34;
    undefined4 local_30;
    undefined4 uStack_2c;
    undefined4 local_28;
    undefined4 uStack_24;
    char local_19;
    undefined8 local_18;

    local_28 = 0;
    uStack_24 = 0x408f4000;
    local_30 = 1000;
    uStack_2c = 0;
    local_38 = 1000000;
    uStack_34 = 0;
    local_40 = 1000000000;
    uStack_3c = 0;
    local_48 = 0xd4a51000;
    uStack_44 = 0xe8;
    local_50 = 0xa4c68000;
    uStack_4c = 0x38d7e;
    local_58 = 0xa7640000;
    uStack_54 = 0xde0b6b3;
    local_60[0] = 0;
    local_19 = '\x01';
    bVar1 = 0xde0b6b2 < param_2;
    if (param_2 == 0xde0b6b3) {
        bVar1 = 0xa763ffff < param_1;
    }
    if (bVar1) {
        uVar3 = FUN_00068ee0(param_1, param_2, 0xa4c68000, 0x38d7e);
        local_18 =
            (double)FUN_00068e74((int)uVar3, (int)((ulonglong)uVar3 >> 0x20));
        local_18 = local_18 / (double)CONCAT44(uStack_24, local_28);
        local_60[0] = 0x45;
    } else {
        bVar1 = 0x38d7d < param_2;
        if (param_2 == 0x38d7e) {
            bVar1 = 0xa4c67fff < param_1;
        }
        if (bVar1) {
            uVar3 = FUN_00068ee0(param_1, param_2, 0xd4a51000, 0xe8);
            local_18 = (double)FUN_00068e74((int)uVar3,
                                            (int)((ulonglong)uVar3 >> 0x20));
            local_18 = local_18 / (double)CONCAT44(uStack_24, local_28);
            local_60[0] = 0x50;
        } else {
            bVar1 = 0xe7 < param_2;
            if (param_2 == 0xe8) {
                bVar1 = 0xd4a50fff < param_1;
            }
            if (bVar1) {
                uVar3 = FUN_00068ee0(param_1, param_2, 1000000000, 0);
                local_18 = (double)FUN_00068e74(
                    (int)uVar3, (int)((ulonglong)uVar3 >> 0x20));
                local_18 = local_18 / (double)CONCAT44(uStack_24, local_28);
                local_60[0] = 0x54;
            } else if (param_2 == 0 && param_1 < 1000000000) {
                if (param_2 == 0 && param_1 < 1000000) {
                    if (param_2 == 0 && param_1 < 1000) {
                        local_18 = (double)FUN_00068e74(param_1, param_2);
                        local_19 = '\0';
                    } else {
                        local_18 = (double)FUN_00068e74(param_1, param_2);
                        local_18 =
                            local_18 / (double)CONCAT44(uStack_24, local_28);
                        local_60[0] = 0x4b;
                    }
                } else {
                    uVar3 = FUN_00068ee0(param_1, param_2, 1000, 0);
                    local_18 = (double)FUN_00068e74(
                        (int)uVar3, (int)((ulonglong)uVar3 >> 0x20));
                    local_18 = local_18 / (double)CONCAT44(uStack_24, local_28);
                    local_60[0] = 0x4d;
                }
            } else {
                uVar3 = FUN_00068ee0(param_1, param_2, 1000000, 0);
                local_18 = (double)FUN_00068e74(
                    (int)uVar3, (int)((ulonglong)uVar3 >> 0x20));
                local_18 = local_18 / (double)CONCAT44(uStack_24, local_28);
                local_60[0] = 0x47;
            }
        }
    }
    if (param_5 == 0) {
        if (local_19 == '\0') {
            snprintf(param_3, param_4, "%d%s",
                     (uint)(0.0 < local_18) * (int)(longlong)local_18,
                     local_60);
        } else {
            snprintf(param_3, param_4, "%.3g%s", local_18._4_4_,
                     (undefined4)local_18, local_18._4_4_, local_60);
        }
    } else {
        if (local_18 <= 0.0) {
            dVar2 = 0.0;
        } else {
            dVar2 = log10(local_18);
            dVar2 = floor(dVar2);
        }
        local_5c =
            (undefined4)(longlong)((double)(longlong)(param_5 + -1) - dVar2);
        snprintf(param_3, param_4, "%*.*f%s", param_5 + 1, local_5c);
    }
    return;
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */

undefined4 FUN_000324e8(int param_1)

{
    undefined4 uVar1;
    undefined4 extraout_s1;
    undefined1 auStack_18[8];
    undefined8 local_10;

    if (*(int *)(param_1 + 0x170) == 0) {
        local_10 = (double)CONCAT44(DAT_0008747c, _DAT_00087478);
    } else {
        FUN_00022308(auStack_18);
        uVar1 = FUN_000226b0(auStack_18, param_1 + 0x170);
        local_10 = (double)CONCAT44(extraout_s1, uVar1);
    }
    if (local_10 < 1.0) {
        local_10 = 0.0;
    }
    return (undefined4)local_10;
}

undefined4 FUN_0003257c(void)

{
    undefined4 uVar1;
    undefined1 auStack_10[8];

    FUN_00022308(auStack_10);
    uVar1 = FUN_000226b0(auStack_10, &DAT_00088078);
    return uVar1;
}

undefined4 FUN_000325b8(void)

{
    undefined4 uVar1;
    undefined1 auStack_10[8];

    FUN_00022308(auStack_10);
    uVar1 = FUN_000226b0(auStack_10, &DAT_00088080);
    return uVar1;
}

void FUN_000325f4(char *param_1, uint param_2, int param_3)

{
    undefined4 uVar1;
    undefined4 uVar2;
    undefined4 uVar3;
    undefined4 uVar4;
    undefined4 uVar5;
    undefined4 extraout_s1;
    double dVar6;
    char acStack_8a0[64];
    char acStack_860[2048];
    undefined1 auStack_60[16];
    undefined1 auStack_50[16];
    size_t local_40;
    size_t local_3c;
    undefined8 local_38;
    undefined8 local_30;
    double local_28;
    double dStack_20;

    uVar5 = FUN_000324e8(param_3);
    dStack_20 = (double)CONCAT44(extraout_s1, uVar5);
    dVar6 = (double)FUN_00068e84(*(undefined4 *)(param_3 + 0xc0),
                                 *(undefined4 *)(param_3 + 0xc4));
    local_28 = (dVar6 / dStack_20) * 60.0;
    dVar6 = (*(double *)(param_3 + 0x50) / dStack_20) * 1000000.0;
    local_30 = FUN_00068f40(SUB84(dVar6, 0), (int)((ulonglong)dVar6 >> 0x20));
    dVar6 = *(double *)(param_3 + 0x30) * 1000000.0;
    local_38 = FUN_00068f40(SUB84(dVar6, 0), (int)((ulonglong)dVar6 >> 0x20));
    FUN_00032154((undefined4)local_30, local_30._4_4_, auStack_50, 0x10, 4);
    FUN_00032154((undefined4)local_38, local_38._4_4_, auStack_60, 0x10, 4);
    snprintf(param_1, param_2, "%s%d ",
             *(undefined4 *)(*(int *)(param_3 + 4) + 8),
             *(undefined4 *)(param_3 + 8));
    (**(code **)(*(int *)(param_3 + 4) + 0x14))(param_1, param_2, param_3);
    local_3c = strlen(param_1);
    uVar1 = *(undefined4 *)(param_3 + 200);
    uVar2 = *(undefined4 *)(param_3 + 0xcc);
    uVar3 = *(undefined4 *)(param_3 + 0xd0);
    uVar4 = *(undefined4 *)(param_3 + 0xd4);
    uVar5 = *(undefined4 *)(param_3 + 0x2c);
    snprintf(acStack_8a0, 0x40,
             "(%ds):%s (avg):%sh/s | A:%.0f R:%.0f HW:%d WU:%.1f/m",
             DAT_00086c20, auStack_60, auStack_50, uVar1, uVar2, uVar3, uVar4,
             uVar5);
    local_40 = strlen(acStack_8a0);
    if (param_2 <= local_3c + local_40) {
        snprintf(acStack_860, 0x800,
                 "tailsprintf buffer overflow in %s %s line %d", "cgminer.c",
                 "get_statline", 0xc6d, uVar1, uVar2, uVar3, uVar4, uVar5);
        FUN_0001e4ec(3, acStack_860, 1);
        FUN_0004bfb0(1);
    }
    strcat(param_1, acStack_8a0);
    (**(code **)(*(int *)(param_3 + 4) + 0x18))(param_1, param_2, param_3);
    return;
}

undefined4 FUN_00032860(void)

{
    undefined4 uVar1;

    if ((DAT_00087e6c == 3) || (DAT_00087e6c == 4)) {
        uVar1 = 1;
    } else {
        uVar1 = 0;
    }
    return uVar1;
}

void FUN_000328b4(int param_1)

{
    if (*(int *)(param_1 + 100) != 1) {
        DAT_000940ec = DAT_000940ec + 1;
        *(undefined4 *)(param_1 + 100) = 1;
    }
    return;
}

void FUN_00032908(int param_1)

{
    if (*(int *)(param_1 + 100) == 1) {
        DAT_000940ec = DAT_000940ec + -1;
    }
    *(undefined4 *)(param_1 + 100) = 2;
    return;
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */

void FUN_0003295c(undefined4 param_1, int *param_2, int *param_3, int param_4,
                  undefined4 param_5, char param_6, undefined4 param_7)

{
    time_t tVar1;
    undefined4 *puVar2;
    uint uVar3;
    undefined4 uVar4;
    char *pcVar5;
    bool bVar6;
    double dVar7;
    int *local_890;
    char local_888[32];
    char local_868[4];
    undefined2 local_864;
    undefined1 local_862;
    undefined1 auStack_861[29];
    char local_844[2048];
    char local_44[20];
    double dStack_30;
    undefined4 local_24;
    undefined4 local_20;
    int *local_1c;
    char *local_18;
    int local_14;
    undefined4 *local_10;
    size_t local_c;

    local_10 = *(undefined4 **)(param_4 + 0x104);
    local_14 = FUN_0002ef64(*(undefined4 *)(param_4 + 0x100));
    if (((param_2 == (int *)0x0) || (*param_2 != 5)) &&
        ((*(char *)(param_4 + 0x144) == '\0' ||
          ((param_2 == (int *)0x0 || (*param_2 != 7)))))) {
        FUN_0002e354(&DAT_00091f5c, "cgminer.c", "share_result", 0xe46);
        *(int *)(local_14 + 0x28) = *(int *)(local_14 + 0x28) + 1;
        bVar6 = 0xfffffffe < (uint)DAT_00094180;
        DAT_00094180._0_4_ = (uint)DAT_00094180 + 1;
        DAT_00094180._4_4_ = DAT_00094180._4_4_ + (uint)bVar6;
        uVar3 = local_10[4];
        local_10[4] = uVar3 + 1;
        local_10[5] = local_10[5] + (uint)(0xfffffffe < uVar3);
        *(double *)(local_14 + 0xd0) =
            *(double *)(local_14 + 0xd0) + *(double *)(param_4 + 0x178);
        _DAT_00094178 = *(double *)(param_4 + 0x178) + _DAT_00094178;
        *(double *)(local_10 + 0x14) =
            *(double *)(local_10 + 0x14) + *(double *)(param_4 + 0x178);
        local_10[6] = local_10[6] + 1;
        FUN_0002e484(&DAT_00091f5c, "cgminer.c", "share_result", 0xe4e);
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            builtin_strncpy(local_844, "PROOF OF WORK RESULT: false (booooo)",
                            0x24);
            local_844[0x24] = 0;
            FUN_0001e4ec(7, local_844, 0);
        }
        if ((DAT_000953fc != '\x01') && (DAT_00095398 != '\x01')) {
            builtin_strncpy(local_868, "reje", 4);
            local_864 = 0x7463;
            local_862 = 0;
            memset(auStack_861, 0, 0x1d);
            local_888[0] = '\0';
            if (DAT_00092028 < 2) {
                local_44[0] = '\0';
            } else {
                snprintf(local_44, 0x14, "pool %d",
                         **(undefined4 **)(param_4 + 0x104));
            }
            local_890 = param_2;
            if (*(char *)(param_4 + 0x144) != '\x01') {
                local_890 = (int *)FUN_00065fec(param_1, "reject-reason");
            }
            if (local_890 == (int *)0x0) {
                if ((*(char *)(param_4 + 0x11c) != '\0') &&
                    (param_3 != (int *)0x0)) {
                    if ((param_3 == (int *)0x0) || (*param_3 != 1)) {
                        if ((param_3 != (int *)0x0) && (*param_3 == 2)) {
                            local_24 = FUN_000677d0(param_3);
                            snprintf(local_888, 0x1f, " (%s)", local_24);
                        }
                    } else {
                        local_1c = (int *)FUN_00066b80(param_3, 1);
                        if (((local_1c != (int *)0x0) &&
                             (local_1c != (int *)0x0)) &&
                            (*local_1c == 2)) {
                            local_20 = FUN_000677d0(local_1c);
                            snprintf(local_888, 0x1f, " (%s)", local_20);
                        }
                    }
                }
            } else {
                local_18 = (char *)FUN_000677d0(local_890);
                local_c = strlen(local_18);
                if (0x1c < local_c) {
                    local_c = 0x1c;
                }
                local_888[0] = ' ';
                local_888[1] = 0x28;
                FUN_0002befc(local_888 + 2, local_18, local_c, "cgminer.c",
                             "share_result", 0xe76);
                local_888[local_c + 2] = ')';
                local_888[local_c + 3] = '\0';
                FUN_0002befc(auStack_861, local_18, local_c, "cgminer.c",
                             "share_result", 0xe7b);
                local_862 = 0x3a;
                auStack_861[local_c] = 0;
            }
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (4 < DAT_0008697c)) {
                if (param_6 == '\0') {
                    pcVar5 = "";
                } else {
                    pcVar5 = "(resubmit)";
                }
                snprintf(local_844, 0x800,
                         "Rejected %s %s %d %s%s %s%s version 0x%x", param_5,
                         *(undefined4 *)(*(int *)(local_14 + 4) + 8),
                         *(undefined4 *)(local_14 + 8), local_44, local_888,
                         pcVar5, param_7, *(undefined4 *)(param_4 + 0x1bc));
                FUN_0001e4ec(5, local_844, 0);
            }
            FUN_0002f014(local_868, param_4);
        }
        if (((10 < (int)local_10[6]) &&
             (*(char *)(param_4 + 0x119) != '\x01')) &&
            ((DAT_00092060 != '\0' && (1 < DAT_000940ec)))) {
            dVar7 =
                (double)FUN_00068e84((uint)DAT_000920b8, DAT_000920b8._4_4_);
            dStack_30 = (dVar7 / _DAT_00087478) * 60.0;
            if ((dStack_30 * 3.0 < (double)(longlong)(int)local_10[6]) &&
                (1 < DAT_000940ec)) {
                if ((DAT_00091f58 != '\0') ||
                    ((DAT_00087769 != '\0' || (3 < DAT_0008697c)))) {
                    snprintf(
                        local_844, 0x800,
                        "Pool %d rejected %d sequential shares, disabling!",
                        *local_10, local_10[6]);
                    FUN_0001e4ec(4, local_844, 0);
                }
                FUN_00032908(local_10);
                puVar2 = (undefined4 *)FUN_0002f984();
                if (puVar2 == local_10) {
                    FUN_000364ac(0);
                }
                local_10[6] = 0;
            }
        }
    } else {
        FUN_0002e354(&DAT_00091f5c, "cgminer.c", "share_result", 0xe07);
        *(int *)(local_14 + 0x24) = *(int *)(local_14 + 0x24) + 1;
        bVar6 = 0xfffffffe < (uint)DAT_000920b8;
        DAT_000920b8._0_4_ = (uint)DAT_000920b8 + 1;
        DAT_000920b8._4_4_ = DAT_000920b8._4_4_ + (uint)bVar6;
        uVar3 = local_10[2];
        local_10[2] = uVar3 + 1;
        local_10[3] = local_10[3] + (uint)(0xfffffffe < uVar3);
        *(double *)(local_14 + 200) =
            *(double *)(local_14 + 200) + *(double *)(param_4 + 0x178);
        _DAT_000940f0 = *(double *)(param_4 + 0x178) + _DAT_000940f0;
        *(double *)(local_10 + 0x12) =
            *(double *)(local_10 + 0x12) + *(double *)(param_4 + 0x178);
        FUN_0002e484(&DAT_00091f5c, "cgminer.c", "share_result", 0xe11);
        local_10[6] = 0;
        *(undefined4 *)(local_14 + 0xd8) = *local_10;
        tVar1 = time((time_t *)0x0);
        *(time_t *)(local_14 + 0xdc) = tVar1;
        uVar4 = *(undefined4 *)(param_4 + 0x17c);
        *(undefined4 *)(local_14 + 0xe0) = *(undefined4 *)(param_4 + 0x178);
        *(undefined4 *)(local_14 + 0xe4) = uVar4;
        local_10[0x58] = *(undefined4 *)(local_14 + 0xdc);
        uVar4 = *(undefined4 *)(param_4 + 0x17c);
        local_10[0x5a] = *(undefined4 *)(param_4 + 0x178);
        local_10[0x5b] = uVar4;
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            builtin_strncpy(local_844, "PROOF OF WORK RESULT: true (yay!!!)",
                            0x24);
            FUN_0001e4ec(7, local_844, 0);
        }
        if ((DAT_000953fc != '\x01') && (DAT_00095398 != '\x01')) {
            if (DAT_00092028 < 2) {
                if ((DAT_00087768 != '\0') &&
                    (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                      (6 < DAT_0008697c)))) {
                    if (param_6 == '\0') {
                        pcVar5 = "";
                    } else {
                        pcVar5 = "(resubmit)";
                    }
                    snprintf(local_844, 0x800, "Accepted %s %s %d %s%s",
                             param_5,
                             *(undefined4 *)(*(int *)(local_14 + 4) + 8),
                             *(undefined4 *)(local_14 + 8), pcVar5, param_7);
                    FUN_0001e4ec(7, local_844, 0);
                }
            } else if ((DAT_00087768 != '\0') &&
                       (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                         (6 < DAT_0008697c)))) {
                if (param_6 == '\0') {
                    pcVar5 = "";
                } else {
                    pcVar5 = "(resubmit)";
                }
                snprintf(local_844, 0x800, "Accepted %s %s %d pool %d %s%s",
                         param_5, *(undefined4 *)(*(int *)(local_14 + 4) + 8),
                         *(undefined4 *)(local_14 + 8),
                         **(undefined4 **)(param_4 + 0x104), pcVar5, param_7);
                FUN_0001e4ec(7, local_844, 0);
            }
        }
        FUN_0002f014("accept", param_4);
        if ((DAT_00087fbc == 0) ||
            (_DAT_000940f0 < (double)(longlong)DAT_00087fbc)) {
            if (local_10[0x19] == 2) {
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (3 < DAT_0008697c)) {
                    snprintf(
                        local_844, 0x800,
                        "Rejecting pool %d now accepting shares, re-enabling!",
                        *local_10);
                    FUN_0001e4ec(4, local_844, 0);
                }
                FUN_000328b4(local_10);
                FUN_000364ac(0);
            }
            if (*(char *)(param_4 + 0x11b) != '\0') {
                FUN_00037350();
            }
        } else {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (3 < DAT_0008697c)) {
                snprintf(local_844, 0x800,
                         "Successfully mined %d accepted shares as requested "
                         "and exiting.",
                         DAT_00087fbc);
                FUN_0001e4ec(4, local_844, 0);
            }
            FUN_00035114();
        }
    }
    return;
}

void FUN_00033678(int param_1, char *param_2)

{
    double dVar1;
    undefined1 auStack_50[16];
    char acStack_40[32];
    undefined8 local_20;
    undefined4 local_14;
    char *local_10;
    int local_c;

    FUN_0002e064(acStack_40, param_1 + 0xc0);
    for (local_c = 0; (local_c < 0x1d && (acStack_40[local_c] == '\0'));
         local_c = local_c + 1) {
    }
    local_10 = acStack_40 + local_c;
    local_14 = FUN_0002de60(*(undefined4 *)local_10);
    dVar1 = round(*(double *)(param_1 + 0x178));
    local_20 = FUN_00068f40(SUB84(dVar1, 0), (int)((ulonglong)dVar1 >> 0x20));
    FUN_00032154(*(undefined4 *)(param_1 + 0xe8),
                 *(undefined4 *)(param_1 + 0xec), auStack_50, 0x10, 0);
    snprintf(param_2, 0x40, "%08lx Diff %s/%llu%s", local_14, auStack_50);
    return;
}

undefined4 FUN_000337a8(int param_1)

{
    undefined4 uVar1;

    if (*(char *)(param_1 + 0x61) == '\0') {
        if (*(int *)(param_1 + 100) == 1) {
            if ((*(char *)(param_1 + 0x290) == '\0') ||
                ((*(char *)(param_1 + 0x291) == '\x01' &&
                  (*(char *)(param_1 + 0x293) == '\x01')))) {
                uVar1 = 0;
            } else {
                uVar1 = 1;
            }
        } else {
            uVar1 = 1;
        }
    } else {
        uVar1 = 1;
    }
    return uVar1;
}

int FUN_00033844(int param_1)

{
    int iVar1;
    int iVar2;
    int local_14;
    int local_10;
    int local_c;

    local_10 = *(int *)(param_1 + 0x9c);
    local_14 = param_1;
    for (local_c = 0; local_c < DAT_00092028; local_c = local_c + 1) {
        iVar2 = *(int *)(DAT_000920cc + local_c * 4);
        iVar1 = FUN_000337a8(iVar2);
        if ((iVar1 == 0) && (*(int *)(iVar2 + 0x9c) < local_10)) {
            local_10 = *(int *)(iVar2 + 0x9c);
            local_14 = iVar2;
        }
    }
    *(int *)(local_14 + 0x9c) = *(int *)(local_14 + 0x9c) + 1;
    return local_14;
}

undefined4 *FUN_0003391c(void)

{
    bool bVar1;
    char cVar2;
    int iVar3;
    char acStack_824[2048];
    undefined4 *local_24;
    int local_20;
    undefined4 *local_1c;
    int local_18;
    int local_14;
    char local_d;
    undefined4 *local_c;

    local_d = '\0';
    local_1c = (undefined4 *)FUN_0002f984();
    if (DAT_00087e6c == 4) {
        local_c = (undefined4 *)FUN_00033844(local_1c);
    } else {
        local_c = local_1c;
        if (DAT_00087e6c == 3) {
            for (local_18 = 0; local_18 < DAT_00092028;
                 local_18 = local_18 + 1) {
                local_20 = *(int *)(DAT_000920cc + local_18 * 4);
                if (*(int *)(local_20 + 0x40) < *(int *)(local_20 + 0x3c)) {
                    local_d = '\x01';
                    break;
                }
            }
            if (local_d != '\x01') {
                for (local_18 = 0; local_18 < DAT_00092028;
                     local_18 = local_18 + 1) {
                    *(undefined4 *)(*(int *)(DAT_000920cc + local_18 * 4) +
                                    0x40) = 0;
                }
                DAT_000899a0 = DAT_000899a0 + 1;
                if (DAT_00092028 <= DAT_000899a0) {
                    DAT_000899a0 = 0;
                }
            }
            local_14 = 0;
            while (true) {
                local_c = (undefined4 *)0x0;
                iVar3 = local_14 + 1;
                bVar1 = DAT_00092028 <= local_14;
                local_14 = iVar3;
                if (bVar1)
                    break;
                local_c = *(undefined4 **)(DAT_000920cc + DAT_000899a0 * 4);
                iVar3 = local_c[0x10];
                local_c[0x10] = iVar3 + 1;
                if (iVar3 < (int)local_c[0xf]) {
                    cVar2 = FUN_000337a8(local_c);
                    if (cVar2 != '\x01')
                        break;
                    if (DAT_0009412d != '\0') {
                        iVar3 = FUN_0003636c(0);
                        *(int *)(iVar3 + 0x40) = *(int *)(iVar3 + 0x40) + -1;
                    }
                }
                DAT_000899a0 = DAT_000899a0 + 1;
                if (DAT_00092028 <= DAT_000899a0) {
                    DAT_000899a0 = 0;
                }
            }
            if (local_c == (undefined4 *)0x0) {
                for (local_18 = 0; local_18 < DAT_00092028;
                     local_18 = local_18 + 1) {
                    local_24 = (undefined4 *)FUN_0003636c(local_18);
                    cVar2 = FUN_000337a8(local_24);
                    if (cVar2 != '\x01') {
                        local_c = local_24;
                        break;
                    }
                }
            }
            if (local_c == (undefined4 *)0x0) {
                local_c = local_1c;
            }
        }
    }
    if ((DAT_00087768 != '\0') &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (6 < DAT_0008697c)))) {
        snprintf(acStack_824, 0x800, "Selecting pool %d for work", *local_c);
        FUN_0001e4ec(7, acStack_824, 0);
    }
    return local_c;
}

undefined4 FUN_00033cf4(undefined4 *param_1)

{
    double dVar1;
    double dVar2;
    double dVar3;
    double dVar4;
    undefined4 local_18;

    dVar1 = (double)FUN_00068e74(param_1[6], param_1[7]);
    dVar2 = (double)FUN_00068e74(param_1[4], param_1[5]);
    dVar3 = (double)FUN_00068e74(param_1[2], param_1[3]);
    dVar4 = (double)FUN_00068e74(*param_1, param_1[1]);
    local_18 =
        SUB84(dVar1 * 6.277101735386681e+57 + dVar2 * 3.402823669209385e+38 +
                  dVar3 * 1.8446744073709552e+19 + dVar4,
              0);
    return local_18;
}

undefined4 FUN_00033e00(undefined4 param_1)

{
    undefined4 uVar1;
    undefined4 extraout_s1;
    undefined8 local_10;

    uVar1 = FUN_00033cf4(param_1);
    local_10 = (double)CONCAT44(extraout_s1, uVar1);
    if (local_10 == 0.0) {
        local_10 = 1.0;
    }
    return SUB84(2.695953529101131e+67 / local_10, 0);
}

void FUN_00033e64(int param_1)

{
    double dVar1;
    double dVar2;
    double dVar3;
    double dVar4;
    undefined4 uVar5;
    int iVar6;
    double *pdVar7;
    undefined4 uVar8;
    double in_d0;
    undefined4 extraout_s1;
    double dVar9;
    undefined8 uVar10;
    undefined4 local_30;
    undefined4 uStack_2c;

    iVar6 = *(int *)(param_1 + 0x104);
    if (in_d0 == 0.0) {
        uVar5 = FUN_00033e00(param_1 + 0xa0);
        *(ulonglong *)(param_1 + 0x178) = CONCAT44(extraout_s1, uVar5);
    } else {
        local_30 = SUB84(in_d0, 0);
        uStack_2c = (undefined4)((ulonglong)in_d0 >> 0x20);
        *(undefined4 *)(param_1 + 0x178) = local_30;
        *(undefined4 *)(param_1 + 0x17c) = uStack_2c;
    }
    pdVar7 = (double *)(param_1 + 0x178);
    uVar5 = *(undefined4 *)pdVar7;
    uVar8 = *(undefined4 *)(param_1 + 0x17c);
    dVar4 = *pdVar7;
    dVar3 = *pdVar7;
    dVar2 = *pdVar7;
    dVar1 = *pdVar7;
    dVar9 = *pdVar7;
    *(undefined4 *)(iVar6 + 0x1e0) = uVar5;
    *(undefined4 *)(iVar6 + 0x1e4) = uVar8;
    dVar9 = round(dVar9);
    uVar10 = FUN_00068f40(SUB84(dVar9, 0), (int)((ulonglong)dVar9 >> 0x20));
    FUN_00032154((int)uVar10, (int)((ulonglong)uVar10 >> 0x20),
                 *(int *)(param_1 + 0x104) + 0x30, 8, 0);
    if (*(double *)(iVar6 + 0x1d0) == dVar1) {
        *(int *)(iVar6 + 0x1e8) = *(int *)(iVar6 + 0x1e8) + 1;
    } else if ((dVar2 < *(double *)(iVar6 + 0x1d0)) ||
               (*(double *)(iVar6 + 0x1d0) == 0.0)) {
        *(undefined4 *)(iVar6 + 0x1d0) = uVar5;
        *(undefined4 *)(iVar6 + 0x1d4) = uVar8;
        *(undefined4 *)(iVar6 + 0x1e8) = 1;
    }
    if (*(double *)(iVar6 + 0x1d8) == dVar3) {
        *(int *)(iVar6 + 0x1ec) = *(int *)(iVar6 + 0x1ec) + 1;
    } else if (*(double *)(iVar6 + 0x1d8) < dVar4) {
        *(undefined4 *)(iVar6 + 0x1d8) = uVar5;
        *(undefined4 *)(iVar6 + 0x1dc) = uVar8;
        *(undefined4 *)(iVar6 + 0x1ec) = 1;
    }
    return;
}

void FUN_00034004(int param_1)

{
    *(undefined4 *)(param_1 + 0x178) = 0;
    *(undefined4 *)(param_1 + 0x17c) = 0x40400000;
    FUN_0002befc(param_1 + 0xa0, &DAT_0008988c, 0x20, "cgminer.c",
                 "get_benchmark_work", 0x10e8);
    *(undefined4 *)(param_1 + 0xf4) = 0;
    *(undefined1 *)(param_1 + 0x11a) = 1;
    *(undefined4 *)(param_1 + 0x104) = *DAT_000920cc;
    FUN_00022308(param_1 + 400);
    FUN_00021ca0(param_1 + 0x198, param_1 + 400);
    *(undefined1 *)(param_1 + 0x1b8) = 0x42;
    return;
}

void FUN_000340d0(undefined4 param_1, uint param_2)

{
    uint local_c18;
    char acStack_c10[2048];
    undefined1 auStack_410[1024];
    int local_10;
    int local_c;

    local_c = 0;
    local_c18 = param_2;
    for (local_10 = 0; local_10 < 4; local_10 = local_10 + 1) {
        local_c = local_c * 0x100 + (local_c18 & 0xff);
        local_c18 = local_c18 >> 8;
    }
    FUN_0002067c(auStack_410, param_1, 0x80);
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (2 < DAT_0008697c)) {
        snprintf(acStack_c10, 0x800, "BENCHFILE nonce %u=0x%08x for work=%s",
                 local_c, local_c, auStack_410);
        FUN_0001e4ec(3, acStack_c10, 0);
    }
    return;
}

undefined4 FUN_000341f4(void *param_1)

{
    int iVar1;
    char *pcVar2;
    undefined4 uVar3;
    byte *pbVar4;
    char local_1030[2048];
    byte *local_830;
    int local_82c;
    int local_828;
    char *local_824;
    char *local_820;
    char acStack_81c[8];
    char acStack_814[1016];
    byte local_41c[1024];
    long local_1c;
    size_t local_18;
    size_t local_14;
    int local_10;
    char local_9;

    local_9 = '\0';
    if (DAT_00087fa4 == (FILE *)0x0) {
        if (DAT_00091f78 == (char *)0x0) {
            builtin_strncpy(local_1030, "BENCHFILE Invalid benchfile NULL",
                            0x20);
            local_1030[0x20] = 0;
            FUN_0001e4ec(3, local_1030, 1);
            FUN_0004bfb0(1);
        } else {
            DAT_00087fa4 = fopen64(DAT_00091f78, "r");
        }
        if (DAT_00087fa4 == (FILE *)0x0) {
            snprintf(local_1030, 0x800,
                     "BENCHFILE Failed to open benchfile \'%s\'", DAT_00091f78);
            FUN_0001e4ec(3, local_1030, 1);
            FUN_0004bfb0(1);
        }
        DAT_00087fa8 = 0;
        pcVar2 = fgets((char *)local_41c, 0x400, DAT_00087fa4);
        if (pcVar2 == (char *)0x0) {
            snprintf(local_1030, 0x800,
                     "BENCHFILE Failed to read benchfile \'%s\'", DAT_00091f78);
            FUN_0001e4ec(3, local_1030, 1);
            FUN_0004bfb0(1);
        }
        local_9 = '\x01';
        DAT_00087fac = 0;
    }
    if ((local_9 == '\x01') ||
        (pcVar2 = fgets((char *)local_41c, 0x400, DAT_00087fa4),
         pcVar2 != (char *)0x0)) {
        do {
            DAT_00087fa8 = DAT_00087fa8 + 1;
            if ((local_41c[0] != 0) &&
                ((local_41c[0] != 0x23 && (local_41c[0] != 0x2f)))) {
                local_830 = local_41c;
                for (local_10 = 1; local_10 < 5; local_10 = local_10 + 1) {
                    pbVar4 = (byte *)strchr((char *)(&local_830)[local_10 + -1],
                                            0x2c);
                    (&local_830)[local_10] = pbVar4;
                    if ((&local_830)[local_10] == (byte *)0x0) {
                        snprintf(local_1030, 0x800,
                                 "BENCHFILE Invalid input file line %d - field "
                                 "count is %d but should be %d",
                                 DAT_00087fa8, local_10, 5);
                        FUN_0001e4ec(3, local_1030, 1);
                        FUN_0004bfb0(1);
                    }
                    local_18 = (int)(&local_830)[local_10] -
                               (int)(&local_830)[local_10 + -1];
                    if (((&DAT_00086bf8)[(local_10 + -1) * 2] != 0) &&
                        ((&DAT_00086bf8)[(local_10 + -1) * 2] != local_18)) {
                        snprintf(local_1030, 0x800,
                                 "BENCHFILE Invalid input file line %d field "
                                 "%d (%s) length is %d but should be %d",
                                 DAT_00087fa8, local_10,
                                 (&DAT_00086bfc)[(local_10 + -1) * 2], local_18,
                                 (&DAT_00086bf8)[(local_10 + -1) * 2]);
                        FUN_0001e4ec(3, local_1030, 1);
                        FUN_0004bfb0(1);
                    }
                    pbVar4 = (&local_830)[local_10];
                    (&local_830)[local_10] = pbVar4 + 1;
                    *pbVar4 = 0;
                }
                local_18 = strlen(local_820);
                if ((int)local_18 < DAT_00086c18) {
                    snprintf(local_1030, 0x800,
                             "BENCHFILE Invalid input file line %d field %d "
                             "(%s) length is %d but should be least %d",
                             DAT_00087fa8, 5, DAT_00086c1c, local_18,
                             DAT_00086c18);
                    FUN_0001e4ec(3, local_1030, 1);
                    FUN_0004bfb0(1);
                }
                sprintf(acStack_81c, "0000000%c", (uint)*local_830);
                local_14 = strlen(acStack_81c);
                local_10 = DAT_00086c08;
                while (local_10 = local_10 + -8, iVar1 = DAT_00086c00,
                       -1 < local_10) {
                    sprintf(acStack_81c + local_14, "%.8s",
                            local_828 + local_10);
                    local_14 = local_14 + 8;
                }
                while (local_10 = iVar1 + -8, -1 < local_10) {
                    sprintf(acStack_81c + local_14, "%.8s",
                            local_82c + local_10);
                    local_14 = local_14 + 8;
                    iVar1 = local_10;
                }
                local_1c = atol(local_820);
                sprintf(acStack_81c + local_14, "%08lx", local_1c);
                pcVar2 = acStack_814 + local_14;
                local_14 = local_14 + 8;
                strcpy(pcVar2, local_824);
                local_14 = local_14 + DAT_00086c10;
                memset(param_1, 0, 0x1c0);
                FUN_000207e8(param_1, acStack_81c, (int)local_14 >> 1);
                FUN_00031cf4(param_1);
                DAT_00087fac = DAT_00087fac + 1;
                return 1;
            }
            pcVar2 = fgets((char *)local_41c, 0x400, DAT_00087fa4);
        } while (pcVar2 != (char *)0x0);
        if (DAT_00087fac == 0) {
            snprintf(local_1030, 0x800, "BENCHFILE No work in benchfile \'%s\'",
                     DAT_00091f78);
            FUN_0001e4ec(3, local_1030, 1);
            FUN_0004bfb0(1);
        }
        fclose(DAT_00087fa4);
        DAT_00087fa4 = (FILE *)0x0;
        uVar3 = FUN_000341f4(param_1);
    } else {
        if (DAT_00087fac == 0) {
            snprintf(local_1030, 0x800, "BENCHFILE No work in benchfile \'%s\'",
                     DAT_00091f78);
            FUN_0001e4ec(3, local_1030, 1);
            FUN_0004bfb0(1);
        }
        fclose(DAT_00087fa4);
        DAT_00087fa4 = (FILE *)0x0;
        uVar3 = FUN_000341f4(param_1);
    }
    return uVar3;
}

void FUN_00034aa8(int param_1)

{
    FUN_000341f4(param_1);
    *(undefined1 *)(param_1 + 0x11a) = 1;
    *(undefined4 *)(param_1 + 0x104) = *DAT_000920cc;
    FUN_00022308(param_1 + 400);
    FUN_00021ca0(param_1 + 0x198, param_1 + 400);
    *(undefined1 *)(param_1 + 0x1b8) = 0x42;
    FUN_00033e64(0, param_1);
    return;
}

void FUN_00034b38(undefined4 param_1)

{
    FUN_0002bdcc(FUN_00021a0c, param_1, 1000);
    return;
}

void FUN_00034b64(void)

{
    char local_814[24];
    undefined2 local_7fc;
    undefined1 local_7fa;
    int local_14;
    pthread_t *local_10;
    int local_c;

    if ((DAT_00087768 != '\0') &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (6 < DAT_0008697c)))) {
        builtin_strncpy(local_814, "Killing off mining threa", 0x18);
        local_7fc = 0x7364;
        local_7fa = 0;
        FUN_0001e4ec(7, local_814, 1);
    }
    for (local_c = 0; local_c < DAT_000953f0; local_c = local_c + 1) {
        local_10 = (pthread_t *)0x0;
        local_14 = FUN_0002eef8(local_c);
        if ((local_14 != 0) && (*(int *)(local_14 + 0xc) != 0)) {
            local_10 = (pthread_t *)(local_14 + 0xc);
        }
        FUN_00021a0c(local_14);
        if ((local_10 != (pthread_t *)0x0) && (*local_10 != 0)) {
            pthread_join(*local_10, (void **)0x0);
        }
    }
    return;
}

void FUN_00034cc4(void)

{
    char local_814[20];
    undefined4 local_800;
    char acStack_7fc[2024];
    int local_14;
    int local_10;
    int local_c;

    if (DAT_00087894 == '\x01') {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (5 < DAT_0008697c)) {
            builtin_strncpy(local_814, "Received kill messag", 0x14);
            local_800._0_2_ = 0x65;
            FUN_0001e4ec(6, local_814, 1);
        }
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            builtin_strncpy(local_814, "Killing off watchpoo", 0x14);
            local_800._0_1_ = 'l';
            local_800._1_1_ = ' ';
            local_800._2_1_ = 't';
            local_800._3_1_ = 'h';
            builtin_strncpy(acStack_7fc, "read", 4);
            acStack_7fc[4] = 0;
            FUN_0001e4ec(7, local_814, 1);
        }
        local_10 = DAT_00091f88 + DAT_00087fcc * 0x40;
        FUN_00034b38(local_10);
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            builtin_strncpy(local_814, "Killing off watchdog", 0x14);
            local_800._0_1_ = ' ';
            local_800._1_1_ = 't';
            local_800._2_1_ = 'h';
            local_800._3_1_ = 'r';
            builtin_strncpy(acStack_7fc, "ead", 4);
            FUN_0001e4ec(7, local_814, 1);
        }
        local_10 = DAT_00091f88 + DAT_00087fd0 * 0x40;
        FUN_00034b38(local_10);
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            builtin_strncpy(local_814, "Shutting down mining", 0x14);
            local_800._0_1_ = ' ';
            local_800._1_1_ = 't';
            local_800._2_1_ = 'h';
            local_800._3_1_ = 'r';
            builtin_strncpy(acStack_7fc, "eads", 4);
            acStack_7fc[4] = 0;
            FUN_0001e4ec(7, local_814, 1);
        }
        for (local_c = 0; local_c < DAT_000953f0; local_c = local_c + 1) {
            local_10 = FUN_0002eef8(local_c);
            if ((local_10 != 0) &&
                (local_14 = *(int *)(local_10 + 0x24), local_14 != 0)) {
                *(undefined1 *)(local_14 + 0x16c) = 1;
            }
        }
        sleep(1);
        FUN_0002bdcc(FUN_00034b64, 0, 3000);
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            builtin_strncpy(local_814, "Killing off API thre", 0x14);
            local_800._0_3_ = 0x6461;
            FUN_0001e4ec(7, local_814, 1);
        }
        local_10 = DAT_00091f88 + DAT_00087fd4 * 0x40;
        FUN_00034b38(local_10);
    }
    return;
}

void FUN_00035114(void)

{
    char local_808[24];
    undefined2 local_7f0;

    FUN_0002bdcc(FUN_00034cc4, 0, 5000);
    builtin_strncpy(local_808, "Shutdown signal received", 0x18);
    local_7f0 = 0x2e;
    FUN_0001e4ec(3, local_808, 1);
    FUN_0004bfb0(0);
    return;
}

void FUN_00035188(void)

{
    char local_808[28];
    undefined2 local_7ec;

    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        snprintf(local_808, 0x800, "Attempting to restart %s", &DAT_00087ea4);
        FUN_0001e4ec(4, local_808, 0);
    }
    FUN_0002bdcc(FUN_00034cc4, 0, 5000);
    FUN_0004bd7c(1);
    if (0 < DAT_00088144) {
        kill(DAT_00088144, 0xf);
        DAT_00088144 = 0;
    }
    execv(*DAT_000898ac, DAT_000898ac);
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        builtin_strncpy(local_808, "Failed to restart applicatio", 0x1c);
        local_7ec = 0x6e;
        FUN_0001e4ec(4, local_808, 0);
    }
    return;
}

void FUN_00035310(void)

{
    sigaction(0xf, (sigaction *)&DAT_00091f98, (sigaction *)0x0);
    sigaction(2, (sigaction *)&DAT_0009524c, (sigaction *)0x0);
    sigaction(6, (sigaction *)&DAT_00095400, (sigaction *)0x0);
    FUN_00035114();
    return;
}

void FUN_00035368(undefined4 param_1, int param_2)

{
    undefined4 uVar1;
    undefined4 local_14;
    int local_10;
    undefined4 *local_c;

    local_c = &local_14;
    FUN_000207e8(&local_14, param_1, 4);
    local_10 = FUN_0002de60(*local_c);
    local_10 = local_10 + param_2;
    uVar1 = FUN_0002de60(local_10);
    *local_c = uVar1;
    FUN_0002067c(param_1, &local_14, 4);
    return;
}

void FUN_000353e8(int param_1)

{
    undefined4 uVar1;
    char local_810[2048];
    int local_10;
    undefined4 *local_c;

    local_c = (undefined4 *)(param_1 + 0x44);
    local_10 = FUN_0002de60(*local_c);
    local_10 = local_10 + 1;
    uVar1 = FUN_0002de60(local_10);
    *local_c = uVar1;
    DAT_000920dc = DAT_000920dc + 1;
    *(int *)(param_1 + 0xf0) = *(int *)(param_1 + 0xf0) + 1;
    *(undefined4 *)(param_1 + 0xf8) = 0;
    if ((DAT_00087768 != '\0') &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (6 < DAT_0008697c)))) {
        builtin_strncpy(local_810, "Successfully rolled work", 0x18);
        local_810[0x18] = 0;
        FUN_0001e4ec(7, local_810, 0);
    }
    if (*(int *)(param_1 + 0x134) != 0) {
        FUN_00035368(*(undefined4 *)(param_1 + 0x134), 1);
    }
    uVar1 = FUN_00031d94();
    *(undefined4 *)(param_1 + 0x154) = uVar1;
    return;
}

int FUN_00035550(undefined4 param_1)

{
    int iVar1;

    iVar1 = FUN_000358f8(param_1, 0);
    *(undefined1 *)(iVar1 + 0x111) = 1;
    FUN_00022308(iVar1 + 0x1a0);
    *(undefined1 *)(iVar1 + 0x118) = 0;
    *(undefined1 *)(iVar1 + 0x11a) = 0;
    *(int *)(iVar1 + 0x108) = *(int *)(iVar1 + 0x108) + -1;
    return iVar1;
}

undefined4 FUN_000355c8(void)

{
    pthread_t __th;

    __th = pthread_self();
    pthread_detach(__th);
    return 0;
}

undefined4 FUN_000355f8(undefined4 param_1, int param_2)

{
    undefined4 uVar1;
    undefined4 local_14;
    int local_10;
    undefined4 *local_c;

    local_c = &local_14;
    FUN_000207e8(&local_14, param_1, 4);
    local_10 = FUN_0002de60(*local_c);
    local_10 = local_10 + param_2;
    uVar1 = FUN_0002de60(local_10);
    *local_c = uVar1;
    uVar1 = FUN_00020744(&local_14, 4);
    return uVar1;
}

void FUN_0003567c(int param_1, int param_2, int param_3)

{
    char *pcVar1;
    int iVar2;
    undefined4 uVar3;

    uVar3 = *(undefined4 *)(param_1 + 0x154);
    FUN_00031ed8(param_1);
    FUN_0002befc(param_1, param_2, 0x1c0, "cgminer.c", "_copy_work", 0x1396);
    *(undefined4 *)(param_1 + 0x154) = uVar3;
    if (*(int *)(param_2 + 0x120) != 0) {
        pcVar1 = strdup(*(char **)(param_2 + 0x120));
        *(char **)(param_1 + 0x120) = pcVar1;
    }
    if (*(int *)(param_2 + 0x140) != 0) {
        pcVar1 = strdup(*(char **)(param_2 + 0x140));
        *(char **)(param_1 + 0x140) = pcVar1;
    }
    if (*(int *)(param_2 + 0x134) == 0) {
        if (param_3 != 0) {
            iVar2 = FUN_0002de60(*(undefined4 *)(param_1 + 0x44));
            uVar3 = FUN_0002de60(iVar2 + param_3);
            *(undefined4 *)(param_1 + 0x44) = uVar3;
        }
    } else if (param_3 == 0) {
        pcVar1 = strdup(*(char **)(param_2 + 0x134));
        *(char **)(param_1 + 0x134) = pcVar1;
    } else {
        iVar2 = FUN_0002de60(*(undefined4 *)(param_1 + 0x44));
        uVar3 = FUN_0002de60(iVar2 + param_3);
        *(undefined4 *)(param_1 + 0x44) = uVar3;
        uVar3 = FUN_000355f8(*(undefined4 *)(param_2 + 0x134), param_3);
        *(undefined4 *)(param_1 + 0x134) = uVar3;
    }
    if (*(int *)(param_2 + 0x148) != 0) {
        pcVar1 = strdup(*(char **)(param_2 + 0x148));
        *(char **)(param_1 + 0x148) = pcVar1;
    }
    *(undefined4 *)(param_1 + 0x1bc) = *(undefined4 *)(param_2 + 0x1bc);
    return;
}

void FUN_00035880(int param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_0002de60(param_2);
    *(undefined4 *)(param_1 + 0x44) = uVar1;
    if (*(int *)(param_1 + 0x134) != 0) {
        free(*(void **)(param_1 + 0x134));
        uVar1 = FUN_00020744((undefined4 *)(param_1 + 0x44), 4);
        *(undefined4 *)(param_1 + 0x134) = uVar1;
    }
    return;
}

undefined4 FUN_000358f8(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_00031e10();
    FUN_0003567c(uVar1, param_1, param_2);
    return uVar1;
}

void FUN_00035934(undefined4 *param_1)

{
    char cVar1;
    undefined4 *puVar2;
    char acStack_808[2048];

    cVar1 = FUN_0002f88c(param_1, (int)param_1 + 0x61);
    if (cVar1 != '\x01') {
        FUN_00022308(param_1 + 0x22);
        puVar2 = (undefined4 *)FUN_0002f984();
        if (puVar2 == param_1) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (3 < DAT_0008697c)) {
                snprintf(acStack_808, 0x800, "Pool %d %s not responding!",
                         *param_1, param_1[0x29]);
                FUN_0001e4ec(4, acStack_808, 0);
            }
            FUN_000364ac(0);
        } else if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                   (5 < DAT_0008697c)) {
            snprintf(acStack_808, 0x800, "Pool %d %s failed to return work",
                     *param_1, param_1[0x29]);
            FUN_0001e4ec(6, acStack_808, 0);
        }
    }
    return;
}

undefined4 FUN_00035aac(int param_1, char param_2)

{
    int iVar1;
    undefined4 uVar2;
    char local_820[24];
    uint local_808;
    char acStack_804[4];
    uint local_800;
    char acStack_7fc[4];
    undefined2 local_7f8;
    int local_20[2];
    int local_18;
    int local_14;
    char local_d;
    int local_c;

    if ((DAT_00087fb0 == '\0') && (DAT_00091f78 == 0)) {
        if (*(int *)(param_1 + 0x150) == DAT_0008808c) {
            if (DAT_00086c2c < *(int *)(param_1 + 0x114)) {
                local_c = *(int *)(param_1 + 0x114);
            } else {
                local_c = DAT_00086c30;
            }
            local_14 = *(int *)(param_1 + 0x104);
            if ((param_2 != '\x01') && (*(char *)(local_14 + 0x290) != '\0')) {
                if ((*(char *)(local_14 + 0x291) != '\x01') ||
                    (*(char *)(local_14 + 0x293) != '\x01')) {
                    if ((DAT_00087768 != '\0') &&
                        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                          (6 < DAT_0008697c)))) {
                        builtin_strncpy(local_820, "Work stale due to stratu",
                                        0x18);
                        local_808._0_1_ = 'm';
                        local_808._1_1_ = ' ';
                        local_808._2_1_ = 'i';
                        local_808._3_1_ = 'n';
                        builtin_strncpy(acStack_804, "acti", 4);
                        local_800 = CONCAT13(local_800._3_1_, 0x6576);
                        FUN_0001e4ec(7, local_820, 0);
                    }
                    return 1;
                }
                local_d = '\x01';
                FUN_0002e91c(local_14 + 0xd4, "cgminer.c", "stale_work",
                             0x1420);
                iVar1 = strcmp(*(char **)(param_1 + 0x120),
                               *(char **)(local_14 + 0x2b0));
                if (iVar1 != 0) {
                    local_d = '\0';
                }
                FUN_0002ea38(local_14 + 0xd4, "cgminer.c", "stale_work",
                             0x1427);
                if (local_d != '\x01') {
                    if ((DAT_00087768 != '\0') &&
                        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                          (6 < DAT_0008697c)))) {
                        builtin_strncpy(local_820, "Work stale due to stratu",
                                        0x18);
                        local_808._0_1_ = 'm';
                        local_808._1_1_ = ' ';
                        local_808._2_1_ = 'j';
                        local_808._3_1_ = 'o';
                        builtin_strncpy(acStack_804, "b_id", 4);
                        local_800._0_1_ = ' ';
                        local_800._1_1_ = 'm';
                        local_800._2_1_ = 'i';
                        local_800._3_1_ = 's';
                        builtin_strncpy(acStack_7fc, "matc", 4);
                        local_7f8 = 0x68;
                        FUN_0001e4ec(7, local_820, 0);
                    }
                    return 1;
                }
            }
            local_18 =
                (int)(longlong)(*(double *)(local_14 + 0x1c0) * 5.0 + 1.0);
            local_c = local_c - local_18;
            if (local_c < 5) {
                local_c = 5;
            }
            FUN_00022308(local_20);
            if (local_20[0] - *(int *)(param_1 + 0x108) < local_c) {
                if (((DAT_0009412d == '\0') || (param_2 == '\x01')) ||
                    ((iVar1 = FUN_0002f984(),
                      iVar1 == local_14 ||
                          (((*(char *)(param_1 + 0x11a) == '\x01' ||
                             (DAT_00087e6c == 3)) ||
                            (DAT_00087e6c == 4)))))) {
                    uVar2 = 0;
                } else {
                    if ((DAT_00087768 != '\0') &&
                        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                          (6 < DAT_0008697c)))) {
                        builtin_strncpy(local_820, "Work stale due to fail o",
                                        0x18);
                        local_808._0_1_ = 'n';
                        local_808._1_1_ = 'l';
                        local_808._2_1_ = 'y';
                        local_808._3_1_ = ' ';
                        builtin_strncpy(acStack_804, "pool", 4);
                        local_800._0_1_ = ' ';
                        local_800._1_1_ = 'm';
                        local_800._2_1_ = 'i';
                        local_800._3_1_ = 's';
                        builtin_strncpy(acStack_7fc, "matc", 4);
                        local_7f8 = 0x68;
                        FUN_0001e4ec(7, local_820, 0);
                    }
                    uVar2 = 1;
                }
            } else {
                if ((DAT_00087768 != '\0') &&
                    (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                      (6 < DAT_0008697c)))) {
                    builtin_strncpy(local_820, "Work stale due to expiry",
                                    0x18);
                    local_808 = local_808 & 0xffffff00;
                    FUN_0001e4ec(7, local_820, 0);
                }
                uVar2 = 1;
            }
        } else {
            if ((DAT_00087768 != '\0') &&
                (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                  (6 < DAT_0008697c)))) {
                builtin_strncpy(local_820, "Work stale due to block ", 0x18);
                local_808._0_1_ = 'm';
                local_808._1_1_ = 'i';
                local_808._2_1_ = 's';
                local_808._3_1_ = 'm';
                builtin_strncpy(acStack_804, "atch", 4);
                local_800 = local_800 & 0xffffff00;
                FUN_0001e4ec(7, local_820, 0);
            }
            uVar2 = 1;
        }
    } else {
        uVar2 = 0;
    }
    return uVar2;
}

undefined8 FUN_0003608c(int param_1)

{
    undefined8 uVar1;
    uint uVar2;
    bool bVar3;
    undefined4 uVar4;
    undefined4 extraout_s1;
    double dVar5;
    char acStack_828[2048];
    undefined8 local_28;
    undefined4 local_20;
    undefined4 uStack_1c;
    double local_18;
    char local_9;

    local_9 = '\0';
    local_20 = 0;
    uStack_1c = 0x4defffe0;
    uVar4 = FUN_00033cf4(param_1 + 0xc0);
    local_18 = (double)CONCAT44(extraout_s1, uVar4);
    if (local_18 == 0.0) {
        local_18 = 0.0;
    }
    dVar5 = round((double)CONCAT44(uStack_1c, local_20) / local_18);
    local_28 = FUN_00068f40(SUB84(dVar5, 0), (int)((ulonglong)dVar5 >> 0x20));
    FUN_0002e980(&DAT_00095310, "cgminer.c", "share_diff", 0x145d);
    bVar3 = DAT_00087e70._4_4_ <= local_28._4_4_;
    if (local_28._4_4_ == DAT_00087e70._4_4_) {
        bVar3 = (uint)DAT_00087e70 <= (uint)local_28;
    }
    uVar1 = local_28;
    if (bVar3 && (local_28._4_4_ != DAT_00087e70._4_4_ ||
                  (uint)local_28 != (uint)DAT_00087e70)) {
        local_9 = '\x01';
        DAT_00087e70 = local_28;
        FUN_00032154((uint)local_28, local_28._4_4_, &DAT_00086c70, 8, 0);
        uVar1 = local_28;
    }
    local_28._4_4_ = (uint)((ulonglong)uVar1 >> 0x20);
    local_28._0_4_ = (uint)uVar1;
    uVar2 = *(uint *)(*(int *)(param_1 + 0x104) + 0x174);
    bVar3 = local_28._4_4_ <= uVar2;
    if (uVar2 == local_28._4_4_) {
        bVar3 = (uint)local_28 <= *(uint *)(*(int *)(param_1 + 0x104) + 0x170);
    }
    if (!bVar3) {
        *(undefined8 *)(*(int *)(param_1 + 0x104) + 0x170) = uVar1;
    }
    local_28 = uVar1;
    FUN_0002ea74(&DAT_00095310, "cgminer.c", "share_diff", 0x146b);
    uVar1 = DAT_00087e70;
    if ((local_9 != '\0') &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (5 < DAT_0008697c)))) {
        snprintf(acStack_828, 0x800, "New best share: %s", &DAT_00086c70);
        FUN_0001e4ec(6, acStack_828, 0);
        uVar1 = DAT_00087e70;
    }
    DAT_00087e70._4_4_ = (uint)((ulonglong)uVar1 >> 0x20);
    DAT_00087e70._0_4_ = (uint)uVar1;
    return local_28;
}

undefined8 FUN_00036274(int param_1)

{
    undefined4 uVar1;
    undefined4 extraout_s1;
    double dVar2;
    undefined8 local_10;

    local_10 = 0;
    if (param_1 != 0) {
        uVar1 = FUN_00033cf4(param_1 + 0xc0);
        if ((double)CONCAT44(extraout_s1, uVar1) == 0.0) {
            local_10 = 0;
        } else {
            dVar2 =
                2.695953529101131e+67 / (double)CONCAT44(extraout_s1, uVar1);
            local_10 =
                FUN_00068f40(SUB84(dVar2, 0), (int)((ulonglong)dVar2 >> 0x20));
        }
    }
    return local_10;
}

void FUN_0003630c(int param_1)

{
    undefined1 auStack_80[32];
    undefined1 auStack_60[80];
    undefined1 *local_10;
    int local_c;

    local_10 = auStack_60;
    local_c = param_1;
    FUN_0002e2b0(local_10, param_1);
    FUN_0001f4d0(auStack_60, 0x50, auStack_80);
    FUN_0001f4d0(auStack_80, 0x20, param_1 + 0xc0);
    return;
}

int FUN_0003636c(int param_1)

{
    int iVar1;
    char acStack_814[2048];
    int local_14;
    int local_10;
    int local_c;

    local_c = 0;
    local_10 = 0;
    while ((iVar1 = local_c,
            local_10 < DAT_00092028 &&
                (local_14 = *(int *)(DAT_000920cc + local_10 * 4),
                 iVar1 = local_14, *(int *)(local_14 + 4) != param_1))) {
        local_10 = local_10 + 1;
    }
    local_c = iVar1;
    if (local_c == 0) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            snprintf(acStack_814, 0x800, "WTF No pool %d found!", param_1);
            FUN_0001e4ec(3, acStack_814, 0);
        }
        local_c = *(int *)(DAT_000920cc + param_1 * 4);
    }
    return local_c;
}

void FUN_000364ac(int *param_1)

{
    int iVar1;
    char acStack_81c[2048];
    int *local_1c;
    int *local_18;
    int local_14;
    int local_10;
    int local_c;

    FUN_0002e980(&DAT_00095310, "cgminer.c", "switch_pools", 0x14ba);
    local_18 = DAT_00088090;
    local_10 = *DAT_00088090;
    if ((param_1 != (int *)0x0) && (param_1[1] != 0)) {
        for (local_c = 0; local_c < DAT_00092028; local_c = local_c + 1) {
            local_1c = *(int **)(DAT_000920cc + local_c * 4);
            if (local_1c[1] < param_1[1]) {
                local_1c[1] = local_1c[1] + 1;
            }
        }
        param_1[1] = 0;
    }
    switch (DAT_00087e6c) {
    case 0:
    case 3:
    case 4:
        for (local_c = 0; local_c < DAT_00092028; local_c = local_c + 1) {
            local_1c = (int *)FUN_0003636c(local_c);
            iVar1 = FUN_000337a8(local_1c);
            if (iVar1 == 0) {
                local_10 = *local_1c;
                break;
            }
        }
        break;
    case 1:
    case 2:
        if ((param_1 == (int *)0x0) ||
            (*(char *)((int)param_1 + 0x61) == '\x01')) {
            local_14 = local_10;
            for (local_c = 1; local_c < DAT_00092028; local_c = local_c + 1) {
                local_14 = local_14 + 1;
                if (DAT_00092028 <= local_14) {
                    local_14 = 0;
                }
                local_1c = *(int **)(DAT_000920cc + local_14 * 4);
                iVar1 = FUN_000337a8(local_1c);
                if (iVar1 == 0) {
                    local_10 = local_14;
                    break;
                }
            }
        } else {
            local_10 = *param_1;
        }
    }
    DAT_00088090 = *(int **)(DAT_000920cc + local_10 * 4);
    local_1c = DAT_00088090;
    FUN_0002ea74(&DAT_00095310, "cgminer.c", "switch_pools", 0x150b);
    if (((local_1c != local_18) && (DAT_00087e6c != 3)) &&
        (DAT_00087e6c != 4)) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (3 < DAT_0008697c)) {
            snprintf(acStack_81c, 0x800, "Switching to pool %d %s", *local_1c,
                     local_1c[0x29]);
            FUN_0001e4ec(4, acStack_81c, 0);
        }
        FUN_0003efc0(local_18);
    }
    FUN_0002e354(&DAT_00088020, "cgminer.c", "switch_pools", 0x1513);
    pthread_cond_broadcast((pthread_cond_t *)&DAT_00088038);
    FUN_0002e484(&DAT_00088020, "cgminer.c", "switch_pools", 0x1515);
    return;
}

void FUN_00036898(int *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    bool bVar1;
    char local_80c[12];
    undefined4 local_800;
    char local_7fc[2032];
    int local_c;

    local_c = *param_1;
    if (local_c == 0) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            snprintf(local_80c, 0x800,
                     "Discard work called with NULL work from %s %s:%d",
                     param_2, param_3, param_4);
            FUN_0001e4ec(3, local_80c, 0);
        }
    } else {
        if (((*(char *)(local_c + 0x111) == '\x01') ||
             (*(int *)(local_c + 0xf0) != 0)) ||
            (*(char *)(local_c + 0x110) == '\x01')) {
            if ((DAT_00087768 != '\0') &&
                (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                  (6 < DAT_0008697c)))) {
                builtin_strncpy(local_80c, "Discarded cl", 0xc);
                local_800._0_1_ = 'o';
                local_800._1_1_ = 'n';
                local_800._2_1_ = 'e';
                local_800._3_1_ = 'd';
                builtin_strncpy(local_7fc, " or rolled work", 0x10);
                FUN_0001e4ec(7, local_80c, 0);
            }
        } else {
            if (*(int *)(local_c + 0x104) != 0) {
                *(int *)(*(int *)(local_c + 0x104) + 0x7c) =
                    *(int *)(*(int *)(local_c + 0x104) + 0x7c) + 1;
                *(int *)(*(int *)(local_c + 0x104) + 0x40) =
                    *(int *)(*(int *)(local_c + 0x104) + 0x40) + -1;
                *(int *)(*(int *)(local_c + 0x104) + 0x44) =
                    *(int *)(*(int *)(local_c + 0x104) + 0x44) + -1;
            }
            bVar1 = 0xfffffffe < DAT_000941d0;
            DAT_000941d0 = DAT_000941d0 + 1;
            DAT_000941d4 = DAT_000941d4 + (uint)bVar1;
            if ((DAT_00087768 != '\0') &&
                (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                  (6 < DAT_0008697c)))) {
                builtin_strncpy(local_80c, "Discarded wo", 0xc);
                local_800._0_3_ = 0x6b72;
                FUN_0001e4ec(7, local_80c, 0);
            }
        }
        FUN_00031f40(param_1, param_2, param_3, param_4);
    }
    return;
}

void FUN_00036b64(void)

{
    FUN_0002e354(DAT_00087fe4, "cgminer.c", "wake_gws", 0x1537);
    pthread_cond_signal((pthread_cond_t *)&DAT_00092030);
    FUN_0002e484(DAT_00087fe4, "cgminer.c", "wake_gws", 0x1539);
    return;
}

void FUN_00036bc4(void)

{
    int iVar1;
    char acStack_81c[2048];
    int local_1c;
    uint local_18;
    int local_14;
    int local_10;
    int local_c;

    local_10 = 0;
    FUN_0002e354(DAT_00087fe4, "cgminer.c", "discard_stale", 0x1541);
    local_1c = DAT_00087e98;
    if (DAT_00087e98 == 0) {
        local_c = 0;
    } else {
        local_c = *(int *)(DAT_00087e98 + 0x160);
    }
    while (local_1c != 0) {
        iVar1 = FUN_00035aac(local_1c, 0);
        if (iVar1 != 0) {
            if ((*(int *)(local_1c + 0x15c) == 0) &&
                (*(int *)(local_1c + 0x160) == 0)) {
                free((void *)**(undefined4 **)(DAT_00087e98 + 0x158));
                free(*(void **)(DAT_00087e98 + 0x158));
                DAT_00087e98 = 0;
            } else {
                local_14 = local_1c + 0x158;
                if (*(int *)(*(int *)(DAT_00087e98 + 0x158) + 0x10) -
                        *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0x14) ==
                    local_1c) {
                    *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0x10) =
                        *(int *)(local_1c + 0x15c) +
                        *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0x14);
                }
                if (*(int *)(local_1c + 0x15c) == 0) {
                    DAT_00087e98 = *(int *)(local_1c + 0x160);
                } else {
                    *(undefined4 *)(*(int *)(local_1c + 0x15c) +
                                    *(int *)(*(int *)(DAT_00087e98 + 0x158) +
                                             0x14) +
                                    8) = *(undefined4 *)(local_1c + 0x160);
                }
                if (*(int *)(local_1c + 0x160) != 0) {
                    *(undefined4 *)(*(int *)(local_1c + 0x160) +
                                    *(int *)(*(int *)(DAT_00087e98 + 0x158) +
                                             0x14) +
                                    4) = *(undefined4 *)(local_1c + 0x15c);
                }
                local_18 = *(int *)(*(int *)(DAT_00087e98 + 0x158) + 4) - 1U &
                           *(uint *)(local_1c + 0x174);
                iVar1 = **(int **)(DAT_00087e98 + 0x158) + local_18 * 0xc;
                *(int *)(iVar1 + 4) = *(int *)(iVar1 + 4) + -1;
                if (*(int *)(**(int **)(DAT_00087e98 + 0x158) +
                             local_18 * 0xc) == local_14) {
                    *(undefined4 *)(**(int **)(DAT_00087e98 + 0x158) +
                                    local_18 * 0xc) =
                        *(undefined4 *)(local_1c + 0x168);
                }
                if (*(int *)(local_1c + 0x164) != 0) {
                    *(undefined4 *)(*(int *)(local_1c + 0x164) + 0x10) =
                        *(undefined4 *)(local_1c + 0x168);
                }
                if (*(int *)(local_1c + 0x168) != 0) {
                    *(undefined4 *)(*(int *)(local_1c + 0x168) + 0xc) =
                        *(undefined4 *)(local_1c + 0x164);
                }
                *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0xc) =
                    *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0xc) + -1;
            }
            FUN_00036898(&local_1c, "cgminer.c", "discard_stale", 0x1548);
            local_10 = local_10 + 1;
        }
        local_1c = local_c;
        if (local_c == 0) {
            local_c = 0;
        } else {
            local_c = *(int *)(local_c + 0x160);
        }
    }
    pthread_cond_signal((pthread_cond_t *)&DAT_00092030);
    FUN_0002e484(DAT_00087fe4, "cgminer.c", "discard_stale", 0x154e);
    if (((local_10 != 0) && (DAT_00087768 != '\0')) &&
        ((DAT_00091f58 != '\0' ||
          ((DAT_00087769 != '\0' || (6 < DAT_0008697c)))))) {
        snprintf(acStack_81c, 0x800,
                 "Discarded %d stales that didn\'t match current hash",
                 local_10);
        FUN_0001e4ec(7, acStack_81c, 0);
    }
    return;
}

int FUN_00037040(int param_1, uint param_2)

{
    timespec local_2c;
    int local_24;
    int local_20;
    int local_1c;
    int local_18;
    uint local_14;
    int local_10;
    int local_c;

    local_14 = param_2 / 1000;
    local_10 = param_2 * 1000 + local_14 * -1000000;
    FUN_00022308(&local_24);
    local_1c = local_24 + local_14;
    local_18 = local_20 + local_10;
    if (999999 < local_18) {
        local_1c = local_1c + 1;
        local_18 = local_18 + -1000000;
    }
    local_2c.tv_sec = local_1c;
    local_2c.tv_nsec = local_18 * 1000;
    FUN_0002e354(&DAT_00094134, "cgminer.c", "restart_wait", 0x156c);
    if (*(char *)(param_1 + 0x3e) == '\0') {
        local_c =
            pthread_cond_timedwait((pthread_cond_t *)&DAT_00095360,
                                   (pthread_mutex_t *)&DAT_00094134, &local_2c);
    } else {
        local_c = 0;
    }
    FUN_0002e484(&DAT_00094134, "cgminer.c", "restart_wait", 0x1576);
    return local_c;
}

undefined4 FUN_00037190(void)

{
    int iVar1;
    pthread_t __th;
    int iVar2;
    int local_c;

    __th = pthread_self();
    pthread_detach(__th);
    FUN_00036bc4();
    FUN_0002e59c(&DAT_00094158, "cgminer.c", "restart_thread", 0x1583);
    iVar1 = DAT_000953f0;
    FUN_0002e704(&DAT_00094158, "cgminer.c", "restart_thread", 0x1585);
    for (local_c = 0; local_c < iVar1; local_c = local_c + 1) {
        iVar2 = *(int *)(*(int *)(DAT_000930e8 + local_c * 4) + 0x24);
        if ((iVar2 != 0) && (*(int *)(iVar2 + 0x20) == 0)) {
            *(undefined1 *)(*(int *)(DAT_000930e8 + local_c * 4) + 0x3e) = 1;
            FUN_000485cc(iVar2);
            FUN_0002e354(&DAT_000951e0, "cgminer.c", "restart_thread", 0x1598);
            (**(code **)(*(int *)(iVar2 + 4) + 0x4c))(iVar2);
            FUN_0002e484(&DAT_000951e0, "cgminer.c", "restart_thread", 0x159a);
        }
    }
    FUN_0002e354(&DAT_00094134, "cgminer.c", "restart_thread", 0x159e);
    pthread_cond_broadcast((pthread_cond_t *)&DAT_00095360);
    FUN_0002e484(&DAT_00094134, "cgminer.c", "restart_thread", 0x15a0);
    return 0;
}

void FUN_00037350(void)

{
    int iVar1;
    char local_80c[2048];
    pthread_t pStack_c;

    FUN_00022308(&DAT_00088078);
    iVar1 = pthread_create(&pStack_c, (pthread_attr_t *)0x0, FUN_00037190,
                           (void *)0x0);
    if (iVar1 != 0) {
        builtin_strncpy(local_80c, "Failed to create restart thread", 0x20);
        FUN_0001e4ec(3, local_80c, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_000373e8(void)

{
    char local_80c[2048];
    int local_c;

    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (5 < DAT_0008697c)) {
        builtin_strncpy(local_80c, "Work update message received", 0x1c);
        local_80c[0x1c] = 0;
        FUN_0001e4ec(6, local_80c, 0);
    }
    FUN_00022308(&DAT_00088080);
    FUN_0002e59c(&DAT_00094158, "cgminer.c", "signal_work_update", 0x15c1);
    for (local_c = 0; local_c < DAT_000953f0; local_c = local_c + 1) {
        *(undefined1 *)(*(int *)(DAT_000930e8 + local_c * 4) + 0x3f) = 1;
    }
    FUN_0002e704(&DAT_00094158, "cgminer.c", "signal_work_update", 0x15c8);
    return;
}

void FUN_00037528(char *param_1, undefined4 param_2)

{
    char acStack_80c[2048];
    int local_c;

    FUN_0002e980(&DAT_000952d8, "cgminer.c", "set_curblock", 0x15cf);
    FUN_00022308(&DAT_00091f7c);
    strcpy(&DAT_000953ac, param_1);
    FUN_0002befc(&DAT_000880b8, param_2, 0x20, "cgminer.c", "set_curblock",
                 0x15d2);
    FUN_0002edd0(&DAT_00088100, 0x20, &DAT_00091f7c);
    FUN_0002ea74(&DAT_000952d8, "cgminer.c", "set_curblock", 0x15d4);
    for (local_c = 0; (local_c < 0x39 && ((&DAT_000953ac)[local_c] == '0'));
         local_c = local_c + 1) {
    }
    strncpy(&DAT_000880ac, &DAT_000953ac + local_c, 8);
    DAT_000880b4 = 0;
    if ((DAT_00091f58 != '\0') ||
        ((DAT_00087769 != '\0' || (5 < DAT_0008697c)))) {
        snprintf(acStack_80c, 0x800, "New block: %s... diff %s", &DAT_000953ac,
                 &DAT_00088120);
        FUN_0001e4ec(6, acStack_80c, 0);
    }
    return;
}

int FUN_000376f8(int param_1, int param_2)

{
    return *(int *)(param_1 + 100) - *(int *)(param_2 + 100);
}

/* WARNING: Restarted to delay deadcode elimination for space: stack */

void FUN_00037730(int param_1)

{
    undefined4 uVar1;
    undefined4 uVar2;
    undefined8 uVar3;
    double dVar4;
    undefined8 in_d17;
    char acStack_828[2048];
    undefined8 local_28;
    double local_20;
    uint local_14;
    byte local_d;
    int local_c;

    local_d = *(byte *)(param_1 + 0x48);
    local_c = (0x1d - (uint)local_d) * 8;
    if (local_c < 8) {
        local_c = 8;
    }
    local_14 = FUN_0002de60(*(undefined4 *)(param_1 + 0x48));
    local_14 = local_14 & 0xffffff;
    uVar3 = SIMDExpandImmediate(1, 0xe, 3);
    /* WARNING: Ignoring partial resolution of indirect */
    uVar3 = VectorShiftLeft(uVar3, in_d17, 8, 1);
    local_20 =
        (double)FUN_00068e74((int)uVar3, (int)((ulonglong)uVar3 >> 0x20));
    dVar4 = local_20 / (double)local_14;
    if ((double)CONCAT44(DAT_00086c7c, DAT_00086c78) != dVar4) {
        local_28._0_4_ = SUB84(dVar4, 0);
        local_28._4_4_ = (undefined4)((ulonglong)dVar4 >> 0x20);
        uVar1 = local_28._4_4_;
        uVar2 = (undefined4)local_28;
        local_28 = dVar4;
        uVar3 = FUN_00068f40(uVar2, uVar1);
        FUN_00032154((int)uVar3, (int)((ulonglong)uVar3 >> 0x20), &DAT_00088120,
                     8);
        DAT_00086c78 = (undefined4)local_28;
        DAT_00086c7c = local_28._4_4_;
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (4 < DAT_0008697c)) {
            snprintf(acStack_828, 0x800, "Network diff set to %s",
                     &DAT_00088120);
            FUN_0001e4ec(5, acStack_828, 0);
        }
    }
    return;
}

char FUN_00037894(byte *param_1, undefined4 param_2, undefined4 param_3)

{
    byte *pbVar1;
    size_t sVar2;
    void *pvVar3;
    uint uVar4;
    uint uVar5;
    uint uVar6;
    int iVar7;
    size_t sVar8;
    undefined4 *puVar9;
    char local_89c[2048];
    int *local_9c;
    uint local_98;
    int local_94;
    void *local_90;
    uint local_8c;
    uint local_88;
    byte *local_84;
    byte *local_80;
    uint local_7c;
    int local_78;
    uint local_74;
    byte *local_70;
    uint local_6c;
    uint local_68;
    uint local_64;
    uint local_60;
    byte *local_5c;
    byte *local_58;
    byte *local_54;
    byte *local_50;
    byte *local_4c;
    uint local_48;
    int local_44;
    uint local_40;
    uint local_3c;
    int local_38;
    uint local_34;
    byte *local_30;
    uint local_2c;
    uint local_28;
    uint local_24;
    uint local_20;
    char local_19;
    byte *local_18;
    int local_14;

    local_14 = 0;
    local_19 = '\x01';
    FUN_0002e4cc(&DAT_00087fe8, "cgminer.c", "block_exists", 0x1606);
    local_20 = 0xfeedbeef;
    local_28 = 0x9e3779b9;
    local_24 = 0x9e3779b9;
    local_30 = param_1;
    for (local_2c = strlen((char *)param_1); 0xb < local_2c;
         local_2c = local_2c - 0xc) {
        iVar7 = local_28 + (uint)local_30[4] + (uint)local_30[5] * 0x100 +
                (uint)local_30[6] * 0x10000 + (uint)local_30[7] * 0x1000000;
        local_20 = local_20 + (uint)local_30[8] + (uint)local_30[9] * 0x100 +
                   (uint)local_30[10] * 0x10000 +
                   (uint)local_30[0xb] * 0x1000000;
        uVar4 = local_20 >> 0xd ^
                ((local_24 + (uint)*local_30 + (uint)local_30[1] * 0x100 +
                  (uint)local_30[2] * 0x10000 + (uint)local_30[3] * 0x1000000) -
                 iVar7) -
                    local_20;
        uVar5 = uVar4 << 8 ^ (iVar7 - local_20) - uVar4;
        uVar6 = uVar5 >> 0xd ^ (local_20 - uVar4) - uVar5;
        uVar4 = uVar6 >> 0xc ^ (uVar4 - uVar5) - uVar6;
        uVar5 = uVar4 << 0x10 ^ (uVar5 - uVar6) - uVar4;
        uVar6 = uVar5 >> 5 ^ (uVar6 - uVar4) - uVar5;
        local_24 = uVar6 >> 3 ^ (uVar4 - uVar5) - uVar6;
        local_28 = local_24 << 10 ^ (uVar5 - uVar6) - local_24;
        local_20 = local_28 >> 0xf ^ (uVar6 - local_24) - local_28;
        local_30 = local_30 + 0xc;
    }
    sVar2 = strlen((char *)param_1);
    local_20 = local_20 + sVar2;
    switch (local_2c) {
    case 0xb:
        local_20 = local_20 + (uint)local_30[10] * 0x1000000;
    case 10:
        local_20 = local_20 + (uint)local_30[9] * 0x10000;
    case 9:
        local_20 = local_20 + (uint)local_30[8] * 0x100;
    case 8:
        local_28 = local_28 + (uint)local_30[7] * 0x1000000;
    case 7:
        local_28 = local_28 + (uint)local_30[6] * 0x10000;
    case 6:
        local_28 = local_28 + (uint)local_30[5] * 0x100;
    case 5:
        local_28 = local_28 + local_30[4];
    case 4:
        local_24 = local_24 + (uint)local_30[3] * 0x1000000;
    case 3:
        local_24 = local_24 + (uint)local_30[2] * 0x10000;
    case 2:
        local_24 = local_24 + (uint)local_30[1] * 0x100;
    case 1:
        local_24 = local_24 + *local_30;
    }
    uVar4 = local_20 >> 0xd ^ (local_24 - local_28) - local_20;
    uVar5 = uVar4 << 8 ^ (local_28 - local_20) - uVar4;
    uVar6 = uVar5 >> 0xd ^ (local_20 - uVar4) - uVar5;
    uVar4 = uVar6 >> 0xc ^ (uVar4 - uVar5) - uVar6;
    uVar5 = uVar4 << 0x10 ^ (uVar5 - uVar6) - uVar4;
    uVar6 = uVar5 >> 5 ^ (uVar6 - uVar4) - uVar5;
    local_24 = uVar6 >> 3 ^ (uVar4 - uVar5) - uVar6;
    local_28 = local_24 << 10 ^ (uVar5 - uVar6) - local_24;
    local_20 = local_28 >> 0xf ^ (uVar6 - local_24) - local_28;
    local_18 = (byte *)0x0;
    if (DAT_00088130 != (byte *)0x0) {
        local_7c = local_20 & *(int *)(*(int *)(DAT_00088130 + 0x44) + 4) - 1U;
        if (*(int *)(**(int **)(DAT_00088130 + 0x44) + local_7c * 0xc) == 0) {
            local_18 = (byte *)0x0;
        } else {
            local_18 = (byte *)(*(int *)(**(int **)(DAT_00088130 + 0x44) +
                                         local_7c * 0xc) -
                                *(int *)(*(int *)(DAT_00088130 + 0x44) + 0x14));
        }
        while (local_18 != (byte *)0x0) {
            if ((*(uint *)(local_18 + 0x60) == local_20) &&
                (sVar8 = *(size_t *)(local_18 + 0x5c),
                 sVar2 = strlen((char *)param_1), sVar8 == sVar2)) {
                pvVar3 = *(void **)(local_18 + 0x58);
                sVar2 = strlen((char *)param_1);
                iVar7 = memcmp(pvVar3, param_1, sVar2);
                if (iVar7 == 0)
                    break;
            }
            if (*(int *)(local_18 + 0x54) == 0) {
                local_18 = (byte *)0x0;
            } else {
                local_18 =
                    (byte *)(*(int *)(local_18 + 0x54) -
                             *(int *)(*(int *)(DAT_00088130 + 0x44) + 0x14));
            }
        }
    }
    if (local_18 == (byte *)0x0) {
        local_18 =
            (byte *)FUN_000202d4(0x68, 1, "cgminer.c", "block_exists", 0x160a);
        if (local_18 == (byte *)0x0) {
            builtin_strncpy(local_89c, "block_exists OOM", 0x10);
            local_89c[0x10] = 0;
            FUN_0001e4ec(3, local_89c, 1);
            FUN_0004bfb0(1);
        }
        strcpy((char *)local_18, (char *)param_1);
        iVar7 = DAT_000953a0 + 1;
        *(int *)(local_18 + 100) = DAT_000953a0;
        DAT_000953a0 = iVar7;
        local_19 = '\0';
        if ((DAT_00088130 != (byte *)0x0) &&
            (3 < *(uint *)(*(int *)(DAT_00088130 + 0x44) + 0xc))) {
            if (DAT_00088130 != (byte *)0x0) {
                local_40 = 1;
                local_38 = 1;
                local_58 = DAT_00088130 + 0x44;
                while (local_38 != 0) {
                    local_4c = local_58;
                    local_58 = (byte *)0x0;
                    local_5c = (byte *)0x0;
                    local_3c = 0;
                    while (local_4c != (byte *)0x0) {
                        local_3c = local_3c + 1;
                        local_50 = local_4c;
                        local_44 = 0;
                        for (local_34 = 0; local_34 < local_40;
                             local_34 = local_34 + 1) {
                            local_44 = local_44 + 1;
                            if (*(int *)(local_50 + 8) == 0) {
                                local_50 = (byte *)0x0;
                            } else {
                                local_50 =
                                    (byte *)(*(int *)(local_50 + 8) +
                                             *(int *)(*(int *)(DAT_00088130 +
                                                               0x44) +
                                                      0x14));
                            }
                            if (local_50 == (byte *)0x0)
                                break;
                        }
                        local_48 = local_40;
                        while (
                            (local_44 != 0 ||
                             ((local_48 != 0 && (local_50 != (byte *)0x0))))) {
                            if (local_44 == 0) {
                                local_54 = local_50;
                                if (*(int *)(local_50 + 8) == 0) {
                                    local_50 = (byte *)0x0;
                                } else {
                                    local_50 =
                                        (byte
                                             *)(*(int *)(local_50 + 8) +
                                                *(int *)(*(int *)(DAT_00088130 +
                                                                  0x44) +
                                                         0x14));
                                }
                                local_48 = local_48 - 1;
                            } else if ((local_48 == 0) ||
                                       (local_50 == (byte *)0x0)) {
                                local_54 = local_4c;
                                if (local_4c != (byte *)0x0) {
                                    if (*(int *)(local_4c + 8) == 0) {
                                        local_4c = (byte *)0x0;
                                    } else {
                                        local_4c =
                                            (byte
                                                 *)(*(int *)(local_4c + 8) +
                                                    *(int *)(*(int *)(DAT_00088130 +
                                                                      0x44) +
                                                             0x14));
                                    }
                                }
                                local_44 = local_44 + -1;
                            } else {
                                iVar7 = FUN_000376f8(
                                    (int)local_4c -
                                        *(int *)(*(int *)(DAT_00088130 + 0x44) +
                                                 0x14),
                                    (int)local_50 -
                                        *(int *)(*(int *)(DAT_00088130 + 0x44) +
                                                 0x14));
                                if (iVar7 < 1) {
                                    local_54 = local_4c;
                                    if (local_4c != (byte *)0x0) {
                                        if (*(int *)(local_4c + 8) == 0) {
                                            local_4c = (byte *)0x0;
                                        } else {
                                            local_4c =
                                                (byte
                                                     *)(*(int *)(local_4c + 8) +
                                                        *(int *)(*(int *)(DAT_00088130 +
                                                                          0x44) +
                                                                 0x14));
                                        }
                                    }
                                    local_44 = local_44 + -1;
                                } else {
                                    local_54 = local_50;
                                    if (*(int *)(local_50 + 8) == 0) {
                                        local_50 = (byte *)0x0;
                                    } else {
                                        local_50 =
                                            (byte
                                                 *)(*(int *)(local_50 + 8) +
                                                    *(int *)(*(int *)(DAT_00088130 +
                                                                      0x44) +
                                                             0x14));
                                    }
                                    local_48 = local_48 - 1;
                                }
                            }
                            if (local_5c == (byte *)0x0) {
                                local_58 = local_54;
                            } else {
                                if (local_54 == (byte *)0x0) {
                                    iVar7 = 0;
                                } else {
                                    iVar7 =
                                        (int)local_54 -
                                        *(int *)(*(int *)(DAT_00088130 + 0x44) +
                                                 0x14);
                                }
                                *(int *)(local_5c + 8) = iVar7;
                            }
                            if (local_54 != (byte *)0x0) {
                                if (local_5c == (byte *)0x0) {
                                    iVar7 = 0;
                                } else {
                                    iVar7 =
                                        (int)local_5c -
                                        *(int *)(*(int *)(DAT_00088130 + 0x44) +
                                                 0x14);
                                }
                                *(int *)(local_54 + 4) = iVar7;
                            }
                            local_5c = local_54;
                        }
                        local_4c = local_50;
                    }
                    if (local_5c != (byte *)0x0) {
                        local_5c[8] = 0;
                        local_5c[9] = 0;
                        local_5c[10] = 0;
                        local_5c[0xb] = 0;
                    }
                    if (local_3c < 2) {
                        local_38 = 0;
                        *(byte **)(*(int *)(DAT_00088130 + 0x44) + 0x10) =
                            local_5c;
                        DAT_00088130 =
                            local_58 +
                            -*(int *)(*(int *)(DAT_00088130 + 0x44) + 0x14);
                    }
                    local_40 = local_40 << 1;
                }
            }
            pbVar1 = DAT_00088130;
            local_80 = DAT_00088130;
            local_14 = *(int *)(DAT_00088130 + 100);
            if ((*(int *)(DAT_00088130 + 0x48) == 0) &&
                (*(int *)(DAT_00088130 + 0x4c) == 0)) {
                free((void *)**(undefined4 **)(DAT_00088130 + 0x44));
                free(*(void **)(DAT_00088130 + 0x44));
                DAT_00088130 = (byte *)0x0;
            } else {
                local_84 = DAT_00088130 + 0x44;
                if ((byte *)(*(int *)(*(int *)(DAT_00088130 + 0x44) + 0x10) -
                             *(int *)(*(int *)(DAT_00088130 + 0x44) + 0x14)) ==
                    DAT_00088130) {
                    *(int *)(*(int *)(DAT_00088130 + 0x44) + 0x10) =
                        *(int *)(DAT_00088130 + 0x48) +
                        *(int *)(*(int *)(DAT_00088130 + 0x44) + 0x14);
                }
                if (*(int *)(pbVar1 + 0x48) == 0) {
                    DAT_00088130 = *(byte **)(pbVar1 + 0x4c);
                } else {
                    *(undefined4 *)(*(int *)(pbVar1 + 0x48) +
                                    *(int *)(*(int *)(DAT_00088130 + 0x44) +
                                             0x14) +
                                    8) = *(undefined4 *)(pbVar1 + 0x4c);
                }
                if (*(int *)(pbVar1 + 0x4c) != 0) {
                    *(undefined4 *)(*(int *)(pbVar1 + 0x4c) +
                                    *(int *)(*(int *)(DAT_00088130 + 0x44) +
                                             0x14) +
                                    4) = *(undefined4 *)(pbVar1 + 0x48);
                }
                local_88 = *(int *)(*(int *)(DAT_00088130 + 0x44) + 4) - 1U &
                           *(uint *)(pbVar1 + 0x60);
                iVar7 = **(int **)(DAT_00088130 + 0x44) + local_88 * 0xc;
                *(int *)(iVar7 + 4) = *(int *)(iVar7 + 4) + -1;
                if (*(byte **)(**(int **)(DAT_00088130 + 0x44) +
                               local_88 * 0xc) == local_84) {
                    *(undefined4 *)(**(int **)(DAT_00088130 + 0x44) +
                                    local_88 * 0xc) =
                        *(undefined4 *)(pbVar1 + 0x54);
                }
                if (*(int *)(pbVar1 + 0x50) != 0) {
                    *(undefined4 *)(*(int *)(pbVar1 + 0x50) + 0x10) =
                        *(undefined4 *)(pbVar1 + 0x54);
                }
                if (*(int *)(pbVar1 + 0x54) != 0) {
                    *(undefined4 *)(*(int *)(pbVar1 + 0x54) + 0xc) =
                        *(undefined4 *)(pbVar1 + 0x50);
                }
                *(int *)(*(int *)(DAT_00088130 + 0x44) + 0xc) =
                    *(int *)(*(int *)(DAT_00088130 + 0x44) + 0xc) + -1;
            }
            free(local_80);
        }
        local_70 = local_18;
        local_60 = 0xfeedbeef;
        local_68 = 0x9e3779b9;
        local_64 = 0x9e3779b9;
        for (local_6c = strlen((char *)local_18); 0xb < local_6c;
             local_6c = local_6c - 0xc) {
            iVar7 = local_68 + (uint)local_70[4] + (uint)local_70[5] * 0x100 +
                    (uint)local_70[6] * 0x10000 + (uint)local_70[7] * 0x1000000;
            local_60 =
                local_60 + (uint)local_70[8] + (uint)local_70[9] * 0x100 +
                (uint)local_70[10] * 0x10000 + (uint)local_70[0xb] * 0x1000000;
            uVar4 =
                local_60 >> 0xd ^
                ((local_64 + (uint)*local_70 + (uint)local_70[1] * 0x100 +
                  (uint)local_70[2] * 0x10000 + (uint)local_70[3] * 0x1000000) -
                 iVar7) -
                    local_60;
            uVar5 = uVar4 << 8 ^ (iVar7 - local_60) - uVar4;
            uVar6 = uVar5 >> 0xd ^ (local_60 - uVar4) - uVar5;
            uVar4 = uVar6 >> 0xc ^ (uVar4 - uVar5) - uVar6;
            uVar5 = uVar4 << 0x10 ^ (uVar5 - uVar6) - uVar4;
            uVar6 = uVar5 >> 5 ^ (uVar6 - uVar4) - uVar5;
            local_64 = uVar6 >> 3 ^ (uVar4 - uVar5) - uVar6;
            local_68 = local_64 << 10 ^ (uVar5 - uVar6) - local_64;
            local_60 = local_68 >> 0xf ^ (uVar6 - local_64) - local_68;
            local_70 = local_70 + 0xc;
        }
        sVar2 = strlen((char *)local_18);
        local_60 = local_60 + sVar2;
        switch (local_6c) {
        case 0xb:
            local_60 = local_60 + (uint)local_70[10] * 0x1000000;
        case 10:
            local_60 = local_60 + (uint)local_70[9] * 0x10000;
        case 9:
            local_60 = local_60 + (uint)local_70[8] * 0x100;
        case 8:
            local_68 = local_68 + (uint)local_70[7] * 0x1000000;
        case 7:
            local_68 = local_68 + (uint)local_70[6] * 0x10000;
        case 6:
            local_68 = local_68 + (uint)local_70[5] * 0x100;
        case 5:
            local_68 = local_68 + local_70[4];
        case 4:
            local_64 = local_64 + (uint)local_70[3] * 0x1000000;
        case 3:
            local_64 = local_64 + (uint)local_70[2] * 0x10000;
        case 2:
            local_64 = local_64 + (uint)local_70[1] * 0x100;
        case 1:
            local_64 = local_64 + *local_70;
        }
        uVar4 = local_60 >> 0xd ^ (local_64 - local_68) - local_60;
        uVar5 = uVar4 << 8 ^ (local_68 - local_60) - uVar4;
        uVar6 = uVar5 >> 0xd ^ (local_60 - uVar4) - uVar5;
        uVar4 = uVar6 >> 0xc ^ (uVar4 - uVar5) - uVar6;
        uVar5 = uVar4 << 0x10 ^ (uVar5 - uVar6) - uVar4;
        uVar6 = uVar5 >> 5 ^ (uVar6 - uVar4) - uVar5;
        local_64 = uVar6 >> 3 ^ (uVar4 - uVar5) - uVar6;
        local_68 = local_64 << 10 ^ (uVar5 - uVar6) - local_64;
        local_60 = local_68 >> 0xf ^ (uVar6 - local_64) - local_68;
        *(uint *)(local_18 + 0x60) = local_60;
        *(byte **)(local_18 + 0x58) = local_18;
        sVar2 = strlen((char *)local_18);
        pbVar1 = local_18;
        *(size_t *)(local_18 + 0x5c) = sVar2;
        if (DAT_00088130 == (byte *)0x0) {
            local_18[0x4c] = 0;
            local_18[0x4d] = 0;
            local_18[0x4e] = 0;
            local_18[0x4f] = 0;
            local_18[0x48] = 0;
            local_18[0x49] = 0;
            local_18[0x4a] = 0;
            local_18[0x4b] = 0;
            DAT_00088130 = local_18;
            pvVar3 = malloc(0x2c);
            *(void **)(pbVar1 + 0x44) = pvVar3;
            if (*(int *)(DAT_00088130 + 0x44) == 0) {
                /* WARNING: Subroutine does not return */
                exit(-1);
            }
            memset(*(void **)(DAT_00088130 + 0x44), 0, 0x2c);
            *(byte **)(*(int *)(DAT_00088130 + 0x44) + 0x10) =
                DAT_00088130 + 0x44;
            *(undefined4 *)(*(int *)(DAT_00088130 + 0x44) + 4) = 0x20;
            *(undefined4 *)(*(int *)(DAT_00088130 + 0x44) + 8) = 5;
            *(undefined4 *)(*(int *)(DAT_00088130 + 0x44) + 0x14) = 0x44;
            puVar9 = *(undefined4 **)(DAT_00088130 + 0x44);
            pvVar3 = malloc(0x180);
            *puVar9 = pvVar3;
            if (**(int **)(DAT_00088130 + 0x44) == 0) {
                /* WARNING: Subroutine does not return */
                exit(-1);
            }
            memset((void *)**(undefined4 **)(DAT_00088130 + 0x44), 0, 0x180);
            *(undefined4 *)(*(int *)(DAT_00088130 + 0x44) + 0x28) = 0xa0111fe1;
        } else {
            *(undefined4 *)(local_18 + 0x44) =
                *(undefined4 *)(DAT_00088130 + 0x44);
            local_18[0x4c] = 0;
            local_18[0x4d] = 0;
            local_18[0x4e] = 0;
            local_18[0x4f] = 0;
            *(int *)(local_18 + 0x48) =
                *(int *)(*(int *)(DAT_00088130 + 0x44) + 0x10) -
                *(int *)(*(int *)(DAT_00088130 + 0x44) + 0x14);
            *(byte **)(*(int *)(*(int *)(DAT_00088130 + 0x44) + 0x10) + 8) =
                local_18;
            *(byte **)(*(int *)(DAT_00088130 + 0x44) + 0x10) = local_18 + 0x44;
        }
        *(int *)(*(int *)(DAT_00088130 + 0x44) + 0xc) =
            *(int *)(*(int *)(DAT_00088130 + 0x44) + 0xc) + 1;
        local_8c = local_60 & *(int *)(*(int *)(DAT_00088130 + 0x44) + 4) - 1U;
        iVar7 = **(int **)(DAT_00088130 + 0x44) + local_8c * 0xc;
        *(int *)(iVar7 + 4) = *(int *)(iVar7 + 4) + 1;
        *(undefined4 *)(local_18 + 0x54) =
            *(undefined4 *)(**(int **)(DAT_00088130 + 0x44) + local_8c * 0xc);
        local_18[0x50] = 0;
        local_18[0x51] = 0;
        local_18[0x52] = 0;
        local_18[0x53] = 0;
        if (*(int *)(**(int **)(DAT_00088130 + 0x44) + local_8c * 0xc) != 0) {
            *(byte **)(*(int *)(**(int **)(DAT_00088130 + 0x44) +
                                local_8c * 0xc) +
                       0xc) = local_18 + 0x44;
        }
        *(byte **)(**(int **)(DAT_00088130 + 0x44) + local_8c * 0xc) =
            local_18 + 0x44;
        if (((uint)((*(int *)(**(int **)(DAT_00088130 + 0x44) + local_8c * 0xc +
                              8) +
                     1) *
                    10) <=
             *(uint *)(**(int **)(DAT_00088130 + 0x44) + local_8c * 0xc + 4)) &&
            (*(int *)(*(int *)(local_18 + 0x44) + 0x24) != 1)) {
            local_90 = malloc(*(int *)(*(int *)(local_18 + 0x44) + 4) * 0x18);
            if (local_90 == (void *)0x0) {
                /* WARNING: Subroutine does not return */
                exit(-1);
            }
            memset(local_90, 0, *(int *)(*(int *)(local_18 + 0x44) + 4) * 0x18);
            *(uint *)(*(int *)(local_18 + 0x44) + 0x18) =
                (*(uint *)(*(int *)(local_18 + 0x44) + 0xc) >>
                 (*(int *)(*(int *)(local_18 + 0x44) + 8) + 1U & 0xff)) +
                (uint)((*(int *)(*(int *)(local_18 + 0x44) + 4) * 2 - 1U &
                        *(uint *)(*(int *)(local_18 + 0x44) + 0xc)) != 0);
            *(undefined4 *)(*(int *)(local_18 + 0x44) + 0x1c) = 0;
            for (local_74 = 0;
                 local_74 < *(uint *)(*(int *)(local_18 + 0x44) + 4);
                 local_74 = local_74 + 1) {
                local_78 =
                    *(int *)(**(int **)(local_18 + 0x44) + local_74 * 0xc);
                while (local_78 != 0) {
                    local_94 = *(int *)(local_78 + 0x10);
                    local_98 =
                        *(int *)(*(int *)(local_18 + 0x44) + 4) * 2 - 1U &
                        *(uint *)(local_78 + 0x1c);
                    local_9c = (int *)((int)local_90 + local_98 * 0xc);
                    local_9c[1] = local_9c[1] + 1;
                    if (*(uint *)(*(int *)(local_18 + 0x44) + 0x18) <
                        (uint)local_9c[1]) {
                        *(int *)(*(int *)(local_18 + 0x44) + 0x1c) =
                            *(int *)(*(int *)(local_18 + 0x44) + 0x1c) + 1;
                        iVar7 = FUN_00068648(
                            local_9c[1],
                            *(undefined4 *)(*(int *)(local_18 + 0x44) + 0x18));
                        local_9c[2] = iVar7;
                    }
                    *(undefined4 *)(local_78 + 0xc) = 0;
                    *(int *)(local_78 + 0x10) = *local_9c;
                    if (*local_9c != 0) {
                        *(int *)(*local_9c + 0xc) = local_78;
                    }
                    *local_9c = local_78;
                    local_78 = local_94;
                }
            }
            free((void *)**(undefined4 **)(local_18 + 0x44));
            *(int *)(*(int *)(local_18 + 0x44) + 4) =
                *(int *)(*(int *)(local_18 + 0x44) + 4) << 1;
            *(int *)(*(int *)(local_18 + 0x44) + 8) =
                *(int *)(*(int *)(local_18 + 0x44) + 8) + 1;
            **(undefined4 **)(local_18 + 0x44) = local_90;
            if (*(uint *)(*(int *)(local_18 + 0x44) + 0xc) >> 1 <
                *(uint *)(*(int *)(local_18 + 0x44) + 0x1c)) {
                iVar7 = *(int *)(*(int *)(local_18 + 0x44) + 0x20) + 1;
            } else {
                iVar7 = 0;
            }
            *(int *)(*(int *)(local_18 + 0x44) + 0x20) = iVar7;
            if (1 < *(uint *)(*(int *)(local_18 + 0x44) + 0x20)) {
                *(undefined4 *)(*(int *)(local_18 + 0x44) + 0x24) = 1;
            }
        }
        FUN_00037730(param_3);
        if (((local_14 != 0) && (DAT_00087768 != '\0')) &&
            ((DAT_00091f58 != '\0' ||
              ((DAT_00087769 != '\0' || (6 < DAT_0008697c)))))) {
            snprintf(local_89c, 0x800, "Deleted block %d from database",
                     local_14);
            FUN_0001e4ec(7, local_89c, 0);
        }
    }
    FUN_0002e74c(&DAT_00087fe8, "cgminer.c", "block_exists", 0x162c);
    if (local_19 != '\x01') {
        FUN_00037528(param_1, param_2);
    }
    if (((local_14 != 0) && (DAT_00087768 != '\0')) &&
        ((DAT_00091f58 != '\0' ||
          ((DAT_00087769 != '\0' || (6 < DAT_0008697c)))))) {
        snprintf(local_89c, 0x800, "Deleted block %d from database", local_14);
        FUN_0001e4ec(7, local_89c, 0);
    }
    return local_19;
}

undefined1 FUN_0003986c(int param_1)

{
    char cVar1;
    int iVar2;
    undefined1 *puVar3;
    int iVar4;
    char local_888[28];
    undefined4 local_86c;
    char local_868[20];
    undefined2 local_854;
    undefined1 local_852;
    int local_88;
    undefined1 auStack_84[68];
    undefined1 auStack_40[35];
    byte local_1d;
    int local_1c;
    undefined4 *local_18;
    undefined1 local_11;

    local_18 = *(undefined4 **)(param_1 + 0x104);
    local_11 = 1;
    local_1c = local_18[0x18c] + 0x2b;
    local_1d = *(byte *)(local_18[0x18c] + 0x2a);
    local_88 = 0;
    if (*(char *)(param_1 + 0x11a) == '\0') {
        FUN_0002df98(auStack_40, param_1 + 4);
        FUN_0002067c(auStack_84, auStack_40, 0x20);
        if (local_1d < 5) {
            FUN_0002befc(&local_88, local_1c, local_1d, "cgminer.c",
                         "test_work_current", 0x1650);
            local_88 = local_88 + -1;
        }
        FUN_0002e980(local_18 + 0x35, "cgminer.c", "test_work_current", 0x1655);
        if (*(char *)(local_18 + 0xae) != '\0') {
            *(undefined1 *)(local_18 + 0xae) = 0;
            *(undefined1 *)(param_1 + 0x118) = 1;
        }
        FUN_0002ea74(local_18 + 0x35, "cgminer.c", "test_work_current", 0x165d);
        cVar1 = FUN_00037894(auStack_84, auStack_40, param_1);
        if (cVar1 == '\x01') {
            iVar2 = memcmp(local_18 + 0x88, auStack_40, 0x20);
            if (iVar2 != 0) {
                iVar2 = memcmp(auStack_40, &DAT_000880b8, 0x20);
                if (iVar2 == 0) {
                    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                        (5 < DAT_0008697c)) {
                        snprintf(local_888, 0x800,
                                 "Pool %d now up to date at height %d",
                                 *local_18, local_88);
                        FUN_0001e4ec(6, local_888, 0);
                    }
                    FUN_0002befc(local_18 + 0x88, auStack_40, 0x20, "cgminer.c",
                                 "test_work_current", 0x1697);
                } else {
                    if ((DAT_00087768 != '\0') &&
                        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                          (6 < DAT_0008697c)))) {
                        snprintf(local_888, 0x800,
                                 "Stale data from pool %d at height %d",
                                 *local_18, local_88);
                        FUN_0001e4ec(7, local_888, 0);
                    }
                    local_11 = 0;
                }
            }
            if (*(char *)(param_1 + 0x118) != '\0') {
                DAT_0008808c = DAT_0008808c + 1;
                *(int *)(param_1 + 0x150) = DAT_0008808c;
                iVar2 = FUN_00032860();
                if ((iVar2 != 0) || (iVar4 = *(int *)(param_1 + 0x104),
                                     iVar2 = FUN_0002f984(), iVar4 == iVar2)) {
                    if (*(char *)(param_1 + 0x11c) == '\0') {
                        if (((DAT_00091f58 != '\0') ||
                             (DAT_00087769 != '\0')) ||
                            (4 < DAT_0008697c)) {
                            if (*(char *)(param_1 + 0x144) == '\0') {
                                puVar3 = &DAT_0006f818;
                            } else {
                                puVar3 = &DAT_000718e0;
                            }
                            snprintf(local_888, 0x800,
                                     "%sLONGPOLL from pool %d requested work "
                                     "restart",
                                     puVar3,
                                     **(undefined4 **)(param_1 + 0x104));
                            FUN_0001e4ec(5, local_888, 0);
                        }
                    } else if (((DAT_00091f58 != '\0') ||
                                (DAT_00087769 != '\0')) ||
                               (4 < DAT_0008697c)) {
                        snprintf(local_888, 0x800,
                                 "Stratum from pool %d requested work restart",
                                 *local_18);
                        FUN_0001e4ec(5, local_888, 0);
                    }
                    FUN_00037350();
                }
            }
        } else {
            FUN_0002befc(local_18 + 0x88, auStack_40, 0x20, "cgminer.c",
                         "test_work_current", 0x1665);
            if (DAT_000953a0 == 1) {
                local_11 = 0;
            } else {
                DAT_0008808c = DAT_0008808c + 1;
                *(int *)(param_1 + 0x150) = DAT_0008808c;
                if (*(char *)(param_1 + 0x118) == '\0') {
                    if ((DAT_0009548c == '\0') ||
                        (*(char *)(local_18 + 0xe5) == '\x01')) {
                        if (((*(char *)(local_18 + 0xe5) != '\x01') &&
                             (DAT_00087768 != '\0')) &&
                            (((DAT_00091f58 != '\0' ||
                               (DAT_00087769 != '\0')) ||
                              (6 < DAT_0008697c)))) {
                            builtin_strncpy(local_888,
                                            "New block detected on networ",
                                            0x1c);
                            local_86c._0_2_ = 0x6b;
                            FUN_0001e4ec(7, local_888, 0);
                        }
                    } else if ((DAT_00087768 != '\0') &&
                               (((DAT_00091f58 != '\0' ||
                                  (DAT_00087769 != '\0')) ||
                                 (6 < DAT_0008697c)))) {
                        builtin_strncpy(local_888,
                                        "New block detected on networ", 0x1c);
                        local_86c._0_1_ = 'k';
                        local_86c._1_1_ = ' ';
                        local_86c._2_1_ = 'b';
                        local_86c._3_1_ = 'e';
                        builtin_strncpy(local_868, "fore pool notificati",
                                        0x14);
                        local_854 = 0x6e6f;
                        local_852 = 0;
                        FUN_0001e4ec(7, local_888, 0);
                    }
                } else if (*(char *)(param_1 + 0x11c) == '\0') {
                    if ((DAT_00087768 != '\0') &&
                        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                          (6 < DAT_0008697c)))) {
                        if (*(char *)(param_1 + 0x144) == '\0') {
                            puVar3 = &DAT_0006f818;
                        } else {
                            puVar3 = &DAT_000718e0;
                        }
                        snprintf(local_888, 0x800,
                                 "%sLONGPOLL from pool %d detected new block",
                                 puVar3, **(undefined4 **)(param_1 + 0x104));
                        FUN_0001e4ec(7, local_888, 0);
                    }
                } else if ((DAT_00087768 != '\0') &&
                           (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                             (6 < DAT_0008697c)))) {
                    snprintf(
                        local_888, 0x800,
                        "Stratum from pool %d detected new block at height %d",
                        *local_18, local_88);
                    FUN_0001e4ec(7, local_888, 0);
                }
                FUN_00037350();
            }
        }
        *(undefined1 *)(param_1 + 0x118) = 0;
    } else {
        local_11 = 1;
    }
    return local_11;
}

int FUN_0003a0ec(int param_1, int param_2)

{
    return *(int *)(param_1 + 0x108) - *(int *)(param_2 + 0x108);
}

undefined4 FUN_0003a124(int param_1)

{
    undefined4 uVar1;

    if ((*(char *)(param_1 + 0x111) == '\x01') ||
        (*(int *)(param_1 + 0x114) == 0)) {
        uVar1 = 0;
    } else {
        uVar1 = 1;
    }
    return uVar1;
}

undefined1 FUN_0003a180(int param_1)

{
    bool bVar1;
    int iVar2;
    void *pvVar3;
    int iVar4;
    uint uVar5;
    uint uVar6;
    uint uVar7;
    int *piVar8;
    undefined4 *puVar9;
    int local_5c;
    int local_58;
    int local_54;
    int local_50;
    int local_4c;
    uint local_48;
    int local_44;
    uint local_40;
    uint local_3c;
    uint local_34;
    int local_30;
    uint local_2c;
    byte *local_28;
    uint local_24;
    uint local_20;
    uint local_1c;
    uint local_18;
    undefined1 local_11;

    local_11 = 1;
    FUN_0002e354(DAT_00087fe4, "cgminer.c", "hash_push", 0x16cf);
    iVar2 = FUN_0003a124(param_1);
    if (iVar2 != 0) {
        DAT_00088088 = DAT_00088088 + 1;
    }
    if (*(char *)(DAT_00094128 + 8) == '\x01') {
        local_11 = 0;
    } else {
        local_28 = (byte *)(param_1 + 0x154);
        local_18 = 0xfeedbeef;
        local_20 = 0x9e3779b9;
        local_1c = 0x9e3779b9;
        for (local_24 = 4; 0xb < local_24; local_24 = local_24 - 0xc) {
            iVar2 = local_20 + (uint)local_28[4] + (uint)local_28[5] * 0x100 +
                    (uint)local_28[6] * 0x10000 + (uint)local_28[7] * 0x1000000;
            local_18 =
                local_18 + (uint)local_28[8] + (uint)local_28[9] * 0x100 +
                (uint)local_28[10] * 0x10000 + (uint)local_28[0xb] * 0x1000000;
            uVar5 =
                local_18 >> 0xd ^
                ((local_1c + (uint)*local_28 + (uint)local_28[1] * 0x100 +
                  (uint)local_28[2] * 0x10000 + (uint)local_28[3] * 0x1000000) -
                 iVar2) -
                    local_18;
            uVar6 = uVar5 << 8 ^ (iVar2 - local_18) - uVar5;
            uVar7 = uVar6 >> 0xd ^ (local_18 - uVar5) - uVar6;
            uVar5 = uVar7 >> 0xc ^ (uVar5 - uVar6) - uVar7;
            uVar6 = uVar5 << 0x10 ^ (uVar6 - uVar7) - uVar5;
            uVar7 = uVar6 >> 5 ^ (uVar7 - uVar5) - uVar6;
            local_1c = uVar7 >> 3 ^ (uVar5 - uVar6) - uVar7;
            local_20 = local_1c << 10 ^ (uVar6 - uVar7) - local_1c;
            local_18 = local_20 >> 0xf ^ (uVar7 - local_1c) - local_20;
            local_28 = local_28 + 0xc;
        }
        local_18 = local_18 + 4;
        switch (local_24) {
        case 8:
            local_20 = local_20 + (uint)local_28[7] * 0x1000000 +
                       (uint)local_28[6] * 0x10000 + (uint)local_28[5] * 0x100 +
                       (uint)local_28[4];
        case 4:
            local_1c = local_1c + (uint)local_28[3] * 0x1000000 +
                       (uint)local_28[2] * 0x10000 + (uint)local_28[1] * 0x100 +
                       (uint)*local_28;
        }
        uVar5 = local_18 >> 0xd ^ (local_1c - local_20) - local_18;
        uVar6 = uVar5 << 8 ^ (local_20 - local_18) - uVar5;
        uVar7 = uVar6 >> 0xd ^ (local_18 - uVar5) - uVar6;
        uVar5 = uVar7 >> 0xc ^ (uVar5 - uVar6) - uVar7;
        uVar6 = uVar5 << 0x10 ^ (uVar6 - uVar7) - uVar5;
        uVar7 = uVar6 >> 5 ^ (uVar7 - uVar5) - uVar6;
        uVar5 = uVar7 >> 3 ^ (uVar5 - uVar6) - uVar7;
        uVar6 = uVar5 << 10 ^ (uVar6 - uVar7) - uVar5;
        uVar5 = uVar6 >> 0xf ^ (uVar7 - uVar5) - uVar6;
        *(uint *)(param_1 + 0x174) = uVar5;
        *(int *)(param_1 + 0x16c) = param_1 + 0x154;
        *(undefined4 *)(param_1 + 0x170) = 4;
        if (DAT_00087e98 == 0) {
            *(undefined4 *)(param_1 + 0x160) = 0;
            *(undefined4 *)(param_1 + 0x15c) = 0;
            DAT_00087e98 = param_1;
            pvVar3 = malloc(0x2c);
            *(void **)(param_1 + 0x158) = pvVar3;
            if (*(int *)(DAT_00087e98 + 0x158) == 0) {
                /* WARNING: Subroutine does not return */
                exit(-1);
            }
            memset(*(void **)(DAT_00087e98 + 0x158), 0, 0x2c);
            *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0x10) =
                DAT_00087e98 + 0x158;
            *(undefined4 *)(*(int *)(DAT_00087e98 + 0x158) + 4) = 0x20;
            *(undefined4 *)(*(int *)(DAT_00087e98 + 0x158) + 8) = 5;
            *(undefined4 *)(*(int *)(DAT_00087e98 + 0x158) + 0x14) = 0x158;
            puVar9 = *(undefined4 **)(DAT_00087e98 + 0x158);
            pvVar3 = malloc(0x180);
            *puVar9 = pvVar3;
            if (**(int **)(DAT_00087e98 + 0x158) == 0) {
                /* WARNING: Subroutine does not return */
                exit(-1);
            }
            memset((void *)**(undefined4 **)(DAT_00087e98 + 0x158), 0, 0x180);
            *(undefined4 *)(*(int *)(DAT_00087e98 + 0x158) + 0x28) = 0xa0111fe1;
        } else {
            *(undefined4 *)(param_1 + 0x158) =
                *(undefined4 *)(DAT_00087e98 + 0x158);
            *(undefined4 *)(param_1 + 0x160) = 0;
            *(int *)(param_1 + 0x15c) =
                *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0x10) -
                *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0x14);
            *(int *)(*(int *)(*(int *)(DAT_00087e98 + 0x158) + 0x10) + 8) =
                param_1;
            *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0x10) = param_1 + 0x158;
        }
        *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0xc) =
            *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0xc) + 1;
        uVar5 = uVar5 & *(int *)(*(int *)(DAT_00087e98 + 0x158) + 4) - 1U;
        iVar2 = **(int **)(DAT_00087e98 + 0x158) + uVar5 * 0xc;
        *(int *)(iVar2 + 4) = *(int *)(iVar2 + 4) + 1;
        *(undefined4 *)(param_1 + 0x168) =
            *(undefined4 *)(**(int **)(DAT_00087e98 + 0x158) + uVar5 * 0xc);
        *(undefined4 *)(param_1 + 0x164) = 0;
        if (*(int *)(**(int **)(DAT_00087e98 + 0x158) + uVar5 * 0xc) != 0) {
            *(int *)(*(int *)(**(int **)(DAT_00087e98 + 0x158) + uVar5 * 0xc) +
                     0xc) = param_1 + 0x158;
        }
        *(int *)(**(int **)(DAT_00087e98 + 0x158) + uVar5 * 0xc) =
            param_1 + 0x158;
        if (((uint)((*(int *)(**(int **)(DAT_00087e98 + 0x158) + uVar5 * 0xc +
                              8) +
                     1) *
                    10) <=
             *(uint *)(**(int **)(DAT_00087e98 + 0x158) + uVar5 * 0xc + 4)) &&
            (*(int *)(*(int *)(param_1 + 0x158) + 0x24) != 1)) {
            pvVar3 = malloc(*(int *)(*(int *)(param_1 + 0x158) + 4) * 0x18);
            if (pvVar3 == (void *)0x0) {
                /* WARNING: Subroutine does not return */
                exit(-1);
            }
            memset(pvVar3, 0, *(int *)(*(int *)(param_1 + 0x158) + 4) * 0x18);
            *(uint *)(*(int *)(param_1 + 0x158) + 0x18) =
                (*(uint *)(*(int *)(param_1 + 0x158) + 0xc) >>
                 (*(int *)(*(int *)(param_1 + 0x158) + 8) + 1U & 0xff)) +
                (uint)((*(int *)(*(int *)(param_1 + 0x158) + 4) * 2 - 1U &
                        *(uint *)(*(int *)(param_1 + 0x158) + 0xc)) != 0);
            *(undefined4 *)(*(int *)(param_1 + 0x158) + 0x1c) = 0;
            for (local_2c = 0;
                 local_2c < *(uint *)(*(int *)(param_1 + 0x158) + 4);
                 local_2c = local_2c + 1) {
                local_30 =
                    *(int *)(**(int **)(param_1 + 0x158) + local_2c * 0xc);
                while (local_30 != 0) {
                    iVar2 = *(int *)(local_30 + 0x10);
                    piVar8 =
                        (int *)((int)pvVar3 +
                                (*(int *)(*(int *)(param_1 + 0x158) + 4) * 2 -
                                     1U &
                                 *(uint *)(local_30 + 0x1c)) *
                                    0xc);
                    piVar8[1] = piVar8[1] + 1;
                    if (*(uint *)(*(int *)(param_1 + 0x158) + 0x18) <
                        (uint)piVar8[1]) {
                        *(int *)(*(int *)(param_1 + 0x158) + 0x1c) =
                            *(int *)(*(int *)(param_1 + 0x158) + 0x1c) + 1;
                        iVar4 = FUN_00068648(
                            piVar8[1],
                            *(undefined4 *)(*(int *)(param_1 + 0x158) + 0x18));
                        piVar8[2] = iVar4;
                    }
                    *(undefined4 *)(local_30 + 0xc) = 0;
                    *(int *)(local_30 + 0x10) = *piVar8;
                    if (*piVar8 != 0) {
                        *(int *)(*piVar8 + 0xc) = local_30;
                    }
                    *piVar8 = local_30;
                    local_30 = iVar2;
                }
            }
            free((void *)**(undefined4 **)(param_1 + 0x158));
            *(int *)(*(int *)(param_1 + 0x158) + 4) =
                *(int *)(*(int *)(param_1 + 0x158) + 4) << 1;
            *(int *)(*(int *)(param_1 + 0x158) + 8) =
                *(int *)(*(int *)(param_1 + 0x158) + 8) + 1;
            **(undefined4 **)(param_1 + 0x158) = pvVar3;
            if (*(uint *)(*(int *)(param_1 + 0x158) + 0xc) >> 1 <
                *(uint *)(*(int *)(param_1 + 0x158) + 0x1c)) {
                iVar2 = *(int *)(*(int *)(param_1 + 0x158) + 0x20) + 1;
            } else {
                iVar2 = 0;
            }
            *(int *)(*(int *)(param_1 + 0x158) + 0x20) = iVar2;
            if (1 < *(uint *)(*(int *)(param_1 + 0x158) + 0x20)) {
                *(undefined4 *)(*(int *)(param_1 + 0x158) + 0x24) = 1;
            }
        }
        if (DAT_00087e98 != 0) {
            local_40 = 1;
            bVar1 = true;
            local_58 = DAT_00087e98 + 0x158;
            while (bVar1) {
                local_4c = local_58;
                local_58 = 0;
                local_5c = 0;
                local_3c = 0;
                while (local_4c != 0) {
                    local_3c = local_3c + 1;
                    local_50 = local_4c;
                    local_44 = 0;
                    for (local_34 = 0; local_34 < local_40;
                         local_34 = local_34 + 1) {
                        local_44 = local_44 + 1;
                        if (*(int *)(local_50 + 8) == 0) {
                            local_50 = 0;
                        } else {
                            local_50 =
                                *(int *)(local_50 + 8) +
                                *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0x14);
                        }
                        if (local_50 == 0)
                            break;
                    }
                    local_48 = local_40;
                    while ((local_44 != 0 ||
                            ((local_48 != 0 && (local_50 != 0))))) {
                        if (local_44 == 0) {
                            local_54 = local_50;
                            if (*(int *)(local_50 + 8) == 0) {
                                local_50 = 0;
                            } else {
                                local_50 =
                                    *(int *)(local_50 + 8) +
                                    *(int *)(*(int *)(DAT_00087e98 + 0x158) +
                                             0x14);
                            }
                            local_48 = local_48 - 1;
                        } else if ((local_48 == 0) || (local_50 == 0)) {
                            local_54 = local_4c;
                            if (local_4c != 0) {
                                if (*(int *)(local_4c + 8) == 0) {
                                    local_4c = 0;
                                } else {
                                    local_4c = *(int *)(local_4c + 8) +
                                               *(int *)(*(int *)(DAT_00087e98 +
                                                                 0x158) +
                                                        0x14);
                                }
                            }
                            local_44 = local_44 + -1;
                        } else {
                            iVar2 = FUN_0003a0ec(
                                local_4c -
                                    *(int *)(*(int *)(DAT_00087e98 + 0x158) +
                                             0x14),
                                local_50 -
                                    *(int *)(*(int *)(DAT_00087e98 + 0x158) +
                                             0x14));
                            if (iVar2 < 1) {
                                local_54 = local_4c;
                                if (local_4c != 0) {
                                    if (*(int *)(local_4c + 8) == 0) {
                                        local_4c = 0;
                                    } else {
                                        local_4c =
                                            *(int *)(local_4c + 8) +
                                            *(int *)(*(int *)(DAT_00087e98 +
                                                              0x158) +
                                                     0x14);
                                    }
                                }
                                local_44 = local_44 + -1;
                            } else {
                                local_54 = local_50;
                                if (*(int *)(local_50 + 8) == 0) {
                                    local_50 = 0;
                                } else {
                                    local_50 = *(int *)(local_50 + 8) +
                                               *(int *)(*(int *)(DAT_00087e98 +
                                                                 0x158) +
                                                        0x14);
                                }
                                local_48 = local_48 - 1;
                            }
                        }
                        if (local_5c == 0) {
                            local_58 = local_54;
                        } else {
                            if (local_54 == 0) {
                                iVar2 = 0;
                            } else {
                                iVar2 =
                                    local_54 -
                                    *(int *)(*(int *)(DAT_00087e98 + 0x158) +
                                             0x14);
                            }
                            *(int *)(local_5c + 8) = iVar2;
                        }
                        if (local_54 != 0) {
                            if (local_5c == 0) {
                                local_5c = 0;
                            } else {
                                local_5c =
                                    local_5c -
                                    *(int *)(*(int *)(DAT_00087e98 + 0x158) +
                                             0x14);
                            }
                            *(int *)(local_54 + 4) = local_5c;
                        }
                        local_5c = local_54;
                    }
                    local_4c = local_50;
                }
                if (local_5c != 0) {
                    *(undefined4 *)(local_5c + 8) = 0;
                }
                if (local_3c < 2) {
                    bVar1 = false;
                    *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0x10) = local_5c;
                    DAT_00087e98 =
                        local_58 -
                        *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0x14);
                }
                local_40 = local_40 << 1;
            }
        }
    }
    pthread_cond_broadcast((pthread_cond_t *)(DAT_00094128 + 0x28));
    FUN_0002e484(DAT_00087fe4, "cgminer.c", "hash_push", 0x16e1);
    return local_11;
}

void FUN_0003b464(int param_1)

{
    char acStack_808[2048];

    if ((DAT_00087768 != '\0') &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (6 < DAT_0008697c)))) {
        snprintf(acStack_808, 0x800, "Pushing work from pool %d to hash queue",
                 **(undefined4 **)(param_1 + 0x104));
        FUN_0001e4ec(7, acStack_808, 0);
    }
    *(undefined4 *)(param_1 + 0x150) = DAT_0008808c;
    FUN_0003986c(param_1);
    *(int *)(*(int *)(param_1 + 0x104) + 0x44) =
        *(int *)(*(int *)(param_1 + 0x104) + 0x44) + 1;
    FUN_0003a180(param_1);
    return;
}

void FUN_0003b544(int *param_1)

{
    int iVar1;
    int iVar2;
    int local_c;

    iVar1 = DAT_00092028 + -1;
    for (local_c = 0; local_c < DAT_00092028; local_c = local_c + 1) {
        iVar2 = *(int *)(DAT_000920cc + local_c * 4);
        if (param_1[1] < *(int *)(iVar2 + 4)) {
            *(int *)(iVar2 + 4) = *(int *)(iVar2 + 4) + -1;
        }
    }
    if (*param_1 < iVar1) {
        for (local_c = *param_1; local_c < iVar1; local_c = local_c + 1) {
            *(undefined4 *)(DAT_000920cc + local_c * 4) =
                *(undefined4 *)(DAT_000920cc + (local_c + 1) * 4);
            **(int **)(DAT_000920cc + local_c * 4) = local_c;
        }
    }
    *param_1 = DAT_00092028;
    *(undefined1 *)((int)param_1 + 0x69) = 1;
    DAT_00092028 = DAT_00092028 + -1;
    return;
}

void FUN_0003b6cc(void)

{
    undefined4 *puVar1;
    undefined4 *local_c;

    local_c = DAT_000898b0;
    DAT_000898b0 = (undefined4 *)0x0;
    while (local_c != (undefined4 *)0x0) {
        puVar1 = (undefined4 *)local_c[1];
        free((void *)*local_c);
        free(local_c);
        local_c = puVar1;
    }
    return;
}

char *FUN_0003b73c(char *param_1)

{
    size_t sVar1;
    char *pcVar2;
    undefined4 *puVar3;
    char *local_1c;
    char *local_c;

    sVar1 = strlen(param_1);
    pcVar2 =
        (char *)FUN_00020210(sVar1 * 2 + 1, "cgminer.c", "json_escape", 0x1766);
    puVar3 = (undefined4 *)FUN_00020210(8, "cgminer.c", "json_escape", 0x1767);
    *puVar3 = pcVar2;
    puVar3[1] = DAT_000898b0;
    DAT_000898b0 = puVar3;
    local_1c = param_1;
    local_c = pcVar2;
    while (*local_1c != '\0') {
        if ((*local_1c == '\\') || (*local_1c == '\"')) {
            *local_c = '\\';
            local_c = local_c + 1;
        }
        *local_c = *local_1c;
        local_1c = local_1c + 1;
        local_c = local_c + 1;
    }
    *local_c = '\0';
    return pcVar2;
}

void FUN_0003b858(FILE *param_1)

{
    uint uVar1;
    int iVar2;
    undefined1 *puVar3;
    undefined1 *puVar4;
    char *__s;
    undefined4 uVar5;
    undefined1 *puVar6;
    undefined4 uVar7;
    char *local_2c;
    int local_28;
    undefined4 *local_24;

    fwrite("{\n\"pools\" : [", 1, 0xd, param_1);
    for (local_28 = 0; local_28 < DAT_00092028; local_28 = local_28 + 1) {
        iVar2 = FUN_0003636c(local_28);
        if (*(int *)(iVar2 + 0x38) == 1) {
            if (local_28 < 1) {
                uVar1 = 0xf818;
            } else {
                uVar1 = 0xfd6c;
            }
            if (*(int *)(iVar2 + 0xb8) == 0) {
                puVar3 = &DAT_0006f818;
            } else {
                uVar5 = FUN_00020460(*(undefined4 *)(iVar2 + 0xb4));
                puVar3 = (undefined1 *)FUN_0003b73c(uVar5);
            }
            if (*(int *)(iVar2 + 0xb8) == 0) {
                puVar4 = &DAT_0006f818;
            } else {
                puVar4 =
                    (undefined1 *)FUN_0003b73c(*(undefined4 *)(iVar2 + 0xb8));
            }
            if (*(int *)(iVar2 + 0xb8) == 0) {
                puVar6 = &DAT_0006f818;
            } else {
                puVar6 = &DAT_00070dc0;
            }
            uVar5 = FUN_0003b73c(*(undefined4 *)(iVar2 + 0xa4));
            fprintf(param_1, "%s\n\t{\n\t\t\"url\" : \"%s%s%s%s\",",
                    uVar1 | 0x60000, puVar3, puVar4, puVar6, uVar5);
        } else {
            if (local_28 < 1) {
                uVar1 = 0xf818;
            } else {
                uVar1 = 0xfd6c;
            }
            if (*(int *)(iVar2 + 0xb8) == 0) {
                puVar3 = &DAT_0006f818;
            } else {
                uVar5 = FUN_00020460(*(undefined4 *)(iVar2 + 0xb4));
                puVar3 = (undefined1 *)FUN_0003b73c(uVar5);
            }
            if (*(int *)(iVar2 + 0xb8) == 0) {
                puVar4 = &DAT_0006f818;
            } else {
                puVar4 =
                    (undefined1 *)FUN_0003b73c(*(undefined4 *)(iVar2 + 0xb8));
            }
            if (*(int *)(iVar2 + 0xb8) == 0) {
                puVar6 = &DAT_0006f818;
            } else {
                puVar6 = &DAT_00070dc0;
            }
            uVar7 = *(undefined4 *)(iVar2 + 0x38);
            uVar5 = FUN_0003b73c(*(undefined4 *)(iVar2 + 0xa4));
            fprintf(param_1, "%s\n\t{\n\t\t\"quota\" : \"%s%s%s%d;%s\",",
                    uVar1 | 0x60000, puVar3, puVar4, puVar6, uVar7, uVar5);
        }
        if (*(char *)(iVar2 + 0x244) != '\0') {
            fwrite("\n\t\t\"extranonce-subscribe\" : true,", 1, 0x21, param_1);
        }
        uVar5 = FUN_0003b73c(*(undefined4 *)(iVar2 + 0xac));
        fprintf(param_1, "\n\t\t\"user\" : \"%s\",", uVar5);
        uVar5 = FUN_0003b73c(*(undefined4 *)(iVar2 + 0xb0));
        fprintf(param_1, "\n\t\t\"pass\" : \"%s\"\n\t}", uVar5);
    }
    fwrite(&DAT_00071ad8, 1, 3, param_1);
    for (local_24 = &DAT_00086c90; local_24[1] != 0x10;
         local_24 = local_24 + 7) {
        __s = strdup((char *)*local_24);
        local_2c = strtok(__s, "|");
        while (local_2c != (char *)0x0) {
            if ((local_2c[1] == '-') &&
                ((undefined4 *)local_24[6] != &DAT_000954c4)) {
                if (((local_24[1] & 1) == 0) ||
                    ((((code *)local_24[2] != FUN_00055008 &&
                       ((code *)local_24[2] != FUN_00055068)) ||
                      ((bool)*(char *)local_24[5] !=
                       ((code *)local_24[2] == FUN_00055008))))) {
                    if (((local_24[1] & 2) == 0) ||
                        ((((((code *)local_24[3] != FUN_000551f8 &&
                             ((code *)local_24[3] != FUN_0002fa74)) &&
                            (((code *)local_24[3] != FUN_0002faac &&
                              (((code *)local_24[3] != FUN_0002fae4 &&
                                ((code *)local_24[3] != FUN_0002fd4c)))))) &&
                           ((code *)local_24[3] != FUN_0002fb1c)) &&
                          (((((((code *)local_24[3] != FUN_0002fb54 &&
                                ((code *)local_24[3] != FUN_0002fb8c)) &&
                               ((code *)local_24[3] != FUN_0002fbc4)) &&
                              (((code *)local_24[3] != FUN_0002fbfc &&
                                ((code *)local_24[3] != FUN_0002fd84)))) &&
                             (((code *)local_24[3] != FUN_0002fc34 &&
                               (((code *)local_24[3] != FUN_0002fc6c &&
                                 ((code *)local_24[3] != FUN_0002fca4)))))) &&
                            (((code *)local_24[3] != FUN_0002fcdc &&
                              ((code *)local_24[3] != FUN_0002fd14)))))))) {
                        if (((local_24[1] & 2) == 0) ||
                            (((code *)local_24[3] != FUN_00031334 &&
                              ((code *)local_24[3] != FUN_000313c0)))) {
                            if (((local_24[1] & 6) != 0) &&
                                (((undefined *)local_24[5] != &DAT_00087fc4 &&
                                  (*(int *)local_24[5] != 0)))) {
                                uVar5 = FUN_0003b73c(*(int *)local_24[5]);
                                fprintf(param_1, ",\n\"%s\" : \"%s\"",
                                        local_2c + 2, uVar5);
                            }
                        } else {
                            fprintf(param_1, ",\n\"%s\" : \"%.1f\"",
                                    local_2c + 2, (float *)local_24[5],
                                    (double)*(float *)local_24[5]);
                        }
                    } else {
                        fprintf(param_1, ",\n\"%s\" : \"%d\"", local_2c + 2,
                                *(undefined4 *)local_24[5]);
                    }
                } else {
                    fprintf(param_1, ",\n\"%s\" : true", local_2c + 2);
                }
            }
            local_2c = strtok((char *)0x0, "|");
        }
        free(__s);
    }
    if (DAT_00087e6c == 4) {
        fwrite(",\n\"balance\" : true", 1, 0x12, param_1);
    }
    if (DAT_00087e6c == 3) {
        fwrite(",\n\"load-balance\" : true", 1, 0x17, param_1);
    }
    if (DAT_00087e6c == 1) {
        fwrite(",\n\"round-robin\" : true", 1, 0x16, param_1);
    }
    if (DAT_00087e6c == 2) {
        fprintf(param_1, ",\n\"rotate\" : \"%d\"", DAT_000930e4);
    }
    fwrite(&DAT_00071b74, 1, 3, param_1);
    FUN_0003b6cc();
    return;
}

void FUN_0003c014(void)

{
    int local_c;

    DAT_00087e70 = 0;
    memset(&DAT_00086c70, 0, 8);
    FUN_00032154((undefined4)DAT_00087e70, DAT_00087e70._4_4_, &DAT_00086c70, 8,
                 0);
    for (local_c = 0; local_c < DAT_00092028; local_c = local_c + 1) {
        *(undefined8 *)(*(int *)(DAT_000920cc + local_c * 4) + 0x170) = 0;
    }
    return;
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */

void FUN_0003c0cc(void)

{
    int iVar1;
    int *piVar2;
    char *pcVar3;
    char acStack_85c[2048];
    sysinfo local_5c;
    int local_1c;
    int local_18;
    int local_14;

    iVar1 = sysinfo(&local_5c);
    if (iVar1 == 0) {
        DAT_0009535c = local_5c.uptime;
    } else {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (5 < DAT_0008697c)) {
            piVar2 = __errno_location();
            iVar1 = *piVar2;
            piVar2 = __errno_location();
            pcVar3 = strerror(*piVar2);
            snprintf(acStack_85c, 0x800,
                     "Failed to get sysinfo, errno:%u, reason:%s\n", iVar1,
                     pcVar3);
            FUN_0001e4ec(6, acStack_85c, 0);
        }
        DAT_0009535c = time((time_t *)0x0);
    }
    FUN_00022308(&DAT_00088068);
    FUN_00021ca0(&DAT_000898b4, &DAT_00088068);
    _DAT_00095390 = 0;
    DAT_00095394 = 0;
    _DAT_000954a0 = 0;
    DAT_000954a4 = 0;
    _DAT_00095498 = 0;
    DAT_0009549c = 0;
    _DAT_00092088 = 0;
    DAT_0009208c = 0;
    DAT_00091f50 = 0;
    DAT_00091f54 = 0;
    DAT_00092098 = 0;
    DAT_0009209c = 0;
    for (local_14 = 0; local_14 < 0xc; local_14 = local_14 + 1) {
        *(undefined4 *)(&DAT_00087ad8 + local_14 * 8) = 0;
        (&DAT_00087adc)[local_14 * 2] = 0;
    }
    DAT_00087b38 = 0;
    DAT_0009522c = 0;
    DAT_000953a4 = 0;
    DAT_00094150 = 0;
    DAT_000920b8 = 0;
    DAT_00094180 = 0;
    DAT_00095228 = 0;
    _DAT_00095490 = 0;
    _DAT_000941d0 = 0;
    DAT_000920dc = 0;
    DAT_000920d0 = 0;
    DAT_00091f74 = 0;
    _DAT_00087478 = 0;
    DAT_0008747c = 0x3ff00000;
    DAT_00087480 = 0;
    DAT_00087484 = 0x3ff00000;
    DAT_00087488 = 0;
    _DAT_0008748c = 0x3ff00000;
    DAT_00091f90 = 0;
    DAT_0009523c = 0;
    _DAT_000940f0 = 0;
    DAT_000940f4 = 0;
    _DAT_00094178 = 0;
    DAT_0009417c = 0;
    _DAT_000920c0 = 0;
    DAT_000920c4 = 0;
    local_14 = 0;
    while (true) {
        if (DAT_00092028 <= local_14)
            break;
        local_18 = *(int *)(DAT_000920cc + local_14 * 4);
        *(undefined4 *)(local_18 + 0x74) = 0;
        *(undefined8 *)(local_18 + 8) = 0;
        *(undefined8 *)(local_18 + 0x10) = 0;
        *(undefined4 *)(local_18 + 0x78) = 0;
        *(undefined4 *)(local_18 + 0x7c) = 0;
        *(undefined4 *)(local_18 + 0x80) = 0;
        *(undefined4 *)(local_18 + 0x84) = 0;
        *(undefined4 *)(local_18 + 0x160) = 0;
        *(undefined8 *)(local_18 + 0x28) = 0;
        *(undefined4 *)(local_18 + 0x48) = 0;
        *(undefined4 *)(local_18 + 0x4c) = 0;
        *(undefined4 *)(local_18 + 0x50) = 0;
        *(undefined4 *)(local_18 + 0x54) = 0;
        *(undefined4 *)(local_18 + 0x58) = 0;
        *(undefined4 *)(local_18 + 0x5c) = 0;
        *(undefined4 *)(local_18 + 0x168) = 0;
        *(undefined4 *)(local_18 + 0x16c) = 0;
        local_14 = local_14 + 1;
    }
    FUN_0003c014();
    local_14 = 0;
    while (true) {
        if (DAT_000941a8 <= local_14)
            break;
        local_1c = FUN_0002ef94(local_14);
        FUN_00021ca0(local_1c + 0x170, &DAT_00088068);
        FUN_0002e354(&DAT_000920a0, "cgminer.c", "zero_stats", 0x1864);
        *(undefined4 *)(local_1c + 0x50) = 0;
        *(undefined4 *)(local_1c + 0x54) = 0;
        *(undefined4 *)(local_1c + 0x24) = 0;
        *(undefined4 *)(local_1c + 0x28) = 0;
        *(undefined4 *)(local_1c + 0x2c) = 0;
        *(undefined4 *)(local_1c + 0x58) = 0;
        *(undefined4 *)(local_1c + 0x5c) = 0;
        *(undefined4 *)(local_1c + 0xdc) = 0;
        *(undefined8 *)(local_1c + 0xc0) = 0;
        *(undefined4 *)(local_1c + 200) = 0;
        *(undefined4 *)(local_1c + 0xcc) = 0;
        *(undefined4 *)(local_1c + 0xd0) = 0;
        *(undefined4 *)(local_1c + 0xd4) = 0;
        *(undefined4 *)(local_1c + 0xe0) = 0;
        *(undefined4 *)(local_1c + 0xe4) = 0;
        FUN_0002e484(&DAT_000920a0, "cgminer.c", "zero_stats", 0x1871);
        (**(code **)(*(int *)(local_1c + 4) + 0x60))(local_1c);
        local_14 = local_14 + 1;
    }
    return;
}

void FUN_0003c640(void)

{
    char local_80c[36];
    undefined2 local_7e8;
    int local_c;

    local_c = nice(-10);
    if (((local_c == 0) && (DAT_00087768 != '\0')) &&
        ((DAT_00091f58 != '\0' ||
          ((DAT_00087769 != '\0' || (6 < DAT_0008697c)))))) {
        builtin_strncpy(local_80c, "Unable to set thread to high priorit",
                        0x24);
        local_7e8 = 0x79;
        FUN_0001e4ec(7, local_80c, 0);
    }
    return;
}

void FUN_0003c718(void)

{
    char local_80c[2048];
    int local_c;

    local_c = nice(10);
    if ((local_c == 0) && (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                            (5 < DAT_0008697c)))) {
        builtin_strncpy(local_80c, "Unable to set thread to low priority",
                        0x24);
        local_80c[0x24] = 0;
        FUN_0001e4ec(6, local_80c, 0);
    }
    return;
}

void FUN_0003c7dc(char *param_1)

{
    char *pcVar1;
    size_t sVar2;

    if ((DAT_000941c4 == (char *)0x0) || (*DAT_000941c4 == '\0')) {
        pcVar1 = getenv("HOME");
        if ((pcVar1 == (char *)0x0) ||
            (pcVar1 = getenv("HOME"), *pcVar1 == '\0')) {
            *param_1 = '\0';
        } else {
            pcVar1 = getenv("HOME");
            strcpy(param_1, pcVar1);
            sVar2 = strlen(param_1);
            (param_1 + sVar2)[0] = '/';
            (param_1 + sVar2)[1] = '\0';
        }
        sVar2 = strlen(param_1);
        builtin_strncpy(param_1 + sVar2, ".bmminer/", 10);
        mkdir(param_1, 0x1ff);
        sVar2 = strlen(param_1);
        builtin_strncpy(param_1 + sVar2, "bmminer.conf", 0xd);
    } else {
        strcpy(param_1, DAT_000941c4);
    }
    return;
}

undefined4 FUN_0003c940(int param_1)

{
    pthread_t __th;

    __th = pthread_self();
    pthread_detach(__th);
    pthread_setcanceltype(1, (int *)0x0);
    FUN_0002b968(&DAT_00071c1c);
    FUN_0003c718();
    FUN_0001b868();
    *(undefined4 *)(param_1 + 0xc) = 0;
    return 0;
}

void FUN_0003c9a4(int param_1)

{
    time_t tVar1;
    int iVar2;

    *(undefined1 *)(param_1 + 0x3d) = 0;
    FUN_00022308(param_1 + 0x2c);
    *(undefined4 *)(*(int *)(param_1 + 0x24) + 0x60) = 0;
    iVar2 = *(int *)(param_1 + 0x24);
    tVar1 = time((time_t *)0x0);
    *(time_t *)(iVar2 + 0xf0) = tVar1;
    return;
}

void FUN_0003ca00(int param_1)

{
    time_t tVar1;
    int iVar2;

    *(undefined1 *)(param_1 + 0x3d) = 1;
    FUN_00022308(param_1 + 0x2c);
    *(undefined4 *)(*(int *)(param_1 + 0x24) + 0x60) = 0;
    iVar2 = *(int *)(param_1 + 0x24);
    tVar1 = time((time_t *)0x0);
    *(time_t *)(iVar2 + 0xf0) = tVar1;
    return;
}

/* WARNING: Removing unreachable block (ram,0x0003cf94) */
/* WARNING: Removing unreachable block (ram,0x0003cfa8) */
/* WARNING: Removing unreachable block (ram,0x0003cfbc) */
/* WARNING: Removing unreachable block (ram,0x0003cfd0) */
/* WARNING: Removing unreachable block (ram,0x0003d838) */
/* WARNING: Removing unreachable block (ram,0x0003d84c) */
/* WARNING: Removing unreachable block (ram,0x0003d860) */
/* WARNING: Removing unreachable block (ram,0x0003d874) */
/* WARNING: Heritage AFTER dead removal. Example location: s1 : 0x0003d0e0 */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */
/* WARNING: Restarted to delay deadcode elimination for space: register */

void FUN_0003ca5c(int param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    undefined4 uVar3;
    undefined4 uVar4;
    undefined4 uVar5;
    double in_d0;
    undefined4 uVar6;
    undefined4 in_s3;
    double dVar7;
    double dVar8;
    undefined8 uVar9;
    undefined4 local_a18;
    undefined4 uStack_a14;
    int local_a0c;
    undefined1 auStack_a08[256];
    char acStack_908[2048];
    undefined1 auStack_108[16];
    undefined1 auStack_f8[16];
    undefined1 auStack_e8[16];
    undefined1 auStack_d8[16];
    undefined1 auStack_c8[16];
    sysinfo local_b8;
    undefined8 local_78;
    double dStack_70;
    int local_68;
    int local_64;
    double local_60;
    double dStack_58;
    int local_50;
    int local_4c;
    int local_48;
    int local_44;
    double dStack_40;
    int local_38;
    int local_34;
    undefined8 local_30;
    undefined8 local_28;
    char local_19;

    uVar9 = CONCAT44(param_4, param_3);
    local_19 = '\0';
    local_28._0_4_ = 0;
    local_28._4_4_ = 0;
    local_30 = 0;
    local_34 = 0;
    local_38 = 0;
    iVar1 = sysinfo(&local_b8);
    if (iVar1 == 0) {
        DAT_0009539c = local_b8.uptime;
    } else {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (5 < DAT_0008697c)) {
            piVar2 = __errno_location();
            iVar1 = *piVar2;
            piVar2 = __errno_location();
            strerror(*piVar2);
            snprintf(acStack_908, 0x800,
                     "Failed to get sysinfo, errno:%u, reason:%s\n", iVar1);
            FUN_0001e4ec(6, acStack_908, 0);
        }
        DAT_0009539c = time((time_t *)0x0);
    }
    FUN_00022308(&DAT_00088070);
    FUN_000226b0(&DAT_00088070, &DAT_000898b4);
    local_44 = DAT_00088070;
    local_48 = DAT_00088070 - DAT_000898bc;
    if (local_48 < DAT_00086c20) {
        if (param_1 < 0) {
            return;
        }
    } else {
        DAT_00087fb9 = DAT_00087fba != DAT_00087fb9;
        DAT_000898bc = DAT_00088070;
        local_19 = '\x01';
    }
    dStack_40 = in_d0;
    FUN_00021ca0(&DAT_000898b4, &DAT_00088070);
    uVar6 = (undefined4)((ulonglong)in_d0 >> 0x20);
    if (param_1 < 0) {
        FUN_0002e354(&DAT_000920a0, "cgminer.c", "hashmeter", 0x1bf8);
        for (local_a0c = 0; local_a0c < DAT_000953f0;
             local_a0c = local_a0c + 1) {
            local_64 = FUN_0002eef8(local_a0c);
            local_68 = *(int *)(local_64 + 0x24);
            FUN_000226b0(&DAT_00088070, local_68 + 0x8c);
            dStack_70 = in_d0;
            FUN_00021ca0(local_68 + 0x8c, &DAT_00088070);
            FUN_00032058(0, uVar6, dStack_70._0_4_, in_s3,
                         SUB84((double)(longlong)DAT_00086c20, 0),
                         local_68 + 0x30);
            FUN_00032058(0, uVar6, dStack_70._0_4_, in_s3, 0, local_68 + 0x38);
            FUN_00032058(0, uVar6, dStack_70._0_4_, in_s3, 0, local_68 + 0x40);
            FUN_00032058(0, uVar6, dStack_70._0_4_, in_s3, 0, local_68 + 0x48);
        }
        FUN_0002e484(&DAT_000920a0, "cgminer.c", "hashmeter", 0x1c07);
    } else {
        local_4c = FUN_0002eef8(param_1);
        local_50 = *(int *)(local_4c + 0x24);
        FUN_00021ca0(local_4c + 0x2c, &DAT_00088070);
        *(int *)(local_50 + 0xf0) = local_44;
        FUN_000226b0(&DAT_00088070, local_50 + 0x8c);
        dStack_58 = in_d0;
        FUN_00021ca0(local_50 + 0x8c, &DAT_00088070);
        dVar8 = (double)FUN_00068e74(param_3, param_4);
        local_60 = (dVar8 / dStack_58) / 1000000.0;
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            snprintf(acStack_908, 0x800,
                     "[thread %d: %llu hashes, %.1f mhash/sec]", param_1);
            FUN_0001e4ec(7, acStack_908, 0);
        }
        uVar9 = FUN_00068ee0(param_3, param_4, 1000000, 0);
        uVar5 = (undefined4)((ulonglong)uVar9 >> 0x20);
        uVar4 = (undefined4)uVar9;
        FUN_0002e354(&DAT_000920a0, "cgminer.c", "hashmeter", 0x1bdb);
        dVar8 = *(double *)(local_50 + 0x50);
        dVar7 = (double)FUN_00068e74(uVar4, uVar5);
        *(double *)(local_50 + 0x50) = dVar8 + dVar7;
        iVar1 = local_50 + 0x30;
        uVar3 = FUN_00068e74(uVar4, uVar5);
        FUN_00032058(uVar3, uVar6, dStack_58._0_4_, in_s3,
                     SUB84((double)(longlong)DAT_00086c20, 0), iVar1);
        iVar1 = local_50 + 0x38;
        uVar3 = FUN_00068e74(uVar4, uVar5);
        FUN_00032058(uVar3, uVar6, dStack_58._0_4_, in_s3, 0, iVar1);
        iVar1 = local_50 + 0x40;
        uVar3 = FUN_00068e74(uVar4, uVar5);
        FUN_00032058(uVar3, uVar6, dStack_58._0_4_, in_s3, 0, iVar1);
        iVar1 = local_50 + 0x48;
        uVar4 = FUN_00068e74(uVar4, uVar5);
        FUN_00032058(uVar4, uVar6, dStack_58._0_4_, in_s3, 0, iVar1);
        FUN_0002e484(&DAT_000920a0, "cgminer.c", "hashmeter", 0x1be2);
        if ((DAT_000951dc != '\0') && (local_19 != '\0')) {
            FUN_000325f4(auStack_a08, 0x100, local_50);
            printf("%s          \r", auStack_a08);
            fflush(stdout);
        }
    }
    uStack_a14 = (undefined4)((ulonglong)uVar9 >> 0x20);
    local_a18 = (undefined4)uVar9;
    FUN_0002e354(&DAT_000920a0, "cgminer.c", "hashmeter", 0x1c0a);
    dVar8 = (double)FUN_00068e74(local_a18, uStack_a14);
    _DAT_00091f50 = dVar8 + _DAT_00091f50;
    if (local_19 != '\0') {
        DAT_00087b38 = DAT_00087b38 + 1;
        if (0xb < DAT_00087b38) {
            DAT_00087b38 = 0;
        }
        local_38 = 0;
        while (true) {
            if (0xb < local_38)
                break;
            if (0.0 <= *(double *)(&DAT_00087ad8 + local_38 * 8)) {
                dVar8 =
                    (double)FUN_00068e74((undefined4)local_30, local_30._4_4_);
                local_30 = FUN_00068f40(
                    SUB84(dVar8 + *(double *)(&DAT_00087ad8 + local_38 * 8), 0),
                    (int)((ulonglong)(dVar8 + *(double *)(&DAT_00087ad8 +
                                                          local_38 * 8)) >>
                          0x20));
                local_34 = local_34 + 1;
            }
            local_38 = local_38 + 1;
        }
        if (0 < local_34) {
            uVar9 = FUN_00068ee0((undefined4)local_30, local_30._4_4_, local_34,
                                 local_34 >> 0x1f);
        }
        local_28._4_4_ = (undefined4)((ulonglong)uVar9 >> 0x20);
        local_28._0_4_ = (undefined4)uVar9;
        uVar4 = FUN_00068e74((undefined4)local_28, local_28._4_4_);
        local_28 = uVar9;
        FUN_00032058(uVar4, uVar6, SUB84((double)(longlong)DAT_00086c20, 0),
                     in_s3, SUB84((double)(longlong)DAT_00086c20, 0),
                     &DAT_00095390);
        uVar4 = FUN_00068e74(local_a18, uStack_a14);
        FUN_00032058(uVar4, uVar6, dStack_40._0_4_, in_s3, 0, &DAT_000954a0);
        uVar4 = FUN_00068e74(local_a18, uStack_a14);
        FUN_00032058(uVar4, uVar6, dStack_40._0_4_, in_s3, 0, &DAT_00095498);
        uVar4 = FUN_00068e74(local_a18, uStack_a14);
        FUN_00032058(uVar4, uVar6, dStack_40._0_4_, in_s3, 0, &DAT_00092088);
        uVar9 =
            FUN_00068f40(SUB84(_DAT_00095390 * 1000000.0, 0),
                         (int)((ulonglong)(_DAT_00095390 * 1000000.0) >> 0x20));
        iVar1 = DAT_00087b38;
        DAT_00095354 = (undefined4)((ulonglong)uVar9 >> 0x20);
        DAT_00095350 = (undefined4)uVar9;
        *(undefined4 *)(&DAT_00087ad8 + DAT_00087b38 * 8) = 0;
        (&DAT_00087adc)[iVar1 * 2] = 0;
    }
    iVar1 = DAT_00087b38;
    dVar8 = *(double *)(&DAT_00087ad8 + DAT_00087b38 * 8);
    dVar7 = (double)FUN_00068e74(local_a18, uStack_a14);
    *(double *)(&DAT_00087ad8 + iVar1 * 8) = dVar8 + dVar7;
    _DAT_00087478 =
        (double)(longlong)DAT_0009539c - (double)(longlong)DAT_0009535c;
    dVar8 = _DAT_00087478;
    if (86400.0 <
        _DAT_00087478 - (double)CONCAT44(_DAT_0008748c, DAT_00087488)) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            snprintf(acStack_908, 0x800,
                     "cgminer time error total_secs = %f last_total_secs = %f");
            FUN_0001e4ec(3, acStack_908, 0);
        }
        FUN_0002e484(&DAT_000920a0, "cgminer.c", "hashmeter", 0x1c3a);
        FUN_0003c0cc();
        FUN_0002e354(&DAT_000920a0, "cgminer.c", "hashmeter", 0x1c3c);
        dVar8 = (double)CONCAT44(_DAT_0008748c, DAT_00087488);
    }
    _DAT_0008748c = (undefined4)((ulonglong)dVar8 >> 0x20);
    DAT_00087488 = SUB84(dVar8, 0);
    if (local_19 != '\0') {
        dVar8 = (_DAT_00091f50 / _DAT_00087478) * 1000000.0;
        local_78 =
            FUN_00068f40(SUB84(dVar8, 0), (int)((ulonglong)dVar8 >> 0x20));
        FUN_00032154((int)local_78, (int)((ulonglong)local_78 >> 0x20),
                     auStack_c8, 0x10);
        uVar9 =
            FUN_00068f40(SUB84(_DAT_00095390 * 1000000.0, 0),
                         (int)((ulonglong)(_DAT_00095390 * 1000000.0) >> 0x20));
        DAT_00087b40 =
            (double)(longlong)((int)(longlong)_DAT_00095390 / 10) / 100.0;
        local_78 = uVar9;
        FUN_00032154((int)uVar9, (int)((ulonglong)uVar9 >> 0x20), auStack_d8,
                     0x10);
        uVar9 =
            FUN_00068f40(SUB84(_DAT_000954a0 * 1000000.0, 0),
                         (int)((ulonglong)(_DAT_000954a0 * 1000000.0) >> 0x20));
        local_78 = uVar9;
        FUN_00032154((int)uVar9, (int)((ulonglong)uVar9 >> 0x20), auStack_e8,
                     0x10);
        uVar9 =
            FUN_00068f40(SUB84(_DAT_00095498 * 1000000.0, 0),
                         (int)((ulonglong)(_DAT_00095498 * 1000000.0) >> 0x20));
        local_78 = uVar9;
        FUN_00032154((int)uVar9, (int)((ulonglong)uVar9 >> 0x20), auStack_f8,
                     0x10);
        uVar9 =
            FUN_00068f40(SUB84(_DAT_00092088 * 1000000.0, 0),
                         (int)((ulonglong)(_DAT_00092088 * 1000000.0) >> 0x20));
        local_78 = uVar9;
        FUN_00032154((int)uVar9, (int)((ulonglong)uVar9 >> 0x20), auStack_108,
                     0x10);
        snprintf(&DAT_00088380, 0x100,
                 "(%ds):%s (1m):%s (5m):%s (15m):%s (avg):%sh/s", DAT_00086c20);
        dVar8 = (double)CONCAT44(_DAT_0008748c, DAT_00087488);
    }
    _DAT_0008748c = (undefined4)((ulonglong)dVar8 >> 0x20);
    DAT_00087488 = SUB84(dVar8, 0);
    FUN_0002e484(&DAT_000920a0, "cgminer.c", "hashmeter", 0x1c65);
    if (local_19 != '\0') {
        printf("%s          \r", &DAT_00088380);
        fflush(stdout);
    }
    return;
}

void FUN_0003d8b8(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  int param_4)

{
    char acStack_854[2048];
    undefined1 auStack_54[64];
    int local_14;
    time_t local_10;
    int local_c;

    local_c = *(int *)(param_4 + 0x24);
    local_10 = time((time_t *)0x0);
    local_14 = local_10 - *(int *)(param_4 + 0x30);
    if (((DAT_00087768 != '\0') || (0 < local_14)) &&
        ((DAT_00091f58 != '\0' ||
          ((DAT_00087769 != '\0' || (5 < DAT_0008697c)))))) {
        snprintf(acStack_854, 0x800,
                 "Pool %d stratum share result lag time %d seconds",
                 **(undefined4 **)(local_c + 0x104), local_14);
        FUN_0001e4ec(6, acStack_854, 0);
    }
    FUN_00033678(local_c, auStack_54);
    FUN_0003295c(param_1, param_2, param_3, local_c, auStack_54, 0,
                 &DAT_0006f818);
    return;
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */

undefined1 FUN_0003d9f4(undefined4 *param_1, char *param_2)

{
    char *pcVar1;
    uint uVar2;
    uint uVar3;
    uint uVar4;
    int iVar5;
    bool bVar6;
    char acStack_950[2048];
    undefined4 local_150;
    undefined4 local_14c[23];
    undefined1 auStack_f0[160];
    undefined4 local_50;
    undefined4 uStack_4c;
    uint local_48;
    void *local_44;
    uint local_40;
    int local_3c;
    int *local_38;
    int local_34;
    int *local_30;
    int local_2c;
    byte *local_28;
    uint local_24;
    uint local_20;
    uint local_1c;
    uint local_18;
    char *local_14;
    undefined1 local_d;
    void *local_c;

    local_2c = 0;
    local_d = 0;
    local_2c = FUN_00064704(param_2, 0, local_14c);
    if (local_2c == 0) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (5 < DAT_0008697c)) {
            snprintf(acStack_950, 0x800, "JSON decode failed(%d): %s",
                     local_14c[0], auStack_f0);
            FUN_0001e4ec(6, acStack_950, 0);
        }
    } else {
        local_30 = (int *)FUN_00065fec(local_2c, "result");
        local_34 = FUN_00065fec(local_2c, "error");
        local_38 = (int *)FUN_00065fec(local_2c, &DAT_00071d24);
        if (((local_38 == (int *)0x0) || (*local_38 != 7)) &&
            (local_38 != (int *)0x0)) {
            local_3c = FUN_00065fec(local_30, "version-rolling.mask");
            if (((local_3c == 0) &&
                 (pcVar1 = strstr(param_2, "mining.configure"),
                  pcVar1 == (char *)0x0)) &&
                (pcVar1 = strstr(param_2, "mining.set_version_mask"),
                 pcVar1 == (char *)0x0)) {
                local_150 = FUN_00067c98(local_38);
                FUN_0002e354(&DAT_00088008, "cgminer.c",
                             "parse_stratum_response", 0x1cc1);
                local_28 = (byte *)&local_150;
                local_18 = 0xfeedbeef;
                local_20 = 0x9e3779b9;
                local_1c = 0x9e3779b9;
                for (local_24 = 4; 0xb < local_24; local_24 = local_24 - 0xc) {
                    iVar5 = local_20 + (uint)local_28[4] +
                            (uint)local_28[5] * 0x100 +
                            (uint)local_28[6] * 0x10000 +
                            (uint)local_28[7] * 0x1000000;
                    local_18 = local_18 + (uint)local_28[8] +
                               (uint)local_28[9] * 0x100 +
                               (uint)local_28[10] * 0x10000 +
                               (uint)local_28[0xb] * 0x1000000;
                    uVar2 = local_18 >> 0xd ^ ((local_1c + (uint)*local_28 +
                                                (uint)local_28[1] * 0x100 +
                                                (uint)local_28[2] * 0x10000 +
                                                (uint)local_28[3] * 0x1000000) -
                                               iVar5) -
                                                  local_18;
                    uVar3 = uVar2 << 8 ^ (iVar5 - local_18) - uVar2;
                    uVar4 = uVar3 >> 0xd ^ (local_18 - uVar2) - uVar3;
                    uVar2 = uVar4 >> 0xc ^ (uVar2 - uVar3) - uVar4;
                    uVar3 = uVar2 << 0x10 ^ (uVar3 - uVar4) - uVar2;
                    uVar4 = uVar3 >> 5 ^ (uVar4 - uVar2) - uVar3;
                    local_1c = uVar4 >> 3 ^ (uVar2 - uVar3) - uVar4;
                    local_20 = local_1c << 10 ^ (uVar3 - uVar4) - local_1c;
                    local_18 = local_20 >> 0xf ^ (uVar4 - local_1c) - local_20;
                    local_28 = local_28 + 0xc;
                }
                local_18 = local_18 + 4;
                switch (local_24) {
                case 8:
                    local_20 = local_20 + (uint)local_28[7] * 0x1000000 +
                               (uint)local_28[6] * 0x10000 +
                               (uint)local_28[5] * 0x100 + (uint)local_28[4];
                case 4:
                    local_1c = local_1c + (uint)local_28[3] * 0x1000000 +
                               (uint)local_28[2] * 0x10000 +
                               (uint)local_28[1] * 0x100 + (uint)*local_28;
                default:
                    uVar2 = local_18 >> 0xd ^ (local_1c - local_20) - local_18;
                    uVar3 = uVar2 << 8 ^ (local_20 - local_18) - uVar2;
                    uVar4 = uVar3 >> 0xd ^ (local_18 - uVar2) - uVar3;
                    uVar2 = uVar4 >> 0xc ^ (uVar2 - uVar3) - uVar4;
                    uVar3 = uVar2 << 0x10 ^ (uVar3 - uVar4) - uVar2;
                    uVar4 = uVar3 >> 5 ^ (uVar4 - uVar2) - uVar3;
                    local_1c = uVar4 >> 3 ^ (uVar2 - uVar3) - uVar4;
                    local_20 = local_1c << 10 ^ (uVar3 - uVar4) - local_1c;
                    local_18 = local_20 >> 0xf ^ (uVar4 - local_1c) - local_20;
                    local_c = (void *)0x0;
                    if (DAT_00088134 != (int *)0x0) {
                        local_40 = local_18 & *(int *)(*DAT_00088134 + 4) - 1U;
                        if (*(int *)(*(int *)*DAT_00088134 + local_40 * 0xc) ==
                            0) {
                            local_c = (void *)0x0;
                        } else {
                            local_c = (void *)(*(int *)(*(int *)*DAT_00088134 +
                                                        local_40 * 0xc) -
                                               *(int *)(*DAT_00088134 + 0x14));
                        }
                        while (
                            (local_c != (void *)0x0 &&
                             (((*(uint *)((int)local_c + 0x1c) != local_18 ||
                                (*(int *)((int)local_c + 0x18) != 4)) ||
                               (iVar5 = memcmp(*(void **)((int)local_c + 0x14),
                                               &local_150, 4),
                                iVar5 != 0))))) {
                            if (*(int *)((int)local_c + 0x10) == 0) {
                                local_c = (void *)0x0;
                            } else {
                                local_c =
                                    (void *)(*(int *)((int)local_c + 0x10) -
                                             *(int *)(*DAT_00088134 + 0x14));
                            }
                        }
                    }
                    if (local_c != (void *)0x0) {
                        if ((*(int *)((int)local_c + 4) == 0) &&
                            (*(int *)((int)local_c + 8) == 0)) {
                            free(*(void **)*DAT_00088134);
                            free((void *)*DAT_00088134);
                            DAT_00088134 = (int *)0x0;
                        } else {
                            local_44 = local_c;
                            if ((void *)(*(int *)(*DAT_00088134 + 0x10) -
                                         *(int *)(*DAT_00088134 + 0x14)) ==
                                local_c) {
                                *(int *)(*DAT_00088134 + 0x10) =
                                    *(int *)((int)local_c + 4) +
                                    *(int *)(*DAT_00088134 + 0x14);
                            }
                            if (*(int *)((int)local_c + 4) == 0) {
                                DAT_00088134 = *(int **)((int)local_c + 8);
                            } else {
                                *(undefined4 *)(*(int *)((int)local_c + 4) +
                                                *(int *)(*DAT_00088134 + 0x14) +
                                                8) =
                                    *(undefined4 *)((int)local_c + 8);
                            }
                            if (*(int *)((int)local_c + 8) != 0) {
                                *(undefined4 *)(*(int *)((int)local_c + 8) +
                                                *(int *)(*DAT_00088134 + 0x14) +
                                                4) =
                                    *(undefined4 *)((int)local_c + 4);
                            }
                            local_48 = *(int *)(*DAT_00088134 + 4) - 1U &
                                       *(uint *)((int)local_c + 0x1c);
                            iVar5 = *(int *)*DAT_00088134 + local_48 * 0xc;
                            *(int *)(iVar5 + 4) = *(int *)(iVar5 + 4) + -1;
                            if (*(void **)(*(int *)*DAT_00088134 +
                                           local_48 * 0xc) == local_c) {
                                *(undefined4 *)(*(int *)*DAT_00088134 +
                                                local_48 * 0xc) =
                                    *(undefined4 *)((int)local_c + 0x10);
                            }
                            if (*(int *)((int)local_c + 0xc) != 0) {
                                *(undefined4 *)(*(int *)((int)local_c + 0xc) +
                                                0x10) =
                                    *(undefined4 *)((int)local_c + 0x10);
                            }
                            if (*(int *)((int)local_c + 0x10) != 0) {
                                *(undefined4 *)(*(int *)((int)local_c + 0x10) +
                                                0xc) =
                                    *(undefined4 *)((int)local_c + 0xc);
                            }
                            *(int *)(*DAT_00088134 + 0xc) =
                                *(int *)(*DAT_00088134 + 0xc) + -1;
                        }
                        param_1[0xbb] = param_1[0xbb] + -1;
                    }
                    FUN_0002e484(&DAT_00088008, "cgminer.c",
                                 "parse_stratum_response", 0x1cc9);
                    if (local_c == (void *)0x0) {
                        if (local_30 != (int *)0x0) {
                            FUN_0002e91c(param_1 + 0x35, "cgminer.c",
                                         "parse_stratum_response", 0x1cd5);
                            local_50 = param_1[0x1cc];
                            uStack_4c = param_1[0x1cd];
                            FUN_0002ea38(param_1 + 0x35, "cgminer.c",
                                         "parse_stratum_response", 0x1cd7);
                            if ((local_30 == (int *)0x0) || (*local_30 != 5)) {
                                if ((DAT_00091f58 != '\0') ||
                                    ((DAT_00087769 != '\0' ||
                                      (4 < DAT_0008697c)))) {
                                    snprintf(acStack_950, 0x800,
                                             "Rejected untracked stratum share "
                                             "from pool %d",
                                             *param_1);
                                    FUN_0001e4ec(5, acStack_950, 0);
                                }
                                FUN_0002e354(&DAT_00091f5c, "cgminer.c",
                                             "parse_stratum_response", 0x1cea);
                                bVar6 = 0xfffffffe < (uint)DAT_00094180;
                                DAT_00094180._0_4_ = (uint)DAT_00094180 + 1;
                                DAT_00094180._4_4_ =
                                    DAT_00094180._4_4_ + (uint)bVar6;
                                uVar2 = param_1[4];
                                param_1[4] = uVar2 + 1;
                                param_1[5] =
                                    param_1[5] + (uint)(0xfffffffe < uVar2);
                                _DAT_00094178 =
                                    _DAT_00094178 +
                                    (double)CONCAT44(uStack_4c, local_50);
                                *(double *)(param_1 + 0x14) =
                                    *(double *)(param_1 + 0x14) +
                                    (double)CONCAT44(uStack_4c, local_50);
                                FUN_0002e484(&DAT_00091f5c, "cgminer.c",
                                             "parse_stratum_response", 0x1cef);
                            } else {
                                if (((DAT_00091f58 != '\0') ||
                                     (DAT_00087769 != '\0')) ||
                                    (4 < DAT_0008697c)) {
                                    snprintf(acStack_950, 0x800,
                                             "Accepted untracked stratum share "
                                             "from pool %d",
                                             *param_1);
                                    FUN_0001e4ec(5, acStack_950, 0);
                                }
                                FUN_0002e354(&DAT_00091f5c, "cgminer.c",
                                             "parse_stratum_response", 0x1cdf);
                                bVar6 = 0xfffffffe < (uint)DAT_000920b8;
                                DAT_000920b8._0_4_ = (uint)DAT_000920b8 + 1;
                                DAT_000920b8._4_4_ =
                                    DAT_000920b8._4_4_ + (uint)bVar6;
                                uVar2 = param_1[2];
                                param_1[2] = uVar2 + 1;
                                param_1[3] =
                                    param_1[3] + (uint)(0xfffffffe < uVar2);
                                _DAT_000940f0 =
                                    _DAT_000940f0 +
                                    (double)CONCAT44(uStack_4c, local_50);
                                *(double *)(param_1 + 0x12) =
                                    *(double *)(param_1 + 0x12) +
                                    (double)CONCAT44(uStack_4c, local_50);
                                FUN_0002e484(&DAT_00091f5c, "cgminer.c",
                                             "parse_stratum_response", 0x1ce4);
                            }
                        }
                    } else {
                        FUN_0003d8b8(local_2c, local_30, local_34, local_c);
                        FUN_00031f40((int)local_c + 0x24, "cgminer.c",
                                     "parse_stratum_response", 0x1cf6);
                        free(local_c);
                        local_d = 1;
                    }
                }
            }
        } else {
            if (local_34 == 0) {
                local_14 = strdup("(unknown reason)");
            } else {
                local_14 = (char *)FUN_000605a4(local_34, 3);
            }
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (5 < DAT_0008697c)) {
                snprintf(acStack_950, 0x800,
                         "JSON-RPC non method decode failed: %s", local_14);
                FUN_0001e4ec(6, acStack_950, 0);
            }
            free(local_14);
        }
    }
    if (local_2c != 0) {
        FUN_0002de88(local_2c);
    }
    return local_d;
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */

void FUN_0003eaa8(undefined4 *param_1)

{
    int iVar1;
    bool bVar2;
    char acStack_824[2048];
    uint local_24;
    int *local_20;
    uint local_1c;
    double local_18;
    int *local_10;
    int *local_c;

    local_18 = 0.0;
    local_1c = 0;
    FUN_0002e354(&DAT_00088008, "cgminer.c", "clear_stratum_shares", 0x1d0c);
    local_c = DAT_00088134;
    if (DAT_00088134 == (int *)0x0) {
        local_10 = (int *)0x0;
    } else {
        local_10 = (int *)DAT_00088134[2];
    }
    while (local_c != (int *)0x0) {
        if (*(undefined4 **)(local_c[9] + 0x104) == param_1) {
            if ((local_c[1] == 0) && (local_c[2] == 0)) {
                free(*(void **)*DAT_00088134);
                free((void *)*DAT_00088134);
                DAT_00088134 = (int *)0x0;
            } else {
                local_20 = local_c;
                if ((int *)(*(int *)(*DAT_00088134 + 0x10) -
                            *(int *)(*DAT_00088134 + 0x14)) == local_c) {
                    *(int *)(*DAT_00088134 + 0x10) =
                        local_c[1] + *(int *)(*DAT_00088134 + 0x14);
                }
                if (local_c[1] == 0) {
                    DAT_00088134 = (int *)local_c[2];
                } else {
                    *(int *)(local_c[1] + *(int *)(*DAT_00088134 + 0x14) + 8) =
                        local_c[2];
                }
                if (local_c[2] != 0) {
                    *(int *)(local_c[2] + *(int *)(*DAT_00088134 + 0x14) + 4) =
                        local_c[1];
                }
                local_24 = *(int *)(*DAT_00088134 + 4) - 1U & local_c[7];
                iVar1 = *(int *)*DAT_00088134 + local_24 * 0xc;
                *(int *)(iVar1 + 4) = *(int *)(iVar1 + 4) + -1;
                if (*(int **)(*(int *)*DAT_00088134 + local_24 * 0xc) ==
                    local_c) {
                    *(int *)(*(int *)*DAT_00088134 + local_24 * 0xc) =
                        local_c[4];
                }
                if (local_c[3] != 0) {
                    *(int *)(local_c[3] + 0x10) = local_c[4];
                }
                if (local_c[4] != 0) {
                    *(int *)(local_c[4] + 0xc) = local_c[3];
                }
                *(int *)(*DAT_00088134 + 0xc) =
                    *(int *)(*DAT_00088134 + 0xc) + -1;
            }
            local_18 = local_18 + *(double *)(local_c[9] + 0x178);
            FUN_00031f40(local_c + 9, "cgminer.c", "clear_stratum_shares",
                         0x1d14);
            param_1[0xbb] = param_1[0xbb] + -1;
            free(local_c);
            local_1c = local_1c + 1;
        }
        local_c = local_10;
        if (local_10 == (int *)0x0) {
            local_10 = (int *)0x0;
        } else {
            local_10 = (int *)local_10[2];
        }
    }
    FUN_0002e484(&DAT_00088008, "cgminer.c", "clear_stratum_shares", 0x1d1a);
    if (local_1c != 0) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (3 < DAT_0008697c)) {
            snprintf(acStack_824, 0x800,
                     "Lost %d shares due to stratum disconnect on pool %d",
                     local_1c, *param_1);
            FUN_0001e4ec(4, acStack_824, 0);
        }
        param_1[0x1e] = param_1[0x1e] + local_1c;
        bVar2 = CARRY4(local_1c, DAT_00095490);
        DAT_00095490 = local_1c + DAT_00095490;
        DAT_00095494 = ((int)local_1c >> 0x1f) + DAT_00095494 + (uint)bVar2;
        *(double *)(param_1 + 0x16) = *(double *)(param_1 + 0x16) + local_18;
        _DAT_000920c0 = _DAT_000920c0 + local_18;
    }
    return;
}

void FUN_0003efc0(undefined4 *param_1)

{
    int iVar1;
    char acStack_81c[2048];
    int local_1c;
    uint local_18;
    int local_14;
    int local_10;
    int local_c;

    local_10 = 0;
    FUN_0002e354(DAT_00087fe4, "cgminer.c", "clear_pool_work", 0x1d2b);
    local_1c = DAT_00087e98;
    if (DAT_00087e98 == 0) {
        local_c = 0;
    } else {
        local_c = *(int *)(DAT_00087e98 + 0x160);
    }
    while (local_1c != 0) {
        if (*(undefined4 **)(local_1c + 0x104) == param_1) {
            if ((*(int *)(local_1c + 0x15c) == 0) &&
                (*(int *)(local_1c + 0x160) == 0)) {
                free((void *)**(undefined4 **)(DAT_00087e98 + 0x158));
                free(*(void **)(DAT_00087e98 + 0x158));
                DAT_00087e98 = 0;
            } else {
                local_14 = local_1c + 0x158;
                if (*(int *)(*(int *)(DAT_00087e98 + 0x158) + 0x10) -
                        *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0x14) ==
                    local_1c) {
                    *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0x10) =
                        *(int *)(local_1c + 0x15c) +
                        *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0x14);
                }
                if (*(int *)(local_1c + 0x15c) == 0) {
                    DAT_00087e98 = *(int *)(local_1c + 0x160);
                } else {
                    *(undefined4 *)(*(int *)(local_1c + 0x15c) +
                                    *(int *)(*(int *)(DAT_00087e98 + 0x158) +
                                             0x14) +
                                    8) = *(undefined4 *)(local_1c + 0x160);
                }
                if (*(int *)(local_1c + 0x160) != 0) {
                    *(undefined4 *)(*(int *)(local_1c + 0x160) +
                                    *(int *)(*(int *)(DAT_00087e98 + 0x158) +
                                             0x14) +
                                    4) = *(undefined4 *)(local_1c + 0x15c);
                }
                local_18 = *(int *)(*(int *)(DAT_00087e98 + 0x158) + 4) - 1U &
                           *(uint *)(local_1c + 0x174);
                iVar1 = **(int **)(DAT_00087e98 + 0x158) + local_18 * 0xc;
                *(int *)(iVar1 + 4) = *(int *)(iVar1 + 4) + -1;
                if (*(int *)(**(int **)(DAT_00087e98 + 0x158) +
                             local_18 * 0xc) == local_14) {
                    *(undefined4 *)(**(int **)(DAT_00087e98 + 0x158) +
                                    local_18 * 0xc) =
                        *(undefined4 *)(local_1c + 0x168);
                }
                if (*(int *)(local_1c + 0x164) != 0) {
                    *(undefined4 *)(*(int *)(local_1c + 0x164) + 0x10) =
                        *(undefined4 *)(local_1c + 0x168);
                }
                if (*(int *)(local_1c + 0x168) != 0) {
                    *(undefined4 *)(*(int *)(local_1c + 0x168) + 0xc) =
                        *(undefined4 *)(local_1c + 0x164);
                }
                *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0xc) =
                    *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0xc) + -1;
            }
            FUN_00031f40(&local_1c, "cgminer.c", "clear_pool_work", 0x1d31);
            local_10 = local_10 + 1;
        }
        local_1c = local_c;
        if (local_c == 0) {
            local_c = 0;
        } else {
            local_c = *(int *)(local_c + 0x160);
        }
    }
    FUN_0002e484(DAT_00087fe4, "cgminer.c", "clear_pool_work", 0x1d35);
    if ((local_10 != 0) && (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                             (5 < DAT_0008697c)))) {
        snprintf(acStack_81c, 0x800,
                 "Cleared %d work items due to stratum disconnect on pool %d",
                 local_10, *param_1);
        FUN_0001e4ec(6, acStack_81c, 0);
    }
    return;
}

undefined4 FUN_0003f424(void)

{
    undefined4 uVar1;

    FUN_0002e91c(&DAT_00095310, "cgminer.c", "cp_prio", 0x1d3f);
    uVar1 = *(undefined4 *)(DAT_00088090 + 4);
    FUN_0002ea38(&DAT_00095310, "cgminer.c", "cp_prio", 0x1d41);
    return uVar1;
}

undefined4 FUN_0003f494(int param_1)

{
    int iVar1;
    undefined4 uVar2;
    int iVar3;

    if (*(int *)(param_1 + 100) == 1) {
        if (DAT_00087e6c == 4) {
            uVar2 = 1;
        } else if (DAT_00087e6c == 3) {
            uVar2 = 1;
        } else if ((*(char *)(param_1 + 0x290) == '\0') ||
                   (*(char *)(param_1 + 0x61) == '\0')) {
            iVar1 = FUN_0002f984();
            if (iVar1 == param_1) {
                uVar2 = 1;
            } else if (*(int *)(param_1 + 0x2ec) == 0) {
                if ((DAT_00087e6c == 0) &&
                    (iVar3 = *(int *)(param_1 + 4), iVar1 = FUN_0003f424(),
                     iVar3 < iVar1)) {
                    uVar2 = 1;
                } else if (DAT_00087fc1 == '\0') {
                    uVar2 = 0;
                } else {
                    uVar2 = 1;
                }
            } else {
                uVar2 = 1;
            }
        } else {
            uVar2 = 1;
        }
    } else {
        uVar2 = 0;
    }
    return uVar2;
}

void FUN_0003f5b4(undefined4 *param_1)

{
    int iVar1;
    char acStack_808[2048];

    iVar1 = FUN_0002f908(param_1, (int)param_1 + 0x61);
    if (iVar1 != 0) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (5 < DAT_0008697c)) {
            snprintf(acStack_808, 0x800,
                     "Stratum connection to pool %d resumed", *param_1);
            FUN_0001e4ec(6, acStack_808, 0);
        }
        FUN_00042c34(param_1);
    }
    return;
}

undefined1 FUN_0003f66c(int param_1)

{
    undefined1 uVar1;
    int iVar2;
    bool bVar3;

    FUN_0002e91c(param_1 + 0xd4, "cgminer.c", "supports_resume", 0x1d80);
    iVar2 = *(int *)(param_1 + 0x28c);
    bVar3 = iVar2 != 0;
    if (bVar3) {
        iVar2 = 1;
    }
    uVar1 = (undefined1)iVar2;
    if (!bVar3) {
        uVar1 = 0;
    }
    FUN_0002ea38(param_1 + 0xd4, "cgminer.c", "supports_resume", 0x1d82);
    return uVar1;
}

undefined4 FUN_0003f6e4(undefined4 *param_1)

{
    char cVar1;
    pthread_t __th;
    undefined4 *puVar2;
    int iVar3;
    int iVar4;
    fd_set fStack_8b8;
    char acStack_838[2048];
    int local_38;
    timeval local_34;
    char acStack_2c[16];
    int local_1c;
    fd_set *local_18;
    undefined4 *local_14;
    uint local_10;
    void *local_c;

    local_14 = param_1;
    __th = pthread_self();
    pthread_detach(__th);
    snprintf(acStack_2c, 0x10, "%d/RStratum", *local_14);
    FUN_0002b968(acStack_2c);
    do {
        while (true) {
            if (*(char *)((int)local_14 + 0x69) != '\0') {
                FUN_00029ef4(local_14);
                return 0;
            }
            cVar1 = FUN_00023188(local_14);
            if ((cVar1 != '\x01') &&
                (cVar1 = FUN_0003f494(local_14), cVar1 != '\x01')) {
                FUN_00029ef4(local_14);
                FUN_0003eaa8(local_14);
                FUN_0003efc0(local_14);
                FUN_00048f30(local_14);
                while (cVar1 = FUN_0002b4b0(local_14), cVar1 != '\x01') {
                    FUN_00035934(local_14);
                    if (*(char *)((int)local_14 + 0x69) != '\0') {
                        return 0;
                    }
                    FUN_0002251c(5000);
                }
            }
            local_18 = &fStack_8b8;
            for (local_10 = 0; local_10 < 0x20; local_10 = local_10 + 1) {
                fStack_8b8.fds_bits[local_10] = 0;
            }
            iVar4 = local_14[0x93];
            iVar3 = iVar4 + 0x1f;
            if (-1 < iVar4) {
                iVar3 = iVar4;
            }
            fStack_8b8.fds_bits[iVar3 >> 5] =
                fStack_8b8.fds_bits[iVar3 >> 5] |
                1 << ((int)local_14[0x93] % 0x20 & 0xffU);
            local_34.tv_sec = 0x5a;
            local_34.tv_usec = 0;
            cVar1 = FUN_00023188(local_14);
            if ((cVar1 == '\x01') ||
                (local_1c = select(local_14[0x93] + 1, &fStack_8b8,
                                   (fd_set *)0x0, (fd_set *)0x0, &local_34),
                 0 < local_1c)) {
                local_c = (void *)FUN_00023428(local_14);
            } else {
                if ((DAT_00087768 != '\0') &&
                    (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                      (6 < DAT_0008697c)))) {
                    snprintf(acStack_838, 0x800,
                             "Stratum select failed on pool %d with value %d",
                             *local_14, local_1c);
                    FUN_0001e4ec(7, acStack_838, 0);
                }
                local_c = (void *)0x0;
            }
            if (local_c == (void *)0x0)
                break;
            FUN_0003f5b4(local_14);
            cVar1 = FUN_00026aa0(local_14, local_c);
            if (((cVar1 == '\x01') ||
                 (cVar1 = FUN_0003d9f4(local_14, local_c), cVar1 == '\x01')) ||
                (cVar1 = FUN_00025764(local_14, local_c), cVar1 == '\x01')) {
                if (*(char *)(local_14 + 0xae) != '\0') {
                    local_38 = FUN_00031e10();
                    *(undefined1 *)(local_14 + 0xae) = 0;
                    FUN_000439d8(local_14, local_38);
                    *(undefined1 *)(local_38 + 0x118) = 1;
                    FUN_0003986c(local_38);
                    FUN_00031f40(&local_38, "cgminer.c", "stratum_rthread",
                                 0x1df6);
                }
            } else if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                       (5 < DAT_0008697c)) {
                snprintf(acStack_838, 0x800, "Unknown stratum msg: %s",
                         local_c);
                FUN_0001e4ec(6, acStack_838, 0);
            }
            free(local_c);
        }
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (4 < DAT_0008697c)) {
            snprintf(acStack_838, 0x800,
                     "Stratum connection to pool %d interrupted", *local_14);
            FUN_0001e4ec(5, acStack_838, 0);
        }
        local_14[0x20] = local_14[0x20] + 1;
        DAT_000920d0 = DAT_000920d0 + 1;
        cVar1 = FUN_0003f66c(local_14);
        if ((cVar1 != '\x01') || (DAT_0009414c != '\0')) {
            FUN_0003eaa8(local_14);
        }
        FUN_0003efc0(local_14);
        puVar2 = (undefined4 *)FUN_0002f984();
        if (puVar2 == local_14) {
            FUN_00037350();
        }
        while (cVar1 = FUN_0002b4b0(local_14), cVar1 != '\x01') {
            FUN_00035934(local_14);
            if (*(char *)((int)local_14 + 0x69) != '\0') {
                return 0;
            }
            FUN_0002251c(5000);
        }
    } while (true);
}

/* WARNING: Heritage AFTER dead removal. Example location: s0xffffff54 :
 * 0x00040004 */
/* WARNING: Restarted to delay deadcode elimination for space: stack */

undefined4 FUN_0003fc64(undefined4 *param_1)

{
    int *piVar1;
    char cVar2;
    pthread_t __th;
    undefined4 uVar3;
    time_t tVar4;
    uint uVar5;
    uint uVar6;
    size_t sVar7;
    void *pvVar8;
    int iVar9;
    int iVar10;
    uint uVar11;
    undefined4 uVar12;
    undefined4 *puVar13;
    undefined4 uVar14;
    bool bVar15;
    undefined1 *puVar16;
    undefined1 *puVar17;
    char acStack_cb4[1024];
    char local_8b4[28];
    undefined4 local_898;
    char local_894[8];
    undefined4 local_88c;
    undefined4 local_888;
    undefined4 local_884;
    undefined2 local_880;
    undefined4 local_b4;
    int local_b0;
    int local_ac;
    int iStack_a8;
    int local_a4;
    undefined1 auStack_a0[20];
    undefined1 auStack_8c[12];
    char acStack_80[16];
    int local_70;
    int *local_6c;
    uint local_68;
    int local_64;
    void *local_60;
    uint local_5c;
    char local_55;
    int local_54;
    int *local_50;
    int *local_4c;
    undefined4 *local_48;
    int local_44;
    uint local_40;
    byte *local_3c;
    uint local_38;
    uint local_34;
    uint local_30;
    uint local_2c;
    char local_25;
    int local_24;
    undefined8 local_20;

    local_20 = 0;
    local_24 = 0;
    local_48 = param_1;
    __th = pthread_self();
    pthread_detach(__th);
    snprintf(acStack_80, 0x10, "%d/SStratum", *local_48);
    FUN_0002b968(acStack_80);
    uVar3 = FUN_0002154c();
    local_48[0xba] = uVar3;
    if (local_48[0xba] == 0) {
        builtin_strncpy(local_8b4, "Failed to create stratum_q i", 0x1c);
        local_898._0_1_ = 'n';
        local_898._1_1_ = ' ';
        local_898._2_1_ = 's';
        local_898._3_1_ = 't';
        builtin_strncpy(local_894, "ratum_st", 8);
        local_88c._0_1_ = 'h';
        local_88c._1_1_ = 'r';
        local_88c._2_1_ = 'e';
        local_88c._3_1_ = 'a';
        local_888._0_2_ = 100;
        FUN_0001e4ec(3, local_8b4, 1);
        FUN_0004bfb0(1);
    }
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (4 < DAT_0008697c)) {
        snprintf(local_8b4, 0x800,
                 "in %s , pool: %d, pool_url: %s, miner_name: %s",
                 "stratum_sthread", *local_48, local_48[0x29], local_48[0x2b]);
        FUN_0001e4ec(5, local_8b4, 0);
    }
    do {
        while (true) {
            while (true) {
                while (true) {
                    if (*(char *)((int)local_48 + 0x69) != '\0') {
                        FUN_00021714(local_48[0xba]);
                        return 0;
                    }
                    local_b0 = FUN_00021870(local_48[0xba], 0);
                    if (local_b0 == 0) {
                        builtin_strncpy(local_8b4,
                                        "Stratum q returned empty wor", 0x1c);
                        local_898._0_2_ = 0x6b;
                        FUN_0001e4ec(3, local_8b4, 1);
                        FUN_0004bfb0(1);
                    }
                    if (*(uint *)(local_b0 + 0x130) < 9)
                        break;
                    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                        (2 < DAT_0008697c)) {
                        snprintf(local_8b4, 0x800,
                                 "Pool %d asking for inappropriately long "
                                 "nonce2 length %d",
                                 *local_48, *(undefined4 *)(local_b0 + 0x130));
                        FUN_0001e4ec(3, local_8b4, 0);
                    }
                    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                        (2 < DAT_0008697c)) {
                        builtin_strncpy(local_8b4,
                                        "Not attempting to submit sha", 0x1c);
                        local_898._0_1_ = 'r';
                        local_898._1_1_ = 'e';
                        local_898._2_1_ = 's';
                        local_898._3_1_ = '\0';
                        FUN_0001e4ec(3, local_8b4, 0);
                    }
                    FUN_00031f40(&local_b0, "cgminer.c", "stratum_sthread",
                                 0x1e2d);
                }
                local_a4 = *(int *)(local_b0 + 0x4c);
                local_4c = &local_ac;
                iVar9 = *(int *)(local_b0 + 0x128);
                iVar10 = *(int *)(local_b0 + 300);
                if ((local_a4 != local_24) ||
                    (iStack_a8 != local_20._4_4_ || local_ac != (int)local_20))
                    break;
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (local_ac = iVar9, iStack_a8 = iVar10, 5 < DAT_0008697c)) {
                    local_ac = iVar9;
                    iStack_a8 = iVar10;
                    snprintf(local_8b4, 0x800,
                             "Filtering duplicate share to pool %d", *local_48);
                    FUN_0001e4ec(6, local_8b4, 0);
                }
                FUN_00031f40(&local_b0, "cgminer.c", "stratum_sthread", 0x1e39);
            }
            if (*(double *)(local_48 + 0x1ca) <= *(double *)(local_b0 + 0x138))
                break;
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (local_ac = iVar9, iStack_a8 = iVar10, 5 < DAT_0008697c)) {
                local_ac = iVar9;
                iStack_a8 = iVar10;
                snprintf(local_8b4, 0x800,
                         "Filtering high hash share to pool %d", *local_48);
                FUN_0001e4ec(6, local_8b4, 0);
            }
            FUN_00031f40(&local_b0, "cgminer.c", "stratum_sthread", 0x1e41);
        }
        local_20 = CONCAT44(iStack_a8, local_ac);
        local_24 = local_a4;
        local_ac = iVar9;
        iStack_a8 = iVar10;
        FUN_0002067c(auStack_8c, &local_a4, 4);
        FUN_0002067c(auStack_a0, &local_ac, *(undefined4 *)(local_b0 + 0x130));
        local_50 = (int *)FUN_000202d4(0x34, 1, "cgminer.c", "stratum_sthread",
                                       0x1e4a);
        local_54 = local_b0 + 0xc0;
        local_25 = '\0';
        tVar4 = time((time_t *)0x0);
        local_50[0xb] = tVar4;
        local_50[9] = local_b0;
        memset(acStack_cb4, 0, 0x400);
        FUN_0002e354(&DAT_00088008, "cgminer.c", "stratum_sthread", 0x1e53);
        iVar9 = DAT_00091f84 + 1;
        local_50[10] = DAT_00091f84;
        DAT_00091f84 = iVar9;
        FUN_0002e484(&DAT_00088008, "cgminer.c", "stratum_sthread", 0x1e56);
        local_b4 = 0;
        FUN_000207e8(&local_b4, local_48 + 0x1c1, 4);
        if (*(char *)(local_48 + 0xa5) == '\0') {
            uVar3 = *(undefined4 *)(local_b0 + 0x134);
            uVar5 = local_50[10];
            puVar17 = auStack_8c;
            puVar16 = auStack_a0;
            snprintf(acStack_cb4, 0x400,
                     "{\"params\": [\"%s\", \"%s\", \"%s\", \"%s\", \"%s\"], "
                     "\"id\": %d, \"method\": \"mining.submit\"}",
                     local_48[0x2b], *(undefined4 *)(local_b0 + 0x120), puVar16,
                     uVar3, puVar17, uVar5);
        } else {
            uVar14 = local_48[0x2b];
            uVar12 = *(undefined4 *)(local_b0 + 0x120);
            uVar3 = *(undefined4 *)(local_b0 + 0x134);
            uVar5 = FUN_0002df70(*(undefined4 *)(local_b0 + 0x1bc));
            uVar6 = FUN_0002df70(local_b4);
            uVar5 = ~uVar6 & uVar5;
            puVar17 = auStack_8c;
            puVar16 = auStack_a0;
            snprintf(acStack_cb4, 0x400,
                     "{\"params\": [\"%s\", \"%s\", \"%s\", \"%s\", \"%s\", "
                     "\"%08x\"], \"id\": %d, \"method\": \"mining.submit\"}",
                     uVar14, uVar12, puVar16, uVar3, puVar17, uVar5,
                     local_50[10]);
        }
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (5 < DAT_0008697c)) {
            snprintf(local_8b4, 0x800, "Submitting share %08lx to pool %d",
                     *(undefined4 *)(local_54 + 0x18), *local_48, puVar16,
                     uVar3, puVar17, uVar5);
            FUN_0001e4ec(6, local_8b4, 0);
        }
        while (true) {
            tVar4 = time((time_t *)0x0);
            if (local_50[0xb] + 0x78 <= tVar4)
                goto LAB_00041700;
            sVar7 = strlen(acStack_cb4);
            iVar9 = FUN_00022cf8(local_48, acStack_cb4, sVar7);
            if (iVar9 != 0)
                break;
            cVar2 = FUN_0002f88c(local_48, local_48 + 0x18);
            if ((cVar2 != '\x01') &&
                (iVar9 = FUN_0003f494(local_48), iVar9 != 0)) {
                if ((DAT_00091f58 != '\0') ||
                    ((DAT_00087769 != '\0' || (3 < DAT_0008697c)))) {
                    snprintf(local_8b4, 0x800,
                             "Pool %d stratum share submission failure",
                             *local_48);
                    FUN_0001e4ec(4, local_8b4, 0);
                }
                DAT_00091f74 = DAT_00091f74 + 1;
                local_48[0x21] = local_48[0x21] + 1;
            }
            if (DAT_0009414c != '\0') {
                if ((DAT_00087768 != '\0') &&
                    (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                      (6 < DAT_0008697c)))) {
                    builtin_strncpy(local_8b4, "Lowmem option prevents resub",
                                    0x1c);
                    local_898._0_1_ = 'm';
                    local_898._1_1_ = 'i';
                    local_898._2_1_ = 't';
                    local_898._3_1_ = 't';
                    builtin_strncpy(local_894, "ing stra", 8);
                    local_88c._0_1_ = 't';
                    local_88c._1_1_ = 'u';
                    local_88c._2_1_ = 'm';
                    local_88c._3_1_ = ' ';
                    local_888._0_1_ = 's';
                    local_888._1_1_ = 'h';
                    local_888._2_1_ = 'a';
                    local_888._3_1_ = 'r';
                    local_884._0_2_ = 0x65;
                    FUN_0001e4ec(7, local_8b4, 0);
                }
                goto LAB_00041700;
            }
            FUN_0002e91c(local_48 + 0x35, "cgminer.c", "stratum_sthread",
                         0x1e9b);
            if ((local_48[0x9d] == 0) ||
                (iVar9 = strcmp(*(char **)(local_b0 + 0x140),
                                (char *)local_48[0x9d]),
                 iVar9 != 0)) {
                local_55 = '\0';
            } else {
                local_55 = '\x01';
            }
            FUN_0002ea38(local_48 + 0x35, "cgminer.c", "stratum_sthread",
                         0x1e9d);
            if (local_55 != '\x01') {
                if ((DAT_00087768 != '\0') &&
                    (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                      (6 < DAT_0008697c)))) {
                    builtin_strncpy(local_8b4, "No matching session id for r",
                                    0x1c);
                    local_898._0_1_ = 'e';
                    local_898._1_1_ = 's';
                    local_898._2_1_ = 'u';
                    local_898._3_1_ = 'b';
                    builtin_strncpy(local_894, "mitting ", 8);
                    local_88c._0_1_ = 's';
                    local_88c._1_1_ = 't';
                    local_88c._2_1_ = 'r';
                    local_88c._3_1_ = 'a';
                    local_888._0_1_ = 't';
                    local_888._1_1_ = 'u';
                    local_888._2_1_ = 'm';
                    local_888._3_1_ = ' ';
                    local_884._0_1_ = 's';
                    local_884._1_1_ = 'h';
                    local_884._2_1_ = 'a';
                    local_884._3_1_ = 'r';
                    local_880 = 0x65;
                    FUN_0001e4ec(7, local_8b4, 0);
                }
                goto LAB_00041700;
            }
            sleep(2);
        }
        FUN_0002e354(&DAT_00088008, "cgminer.c", "stratum_sthread", 0x1e82);
        piVar1 = local_50;
        local_3c = (byte *)(local_50 + 10);
        local_2c = 0xfeedbeef;
        local_34 = 0x9e3779b9;
        local_30 = 0x9e3779b9;
        for (local_38 = 4; 0xb < local_38; local_38 = local_38 - 0xc) {
            iVar9 = local_34 + (uint)local_3c[4] + (uint)local_3c[5] * 0x100 +
                    (uint)local_3c[6] * 0x10000 + (uint)local_3c[7] * 0x1000000;
            local_2c =
                local_2c + (uint)local_3c[8] + (uint)local_3c[9] * 0x100 +
                (uint)local_3c[10] * 0x10000 + (uint)local_3c[0xb] * 0x1000000;
            uVar5 =
                local_2c >> 0xd ^
                ((local_30 + (uint)*local_3c + (uint)local_3c[1] * 0x100 +
                  (uint)local_3c[2] * 0x10000 + (uint)local_3c[3] * 0x1000000) -
                 iVar9) -
                    local_2c;
            uVar6 = uVar5 << 8 ^ (iVar9 - local_2c) - uVar5;
            uVar11 = uVar6 >> 0xd ^ (local_2c - uVar5) - uVar6;
            uVar5 = uVar11 >> 0xc ^ (uVar5 - uVar6) - uVar11;
            uVar6 = uVar5 << 0x10 ^ (uVar6 - uVar11) - uVar5;
            uVar11 = uVar6 >> 5 ^ (uVar11 - uVar5) - uVar6;
            local_30 = uVar11 >> 3 ^ (uVar5 - uVar6) - uVar11;
            local_34 = local_30 << 10 ^ (uVar6 - uVar11) - local_30;
            local_2c = local_34 >> 0xf ^ (uVar11 - local_30) - local_34;
            local_3c = local_3c + 0xc;
        }
        local_2c = local_2c + 4;
        switch (local_38) {
        case 8:
            local_34 = local_34 + (uint)local_3c[7] * 0x1000000 +
                       (uint)local_3c[6] * 0x10000 + (uint)local_3c[5] * 0x100 +
                       (uint)local_3c[4];
        case 4:
            local_30 = local_30 + (uint)local_3c[3] * 0x1000000 +
                       (uint)local_3c[2] * 0x10000 + (uint)local_3c[1] * 0x100 +
                       (uint)*local_3c;
        }
        uVar5 = local_2c >> 0xd ^ (local_30 - local_34) - local_2c;
        uVar6 = uVar5 << 8 ^ (local_34 - local_2c) - uVar5;
        uVar11 = uVar6 >> 0xd ^ (local_2c - uVar5) - uVar6;
        uVar5 = uVar11 >> 0xc ^ (uVar5 - uVar6) - uVar11;
        uVar6 = uVar5 << 0x10 ^ (uVar6 - uVar11) - uVar5;
        uVar11 = uVar6 >> 5 ^ (uVar11 - uVar5) - uVar6;
        local_30 = uVar11 >> 3 ^ (uVar5 - uVar6) - uVar11;
        local_34 = local_30 << 10 ^ (uVar6 - uVar11) - local_30;
        local_2c = local_34 >> 0xf ^ (uVar11 - local_30) - local_34;
        local_50[7] = local_2c;
        local_50[5] = (int)(local_50 + 10);
        local_50[6] = 4;
        if (DAT_00088134 == (int *)0x0) {
            local_50[2] = 0;
            local_50[1] = 0;
            DAT_00088134 = local_50;
            pvVar8 = malloc(0x2c);
            *piVar1 = (int)pvVar8;
            if (*DAT_00088134 == 0) {
                /* WARNING: Subroutine does not return */
                exit(-1);
            }
            memset((void *)*DAT_00088134, 0, 0x2c);
            *(int **)(*DAT_00088134 + 0x10) = DAT_00088134;
            *(undefined4 *)(*DAT_00088134 + 4) = 0x20;
            *(undefined4 *)(*DAT_00088134 + 8) = 5;
            *(undefined4 *)(*DAT_00088134 + 0x14) = 0;
            puVar13 = (undefined4 *)*DAT_00088134;
            pvVar8 = malloc(0x180);
            *puVar13 = pvVar8;
            if (*(int *)*DAT_00088134 == 0) {
                /* WARNING: Subroutine does not return */
                exit(-1);
            }
            memset(*(void **)*DAT_00088134, 0, 0x180);
            *(undefined4 *)(*DAT_00088134 + 0x28) = 0xa0111fe1;
        } else {
            *local_50 = *DAT_00088134;
            local_50[2] = 0;
            local_50[1] =
                *(int *)(*DAT_00088134 + 0x10) - *(int *)(*DAT_00088134 + 0x14);
            *(int **)(*(int *)(*DAT_00088134 + 0x10) + 8) = local_50;
            *(int **)(*DAT_00088134 + 0x10) = local_50;
        }
        *(int *)(*DAT_00088134 + 0xc) = *(int *)(*DAT_00088134 + 0xc) + 1;
        local_5c = local_2c & *(int *)(*DAT_00088134 + 4) - 1U;
        iVar9 = *(int *)*DAT_00088134 + local_5c * 0xc;
        *(int *)(iVar9 + 4) = *(int *)(iVar9 + 4) + 1;
        local_50[4] = *(int *)(*(int *)*DAT_00088134 + local_5c * 0xc);
        local_50[3] = 0;
        if (*(int *)(*(int *)*DAT_00088134 + local_5c * 0xc) != 0) {
            *(int **)(*(int *)(*(int *)*DAT_00088134 + local_5c * 0xc) + 0xc) =
                local_50;
        }
        *(int **)(*(int *)*DAT_00088134 + local_5c * 0xc) = local_50;
        if (((uint)((*(int *)(*(int *)*DAT_00088134 + local_5c * 0xc + 8) + 1) *
                    10) <=
             *(uint *)(*(int *)*DAT_00088134 + local_5c * 0xc + 4)) &&
            (*(int *)(*local_50 + 0x24) != 1)) {
            local_60 = malloc(*(int *)(*local_50 + 4) * 0x18);
            if (local_60 == (void *)0x0) {
                /* WARNING: Subroutine does not return */
                exit(-1);
            }
            memset(local_60, 0, *(int *)(*local_50 + 4) * 0x18);
            *(uint *)(*local_50 + 0x18) =
                (*(uint *)(*local_50 + 0xc) >>
                 (*(int *)(*local_50 + 8) + 1U & 0xff)) +
                (uint)((*(int *)(*local_50 + 4) * 2 - 1U &
                        *(uint *)(*local_50 + 0xc)) != 0);
            *(undefined4 *)(*local_50 + 0x1c) = 0;
            for (local_40 = 0; local_40 < *(uint *)(*local_50 + 4);
                 local_40 = local_40 + 1) {
                local_44 = *(int *)(*(int *)*local_50 + local_40 * 0xc);
                while (local_44 != 0) {
                    local_64 = *(int *)(local_44 + 0x10);
                    local_68 = *(int *)(*local_50 + 4) * 2 - 1U &
                               *(uint *)(local_44 + 0x1c);
                    local_6c = (int *)((int)local_60 + local_68 * 0xc);
                    local_6c[1] = local_6c[1] + 1;
                    if (*(uint *)(*local_50 + 0x18) < (uint)local_6c[1]) {
                        *(int *)(*local_50 + 0x1c) =
                            *(int *)(*local_50 + 0x1c) + 1;
                        iVar9 = FUN_00068648(local_6c[1],
                                             *(undefined4 *)(*local_50 + 0x18));
                        local_6c[2] = iVar9;
                    }
                    *(undefined4 *)(local_44 + 0xc) = 0;
                    *(int *)(local_44 + 0x10) = *local_6c;
                    if (*local_6c != 0) {
                        *(int *)(*local_6c + 0xc) = local_44;
                    }
                    *local_6c = local_44;
                    local_44 = local_64;
                }
            }
            free(*(void **)*local_50);
            *(int *)(*local_50 + 4) = *(int *)(*local_50 + 4) << 1;
            *(int *)(*local_50 + 8) = *(int *)(*local_50 + 8) + 1;
            *(void **)*local_50 = local_60;
            if (*(uint *)(*local_50 + 0xc) >> 1 < *(uint *)(*local_50 + 0x1c)) {
                iVar9 = *(int *)(*local_50 + 0x20) + 1;
            } else {
                iVar9 = 0;
            }
            *(int *)(*local_50 + 0x20) = iVar9;
            if (1 < *(uint *)(*local_50 + 0x20)) {
                *(undefined4 *)(*local_50 + 0x24) = 1;
            }
        }
        local_48[0xbb] = local_48[0xbb] + 1;
        FUN_0002e484(&DAT_00088008, "cgminer.c", "stratum_sthread", 0x1e85);
        iVar9 = FUN_0002f908(local_48, local_48 + 0x18);
        if ((iVar9 != 0) &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (3 < DAT_0008697c)))) {
            snprintf(local_8b4, 0x800,
                     "Pool %d communication resumed, submitting work",
                     *local_48);
            FUN_0001e4ec(4, local_8b4, 0);
        }
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            builtin_strncpy(local_8b4, "Successfully submitted, addi", 0x1c);
            local_898._0_1_ = 'n';
            local_898._1_1_ = 'g';
            local_898._2_1_ = ' ';
            local_898._3_1_ = 't';
            builtin_strncpy(local_894, "o stratu", 8);
            local_88c._0_1_ = 'm';
            local_88c._1_1_ = '_';
            local_88c._2_1_ = 's';
            local_88c._3_1_ = 'h';
            local_888._0_1_ = 'a';
            local_888._1_1_ = 'r';
            local_888._2_1_ = 'e';
            local_888._3_1_ = 's';
            local_884._0_1_ = ' ';
            local_884._1_1_ = 'd';
            local_884._2_1_ = 'b';
            local_884._3_1_ = '\0';
            FUN_0001e4ec(7, local_8b4, 0);
        }
        local_25 = '\x01';
    LAB_00041700:
        if (local_25 == '\x01') {
            tVar4 = time((time_t *)0x0);
            local_50[0xc] = tVar4;
            local_70 = local_50[0xc] - local_50[0xb];
            if (((DAT_00087768 != '\0') || (0 < local_70)) &&
                ((DAT_00091f58 != '\0' ||
                  ((DAT_00087769 != '\0' || (5 < DAT_0008697c)))))) {
                snprintf(local_8b4, 0x800,
                         "Pool %d stratum share submission lag time %d seconds",
                         *local_48, local_70);
                FUN_0001e4ec(6, local_8b4, 0);
            }
        } else {
            if ((DAT_00087768 != '\0') &&
                (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                  (6 < DAT_0008697c)))) {
                builtin_strncpy(local_8b4, "Failed to submit stratum sha",
                                0x1c);
                local_898._0_1_ = 'r';
                local_898._1_1_ = 'e';
                local_898._2_1_ = ',';
                local_898._3_1_ = ' ';
                builtin_strncpy(local_894, "discardi", 8);
                local_88c._0_3_ = 0x676e;
                FUN_0001e4ec(7, local_8b4, 0);
            }
            FUN_00031f40(&local_b0, "cgminer.c", "stratum_sthread", 0x1eac);
            free(local_50);
            local_48[0x1e] = local_48[0x1e] + 1;
            bVar15 = 0xfffffffe < DAT_00095490;
            DAT_00095490 = DAT_00095490 + 1;
            DAT_00095494 = DAT_00095494 + (uint)bVar15;
        }
    } while (true);
}

void FUN_00041908(void *param_1)

{
    int iVar1;
    char local_82c[2048];
    pthread_attr_t pStack_2c;

    DAT_0009548c = 1;
    pthread_attr_init(&pStack_2c);
    pthread_attr_setstacksize(&pStack_2c, 0x100000);
    iVar1 = pthread_create((pthread_t *)((int)param_1 + 0x2c8), &pStack_2c,
                           FUN_0003fc64, param_1);
    if (iVar1 != 0) {
        builtin_strncpy(local_82c, "Failed to create stratum sthread", 0x20);
        local_82c[0x20] = 0;
        FUN_0001e4ec(3, local_82c, 1);
        FUN_0004bfb0(1);
    }
    iVar1 = pthread_create((pthread_t *)((int)param_1 + 0x2cc), &pStack_2c,
                           FUN_0003f6e4, param_1);
    if (iVar1 != 0) {
        builtin_strncpy(local_82c, "Failed to create stratum rthread", 0x20);
        local_82c[0x20] = 0;
        FUN_0001e4ec(3, local_82c, 1);
        FUN_0004bfb0(1);
    }
    return;
}

undefined4 FUN_00041a4c(undefined4 *param_1)

{
    char cVar1;
    undefined4 uVar2;
    char acStack_808[2048];

    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (5 < DAT_0008697c)) {
        snprintf(acStack_808, 0x800, "Testing pool %d stratum %s", *param_1,
                 param_1[0x90]);
        FUN_0001e4ec(6, acStack_808, 0);
    }
    cVar1 = FUN_00022720(param_1[0x90], param_1 + 0x9a, param_1 + 0x92);
    if (cVar1 == '\x01') {
        cVar1 = FUN_0002a5c4(param_1);
        if (cVar1 == '\x01') {
            uVar2 = 1;
        } else {
            uVar2 = 0;
        }
    } else {
        uVar2 = 0;
    }
    return uVar2;
}

undefined4 FUN_00041b50(void)

{
    return 0;
}

void FUN_00041b78(void *param_1)

{
    int iVar1;
    char local_808[36];
    undefined2 local_7e4;

    if (*(char *)((int)param_1 + 0x6a) != '\x01') {
        *(undefined1 *)((int)param_1 + 0x6a) = 1;
        iVar1 = pthread_create((pthread_t *)((int)param_1 + 0x114),
                               (pthread_attr_t *)0x0, FUN_00049008, param_1);
        if (iVar1 != 0) {
            builtin_strncpy(local_808, "Failed to create pool longpoll threa",
                            0x24);
            local_7e4 = 100;
            FUN_0001e4ec(3, local_808, 1);
            FUN_0004bfb0(1);
        }
    }
    return;
}

/* WARNING: Removing unreachable block (ram,0x0004200c) */
/* WARNING: Removing unreachable block (ram,0x0004204c) */
/* WARNING: Removing unreachable block (ram,0x00042070) */
/* WARNING: Removing unreachable block (ram,0x00042144) */
/* WARNING: Removing unreachable block (ram,0x00042154) */
/* WARNING: Removing unreachable block (ram,0x00042168) */
/* WARNING: Removing unreachable block (ram,0x00042198) */
/* WARNING: Removing unreachable block (ram,0x000421a4) */
/* WARNING: Removing unreachable block (ram,0x00042174) */
/* WARNING: Removing unreachable block (ram,0x0004207c) */
/* WARNING: Removing unreachable block (ram,0x0004209c) */
/* WARNING: Removing unreachable block (ram,0x000420ac) */
/* WARNING: Removing unreachable block (ram,0x000420e4) */
/* WARNING: Removing unreachable block (ram,0x00042110) */
/* WARNING: Removing unreachable block (ram,0x00042130) */
/* WARNING: Removing unreachable block (ram,0x00042104) */
/* WARNING: Removing unreachable block (ram,0x000420d8) */
/* WARNING: Removing unreachable block (ram,0x00042138) */
/* WARNING: Removing unreachable block (ram,0x00042618) */
/* WARNING: Removing unreachable block (ram,0x0004262c) */
/* WARNING: Removing unreachable block (ram,0x00042640) */
/* WARNING: Removing unreachable block (ram,0x00042654) */
/* WARNING: Removing unreachable block (ram,0x00042668) */
/* WARNING: Removing unreachable block (ram,0x000426b8) */
/* WARNING: Removing unreachable block (ram,0x000426c8) */
/* WARNING: Removing unreachable block (ram,0x000426e8) */
/* WARNING: Removing unreachable block (ram,0x000426f0) */
/* WARNING: Removing unreachable block (ram,0x00042710) */
/* WARNING: Removing unreachable block (ram,0x00042788) */
/* WARNING: Removing unreachable block (ram,0x0004279c) */
/* WARNING: Removing unreachable block (ram,0x000427b0) */
/* WARNING: Removing unreachable block (ram,0x000427c4) */
/* WARNING: Removing unreachable block (ram,0x00042820) */

char FUN_00041c38(undefined4 *param_1, char param_2)

{
    int iVar1;
    char *pcVar2;
    size_t sVar3;
    size_t sVar4;
    undefined4 uVar5;
    undefined2 *puVar6;
    char local_864[24];
    undefined4 local_84c;
    char acStack_848[32];
    undefined2 local_828;
    undefined1 local_826;
    undefined4 local_64;
    undefined1 auStack_60[8];
    undefined1 auStack_58[10];
    char local_4e;
    char local_4d;
    size_t local_4c;
    char *local_48;
    char *local_44;
    undefined1 local_3d;
    undefined *local_30;
    int local_28;
    char local_21;
    char local_11;

    local_28 = 0;
    local_11 = '\0';
    if (*(char *)(param_1 + 0xbc) == '\0') {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (5 < DAT_0008697c)) {
            snprintf(local_864, 0x800, "Testing pool %s", param_1[0x29]);
            FUN_0001e4ec(6, local_864, 0);
        }
    } else if ((DAT_00087768 != '\0') &&
               (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                 (6 < DAT_0008697c)))) {
        snprintf(local_864, 0x800, "Retrieving block template from pool %s",
                 param_1[0x29]);
        FUN_0001e4ec(7, local_864, 0);
    }
    while (true) {
        if (*(char *)(param_1 + 0xa4) != '\0') {
            local_4d = FUN_0002f88c(param_1, (int)param_1 + 0x292);
            if (local_4d == '\x01') {
                local_4e = *(char *)((int)param_1 + 0x291);
            } else {
                iVar1 = FUN_00029fcc(param_1);
                if ((((iVar1 == 0) ||
                      ((*(char *)(param_1 + 0x91) == '\x01' &&
                        (iVar1 = FUN_00027060(param_1), iVar1 == 0)))) ||
                     (iVar1 = FUN_0002a5c4(param_1), iVar1 == 0)) ||
                    (iVar1 = FUN_00027614(param_1), iVar1 == 0)) {
                    local_4e = '\0';
                } else {
                    local_4e = '\x01';
                }
                if (local_4e == '\0') {
                    FUN_0002f908(param_1, (int)param_1 + 0x292);
                } else {
                    FUN_00041908(param_1);
                }
            }
            return local_4e;
        }
        local_30 = PTR_DAT_00086be0;
        if (PTR_DAT_00086be0 == (undefined *)0x0) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                builtin_strncpy(local_864, "CURL initialisation fail", 0x18);
                local_84c = CONCAT13(local_84c._3_1_, 0x6465);
                FUN_0001e4ec(3, local_864, 0);
            }
            return '\0';
        }
        if (*(char *)((int)param_1 + 99) != '\x01') {
            if ((DAT_00087768 != '\0') &&
                (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                  (6 < DAT_0008697c)))) {
                builtin_strncpy(local_864, "Probing for GBT support", 0x18);
                FUN_0001e4ec(7, local_864, 0);
            }
            local_28 = 0;
            *(undefined1 *)((int)param_1 + 99) = 0;
            if (*(char *)(param_1 + 0xbc) == '\0') {
                if (*(char *)(param_1 + 0xe5) == '\0') {
                    if ((DAT_00087768 != '\0') &&
                        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                          (6 < DAT_0008697c)))) {
                        memcpy(local_864,
                               "No GBT coinbase + append support found, pool "
                               "unusable if it has no stratum",
                               0x4b);
                        FUN_0001e4ec(7, local_864, 0);
                    }
                } else if ((DAT_00087768 != '\0') &&
                           (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                             (6 < DAT_0008697c)))) {
                    memcpy(local_864,
                           "GBT coinbase without append found, switching to "
                           "GBT solo protocol",
                           0x42);
                    FUN_0001e4ec(7, local_864, 0);
                }
            } else if ((DAT_00087768 != '\0') &&
                       (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                         (6 < DAT_0008697c)))) {
                builtin_strncpy(local_864, "GBT coinbase + append su", 0x18);
                local_84c._0_1_ = 'p';
                local_84c._1_1_ = 'p';
                local_84c._2_1_ = 'o';
                local_84c._3_1_ = 'r';
                builtin_strncpy(acStack_848, "t found, switching to GBT protoc",
                                0x20);
                local_828 = 0x6c6f;
                local_826 = 0;
                FUN_0001e4ec(7, local_864, 0);
            }
        }
        FUN_00022308(auStack_58);
        local_28 = 0;
        FUN_00022308(auStack_60);
        if (((param_1[0x90] == 0) || (DAT_00087fc0 == '\x01')) ||
            (iVar1 = FUN_00041a4c(param_1), iVar1 == 0))
            break;
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (4 < DAT_0008697c)) {
            snprintf(local_864, 0x800, "Switching pool %d %s to %s", *param_1,
                     param_1[0x29], param_1[0x90]);
            FUN_0001e4ec(5, local_864, 0);
        }
        if (param_1[0x29] == 0) {
            pcVar2 = strdup((char *)param_1[0x90]);
            param_1[0x29] = pcVar2;
        }
        *(undefined1 *)(param_1 + 0xa4) = 1;
    }
    if (((*(char *)(param_1 + 0xa4) != '\x01') &&
         (*(char *)(param_1 + 0xe5) != '\x01')) &&
        (*(char *)(param_1 + 0xbc) != '\x01')) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (3 < DAT_0008697c)) {
            snprintf(
                local_864, 0x800,
                "No Stratum, GBT or Solo support in pool %d %s unable to use",
                *param_1, param_1[0x29]);
            FUN_0001e4ec(4, local_864, 0);
        }
        return '\0';
    }
    if (local_28 == 0) {
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            snprintf(local_864, 0x800,
                     "FAILED to retrieve work from pool %u %s", *param_1,
                     param_1[0x29]);
            FUN_0001e4ec(7, local_864, 0);
        }
        if (((param_2 != '\x01') &&
             (*(char *)((int)param_1 + 0x61) != '\x01')) &&
            ((DAT_00091f58 != '\0' ||
              ((DAT_00087769 != '\0' || (3 < DAT_0008697c)))))) {
            snprintf(local_864, 0x800,
                     "Pool %u slow/down or URL or credentials invalid",
                     *param_1);
            FUN_0001e4ec(4, local_864, 0);
        }
    } else {
        local_64 = FUN_00031e10();
        local_3d = 0;
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            snprintf(local_864, 0x800,
                     "Successfully retrieved but FAILED to decipher work from "
                     "pool %u %s",
                     *param_1, param_1[0x29]);
            FUN_0001e4ec(7, local_864, 0);
        }
        FUN_00031f40(&local_64, "cgminer.c", "pool_active", 0x1fef);
        if (param_1[0x1c] == 0) {
            if (param_1[0x1b] == 0) {
                param_1[0x1c] = 0;
            } else {
                local_21 = '\0';
                local_44 = (char *)param_1[0x1b];
                pcVar2 = strstr(local_44, "://");
                if (pcVar2 == (char *)0x0) {
                    local_48 = local_44;
                    if (*local_44 == '/') {
                        local_48 = local_44 + 1;
                    }
                    iVar1 = param_1[0x29];
                    sVar3 = strlen((char *)param_1[0x29]);
                    if (*(char *)(iVar1 + (sVar3 - 1)) != '/') {
                        local_21 = '\x01';
                    }
                    sVar3 = strlen((char *)param_1[0x29]);
                    sVar4 = strlen(local_48);
                    local_4c = sVar3 + sVar4 + 2;
                    uVar5 = FUN_00020210(local_4c, "cgminer.c", "pool_active",
                                         0x2010);
                    param_1[0x1c] = uVar5;
                    if (local_21 == '\0') {
                        puVar6 = (undefined2 *)&DAT_0006f818;
                    } else {
                        puVar6 = &DAT_00071bfc;
                    }
                    snprintf((char *)param_1[0x1c], local_4c, "%s%s%s",
                             param_1[0x29], puVar6, local_48);
                } else {
                    param_1[0x1c] = local_44;
                    local_44 = (char *)0x0;
                }
            }
            FUN_00041b78(param_1);
        }
    }
    if (local_28 == 0) {
        return local_11;
    }
    FUN_0002de88(local_28);
    return local_11;
}

void FUN_00042c34(undefined4 *param_1)

{
    int iVar1;
    int iVar2;
    char acStack_810[2052];

    param_1[7] = 0;
    if ((DAT_00087e6c == 0) &&
        (iVar2 = param_1[1], iVar1 = FUN_0003f424(), iVar2 < iVar1)) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (3 < DAT_0008697c)) {
            snprintf(acStack_810, 0x800, "Pool %d %s alive, testing stability",
                     *param_1, param_1[0x29]);
            FUN_0001e4ec(4, acStack_810, 0);
        }
    } else if ((DAT_00091f58 != '\0') ||
               ((DAT_00087769 != '\0' || (5 < DAT_0008697c)))) {
        snprintf(acStack_810, 0x800, "Pool %d %s alive", *param_1,
                 param_1[0x29]);
        FUN_0001e4ec(6, acStack_810, 0);
    }
    return;
}

int FUN_00042d98(char param_1)

{
    char cVar1;
    int iVar2;
    char local_830[36];
    uint local_80c;
    char acStack_808[2008];
    int local_30;
    int local_2c;
    timespec local_28;
    uint local_20;
    int local_1c;
    int local_18;
    int local_14;
    int local_10;
    int local_c;

    local_c = 0;
    FUN_0002e354(DAT_00087fe4, "cgminer.c", "hash_pop", 0x2045);
    if ((DAT_00087e98 == 0) ||
        (*(int *)(*(int *)(DAT_00087e98 + 0x158) + 0xc) == 0)) {
        DAT_00087fb2 = 1;
        if (param_1 != '\x01')
            goto LAB_0004345c;
        do {
            FUN_00022308(&local_30);
            local_28.tv_sec = local_30 + 10;
            local_28.tv_nsec = local_2c * 1000;
            pthread_cond_signal((pthread_cond_t *)&DAT_00092030);
            local_14 =
                pthread_cond_timedwait((pthread_cond_t *)(DAT_00094128 + 0x28),
                                       DAT_00087fe4, &local_28);
            if (((local_14 != 0) && (DAT_00087fc1 != '\x01')) &&
                ((DAT_00087fc1 = '\x01',
                  DAT_00091f58 != '\0' ||
                      ((DAT_00087769 != '\0' || (3 < DAT_0008697c)))))) {
                builtin_strncpy(local_830,
                                "Waiting for work to be available fro", 0x24);
                local_80c._0_1_ = 'm';
                local_80c._1_1_ = ' ';
                local_80c._2_1_ = 'p';
                local_80c._3_1_ = 'o';
                builtin_strncpy(acStack_808, "ols.", 4);
                acStack_808[4] = 0;
                FUN_0001e4ec(4, local_830, 0);
            }
        } while ((DAT_00087e98 == 0) ||
                 (*(int *)(*(int *)(DAT_00087e98 + 0x158) + 0xc) == 0));
    }
    if (DAT_00087fc1 != '\0') {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (3 < DAT_0008697c)) {
            builtin_strncpy(local_830, "Work available from pools, resuming.",
                            0x24);
            local_80c = local_80c & 0xffffff00;
            FUN_0001e4ec(4, local_830, 0);
        }
        DAT_00087fc1 = '\0';
    }
    if (DAT_00087e98 == 0) {
        local_18 = 0;
    } else {
        local_18 = *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0xc);
    }
    if (DAT_00088088 < local_18) {
        local_c = DAT_00087e98;
        if (DAT_00087e98 == 0) {
            local_10 = 0;
        } else {
            local_10 = *(int *)(DAT_00087e98 + 0x160);
        }
        while ((local_c != 0 &&
                (cVar1 = FUN_0003a124(local_c), cVar1 == '\x01'))) {
            local_c = local_10;
            if (local_10 == 0) {
                local_10 = 0;
            } else {
                local_10 = *(int *)(local_10 + 0x160);
            }
        }
    } else {
        local_c = DAT_00087e98;
    }
    if ((*(int *)(local_c + 0x15c) == 0) && (*(int *)(local_c + 0x160) == 0)) {
        free((void *)**(undefined4 **)(DAT_00087e98 + 0x158));
        free(*(void **)(DAT_00087e98 + 0x158));
        DAT_00087e98 = 0;
    } else {
        local_1c = local_c + 0x158;
        if (*(int *)(*(int *)(DAT_00087e98 + 0x158) + 0x10) -
                *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0x14) ==
            local_c) {
            *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0x10) =
                *(int *)(local_c + 0x15c) +
                *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0x14);
        }
        if (*(int *)(local_c + 0x15c) == 0) {
            DAT_00087e98 = *(int *)(local_c + 0x160);
        } else {
            *(undefined4 *)(*(int *)(local_c + 0x15c) +
                            *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0x14) +
                            8) = *(undefined4 *)(local_c + 0x160);
        }
        if (*(int *)(local_c + 0x160) != 0) {
            *(undefined4 *)(*(int *)(local_c + 0x160) +
                            *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0x14) +
                            4) = *(undefined4 *)(local_c + 0x15c);
        }
        local_20 = *(int *)(*(int *)(DAT_00087e98 + 0x158) + 4) - 1U &
                   *(uint *)(local_c + 0x174);
        iVar2 = **(int **)(DAT_00087e98 + 0x158) + local_20 * 0xc;
        *(int *)(iVar2 + 4) = *(int *)(iVar2 + 4) + -1;
        if (*(int *)(**(int **)(DAT_00087e98 + 0x158) + local_20 * 0xc) ==
            local_1c) {
            *(undefined4 *)(**(int **)(DAT_00087e98 + 0x158) + local_20 * 0xc) =
                *(undefined4 *)(local_c + 0x168);
        }
        if (*(int *)(local_c + 0x164) != 0) {
            *(undefined4 *)(*(int *)(local_c + 0x164) + 0x10) =
                *(undefined4 *)(local_c + 0x168);
        }
        if (*(int *)(local_c + 0x168) != 0) {
            *(undefined4 *)(*(int *)(local_c + 0x168) + 0xc) =
                *(undefined4 *)(local_c + 0x164);
        }
        *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0xc) =
            *(int *)(*(int *)(DAT_00087e98 + 0x158) + 0xc) + -1;
    }
    iVar2 = FUN_0003a124(local_c);
    if (iVar2 != 0) {
        DAT_00088088 = DAT_00088088 + -1;
    }
    pthread_cond_signal((pthread_cond_t *)&DAT_00092030);
    pthread_cond_signal((pthread_cond_t *)(DAT_00094128 + 0x28));
    DAT_00095248 = time((time_t *)0x0);
LAB_0004345c:
    FUN_0002e484(DAT_00087fe4, "cgminer.c", "hash_pop", 0x208d);
    return local_c;
}

void FUN_00043490(undefined4 param_1, undefined4 param_2, undefined4 param_3)

{
    undefined1 auStack_28[32];

    FUN_0001f4d0(param_1, param_3, auStack_28);
    FUN_0001f4d0(auStack_28, 0x20, param_2);
    return;
}

void FUN_000434d8(undefined4 param_1)

{
    undefined4 uVar1;
    undefined4 uVar2;
    double in_d0;
    double dVar3;
    double local_858;
    char local_848[28];
    undefined2 local_82c;
    undefined1 local_82a;
    undefined8 local_48;
    undefined8 local_40;
    undefined8 local_38;
    undefined8 local_30;
    void *local_28;
    undefined8 *local_24;
    undefined8 local_20;
    undefined8 local_18;
    undefined8 local_10;

    local_858 = in_d0;
    if (in_d0 == 0.0) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            builtin_strncpy(local_848, "Diff zero passed to set_targ", 0x1c);
            local_82c = 0x7465;
            local_82a = 0;
            FUN_0001e4ec(3, local_848, 0);
        }
        local_858 = 1.0;
    }
    local_10 = 2.695953529101131e+67 / local_858;
    dVar3 = local_10 / 6.277101735386681e+57;
    local_18._0_4_ = SUB84(dVar3, 0);
    local_18._4_4_ = (undefined4)((ulonglong)dVar3 >> 0x20);
    uVar1 = local_18._4_4_;
    uVar2 = (undefined4)local_18;
    local_18 = dVar3;
    local_20 = FUN_00068f40(uVar2, uVar1);
    local_24 = &local_30;
    local_30 = local_20;
    local_18 =
        (double)FUN_00068e74((int)local_20, (int)((ulonglong)local_20 >> 0x20));
    local_10 = local_10 - local_18 * 6.277101735386681e+57;
    dVar3 = local_10 / 3.402823669209385e+38;
    local_18._0_4_ = SUB84(dVar3, 0);
    local_18._4_4_ = (undefined4)((ulonglong)dVar3 >> 0x20);
    uVar1 = local_18._4_4_;
    uVar2 = (undefined4)local_18;
    local_18 = dVar3;
    local_38 = FUN_00068f40(uVar2, uVar1);
    local_24 = &local_38;
    local_20 = local_38;
    local_18 =
        (double)FUN_00068e74((int)local_38, (int)((ulonglong)local_38 >> 0x20));
    local_10 = local_10 - local_18 * 3.402823669209385e+38;
    dVar3 = local_10 / 1.8446744073709552e+19;
    local_18._0_4_ = SUB84(dVar3, 0);
    local_18._4_4_ = (undefined4)((ulonglong)dVar3 >> 0x20);
    uVar1 = local_18._4_4_;
    uVar2 = (undefined4)local_18;
    local_18 = dVar3;
    local_40 = FUN_00068f40(uVar2, uVar1);
    local_24 = &local_40;
    local_20 = local_40;
    local_18 =
        (double)FUN_00068e74((int)local_40, (int)((ulonglong)local_40 >> 0x20));
    local_18 = local_18 * 1.8446744073709552e+19;
    dVar3 = local_10 - local_18;
    local_10._0_4_ = SUB84(dVar3, 0);
    local_10._4_4_ = (undefined4)((ulonglong)dVar3 >> 0x20);
    uVar1 = local_10._4_4_;
    uVar2 = (undefined4)local_10;
    local_10 = dVar3;
    local_48 = FUN_00068f40(uVar2, uVar1);
    local_24 = &local_48;
    local_20 = local_48;
    if (DAT_00087768 != '\0') {
        local_28 = (void *)FUN_00020744(&local_48, 0x20);
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            snprintf(local_848, 0x800, "Generated target %s", local_28);
            FUN_0001e4ec(7, local_848, 0);
        }
        free(local_28);
    }
    FUN_0002befc(param_1, &local_48, 0x20, "cgminer.c", "set_target", 0x20cb);
    return;
}

void FUN_00043858(undefined4 *param_1, int *param_2, int param_3,
                  undefined4 param_4, undefined4 param_5, undefined4 param_6,
                  uint param_7)

{
    int iVar1;
    undefined4 uVar2;

    iVar1 = FUN_00031e10();
    *param_2 = iVar1;
    uVar2 = *param_1;
    FUN_0002e980(param_3 + 0xd4, "cgminer.c", "get_work_by_nonce2", 0x20d9);
    *(undefined4 *)(param_3 + 0x280) = param_5;
    *(undefined4 *)(param_3 + 0x284) = param_6;
    param_7 = param_7 >> 0x18 | (param_7 & 0xff0000) >> 8 |
              (param_7 & 0xff00) << 8 | param_7 << 0x18;
    FUN_0002befc(param_3 + 0x63c, &param_7, 4, "cgminer.c",
                 "get_work_by_nonce2", 0x20dc);
    FUN_0002ea74(param_3 + 0xd4, "cgminer.c", "get_work_by_nonce2", 0x20dd);
    FUN_000439d8(param_3, *param_2);
    *(undefined4 *)(*param_2 + 0x104) = param_4;
    *(undefined4 *)(*param_2 + 0x100) = uVar2;
    *(undefined4 *)(*param_2 + 0x150) = DAT_0008808c;
    *(int *)(*(int *)(*param_2 + 0x104) + 0x44) =
        *(int *)(*(int *)(*param_2 + 0x104) + 0x44) + 1;
    *(undefined1 *)(*param_2 + 0x110) = 1;
    *(uint *)(*param_2 + 0x1bc) = param_7;
    return;
}

void FUN_000439d8(int param_1, int param_2)

{
    char *pcVar1;
    time_t tVar2;
    uint uVar3;
    int iVar4;
    undefined4 uVar5;
    char acStack_888[2048];
    undefined4 local_88;
    undefined4 uStack_84;
    undefined1 auStack_7c[32];
    undefined1 auStack_5c[32];
    undefined1 auStack_3c[32];
    void *local_1c;
    void *local_18;
    undefined1 *local_14;
    undefined1 *local_10;
    int local_c;

    FUN_0002e980(param_1 + 0xd4, "cgminer.c", "gen_stratum_work", 0x20f7);
    local_88 = *(undefined4 *)(param_1 + 0x280);
    uStack_84 = *(undefined4 *)(param_1 + 0x284);
    FUN_0002befc(*(int *)(param_1 + 0x630) + *(int *)(param_1 + 0x638),
                 &local_88, *(undefined4 *)(param_1 + 0x288), "cgminer.c",
                 "gen_stratum_work", 0x20fc);
    uVar3 = *(uint *)(param_1 + 0x280);
    iVar4 = *(int *)(param_1 + 0x284);
    *(uint *)(param_1 + 0x280) = uVar3 + 1;
    *(uint *)(param_1 + 0x284) = iVar4 + (uint)(0xfffffffe < uVar3);
    *(uint *)(param_2 + 0x128) = uVar3;
    *(int *)(param_2 + 300) = iVar4;
    *(undefined4 *)(param_2 + 0x130) = *(undefined4 *)(param_1 + 0x288);
    FUN_0002e9d0(param_1 + 0xd4, "cgminer.c", "gen_stratum_work", 0x2102);
    FUN_00043490(*(undefined4 *)(param_1 + 0x630), auStack_3c,
                 *(undefined4 *)(param_1 + 0x634));
    FUN_0002befc(auStack_7c, auStack_3c, 0x20, "cgminer.c", "gen_stratum_work",
                 0x2106);
    for (local_c = 0; local_c < *(int *)(param_1 + 0x6bc);
         local_c = local_c + 1) {
        FUN_0002befc(auStack_5c,
                     *(undefined4 *)(*(int *)(param_1 + 0x2b4) + local_c * 4),
                     0x20, "cgminer.c", "gen_stratum_work", 0x210a);
        FUN_00043490(auStack_7c, auStack_3c, 0x40);
        FUN_0002befc(auStack_7c, auStack_3c, 0x20, "cgminer.c",
                     "gen_stratum_work", 0x210c);
    }
    local_10 = auStack_7c;
    local_14 = auStack_3c;
    FUN_0002e1a8(local_14, local_10);
    FUN_0002befc(param_2, param_1 + 0x63c, 0x70, "cgminer.c",
                 "gen_stratum_work", 0x2115);
    FUN_0002befc(param_2 + 0x24, auStack_3c, 0x20, "cgminer.c",
                 "gen_stratum_work", 0x2116);
    uVar5 = *(undefined4 *)(param_1 + 0x734);
    *(undefined4 *)(param_2 + 0x138) = *(undefined4 *)(param_1 + 0x730);
    *(undefined4 *)(param_2 + 0x13c) = uVar5;
    pcVar1 = strdup(*(char **)(param_1 + 0x2b0));
    *(char **)(param_2 + 0x120) = pcVar1;
    pcVar1 = strdup(*(char **)(param_1 + 0x274));
    *(char **)(param_2 + 0x140) = pcVar1;
    pcVar1 = strdup((char *)(param_1 + 0x71c));
    *(char **)(param_2 + 0x134) = pcVar1;
    FUN_0002ea38(param_1 + 0xd4, "cgminer.c", "gen_stratum_work", 0x2121);
    if (DAT_00087768 != '\0') {
        local_18 = (void *)FUN_00020744(param_2, 0x70);
        local_1c = (void *)FUN_00020744(auStack_3c, 0x20);
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            snprintf(acStack_888, 0x800, "Generated stratum merkle %s",
                     local_1c);
            FUN_0001e4ec(7, acStack_888, 0);
        }
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            snprintf(acStack_888, 0x800, "Generated stratum header %s",
                     local_18);
            FUN_0001e4ec(7, acStack_888, 0);
        }
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            snprintf(acStack_888, 0x800, "Work job_id %s nonce2 %llu ntime %s",
                     *(undefined4 *)(param_2 + 0x120),
                     *(undefined4 *)(param_2 + 0x128),
                     *(undefined4 *)(param_2 + 300),
                     *(undefined4 *)(param_2 + 0x134));
            FUN_0001e4ec(7, acStack_888, 0);
        }
        free(local_18);
        free(local_1c);
    }
    FUN_00031cf4(param_2);
    FUN_000434d8((int)*(undefined8 *)(param_2 + 0x138), param_2 + 0xa0);
    DAT_000920dc = DAT_000920dc + 1;
    tVar2 = time((time_t *)0x0);
    if (5 < tVar2 - DAT_00087e68) {
        DAT_00087e68 = time((time_t *)0x0);
        DAT_00087e64 = DAT_000920dc;
    }
    *(int *)(param_2 + 0x104) = param_1;
    *(undefined1 *)(param_2 + 0x11c) = 1;
    *(undefined4 *)(param_2 + 0xf8) = 0;
    *(undefined1 *)(param_2 + 0x118) = 0;
    *(undefined1 *)(param_2 + 0x1b8) = 0x53;
    *(undefined4 *)(param_2 + 0x150) = DAT_0008808c;
    *(undefined4 *)(param_2 + 0xf4) = 0x3c;
    FUN_00033e64((int)*(undefined8 *)(param_2 + 0x138), param_2);
    FUN_00022308(param_2 + 0x108);
    return;
}

void FUN_00044024(int param_1, undefined4 param_2)

{
    *(int *)(param_1 + 0x17c) =
        *(int *)(param_1 + 0x17c) + *(int *)(param_1 + 0x180);
    if (*(int *)(param_1 + 0x17c) < 1) {
        *(undefined4 *)(param_1 + 0x180) = 1;
    }
    if (*(int *)(param_1 + 0x17c) < 0x10) {
        FUN_0002befc(param_2, *(int *)(param_1 + 0x17c) * 0xa0 + 0x88e8c, 0xa0,
                     "cgminer.c", "set_benchmark_work", 0x2200);
    } else {
        *(undefined4 *)(param_1 + 0x180) = 0xffffffff;
        *(int *)(param_1 + 0x178) = *(int *)(param_1 + 0x178) + 1;
        if (0xf < *(int *)(param_1 + 0x178)) {
            *(undefined4 *)(param_1 + 0x178) = 0;
        }
        FUN_0002befc(param_2, *(int *)(param_1 + 0x178) * 0xa0 + 0x8848c, 0xa0,
                     "cgminer.c", "set_benchmark_work", 0x21fc);
    }
    return;
}

int FUN_00044158(int param_1, undefined4 param_2)

{
    int iVar1;
    time_t tVar2;
    undefined4 uVar3;
    undefined4 uVar4;
    char local_814[2048];
    int local_14;
    time_t local_10;
    int local_c;

    local_c = *(int *)(param_1 + 0x24);
    local_14 = 0;
    FUN_0003ca00(param_1);
    if ((DAT_00087768 != '\0') &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (6 < DAT_0008697c)))) {
        builtin_strncpy(local_814, "Popping work from get queue to get work",
                        0x28);
        FUN_0001e4ec(7, local_814, 0);
    }
    local_10 = time((time_t *)0x0);
    while (local_14 == 0) {
        local_14 = FUN_00042d98(1);
        iVar1 = FUN_00035aac(local_14, 0);
        if (iVar1 != 0) {
            FUN_00036898(&local_14, "cgminer.c", "get_work", 0x2213);
            FUN_00036b64();
        }
    }
    tVar2 = time((time_t *)0x0);
    local_10 = tVar2 - local_10;
    if (0 < local_10) {
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            snprintf(local_814, 0x800, "Get work blocked for %ld seconds",
                     local_10);
            FUN_0001e4ec(7, local_814, 0);
        }
        *(int *)(local_c + 0xe8) = *(int *)(local_c + 0xe8) + local_10;
    }
    if ((DAT_00087768 != '\0') &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (6 < DAT_0008697c)))) {
        snprintf(local_814, 0x800,
                 "Got work from get queue to get work for thread %d", param_2);
        FUN_0001e4ec(7, local_814, 0);
    }
    *(undefined4 *)(local_14 + 0x100) = param_2;
    if (DAT_00087fb0 != '\0') {
        FUN_00044024(local_c, local_14);
    }
    FUN_0003c9a4(param_1);
    *(undefined1 *)(local_14 + 0x110) = 1;
    if (*(double *)(*(int *)(local_c + 4) + 0x68) <=
        *(double *)(local_14 + 0x178)) {
        uVar3 = *(undefined4 *)(*(int *)(local_c + 4) + 0x68);
        uVar4 = *(undefined4 *)(*(int *)(local_c + 4) + 0x6c);
    } else {
        uVar3 = *(undefined4 *)(local_14 + 0x178);
        uVar4 = *(undefined4 *)(local_14 + 0x17c);
    }
    *(undefined4 *)(local_14 + 0xe0) = uVar3;
    *(undefined4 *)(local_14 + 0xe4) = uVar4;
    if (*(double *)(*(int *)(local_c + 4) + 0x70) <=
        *(double *)(local_14 + 0xe0)) {
        uVar3 = *(undefined4 *)(local_14 + 0xe0);
        uVar4 = *(undefined4 *)(local_14 + 0xe4);
    } else {
        uVar3 = *(undefined4 *)(*(int *)(local_c + 4) + 0x70);
        uVar4 = *(undefined4 *)(*(int *)(local_c + 4) + 0x74);
    }
    *(undefined4 *)(local_14 + 0xe0) = uVar3;
    *(undefined4 *)(local_14 + 0xe4) = uVar4;
    return local_14;
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */

void FUN_000444c0(void *param_1)

{
    char cVar1;
    int iVar2;
    uint uVar3;
    bool bVar4;
    void *local_81c[2];
    char local_814[32];
    undefined4 local_7f4;
    pthread_t pStack_14;
    int local_10;
    undefined4 *local_c;

    local_c = *(undefined4 **)((int)param_1 + 0x104);
    local_81c[0] = param_1;
    FUN_00022308((int)param_1 + 0x1b0);
    if (DAT_00087fb0 == '\0') {
        iVar2 = FUN_00035aac(local_81c[0], 1);
        if (iVar2 != 0) {
            if (DAT_00086c3d == '\0') {
                if (*(char *)(local_c + 0x1a) == '\0') {
                    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                        (4 < DAT_0008697c)) {
                        snprintf(local_814, 0x800,
                                 "Pool %d stale share detected, discarding",
                                 *local_c);
                        FUN_0001e4ec(5, local_814, 0);
                    }
                    FUN_0002f014("discard", local_81c[0]);
                    FUN_0002e354(&DAT_00091f5c, "cgminer.c",
                                 "submit_work_async", 0x225b);
                    bVar4 = 0xfffffffe < DAT_00095490;
                    DAT_00095490 = DAT_00095490 + 1;
                    DAT_00095494 = DAT_00095494 + (uint)bVar4;
                    local_c[0x1e] = local_c[0x1e] + 1;
                    _DAT_000920c0 =
                        *(double *)((int)local_81c[0] + 0x178) + _DAT_000920c0;
                    *(double *)(local_c + 0x16) =
                        *(double *)(local_c + 0x16) +
                        *(double *)((int)local_81c[0] + 0x178);
                    FUN_0002e484(&DAT_00091f5c, "cgminer.c",
                                 "submit_work_async", 0x2262);
                    FUN_00031f40(local_81c, "cgminer.c", "submit_work_async",
                                 0x2264);
                    return;
                }
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (4 < DAT_0008697c)) {
                    snprintf(local_814, 0x800,
                             "Pool %d stale share detected, submitting as pool "
                             "requested",
                             *local_c);
                    FUN_0001e4ec(5, local_814, 0);
                }
            } else if ((DAT_00087768 != '\0') &&
                       (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                         (6 < DAT_0008697c)))) {
                snprintf(local_814, 0x800,
                         "Pool %d stale share detected, submitting as user "
                         "requested",
                         *local_c);
                FUN_0001e4ec(7, local_814, 0);
            }
            *(undefined1 *)((int)local_81c[0] + 0x119) = 1;
        }
        if (*(char *)((int)local_81c[0] + 0x11c) == '\0') {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (4 < DAT_0008697c)) {
                builtin_strncpy(local_814, "Pushing submit work to work thre",
                                0x20);
                local_7f4 = CONCAT13(local_7f4._3_1_, 0x6461);
                FUN_0001e4ec(5, local_814, 0);
            }
            iVar2 = pthread_create(&pStack_14, (pthread_attr_t *)0x0,
                                   FUN_000355c8, local_81c[0]);
            if (iVar2 != 0) {
                builtin_strncpy(local_814, "Failed to create submit_work_thr",
                                0x20);
                local_7f4._0_1_ = 'e';
                local_7f4._1_1_ = 'a';
                local_7f4._2_1_ = 'd';
                local_7f4._3_1_ = '\0';
                FUN_0001e4ec(3, local_814, 1);
                FUN_0004bfb0(1);
            }
        } else {
            if ((DAT_00087768 != '\0') &&
                (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                  (6 < DAT_0008697c)))) {
                snprintf(local_814, 0x800,
                         "Pushing pool %d work to stratum queue", *local_c);
                FUN_0001e4ec(7, local_814, 0);
            }
            if ((local_c[0xba] == 0) ||
                (cVar1 = FUN_0002175c(local_c[0xba], local_81c[0]),
                 cVar1 != '\x01')) {
                if ((DAT_00091f58 != '\0') ||
                    ((DAT_00087769 != '\0' || (3 < DAT_0008697c)))) {
                    builtin_strncpy(local_814,
                                    "Discarding work from removed poo", 0x20);
                    local_7f4 = CONCAT22(local_7f4._2_2_, 0x6c);
                    FUN_0001e4ec(4, local_814, 0);
                }
                if ((local_c[0xba] == 0) &&
                    (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                      (4 < DAT_0008697c)))) {
                    snprintf(local_814, 0x800,
                             "Pushing pool %d work to stratum queue", *local_c);
                    FUN_0001e4ec(5, local_814, 0);
                }
                FUN_00031f40(local_81c, "cgminer.c", "submit_work_async",
                             0x2272);
            }
        }
    } else {
        local_10 = FUN_0002ef64(*(undefined4 *)((int)local_81c[0] + 0x100));
        FUN_0002e354(&DAT_00091f5c, "cgminer.c", "submit_work_async", 0x223f);
        *(int *)(local_10 + 0x24) = *(int *)(local_10 + 0x24) + 1;
        bVar4 = 0xfffffffe < (uint)DAT_000920b8;
        DAT_000920b8._0_4_ = (uint)DAT_000920b8 + 1;
        DAT_000920b8._4_4_ = DAT_000920b8._4_4_ + (uint)bVar4;
        uVar3 = local_c[2];
        local_c[2] = uVar3 + 1;
        local_c[3] = local_c[3] + (uint)(0xfffffffe < uVar3);
        *(double *)(local_10 + 200) = *(double *)(local_10 + 200) +
                                      *(double *)((int)local_81c[0] + 0x178);
        _DAT_000940f0 = *(double *)((int)local_81c[0] + 0x178) + _DAT_000940f0;
        *(double *)(local_c + 0x12) = *(double *)(local_c + 0x12) +
                                      *(double *)((int)local_81c[0] + 0x178);
        FUN_0002e484(&DAT_00091f5c, "cgminer.c", "submit_work_async", 0x2246);
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (4 < DAT_0008697c)) {
            snprintf(local_814, 0x800,
                     "Accepted %s %d benchmark share nonce %08x",
                     *(undefined4 *)(*(int *)(local_10 + 4) + 8),
                     *(undefined4 *)(local_10 + 8),
                     *(undefined4 *)((int)local_81c[0] + 0x4c));
            FUN_0001e4ec(5, local_814, 0);
        }
    }
    return;
}

void FUN_00044ca8(int param_1)

{
    char acStack_808[2048];

    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (5 < DAT_0008697c)) {
        snprintf(acStack_808, 0x800, "%s %d: invalid nonce - HW error",
                 *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x24) + 4) + 8),
                 *(undefined4 *)(*(int *)(param_1 + 0x24) + 8));
        FUN_0001e4ec(6, acStack_808, 0);
    }
    FUN_0002e354(&DAT_00091f5c, "cgminer.c", "inc_hw_errors", 0x2283);
    DAT_00095228 = DAT_00095228 + 1;
    *(int *)(*(int *)(param_1 + 0x24) + 0x2c) =
        *(int *)(*(int *)(param_1 + 0x24) + 0x2c) + 1;
    FUN_0002e484(&DAT_00091f5c, "cgminer.c", "inc_hw_errors", 0x2286);
    if (*(int *)(*(int *)(*(int *)(param_1 + 0x24) + 4) + 0x54) != 0) {
        (**(code **)(*(int *)(*(int *)(param_1 + 0x24) + 4) + 0x54))(param_1);
    }
    return;
}

void FUN_00044df0(int param_1, int param_2)

{
    char acStack_808[2048];

    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (2 < DAT_0008697c)) {
        snprintf(acStack_808, 0x800, "%s%d: invalid nonce - HW error",
                 *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x24) + 4) + 8),
                 *(undefined4 *)(*(int *)(param_1 + 0x24) + 8));
        FUN_0001e4ec(3, acStack_808, 0);
    }
    FUN_0002e354(&DAT_00091f5c, "cgminer.c", "inc_hw_errors_with_diff", 0x2291);
    DAT_00095228 = DAT_00095228 + param_2;
    *(int *)(*(int *)(param_1 + 0x24) + 0x2c) =
        *(int *)(*(int *)(param_1 + 0x24) + 0x2c) + param_2;
    FUN_0002e484(&DAT_00091f5c, "cgminer.c", "inc_hw_errors_with_diff", 0x2294);
    if (*(int *)(*(int *)(*(int *)(param_1 + 0x24) + 4) + 0x54) != 0) {
        (**(code **)(*(int *)(*(int *)(param_1 + 0x24) + 4) + 0x54))(param_1);
    }
    return;
}

void FUN_00044f4c(undefined4 param_1, undefined4 param_2)

{
    FUN_0002e354(&DAT_00091f5c, "cgminer.c", "inc_dev_status", 0x229e);
    DAT_0009522c = param_1;
    DAT_000953a4 = param_2;
    FUN_0002e484(&DAT_00091f5c, "cgminer.c", "inc_dev_status", 0x22a1);
    return;
}

void FUN_00044fc8(int param_1, undefined4 param_2)

{
    *(undefined4 *)(param_1 + 0x4c) = param_2;
    FUN_0003630c(param_1);
    return;
}

bool FUN_00045004(int param_1, undefined4 param_2)

{
    FUN_00044fc8(param_1, param_2);
    return *(int *)(param_1 + 0xdc) == 0;
}

uint FUN_00045054(int param_1, undefined4 param_2)

{
    undefined8 uVar1;
    uint uVar2;
    uint uVar3;
    uint uVar4;
    bool bVar5;
    bool bVar6;
    double in_d0;
    double dVar7;
    longlong lVar8;
    undefined4 local_18;
    undefined4 uStack_14;

    FUN_00044fc8(param_1, param_2);
    uVar1 = SIMDExpandImmediate(1, 0xe, 0xc);
    local_18 = (undefined4)uVar1;
    uStack_14 = (undefined4)((ulonglong)uVar1 >> 0x20);
    dVar7 = (double)FUN_00068e74(local_18, uStack_14);
    lVar8 = FUN_00068f40(SUB84(dVar7 / in_d0, 0),
                         (int)((ulonglong)(dVar7 / in_d0) >> 0x20));
    uVar4 = (uint)((ulonglong)lVar8 >> 0x20);
    uVar2 = *(uint *)(param_1 + 0xd8);
    uVar3 = *(uint *)(param_1 + 0xdc);
    bVar6 = uVar4 <= uVar3;
    bVar5 = uVar3 == uVar4;
    if (bVar5) {
        bVar6 = (uint)lVar8 <= uVar2;
    }
    if (!bVar6 || lVar8 == *(longlong *)(param_1 + 0xd8)) {
        uVar4 = 1;
    }
    if (bVar6 && (!bVar5 || uVar2 != (uint)lVar8)) {
        uVar4 = 0;
    }
    return uVar4 & 0xff;
}

void FUN_000450e0(int param_1, int param_2)

{
    time_t tVar1;
    int iVar2;
    double dVar3;
    undefined8 uVar4;
    char acStack_818[2048];
    undefined4 local_18;
    undefined4 uStack_14;

    local_18 = DAT_00086c78;
    uStack_14 = DAT_00086c7c;
    uVar4 = FUN_0003608c(param_2);
    *(undefined8 *)(param_2 + 0xe8) = uVar4;
    dVar3 = (double)FUN_00068e74(*(undefined4 *)(param_2 + 0xe8),
                                 *(undefined4 *)(param_2 + 0xec));
    if ((double)CONCAT44(uStack_14, local_18) <= dVar3) {
        *(undefined1 *)(param_2 + 0x11b) = 1;
        *(int *)(*(int *)(param_2 + 0x104) + 0x20) =
            *(int *)(*(int *)(param_2 + 0x104) + 0x20) + 1;
        DAT_0009523c = DAT_0009523c + 1;
        *(undefined1 *)(param_2 + 0x11a) = 1;
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (4 < DAT_0008697c)) {
            snprintf(acStack_818, 0x800, "Found block for pool %d!",
                     **(undefined4 **)(param_2 + 0x104));
            FUN_0001e4ec(5, acStack_818, 0);
        }
    }
    FUN_0002e354(&DAT_00091f5c, "cgminer.c", "update_work_stats", 0x22d3);
    dVar3 = (double)FUN_00068e84((undefined4)DAT_00091f90, DAT_00091f90._4_4_);
    dVar3 = dVar3 + *(double *)(param_2 + 0xe0);
    DAT_00091f90 =
        FUN_00068f1c(SUB84(dVar3, 0), (int)((ulonglong)dVar3 >> 0x20));
    iVar2 = *(int *)(param_1 + 0x24);
    dVar3 =
        (double)FUN_00068e84(*(undefined4 *)(*(int *)(param_1 + 0x24) + 0xc0),
                             *(undefined4 *)(*(int *)(param_1 + 0x24) + 0xc4));
    dVar3 = dVar3 + *(double *)(param_2 + 0xe0);
    uVar4 = FUN_00068f1c(SUB84(dVar3, 0), (int)((ulonglong)dVar3 >> 0x20));
    *(undefined8 *)(iVar2 + 0xc0) = uVar4;
    iVar2 = *(int *)(param_2 + 0x104);
    dVar3 =
        (double)FUN_00068e84(*(undefined4 *)(*(int *)(param_2 + 0x104) + 0x28),
                             *(undefined4 *)(*(int *)(param_2 + 0x104) + 0x2c));
    dVar3 = dVar3 + *(double *)(param_2 + 0xe0);
    uVar4 = FUN_00068f1c(SUB84(dVar3, 0), (int)((ulonglong)dVar3 >> 0x20));
    *(undefined8 *)(iVar2 + 0x28) = uVar4;
    iVar2 = *(int *)(param_1 + 0x24);
    tVar1 = time((time_t *)0x0);
    *(time_t *)(iVar2 + 0xe8) = tVar1;
    FUN_0002e484(&DAT_00091f5c, "cgminer.c", "update_work_stats", 0x22d8);
    return;
}

void FUN_00045334(int param_1, int param_2, uint param_3)

{
    uint uVar1;
    time_t tVar2;
    int iVar3;
    int iVar4;
    int iVar5;
    bool bVar6;

    FUN_0002e354(&DAT_00091f5c, "cgminer.c", "inc_work_stats", 0x22dd);
    iVar4 = (int)param_3 >> 0x1f;
    bVar6 = CARRY4(param_3, (uint)DAT_00091f90);
    DAT_00091f90._0_4_ = param_3 + (uint)DAT_00091f90;
    DAT_00091f90._4_4_ = iVar4 + DAT_00091f90._4_4_ + (uint)bVar6;
    iVar5 = *(int *)(param_1 + 0x24);
    uVar1 = *(uint *)(*(int *)(param_1 + 0x24) + 0xc0);
    iVar3 = *(int *)(*(int *)(param_1 + 0x24) + 0xc4);
    *(uint *)(iVar5 + 0xc0) = param_3 + uVar1;
    *(uint *)(iVar5 + 0xc4) = iVar4 + iVar3 + (uint)CARRY4(param_3, uVar1);
    if (param_2 == 0) {
        iVar3 = FUN_0002f984();
        uVar1 = *(uint *)(iVar3 + 0x28);
        *(uint *)(iVar3 + 0x28) = param_3 + uVar1;
        *(uint *)(iVar3 + 0x2c) =
            iVar4 + *(int *)(iVar3 + 0x2c) + (uint)CARRY4(param_3, uVar1);
    } else {
        uVar1 = *(uint *)(param_2 + 0x28);
        *(uint *)(param_2 + 0x28) = param_3 + uVar1;
        *(uint *)(param_2 + 0x2c) =
            iVar4 + *(int *)(param_2 + 0x2c) + (uint)CARRY4(param_3, uVar1);
    }
    iVar4 = *(int *)(param_1 + 0x24);
    tVar2 = time((time_t *)0x0);
    *(time_t *)(iVar4 + 0xe8) = tVar2;
    FUN_0002e484(&DAT_00091f5c, "cgminer.c", "inc_work_stats", 0x22eb);
    return;
}

undefined4 FUN_00045464(int param_1, int param_2)

{
    char cVar1;
    undefined4 uVar2;
    char acStack_80c[2048];
    undefined4 local_c;

    FUN_000450e0(param_1, param_2);
    cVar1 = FUN_00021358(param_2 + 0xc0, param_2 + 0xa0);
    if (cVar1 == '\x01') {
        local_c = FUN_000358f8(param_2, 0);
        FUN_000444c0(local_c);
        uVar2 = 1;
    } else {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (5 < DAT_0008697c)) {
            snprintf(
                acStack_80c, 0x800, "%s %s %d: Share above target",
                "submit_tested_work",
                *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x24) + 4) + 8),
                *(undefined4 *)(*(int *)(param_1 + 0x24) + 8));
            FUN_0001e4ec(6, acStack_80c, 0);
        }
        uVar2 = 0;
    }
    return uVar2;
}

undefined4 FUN_00045588(int param_1, int param_2)

{
    undefined4 uVar1;
    char acStack_80c[2048];
    int local_c;

    local_c = *(int *)(param_1 + 0x24);
    if (*(int *)(local_c + 0xec) == param_2) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (5 < DAT_0008697c)) {
            snprintf(acStack_80c, 0x800,
                     "%s %d duplicate share detected as HW error",
                     *(undefined4 *)(*(int *)(local_c + 4) + 8),
                     *(undefined4 *)(local_c + 8));
            FUN_0001e4ec(6, acStack_80c, 0);
        }
        uVar1 = 0;
    } else {
        *(int *)(local_c + 0xec) = param_2;
        uVar1 = 1;
    }
    return uVar1;
}

void FUN_00045674(undefined4 *param_1, undefined4 param_2)

{
    size_t __size;
    undefined4 uVar1;
    undefined4 uVar2;
    undefined4 uVar3;
    undefined4 *puVar4;
    undefined4 *puVar5;
    undefined4 local_4d0;
    undefined4 local_4cc;
    undefined4 local_4c8;
    undefined4 local_4c4;
    undefined4 local_4c0;
    undefined4 local_4bc;
    undefined4 local_4b8;
    undefined4 local_4b4;
    undefined4 local_4b0;
    undefined4 local_4ac;
    undefined4 local_4a8;
    undefined4 local_4a4;
    undefined4 local_4a0;
    undefined4 local_49c;
    undefined4 local_498;
    undefined4 local_494;
    undefined4 local_490;
    undefined4 local_48c;
    undefined4 local_488;
    undefined4 local_484;
    undefined4 local_480;
    undefined4 local_47c;
    undefined4 local_478;
    undefined4 local_474;
    undefined4 local_470[16];
    char acStack_430[1024];
    void *local_30;
    void *local_2c;
    void *local_28;
    void *local_24;
    void *local_20;
    void *local_1c;
    void *local_18;
    void *local_14;

    if (DAT_00087ea0 == (FILE *)0x0) {
        DAT_00087ea0 = fopen64("/nvdata/worklog.txt", "wb");
    }
    memset(acStack_430, 0, 0x400);
    memset(local_470, 0, 0x40);
    local_4b0 = 0;
    local_4ac = 0;
    local_4a8 = 0;
    local_4a4 = 0;
    local_4a0 = 0;
    local_49c = 0;
    local_498 = 0;
    local_494 = 0;
    local_490 = 0;
    local_48c = 0;
    local_488 = 0;
    local_484 = 0;
    local_480 = 0;
    local_47c = 0;
    local_478 = 0;
    local_474 = 0;
    local_14 = (void *)0x0;
    local_18 = (void *)0x0;
    local_1c = (void *)0x0;
    local_20 = (void *)0x0;
    local_24 = (void *)0x0;
    local_28 = (void *)0x0;
    local_2c = (void *)0x0;
    local_30 = (void *)0x0;
    puVar4 = local_470;
    puVar5 = param_1;
    do {
        uVar1 = puVar5[1];
        uVar2 = puVar5[2];
        uVar3 = puVar5[3];
        *puVar4 = *puVar5;
        puVar4[1] = uVar1;
        puVar4[2] = uVar2;
        puVar4[3] = uVar3;
        puVar5 = puVar5 + 4;
        puVar4 = puVar4 + 4;
    } while (puVar5 != param_1 + 0x10);
    local_4d0 = param_1[0x20];
    local_4cc = param_1[0x21];
    local_4c8 = param_1[0x22];
    local_4c4 = param_1[0x23];
    local_4c0 = param_1[0x24];
    local_4bc = param_1[0x25];
    local_4b8 = param_1[0x26];
    local_4b4 = param_1[0x27];
    memcpy(&local_4b0, param_1 + 0x10, 0xc);
    local_490 = param_1[0x30];
    local_48c = param_1[0x31];
    local_488 = param_1[0x32];
    local_484 = param_1[0x33];
    local_480 = param_1[0x34];
    local_47c = param_1[0x35];
    local_478 = param_1[0x36];
    local_474 = param_1[0x37];
    FUN_0002c208(local_470, 0x40);
    FUN_0002c208(&local_4d0, 0x20);
    FUN_0002c208(&local_4b0, 0xc);
    FUN_0002c208(&local_490, 0x20);
    local_14 = (void *)FUN_00020744(param_1, 0x80);
    local_18 = (void *)FUN_00020744(local_470, 0x40);
    local_1c = (void *)FUN_00020744(&local_4d0, 0x20);
    local_20 = (void *)FUN_00020744(&local_4b0, 0xc);
    local_24 = (void *)FUN_00020744(param_2, 4);
    local_28 = (void *)FUN_00020744(param_2, 5);
    local_2c = (void *)FUN_00020744(&local_490, 0x20);
    local_30 = (void *)FUN_00020744(param_1 + 0x6f, 4);
    sprintf(acStack_430, "midstate %s data %s nonce %s version %s \r\n",
            local_1c, local_20, local_24, local_30);
    __size = strlen(acStack_430);
    fwrite(acStack_430, __size, 1, DAT_00087ea0);
    fflush(DAT_00087ea0);
    if (local_14 != (void *)0x0) {
        free(local_14);
    }
    if (local_18 != (void *)0x0) {
        free(local_18);
    }
    if (local_1c != (void *)0x0) {
        free(local_1c);
    }
    if (local_20 != (void *)0x0) {
        free(local_20);
    }
    if (local_24 != (void *)0x0) {
        free(local_24);
    }
    if (local_28 != (void *)0x0) {
        free(local_28);
    }
    if (local_2c != (void *)0x0) {
        free(local_2c);
    }
    if (local_30 != (void *)0x0) {
        free(local_30);
    }
    return;
}

void FUN_00045b48(undefined4 param_1, undefined4 param_2)

{
    undefined4 local_18;
    undefined4 local_14;
    undefined4 local_10;
    undefined1 local_c;

    local_10 = 0;
    local_c = 0;
    local_18 = param_2;
    local_14 = param_1;
    local_18 = FUN_0002de60(param_2);
    memcpy(&local_10, &local_18, 4);
    FUN_00045674(local_14, &local_10);
    return;
}

bool FUN_00045bac(undefined4 param_1, undefined4 param_2)

{
    int iVar1;

    iVar1 = FUN_00045004(param_1, param_2);
    if (iVar1 != 0) {
        FUN_00045b48(param_1, param_2);
    }
    return iVar1 != 0;
}

undefined4 FUN_00045bfc(undefined4 param_1, undefined4 param_2,
                        undefined4 param_3)

{
    int iVar1;
    undefined4 uVar2;

    iVar1 = FUN_00045588(param_1, param_3);
    if ((iVar1 == 0) || (iVar1 = FUN_00045004(param_2, param_3), iVar1 == 0)) {
        FUN_00044ca8(param_1);
        uVar2 = 0;
    } else {
        FUN_00045464(param_1, param_2);
        if ((DAT_00091f78 != 0) && (DAT_0009202c != '\0')) {
            FUN_000340d0(param_2, param_3);
        }
        uVar2 = 1;
    }
    return uVar2;
}

undefined4 FUN_00045ca8(undefined4 param_1, int param_2, undefined4 param_3,
                        undefined4 *param_4)

{
    char cVar1;
    int iVar2;
    undefined4 uVar3;
    char local_808[16];
    undefined2 local_7f8;
    undefined1 local_7f6;

    if (param_4 != (undefined4 *)0x0) {
        *param_4 = 0;
    }
    iVar2 = FUN_00045004(param_2, param_3);
    if (iVar2 == 0) {
        FUN_00044ca8(param_1);
        uVar3 = 0;
    } else {
        FUN_000450e0(param_1, param_2);
        cVar1 = FUN_00021358(param_2 + 0xc0, param_2 + 0xa0);
        if (cVar1 == '\x01') {
            uVar3 = 1;
        } else {
            if (param_4 != (undefined4 *)0x0) {
                *param_4 = 1;
            }
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (5 < DAT_0008697c)) {
                builtin_strncpy(local_808, "Share above targ", 0x10);
                local_7f8 = 0x7465;
                local_7f6 = 0;
                FUN_0001e4ec(6, local_808, 0);
            }
            uVar3 = 0;
        }
    }
    return uVar3;
}

void FUN_00045df8(undefined4 param_1)

{
    undefined4 uVar1;

    uVar1 = FUN_000358f8(param_1, 0);
    FUN_000444c0(uVar1);
    return;
}

undefined4 FUN_00045e28(undefined4 param_1, int param_2, undefined4 param_3)

{
    undefined4 uVar1;

    *(undefined4 *)(param_2 + 0x4c) = param_3;
    uVar1 = FUN_000358f8(param_2, 0);
    FUN_000444c0(uVar1);
    return 1;
}

undefined1 FUN_00045e80(int param_1, undefined4 param_2, undefined4 param_3,
                        undefined4 param_4)

{
    char cVar1;
    char acStack_810[2048];
    int local_10;
    undefined1 local_9;

    local_10 = FUN_00031e10();
    local_9 = 0;
    FUN_0003567c(local_10, param_2, param_4);
    cVar1 = FUN_00045004(local_10, param_3);
    if (cVar1 == '\x01') {
        FUN_000450e0(param_1, local_10);
        if ((DAT_00091f78 != 0) && (DAT_0009202c != '\0')) {
            FUN_000340d0(local_10, param_3);
        }
        local_9 = 1;
        cVar1 = FUN_00021358(local_10 + 0xc0, local_10 + 0xa0);
        if (cVar1 == '\x01') {
            FUN_000444c0(local_10);
        } else {
            FUN_00031f40(&local_10, "cgminer.c", "submit_noffset_nonce",
                         0x23f3);
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (5 < DAT_0008697c)) {
                snprintf(
                    acStack_810, 0x800, "%s %d: Share above target",
                    *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x24) + 4) + 8),
                    *(undefined4 *)(*(int *)(param_1 + 0x24) + 8));
                FUN_0001e4ec(6, acStack_810, 0);
            }
        }
    } else {
        FUN_00031f40(&local_10, "cgminer.c", "submit_noffset_nonce", 0x23e3);
        FUN_00044ca8(param_1);
    }
    return local_9;
}

undefined4 FUN_00046068(undefined4 param_1, int *param_2, uint param_3,
                        int param_4)

{
    int iVar1;
    undefined4 uVar2;

    if (((DAT_00086c2c < *param_2) || (param_4 != 0 || 0xfffffffd < param_3)) ||
        (iVar1 = FUN_00035aac(param_1, 0), iVar1 != 0)) {
        uVar2 = 1;
    } else {
        uVar2 = 0;
    }
    return uVar2;
}

void FUN_000460e4(int param_1, undefined4 param_2, int param_3)

{
    int iVar1;
    char local_808[28];
    undefined2 local_7ec;
    undefined1 local_7ea;

    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        snprintf(local_808, 0x800, "Thread %d being disabled", param_2);
        FUN_0001e4ec(4, local_808, 0);
    }
    iVar1 = *(int *)(param_1 + 0x24);
    *(undefined4 *)(iVar1 + 0x30) = 0;
    *(undefined4 *)(iVar1 + 0x34) = 0;
    if ((DAT_00087768 != '\0') &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (6 < DAT_0008697c)))) {
        builtin_strncpy(local_808, "Waiting on sem in miner thre", 0x1c);
        local_7ec = 0x6461;
        local_7ea = 0;
        FUN_0001e4ec(7, local_808, 0);
    }
    FUN_0002bb08(param_1 + 0x10, "cgminer.c", "mt_disable", 0x240d);
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        snprintf(local_808, 0x800, "Thread %d being re-enabled", param_2);
        FUN_0001e4ec(4, local_808, 0);
    }
    (**(code **)(param_3 + 0x5c))(param_1);
    return;
}

void FUN_000462c8(undefined4 *param_1)

{
    char cVar1;
    int iVar2;
    undefined4 uVar3;
    int iVar4;
    undefined4 uVar5;
    int iVar6;
    bool bVar7;
    longlong lVar8;
    undefined8 uVar9;
    char acStack_890[2048];
    timespec local_90;
    int local_88;
    int local_84;
    int local_80;
    int local_7c;
    int local_78;
    int local_74;
    int local_70;
    int local_6c;
    int local_68;
    int local_64;
    int local_60;
    int local_5c;
    int local_58;
    int local_54[2];
    int local_4c;
    undefined8 local_48;
    int *local_40;
    int *local_3c;
    char local_35;
    int local_34;
    int *local_30;
    int local_2c;
    int local_28;
    undefined4 local_24;
    undefined8 local_20;
    uint local_14;

    local_24 = *param_1;
    local_28 = param_1[9];
    local_2c = *(int *)(local_28 + 4);
    local_30 = (int *)(local_28 + 0x124);
    local_34 = DAT_00086c20 / 5;
    if (local_34 == 0) {
        local_34 = 1;
    }
    if ((param_1[1] == 0) || (*(char *)(param_1 + 2) != '\0')) {
        local_35 = '\x01';
    } else {
        local_35 = '\0';
    }
    local_84 = 0;
    local_80 = 0;
    local_14 = (**(code **)(local_2c + 0x30))(param_1);
    local_20._0_4_ = 0;
    local_20._4_4_ = 0;
    local_3c = local_54;
    FUN_00022308(local_54);
    local_70 = 0;
    local_74 = 0;
    FUN_00022308(&local_6c);
    do {
        if (*(char *)(local_28 + 0x16c) == '\x01') {
        LAB_00046c3c:
            *(undefined4 *)(local_28 + 0x20) = 1;
            return;
        }
        local_88 = FUN_00044158(param_1, local_24);
        *(undefined1 *)((int)param_1 + 0x3e) = 0;
        *(undefined1 *)(local_28 + 0xac) = 1;
        FUN_00022308(&local_64);
        *(undefined4 *)(local_88 + 0xf8) = 0;
        *(undefined8 *)(local_28 + 0xa0) = 0;
        cVar1 = (**(code **)(local_2c + 0x38))(param_1, local_88);
        if (cVar1 != '\x01') {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                snprintf(acStack_890, 0x800,
                         "work prepare failed, exiting mining thread %d",
                         local_24);
                FUN_0001e4ec(3, acStack_890, 0);
            }
            goto LAB_00046c3c;
        }
        if (*(double *)(local_2c + 0x68) <= *(double *)(local_88 + 0x178)) {
            uVar3 = *(undefined4 *)(local_2c + 0x68);
            uVar5 = *(undefined4 *)(local_2c + 0x6c);
        } else {
            uVar3 = *(undefined4 *)(local_88 + 0x178);
            uVar5 = *(undefined4 *)(local_88 + 0x17c);
        }
        *(undefined4 *)(local_88 + 0xe0) = uVar3;
        *(undefined4 *)(local_88 + 0xe4) = uVar5;
        if (*(double *)(local_2c + 0x70) <= *(double *)(local_88 + 0xe0)) {
            uVar3 = *(undefined4 *)(local_88 + 0xe0);
            uVar5 = *(undefined4 *)(local_88 + 0xe4);
        } else {
            uVar3 = *(undefined4 *)(local_2c + 0x70);
            uVar5 = *(undefined4 *)(local_2c + 0x74);
        }
        *(undefined4 *)(local_88 + 0xe0) = uVar3;
        *(undefined4 *)(local_88 + 0xe4) = uVar5;
        while (true) {
            FUN_00022308(&local_5c);
            FUN_00021a70(&local_5c, local_54);
            FUN_00021b04(local_54, local_30 + 1);
            iVar2 = FUN_00021ba0(local_54, local_30 + 3);
            if (iVar2 != 0) {
                FUN_00021ca0(local_30 + 3, local_54);
            }
            iVar2 = FUN_00021c20(local_54, local_30 + 5);
            if (iVar2 != 0) {
                FUN_00021ca0(local_30 + 5, local_54);
            }
            *local_30 = *local_30 + 1;
            local_40 = (int *)(*(int *)(local_88 + 0x104) + 0x180);
            FUN_00021b04(local_54, *(int *)(local_88 + 0x104) + 0x184);
            iVar2 = FUN_00021ba0(local_54, local_40 + 3);
            if (iVar2 != 0) {
                FUN_00021ca0(local_40 + 3, local_54);
            }
            iVar2 = FUN_00021c20(local_54, local_40 + 5);
            if (iVar2 != 0) {
                FUN_00021ca0(local_40 + 5, local_54);
            }
            *local_40 = *local_40 + 1;
            FUN_00022308(local_88 + 0x1a8);
            pthread_setcancelstate(1, (int *)0x0);
            FUN_0003c9a4(param_1);
            lVar8 = (**(code **)(local_2c + 0x40))(
                param_1, local_88, *(int *)(local_88 + 0xf8) + local_14, 0);
            local_48 = lVar8;
            FUN_0003ca00(param_1);
            pthread_setcancelstate(0, (int *)0x0);
            pthread_testcancel();
            FUN_00022308(local_54);
            if (local_48 == -1)
                break;
            local_20 = local_48 + local_20;
            iVar2 = *(int *)(local_28 + 0xa4);
            bVar7 = *(uint *)(local_28 + 0xa0) < (uint)local_48;
            if ((int)(iVar2 - (local_48._4_4_ + (uint)bVar7)) < 0 !=
                (SBORROW4(iVar2, local_48._4_4_) !=
                 SBORROW4(iVar2 - local_48._4_4_, (uint)bVar7))) {
                *(longlong *)(local_28 + 0xa0) = local_48;
                iVar2 = local_28;
            }
            uVar9 = CONCAT44(iVar2, local_14);
            local_7c = *local_3c - local_5c;
            local_78 = local_3c[1] - local_58;
            if (local_78 < 0) {
                local_7c = local_7c + -1;
                local_78 = local_78 + 1000000;
            }
            local_74 = local_74 + local_7c;
            local_70 = local_70 + local_78;
            if (1000000 < local_70) {
                local_74 = local_74 + 1;
                local_70 = local_70 + -1000000;
            }
            local_84 = *local_3c - local_64;
            local_80 = local_3c[1] - local_60;
            if (local_80 < 0) {
                local_84 = local_84 + -1;
                local_80 = local_80 + 1000000;
            }
            if (local_74 < local_34) {
                if (local_14 != 0xffffffff) {
                    iVar2 = local_70 + 0x7ff;
                    if (-1 < local_70 + 0x400) {
                        iVar2 = local_70 + 0x400;
                    }
                    iVar2 = FUN_000688c0(1000000, iVar2 >> 10);
                    local_4c = local_34 * (iVar2 + 0x10);
                    uVar9 = FUN_00068648(0xfffffc00, local_4c);
                    uVar3 = (undefined4)((ulonglong)uVar9 >> 0x20);
                    lVar8 = local_20;
                    if ((uint)uVar9 < local_14) {
                        uVar9 = CONCAT44(uVar3, 0xffffffff);
                    } else {
                        uVar9 = CONCAT44(uVar3, local_14 * local_4c >> 10);
                    }
                    goto LAB_00046a8c;
                }
            } else {
                if (local_34 < local_74) {
                    uVar9 = FUN_00068648(local_14 * local_34, local_74);
                    lVar8 = local_20;
                } else {
                    lVar8 = local_20;
                    if (100000 < local_70) {
                        iVar2 = local_14 << 10;
                        iVar6 = local_34 * 1000000;
                        iVar4 = iVar6 + 0x3ff;
                        if (-1 < iVar6) {
                            iVar4 = iVar6;
                        }
                        uVar3 = FUN_000688c0(local_34 * 1000000 + local_70,
                                             iVar4 >> 10);
                        uVar9 = FUN_00068648(iVar2, uVar3);
                        lVar8 = local_20;
                    }
                }
            LAB_00046a8c:
                local_20._4_4_ = (undefined4)((ulonglong)lVar8 >> 0x20);
                local_20._0_4_ = (undefined4)lVar8;
                local_14 = (uint)uVar9;
                local_7c = *local_3c - local_6c;
                local_78 = local_3c[1] - local_68;
                if (local_78 < 0) {
                    local_7c = local_7c + -1;
                    local_78 = local_78 + 1000000;
                }
                if (((lVar8 != 0) && ((0 < local_7c || (200000 < local_78)))) ||
                    (DAT_00086c20 <= local_7c)) {
                    FUN_0003ca5c(local_24, (int)((ulonglong)uVar9 >> 0x20),
                                 (undefined4)local_20, local_20._4_4_);
                    local_20 = lVar8;
                    local_20._0_4_ = 0;
                    local_20._4_4_ = 0;
                    FUN_00021ca0(&local_6c, local_3c);
                    lVar8 = CONCAT44(local_20._4_4_, (undefined4)local_20);
                }
                local_20 = lVar8;
                if (*(char *)((int)param_1 + 0x3e) != '\0') {
                    if (local_35 != '\x01') {
                        local_90.tv_sec = 0;
                        local_90.tv_nsec = param_1[1] * 250000000;
                        nanosleep(&local_90, (timespec *)0x0);
                        lVar8 = local_20;
                    }
                    goto LAB_00046c08;
                }
                if ((*(char *)(param_1 + 0xf) != '\0') ||
                    (*(int *)(local_28 + 0x20) != 0)) {
                    FUN_000460e4(param_1, local_24, local_2c);
                }
                local_70 = 0;
                local_74 = 0;
            }
            cVar1 = FUN_00046068(local_88, &local_84,
                                 *(undefined4 *)(local_28 + 0xa0),
                                 *(undefined4 *)(local_28 + 0xa4));
            lVar8 = local_20;
            if (cVar1 == '\x01')
                goto LAB_00046c08;
        }
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            snprintf(acStack_890, 0x800, "%s %d failure, disabling!",
                     *(undefined4 *)(local_2c + 8),
                     *(undefined4 *)(local_28 + 8));
            FUN_0001e4ec(3, acStack_890, 0);
        }
        *(undefined4 *)(local_28 + 0x20) = 1;
        FUN_0002b5b0(local_28, 1);
        *(undefined1 *)(local_28 + 0x16c) = 1;
        lVar8 = local_20;
    LAB_00046c08:
        local_20 = lVar8;
        FUN_00031f40(&local_88, "cgminer.c", "hash_sole_work", 0x24d3);
    } while (true);
}

void FUN_00046c50(undefined4 param_1, int param_2, int param_3,
                  undefined4 param_4)

{
    char cVar1;
    int iVar2;
    bool bVar3;
    undefined4 local_10;
    char local_9;

    do {
        iVar2 = *(int *)(param_2 + 0x164);
        bVar3 = iVar2 == 0;
        if (bVar3) {
            iVar2 = 1;
        }
        local_9 = (char)iVar2;
        if (!bVar3) {
            local_9 = '\0';
        }
        if (local_9 != '\0') {
            local_10 = FUN_00044158(param_1, param_4);
            FUN_0002e4cc(param_2 + 0x140, "cgminer.c", "fill_queue", 0x24ec);
            if (*(int *)(param_2 + 0x164) == 0) {
                *(undefined4 *)(param_2 + 0x164) = local_10;
            } else {
                local_9 = '\0';
            }
            FUN_0002e74c(param_2 + 0x140, "cgminer.c", "fill_queue", 0x24f7);
            if (local_9 != '\x01') {
                FUN_00036898(&local_10, "cgminer.c", "fill_queue", 0x24fb);
            }
        }
        cVar1 = (**(code **)(param_3 + 0x48))(param_2);
    } while (cVar1 != '\x01');
    return;
}

void FUN_00046d68(int param_1, int param_2)

{
    void *pvVar1;
    int iVar2;
    uint uVar3;
    uint uVar4;
    uint uVar5;
    int *piVar6;
    int iVar7;
    undefined4 *puVar8;
    int local_2c;
    uint local_28;
    byte *local_24;
    uint local_20;
    uint local_1c;
    uint local_18;
    uint local_14;

    *(int *)(param_1 + 0x168) = *(int *)(param_1 + 0x168) + 1;
    local_24 = (byte *)(param_2 + 0x154);
    local_14 = 0xfeedbeef;
    local_1c = 0x9e3779b9;
    local_18 = 0x9e3779b9;
    for (local_20 = 4; 0xb < local_20; local_20 = local_20 - 0xc) {
        iVar7 = local_1c + (uint)local_24[4] + (uint)local_24[5] * 0x100 +
                (uint)local_24[6] * 0x10000 + (uint)local_24[7] * 0x1000000;
        local_14 = local_14 + (uint)local_24[8] + (uint)local_24[9] * 0x100 +
                   (uint)local_24[10] * 0x10000 +
                   (uint)local_24[0xb] * 0x1000000;
        uVar3 = local_14 >> 0xd ^
                ((local_18 + (uint)*local_24 + (uint)local_24[1] * 0x100 +
                  (uint)local_24[2] * 0x10000 + (uint)local_24[3] * 0x1000000) -
                 iVar7) -
                    local_14;
        uVar4 = uVar3 << 8 ^ (iVar7 - local_14) - uVar3;
        uVar5 = uVar4 >> 0xd ^ (local_14 - uVar3) - uVar4;
        uVar3 = uVar5 >> 0xc ^ (uVar3 - uVar4) - uVar5;
        uVar4 = uVar3 << 0x10 ^ (uVar4 - uVar5) - uVar3;
        uVar5 = uVar4 >> 5 ^ (uVar5 - uVar3) - uVar4;
        local_18 = uVar5 >> 3 ^ (uVar3 - uVar4) - uVar5;
        local_1c = local_18 << 10 ^ (uVar4 - uVar5) - local_18;
        local_14 = local_1c >> 0xf ^ (uVar5 - local_18) - local_1c;
        local_24 = local_24 + 0xc;
    }
    local_14 = local_14 + 4;
    switch (local_20) {
    case 8:
        local_1c = local_1c + (uint)local_24[7] * 0x1000000 +
                   (uint)local_24[6] * 0x10000 + (uint)local_24[5] * 0x100 +
                   (uint)local_24[4];
    case 4:
        local_18 = local_18 + (uint)local_24[3] * 0x1000000 +
                   (uint)local_24[2] * 0x10000 + (uint)local_24[1] * 0x100 +
                   (uint)*local_24;
    }
    uVar3 = local_14 >> 0xd ^ (local_18 - local_1c) - local_14;
    uVar4 = uVar3 << 8 ^ (local_1c - local_14) - uVar3;
    uVar5 = uVar4 >> 0xd ^ (local_14 - uVar3) - uVar4;
    uVar3 = uVar5 >> 0xc ^ (uVar3 - uVar4) - uVar5;
    uVar4 = uVar3 << 0x10 ^ (uVar4 - uVar5) - uVar3;
    uVar5 = uVar4 >> 5 ^ (uVar5 - uVar3) - uVar4;
    uVar3 = uVar5 >> 3 ^ (uVar3 - uVar4) - uVar5;
    uVar4 = uVar3 << 10 ^ (uVar4 - uVar5) - uVar3;
    uVar3 = uVar4 >> 0xf ^ (uVar5 - uVar3) - uVar4;
    *(uint *)(param_2 + 0x174) = uVar3;
    *(int *)(param_2 + 0x16c) = param_2 + 0x154;
    *(undefined4 *)(param_2 + 0x170) = 4;
    if (*(int *)(param_1 + 0x160) == 0) {
        *(undefined4 *)(param_2 + 0x160) = 0;
        *(undefined4 *)(param_2 + 0x15c) = 0;
        *(int *)(param_1 + 0x160) = param_2;
        iVar7 = *(int *)(param_1 + 0x160);
        pvVar1 = malloc(0x2c);
        *(void **)(iVar7 + 0x158) = pvVar1;
        if (*(int *)(*(int *)(param_1 + 0x160) + 0x158) == 0) {
            /* WARNING: Subroutine does not return */
            exit(-1);
        }
        memset(*(void **)(*(int *)(param_1 + 0x160) + 0x158), 0, 0x2c);
        *(int *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 0x10) =
            *(int *)(param_1 + 0x160) + 0x158;
        *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 4) = 0x20;
        *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 8) = 5;
        *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 0x14) =
            0x158;
        puVar8 = *(undefined4 **)(*(int *)(param_1 + 0x160) + 0x158);
        pvVar1 = malloc(0x180);
        *puVar8 = pvVar1;
        if (**(int **)(*(int *)(param_1 + 0x160) + 0x158) == 0) {
            /* WARNING: Subroutine does not return */
            exit(-1);
        }
        memset((void *)**(undefined4 **)(*(int *)(param_1 + 0x160) + 0x158), 0,
               0x180);
        *(undefined4 *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 0x28) =
            0xa0111fe1;
    } else {
        *(undefined4 *)(param_2 + 0x158) =
            *(undefined4 *)(*(int *)(param_1 + 0x160) + 0x158);
        *(undefined4 *)(param_2 + 0x160) = 0;
        *(int *)(param_2 + 0x15c) =
            *(int *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 0x10) -
            *(int *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 0x14);
        *(int *)(*(int *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 0x10) +
                 8) = param_2;
        *(int *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 0x10) =
            param_2 + 0x158;
    }
    iVar7 = *(int *)(*(int *)(param_1 + 0x160) + 0x158);
    *(int *)(iVar7 + 0xc) = *(int *)(iVar7 + 0xc) + 1;
    uVar3 =
        uVar3 & *(int *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 4) - 1U;
    iVar7 = **(int **)(*(int *)(param_1 + 0x160) + 0x158) + uVar3 * 0xc;
    *(int *)(iVar7 + 4) = *(int *)(iVar7 + 4) + 1;
    *(undefined4 *)(param_2 + 0x168) =
        *(undefined4 *)(**(int **)(*(int *)(param_1 + 0x160) + 0x158) +
                        uVar3 * 0xc);
    *(undefined4 *)(param_2 + 0x164) = 0;
    if (*(int *)(**(int **)(*(int *)(param_1 + 0x160) + 0x158) + uVar3 * 0xc) !=
        0) {
        *(int *)(*(int *)(**(int **)(*(int *)(param_1 + 0x160) + 0x158) +
                          uVar3 * 0xc) +
                 0xc) = param_2 + 0x158;
    }
    *(int *)(**(int **)(*(int *)(param_1 + 0x160) + 0x158) + uVar3 * 0xc) =
        param_2 + 0x158;
    if (((uint)((*(int *)(**(int **)(*(int *)(param_1 + 0x160) + 0x158) +
                          uVar3 * 0xc + 8) +
                 1) *
                10) <= *(uint *)(**(int **)(*(int *)(param_1 + 0x160) + 0x158) +
                                 uVar3 * 0xc + 4)) &&
        (*(int *)(*(int *)(param_2 + 0x158) + 0x24) != 1)) {
        pvVar1 = malloc(*(int *)(*(int *)(param_2 + 0x158) + 4) * 0x18);
        if (pvVar1 == (void *)0x0) {
            /* WARNING: Subroutine does not return */
            exit(-1);
        }
        memset(pvVar1, 0, *(int *)(*(int *)(param_2 + 0x158) + 4) * 0x18);
        *(uint *)(*(int *)(param_2 + 0x158) + 0x18) =
            (*(uint *)(*(int *)(param_2 + 0x158) + 0xc) >>
             (*(int *)(*(int *)(param_2 + 0x158) + 8) + 1U & 0xff)) +
            (uint)((*(int *)(*(int *)(param_2 + 0x158) + 4) * 2 - 1U &
                    *(uint *)(*(int *)(param_2 + 0x158) + 0xc)) != 0);
        *(undefined4 *)(*(int *)(param_2 + 0x158) + 0x1c) = 0;
        for (local_28 = 0; local_28 < *(uint *)(*(int *)(param_2 + 0x158) + 4);
             local_28 = local_28 + 1) {
            local_2c = *(int *)(**(int **)(param_2 + 0x158) + local_28 * 0xc);
            while (local_2c != 0) {
                iVar7 = *(int *)(local_2c + 0x10);
                piVar6 =
                    (int *)((int)pvVar1 +
                            (*(int *)(*(int *)(param_2 + 0x158) + 4) * 2 - 1U &
                             *(uint *)(local_2c + 0x1c)) *
                                0xc);
                piVar6[1] = piVar6[1] + 1;
                if (*(uint *)(*(int *)(param_2 + 0x158) + 0x18) <
                    (uint)piVar6[1]) {
                    *(int *)(*(int *)(param_2 + 0x158) + 0x1c) =
                        *(int *)(*(int *)(param_2 + 0x158) + 0x1c) + 1;
                    iVar2 = FUN_00068648(
                        piVar6[1],
                        *(undefined4 *)(*(int *)(param_2 + 0x158) + 0x18));
                    piVar6[2] = iVar2;
                }
                *(undefined4 *)(local_2c + 0xc) = 0;
                *(int *)(local_2c + 0x10) = *piVar6;
                if (*piVar6 != 0) {
                    *(int *)(*piVar6 + 0xc) = local_2c;
                }
                *piVar6 = local_2c;
                local_2c = iVar7;
            }
        }
        free((void *)**(undefined4 **)(param_2 + 0x158));
        *(int *)(*(int *)(param_2 + 0x158) + 4) =
            *(int *)(*(int *)(param_2 + 0x158) + 4) << 1;
        *(int *)(*(int *)(param_2 + 0x158) + 8) =
            *(int *)(*(int *)(param_2 + 0x158) + 8) + 1;
        **(undefined4 **)(param_2 + 0x158) = pvVar1;
        if (*(uint *)(*(int *)(param_2 + 0x158) + 0xc) >> 1 <
            *(uint *)(*(int *)(param_2 + 0x158) + 0x1c)) {
            iVar7 = *(int *)(*(int *)(param_2 + 0x158) + 0x20) + 1;
        } else {
            iVar7 = 0;
        }
        *(int *)(*(int *)(param_2 + 0x158) + 0x20) = iVar7;
        if (1 < *(uint *)(*(int *)(param_2 + 0x158) + 0x20)) {
            *(undefined4 *)(*(int *)(param_2 + 0x158) + 0x24) = 1;
        }
    }
    return;
}

undefined4 FUN_00047ae0(int param_1)

{
    int iVar1;
    undefined4 local_c;

    local_c = 0;
    if (*(int *)(param_1 + 0x164) != 0) {
        local_c = *(undefined4 *)(param_1 + 0x164);
        iVar1 = FUN_00035aac(local_c, 0);
        if (iVar1 == 0) {
            FUN_00046d68(param_1, local_c);
        } else {
            FUN_00036898(&local_c, "cgminer.c", "__get_queued", 0x2517);
            FUN_00036b64();
        }
        *(undefined4 *)(param_1 + 0x164) = 0;
    }
    return local_c;
}

undefined4 FUN_00047b80(int param_1)

{
    undefined4 uVar1;

    FUN_0002e4cc(param_1 + 0x140, "cgminer.c", "get_queued", 0x252c);
    uVar1 = FUN_00047ae0(param_1);
    FUN_0002e74c(param_1 + 0x140, "cgminer.c", "get_queued", 0x252e);
    return uVar1;
}

void FUN_00047bec(int param_1, undefined4 param_2)

{
    FUN_0002e4cc(param_1 + 0x140, "cgminer.c", "add_queued", 0x2535);
    FUN_00046d68(param_1, param_2);
    FUN_0002e74c(param_1 + 0x140, "cgminer.c", "add_queued", 0x2537);
    return;
}

undefined4 FUN_00047c54(undefined4 param_1, undefined4 param_2,
                        undefined4 param_3)

{
    undefined4 uVar1;

    uVar1 = FUN_00044158(param_1, param_3);
    FUN_00047bec(param_2, uVar1);
    return uVar1;
}

int FUN_00047c98(int param_1, void *param_2, size_t param_3, void *param_4,
                 int param_5, size_t param_6)

{
    int iVar1;
    int local_10;
    int local_c;

    local_c = param_1;
    if (param_1 == 0) {
        local_10 = 0;
    } else {
        local_10 = *(int *)(param_1 + 0x160);
    }
    while (true) {
        if (local_c == 0) {
            return 0;
        }
        iVar1 = memcmp((void *)(local_c + 0x80), param_2, param_3);
        if ((iVar1 == 0) &&
            (iVar1 = memcmp((void *)(local_c + param_5), param_4, param_6),
             iVar1 == 0))
            break;
        local_c = local_10;
        if (local_10 == 0) {
            local_10 = 0;
        } else {
            local_10 = *(int *)(local_10 + 0x160);
        }
    }
    return local_c;
}

undefined4 FUN_00047d84(int param_1, undefined4 param_2, undefined4 param_3,
                        undefined4 param_4, undefined4 param_5,
                        undefined4 param_6)

{
    undefined4 uVar1;

    FUN_0002e59c(param_1 + 0x140, "cgminer.c", "find_queued_work_bymidstate",
                 0x2563);
    uVar1 = FUN_00047c98(*(undefined4 *)(param_1 + 0x160), param_2, param_3,
                         param_4, param_5, param_6);
    FUN_0002e704(param_1 + 0x140, "cgminer.c", "find_queued_work_bymidstate",
                 0x2565);
    return uVar1;
}

undefined4 FUN_00047e1c(int param_1, undefined4 param_2, undefined4 param_3,
                        undefined4 param_4, undefined4 param_5,
                        undefined4 param_6)

{
    int iVar1;
    undefined4 local_c;

    local_c = 0;
    FUN_0002e59c(param_1 + 0x140, "cgminer.c", "clone_queued_work_bymidstate",
                 0x256f);
    iVar1 = FUN_00047c98(*(undefined4 *)(param_1 + 0x160), param_2, param_3,
                         param_4, param_5, param_6);
    if (iVar1 != 0) {
        local_c = FUN_000358f8(iVar1, 0);
    }
    FUN_0002e704(param_1 + 0x140, "cgminer.c", "clone_queued_work_bymidstate",
                 0x2573);
    return local_c;
}

int FUN_00047ed8(int param_1, int param_2)

{
    int local_10;
    int local_c;

    local_c = param_1;
    if (param_1 == 0) {
        local_10 = 0;
    } else {
        local_10 = *(int *)(param_1 + 0x160);
    }
    while (true) {
        if (local_c == 0) {
            return 0;
        }
        if (*(int *)(local_c + 0x154) == param_2)
            break;
        local_c = local_10;
        if (local_10 == 0) {
            local_10 = 0;
        } else {
            local_10 = *(int *)(local_10 + 0x160);
        }
    }
    return local_c;
}

undefined4 FUN_00047f88(int param_1, undefined4 param_2)

{
    undefined4 uVar1;

    FUN_0002e59c(param_1 + 0x140, "cgminer.c", "find_queued_work_byid", 0x2592);
    uVar1 = FUN_00047ed8(*(undefined4 *)(param_1 + 0x160), param_2);
    FUN_0002e704(param_1 + 0x140, "cgminer.c", "find_queued_work_byid", 0x2594);
    return uVar1;
}

undefined4 FUN_00048004(int param_1, undefined4 param_2)

{
    int iVar1;
    undefined4 local_c;

    local_c = 0;
    FUN_0002e59c(param_1 + 0x140, "cgminer.c", "clone_queued_work_byid",
                 0x259e);
    iVar1 = FUN_00047ed8(*(undefined4 *)(param_1 + 0x160), param_2);
    if (iVar1 != 0) {
        local_c = FUN_000358f8(iVar1, 0);
    }
    FUN_0002e704(param_1 + 0x140, "cgminer.c", "clone_queued_work_byid",
                 0x25a2);
    return local_c;
}

void FUN_000480a4(int param_1, int param_2)

{
    uint uVar1;
    int iVar2;

    *(int *)(param_1 + 0x168) = *(int *)(param_1 + 0x168) + -1;
    if ((*(int *)(param_2 + 0x15c) == 0) && (*(int *)(param_2 + 0x160) == 0)) {
        free((void *)**(undefined4 **)(*(int *)(param_1 + 0x160) + 0x158));
        free(*(void **)(*(int *)(param_1 + 0x160) + 0x158));
        *(undefined4 *)(param_1 + 0x160) = 0;
    } else {
        if (*(int *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 0x10) -
                *(int *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 0x14) ==
            param_2) {
            *(int *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 0x10) =
                *(int *)(param_2 + 0x15c) +
                *(int *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 0x14);
        }
        if (*(int *)(param_2 + 0x15c) == 0) {
            *(undefined4 *)(param_1 + 0x160) = *(undefined4 *)(param_2 + 0x160);
        } else {
            *(undefined4 *)(*(int *)(param_2 + 0x15c) +
                            *(int *)(*(int *)(*(int *)(param_1 + 0x160) +
                                              0x158) +
                                     0x14) +
                            8) = *(undefined4 *)(param_2 + 0x160);
        }
        if (*(int *)(param_2 + 0x160) != 0) {
            *(undefined4 *)(*(int *)(param_2 + 0x160) +
                            *(int *)(*(int *)(*(int *)(param_1 + 0x160) +
                                              0x158) +
                                     0x14) +
                            4) = *(undefined4 *)(param_2 + 0x15c);
        }
        uVar1 = *(int *)(*(int *)(*(int *)(param_1 + 0x160) + 0x158) + 4) - 1U &
                *(uint *)(param_2 + 0x174);
        iVar2 = **(int **)(*(int *)(param_1 + 0x160) + 0x158) + uVar1 * 0xc;
        *(int *)(iVar2 + 4) = *(int *)(iVar2 + 4) + -1;
        if (*(int *)(**(int **)(*(int *)(param_1 + 0x160) + 0x158) +
                     uVar1 * 0xc) == param_2 + 0x158) {
            *(undefined4 *)(**(int **)(*(int *)(param_1 + 0x160) + 0x158) +
                            uVar1 * 0xc) = *(undefined4 *)(param_2 + 0x168);
        }
        if (*(int *)(param_2 + 0x164) != 0) {
            *(undefined4 *)(*(int *)(param_2 + 0x164) + 0x10) =
                *(undefined4 *)(param_2 + 0x168);
        }
        if (*(int *)(param_2 + 0x168) != 0) {
            *(undefined4 *)(*(int *)(param_2 + 0x168) + 0xc) =
                *(undefined4 *)(param_2 + 0x164);
        }
        iVar2 = *(int *)(*(int *)(param_1 + 0x160) + 0x158);
        *(int *)(iVar2 + 0xc) = *(int *)(iVar2 + 0xc) + -1;
    }
    return;
}

int FUN_0004834c(int param_1)

{
    undefined4 uVar1;
    double in_d0;
    undefined4 extraout_s1;
    undefined1 auStack_1c[8];
    int local_14;
    int local_10;
    int local_c;

    local_10 = 0;
    FUN_00022308(auStack_1c);
    FUN_0002e4cc(param_1 + 0x140, "cgminer.c", "age_queued_work", 0x25b8);
    local_14 = *(int *)(param_1 + 0x160);
    if (*(int *)(param_1 + 0x160) == 0) {
        local_c = 0;
    } else {
        local_c = *(int *)(*(int *)(param_1 + 0x160) + 0x160);
    }
    while (local_14 != 0) {
        uVar1 = FUN_000226b0(auStack_1c, local_14 + 0x1a8);
        if (in_d0 < (double)CONCAT44(extraout_s1, uVar1)) {
            FUN_000480a4(param_1, local_14);
            FUN_00031f40(&local_14, "cgminer.c", "age_queued_work", 0x25be);
            local_10 = local_10 + 1;
        }
        local_14 = local_c;
        if (local_c == 0) {
            local_c = 0;
        } else {
            local_c = *(int *)(local_c + 0x160);
        }
    }
    FUN_0002e74c(param_1 + 0x140, "cgminer.c", "age_queued_work", 0x25c3);
    return local_10;
}

void FUN_00048494(int param_1, undefined4 param_2)

{
    undefined4 local_10;
    int local_c;

    local_10 = param_2;
    local_c = param_1;
    FUN_0002e4cc(param_1 + 0x140, "cgminer.c", "work_completed", 0x25cd);
    FUN_000480a4(local_c, local_10);
    FUN_0002e74c(local_c + 0x140, "cgminer.c", "work_completed", 0x25cf);
    FUN_00031f40(&local_10, "cgminer.c", "work_completed", 0x25d1);
    return;
}

int FUN_0004851c(int param_1, undefined4 param_2, undefined4 param_3,
                 undefined4 param_4, undefined4 param_5, undefined4 param_6)

{
    int iVar1;

    FUN_0002e4cc(param_1 + 0x140, "cgminer.c", "take_queued_work_bymidstate",
                 0x25da);
    iVar1 = FUN_00047c98(*(undefined4 *)(param_1 + 0x160), param_2, param_3,
                         param_4, param_5, param_6);
    if (iVar1 != 0) {
        FUN_000480a4(param_1, iVar1);
    }
    FUN_0002e74c(param_1 + 0x140, "cgminer.c", "take_queued_work_bymidstate",
                 0x25de);
    return iVar1;
}

void FUN_000485cc(int param_1)

{
    int iVar1;
    char local_80c[24];
    undefined2 local_7f4;
    undefined1 local_7f2;
    int local_c;

    local_c = 0;
    if ((param_1 != 0) && (iVar1 = FUN_0002e564(param_1 + 0x140, "cgminer.c",
                                                "flush_queue", 0x25ee),
                           iVar1 == 0)) {
        local_c = *(int *)(param_1 + 0x164);
        *(undefined4 *)(param_1 + 0x164) = 0;
        FUN_0002e74c(param_1 + 0x140, "cgminer.c", "flush_queue", 0x25f5);
        if (((local_c != 0) &&
             (FUN_00031f40(&local_c, "cgminer.c", "flush_queue", 0x25f9),
              DAT_00087768 != '\0')) &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            builtin_strncpy(local_80c, "Discarded queued work it", 0x18);
            local_7f4 = 0x6d65;
            local_7f2 = 0;
            FUN_0001e4ec(7, local_80c, 0);
        }
    }
    return;
}

void FUN_00048734(undefined4 *param_1)

{
    undefined4 extraout_r1;
    longlong lVar1;
    char acStack_840[2048];
    int local_40;
    int local_3c;
    int local_38;
    int local_34;
    int local_30;
    int local_2c;
    undefined8 local_28;
    undefined4 local_1c;
    int local_18;
    int local_14;
    undefined8 local_10;

    local_30 = 0;
    local_2c = 0;
    local_14 = param_1[9];
    local_18 = *(int *)(local_14 + 4);
    local_1c = *param_1;
    local_10 = 0;
    do {
        if (*(char *)(local_14 + 0x16c) == '\x01') {
        LAB_000489c4:
            *(undefined4 *)(local_14 + 0x20) = 1;
            return;
        }
        *(undefined1 *)((int)param_1 + 0x3f) = 0;
        FUN_00046c50(param_1, local_14, local_18, local_1c);
        lVar1 = (**(code **)(local_18 + 0x44))(param_1);
        *(undefined1 *)((int)param_1 + 0x3e) = 0;
        local_28 = lVar1;
        if (lVar1 == -1) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                snprintf(acStack_840, 0x800, "%s %d failure, disabling!",
                         *(undefined4 *)(local_18 + 8),
                         *(undefined4 *)(local_14 + 8));
                FUN_0001e4ec(3, acStack_840, 0);
            }
            *(undefined4 *)(local_14 + 0x20) = 1;
            FUN_0002b5b0(local_14, 1);
            goto LAB_000489c4;
        }
        local_10 = lVar1 + local_10;
        FUN_00022308(&local_38);
        local_40 = local_38 - local_30;
        local_3c = local_34 - local_2c;
        if (local_3c < 0) {
            local_40 = local_40 + -1;
            local_3c = local_3c + 1000000;
        }
        if (((local_10 != 0) && ((0 < local_40 || (200000 < local_3c)))) ||
            (DAT_00086c20 <= local_40)) {
            FUN_0003ca5c(local_1c, extraout_r1, (undefined4)local_10,
                         local_10._4_4_);
            local_10._0_4_ = 0;
            local_10._4_4_ = 0;
            FUN_00021ca0(&local_30, &local_38);
        }
        if ((*(char *)(param_1 + 0xf) != '\0') ||
            (*(int *)(local_14 + 0x20) != 0)) {
            FUN_000460e4(param_1, local_1c, local_18);
        }
        if (*(char *)((int)param_1 + 0x3f) != '\0') {
            (**(code **)(local_18 + 0x50))(local_14);
        }
    } while (true);
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */

void FUN_000489d8(undefined4 *param_1)

{
    int iVar1;
    int *piVar2;
    char *pcVar3;
    longlong lVar4;
    sysinfo local_888;
    char acStack_848[2048];
    int local_48;
    int local_44;
    int local_40;
    int local_3c;
    int local_38;
    int local_34;
    undefined8 local_30;
    undefined4 local_24;
    int local_20;
    int local_1c;
    longlong local_18;

    local_38 = 0;
    local_34 = 0;
    local_1c = param_1[9];
    local_20 = *(int *)(local_1c + 4);
    local_24 = *param_1;
    local_18 = 0;
    do {
        if (*(char *)(local_1c + 0x16c) == '\x01') {
        LAB_00048d78:
            *(undefined4 *)(local_1c + 0x20) = 1;
            return;
        }
        *(undefined1 *)((int)param_1 + 0x3f) = 0;
        lVar4 = (**(code **)(local_20 + 0x44))(param_1);
        *(undefined1 *)((int)param_1 + 0x3e) = 0;
        local_30 = lVar4;
        if (lVar4 == -1) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                snprintf(acStack_848, 0x800, "%s %d failure, disabling!",
                         *(undefined4 *)(local_20 + 8),
                         *(undefined4 *)(local_1c + 8));
                FUN_0001e4ec(3, acStack_848, 0);
            }
            *(undefined4 *)(local_1c + 0x20) = 1;
            FUN_0002b5b0(local_1c, 1);
            goto LAB_00048d78;
        }
        local_18 = lVar4 + local_18;
        FUN_00022308(&local_40);
        local_48 = local_40 - local_38;
        local_44 = local_3c - local_34;
        if (local_44 < 0) {
            local_48 = local_48 + -1;
            local_44 = local_44 + 1000000;
        }
        iVar1 = sysinfo(&local_888);
        if (iVar1 == 0) {
            DAT_0009539c = local_888.uptime;
        } else {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (5 < DAT_0008697c)) {
                piVar2 = __errno_location();
                iVar1 = *piVar2;
                piVar2 = __errno_location();
                pcVar3 = strerror(*piVar2);
                snprintf(acStack_848, 0x800,
                         "Failed to get sysinfo, errno:%u, reason:%s\n", iVar1,
                         pcVar3);
                FUN_0001e4ec(6, acStack_848, 0);
            }
            DAT_0009539c = time((time_t *)0x0);
        }
        _DAT_00087478 =
            (double)(longlong)DAT_0009539c - (double)(longlong)DAT_0009535c;
        if (local_30 != 0) {
            FUN_0003ca5c(local_24);
            FUN_00021ca0(&local_38, &local_40);
        }
        if ((*(char *)(param_1 + 0xf) != '\0') ||
            (*(int *)(local_1c + 0x20) != 0)) {
            FUN_000460e4(param_1, local_24, local_20);
        }
        if (*(char *)((int)param_1 + 0x3f) != '\0') {
            FUN_0002e354(&DAT_000951e0, "cgminer.c", "hash_driver_work",
                         0x2685);
            (**(code **)(local_20 + 0x50))(local_1c);
            FUN_0002e484(&DAT_000951e0, "cgminer.c", "hash_driver_work",
                         0x2687);
        }
    } while (true);
}

undefined4 FUN_00048d8c(undefined4 *param_1)

{
    char cVar1;
    time_t tVar2;
    char local_828[28];
    undefined2 local_80c;
    undefined1 local_80a;
    char acStack_28[16];
    int local_18;
    int local_14;
    undefined4 local_10;
    undefined4 *local_c;

    local_10 = *param_1;
    local_14 = param_1[9];
    local_18 = *(int *)(local_14 + 4);
    local_c = param_1;
    snprintf(acStack_28, 0x10, "%d/Miner", local_10);
    FUN_0002b968(acStack_28);
    FUN_0003ca00(local_c);
    cVar1 = (**(code **)(local_18 + 0x34))(local_c);
    if (cVar1 == '\x01') {
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            builtin_strncpy(local_828, "Waiting on sem in miner thre", 0x1c);
            local_80c = 0x6461;
            local_80a = 0;
            FUN_0001e4ec(7, local_828, 0);
        }
        FUN_0002bb08(local_c + 4, "cgminer.c", "miner_thread", 0x26a2);
        tVar2 = time((time_t *)0x0);
        *(time_t *)(local_14 + 0xe8) = tVar2;
        (**(code **)(local_18 + 0x3c))(local_c);
        (**(code **)(local_18 + 0x58))(local_c);
    } else {
        FUN_0002b5b0(local_14, 0);
    }
    return 0;
}

void FUN_00048f30(int param_1)

{
    char cVar1;
    int iVar2;

    while ((cVar1 = FUN_0003f494(param_1),
            cVar1 != '\x01' && ((*(int *)(param_1 + 100) == 0 ||
                                 (((iVar2 = FUN_0002f984(),
                                    iVar2 != param_1 && (DAT_00087e6c != 3)) &&
                                   (DAT_00087e6c != 4))))))) {
        FUN_0002e354(&DAT_00088020, "cgminer.c", "wait_lpcurrent", 0x2712);
        pthread_cond_wait((pthread_cond_t *)&DAT_00088038,
                          (pthread_mutex_t *)&DAT_00088020);
        FUN_0002e484(&DAT_00088020, "cgminer.c", "wait_lpcurrent", 0x2714);
    }
    return;
}

undefined4 FUN_00049008(void)

{
    pthread_t __th;

    __th = pthread_self();
    pthread_detach(__th);
    return 0;
}

void FUN_00049038(int param_1)

{
    if (*(int *)(param_1 + 0x20) != 1) {
        (**(code **)(*(int *)(param_1 + 4) + 0x10))(param_1);
    }
    return;
}

void FUN_00049078(undefined4 *param_1)

{
    int iVar1;
    undefined1 *puVar2;
    char acStack_81c[2048];
    int local_1c[2];
    int local_14;
    int *local_10;
    int *local_c;

    local_14 = 0;
    FUN_00022308(local_1c);
    FUN_0002e354(param_1 + 0x2f, "cgminer.c", "reap_curl", 0x2807);
    local_c = (int *)param_1[0x56] + -1;
    iVar1 = *(int *)param_1[0x56];
    while (true) {
        local_10 = (int *)(iVar1 + -4);
        if (local_c + 1 == param_1 + 0x56) {
            FUN_0002e484(param_1 + 0x2f, "cgminer.c", "reap_curl", 0x2819);
            if (((local_14 != 0) && (DAT_00087768 != '\0')) &&
                ((DAT_00091f58 != '\0' ||
                  ((DAT_00087769 != '\0' || (6 < DAT_0008697c)))))) {
                if (local_14 < 2) {
                    puVar2 = &DAT_0006f818;
                } else {
                    puVar2 = &DAT_00072ad8;
                }
                snprintf(acStack_81c, 0x800, "Reaped %d curl%s from pool %d",
                         local_14, puVar2, *param_1);
                FUN_0001e4ec(7, acStack_81c, 0);
            }
            return;
        }
        if ((int)param_1[0x48] < 2)
            break;
        if (300 < local_1c[0] - local_c[3]) {
            local_14 = local_14 + 1;
            param_1[0x48] = param_1[0x48] + -1;
            FUN_0002df24(local_c + 1);
            free(local_c);
        }
        local_c = local_10;
        iVar1 = local_10[1];
    }
    return;
}

void FUN_00049264(undefined4 *param_1)

{
    int iVar1;
    bool bVar2;
    char acStack_820[2048];
    uint local_20;
    int *local_1c;
    time_t local_18;
    uint local_14;
    int *local_10;
    int *local_c;

    local_18 = time((time_t *)0x0);
    local_14 = 0;
    FUN_0002e354(&DAT_00088008, "cgminer.c", "prune_stratum_shares", 0x282b);
    local_c = DAT_00088134;
    if (DAT_00088134 == (int *)0x0) {
        local_10 = (int *)0x0;
    } else {
        local_10 = (int *)DAT_00088134[2];
    }
    while (local_c != (int *)0x0) {
        if ((*(undefined4 **)(local_c[9] + 0x104) == param_1) &&
            (local_c[0xb] + 0x78 < local_18)) {
            if ((local_c[1] == 0) && (local_c[2] == 0)) {
                free(*(void **)*DAT_00088134);
                free((void *)*DAT_00088134);
                DAT_00088134 = (int *)0x0;
            } else {
                local_1c = local_c;
                if ((int *)(*(int *)(*DAT_00088134 + 0x10) -
                            *(int *)(*DAT_00088134 + 0x14)) == local_c) {
                    *(int *)(*DAT_00088134 + 0x10) =
                        local_c[1] + *(int *)(*DAT_00088134 + 0x14);
                }
                if (local_c[1] == 0) {
                    DAT_00088134 = (int *)local_c[2];
                } else {
                    *(int *)(local_c[1] + *(int *)(*DAT_00088134 + 0x14) + 8) =
                        local_c[2];
                }
                if (local_c[2] != 0) {
                    *(int *)(local_c[2] + *(int *)(*DAT_00088134 + 0x14) + 4) =
                        local_c[1];
                }
                local_20 = *(int *)(*DAT_00088134 + 4) - 1U & local_c[7];
                iVar1 = *(int *)*DAT_00088134 + local_20 * 0xc;
                *(int *)(iVar1 + 4) = *(int *)(iVar1 + 4) + -1;
                if (*(int **)(*(int *)*DAT_00088134 + local_20 * 0xc) ==
                    local_c) {
                    *(int *)(*(int *)*DAT_00088134 + local_20 * 0xc) =
                        local_c[4];
                }
                if (local_c[3] != 0) {
                    *(int *)(local_c[3] + 0x10) = local_c[4];
                }
                if (local_c[4] != 0) {
                    *(int *)(local_c[4] + 0xc) = local_c[3];
                }
                *(int *)(*DAT_00088134 + 0xc) =
                    *(int *)(*DAT_00088134 + 0xc) + -1;
            }
            FUN_00031f40(local_c + 9, "cgminer.c", "prune_stratum_shares",
                         0x2832);
            free(local_c);
            local_14 = local_14 + 1;
        }
        local_c = local_10;
        if (local_10 == (int *)0x0) {
            local_10 = (int *)0x0;
        } else {
            local_10 = (int *)local_10[2];
        }
    }
    FUN_0002e484(&DAT_00088008, "cgminer.c", "prune_stratum_shares", 0x2838);
    if (local_14 != 0) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (3 < DAT_0008697c)) {
            snprintf(
                acStack_820, 0x800,
                "Lost %d shares due to no stratum share response from pool %d",
                local_14, *param_1);
            FUN_0001e4ec(4, acStack_820, 0);
        }
        param_1[0x1e] = param_1[0x1e] + local_14;
        bVar2 = CARRY4(local_14, DAT_00095490);
        DAT_00095490 = local_14 + DAT_00095490;
        DAT_00095494 = ((int)local_14 >> 0x1f) + DAT_00095494 + (uint)bVar2;
    }
    return;
}

void FUN_00049734(void)

{
    int iVar1;
    uint uVar2;
    int iVar3;
    double dVar4;
    char acStack_838[2048];
    int local_38[2];
    undefined1 auStack_30[8];
    undefined8 local_28;
    undefined4 *local_1c;
    int local_18;
    int local_14;

    local_14 = 0;
    pthread_setcanceltype(1, (int *)0x0);
    FUN_0002b968("Watchpool");
    FUN_0003c718();
    FUN_00022424(auStack_30);
    do {
        local_14 = local_14 + 1;
        if (0x78 < local_14) {
            local_14 = 0;
        }
        FUN_00022308(local_38);
        dVar4 = local_28;
        for (local_18 = 0; local_28 = dVar4, local_18 < DAT_00092028;
             local_18 = local_18 + 1) {
            local_1c = *(undefined4 **)(DAT_000920cc + local_18 * 4);
            if ((DAT_00087fb0 != '\x01') && (DAT_00091f78 == 0)) {
                FUN_00049078(local_1c);
                FUN_00049264(local_1c);
                dVar4 = local_28;
            }
            if (0x77 < local_14) {
                uVar2 = local_1c[0x26];
                local_28 = dVar4;
                dVar4 = (double)FUN_00068e84(
                    local_1c[10] - uVar2,
                    local_1c[0xb] - (((int)uVar2 >> 0x1f) +
                                     (uint)((uint)local_1c[10] < uVar2)));
                local_1c[0x26] = local_1c[10];
                *(double *)(local_1c + 0x24) =
                    (*(double *)(local_1c + 0x24) + dVar4 * 0.63) / 1.63;
                local_1c[0x27] = (int)(longlong) * (double *)(local_1c + 0x24);
            }
            if ((local_1c[0x19] != 0) && (*(char *)(local_1c + 0x47) == '\0')) {
                local_28 = dVar4;
                iVar1 = FUN_00041c38(local_1c, 1);
                if (iVar1 == 0) {
                    FUN_00022308(local_1c + 0x22);
                } else {
                    iVar1 = FUN_0002f908(local_1c, (int)local_1c + 0x61);
                    if (iVar1 != 0) {
                        FUN_00042c34(local_1c);
                    }
                }
                dVar4 = local_28;
                if ((*(char *)((int)local_1c + 0x61) != '\x01') &&
                    (DAT_00087e6c == 0)) {
                    iVar3 = local_1c[1];
                    iVar1 = FUN_0003f424();
                    dVar4 = local_28;
                    if ((iVar3 < iVar1) &&
                        (DAT_00086c34 < local_38[0] - local_1c[0x22])) {
                        if (((DAT_00091f58 != '\0') ||
                             (DAT_00087769 != '\0')) ||
                            (3 < DAT_0008697c)) {
                            snprintf(acStack_838, 0x800,
                                     "Pool %d %s stable for >%d seconds",
                                     *local_1c, local_1c[0x29], DAT_00086c34);
                            FUN_0001e4ec(4, acStack_838, 0);
                        }
                        FUN_000364ac(0);
                        dVar4 = local_28;
                    }
                }
            }
        }
        iVar1 = FUN_0002f984();
        if (*(char *)(iVar1 + 0x61) != '\0') {
            FUN_000364ac(0);
        }
        if ((DAT_00087e6c == 2) &&
            (DAT_000930e4 * 0x3c < local_38[0] - DAT_000898c0)) {
            FUN_00022308(&DAT_000898c0);
            FUN_000364ac(0);
        }
        FUN_00022484(auStack_30, 5000);
        FUN_00022424(auStack_30);
    } while (true);
}

undefined4 FUN_00049af8(void)

{
    uint uVar1;
    char cVar2;
    int iVar3;
    time_t tVar4;
    undefined4 uVar5;
    undefined8 uVar6;
    char local_848[2048];
    char acStack_48[8];
    int local_40[2];
    undefined1 auStack_38[8];
    int *local_30;
    int local_2c;
    int local_28;
    undefined4 *local_24;
    __useconds_t local_20;
    int local_1c;
    int local_18;
    uint local_14;

    local_1c = 2;
    local_20 = 10000;
    pthread_setcanceltype(1, (int *)0x0);
    FUN_0002b968("Watchdog");
    FUN_0003c718();
    memset(auStack_38, 0, 8);
    FUN_00022308(&DAT_000898c0);
    do {
        local_14 = 0;
        while (true) {
            uVar1 = local_14;
            uVar6 = FUN_00068648(local_1c * 1000000, local_20);
            if ((uint)uVar6 <= uVar1)
                break;
            usleep(local_20);
            FUN_00036bc4();
            local_14 = local_14 + 1;
        }
        FUN_0003ca5c(0xffffffff, (int)((ulonglong)uVar6 >> 0x20), 0, 0);
        FUN_00022308(local_40);
        if ((DAT_00092024 == '\x01') ||
            (cVar2 = FUN_0002eb44(), cVar2 == '\x01')) {
            if ((DAT_00092024 != '\0') &&
                (iVar3 = FUN_0002eb44(), iVar3 != 0)) {
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (3 < DAT_0008697c)) {
                    snprintf(local_848, 0x800,
                             "Restarting execution as per start time %02d:%02d "
                             "scheduled",
                             DAT_00095204, DAT_00095200);
                    FUN_0001e4ec(4, local_848, 0);
                }
                if ((DAT_000940f8 != '\0') &&
                    (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                      (3 < DAT_0008697c)))) {
                    snprintf(local_848, 0x800,
                             "Will pause execution as scheduled at %02d:%02d",
                             DAT_00094104, DAT_00094100);
                    FUN_0001e4ec(4, local_848, 0);
                }
                DAT_00092024 = '\0';
                for (local_18 = 0; local_18 < DAT_000953f0;
                     local_18 = local_18 + 1) {
                    local_24 = (undefined4 *)FUN_0002eef8(local_18);
                    if (*(int *)(local_24[9] + 0x20) != 1) {
                        *(undefined1 *)(local_24 + 0xf) = 0;
                        if ((DAT_00087768 != '\0') &&
                            (((DAT_00091f58 != '\0' ||
                               (DAT_00087769 != '\0')) ||
                              (6 < DAT_0008697c)))) {
                            snprintf(local_848, 0x800,
                                     "Pushing sem post to thread %d",
                                     *local_24);
                            FUN_0001e4ec(7, local_848, 0);
                        }
                        FUN_0002ba68(local_24 + 4, "cgminer.c",
                                     "watchdog_thread", 0x293a);
                    }
                }
            }
        } else {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (3 < DAT_0008697c)) {
                snprintf(
                    local_848, 0x800,
                    "Pausing execution as per stop time %02d:%02d scheduled",
                    DAT_00094104, DAT_00094100);
                FUN_0001e4ec(4, local_848, 0);
            }
            if (DAT_000951f8 != '\x01') {
                builtin_strncpy(local_848, "Terminating execution as planned",
                                0x20);
                local_848[0x20] = 0;
                FUN_0001e4ec(3, local_848, 1);
                FUN_0004bfb0(0);
                return 0;
            }
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (3 < DAT_0008697c)) {
                snprintf(local_848, 0x800,
                         "Will restart execution as scheduled at %02d:%02d",
                         DAT_00095204, DAT_00095200);
                FUN_0001e4ec(4, local_848, 0);
            }
            DAT_00092024 = '\x01';
            FUN_0002e59c(&DAT_00094158, "cgminer.c", "watchdog_thread", 0x2918);
            for (local_18 = 0; local_18 < DAT_000953f0;
                 local_18 = local_18 + 1) {
                *(undefined1 *)(*(int *)(DAT_000930e8 + local_18 * 4) + 0x3c) =
                    1;
            }
            FUN_0002e704(&DAT_00094158, "cgminer.c", "watchdog_thread", 0x291f);
        }
        for (local_18 = 0; local_18 < DAT_000941a8; local_18 = local_18 + 1) {
            local_28 = FUN_0002ef94(local_18);
            local_2c = **(int **)(local_28 + 0x98);
            if (local_2c != 0) {
                (**(code **)(*(int *)(local_28 + 4) + 0x20))(local_28);
                local_30 = (int *)(local_28 + 0x20);
                uVar5 = *(undefined4 *)(local_28 + 8);
                snprintf(acStack_48, 8, "%s %d",
                         *(undefined4 *)(*(int *)(local_28 + 4) + 8), uVar5);
                if ((*(char *)(local_2c + 0x3d) == '\0') && (*local_30 != 1)) {
                    if ((*(int *)(local_28 + 0x60) == 0) ||
                        (0x77 < local_40[0] - *(int *)(local_2c + 0x2c))) {
                        if ((*(int *)(local_28 + 0x60) == 0) &&
                            (0x78 < local_40[0] - *(int *)(local_2c + 0x2c))) {
                            *(undefined4 *)(local_28 + 0x30) = 0;
                            *(undefined4 *)(local_28 + 0x34) = 0;
                            *(undefined4 *)(local_28 + 0x60) = 1;
                            if (((DAT_00091f58 != '\0') ||
                                 (DAT_00087769 != '\0')) ||
                                (2 < DAT_0008697c)) {
                                snprintf(local_848, 0x800,
                                         "%s: Idle for more than 60 seconds, "
                                         "declaring SICK!",
                                         acStack_48, uVar5);
                                FUN_0001e4ec(3, local_848, 0);
                            }
                            FUN_00022308(local_2c + 0x34);
                            FUN_0002b5b0(local_28, 3);
                            if (DAT_00086c3c != '\0') {
                                if (((DAT_00091f58 != '\0') ||
                                     (DAT_00087769 != '\0')) ||
                                    (2 < DAT_0008697c)) {
                                    snprintf(local_848, 0x800,
                                             "%s: Attempting to restart",
                                             acStack_48, uVar5);
                                    FUN_0001e4ec(3, local_848, 0);
                                }
                                FUN_00049038(local_28);
                            }
                        } else if ((*(int *)(local_28 + 0x60) == 1) &&
                                   (600 <
                                    local_40[0] - *(int *)(local_2c + 0x2c))) {
                            *(undefined4 *)(local_28 + 0x60) = 2;
                            if (((DAT_00091f58 != '\0') ||
                                 (DAT_00087769 != '\0')) ||
                                (2 < DAT_0008697c)) {
                                snprintf(local_848, 0x800,
                                         "%s: Not responded for more than 10 "
                                         "minutes, declaring DEAD!",
                                         acStack_48, uVar5);
                                FUN_0001e4ec(3, local_848, 0);
                            }
                            FUN_00022308(local_2c + 0x34);
                            FUN_0002b5b0(local_28, 4);
                        } else if ((0x3c <
                                    local_40[0] - *(int *)(local_2c + 0x34)) &&
                                   (((*(int *)(local_28 + 0x60) == 1 ||
                                      (*(int *)(local_28 + 0x60) == 2)) &&
                                     (FUN_00022308(local_2c + 0x34),
                                      DAT_00086c3c != '\0')))) {
                            FUN_00049038(local_28);
                        }
                    } else {
                        if ((*(int *)(local_28 + 0x60) != 4) &&
                            (((DAT_00091f58 != '\0' ||
                               (DAT_00087769 != '\0')) ||
                              (2 < DAT_0008697c)))) {
                            snprintf(local_848, 0x800,
                                     "%s: Recovered, declaring WELL!",
                                     acStack_48, uVar5);
                            FUN_0001e4ec(3, local_848, 0);
                        }
                        *(undefined4 *)(local_28 + 0x60) = 0;
                        tVar4 = time((time_t *)0x0);
                        *(time_t *)(local_28 + 0xf0) = tVar4;
                    }
                }
            }
        }
    } while (true);
}

void FUN_0004a528(undefined4 param_1)

{
    char acStack_908[2048];
    undefined1 auStack_108[256];

    FUN_000325f4(auStack_108, 0xff, param_1);
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        snprintf(acStack_908, 0x800, "%s", auStack_108);
        FUN_0001e4ec(4, acStack_908, 0);
    }
    return;
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */

void FUN_0004a5c8(void)

{
    uint *puVar1;
    undefined4 uVar2;
    undefined1 *puVar3;
    undefined8 uVar4;
    double dVar5;
    double dVar6;
    ulonglong uVar7;
    undefined8 uVar8;
    undefined4 local_848;
    char acStack_844[28];
    ushort local_828;
    undefined1 local_826;
    int local_48;
    int local_44;
    int local_40;
    int local_3c;
    undefined8 local_38;
    undefined8 local_30;
    undefined8 local_28;
    int local_20;
    int local_1c;
    int local_18;
    int local_14;

    local_48 = DAT_00088070 - DAT_00088068;
    local_44 = DAT_00088074 - DAT_0008806c;
    if (local_44 < 0) {
        local_48 = local_48 + -1;
        local_44 = local_44 + 1000000;
    }
    local_18 = local_48 / 0xe10;
    local_1c = (local_48 % 0xe10) / 0x3c;
    local_20 = local_48 % 0x3c;
    dVar6 = (double)FUN_00068e84((uint)DAT_000920b8, DAT_000920b8._4_4_);
    local_28 = (dVar6 / _DAT_00087478) * 60.0;
    dVar6 = (double)FUN_00068e84((undefined4)DAT_00091f90, DAT_00091f90._4_4_);
    local_30 = (dVar6 / _DAT_00087478) * 60.0;
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        local_848._0_1_ = '\n';
        local_848._1_1_ = 'S';
        local_848._2_1_ = 'u';
        local_848._3_1_ = 'm';
        builtin_strncpy(acStack_844, "mary of runtime statistics:\n", 0x1c);
        local_828 = local_828 & 0xff00;
        FUN_0001e4ec(4, &local_848, 0);
    }
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        snprintf((char *)&local_848, 0x800, "Started at %s", &DAT_000880d8);
        FUN_0001e4ec(4, &local_848, 0);
    }
    if ((DAT_00092028 == 1) &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (3 < DAT_0008697c)))) {
        snprintf((char *)&local_848, 0x800, "Pool: %s",
                 *(undefined4 *)(*DAT_000920cc + 0xa4));
        FUN_0001e4ec(4, &local_848, 0);
    }
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        snprintf((char *)&local_848, 0x800,
                 "Runtime: %d hrs : %d mins : %d secs", local_18, local_1c,
                 local_20);
        FUN_0001e4ec(4, &local_848, 0);
    }
    dVar6 = _DAT_00091f50 / _DAT_00087478;
    local_38 = dVar6;
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        local_38._4_4_ = (undefined4)((ulonglong)dVar6 >> 0x20);
        uVar2 = local_38._4_4_;
        snprintf((char *)&local_848, 0x800, "Average hashrate: %.1f Mhash/s",
                 &local_848, SUB84(dVar6, 0), uVar2);
        FUN_0001e4ec(4, &local_848, 0);
    }
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        snprintf((char *)&local_848, 0x800, "Solved blocks: %d", DAT_0009523c);
        FUN_0001e4ec(4, &local_848, 0);
    }
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        snprintf((char *)&local_848, 0x800, "Best share difficulty: %s",
                 &DAT_00086c70);
        FUN_0001e4ec(4, &local_848, 0);
    }
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        snprintf((char *)&local_848, 0x800, "Share submissions: %lld",
                 &local_848, (uint)DAT_000920b8 + (uint)DAT_00094180,
                 DAT_000920b8._4_4_ + DAT_00094180._4_4_ +
                     (uint)CARRY4((uint)DAT_000920b8, (uint)DAT_00094180));
        FUN_0001e4ec(4, &local_848, 0);
    }
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        snprintf((char *)&local_848, 0x800, "Accepted shares: %lld", &local_848,
                 (uint)DAT_000920b8, DAT_000920b8._4_4_);
        FUN_0001e4ec(4, &local_848, 0);
    }
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        snprintf((char *)&local_848, 0x800, "Rejected shares: %lld", &local_848,
                 (uint)DAT_00094180, DAT_00094180._4_4_);
        FUN_0001e4ec(4, &local_848, 0);
    }
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        snprintf((char *)&local_848, 0x800, "Accepted difficulty shares: %1.f",
                 &local_848, _DAT_000940f0, DAT_000940f4);
        FUN_0001e4ec(4, &local_848, 0);
    }
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        snprintf((char *)&local_848, 0x800, "Rejected difficulty shares: %1.f",
                 &local_848, _DAT_00094178, DAT_0009417c);
        FUN_0001e4ec(4, &local_848, 0);
    }
    if ((((uint)DAT_000920b8 != 0 || DAT_000920b8._4_4_ != 0) ||
         ((uint)DAT_00094180 != 0 || DAT_00094180._4_4_ != 0)) &&
        ((DAT_00091f58 != '\0' ||
          ((DAT_00087769 != '\0' || (3 < DAT_0008697c)))))) {
        uVar7 = VectorAdd(CONCAT44(DAT_00094180._4_4_, (uint)DAT_00094180),
                          CONCAT44(DAT_00094180._4_4_, (uint)DAT_00094180), 8);
        uVar4 = VectorAdd((uVar7 & 0xffffffff00000000) + (uVar7 & 0xffffffff),
                          CONCAT44(DAT_00094180._4_4_, (uint)DAT_00094180), 8);
        uVar8 = VectorShiftLeft(uVar4, 5, 0x40, 0);
        uVar4 = VectorAdd(uVar4, uVar8, 8);
        dVar6 = (double)FUN_00068e84(
            (uint)uVar4 + (uint)DAT_00094180,
            (int)((ulonglong)uVar4 >> 0x20) + DAT_00094180._4_4_ +
                (uint)CARRY4((uint)uVar4, (uint)DAT_00094180));
        dVar5 = (double)FUN_00068e84(
            (uint)DAT_00094180 + (uint)DAT_000920b8,
            DAT_00094180._4_4_ + DAT_000920b8._4_4_ +
                (uint)CARRY4((uint)DAT_00094180, (uint)DAT_000920b8));
        snprintf((char *)&local_848, 0x800, "Reject ratio: %.1f%%", &local_848,
                 dVar6 / dVar5);
        FUN_0001e4ec(4, &local_848, 0);
    }
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        snprintf((char *)&local_848, 0x800, "Hardware errors: %d",
                 DAT_00095228);
        FUN_0001e4ec(4, &local_848, 0);
    }
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        snprintf((char *)&local_848, 0x800,
                 "Utility (accepted shares / min): %.2f/min", &local_848,
                 SUB84(local_28, 0), local_28._4_4_);
        FUN_0001e4ec(4, &local_848, 0);
    }
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        snprintf((char *)&local_848, 0x800,
                 "Work Utility (diff1 shares solved / min): %.2f/min\n",
                 &local_848, SUB84(local_30, 0), local_30._4_4_);
        FUN_0001e4ec(4, &local_848, 0);
    }
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        snprintf((char *)&local_848, 0x800,
                 "Stale submissions discarded due to new blocks: %lld",
                 &local_848, DAT_00095490, DAT_00095494);
        FUN_0001e4ec(4, &local_848, 0);
    }
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        snprintf((char *)&local_848, 0x800,
                 "Unable to get work from server occasions: %d", DAT_000920d0);
        FUN_0001e4ec(4, &local_848, 0);
    }
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        snprintf((char *)&local_848, 0x800, "Work items generated locally: %d",
                 DAT_000920dc);
        FUN_0001e4ec(4, &local_848, 0);
    }
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        snprintf((char *)&local_848, 0x800,
                 "Submitting work remotely delay occasions: %d", DAT_00091f74);
        FUN_0001e4ec(4, &local_848, 0);
    }
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        snprintf((char *)&local_848, 0x800,
                 "New blocks detected on network: %d\n", DAT_000953a0);
        FUN_0001e4ec(4, &local_848, 0);
    }
    if (1 < DAT_00092028) {
        for (local_14 = 0; local_14 < DAT_00092028; local_14 = local_14 + 1) {
            local_3c = DAT_000920cc[local_14];
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (3 < DAT_0008697c)) {
                snprintf((char *)&local_848, 0x800, "Pool: %s",
                         *(undefined4 *)(local_3c + 0xa4));
                FUN_0001e4ec(4, &local_848, 0);
            }
            if ((*(int *)(local_3c + 0x20) != 0) &&
                (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                  (3 < DAT_0008697c)))) {
                if (*(int *)(local_3c + 0x20) < 2) {
                    puVar3 = &DAT_0006f818;
                } else {
                    puVar3 = &DAT_00072ff4;
                }
                snprintf((char *)&local_848, 0x800, "SOLVED %d BLOCK%s!",
                         *(undefined4 *)(local_3c + 0x20), puVar3);
                FUN_0001e4ec(4, &local_848, 0);
            }
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (3 < DAT_0008697c)) {
                snprintf((char *)&local_848, 0x800, " Share submissions: %lld",
                         &local_848,
                         *(int *)(local_3c + 8) + *(int *)(local_3c + 0x10));
                FUN_0001e4ec(4, &local_848, 0);
            }
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (3 < DAT_0008697c)) {
                snprintf((char *)&local_848, 0x800, " Accepted shares: %lld",
                         &local_848, *(undefined4 *)(local_3c + 8));
                FUN_0001e4ec(4, &local_848, 0);
            }
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (3 < DAT_0008697c)) {
                snprintf((char *)&local_848, 0x800, " Rejected shares: %lld",
                         &local_848, *(undefined4 *)(local_3c + 0x10));
                FUN_0001e4ec(4, &local_848, 0);
            }
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (3 < DAT_0008697c)) {
                snprintf((char *)&local_848, 0x800,
                         " Accepted difficulty shares: %1.f", &local_848,
                         *(undefined4 *)(local_3c + 0x48));
                FUN_0001e4ec(4, &local_848, 0);
            }
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (3 < DAT_0008697c)) {
                snprintf((char *)&local_848, 0x800,
                         " Rejected difficulty shares: %1.f", &local_848,
                         *(undefined4 *)(local_3c + 0x50));
                FUN_0001e4ec(4, &local_848, 0);
            }
            if (((*(int *)(local_3c + 8) != 0 ||
                  *(int *)(local_3c + 0xc) != 0) ||
                 (*(int *)(local_3c + 0x10) != 0 ||
                  *(int *)(local_3c + 0x14) != 0)) &&
                ((DAT_00091f58 != '\0' ||
                  ((DAT_00087769 != '\0' || (3 < DAT_0008697c)))))) {
                puVar1 = (uint *)(local_3c + 0x10);
                uVar7 =
                    VectorAdd(*(undefined8 *)puVar1, *(undefined8 *)puVar1, 8);
                uVar4 = VectorAdd((uVar7 & 0xffffffff00000000) +
                                      (uVar7 & 0xffffffff),
                                  *(undefined8 *)puVar1, 8);
                uVar8 = VectorShiftLeft(uVar4, 5, 0x40, 0);
                uVar4 = VectorAdd(uVar4, uVar8, 8);
                dVar6 = (double)FUN_00068e84(
                    (uint)uVar4 + *puVar1,
                    (int)((ulonglong)uVar4 >> 0x20) +
                        *(int *)(local_3c + 0x14) +
                        (uint)CARRY4((uint)uVar4, *puVar1));
                dVar5 = (double)FUN_00068e84(
                    *(uint *)(local_3c + 0x10) + *(uint *)(local_3c + 8),
                    *(int *)(local_3c + 0x14) + *(int *)(local_3c + 0xc) +
                        (uint)CARRY4(*(uint *)(local_3c + 0x10),
                                     *(uint *)(local_3c + 8)));
                snprintf((char *)&local_848, 0x800, " Reject ratio: %.1f%%",
                         &local_848, dVar6 / dVar5);
                FUN_0001e4ec(4, &local_848, 0);
            }
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (3 < DAT_0008697c)) {
                snprintf((char *)&local_848, 0x800, " Items worked on: %d",
                         *(undefined4 *)(local_3c + 0x44));
                FUN_0001e4ec(4, &local_848, 0);
            }
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (3 < DAT_0008697c)) {
                snprintf((char *)&local_848, 0x800,
                         " Stale submissions discarded due to new blocks: %d",
                         *(undefined4 *)(local_3c + 0x78));
                FUN_0001e4ec(4, &local_848, 0);
            }
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (3 < DAT_0008697c)) {
                snprintf((char *)&local_848, 0x800,
                         " Unable to get work from server occasions: %d",
                         *(undefined4 *)(local_3c + 0x80));
                FUN_0001e4ec(4, &local_848, 0);
            }
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (3 < DAT_0008697c)) {
                snprintf((char *)&local_848, 0x800,
                         " Submitting work remotely delay occasions: %d\n",
                         *(undefined4 *)(local_3c + 0x84));
                FUN_0001e4ec(4, &local_848, 0);
            }
        }
    }
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        local_848._0_1_ = 'S';
        local_848._1_1_ = 'u';
        local_848._2_1_ = 'm';
        local_848._3_1_ = 'm';
        builtin_strncpy(acStack_844, "ary of per device statistics", 0x1c);
        local_828 = 0xa3a;
        local_826 = 0;
        FUN_0001e4ec(4, &local_848, 0);
    }
    for (local_14 = 0; local_14 < DAT_000941a8; local_14 = local_14 + 1) {
        local_40 = FUN_0002ef94(local_14);
        *(undefined1 **)(*(int *)(local_40 + 4) + 0x14) = &LAB_0004c5c8;
        *(undefined1 **)(*(int *)(local_40 + 4) + 0x18) = &LAB_0004c5ec;
        FUN_0004a528(local_40);
    }
    if (DAT_00087fbc != 0) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (3 < DAT_0008697c)) {
            snprintf((char *)&local_848, 0x800,
                     "Mined %.0f accepted shares of %d requested\n", &local_848,
                     _DAT_000940f0, DAT_000940f4, DAT_00087fbc);
            FUN_0001e4ec(4, &local_848, 0);
        }
        if (((double)CONCAT44(DAT_000940f4, _DAT_000940f0) <
             (double)(longlong)DAT_00087fbc) &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (3 < DAT_0008697c)))) {
            snprintf((char *)&local_848, 0x800,
                     "WARNING - Mined only %.0f shares of %d requested.",
                     &local_848, _DAT_000940f0, DAT_000940f4, DAT_00087fbc);
            FUN_0001e4ec(4, &local_848, 0);
        }
    }
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        local_848._0_2_ = 0x20;
        FUN_0001e4ec(4, &local_848, 0);
    }
    fflush(stderr);
    fflush(stdout);
    return;
}

void FUN_0004bd7c(char param_1)

{
    int iVar1;
    int *piVar2;
    char *pcVar3;
    char acStack_850[2048];
    sysinfo local_50;

    iVar1 = sysinfo(&local_50);
    if (iVar1 == 0) {
        DAT_0009539c = local_50.uptime;
    } else {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (5 < DAT_0008697c)) {
            piVar2 = __errno_location();
            iVar1 = *piVar2;
            piVar2 = __errno_location();
            pcVar3 = strerror(*piVar2);
            snprintf(acStack_850, 0x800,
                     "Failed to get sysinfo, errno:%u, reason:%s\n", iVar1,
                     pcVar3);
            FUN_0001e4ec(6, acStack_850, 0);
        }
        DAT_0009539c = time((time_t *)0x0);
    }
    FUN_00022308(&DAT_00088070);
    if (((param_1 != '\x01') && (DAT_00095398 != '\x01')) &&
        (DAT_00087894 != '\0')) {
        FUN_0004a5c8();
    }
    return;
}

void FUN_0004becc(void)

{
    pthread_t __th;

    __th = pthread_self();
    pthread_detach(__th);
    pthread_setcanceltype(1, (int *)0x0);
    sleep(7);
    /* WARNING: Subroutine does not return */
    exit(1);
}

void FUN_0004bf08(int param_1, char param_2)

{
    int iVar1;
    pthread_t local_c;

    iVar1 = pthread_create(&local_c, (pthread_attr_t *)0x0, FUN_0004becc,
                           (void *)0x0);
    if (iVar1 != 0) {
        /* WARNING: Subroutine does not return */
        exit(1);
    }
    if (param_2 != '\0') {
        FUN_0004bd7c(0);
    }
    if (0 < DAT_00088144) {
        kill(DAT_00088144, 0xf);
        DAT_00088144 = 0;
    }
    pthread_cancel(local_c);
    /* WARNING: Subroutine does not return */
    exit(param_1);
}

void FUN_0004bfb0(undefined4 param_1)

{
    FUN_0004bf08(param_1, 1);
    return;
}

undefined4 FUN_0004bfd4(int *param_1)

{
    pthread_t __th;
    int iVar1;
    char acStack_810[2048];
    int *local_10;
    char local_9;

    local_10 = param_1;
    if (*(char *)((int)param_1 + 0x6b) != '\x01') {
        __th = pthread_self();
        pthread_detach(__th);
    }
    while (true) {
        if (*(char *)((int)local_10 + 0x69) != '\0') {
            return 0;
        }
        iVar1 = FUN_00041c38(local_10, 0);
        if (iVar1 != 0)
            break;
        FUN_00035934(local_10);
        if (*(char *)((int)local_10 + 0x6b) == '\x01')
            goto LAB_0004c1cc;
        sleep(0x1e);
    }
    FUN_0002f908(local_10, (int)local_10 + 0x61);
    local_9 = '\0';
    FUN_0002e980(&DAT_00095310, "cgminer.c", "test_pool_thread", 0x2a72);
    if (DAT_000898c8 != '\x01') {
        DAT_00088090 = local_10;
        if (*local_10 != 0) {
            local_9 = '\x01';
        }
        DAT_000898c8 = '\x01';
    }
    FUN_0002ea74(&DAT_00095310, "cgminer.c", "test_pool_thread", 0x2a80);
    if ((local_9 != '\0') &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (4 < DAT_0008697c)))) {
        snprintf(acStack_810, 0x800,
                 "Switching to pool %d %s - first alive pool", *local_10,
                 local_10[0x29]);
        FUN_0001e4ec(5, acStack_810, 0);
    }
    FUN_00042c34(local_10);
    FUN_000364ac(0);
LAB_0004c1cc:
    *(undefined1 *)(local_10 + 0x47) = 0;
    return 0;
}

undefined1 FUN_0004c1e8(void *param_1, char param_2, undefined4 param_3,
                        undefined4 param_4, undefined4 param_5)

{
    undefined4 uVar1;
    size_t sVar2;
    size_t sVar3;
    undefined1 uVar4;

    uVar1 = FUN_000204f0(param_3, param_1);
    *(undefined4 *)((int)param_1 + 0xa4) = uVar1;
    *(undefined4 *)((int)param_1 + 0xac) = param_4;
    *(undefined4 *)((int)param_1 + 0xb0) = param_5;
    sVar2 = strlen(*(char **)((int)param_1 + 0xac));
    sVar3 = strlen(*(char **)((int)param_1 + 0xb0));
    sVar2 = sVar2 + sVar3 + 2;
    uVar1 = FUN_00020210(sVar2, "cgminer.c", "add_pool_details", 0x2aa6);
    *(undefined4 *)((int)param_1 + 0xa8) = uVar1;
    snprintf(*(char **)((int)param_1 + 0xa8), sVar2, "%s:%s",
             *(undefined4 *)((int)param_1 + 0xac),
             *(undefined4 *)((int)param_1 + 0xb0));
    *(undefined1 *)((int)param_1 + 0x11c) = 1;
    *(undefined1 *)((int)param_1 + 0x61) = 1;
    *(bool *)((int)param_1 + 0x6b) = param_2 == '\0';
    FUN_000328b4(param_1);
    pthread_create((pthread_t *)((int)param_1 + 0x118), (pthread_attr_t *)0x0,
                   FUN_0004bfd4, param_1);
    if (param_2 == '\x01') {
        uVar4 = 1;
    } else {
        pthread_join(*(pthread_t *)((int)param_1 + 0x118), (void **)0x0);
        uVar4 = DAT_000898c8;
    }
    return uVar4;
}

void FUN_0004c378(void)

{
    int local_1c;
    int local_18;
    __sighandler_t local_14;
    __sighandler_t local_10;
    int local_c;

    local_c = pipe(&local_1c);
    if (local_c < 0) {
        perror("pipe - failed to create pipe for --monitor");
        /* WARNING: Subroutine does not return */
        exit(1);
    }
    fflush(stderr);
    local_c = dup2(local_18, 2);
    if (local_c < 0) {
        perror(
            "dup2 - failed to alias stderr to write end of pipe for --monitor");
        /* WARNING: Subroutine does not return */
        exit(1);
    }
    local_c = close(local_18);
    if (local_c < 0) {
        perror("close - failed to close write end of pipe for --monitor");
        /* WARNING: Subroutine does not return */
        exit(1);
    }
    local_10 = signal(0xd, (__sighandler_t)0x1);
    local_14 = signal(0xd, (__sighandler_t)0x1);
    if ((local_10 == (__sighandler_t)0xffffffff) ||
        (local_14 == (__sighandler_t)0xffffffff)) {
        perror("signal - failed to edit signal mask for --monitor");
        /* WARNING: Subroutine does not return */
        exit(1);
    }
    DAT_00088144 = fork();
    if (DAT_00088144 < 0) {
        perror("fork - failed to fork child process for --monitor");
        /* WARNING: Subroutine does not return */
        exit(1);
    }
    if (DAT_00088144 != 0) {
        local_c = close(local_1c);
        if (local_c < 0) {
            perror("close - failed to close read end of pipe for --monitor");
            /* WARNING: Subroutine does not return */
            exit(1);
        }
        return;
    }
    local_c = dup2(local_1c, 0);
    if (local_c < 0) {
        perror("dup2 - in child, failed to alias read end of pipe to stdin for "
               "--monitor");
        /* WARNING: Subroutine does not return */
        exit(1);
    }
    close(local_1c);
    if (local_c < 0) {
        perror("close - in child, failed to close read end of  pipe for "
               "--monitor");
        /* WARNING: Subroutine does not return */
        exit(1);
    }
    execl("/bin/bash", "/bin/bash", &DAT_000733bc, DAT_00088140, 0);
    perror(
        "execl - in child failed to exec user specified command for --monitor");
    /* WARNING: Subroutine does not return */
    exit(1);
}

void FUN_0004c7cc(int param_1)

{
    if (*(int *)(param_1 + 0xc) == 0) {
        *(undefined1 **)(param_1 + 0xc) = &LAB_0004c724;
    }
    if (*(int *)(param_1 + 0x10) == 0) {
        *(undefined1 **)(param_1 + 0x10) = &LAB_0004c5ac;
    }
    if (*(int *)(param_1 + 0x14) == 0) {
        *(undefined1 **)(param_1 + 0x14) = &LAB_0004c5c8;
    }
    if (*(int *)(param_1 + 0x18) == 0) {
        *(undefined1 **)(param_1 + 0x18) = &LAB_0004c5ec;
    }
    if (*(int *)(param_1 + 0x20) == 0) {
        *(undefined1 **)(param_1 + 0x20) = &LAB_0004c610;
    }
    if (*(int *)(param_1 + 0x2c) == 0) {
        *(undefined1 **)(param_1 + 0x2c) = &LAB_0004c634;
    }
    if (*(int *)(param_1 + 0x34) == 0) {
        *(undefined1 **)(param_1 + 0x34) = &LAB_0004c684;
    }
    if (*(int *)(param_1 + 0x38) == 0) {
        *(undefined1 **)(param_1 + 0x38) = &LAB_0004c6a8;
    }
    if (*(int *)(param_1 + 0x54) == 0) {
        *(undefined1 **)(param_1 + 0x54) = &LAB_0004c6d0;
    }
    if (*(int *)(param_1 + 0x58) == 0) {
        *(undefined1 **)(param_1 + 0x58) = &LAB_0004c6ec;
    }
    if (*(int *)(param_1 + 0x5c) == 0) {
        *(undefined1 **)(param_1 + 0x5c) = &LAB_0004c708;
    }
    if (*(int *)(param_1 + 0x3c) == 0) {
        *(code **)(param_1 + 0x3c) = FUN_000462c8;
    }
    if (*(int *)(param_1 + 0x4c) == 0) {
        *(undefined1 **)(param_1 + 0x4c) = &LAB_0004c5ac;
    }
    if (*(int *)(param_1 + 0x50) == 0) {
        *(undefined1 **)(param_1 + 0x50) = &LAB_0004c5ac;
    }
    if (*(int *)(param_1 + 0x48) == 0) {
        *(undefined1 **)(param_1 + 0x48) = &LAB_0004c610;
    }
    if (*(int *)(param_1 + 0x60) == 0) {
        *(undefined1 **)(param_1 + 0x60) = &LAB_0004c784;
    }
    if (*(double *)(param_1 + 0x68) == 0.0) {
        *(undefined4 *)(param_1 + 0x68) = 0;
        *(undefined4 *)(param_1 + 0x6c) = 0x3ff00000;
    }
    return;
}

void FUN_0004cba0(int *param_1)

{
    int iVar1;
    int iVar2;

    param_1[8] = 0;
    FUN_0002e4cc(&DAT_00094188, "cgminer.c", "enable_device", 0x2c40);
    iVar1 = DAT_00094130;
    iVar2 = DAT_000898cc + 1;
    *param_1 = DAT_000898cc;
    DAT_000898cc = iVar2;
    *(int **)(iVar1 + *param_1 * 4) = param_1;
    FUN_0002e74c(&DAT_00094188, "cgminer.c", "enable_device", 0x2c42);
    if (DAT_000941d8 == '\0') {
        DAT_000953f0 = param_1[0x25] + DAT_000953f0;
    } else {
        DAT_00087fe0 = param_1[0x25] + DAT_00087fe0;
    }
    FUN_0002e830(param_1 + 0x50, "cgminer.c", "enable_device", 0x2c4d);
    param_1[0x58] = 0;
    return;
}

void FUN_0004ccd8(void)

{
    if (DAT_00087fb4 < DAT_000941a8 - DAT_00095234) {
        DAT_00087fb4 = DAT_000941a8 - DAT_00095234;
    }
    return;
}

undefined4 FUN_0004cd44(int param_1)

{
    size_t sVar1;
    byte *__s;
    void *pvVar2;
    int iVar3;
    time_t tVar4;
    uint uVar5;
    uint uVar6;
    uint uVar7;
    int *piVar8;
    int iVar9;
    size_t sVar10;
    undefined4 *puVar11;
    void *__s2;
    int local_44;
    uint local_40;
    byte *local_3c;
    uint local_38;
    uint local_34;
    uint local_30;
    uint local_2c;
    byte *local_28;
    uint local_24;
    uint local_20;
    uint local_1c;
    uint local_18;
    int local_14;

    local_28 = *(byte **)(*(int *)(param_1 + 4) + 8);
    local_18 = 0xfeedbeef;
    local_20 = 0x9e3779b9;
    local_1c = 0x9e3779b9;
    for (local_24 = strlen(*(char **)(*(int *)(param_1 + 4) + 8));
         0xb < local_24; local_24 = local_24 - 0xc) {
        iVar9 = local_20 + (uint)local_28[4] + (uint)local_28[5] * 0x100 +
                (uint)local_28[6] * 0x10000 + (uint)local_28[7] * 0x1000000;
        local_18 = local_18 + (uint)local_28[8] + (uint)local_28[9] * 0x100 +
                   (uint)local_28[10] * 0x10000 +
                   (uint)local_28[0xb] * 0x1000000;
        uVar5 = local_18 >> 0xd ^
                ((local_1c + (uint)*local_28 + (uint)local_28[1] * 0x100 +
                  (uint)local_28[2] * 0x10000 + (uint)local_28[3] * 0x1000000) -
                 iVar9) -
                    local_18;
        uVar6 = uVar5 << 8 ^ (iVar9 - local_18) - uVar5;
        uVar7 = uVar6 >> 0xd ^ (local_18 - uVar5) - uVar6;
        uVar5 = uVar7 >> 0xc ^ (uVar5 - uVar6) - uVar7;
        uVar6 = uVar5 << 0x10 ^ (uVar6 - uVar7) - uVar5;
        uVar7 = uVar6 >> 5 ^ (uVar7 - uVar5) - uVar6;
        local_1c = uVar7 >> 3 ^ (uVar5 - uVar6) - uVar7;
        local_20 = local_1c << 10 ^ (uVar6 - uVar7) - local_1c;
        local_18 = local_20 >> 0xf ^ (uVar7 - local_1c) - local_20;
        local_28 = local_28 + 0xc;
    }
    sVar1 = strlen(*(char **)(*(int *)(param_1 + 4) + 8));
    local_18 = local_18 + sVar1;
    switch (local_24) {
    case 0xb:
        local_18 = local_18 + (uint)local_28[10] * 0x1000000;
    case 10:
        local_18 = local_18 + (uint)local_28[9] * 0x10000;
    case 9:
        local_18 = local_18 + (uint)local_28[8] * 0x100;
    case 8:
        local_20 = local_20 + (uint)local_28[7] * 0x1000000;
    case 7:
        local_20 = local_20 + (uint)local_28[6] * 0x10000;
    case 6:
        local_20 = local_20 + (uint)local_28[5] * 0x100;
    case 5:
        local_20 = local_20 + local_28[4];
    case 4:
        local_1c = local_1c + (uint)local_28[3] * 0x1000000;
    case 3:
        local_1c = local_1c + (uint)local_28[2] * 0x10000;
    case 2:
        local_1c = local_1c + (uint)local_28[1] * 0x100;
    case 1:
        local_1c = local_1c + *local_28;
    }
    uVar5 = local_18 >> 0xd ^ (local_1c - local_20) - local_18;
    uVar6 = uVar5 << 8 ^ (local_20 - local_18) - uVar5;
    uVar7 = uVar6 >> 0xd ^ (local_18 - uVar5) - uVar6;
    uVar5 = uVar7 >> 0xc ^ (uVar5 - uVar6) - uVar7;
    uVar6 = uVar5 << 0x10 ^ (uVar6 - uVar7) - uVar5;
    uVar7 = uVar6 >> 5 ^ (uVar7 - uVar5) - uVar6;
    uVar5 = uVar7 >> 3 ^ (uVar5 - uVar6) - uVar7;
    uVar6 = uVar5 << 10 ^ (uVar6 - uVar7) - uVar5;
    uVar5 = uVar6 >> 0xf ^ (uVar7 - uVar5) - uVar6;
    local_14 = 0;
    if (DAT_00089998 != (byte *)0x0) {
        uVar6 = uVar5 & *(int *)(*(int *)(DAT_00089998 + 8) + 4) - 1U;
        if (*(int *)(**(int **)(DAT_00089998 + 8) + uVar6 * 0xc) == 0) {
            local_14 = 0;
        } else {
            local_14 = *(int *)(**(int **)(DAT_00089998 + 8) + uVar6 * 0xc) -
                       *(int *)(*(int *)(DAT_00089998 + 8) + 0x14);
        }
        while (local_14 != 0) {
            if ((*(uint *)(local_14 + 0x24) == uVar5) &&
                (sVar10 = *(size_t *)(local_14 + 0x20),
                 sVar1 = strlen(*(char **)(*(int *)(param_1 + 4) + 8)),
                 sVar10 == sVar1)) {
                pvVar2 = *(void **)(local_14 + 0x1c);
                __s2 = *(void **)(*(int *)(param_1 + 4) + 8);
                sVar1 = strlen(*(char **)(*(int *)(param_1 + 4) + 8));
                iVar9 = memcmp(pvVar2, __s2, sVar1);
                if (iVar9 == 0)
                    break;
            }
            if (*(int *)(local_14 + 0x18) == 0) {
                local_14 = 0;
            } else {
                local_14 = *(int *)(local_14 + 0x18) -
                           *(int *)(*(int *)(DAT_00089998 + 8) + 0x14);
            }
        }
    }
    if (local_14 == 0) {
        __s = (byte *)FUN_00020210(0x28, "cgminer.c", "add_cgpu", 0x2c6f);
        FUN_0002befc(__s, *(undefined4 *)(*(int *)(param_1 + 4) + 8), 4,
                     "cgminer.c", "add_cgpu", 0x2c70);
        __s[4] = 0;
        __s[5] = 0;
        __s[6] = 0;
        __s[7] = 0;
        *(undefined4 *)(param_1 + 8) = *(undefined4 *)(__s + 4);
        local_2c = 0xfeedbeef;
        local_34 = 0x9e3779b9;
        local_30 = 0x9e3779b9;
        local_38 = strlen((char *)__s);
        local_3c = __s;
        for (; 0xb < local_38; local_38 = local_38 - 0xc) {
            iVar9 = local_34 + (uint)local_3c[4] + (uint)local_3c[5] * 0x100 +
                    (uint)local_3c[6] * 0x10000 + (uint)local_3c[7] * 0x1000000;
            local_2c =
                local_2c + (uint)local_3c[8] + (uint)local_3c[9] * 0x100 +
                (uint)local_3c[10] * 0x10000 + (uint)local_3c[0xb] * 0x1000000;
            uVar5 =
                local_2c >> 0xd ^
                ((local_30 + (uint)*local_3c + (uint)local_3c[1] * 0x100 +
                  (uint)local_3c[2] * 0x10000 + (uint)local_3c[3] * 0x1000000) -
                 iVar9) -
                    local_2c;
            uVar6 = uVar5 << 8 ^ (iVar9 - local_2c) - uVar5;
            uVar7 = uVar6 >> 0xd ^ (local_2c - uVar5) - uVar6;
            uVar5 = uVar7 >> 0xc ^ (uVar5 - uVar6) - uVar7;
            uVar6 = uVar5 << 0x10 ^ (uVar6 - uVar7) - uVar5;
            uVar7 = uVar6 >> 5 ^ (uVar7 - uVar5) - uVar6;
            local_30 = uVar7 >> 3 ^ (uVar5 - uVar6) - uVar7;
            local_34 = local_30 << 10 ^ (uVar6 - uVar7) - local_30;
            local_2c = local_34 >> 0xf ^ (uVar7 - local_30) - local_34;
            local_3c = local_3c + 0xc;
        }
        sVar1 = strlen((char *)__s);
        local_2c = local_2c + sVar1;
        switch (local_38) {
        case 0xb:
            local_2c = local_2c + (uint)local_3c[10] * 0x1000000;
        case 10:
            local_2c = local_2c + (uint)local_3c[9] * 0x10000;
        case 9:
            local_2c = local_2c + (uint)local_3c[8] * 0x100;
        case 8:
            local_34 = local_34 + (uint)local_3c[7] * 0x1000000;
        case 7:
            local_34 = local_34 + (uint)local_3c[6] * 0x10000;
        case 6:
            local_34 = local_34 + (uint)local_3c[5] * 0x100;
        case 5:
            local_34 = local_34 + local_3c[4];
        case 4:
            local_30 = local_30 + (uint)local_3c[3] * 0x1000000;
        case 3:
            local_30 = local_30 + (uint)local_3c[2] * 0x10000;
        case 2:
            local_30 = local_30 + (uint)local_3c[1] * 0x100;
        case 1:
            local_30 = local_30 + *local_3c;
        }
        uVar5 = local_2c >> 0xd ^ (local_30 - local_34) - local_2c;
        uVar6 = uVar5 << 8 ^ (local_34 - local_2c) - uVar5;
        uVar7 = uVar6 >> 0xd ^ (local_2c - uVar5) - uVar6;
        uVar5 = uVar7 >> 0xc ^ (uVar5 - uVar6) - uVar7;
        uVar6 = uVar5 << 0x10 ^ (uVar6 - uVar7) - uVar5;
        uVar7 = uVar6 >> 5 ^ (uVar7 - uVar5) - uVar6;
        uVar5 = uVar7 >> 3 ^ (uVar5 - uVar6) - uVar7;
        uVar6 = uVar5 << 10 ^ (uVar6 - uVar7) - uVar5;
        uVar5 = uVar6 >> 0xf ^ (uVar7 - uVar5) - uVar6;
        *(uint *)(__s + 0x24) = uVar5;
        *(byte **)(__s + 0x1c) = __s;
        sVar1 = strlen((char *)__s);
        *(size_t *)(__s + 0x20) = sVar1;
        if (DAT_00089998 == (byte *)0x0) {
            __s[0x10] = 0;
            __s[0x11] = 0;
            __s[0x12] = 0;
            __s[0x13] = 0;
            __s[0xc] = 0;
            __s[0xd] = 0;
            __s[0xe] = 0;
            __s[0xf] = 0;
            DAT_00089998 = __s;
            pvVar2 = malloc(0x2c);
            *(void **)(__s + 8) = pvVar2;
            if (*(int *)(DAT_00089998 + 8) == 0) {
                /* WARNING: Subroutine does not return */
                exit(-1);
            }
            memset(*(void **)(DAT_00089998 + 8), 0, 0x2c);
            *(byte **)(*(int *)(DAT_00089998 + 8) + 0x10) = DAT_00089998 + 8;
            *(undefined4 *)(*(int *)(DAT_00089998 + 8) + 4) = 0x20;
            *(undefined4 *)(*(int *)(DAT_00089998 + 8) + 8) = 5;
            *(undefined4 *)(*(int *)(DAT_00089998 + 8) + 0x14) = 8;
            puVar11 = *(undefined4 **)(DAT_00089998 + 8);
            pvVar2 = malloc(0x180);
            *puVar11 = pvVar2;
            if (**(int **)(DAT_00089998 + 8) == 0) {
                /* WARNING: Subroutine does not return */
                exit(-1);
            }
            memset((void *)**(undefined4 **)(DAT_00089998 + 8), 0, 0x180);
            *(undefined4 *)(*(int *)(DAT_00089998 + 8) + 0x28) = 0xa0111fe1;
        } else {
            *(undefined4 *)(__s + 8) = *(undefined4 *)(DAT_00089998 + 8);
            __s[0x10] = 0;
            __s[0x11] = 0;
            __s[0x12] = 0;
            __s[0x13] = 0;
            *(int *)(__s + 0xc) = *(int *)(*(int *)(DAT_00089998 + 8) + 0x10) -
                                  *(int *)(*(int *)(DAT_00089998 + 8) + 0x14);
            *(byte **)(*(int *)(*(int *)(DAT_00089998 + 8) + 0x10) + 8) = __s;
            *(byte **)(*(int *)(DAT_00089998 + 8) + 0x10) = __s + 8;
        }
        *(int *)(*(int *)(DAT_00089998 + 8) + 0xc) =
            *(int *)(*(int *)(DAT_00089998 + 8) + 0xc) + 1;
        uVar5 = uVar5 & *(int *)(*(int *)(DAT_00089998 + 8) + 4) - 1U;
        iVar9 = **(int **)(DAT_00089998 + 8) + uVar5 * 0xc;
        *(int *)(iVar9 + 4) = *(int *)(iVar9 + 4) + 1;
        *(undefined4 *)(__s + 0x18) =
            *(undefined4 *)(**(int **)(DAT_00089998 + 8) + uVar5 * 0xc);
        __s[0x14] = 0;
        __s[0x15] = 0;
        __s[0x16] = 0;
        __s[0x17] = 0;
        if (*(int *)(**(int **)(DAT_00089998 + 8) + uVar5 * 0xc) != 0) {
            *(byte **)(*(int *)(**(int **)(DAT_00089998 + 8) + uVar5 * 0xc) +
                       0xc) = __s + 8;
        }
        *(byte **)(**(int **)(DAT_00089998 + 8) + uVar5 * 0xc) = __s + 8;
        if (((uint)((*(int *)(**(int **)(DAT_00089998 + 8) + uVar5 * 0xc + 8) +
                     1) *
                    10) <=
             *(uint *)(**(int **)(DAT_00089998 + 8) + uVar5 * 0xc + 4)) &&
            (*(int *)(*(int *)(__s + 8) + 0x24) != 1)) {
            pvVar2 = malloc(*(int *)(*(int *)(__s + 8) + 4) * 0x18);
            if (pvVar2 == (void *)0x0) {
                /* WARNING: Subroutine does not return */
                exit(-1);
            }
            memset(pvVar2, 0, *(int *)(*(int *)(__s + 8) + 4) * 0x18);
            *(uint *)(*(int *)(__s + 8) + 0x18) =
                (*(uint *)(*(int *)(__s + 8) + 0xc) >>
                 (*(int *)(*(int *)(__s + 8) + 8) + 1U & 0xff)) +
                (uint)((*(int *)(*(int *)(__s + 8) + 4) * 2 - 1U &
                        *(uint *)(*(int *)(__s + 8) + 0xc)) != 0);
            *(undefined4 *)(*(int *)(__s + 8) + 0x1c) = 0;
            for (local_40 = 0; local_40 < *(uint *)(*(int *)(__s + 8) + 4);
                 local_40 = local_40 + 1) {
                local_44 = *(int *)(**(int **)(__s + 8) + local_40 * 0xc);
                while (local_44 != 0) {
                    iVar9 = *(int *)(local_44 + 0x10);
                    piVar8 = (int *)((int)pvVar2 +
                                     (*(int *)(*(int *)(__s + 8) + 4) * 2 - 1U &
                                      *(uint *)(local_44 + 0x1c)) *
                                         0xc);
                    piVar8[1] = piVar8[1] + 1;
                    if (*(uint *)(*(int *)(__s + 8) + 0x18) < (uint)piVar8[1]) {
                        *(int *)(*(int *)(__s + 8) + 0x1c) =
                            *(int *)(*(int *)(__s + 8) + 0x1c) + 1;
                        iVar3 = FUN_00068648(
                            piVar8[1],
                            *(undefined4 *)(*(int *)(__s + 8) + 0x18));
                        piVar8[2] = iVar3;
                    }
                    *(undefined4 *)(local_44 + 0xc) = 0;
                    *(int *)(local_44 + 0x10) = *piVar8;
                    if (*piVar8 != 0) {
                        *(int *)(*piVar8 + 0xc) = local_44;
                    }
                    *piVar8 = local_44;
                    local_44 = iVar9;
                }
            }
            free((void *)**(undefined4 **)(__s + 8));
            *(int *)(*(int *)(__s + 8) + 4) = *(int *)(*(int *)(__s + 8) + 4)
                                              << 1;
            *(int *)(*(int *)(__s + 8) + 8) =
                *(int *)(*(int *)(__s + 8) + 8) + 1;
            **(undefined4 **)(__s + 8) = pvVar2;
            if (*(uint *)(*(int *)(__s + 8) + 0xc) >> 1 <
                *(uint *)(*(int *)(__s + 8) + 0x1c)) {
                iVar9 = *(int *)(*(int *)(__s + 8) + 0x20) + 1;
            } else {
                iVar9 = 0;
            }
            *(int *)(*(int *)(__s + 8) + 0x20) = iVar9;
            if (1 < *(uint *)(*(int *)(__s + 8) + 0x20)) {
                *(undefined4 *)(*(int *)(__s + 8) + 0x24) = 1;
            }
        }
    } else {
        *(int *)(local_14 + 4) = *(int *)(local_14 + 4) + 1;
        *(undefined4 *)(param_1 + 8) = *(undefined4 *)(local_14 + 4);
    }
    FUN_0002e4cc(&DAT_00094188, "cgminer.c", "add_cgpu", 0x2c75);
    DAT_00094130 =
        FUN_000203a0(DAT_00094130, (DAT_000941a8 + DAT_00087fdc + 2) * 4,
                     "cgminer.c", "add_cgpu", 0x2c76);
    FUN_0002e74c(&DAT_00094188, "cgminer.c", "add_cgpu", 0x2c77);
    FUN_0002e354(&DAT_00091f5c, "cgminer.c", "add_cgpu", 0x2c79);
    tVar4 = time((time_t *)0x0);
    *(time_t *)(param_1 + 0xe8) = tVar4;
    FUN_0002e484(&DAT_00091f5c, "cgminer.c", "add_cgpu", 0x2c7b);
    if (DAT_000941d8 == '\0') {
        iVar9 = DAT_000941a8 * 4;
        DAT_000941a8 = DAT_000941a8 + 1;
        *(int *)(DAT_00094130 + iVar9) = param_1;
    } else {
        iVar9 = DAT_00087fdc + DAT_000941a8;
        DAT_00087fdc = DAT_00087fdc + 1;
        *(int *)(DAT_00094130 + iVar9 * 4) = param_1;
    }
    FUN_0004ccd8();
    return 1;
}

int FUN_0004e5c4(undefined4 param_1)

{
    int iVar1;

    iVar1 = FUN_00020210(0x78, "cgminer.c", "copy_drv", 0x2c93);
    FUN_0002befc(iVar1, param_1, 0x78, "cgminer.c", "copy_drv", 0x2c94);
    *(undefined1 *)(iVar1 + 100) = 1;
    return iVar1;
}

void FUN_0004e63c(void)

{
    char acStack_810[2048];
    void *local_10;
    int local_c;

    for (local_c = 0; local_c < DAT_00092028; local_c = local_c + 1) {
        local_10 = *(void **)(DAT_000920cc + local_c * 4);
        if ((*(char *)((int)local_10 + 0x11c) != '\x01') &&
            (DAT_000898c8 != '\x01')) {
            *(undefined1 *)((int)local_10 + 0x11c) = 1;
            pthread_create((pthread_t *)((int)local_10 + 0x118),
                           (pthread_attr_t *)0x0, FUN_0004bfd4, local_10);
            if ((DAT_00087768 != '\0') &&
                (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                  (6 < DAT_0008697c)))) {
                snprintf(acStack_810, 0x800,
                         "create test_pool_thread pool[%d]\n", local_c);
                FUN_0001e4ec(7, acStack_810, 0);
            }
        }
    }
    return;
}

void FUN_0004e78c(void)

{
    int iVar1;
    int *piVar2;
    char *pcVar3;
    char acStack_950[2048];
    sysinfo local_150;
    char acStack_110[260];

    iVar1 = sysinfo(&local_150);
    if (iVar1 == 0) {
        DAT_0009535c = local_150.uptime;
        DAT_0009539c = local_150.uptime + 1;
        sprintf(acStack_110,
                "set_start_time_point total_tv_start_sys=%ld "
                "total_tv_end_sys=%ld\n",
                local_150.uptime, DAT_0009539c);
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (4 < DAT_0008697c)) {
            snprintf(acStack_950, 0x800, "%s", acStack_110);
            FUN_0001e4ec(5, acStack_950, 0);
        }
    } else {
        piVar2 = __errno_location();
        iVar1 = *piVar2;
        piVar2 = __errno_location();
        pcVar3 = strerror(*piVar2);
        sprintf(acStack_110, "Failed to get sysinfo, errno:%u, reason:%s\n",
                iVar1, pcVar3);
        DAT_0009535c = time((time_t *)0x0);
        DAT_0009539c = DAT_0009535c + 1;
    }
    return;
}

void FUN_0004e8f0(void)

{
    size_t sVar1;
    char acStack_914[2048];
    char acStack_114[256];
    char *local_14;
    size_t local_10;
    FILE *local_c;

    local_c = fopen64(DAT_00087aac, "rb");
    memset(acStack_114, 0, 0x100);
    local_10 = 0;
    local_14 = (char *)0x0;
    if (local_c == (FILE *)0x0) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            snprintf(acStack_914, 0x800, "Open miner version file %s error",
                     DAT_00087aac);
            FUN_0001e4ec(3, acStack_914, 0);
        }
    } else {
        local_10 = fread(acStack_114, 1, 0x100, local_c);
        if ((int)local_10 < 1) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                snprintf(acStack_914, 0x800,
                         "Read miner version file %s error %d", DAT_00087aac,
                         local_10);
                FUN_0001e4ec(3, acStack_914, 0);
            }
        } else {
            local_14 = strchr(acStack_114, 10);
            if (local_14 == (char *)0x0) {
                strcpy(&DAT_00087c48, acStack_114);
            } else {
                FUN_0002befc(&DAT_00087c48, acStack_114,
                             (int)local_14 - (int)acStack_114, "cgminer.c",
                             "read_version_file", 0x2d7a);
                strcpy(acStack_114, local_14 + 1);
                local_14 = strchr(acStack_114, 10);
                if (local_14 == (char *)0x0) {
                    strcpy(&DAT_00087d48, acStack_114);
                } else {
                    FUN_0002befc(&DAT_00087d48, acStack_114,
                                 (int)local_14 - (int)acStack_114, "cgminer.c",
                                 "read_version_file", 0x2d83);
                }
            }
            sVar1 = strlen(&DAT_00087c48);
            if ((&DAT_00087c47)[sVar1] == '\n') {
                sVar1 = strlen(&DAT_00087c48);
                (&DAT_00087c47)[sVar1] = 0;
            }
            sVar1 = strlen(&DAT_00087c48);
            if ((&DAT_00087c47)[sVar1] == '\r') {
                sVar1 = strlen(&DAT_00087c48);
                (&DAT_00087c47)[sVar1] = 0;
            }
            sVar1 = strlen(&DAT_00087d48);
            if ((&DAT_00087d47)[sVar1] == '\n') {
                sVar1 = strlen(&DAT_00087d48);
                (&DAT_00087d47)[sVar1] = 0;
            }
            sVar1 = strlen(&DAT_00087d48);
            if ((&DAT_00087d47)[sVar1] == '\r') {
                sVar1 = strlen(&DAT_00087d48);
                (&DAT_00087d47)[sVar1] = 0;
            }
        }
    }
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (2 < DAT_0008697c)) {
        snprintf(acStack_914, 0x800, "Miner compile time: %s type: %s",
                 &DAT_00087c48, &DAT_00087d48);
        FUN_0001e4ec(3, acStack_914, 0);
    }
    return;
}

int FUN_0004ed4c(undefined4 param_1)

{
    uint uVar1;
    char *pcVar2;
    ushort **ppuVar3;
    size_t sVar4;
    char local_988[2080];
    char acStack_168[63];
    byte abStack_129[257];
    int local_28;
    size_t local_24;
    FILE *local_20;
    uint local_1c;
    uint local_18;
    int local_14;

    memset(abStack_129 + 1, 0, 0x100);
    local_14 = 0;
    memset(acStack_168, 0, 0x40);
    snprintf(acStack_168, 0x40, "pidof %s", param_1);
    local_20 = popen(acStack_168, "r");
    if (local_20 == (FILE *)0x0) {
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            snprintf(local_988 + 0x20, 0x800, " app-service:%s Not Found!!!",
                     param_1);
            FUN_0001e4ec(7, local_988 + 0x20, 0);
        }
    } else {
        while (pcVar2 = fgets((char *)(abStack_129 + 1), 0x100, local_20),
               pcVar2 != (char *)0x0) {
            if ((DAT_00087768 != '\0') &&
                (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                  (6 < DAT_0008697c)))) {
                snprintf(local_988 + 0x20, 0x800,
                         "pidof %s command result is: %s\n", param_1,
                         abStack_129 + 1);
                FUN_0001e4ec(7, local_988 + 0x20, 0);
            }
            if ((DAT_00087768 != '\0') &&
                (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                  (6 < DAT_0008697c)))) {
                sVar4 = strlen((char *)(abStack_129 + 1));
                snprintf(local_988 + 0x20, 0x800, "strlen is: %d\n", sVar4);
                FUN_0001e4ec(7, local_988 + 0x20, 0);
            }
        }
        pclose(local_20);
        local_20 = (FILE *)0x0;
        local_18 = 0;
        for (local_1c = 1; uVar1 = local_1c,
            sVar4 = strlen((char *)(abStack_129 + 1)), uVar1 <= sVar4;
             local_1c = local_1c + 1) {
            local_988[0] = '\0';
            local_988[1] = '\0';
            local_988[2] = '\0';
            local_988[3] = '\0';
            local_988[4] = '\0';
            local_988[5] = '\0';
            local_988[6] = '\0';
            local_988[7] = '\0';
            local_988[8] = '\0';
            local_988[9] = '\0';
            local_988[10] = '\0';
            local_988[0xb] = '\0';
            local_988[0xc] = '\0';
            local_988[0xd] = '\0';
            local_988[0xe] = '\0';
            local_988[0xf] = '\0';
            local_988[0x10] = '\0';
            local_988[0x11] = '\0';
            local_988[0x12] = '\0';
            local_988[0x13] = '\0';
            local_988[0x14] = '\0';
            local_988[0x15] = '\0';
            local_988[0x16] = '\0';
            local_988[0x17] = '\0';
            local_988[0x18] = '\0';
            local_988[0x19] = '\0';
            local_988[0x1a] = '\0';
            local_988[0x1b] = '\0';
            local_988[0x1c] = '\0';
            local_988[0x1d] = '\0';
            local_988[0x1e] = '\0';
            local_988[0x1f] = '\0';
            ppuVar3 = __ctype_b_loc();
            if (((*ppuVar3)[abStack_129[local_1c]] & 0x2000) != 0) {
                local_24 = (local_1c - local_18) - 1;
                strncpy(local_988, (char *)(abStack_129 + local_18 + 1),
                        local_24);
                local_18 = local_1c;
                local_28 = atoi(local_988);
                if (((0 < local_28) &&
                     (local_14 = local_14 + 1, DAT_00087768 != '\0')) &&
                    ((DAT_00091f58 != '\0' ||
                      ((DAT_00087769 != '\0' || (6 < DAT_0008697c)))))) {
                    snprintf(local_988 + 0x20, 0x800, "Parsed proc id is: %d\n",
                             local_28);
                    FUN_0001e4ec(7, local_988 + 0x20, 0);
                }
            }
        }
    }
    if ((0 < local_14) && (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                            (2 < DAT_0008697c)))) {
        snprintf(local_988 + 0x20, 0x800,
                 " %d instance of %s is  already Running on this machine",
                 local_14, param_1);
        FUN_0001e4ec(3, local_988 + 0x20, 0);
    }
    return local_14;
}

bool FUN_0004f23c(undefined4 param_1)

{
    int iVar1;

    iVar1 = FUN_0004ed4c(param_1);
    return 1 < iVar1;
}

uint FUN_0004f274(int param_1)

{
    uint uVar1;
    undefined4 uVar2;
    uint uVar3;
    int iVar4;
    char *__nptr;
    char acStack_122c[2048];
    char acStack_a2c[256];
    char acStack_92c[256];
    char acStack_82c[1792];
    undefined1 auStack_12c[92];
    undefined1 auStack_d0[160];
    int local_30;
    int local_2c;
    int *local_28;
    int *local_24;
    int *local_20;
    int *local_1c;
    uint local_18;
    uint local_14;

    if ((DAT_00087768 != '\0') &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (6 < DAT_0008697c)))) {
        snprintf(acStack_122c, 0x800, "start %s\n", "judge_load_config");
        FUN_0001e4ec(7, acStack_122c, 0);
    }
    local_14 = 0;
    local_1c = (int *)0x0;
    local_20 = (int *)0x0;
    local_24 = (int *)0x0;
    local_28 = (int *)0x0;
    memset(acStack_a2c, 0, 0x900);
    local_2c = 0;
    local_30 = 0;
    local_18 = 0;
    if (param_1 == 0) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            snprintf(acStack_122c, 0x800, "%s: bad param", "judge_load_config");
            FUN_0001e4ec(3, acStack_122c, 0);
        }
    } else {
        local_1c = (int *)FUN_00064b1c(param_1, 0, auStack_12c);
        if ((local_1c == (int *)0x0) || (*local_1c != 0)) {
            if ((DAT_00091f58 != '\0') ||
                ((DAT_00087769 != '\0' || (2 < DAT_0008697c)))) {
                snprintf(acStack_122c, 0x800,
                         "%s: JSON decode of file \'%s\' failed\n %s",
                         "judge_load_config", param_1, auStack_d0);
                FUN_0001e4ec(3, acStack_122c, 0);
            }
        } else {
            if ((DAT_00087768 != '\0') &&
                (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                  (6 < DAT_0008697c)))) {
                snprintf(acStack_122c, 0x800, "%s: after json_load_file\n",
                         "judge_load_config");
                FUN_0001e4ec(7, acStack_122c, 0);
            }
            local_20 = (int *)FUN_00065fec(local_1c, "pools");
            if ((local_20 == (int *)0x0) || (*local_20 != 1)) {
                local_14 = local_14 & 0xfffffffe;
            } else {
                local_2c = FUN_00066b34(local_20);
                local_18 = 0;
                while (((uVar1 = local_18, uVar3 = FUN_00066b34(local_20),
                         uVar1 < uVar3 && (local_24 = (int *)FUN_00066b80(
                                               local_20, local_18),
                                           local_24 != (int *)0x0)) &&
                        ((local_24 != (int *)0x0 &&
                          ((((*local_24 == 0 && ((int)local_18 < 3)) &&
                             (local_28 =
                                  (int *)FUN_00065fec(local_24, &DAT_00073634),
                              local_28 != (int *)0x0)) &&
                            (*local_28 == 2))))))) {
                    iVar4 = local_18 * 0x300;
                    uVar2 = FUN_000677d0(local_28);
                    snprintf(acStack_a2c + iVar4, 0x100, "%s", uVar2);
                    local_28 = (int *)FUN_00065fec(local_24, &DAT_00073638);
                    if ((local_28 == (int *)0x0) || (*local_28 != 2))
                        break;
                    iVar4 = local_18 * 0x300;
                    uVar2 = FUN_000677d0(local_28);
                    snprintf(acStack_92c + iVar4, 0x100, "%s", uVar2);
                    local_28 = (int *)FUN_00065fec(local_24, &DAT_00073640);
                    if ((local_28 == (int *)0x0) || (*local_28 != 2))
                        break;
                    iVar4 = local_18 * 0x300;
                    uVar2 = FUN_000677d0(local_28);
                    snprintf(acStack_82c + iVar4, 0x100, "%s", uVar2);
                    if ((DAT_00087768 != '\0') &&
                        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                          (6 < DAT_0008697c)))) {
                        snprintf(acStack_122c, 0x800, "%s\n%s\n%s\n",
                                 acStack_a2c + local_18 * 0x300,
                                 acStack_92c + local_18 * 0x300,
                                 acStack_82c + local_18 * 0x300);
                        FUN_0001e4ec(7, acStack_122c, 0);
                    }
                    local_18 = local_18 + 1;
                }
                local_14 = local_14 & 0xfffffffe;
                if (DAT_00092028 == local_2c) {
                    for (local_18 = 0; (int)local_18 < DAT_00092028;
                         local_18 = local_18 + 1) {
                        iVar4 = strcmp(
                            *(char **)(*(int *)(DAT_000920cc + local_18 * 4) +
                                       0xa4),
                            acStack_a2c + local_18 * 0x300);
                        if (((iVar4 != 0) ||
                             (iVar4 = strcmp(*(char **)(*(int *)(DAT_000920cc +
                                                                 local_18 * 4) +
                                                        0xac),
                                             acStack_92c + local_18 * 0x300),
                              iVar4 != 0)) ||
                            (iVar4 = strcmp(*(char **)(*(int *)(DAT_000920cc +
                                                                local_18 * 4) +
                                                       0xb0),
                                            acStack_82c + local_18 * 0x300),
                             iVar4 != 0)) {
                            local_14 = local_14 | 1;
                            break;
                        }
                    }
                } else {
                    local_14 = local_14 | 1;
                }
            }
            local_28 = (int *)FUN_00065fec(local_1c, "bitmain-freq-level");
            if ((local_28 == (int *)0x0) || (*local_28 != 2)) {
                local_14 = local_14 & 0xfffffffd;
            } else {
                __nptr = (char *)FUN_000677d0(local_28);
                local_30 = atoi(__nptr);
                if (DAT_00086c64 == local_30) {
                    local_14 = local_14 & 0xfffffffd;
                } else {
                    local_14 = local_14 | 2;
                    DAT_00086c64 = local_30;
                }
            }
            FUN_0002de88(local_1c);
            if ((DAT_00087768 != '\0') &&
                (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                  (6 < DAT_0008697c)))) {
                snprintf(acStack_122c, 0x800, "ret = 0x%x", local_14);
                FUN_0001e4ec(7, acStack_122c, 0);
            }
        }
    }
    return local_14;
}

undefined4 *FUN_0004fb98(void)

{
    pthread_t __th;
    size_t sVar1;
    int iVar2;
    pthread_attr_t pStack_864;
    char local_840[16];
    uint local_830;
    char acStack_82c[8];
    ushort local_824;
    undefined1 local_822;
    char local_40[4];
    undefined4 *local_3c;
    undefined4 *local_38;
    int local_34;
    undefined4 *local_30;
    int local_2c;
    undefined4 *local_28;
    int local_24;
    int local_20;
    int local_1c;
    int local_18;
    int local_14;
    char local_d;
    int local_c;

    local_c = 0;
    local_d = '\0';
    __th = pthread_self();
    pthread_detach(__th);
    pthread_mutex_lock((pthread_mutex_t *)&DAT_00087e7c);
    local_20 = DAT_00091f88 + DAT_00087fcc * 0x40;
    if (*(int *)(local_20 + 0xc) != 0) {
        FUN_00034b38(local_20);
        usleep(100000);
        local_d = '\x01';
    }
    if (DAT_00087e9c != (void *)0x0) {
        free(DAT_00087e9c);
    }
    local_24 = DAT_00092028;
    local_c = 0;
    while (true) {
        if (local_24 <= local_c)
            break;
        local_28 = (undefined4 *)DAT_000920cc[local_c];
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            snprintf(
                local_840, 0x800,
                "before add pool, pool->pool_no = %d, pool->rpc_url = %s\n",
                *local_28, local_28[0x29]);
            FUN_0001e4ec(7, local_840, 0);
        }
        local_c = local_c + 1;
    }
    FUN_00031bc8();
    if (DAT_00092028 == local_24) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            builtin_strncpy(local_840, "Input pool error", 0x10);
            local_830._0_1_ = ',';
            local_830._1_1_ = ' ';
            local_830._2_1_ = 't';
            local_830._3_1_ = 'r';
            builtin_strncpy(acStack_82c, "y again\n", 8);
            local_824 = local_824 & 0xff00;
            FUN_0001e4ec(3, local_840, 0);
        }
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_00087e7c);
    } else {
        local_14 = 0;
        DAT_000898c8 = '\0';
        for (local_18 = local_24; local_18 < DAT_00092028;
             local_18 = local_18 + 1) {
            local_2c = DAT_000920cc[local_18];
            FUN_000328b4(local_2c);
            *(undefined1 *)(local_2c + 0x61) = 1;
        }
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            snprintf(local_840, 0x800,
                     "total_pools = %d, need to remove %d pools\n",
                     DAT_00092028, local_24);
            FUN_0001e4ec(7, local_840, 0);
        }
        for (local_c = 0; local_c < DAT_00092028; local_c = local_c + 1) {
            local_30 = (undefined4 *)DAT_000920cc[local_c];
            if ((DAT_00087768 != '\0') &&
                (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                  (6 < DAT_0008697c)))) {
                snprintf(
                    local_840, 0x800,
                    "after add pool, pool->pool_no = %d, pool->rpc_url = %s\n",
                    *local_30, local_30[0x29]);
                FUN_0001e4ec(7, local_840, 0);
            }
        }
        for (local_1c = 0; local_1c < local_24; local_1c = local_1c + 1) {
            local_34 = *DAT_000920cc;
            iVar2 = FUN_0002f984();
            if (iVar2 == local_34) {
                FUN_000364ac(0);
            }
            *(undefined4 *)(local_34 + 100) = 0;
            DAT_000940ec = DAT_000940ec + -1;
            DAT_0008809c = DAT_0008809c + -1;
            DAT_00088098 = DAT_00088098 + -1;
            DAT_00088094 = DAT_00088094 + -1;
            FUN_0003b544(local_34);
        }
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            snprintf(local_840, 0x800, "total_pools after removed = %d\n",
                     DAT_00092028);
            FUN_0001e4ec(7, local_840, 0);
        }
        local_c = 0;
        while (true) {
            if (DAT_00092028 <= local_c)
                break;
            local_38 = (undefined4 *)DAT_000920cc[local_c];
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (4 < DAT_0008697c)) {
                snprintf(local_840, 0x800,
                         "after reload pool, pool->pool_no = %d, pool->rpc_url "
                         "= %s\n",
                         *local_38, local_38[0x29]);
                FUN_0001e4ec(5, local_840, 0);
            }
            local_c = local_c + 1;
        }
        FUN_0004e63c();
        do {
            sleep(1);
            local_14 = local_14 + 1;
            if (DAT_000898c8 == '\x01')
                break;
        } while (local_14 < 8);
        FUN_0004e78c();
        local_40[0] = 'r';
        local_40[1] = 'e';
        local_40[2] = '\0';
        local_40[3] = '\0';
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            snprintf(local_840, 0x800, "pool change success, send %s",
                     local_40);
            FUN_0001e4ec(7, local_840, 0);
        }
        sVar1 = strlen(local_40);
        FUN_000585b0(local_40, sVar1);
        if (DAT_000898c8 == '\0') {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                builtin_strncpy(local_840, "error pool input", 0x10);
                local_830 = local_830 & 0xffffff00;
                FUN_0001e4ec(3, local_840, 0);
            }
            for (local_c = 0; local_c < DAT_00092028; local_c = local_c + 1) {
                local_3c = (undefined4 *)DAT_000920cc[local_c];
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (2 < DAT_0008697c)) {
                    snprintf(local_840, 0x800,
                             "pool%d, url = %s, user = %s, pass = %s\n",
                             *local_3c, local_3c[0x29], local_3c[0x2b],
                             local_3c[0x2c]);
                    FUN_0001e4ec(3, local_840, 0);
                }
            }
        } else {
            DAT_00087e78 = 1;
        }
        DAT_0008812c = 1;
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_00087e7c);
    }
    if (local_d != '\0') {
        local_20 = DAT_00091f88 + DAT_00087fcc * 0x40;
        pthread_attr_init(&pStack_864);
        pthread_attr_setstacksize(&pStack_864, 0x200000);
        iVar2 = FUN_000219a8(local_20, &pStack_864, FUN_00049734, 0);
        if (iVar2 != 0) {
            builtin_strncpy(local_840, "watchpool thread", 0x10);
            local_830._0_1_ = ' ';
            local_830._1_1_ = 'c';
            local_830._2_1_ = 'r';
            local_830._3_1_ = 'e';
            builtin_strncpy(acStack_82c, "ate fail", 8);
            local_824 = 0x6465;
            local_822 = 0;
            FUN_0001e4ec(3, local_840, 1);
            FUN_0004bf08(1, 0);
        }
        pthread_detach(*(pthread_t *)(local_20 + 0xc));
    }
    sleep(1);
    DAT_00088128 = 0;
    return &DAT_00088128;
}

void FUN_00050628(void)

{
    int iVar1;
    char local_808[2048];

    if (DAT_00088128 == 0) {
        iVar1 =
            pthread_create((pthread_t *)&DAT_00088128, (pthread_attr_t *)0x0,
                           FUN_0004fb98, (void *)0x0);
        if ((iVar1 != 0) &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (2 < DAT_0008697c)))) {
            builtin_strncpy(local_808, "Failed to create pool_change_thread",
                            0x24);
            FUN_0001e4ec(3, local_808, 0);
        }
    } else if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
               (2 < DAT_0008697c)) {
        builtin_strncpy(local_808,
                        "config too fast, pool is changing, please wait\n",
                        0x30);
        FUN_0001e4ec(3, local_808, 0);
    }
    return;
}

void FUN_00050784(void)

{
    int iVar1;
    char acStack_810[2048];
    undefined4 local_10;
    int local_c;

    local_10 = 0;
    local_c = 0;
    if ((DAT_00087768 != '\0') &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (6 < DAT_0008697c)))) {
        snprintf(acStack_810, 0x800, "START %s",
                 "load_default_config_without_restart");
        FUN_0001e4ec(7, acStack_810, 0);
    }
    if (DAT_00087e9c != (char *)0x0) {
        free(DAT_00087e9c);
    }
    DAT_00087e9c = (char *)FUN_00020210(
        0x1000, "cgminer.c", "load_default_config_without_restart", 0x2eb3);
    FUN_0003c7dc(DAT_00087e9c);
    iVar1 = access(DAT_00087e9c, 4);
    if (iVar1 == 0) {
        local_c = FUN_0004f274(DAT_00087e9c);
    } else {
        free(DAT_00087e9c);
        DAT_00087e9c = (char *)0x0;
    }
    if (local_c == 2) {
        FUN_000585b0(&DAT_00086c64, 4);
    } else if (local_c == 3) {
        FUN_000585b0(&DAT_00086c64, 4);
        FUN_00050628();
    } else if (local_c == 1) {
        FUN_00050628();
    }
    return;
}

void FUN_0005095c(void)

{
    char *apcStack_30[4];
    char *pcStack_20;
    char *pcStack_1c;
    char *pcStack_18;
    char *pcStack_14;
    char *pcStack_10;
    int local_c;

    pcStack_18 = "stratum+tcp://ss.antpool.com:3333";
    pcStack_14 = "stratum+tcp://ss.antpool.com:443";
    pcStack_10 = "stratum+tcp://ss.antpool.com:25";
    apcStack_30[3] = "shenzhen+test+btc";
    pcStack_20 = "shenzhen+test+btc";
    pcStack_1c = "shenzhen+test+btc";
    apcStack_30[0] = "123";
    apcStack_30[1] = "123";
    apcStack_30[2] = "123";
    for (local_c = 0; local_c < 3; local_c = local_c + 1) {
        FUN_00030290(apcStack_30[local_c + 6]);
        FUN_0003054c(apcStack_30[local_c + 3]);
        FUN_00030770(apcStack_30[local_c]);
    }
    return;
}

undefined4 FUN_00050a2c(void)

{
    char local_814[20];
    undefined4 local_800;
    char acStack_7fc[20];
    undefined2 local_7e8;
    undefined4 local_14;
    int local_10;
    int local_c;

    local_10 = 0;
    local_14 = 0;
    for (local_c = 0; local_c < DAT_00092028; local_c = local_c + 1) {
        if (**(char **)(*(int *)(DAT_000920cc + local_c * 4) + 0xa4) != '\0') {
            if (**(char **)(*(int *)(DAT_000920cc + local_c * 4) + 0xac) ==
                '\0') {
                if ((DAT_00087768 != '\0') &&
                    (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                      (6 < DAT_0008697c)))) {
                    builtin_strncpy(local_814, "Blank worker exists.", 0x14);
                    local_800 = CONCAT22(local_800._2_2_, 10);
                    FUN_0001e4ec(7, local_814, 0);
                }
            } else {
                local_10 = local_10 + 1;
            }
        }
    }
    if (local_10 == 0) {
        if (DAT_0008999c == 0) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (4 < DAT_0008697c)) {
                builtin_strncpy(local_814, "No valid pools, plea", 0x14);
                local_800._0_1_ = 's';
                local_800._1_1_ = 'e';
                local_800._2_1_ = ' ';
                local_800._3_1_ = 'c';
                builtin_strncpy(acStack_7fc, "onfigure them first!", 0x14);
                local_7e8 = 10;
                FUN_0001e4ec(5, local_814, 0);
            }
            DAT_0008999c = 1;
        }
        local_14 = 0xffffffff;
    }
    return local_14;
}

/* WARNING: Removing unreachable block (ram,0x00054e10) */
/* WARNING: Removing unreachable block (ram,0x00054e30) */
/* WARNING: Removing unreachable block (ram,0x00054e44) */
/* WARNING: Removing unreachable block (ram,0x00054e58) */
/* WARNING: Removing unreachable block (ram,0x00054e6c) */
/* WARNING: Removing unreachable block (ram,0x00054eb8) */
/* WARNING: Removing unreachable block (ram,0x00054ee4) */
/* WARNING: Removing unreachable block (ram,0x00054f04) */
/* WARNING: Removing unreachable block (ram,0x00054f18) */
/* WARNING: Removing unreachable block (ram,0x00054f2c) */
/* WARNING: Removing unreachable block (ram,0x00054f40) */
/* WARNING: Removing unreachable block (ram,0x00054f8c) */

void FUN_00050c58(int param_1, undefined4 *param_2)

{
    byte *pbVar1;
    char cVar2;
    int iVar3;
    long lVar4;
    char *pcVar5;
    size_t sVar6;
    void *pvVar7;
    undefined4 uVar8;
    FILE *pFVar9;
    size_t sVar10;
    uint uVar11;
    uint uVar12;
    uint uVar13;
    undefined4 *puVar14;
    char *pcVar15;
    char acStack_2a60[4104];
    char acStack_1a58[4088];
    char *local_a60;
    undefined4 *local_a50;
    int local_a4c;
    char acStack_a48[256];
    char local_948[16];
    undefined4 local_938;
    undefined4 local_934;
    uint local_930;
    undefined4 local_92c;
    undefined4 local_928;
    uint local_924;
    uint local_920;
    undefined4 local_91c;
    undefined4 local_918;
    char acStack_914[4];
    undefined2 local_910;
    undefined1 local_90e;
    char local_148[4];
    pthread_attr_t pStack_144;
    int local_120;
    sigaction local_11c;
    int local_90;
    int local_8c;
    int local_88;
    int local_84;
    int local_80;
    int local_7c;
    size_t local_78;
    int local_74;
    int local_70;
    int local_6c;
    int *local_68;
    int *local_64;
    uint local_60;
    int local_5c;
    void *local_58;
    uint local_54;
    byte *local_50;
    char *local_4c;
    int local_48;
    int local_44;
    int local_40;
    uint local_3c;
    byte *local_38;
    uint local_34;
    uint local_30;
    uint local_2c;
    uint local_28;
    int local_24;
    int local_20;
    int local_1c;
    char *local_18;
    char local_11;

    local_120 = 0;
    local_11 = '\0';
    local_20 = 0;
    local_48 = -1;
    local_a50 = param_2;
    local_a4c = param_1;
    pthread_attr_init(&pStack_144);
    pthread_attr_setstacksize(&pStack_144, 0x200000);
    DAT_00087770 = 0;
    iVar3 = FUN_0004f23c(*local_a50);
    if (iVar3 != 0) {
        snprintf(local_948, 0x800,
                 "%s is forbidden to start twice, will exit immediately!",
                 *local_a50);
        FUN_0001e4ec(3, local_948, 1);
        FUN_0004bf08(0xffffffff, 0);
    }
    DAT_00087774._0_1_ = 'b';
    DAT_00087774._1_1_ = 'm';
    DAT_00087774._2_1_ = 'm';
    DAT_00087774._3_1_ = 'i';
    DAT_00087778._0_1_ = 'n';
    DAT_00087778._1_1_ = 'e';
    DAT_00087778._2_1_ = 'r';
    DAT_00087778._3_1_ = '.';
    DAT_0008777c._0_1_ = 'l';
    DAT_0008777c._1_1_ = 'o';
    DAT_0008777c._2_1_ = 'g';
    DAT_0008777c._3_1_ = '\0';
    DAT_00087874 = 0x2b61;
    DAT_00087876 = 0;
    lVar4 = sysconf(0x54);
    if (lVar4 == 1) {
        DAT_00086aa0 = sched_yield;
    }
    DAT_000898ac =
        FUN_00020210((local_a4c + 1) * 4, "cgminer.c", &DAT_0007466c, 0x2f4a);
    for (local_18 = (char *)0x0; (int)local_18 < local_a4c;
         local_18 = (char *)((int)local_18 + 1)) {
        puVar14 = (undefined4 *)(DAT_000898ac + (int)local_18 * 4);
        pcVar15 = strdup((char *)local_a50[(int)local_18]);
        *puVar14 = pcVar15;
    }
    *(undefined4 *)(DAT_000898ac + local_a4c * 4) = 0;
    FUN_0002e794(&DAT_000920a0, "cgminer.c", &DAT_0007466c, 0x2f53);
    FUN_0002e794(&DAT_000951e0, "cgminer.c", &DAT_0007466c, 0x2f54);
    FUN_0002e794(&DAT_000941ac, "cgminer.c", &DAT_0007466c, 0x2f55);
    FUN_0002e8cc(&DAT_00095310, "cgminer.c", &DAT_0007466c, 0x2f56);
    FUN_0002e794(&DAT_00091f5c, "cgminer.c", &DAT_0007466c, 0x2f57);
    FUN_0002e794(&DAT_0008834c, "cgminer.c", &DAT_0007466c, 0x2f58);
    FUN_0002e8cc(&DAT_000952d8, "cgminer.c", &DAT_0007466c, 0x2f59);
    FUN_0002e794(&DAT_00088008, "cgminer.c", &DAT_0007466c, 0x2f5a);
    FUN_0002e830(&DAT_00087fe8, "cgminer.c", &DAT_0007466c, 0x2f5b);
    FUN_0002e830(&DAT_00092064, "cgminer.c", &DAT_0007466c, 0x2f5c);
    FUN_0002e830(&DAT_00094158, "cgminer.c", &DAT_0007466c, 0x2f5d);
    FUN_0002e830(&DAT_00094188, "cgminer.c", &DAT_0007466c, 0x2f5e);
    FUN_0002e794(&DAT_00088020, "cgminer.c", &DAT_0007466c, 0x2f60);
    iVar3 = pthread_cond_init((pthread_cond_t *)&DAT_00088038,
                              (pthread_condattr_t *)0x0);
    if (iVar3 != 0) {
        builtin_strncpy(local_948, "Failed to pthrea", 0x10);
        local_938._0_1_ = 'd';
        local_938._1_1_ = '_';
        local_938._2_1_ = 'c';
        local_938._3_1_ = 'o';
        local_934._0_1_ = 'n';
        local_934._1_1_ = 'd';
        local_934._2_1_ = '_';
        local_934._3_1_ = 'i';
        local_930._0_1_ = 'n';
        local_930._1_1_ = 'i';
        local_930._2_1_ = 't';
        local_930._3_1_ = ' ';
        local_92c._0_1_ = 'l';
        local_92c._1_1_ = 'p';
        local_92c._2_1_ = '_';
        local_92c._3_1_ = 'c';
        local_928._0_1_ = 'o';
        local_928._1_1_ = 'n';
        local_928._2_1_ = 'd';
        local_928._3_1_ = '\0';
        FUN_0001e4ec(3, local_948, 1);
        FUN_0004bf08(1, 0);
    }
    FUN_0002e794(&DAT_00094134, "cgminer.c", &DAT_0007466c, 0x2f67);
    iVar3 = pthread_cond_init((pthread_cond_t *)&DAT_00095360,
                              (pthread_condattr_t *)0x0);
    if (iVar3 != 0) {
        builtin_strncpy(local_948, "Failed to pthrea", 0x10);
        local_938._0_1_ = 'd';
        local_938._1_1_ = '_';
        local_938._2_1_ = 'c';
        local_938._3_1_ = 'o';
        local_934._0_1_ = 'n';
        local_934._1_1_ = 'd';
        local_934._2_1_ = '_';
        local_934._3_1_ = 'i';
        local_930._0_1_ = 'n';
        local_930._1_1_ = 'i';
        local_930._2_1_ = 't';
        local_930._3_1_ = ' ';
        local_92c._0_1_ = 'r';
        local_92c._1_1_ = 'e';
        local_92c._2_1_ = 's';
        local_92c._3_1_ = 't';
        local_928._0_1_ = 'a';
        local_928._1_1_ = 'r';
        local_928._2_1_ = 't';
        local_928._3_1_ = '_';
        local_924._0_1_ = 'c';
        local_924._1_1_ = 'o';
        local_924._2_1_ = 'n';
        local_924._3_1_ = 'd';
        local_920 = local_920 & 0xffffff00;
        FUN_0001e4ec(3, local_948, 1);
        FUN_0004bf08(1, 0);
    }
    iVar3 = pthread_cond_init((pthread_cond_t *)&DAT_00092030,
                              (pthread_condattr_t *)0x0);
    if (iVar3 != 0) {
        builtin_strncpy(local_948, "Failed to pthrea", 0x10);
        local_938._0_1_ = 'd';
        local_938._1_1_ = '_';
        local_938._2_1_ = 'c';
        local_938._3_1_ = 'o';
        local_934._0_1_ = 'n';
        local_934._1_1_ = 'd';
        local_934._2_1_ = '_';
        local_934._3_1_ = 'i';
        local_930._0_1_ = 'n';
        local_930._1_1_ = 'i';
        local_930._2_1_ = 't';
        local_930._3_1_ = ' ';
        local_92c._0_1_ = 'g';
        local_92c._1_1_ = 'w';
        local_92c._2_1_ = 's';
        local_92c._3_1_ = '_';
        local_928._0_1_ = 'c';
        local_928._1_1_ = 'o';
        local_928._2_1_ = 'n';
        local_928._3_1_ = 'd';
        local_924 = local_924 & 0xffffff00;
        FUN_0001e4ec(3, local_948, 1);
        FUN_0004bf08(1, 0);
    }
    DAT_00094128 = FUN_0002154c();
    if (DAT_00094128 == 0) {
        builtin_strncpy(local_948, "Failed to create", 0x10);
        local_938._0_1_ = ' ';
        local_938._1_1_ = 'g';
        local_938._2_1_ = 'e';
        local_938._3_1_ = 't';
        local_934._0_2_ = 0x71;
        FUN_0001e4ec(3, local_948, 1);
        FUN_0004bf08(1, 0);
    }
    DAT_00087fe4 = (pthread_mutex_t *)(DAT_00094128 + 0xc);
    local_a60 = "1.0.0";
    snprintf(&DAT_00087ea4, 0x100, "%s %s", "cgminer");
    local_11c.__sigaction_handler.sa_handler = FUN_00035310;
    local_11c.sa_flags = 0;
    sigemptyset(&local_11c.sa_mask);
    sigaction(0xf, &local_11c, (sigaction *)&DAT_00091f98);
    sigaction(2, &local_11c, (sigaction *)&DAT_0009524c);
    sigaction(6, &local_11c, (sigaction *)&DAT_00095400);
    DAT_000953f8 = acStack_1a58;
    builtin_strncpy(acStack_1a58, "/usr/bin", 9);
    DAT_00095238 = acStack_2a60;
    local_4c = strdup((char *)*local_a50);
    pcVar15 = DAT_00095238;
    pcVar5 = dirname(local_4c);
    strcpy(pcVar15, pcVar5);
    free(local_4c);
    pcVar15 = DAT_00095238;
    sVar6 = strlen(DAT_00095238);
    (pcVar15 + sVar6)[0] = '/';
    (pcVar15 + sVar6)[1] = '\0';
    DAT_00088480 = 8;
    DAT_00088484 = 9;
    DAT_00088488 = 10;
    local_50 =
        (byte *)FUN_000202d4(0x68, 1, "cgminer.c", &DAT_0007466c, 0x2f96);
    for (local_18 = (char *)0x0; pbVar1 = local_50, (int)local_18 < 0x24;
         local_18 = local_18 + 1) {
        sVar6 = strlen((char *)local_50);
        (pbVar1 + sVar6)[0] = 0x30;
        (pbVar1 + sVar6)[1] = 0;
    }
    local_38 = local_50;
    local_28 = 0xfeedbeef;
    local_30 = 0x9e3779b9;
    local_2c = 0x9e3779b9;
    for (local_34 = strlen((char *)local_50); 0xb < local_34;
         local_34 = local_34 - 0xc) {
        iVar3 = local_30 + (uint)local_38[4] + (uint)local_38[5] * 0x100 +
                (uint)local_38[6] * 0x10000 + (uint)local_38[7] * 0x1000000;
        local_28 = local_28 + (uint)local_38[8] + (uint)local_38[9] * 0x100 +
                   (uint)local_38[10] * 0x10000 +
                   (uint)local_38[0xb] * 0x1000000;
        uVar11 =
            local_28 >> 0xd ^
            ((local_2c + (uint)*local_38 + (uint)local_38[1] * 0x100 +
              (uint)local_38[2] * 0x10000 + (uint)local_38[3] * 0x1000000) -
             iVar3) -
                local_28;
        uVar12 = uVar11 << 8 ^ (iVar3 - local_28) - uVar11;
        uVar13 = uVar12 >> 0xd ^ (local_28 - uVar11) - uVar12;
        uVar11 = uVar13 >> 0xc ^ (uVar11 - uVar12) - uVar13;
        uVar12 = uVar11 << 0x10 ^ (uVar12 - uVar13) - uVar11;
        uVar13 = uVar12 >> 5 ^ (uVar13 - uVar11) - uVar12;
        local_2c = uVar13 >> 3 ^ (uVar11 - uVar12) - uVar13;
        local_30 = local_2c << 10 ^ (uVar12 - uVar13) - local_2c;
        local_28 = local_30 >> 0xf ^ (uVar13 - local_2c) - local_30;
        local_38 = local_38 + 0xc;
    }
    sVar6 = strlen((char *)local_50);
    local_28 = local_28 + sVar6;
    switch (local_34) {
    case 0xb:
        local_28 = local_28 + (uint)local_38[10] * 0x1000000;
    case 10:
        local_28 = local_28 + (uint)local_38[9] * 0x10000;
    case 9:
        local_28 = local_28 + (uint)local_38[8] * 0x100;
    case 8:
        local_30 = local_30 + (uint)local_38[7] * 0x1000000;
    case 7:
        local_30 = local_30 + (uint)local_38[6] * 0x10000;
    case 6:
        local_30 = local_30 + (uint)local_38[5] * 0x100;
    case 5:
        local_30 = local_30 + local_38[4];
    case 4:
        local_2c = local_2c + (uint)local_38[3] * 0x1000000;
    case 3:
        local_2c = local_2c + (uint)local_38[2] * 0x10000;
    case 2:
        local_2c = local_2c + (uint)local_38[1] * 0x100;
    case 1:
        local_2c = local_2c + *local_38;
    }
    uVar11 = local_28 >> 0xd ^ (local_2c - local_30) - local_28;
    uVar12 = uVar11 << 8 ^ (local_30 - local_28) - uVar11;
    uVar13 = uVar12 >> 0xd ^ (local_28 - uVar11) - uVar12;
    uVar11 = uVar13 >> 0xc ^ (uVar11 - uVar12) - uVar13;
    uVar12 = uVar11 << 0x10 ^ (uVar12 - uVar13) - uVar11;
    uVar13 = uVar12 >> 5 ^ (uVar13 - uVar11) - uVar12;
    local_2c = uVar13 >> 3 ^ (uVar11 - uVar12) - uVar13;
    local_30 = local_2c << 10 ^ (uVar12 - uVar13) - local_2c;
    local_28 = local_30 >> 0xf ^ (uVar13 - local_2c) - local_30;
    *(uint *)(local_50 + 0x60) = local_28;
    *(byte **)(local_50 + 0x58) = local_50;
    sVar6 = strlen((char *)local_50);
    pbVar1 = local_50;
    *(size_t *)(local_50 + 0x5c) = sVar6;
    if (DAT_00088130 == (byte *)0x0) {
        local_50[0x4c] = 0;
        local_50[0x4d] = 0;
        local_50[0x4e] = 0;
        local_50[0x4f] = 0;
        local_50[0x48] = 0;
        local_50[0x49] = 0;
        local_50[0x4a] = 0;
        local_50[0x4b] = 0;
        DAT_00088130 = local_50;
        pvVar7 = malloc(0x2c);
        *(void **)(pbVar1 + 0x44) = pvVar7;
        if (*(int *)(DAT_00088130 + 0x44) == 0) {
            /* WARNING: Subroutine does not return */
            exit(-1);
        }
        memset(*(void **)(DAT_00088130 + 0x44), 0, 0x2c);
        *(byte **)(*(int *)(DAT_00088130 + 0x44) + 0x10) = DAT_00088130 + 0x44;
        *(undefined4 *)(*(int *)(DAT_00088130 + 0x44) + 4) = 0x20;
        *(undefined4 *)(*(int *)(DAT_00088130 + 0x44) + 8) = 5;
        *(undefined4 *)(*(int *)(DAT_00088130 + 0x44) + 0x14) = 0x44;
        puVar14 = *(undefined4 **)(DAT_00088130 + 0x44);
        pvVar7 = malloc(0x180);
        *puVar14 = pvVar7;
        if (**(int **)(DAT_00088130 + 0x44) == 0) {
            /* WARNING: Subroutine does not return */
            exit(-1);
        }
        memset((void *)**(undefined4 **)(DAT_00088130 + 0x44), 0, 0x180);
        *(undefined4 *)(*(int *)(DAT_00088130 + 0x44) + 0x28) = 0xa0111fe1;
    } else {
        *(undefined4 *)(local_50 + 0x44) = *(undefined4 *)(DAT_00088130 + 0x44);
        local_50[0x4c] = 0;
        local_50[0x4d] = 0;
        local_50[0x4e] = 0;
        local_50[0x4f] = 0;
        *(int *)(local_50 + 0x48) =
            *(int *)(*(int *)(DAT_00088130 + 0x44) + 0x10) -
            *(int *)(*(int *)(DAT_00088130 + 0x44) + 0x14);
        *(byte **)(*(int *)(*(int *)(DAT_00088130 + 0x44) + 0x10) + 8) =
            local_50;
        *(byte **)(*(int *)(DAT_00088130 + 0x44) + 0x10) = local_50 + 0x44;
    }
    *(int *)(*(int *)(DAT_00088130 + 0x44) + 0xc) =
        *(int *)(*(int *)(DAT_00088130 + 0x44) + 0xc) + 1;
    local_54 = local_28 & *(int *)(*(int *)(DAT_00088130 + 0x44) + 4) - 1U;
    iVar3 = **(int **)(DAT_00088130 + 0x44) + local_54 * 0xc;
    *(int *)(iVar3 + 4) = *(int *)(iVar3 + 4) + 1;
    *(undefined4 *)(local_50 + 0x54) =
        *(undefined4 *)(**(int **)(DAT_00088130 + 0x44) + local_54 * 0xc);
    local_50[0x50] = 0;
    local_50[0x51] = 0;
    local_50[0x52] = 0;
    local_50[0x53] = 0;
    if (*(int *)(**(int **)(DAT_00088130 + 0x44) + local_54 * 0xc) != 0) {
        *(byte **)(*(int *)(**(int **)(DAT_00088130 + 0x44) + local_54 * 0xc) +
                   0xc) = local_50 + 0x44;
    }
    *(byte **)(**(int **)(DAT_00088130 + 0x44) + local_54 * 0xc) =
        local_50 + 0x44;
    if (((uint)((*(int *)(**(int **)(DAT_00088130 + 0x44) + local_54 * 0xc +
                          8) +
                 1) *
                10) <=
         *(uint *)(**(int **)(DAT_00088130 + 0x44) + local_54 * 0xc + 4)) &&
        (*(int *)(*(int *)(local_50 + 0x44) + 0x24) != 1)) {
        local_58 = malloc(*(int *)(*(int *)(local_50 + 0x44) + 4) * 0x18);
        if (local_58 == (void *)0x0) {
            /* WARNING: Subroutine does not return */
            exit(-1);
        }
        memset(local_58, 0, *(int *)(*(int *)(local_50 + 0x44) + 4) * 0x18);
        *(uint *)(*(int *)(local_50 + 0x44) + 0x18) =
            (*(uint *)(*(int *)(local_50 + 0x44) + 0xc) >>
             (*(int *)(*(int *)(local_50 + 0x44) + 8) + 1U & 0xff)) +
            (uint)((*(int *)(*(int *)(local_50 + 0x44) + 4) * 2 - 1U &
                    *(uint *)(*(int *)(local_50 + 0x44) + 0xc)) != 0);
        *(undefined4 *)(*(int *)(local_50 + 0x44) + 0x1c) = 0;
        for (local_3c = 0; local_3c < *(uint *)(*(int *)(local_50 + 0x44) + 4);
             local_3c = local_3c + 1) {
            local_40 = *(int *)(**(int **)(local_50 + 0x44) + local_3c * 0xc);
            while (local_40 != 0) {
                local_5c = *(int *)(local_40 + 0x10);
                local_60 = *(int *)(*(int *)(local_50 + 0x44) + 4) * 2 - 1U &
                           *(uint *)(local_40 + 0x1c);
                local_64 = (int *)((int)local_58 + local_60 * 0xc);
                local_64[1] = local_64[1] + 1;
                if (*(uint *)(*(int *)(local_50 + 0x44) + 0x18) <
                    (uint)local_64[1]) {
                    *(int *)(*(int *)(local_50 + 0x44) + 0x1c) =
                        *(int *)(*(int *)(local_50 + 0x44) + 0x1c) + 1;
                    iVar3 = FUN_00068648(
                        local_64[1],
                        *(undefined4 *)(*(int *)(local_50 + 0x44) + 0x18));
                    local_64[2] = iVar3;
                }
                *(undefined4 *)(local_40 + 0xc) = 0;
                *(int *)(local_40 + 0x10) = *local_64;
                if (*local_64 != 0) {
                    *(int *)(*local_64 + 0xc) = local_40;
                }
                *local_64 = local_40;
                local_40 = local_5c;
            }
        }
        free((void *)**(undefined4 **)(local_50 + 0x44));
        *(int *)(*(int *)(local_50 + 0x44) + 4) =
            *(int *)(*(int *)(local_50 + 0x44) + 4) << 1;
        *(int *)(*(int *)(local_50 + 0x44) + 8) =
            *(int *)(*(int *)(local_50 + 0x44) + 8) + 1;
        **(undefined4 **)(local_50 + 0x44) = local_58;
        if (*(uint *)(*(int *)(local_50 + 0x44) + 0xc) >> 1 <
            *(uint *)(*(int *)(local_50 + 0x44) + 0x1c)) {
            iVar3 = *(int *)(*(int *)(local_50 + 0x44) + 0x20) + 1;
        } else {
            iVar3 = 0;
        }
        *(int *)(*(int *)(local_50 + 0x44) + 0x20) = iVar3;
        if (1 < *(uint *)(*(int *)(local_50 + 0x44) + 0x20)) {
            *(undefined4 *)(*(int *)(local_50 + 0x44) + 0x24) = 1;
        }
    }
    strcpy(&DAT_000953ac, (char *)local_50);
    DAT_000920d4 = &DAT_000920d4;
    DAT_000920d8 = &DAT_000920d4;
    FUN_0005604c(&DAT_00086c90,
                 "Options for both config file and command line");
    FUN_0005604c(&DAT_000873e4, "Options for command line only");
    FUN_000561f0(&local_a4c, local_a50, FUN_0002ee70);
    if (local_a4c != 1) {
        builtin_strncpy(local_948, "Unexpected extra", 0x10);
        local_938._0_1_ = ' ';
        local_938._1_1_ = 'c';
        local_938._2_1_ = 'o';
        local_938._3_1_ = 'm';
        local_934._0_1_ = 'm';
        local_934._1_1_ = 'a';
        local_934._2_1_ = 'n';
        local_934._3_1_ = 'd';
        local_930._0_1_ = 'l';
        local_930._1_1_ = 'i';
        local_930._2_1_ = 'n';
        local_930._3_1_ = 'e';
        local_92c._0_1_ = ' ';
        local_92c._1_1_ = 'a';
        local_92c._2_1_ = 'r';
        local_92c._3_1_ = 'g';
        local_928._0_1_ = 'u';
        local_928._1_1_ = 'm';
        local_928._2_1_ = 'e';
        local_928._3_1_ = 'n';
        local_924 = CONCAT13(local_924._3_1_, 0x7374);
        FUN_0001e4ec(3, local_948, 1);
        FUN_0004bf08(1, 0);
    }
    if (DAT_00088138 != '\x01') {
        FUN_00031bc8();
    }
    DAT_00087fd8 = 8;
    pcVar15 = (char *)0x2fba;
    DAT_00091f88 = FUN_000202d4(8, 0x40, "cgminer.c", &DAT_0007466c, 0x2fba);
    DAT_00087fc8 = 0;
    DAT_00087fd4 = 1;
    local_68 = (int *)(DAT_00091f88 + 0x40);
    iVar3 = FUN_000219a8(local_68, &pStack_144, FUN_0003c940, local_68);
    if (iVar3 != 0) {
        builtin_strncpy(local_948, "API thread creat", 0x10);
        local_938._0_1_ = 'e';
        local_938._1_1_ = ' ';
        local_938._2_1_ = 'f';
        local_938._3_1_ = 'a';
        local_934._0_1_ = 'i';
        local_934._1_1_ = 'l';
        local_934._2_1_ = 'e';
        local_934._3_1_ = 'd';
        local_930 = local_930 & 0xffffff00;
        FUN_0001e4ec(3, local_948, 1);
        FUN_0004bf08(1, 0);
    }
    if ((DAT_00087fb0 != '\0') || (DAT_00091f78 != 0)) {
        local_6c = FUN_0002f5cc();
        uVar8 = FUN_00020210(0xff, "cgminer.c", &DAT_0007466c, 0x2fcb);
        *(undefined4 *)(local_6c + 0xa4) = uVar8;
        if (DAT_00091f78 == 0) {
            builtin_strncpy(*(char **)(local_6c + 0xa4), "Benchmark", 10);
        } else {
            builtin_strncpy(*(char **)(local_6c + 0xa4), "Benchfile", 10);
        }
        *(undefined4 *)(local_6c + 0xac) = *(undefined4 *)(local_6c + 0xa4);
        *(undefined4 *)(local_6c + 0xb0) = *(undefined4 *)(local_6c + 0xa4);
        *(undefined4 *)(local_6c + 0xa8) = *(undefined4 *)(local_6c + 0xa4);
        *(undefined4 *)(local_6c + 0x268) = *(undefined4 *)(local_6c + 0xa4);
        strncpy((char *)(local_6c + 0x30), "?", 7);
        *(undefined1 *)(local_6c + 0x37) = 0;
        FUN_000328b4(local_6c);
        *(undefined1 *)(local_6c + 0x61) = 0;
        DAT_00087894 = 1;
        for (local_18 = (char *)0x0; (int)local_18 < 0x10;
             local_18 = local_18 + 1) {
            FUN_000207e8(
                (int)local_18 * 0xa0 + 0x8848c,
                "000000029c6bf469abe4ad37605c097a860cff3cf5c1ef4377618f74000000"
                "000000000082b1514e7b6565941e5824f084292164ec5f97e7ea20c494bd96"
                "e524d478977b536dd2261900896c8b10020000000080000000000000000000"
                "00000000000000000000000000000000000000000000000000000000000000"
                "8002000064e4e3becc01064d808269b330f40f4de82dc92e894d635025daa3"
                "e2e2c410b4" +
                    (int)local_18 * 0x144,
                0xa0);
            FUN_000207e8(
                (int)local_18 * 0xa0 + 0x88e8c,
                "00000002c01f502cb3e9fdb053230ec12a4954c1021a6b35862b5e29000000"
                "000000000084d1b83ae44057025e8c5b5756b44f04df5fffe4a7a30e5c12d1"
                "2a97a7a4c2ea536dce431900896cb6d60e0000000080000000000000000000"
                "00000000000000000000000000000000000000000000000000000000000000"
                "80020000d08f7e14c50dad77dc238b4db2901a0578e657b1954779ab9cd82a"
                "73829edf7f" +
                    (int)local_18 * 0x144,
                0xa0);
        }
        FUN_000434d8(0, &DAT_0008988c);
    }
    if (DAT_00087aac != 0) {
        FUN_0004e8f0();
    }
    if (DAT_00087ab0 != (char *)0x0) {
        DAT_00087770 = 1;
        strcpy((char *)&DAT_00087774, DAT_00087ab0);
        if (DAT_00087ab4 != (char *)0x0) {
            strcpy((char *)&DAT_00087874, DAT_00087ab4);
        }
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            pcVar15 = (char *)&DAT_00087874;
            snprintf(local_948, 0x800, "Log file path: %s Open flag: %s",
                     &DAT_00087774, &DAT_00087874);
            FUN_0001e4ec(3, local_948, 0);
        }
    }
    if (DAT_00087ab8 != 0) {
        memset(acStack_a48, 0, 0x100);
        if (DAT_00087abc == (char *)0x0) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                snprintf(local_948, 0x800, "Log work path: %s", DAT_00087ab8,
                         pcVar15);
                FUN_0001e4ec(3, local_948, 0);
            }
        } else {
            if (*DAT_00087abc == '\0') {
                builtin_strncpy(local_948, "Log work asic nu", 0x10);
                local_938._0_1_ = 'm';
                local_938._1_1_ = ' ';
                local_938._2_1_ = 'e';
                local_938._3_1_ = 'm';
                local_934._0_1_ = 'p';
                local_934._1_1_ = 't';
                local_934._2_1_ = 'y';
                local_934._3_1_ = '\0';
                FUN_0001e4ec(3, local_948, 1);
                FUN_0004bfb0(1);
            }
            DAT_00087aa4 = atoi(DAT_00087abc);
            if (((DAT_00087aa4 != 1) && (DAT_00087aa4 != 0x20)) &&
                (DAT_00087aa4 != 0x40)) {
                builtin_strncpy(local_948, "Log work asic nu", 0x10);
                local_938._0_1_ = 'm';
                local_938._1_1_ = ' ';
                local_938._2_1_ = 'm';
                local_938._3_1_ = 'u';
                local_934._0_1_ = 's';
                local_934._1_1_ = 't';
                local_934._2_1_ = ' ';
                local_934._3_1_ = 'b';
                local_930._0_1_ = 'e';
                local_930._1_1_ = ' ';
                local_930._2_1_ = '1';
                local_930._3_1_ = ',';
                local_92c._0_1_ = ' ';
                local_92c._1_1_ = '3';
                local_92c._2_1_ = '2';
                local_92c._3_1_ = ',';
                local_928._0_1_ = ' ';
                local_928._1_1_ = '6';
                local_928._2_1_ = '4';
                local_928._3_1_ = '\0';
                FUN_0001e4ec(3, local_948, 1);
                FUN_0004bfb0(1);
            }
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                pcVar15 = DAT_00087abc;
                snprintf(local_948, 0x800, "Log work path: %s Asic num: %s",
                         DAT_00087ab8, DAT_00087abc);
                FUN_0001e4ec(3, local_948, 0);
            }
        }
        sprintf(acStack_a48, "%s.txt", DAT_00087ab8);
        DAT_00087898 = fopen64(acStack_a48, "a+");
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            snprintf(local_948, 0x800, "Log work open file %s", acStack_a48);
            FUN_0001e4ec(3, local_948, 0);
        }
        if (DAT_00087aa4 == 1) {
            sprintf(acStack_a48, "%s%02d.txt", DAT_00087ab8, 1);
            DAT_0008789c = fopen64(acStack_a48, "a+");
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                pcVar15 = acStack_a48;
                snprintf(local_948, 0x800, "Log work open asic %d file %s",
                         DAT_00087aa4, pcVar15);
                FUN_0001e4ec(3, local_948, 0);
            }
        } else if ((DAT_00087aa4 == 0x20) || (DAT_00087aa4 == 0x40)) {
            for (local_18 = (char *)0x0; (int)local_18 <= DAT_00087aa4;
                 local_18 = local_18 + 1) {
                pcVar15 = local_18;
                sprintf(acStack_a48, "%s%02d_%02d.txt", DAT_00087ab8,
                        DAT_00087aa4, local_18);
                pFVar9 = fopen64(acStack_a48, "a+");
                (&DAT_0008789c)[(int)local_18] = pFVar9;
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (2 < DAT_0008697c)) {
                    pcVar15 = acStack_a48;
                    snprintf(local_948, 0x800, "Log work open asic %d file %s",
                             DAT_00087aa4, pcVar15);
                    FUN_0001e4ec(3, local_948, 0);
                }
            }
        }
        if (DAT_00087ac0 != '\0') {
            for (local_18 = (char *)0x0; (int)local_18 < 0x41;
                 local_18 = local_18 + 1) {
                sprintf(acStack_a48, "%s_diff_%02d.txt", DAT_00087ab8,
                        local_18);
                pFVar9 = fopen64(acStack_a48, "a+");
                *(FILE **)(&DAT_000879a0 + (int)local_18 * 4) = pFVar9;
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (2 < DAT_0008697c)) {
                    snprintf(local_948, 0x800, "Log work open diff file %s",
                             acStack_a48);
                    FUN_0001e4ec(3, local_948, 0);
                }
            }
        }
    }
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (3 < DAT_0008697c)) {
        snprintf(local_948, 0x800, "Started %s", &DAT_00087ea4, pcVar15);
        FUN_0001e4ec(4, local_948, 0);
    }
    if (DAT_00087e9c != (void *)0x0) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (4 < DAT_0008697c)) {
            snprintf(local_948, 0x800, "Loaded configuration file %s",
                     DAT_00087e9c);
            FUN_0001e4ec(5, local_948, 0);
        }
        if (DAT_0008837c == -1) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (3 < DAT_0008697c)) {
                builtin_strncpy(local_948, "Error in configu", 0x10);
                local_938._0_1_ = 'r';
                local_938._1_1_ = 'a';
                local_938._2_1_ = 't';
                local_938._3_1_ = 'i';
                local_934._0_1_ = 'o';
                local_934._1_1_ = 'n';
                local_934._2_1_ = ' ';
                local_934._3_1_ = 'f';
                local_930._0_1_ = 'i';
                local_930._1_1_ = 'l';
                local_930._2_1_ = 'e';
                local_930._3_1_ = ',';
                local_92c._0_1_ = ' ';
                local_92c._1_1_ = 'p';
                local_92c._2_1_ = 'a';
                local_92c._3_1_ = 'r';
                local_928._0_1_ = 't';
                local_928._1_1_ = 'i';
                local_928._2_1_ = 'a';
                local_928._3_1_ = 'l';
                local_924._0_1_ = 'l';
                local_924._1_1_ = 'y';
                local_924._2_1_ = ' ';
                local_924._3_1_ = 'l';
                local_920._0_1_ = 'o';
                local_920._1_1_ = 'a';
                local_920._2_1_ = 'd';
                local_920._3_1_ = 'e';
                local_91c._0_3_ = 0x2e64;
                FUN_0001e4ec(4, local_948, 0);
            }
            if ((DAT_00095242 != '\0') &&
                (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                  (3 < DAT_0008697c)))) {
                builtin_strncpy(local_948, "Start cgminer wi", 0x10);
                local_938._0_1_ = 't';
                local_938._1_1_ = 'h';
                local_938._2_1_ = ' ';
                local_938._3_1_ = '-';
                local_934._0_1_ = 'T';
                local_934._1_1_ = ' ';
                local_934._2_1_ = 't';
                local_934._3_1_ = 'o';
                local_930._0_1_ = ' ';
                local_930._1_1_ = 's';
                local_930._2_1_ = 'e';
                local_930._3_1_ = 'e';
                local_92c._0_1_ = ' ';
                local_92c._1_1_ = 'w';
                local_92c._2_1_ = 'h';
                local_92c._3_1_ = 'a';
                local_928._0_1_ = 't';
                local_928._1_1_ = ' ';
                local_928._2_1_ = 'f';
                local_928._3_1_ = 'a';
                local_924._0_1_ = 'i';
                local_924._1_1_ = 'l';
                local_924._2_1_ = 'e';
                local_924._3_1_ = 'd';
                local_920._0_1_ = ' ';
                local_920._1_1_ = 't';
                local_920._2_1_ = 'o';
                local_920._3_1_ = ' ';
                local_91c._0_1_ = 'l';
                local_91c._1_1_ = 'o';
                local_91c._2_1_ = 'a';
                local_91c._3_1_ = 'd';
                local_918._0_2_ = 0x2e;
                FUN_0001e4ec(4, local_948, 0);
            }
        } else if (DAT_0008837c == 0) {
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (3 < DAT_0008697c)) {
                builtin_strncpy(local_948, "Fatal JSON error", 0x10);
                local_938._0_1_ = ' ';
                local_938._1_1_ = 'i';
                local_938._2_1_ = 'n';
                local_938._3_1_ = ' ';
                local_934._0_1_ = 'c';
                local_934._1_1_ = 'o';
                local_934._2_1_ = 'n';
                local_934._3_1_ = 'f';
                local_930._0_1_ = 'i';
                local_930._1_1_ = 'g';
                local_930._2_1_ = 'u';
                local_930._3_1_ = 'r';
                local_92c._0_1_ = 'a';
                local_92c._1_1_ = 't';
                local_92c._2_1_ = 'i';
                local_92c._3_1_ = 'o';
                local_928._0_1_ = 'n';
                local_928._1_1_ = ' ';
                local_928._2_1_ = 'f';
                local_928._3_1_ = 'i';
                local_924._0_1_ = 'l';
                local_924._1_1_ = 'e';
                local_924._2_1_ = '.';
                local_924._3_1_ = '\0';
                FUN_0001e4ec(4, local_948, 0);
            }
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (3 < DAT_0008697c)) {
                builtin_strncpy(local_948, "Configuration fi", 0x10);
                local_938._0_1_ = 'l';
                local_938._1_1_ = 'e';
                local_938._2_1_ = ' ';
                local_938._3_1_ = 'c';
                local_934._0_1_ = 'o';
                local_934._1_1_ = 'u';
                local_934._2_1_ = 'l';
                local_934._3_1_ = 'd';
                local_930._0_1_ = ' ';
                local_930._1_1_ = 'n';
                local_930._2_1_ = 'o';
                local_930._3_1_ = 't';
                local_92c._0_1_ = ' ';
                local_92c._1_1_ = 'b';
                local_92c._2_1_ = 'e';
                local_92c._3_1_ = ' ';
                local_928._0_1_ = 'u';
                local_928._1_1_ = 's';
                local_928._2_1_ = 'e';
                local_928._3_1_ = 'd';
                local_924 = CONCAT22(local_924._2_2_, 0x2e);
                FUN_0001e4ec(4, local_948, 0);
            }
        }
        free(DAT_00087e9c);
        DAT_00087e9c = (void *)0x0;
    }
    pcVar5 = DAT_000953f8;
    sVar6 = strlen(DAT_000953f8);
    (pcVar5 + sVar6)[0] = '/';
    (pcVar5 + sVar6)[1] = '\0';
    if (DAT_000951dc != '\0') {
        DAT_00087769 = '\x01';
    }
    if (DAT_00087769 == '\0') {
        setlogmask(0x3f);
    } else {
        setlogmask(0xff);
    }
    if (DAT_00086c2c < 0) {
        DAT_00086c2c = 0x3c;
    }
    FUN_0004c7cc(&DAT_00091e60);
    FUN_0004c7cc(&DAT_00091de8);
    FUN_0004c7cc(&DAT_00091ed8);
    FUN_0004c7cc(&DAT_000876a0);
    (*DAT_00091e6c)(0);
    (*DAT_00091df4)(0);
    (*DAT_00091ee4)(0);
    (*DAT_000876ac)(0);
    if (DAT_00087fb3 != '\0') {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            builtin_strncpy(local_948, "Devices detected", 0x10);
            local_938._0_2_ = 0x3a;
            FUN_0001e4ec(3, local_948, 0);
        }
        for (local_18 = (char *)0x0; (int)local_18 < DAT_000941a8;
             local_18 = (char *)((int)local_18 + 1)) {
            local_70 = *(int *)(DAT_00094130 + (int)local_18 * 4);
            if (*(int *)(local_70 + 0xc) == 0) {
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (2 < DAT_0008697c)) {
                    pcVar15 = *(char **)(*(int *)(local_70 + 4) + 8);
                    snprintf(local_948, 0x800, " %2d. %s %d (driver: %s)",
                             local_18, pcVar15, *(undefined4 *)(local_70 + 8),
                             *(undefined4 *)(*(int *)(local_70 + 4) + 4));
                    FUN_0001e4ec(3, local_948, 0);
                }
            } else if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                       (2 < DAT_0008697c)) {
                pcVar15 = *(char **)(*(int *)(local_70 + 4) + 8);
                snprintf(local_948, 0x800, " %2d. %s %d: %s (driver: %s)",
                         local_18, pcVar15, *(undefined4 *)(local_70 + 8),
                         *(undefined4 *)(local_70 + 0xc),
                         *(undefined4 *)(*(int *)(local_70 + 4) + 4));
                FUN_0001e4ec(3, local_948, 0);
            }
        }
        snprintf(local_948, 0x800, "%d devices listed", DAT_000941a8, pcVar15);
        FUN_0001e4ec(3, local_948, 1);
        FUN_0004bf08(0, 0);
    }
    DAT_000953f0 = 0;
    for (local_18 = (char *)0x0; (int)local_18 < DAT_000941a8;
         local_18 = (char *)((int)local_18 + 1)) {
        FUN_0004cba0(*(undefined4 *)(DAT_00094130 + (int)local_18 * 4));
    }
    if (DAT_000941a8 == 0) {
        builtin_strncpy(local_948, "All devices disa", 0x10);
        local_938._0_1_ = 'b';
        local_938._1_1_ = 'l';
        local_938._2_1_ = 'e';
        local_938._3_1_ = 'd';
        local_934._0_1_ = ',';
        local_934._1_1_ = ' ';
        local_934._2_1_ = 'c';
        local_934._3_1_ = 'a';
        local_930._0_1_ = 'n';
        local_930._1_1_ = 'n';
        local_930._2_1_ = 'o';
        local_930._3_1_ = 't';
        local_92c._0_1_ = ' ';
        local_92c._1_1_ = 'm';
        local_92c._2_1_ = 'i';
        local_92c._3_1_ = 'n';
        local_928._0_3_ = 0x2174;
        FUN_0001e4ec(3, local_948, 1);
        FUN_0004bf08(1, 0);
    }
    DAT_00087fb4 = DAT_000941a8;
    FUN_00030f3c();
    for (local_18 = (char *)0x0; (int)local_18 < DAT_000941a8;
         local_18 = (char *)((int)local_18 + 1)) {
        *(undefined4 *)(*(int *)(DAT_00094130 + (int)local_18 * 4) + 0x138) =
            99999999;
    }
    if (DAT_00095240 != '\x01') {
        DAT_00088484 = DAT_00088484 + DAT_00087fb4;
        DAT_00088488 = DAT_00088484 + 1;
    }
    while (local_48 = FUN_00050a2c(), local_48 != 0) {
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            builtin_strncpy(local_948, "check no pool an", 0x10);
            local_938._0_1_ = 'd';
            local_938._1_1_ = ' ';
            local_938._2_1_ = 'u';
            local_938._3_1_ = 's';
            local_934._0_1_ = 'e';
            local_934._1_1_ = 'r';
            local_934._2_1_ = ' ';
            local_934._3_1_ = 'r';
            local_930._0_1_ = 'e';
            local_930._1_1_ = 't';
            local_930._2_1_ = 'r';
            local_930._3_1_ = 'y';
            local_92c._0_2_ = 0x21;
            FUN_0001e4ec(7, local_948, 0);
        }
        sleep(1);
    }
    if (DAT_00092028 == 0) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (3 < DAT_0008697c)) {
            builtin_strncpy(local_948, "Need to specify ", 0x10);
            local_938._0_1_ = 'a';
            local_938._1_1_ = 't';
            local_938._2_1_ = ' ';
            local_938._3_1_ = 'l';
            local_934._0_1_ = 'e';
            local_934._1_1_ = 'a';
            local_934._2_1_ = 's';
            local_934._3_1_ = 't';
            local_930._0_1_ = ' ';
            local_930._1_1_ = 'o';
            local_930._2_1_ = 'n';
            local_930._3_1_ = 'e';
            local_92c._0_1_ = ' ';
            local_92c._1_1_ = 'p';
            local_92c._2_1_ = 'o';
            local_92c._3_1_ = 'o';
            local_928._0_1_ = 'l';
            local_928._1_1_ = ' ';
            local_928._2_1_ = 's';
            local_928._3_1_ = 'e';
            local_924._0_1_ = 'r';
            local_924._1_1_ = 'v';
            local_924._2_1_ = 'e';
            local_924._3_1_ = 'r';
            local_920 = CONCAT22(local_920._2_2_, 0x2e);
            FUN_0001e4ec(4, local_948, 0);
        }
        builtin_strncpy(local_948, "Pool setup faile", 0x10);
        local_938._0_2_ = 100;
        FUN_0001e4ec(3, local_948, 1);
        FUN_0004bf08(1, 0);
    }
    for (local_18 = (char *)0x0; (int)local_18 < DAT_00092028;
         local_18 = (char *)((int)local_18 + 1)) {
        local_74 = DAT_000920cc[(int)local_18];
        *(undefined4 *)(local_74 + 0x194) = 99999999;
        *(undefined4 *)(local_74 + 0x1b8) = 99999999;
        if (*(int *)(local_74 + 0xa8) == 0) {
            if (*(int *)(local_74 + 0xb0) == 0) {
                pcVar15 = strdup("");
                *(char **)(local_74 + 0xb0) = pcVar15;
            }
            if (*(int *)(local_74 + 0xac) == 0) {
                snprintf(local_948, 0x800,
                         "No login credentials supplied for pool %u %s",
                         local_18, *(undefined4 *)(local_74 + 0xa4));
                FUN_0001e4ec(3, local_948, 1);
                FUN_0004bf08(1, 0);
            }
            sVar6 = strlen(*(char **)(local_74 + 0xac));
            sVar10 = strlen(*(char **)(local_74 + 0xb0));
            local_78 = sVar6 + sVar10 + 2;
            uVar8 = FUN_00020210(local_78, "cgminer.c", &DAT_0007466c, 0x30df);
            *(undefined4 *)(local_74 + 0xa8) = uVar8;
            snprintf(*(char **)(local_74 + 0xa8), local_78, "%s:%s",
                     *(undefined4 *)(local_74 + 0xac),
                     *(undefined4 *)(local_74 + 0xb0));
        }
    }
    DAT_00088090 = *DAT_000920cc;
    if (DAT_00091f58 != '\0') {
        openlog("cgminer", 1, 8);
    }
    if (DAT_00088140 != 0) {
        FUN_0004c378();
    }
    DAT_000930e8 =
        FUN_000202d4(DAT_000953f0, 4, "cgminer.c", &DAT_0007466c, 0x30f0);
    for (local_18 = (char *)0x0; (int)local_18 < DAT_000953f0;
         local_18 = (char *)((int)local_18 + 1)) {
        puVar14 = (undefined4 *)(DAT_000930e8 + (int)local_18 * 4);
        uVar8 = FUN_000202d4(1, 0x40, "cgminer.c", &DAT_0007466c, 0x30f4);
        *puVar14 = uVar8;
    }
    local_24 = 0;
    for (local_18 = (char *)0x0; (int)local_18 < DAT_000941a8;
         local_18 = (char *)((int)local_18 + 1)) {
        local_7c = *(int *)(DAT_00094130 + (int)local_18 * 4);
        uVar8 = FUN_00020210((*(int *)(local_7c + 0x94) + 1) * 4, "cgminer.c",
                             &DAT_0007466c, 0x30fd);
        *(undefined4 *)(local_7c + 0x98) = uVar8;
        *(undefined4 *)(*(int *)(local_7c + 0x98) +
                        *(int *)(local_7c + 0x94) * 4) = 0;
        *(undefined4 *)(local_7c + 0x60) = 4;
        for (local_1c = 0; local_1c < *(int *)(local_7c + 0x94);
             local_1c = local_1c + 1) {
            local_68 = (int *)FUN_0002eef8(local_24);
            *local_68 = local_24;
            local_68[9] = local_7c;
            local_68[1] = local_1c;
            cVar2 = (**(code **)(*(int *)(local_7c + 4) + 0x2c))(local_68);
            if (cVar2 == '\x01') {
                iVar3 =
                    FUN_000219a8(local_68, &pStack_144, FUN_00048d8c, local_68);
                if (iVar3 != 0) {
                    snprintf(local_948, 0x800, "thread %d create failed",
                             *local_68);
                    FUN_0001e4ec(3, local_948, 1);
                    FUN_0004bf08(1, 0);
                }
                *(int **)(*(int *)(local_7c + 0x98) + local_1c * 4) = local_68;
                if (*(int *)(local_7c + 0x20) != 1) {
                    if ((DAT_00087768 != '\0') &&
                        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                          (6 < DAT_0008697c)))) {
                        snprintf(local_948, 0x800,
                                 "Pushing sem post to thread %d", *local_68);
                        FUN_0001e4ec(7, local_948, 0);
                    }
                    FUN_0002ba68(local_68 + 4, "cgminer.c", &DAT_0007466c,
                                 0x3119);
                }
            }
            local_24 = local_24 + 1;
        }
    }
    if ((DAT_00087fb0 == '\0') && (DAT_00091f78 == 0)) {
        pthread_mutex_lock((pthread_mutex_t *)&DAT_00087e7c);
        for (local_18 = (char *)0x0; (int)local_18 < DAT_00092028;
             local_18 = (char *)((int)local_18 + 1)) {
            local_80 = DAT_000920cc[(int)local_18];
            FUN_000328b4(local_80);
            *(undefined1 *)(local_80 + 0x61) = 1;
        }
        if (DAT_00087aac != 0) {
            FUN_0004e8f0();
        }
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (4 < DAT_0008697c)) {
            builtin_strncpy(local_948, "Probing for an a", 0x10);
            local_938._0_1_ = 'l';
            local_938._1_1_ = 'i';
            local_938._2_1_ = 'v';
            local_938._3_1_ = 'e';
            local_934._0_1_ = ' ';
            local_934._1_1_ = 'p';
            local_934._2_1_ = 'o';
            local_934._3_1_ = 'o';
            local_930 = CONCAT22(local_930._2_2_, 0x6c);
            FUN_0001e4ec(5, local_948, 0);
        }
        FUN_0004e63c();
        pthread_mutex_unlock((pthread_mutex_t *)&DAT_00087e7c);
        do {
            sleep(1);
            local_20 = local_20 + 1;
            if (DAT_000898c8 == '\x01')
                break;
        } while (local_20 < 0xb4);
        while (DAT_000898c8 != '\x01') {
            if (local_11 != '\x01') {
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (2 < DAT_0008697c)) {
                    builtin_strncpy(local_948, "No servers were ", 0x10);
                    local_938._0_1_ = 'f';
                    local_938._1_1_ = 'o';
                    local_938._2_1_ = 'u';
                    local_938._3_1_ = 'n';
                    local_934._0_1_ = 'd';
                    local_934._1_1_ = ' ';
                    local_934._2_1_ = 't';
                    local_934._3_1_ = 'h';
                    local_930._0_1_ = 'a';
                    local_930._1_1_ = 't';
                    local_930._2_1_ = ' ';
                    local_930._3_1_ = 'c';
                    local_92c._0_1_ = 'o';
                    local_92c._1_1_ = 'u';
                    local_92c._2_1_ = 'l';
                    local_92c._3_1_ = 'd';
                    local_928._0_1_ = ' ';
                    local_928._1_1_ = 'b';
                    local_928._2_1_ = 'e';
                    local_928._3_1_ = ' ';
                    local_924._0_1_ = 'u';
                    local_924._1_1_ = 's';
                    local_924._2_1_ = 'e';
                    local_924._3_1_ = 'd';
                    local_920._0_1_ = ' ';
                    local_920._1_1_ = 't';
                    local_920._2_1_ = 'o';
                    local_920._3_1_ = ' ';
                    local_91c._0_1_ = 'g';
                    local_91c._1_1_ = 'e';
                    local_91c._2_1_ = 't';
                    local_91c._3_1_ = ' ';
                    local_918._0_1_ = 'w';
                    local_918._1_1_ = 'o';
                    local_918._2_1_ = 'r';
                    local_918._3_1_ = 'k';
                    builtin_strncpy(acStack_914, " fro", 4);
                    local_910 = 0x2e6d;
                    local_90e = 0;
                    FUN_0001e4ec(3, local_948, 0);
                }
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (2 < DAT_0008697c)) {
                    memcpy(local_948,
                           "Please check the details from the list below of "
                           "the servers you have input",
                           0x4b);
                    FUN_0001e4ec(3, local_948, 0);
                }
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (2 < DAT_0008697c)) {
                    memcpy(
                        local_948,
                        "Most likely you have input the wrong URL, forgotten "
                        "to add a port, or have not set up workers",
                        0x5e);
                    FUN_0001e4ec(3, local_948, 0);
                }
                for (local_18 = (char *)0x0; (int)local_18 < DAT_00092028;
                     local_18 = (char *)((int)local_18 + 1)) {
                    local_84 = DAT_000920cc[(int)local_18];
                    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                        (3 < DAT_0008697c)) {
                        snprintf(local_948, 0x800,
                                 "Pool: %d  URL: %s  User: %s  Password: %s",
                                 local_18, *(undefined4 *)(local_84 + 0xa4),
                                 *(undefined4 *)(local_84 + 0xac),
                                 *(undefined4 *)(local_84 + 0xb0));
                        FUN_0001e4ec(4, local_948, 0);
                    }
                }
                local_11 = '\x01';
                if ((DAT_00095242 != '\0') &&
                    (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                      (2 < DAT_0008697c)))) {
                    memcpy(local_948,
                           "Press any key to exit, or cgminer will wait "
                           "indefinitely for an alive pool.",
                           0x4c);
                    FUN_0001e4ec(3, local_948, 0);
                }
            }
            if (((DAT_00095242 != '\x01') && (DAT_00087768 != '\0')) &&
                ((DAT_00091f58 != '\0' ||
                  ((DAT_00087769 != '\0' || (6 < DAT_0008697c)))))) {
                builtin_strncpy(local_948, "No servers could", 0x10);
                local_938._0_1_ = ' ';
                local_938._1_1_ = 'b';
                local_938._2_1_ = 'e';
                local_938._3_1_ = ' ';
                local_934._0_1_ = 'u';
                local_934._1_1_ = 's';
                local_934._2_1_ = 'e';
                local_934._3_1_ = 'd';
                local_930._0_1_ = '!';
                local_930._1_1_ = ' ';
                local_930._2_1_ = 'E';
                local_930._3_1_ = 'x';
                local_92c._0_1_ = 'i';
                local_92c._1_1_ = 't';
                local_92c._2_1_ = 'i';
                local_92c._3_1_ = 'n';
                local_928._0_3_ = 0x2e67;
                FUN_0001e4ec(7, local_948, 0);
            }
            FUN_0002251c(500);
        }
        local_148[0] = 'g';
        local_148[1] = 'o';
        local_148[2] = '\0';
        local_148[3] = '\0';
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (4 < DAT_0008697c)) {
            snprintf(local_948, 0x800, "check success, send %s", local_148);
            FUN_0001e4ec(5, local_948, 0);
        }
        for (local_18 = (char *)0x0; (int)local_18 < 8;
             local_18 = (char *)((int)local_18 + 1)) {
            sVar6 = strlen(local_148);
            local_48 = FUN_000585b0(local_148, sVar6);
            if (local_48 == 0) {
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (4 < DAT_0008697c)) {
                    snprintf(local_948, 0x800,
                             "check success, send %s, times=%d", local_148,
                             local_18);
                    FUN_0001e4ec(5, local_948, 0);
                }
                break;
            }
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (4 < DAT_0008697c)) {
                snprintf(local_948, 0x800,
                         "bitmain_flush_api fail: send %s, times=%d, ret=%d",
                         local_148, local_18, local_48);
                FUN_0001e4ec(5, local_948, 0);
            }
            FUN_0002251c(1000);
        }
    }
    DAT_00091f50 = 0;
    DAT_00091f54 = 0;
    for (local_18 = (char *)0x0; (int)local_18 < 0xc;
         local_18 = (char *)((int)local_18 + 1)) {
        *(undefined4 *)(&DAT_00087ad8 + (int)local_18 * 8) = 0;
        (&DAT_00087adc)[(int)local_18 * 2] = 0;
    }
    DAT_00087b38 = 0;
    for (local_18 = (char *)0x0; (int)local_18 < DAT_000941a8;
         local_18 = (char *)((int)local_18 + 1)) {
        local_88 = *(int *)(DAT_00094130 + (int)local_18 * 4);
        *(undefined4 *)(local_88 + 0x50) = 0;
        *(undefined4 *)(local_88 + 0x54) = 0;
        *(undefined4 *)(local_88 + 0x30) = *(undefined4 *)(local_88 + 0x50);
        *(undefined4 *)(local_88 + 0x34) = *(undefined4 *)(local_88 + 0x54);
    }
    FUN_00022308(&DAT_00088068);
    FUN_00022308(&DAT_00088070);
    FUN_00022308(&DAT_000898b4);
    FUN_0002ed04(&DAT_000880d8, 0x28, &DAT_00088068);
    DAT_00087fcc = 3;
    local_68 = (int *)(DAT_00091f88 + 0xc0);
    iVar3 = FUN_000219a8(local_68, &pStack_144, FUN_00049734, 0);
    if (iVar3 != 0) {
        builtin_strncpy(local_948, "watchpool thread", 0x10);
        local_938._0_1_ = ' ';
        local_938._1_1_ = 'c';
        local_938._2_1_ = 'r';
        local_938._3_1_ = 'e';
        local_934._0_1_ = 'a';
        local_934._1_1_ = 't';
        local_934._2_1_ = 'e';
        local_934._3_1_ = ' ';
        local_930._0_1_ = 'f';
        local_930._1_1_ = 'a';
        local_930._2_1_ = 'i';
        local_930._3_1_ = 'l';
        local_92c._0_3_ = 0x6465;
        FUN_0001e4ec(3, local_948, 1);
        FUN_0004bf08(1, 0);
    }
    pthread_detach(*(pthread_t *)((int)local_68 + 0xc));
    DAT_00087fd0 = 4;
    local_68 = (int *)(DAT_00091f88 + 0x100);
    iVar3 = FUN_000219a8(local_68, &pStack_144, FUN_00049af8, 0);
    if (iVar3 != 0) {
        builtin_strncpy(local_948, "watchdog thread ", 0x10);
        local_938._0_1_ = 'c';
        local_938._1_1_ = 'r';
        local_938._2_1_ = 'e';
        local_938._3_1_ = 'a';
        local_934._0_1_ = 't';
        local_934._1_1_ = 'e';
        local_934._2_1_ = ' ';
        local_934._3_1_ = 'f';
        local_930._0_1_ = 'a';
        local_930._1_1_ = 'i';
        local_930._2_1_ = 'l';
        local_930._3_1_ = 'e';
        local_92c._0_2_ = 100;
        FUN_0001e4ec(3, local_948, 1);
        FUN_0004bf08(1, 0);
    }
    pthread_detach(*(pthread_t *)((int)local_68 + 0xc));
    if (DAT_00087fd8 != 8) {
        snprintf(local_948, 0x800,
                 "incorrect total_control_threads (%d) should be 8",
                 DAT_00087fd8);
        FUN_0001e4ec(3, local_948, 1);
        FUN_0004bf08(1, 0);
    }
    iVar3 = FUN_0003c640();
    do {
        while (true) {
            while (true) {
                while (true) {
                    while (true) {
                        local_8c = DAT_00086c28;
                        if (DAT_00095230 != '\0') {
                            FUN_000373e8(iVar3);
                        }
                        DAT_00095230 = '\0';
                        FUN_0002e354(DAT_00087fe4, "cgminer.c", &DAT_0007466c,
                                     0x31df);
                        local_44 = FUN_0003210c();
                        if (local_8c < local_44) {
                            DAT_00087fb1 = 1;
                            pthread_cond_wait((pthread_cond_t *)&DAT_00092030,
                                              DAT_00087fe4);
                            local_44 = FUN_0003210c();
                        }
                        FUN_0002e484(DAT_00087fe4, "cgminer.c", &DAT_0007466c,
                                     0x31ea);
                        if (local_44 <= local_8c)
                            break;
                        DAT_00087fb1 = 1;
                        local_120 = FUN_00042d98(0);
                        if (local_120 == 0) {
                            iVar3 = 0;
                        } else {
                            iVar3 = FUN_00036898(&local_120, "cgminer.c",
                                                 &DAT_0007466c, 0x31f6);
                        }
                    }
                    if (local_120 != 0) {
                        FUN_00036898(&local_120, "cgminer.c", &DAT_0007466c,
                                     0x31fe);
                    }
                    local_120 = FUN_00031e10();
                    while (true) {
                        pthread_mutex_lock((pthread_mutex_t *)&DAT_00087e7c);
                        local_90 = FUN_0003391c();
                        cVar2 = FUN_000337a8(local_90);
                        if (cVar2 != '\x01')
                            break;
                        FUN_000364ac(0);
                        local_90 = FUN_0003391c();
                        iVar3 = FUN_000337a8(local_90);
                        if (iVar3 == 0) {
                            pthread_mutex_unlock(
                                (pthread_mutex_t *)&DAT_00087e7c);
                        } else {
                            pthread_mutex_unlock(
                                (pthread_mutex_t *)&DAT_00087e7c);
                            FUN_0002251c(0xb);
                        }
                    }
                    DAT_0008812c = 0;
                    pthread_mutex_unlock((pthread_mutex_t *)&DAT_00087e7c);
                    pthread_mutex_lock((pthread_mutex_t *)&DAT_00087e7c);
                    if (DAT_0008812c != 1)
                        break;
                    DAT_0008812c = 0;
                    iVar3 =
                        pthread_mutex_unlock((pthread_mutex_t *)&DAT_00087e7c);
                }
                if (*(char *)(local_90 + 0x290) == '\0')
                    break;
                FUN_000439d8(local_90, local_120);
                if ((DAT_00087768 != '\0') &&
                    (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                      (6 < DAT_0008697c)))) {
                    builtin_strncpy(local_948, "Generated stratu", 0x10);
                    local_938._0_1_ = 'm';
                    local_938._1_1_ = ' ';
                    local_938._2_1_ = 'w';
                    local_938._3_1_ = 'o';
                    local_934._0_3_ = 0x6b72;
                    FUN_0001e4ec(7, local_948, 0);
                }
                FUN_0003b464(local_120);
                local_120 = 0;
                iVar3 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00087e7c);
            }
            iVar3 = pthread_mutex_unlock((pthread_mutex_t *)&DAT_00087e7c);
            if (DAT_00091f78 != 0)
                break;
            if (DAT_00087fb0 != '\0') {
                FUN_00034004(local_120);
                if ((DAT_00087768 != '\0') &&
                    (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                      (6 < DAT_0008697c)))) {
                    builtin_strncpy(local_948, "Generated benchm", 0x10);
                    local_938._0_1_ = 'a';
                    local_938._1_1_ = 'r';
                    local_938._2_1_ = 'k';
                    local_938._3_1_ = ' ';
                    local_934._0_1_ = 'w';
                    local_934._1_1_ = 'o';
                    local_934._2_1_ = 'r';
                    local_934._3_1_ = 'k';
                    local_930 = local_930 & 0xffffff00;
                    FUN_0001e4ec(7, local_948, 0);
                }
                iVar3 = FUN_0003b464(local_120);
                local_120 = 0;
            }
        }
        FUN_00034aa8(local_120);
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            builtin_strncpy(local_948, "Generated benchf", 0x10);
            local_938._0_1_ = 'i';
            local_938._1_1_ = 'l';
            local_938._2_1_ = 'e';
            local_938._3_1_ = ' ';
            local_934._0_1_ = 'w';
            local_934._1_1_ = 'o';
            local_934._2_1_ = 'r';
            local_934._3_1_ = 'k';
            local_930 = local_930 & 0xffffff00;
            FUN_0001e4ec(7, local_948, 0);
        }
        iVar3 = FUN_0003b464(local_120);
        local_120 = 0;
    } while (true);
}

char *FUN_00054fa8(char *param_1, char *param_2)

{
    size_t sVar1;
    size_t sVar2;
    char *__s;

    sVar1 = strlen(param_1);
    sVar2 = strlen(param_2);
    __s = (char *)malloc(sVar1 + sVar2);
    sprintf(__s, param_1, param_2);
    return __s;
}

undefined4 FUN_00055008(undefined1 *param_1)

{
    *param_1 = 1;
    return 0;
}

undefined4 FUN_00055038(undefined1 *param_1)

{
    *param_1 = 0;
    return 0;
}

undefined4 FUN_00055068(undefined1 *param_1)

{
    *param_1 = 0;
    return 0;
}

undefined4 FUN_00055098(char *param_1, undefined4 param_2)

{
    int iVar1;
    undefined4 uVar2;

    iVar1 = strcasecmp(param_1, "yes");
    if ((iVar1 == 0) || (iVar1 = strcasecmp(param_1, "true"), iVar1 == 0)) {
        uVar2 = FUN_00055008(param_2);
    } else {
        iVar1 = strcasecmp(param_1, "no");
        if ((iVar1 == 0) ||
            (iVar1 = strcasecmp(param_1, "false"), iVar1 == 0)) {
            uVar2 = FUN_00055068(param_2);
        } else {
            uVar2 = FUN_00056348(param_1);
        }
    }
    return uVar2;
}

int FUN_00055154(undefined4 param_1, char *param_2)

{
    int iVar1;

    iVar1 = FUN_00055098(param_1, param_2);
    if (iVar1 == 0) {
        *param_2 = *param_2 == '\0';
    }
    return iVar1;
}

undefined4 FUN_000551c4(undefined4 param_1, undefined4 *param_2)

{
    *param_2 = param_1;
    return 0;
}

int FUN_000551f8(undefined4 param_1, int *param_2)

{
    int local_10;
    int local_c;

    local_c = FUN_000553b0(param_1, &local_10);
    if ((local_c == 0) && (*param_2 = local_10, *param_2 != local_10)) {
        local_c =
            FUN_00054fa8("value \'%s\' does not fit into an integer", param_1);
    }
    return local_c;
}

undefined4 FUN_0005527c(char *param_1, float *param_2)

{
    int *piVar1;
    undefined4 uVar2;
    float fVar3;
    char *local_c;

    piVar1 = __errno_location();
    *piVar1 = 0;
    fVar3 = strtof(param_1, &local_c);
    *param_2 = fVar3;
    if ((*local_c == '\0') && (*param_1 != '\0')) {
        piVar1 = __errno_location();
        if (*piVar1 == 0) {
            uVar2 = 0;
        } else {
            uVar2 = FUN_00054fa8("\'%s\' is out of range", param_1);
        }
    } else {
        uVar2 = FUN_00054fa8("\'%s\' is not a number", param_1);
    }
    return uVar2;
}

int FUN_00055330(undefined4 param_1, int *param_2)

{
    int local_10;
    int local_c;

    local_c = FUN_000551f8(param_1, &local_10);
    if (local_c == 0) {
        if (local_10 < 0) {
            local_c = FUN_00054fa8("\'%s\' is negative", param_1);
        } else {
            *param_2 = local_10;
            local_c = 0;
        }
    }
    return local_c;
}

undefined4 FUN_000553b0(char *param_1, long *param_2)

{
    int *piVar1;
    long lVar2;
    undefined4 uVar3;
    char *local_c;

    piVar1 = __errno_location();
    *piVar1 = 0;
    lVar2 = strtol(param_1, &local_c, 0);
    *param_2 = lVar2;
    if ((*local_c == '\0') && (*param_1 != '\0')) {
        piVar1 = __errno_location();
        if (*piVar1 == 0) {
            uVar3 = 0;
        } else {
            uVar3 = FUN_00054fa8("\'%s\' is out of range", param_1);
        }
    } else {
        uVar3 = FUN_00054fa8("\'%s\' is not a number", param_1);
    }
    return uVar3;
}

int FUN_00055468(undefined4 param_1, int *param_2)

{
    int local_10;
    int local_c;

    local_c = FUN_000553b0(param_1, &local_10);
    if (local_c == 0) {
        *param_2 = local_10;
        if (local_10 < 0) {
            local_c = FUN_00054fa8("\'%s\' is negative", param_1);
        } else {
            local_c = 0;
        }
    }
    return local_c;
}

void FUN_00055520(char *param_1)

{
    puts(param_1);
    fflush(stdout);
    /* WARNING: Subroutine does not return */
    exit(0);
}

void FUN_00055554(undefined4 param_1)

{
    undefined4 uVar1;

    uVar1 = FUN_00056c74(DAT_000954c0, param_1);
    printf("%s", uVar1);
    fflush(stdout);
    /* WARNING: Subroutine does not return */
    exit(0);
}

void FUN_000555ac(char *param_1, char *param_2)

{
    uint uVar1;

    if (*param_2 == '\0') {
        uVar1 = 0x4688;
    } else {
        uVar1 = 0x467c;
    }
    strncpy(param_1, (char *)(uVar1 | 0x70000), 0x50);
    return;
}

void FUN_000555fc(char *param_1, char *param_2)

{
    uint uVar1;

    if (*param_2 == '\0') {
        uVar1 = 0x467c;
    } else {
        uVar1 = 0x4688;
    }
    strncpy(param_1, (char *)(uVar1 | 0x70000), 0x50);
    return;
}

void FUN_0005564c(undefined1 *param_1, undefined4 *param_2)

{
    size_t local_c;

    local_c = strlen((char *)*param_2);
    *param_1 = 0x22;
    if (0x4e < local_c) {
        local_c = 0x4e;
    }
    strncpy(param_1 + 1, (char *)*param_2, local_c);
    param_1[local_c + 1] = 0x22;
    if (local_c < 0x4e) {
        param_1[local_c + 2] = 0;
    }
    return;
}

void FUN_000556f4(char *param_1, undefined4 *param_2)

{
    snprintf(param_1, 0x50, "%i", *param_2);
    return;
}

void FUN_0005572c(char *param_1, float *param_2)

{
    snprintf(param_1, 0x50, "%.1f", param_2, (double)*param_2);
    return;
}

void FUN_0005576c(char *param_1, undefined4 *param_2)

{
    snprintf(param_1, 0x50, "%u", *param_2);
    return;
}

void FUN_000557a4(char *param_1, undefined4 *param_2)

{
    snprintf(param_1, 0x50, "%li", *param_2);
    return;
}

void FUN_000557dc(char *param_1, undefined4 *param_2)

{
    snprintf(param_1, 0x50, "%lu", *param_2);
    return;
}

int FUN_00055814(int param_1, size_t *param_2)

{
    size_t sVar1;

    sVar1 = strcspn((char *)(param_1 + 1), "|= ");
    *param_2 = sVar1;
    return param_1 + 1;
}

undefined4 FUN_00055860(int param_1, int *param_2)

{
    char *pcVar1;
    undefined4 uVar2;

    pcVar1 = (char *)(param_1 + *param_2);
    if (((*pcVar1 == ' ') || (*pcVar1 == '=')) || (*pcVar1 == '\0')) {
        uVar2 = 0;
    } else {
        uVar2 = FUN_00055814(pcVar1 + 1, param_2);
    }
    return uVar2;
}

undefined4 FUN_000558e4(uint *param_1, undefined4 param_2)

{
    undefined4 uVar1;

    *param_1 = 0;
    while (true) {
        if (DAT_000954b4 <= *param_1) {
            return 0;
        }
        if (*(int *)(DAT_000954bc + *param_1 * 0x1c + 4) != 8)
            break;
        *param_1 = *param_1 + 1;
    }
    uVar1 =
        FUN_00055814(*(undefined4 *)(DAT_000954bc + *param_1 * 0x1c), param_2);
    return uVar1;
}

int FUN_000559b8(int param_1, uint *param_2, undefined4 param_3)

{
    int iVar1;
    int local_c;

    local_c = param_1;
    do {
        if (DAT_000954b4 <= *param_2) {
            return 0;
        }
        if (*(int *)(DAT_000954bc + *param_2 * 0x1c + 4) != 8) {
            if (local_c == 0) {
                iVar1 = FUN_00055814(
                    *(undefined4 *)(DAT_000954bc + *param_2 * 0x1c), param_3);
                return iVar1;
            }
            local_c = FUN_00055860(local_c, param_3);
            if (local_c != 0) {
                return local_c;
            }
        }
        *param_2 = *param_2 + 1;
    } while (true);
}

char *FUN_00055ab4(undefined4 param_1, int *param_2)

{
    char *local_c;

    local_c = (char *)FUN_000558e4(param_1, param_2);
    while (true) {
        if (local_c == (char *)0x0) {
            return (char *)0x0;
        }
        if (*local_c == '-')
            break;
        local_c = (char *)FUN_000559b8(local_c, param_1, param_2);
    }
    *param_2 = *param_2 + -1;
    return local_c + 1;
}

char *FUN_00055b40(undefined4 param_1, undefined4 param_2, int *param_3)

{
    char *local_c;

    local_c = (char *)FUN_000559b8(param_1, param_2, param_3);
    while (true) {
        if (local_c == (char *)0x0) {
            return (char *)0x0;
        }
        if (*local_c == '-')
            break;
        local_c = (char *)FUN_000559b8(local_c, param_2, param_3);
    }
    *param_3 = *param_3 + -1;
    return local_c + 1;
}

char *FUN_00055bd4(undefined4 param_1)

{
    undefined4 local_10;
    char *local_c;

    local_10 = 0;
    for (local_c = (char *)FUN_000558e4(param_1, &local_10);
         (local_c != (char *)0x0 && (*local_c == '-'));
         local_c = (char *)FUN_000559b8(local_c, param_1, &local_10)) {
    }
    return local_c;
}

char *FUN_00055c4c(undefined4 param_1, undefined4 param_2)

{
    char *local_14;
    undefined4 local_c;

    local_c = 1;
    for (local_14 = (char *)FUN_000559b8(param_1, param_2, &local_c);
         (local_14 != (char *)0x0 && (*local_14 == '-'));
         local_14 = (char *)FUN_000559b8(local_14, param_2, &local_c)) {
    }
    return local_14;
}

void FUN_00055ccc(undefined4 *param_1)

{
    int local_10;
    char *local_c;

    if (((param_1[1] != 2) && (param_1[1] != 1)) && (param_1[1] != 4)) {
        errx(1, "Option %s: unknown entry type %u", *param_1, param_1[1]);
    }
    if (param_1[6] == 0) {
        errx(1, "Option %s: description cannot be NULL", *param_1);
    }
    if (*(char *)*param_1 != '-') {
        errx(1, "Option %s: does not begin with \'-\'", *param_1);
    }
    for (local_c = (char *)FUN_00055814(*param_1, &local_10);
         local_c != (char *)0x0;
         local_c = (char *)FUN_00055860(local_c, &local_10)) {
        if (*local_c == '-') {
            if (local_10 == 1) {
                errx(1, "Option %s: invalid long option \'--\'", *param_1);
            }
            DAT_000954ac = DAT_000954ac + 1;
        } else {
            if (local_10 != 1) {
                errx(1, "Option %s: invalid short option \'%.*s\'", *param_1,
                     local_10 + 1, local_c + -1);
            }
            DAT_000954b0 = DAT_000954b0 + 1;
            if ((param_1[1] == 2) || (param_1[1] == 4)) {
                DAT_000954b8 = DAT_000954b8 + 1;
            }
        }
        if ((param_1[1] == 1) &&
            ((local_c[local_10] == ' ' || (local_c[local_10] == '=')))) {
            errx(1, "Option %s: does not take arguments \'%s\'", *param_1,
                 local_c + local_10 + 1);
        }
    }
    return;
}

void FUN_00055f28(undefined4 *param_1)

{
    undefined4 uVar1;
    undefined4 *puVar2;
    undefined4 uVar3;
    undefined4 uVar4;

    DAT_000954bc = realloc(DAT_000954bc, (DAT_000954b4 + 1) * 0x1c);
    puVar2 = (undefined4 *)((int)DAT_000954bc + DAT_000954b4 * 0x1c);
    uVar1 = param_1[1];
    uVar3 = param_1[2];
    uVar4 = param_1[3];
    DAT_000954b4 = DAT_000954b4 + 1;
    *puVar2 = *param_1;
    puVar2[1] = uVar1;
    puVar2[2] = uVar3;
    puVar2[3] = uVar4;
    uVar1 = param_1[5];
    uVar3 = param_1[6];
    puVar2[4] = param_1[4];
    puVar2[5] = uVar1;
    puVar2[6] = uVar3;
    return;
}

void FUN_00055fd8(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4, undefined4 param_5, undefined4 param_6,
                  undefined4 param_7)

{
    undefined4 local_24;
    undefined4 local_20;
    undefined4 local_1c;
    undefined4 local_18;
    undefined4 local_14;
    undefined4 local_10;
    undefined4 local_c;

    local_14 = param_5;
    local_10 = param_6;
    local_c = param_7;
    local_24 = param_1;
    local_20 = param_2;
    local_1c = param_3;
    local_18 = param_4;
    FUN_00055ccc(&local_24);
    FUN_00055f28(&local_24);
    return;
}

void FUN_0005604c(int param_1, int param_2)

{
    undefined4 local_2c;
    undefined4 local_28;
    undefined4 local_24;
    undefined4 local_20;
    undefined4 local_1c;
    undefined4 local_18;
    int local_14;
    int local_10;
    int local_c;

    local_10 = DAT_000954b4;
    if (param_2 != 0) {
        local_2c = 0;
        local_28 = 8;
        local_24 = 0;
        local_20 = 0;
        local_1c = 0;
        local_18 = 0;
        local_14 = param_2;
        FUN_00055f28(&local_2c);
    }
    local_c = 0;
    while (*(int *)(param_1 + local_c * 0x1c + 4) != 0x10) {
        if (*(int *)(param_1 + local_c * 0x1c + 4) == 8) {
            FUN_0005604c(*(undefined4 *)(param_1 + local_c * 0x1c),
                         *(undefined4 *)(param_1 + local_c * 0x1c + 0x18));
        } else {
            FUN_00055ccc(param_1 + local_c * 0x1c);
            FUN_00055f28(param_1 + local_c * 0x1c);
        }
        local_c = local_c + 1;
    }
    if (param_2 != 0) {
        *(int *)(DAT_000954bc + local_10 * 0x1c + 0x14) =
            DAT_000954b4 - local_10;
    }
    return;
}

bool FUN_000561f0(undefined4 param_1, undefined4 *param_2, undefined4 param_3)

{
    undefined4 local_10;
    int local_c;

    local_10 = 0;
    DAT_000954c0 = *param_2;
    do {
        local_c = FUN_00056464(param_1, param_2, &local_10, param_3);
    } while (local_c == 1);
    return local_c == 0;
}

void FUN_00056268(void)

{
    free(DAT_000954bc);
    DAT_000954bc = (void *)0x0;
    return;
}

char *FUN_00056348(char *param_1)

{
    size_t sVar1;
    char *__s;

    sVar1 = strlen(param_1);
    __s = (char *)malloc(sVar1 + 0x16);
    sprintf(__s, "Invalid argument \'%s\'", param_1);
    return __s;
}

undefined4 FUN_0005639c(code *param_1, undefined4 param_2, undefined4 param_3,
                        undefined4 param_4, undefined4 param_5)

{
    (*param_1)("%s: %.*s: %s", param_2, param_4, param_3, param_5);
    return 0xffffffff;
}

void FUN_000563ec(int *param_1, int param_2, int param_3)

{
    memmove((void *)(param_2 + param_3 * 4),
            (void *)(param_2 + (param_3 + 1) * 4), (*param_1 - param_3) * 4);
    *param_1 = *param_1 + -1;
    return;
}

undefined4 FUN_00056464(undefined4 param_1, undefined4 *param_2, int *param_3,
                        undefined4 param_4)

{
    char *pcVar1;
    int iVar2;
    size_t sVar3;
    undefined4 uVar4;
    undefined4 uVar5;
    size_t local_28;
    int local_24;
    void *local_20;
    int local_1c;
    char *local_18;
    int local_14;

    local_1c = 0;
    pcVar1 = getenv("POSIXLY_CORRECT");
    if (pcVar1 == (char *)0x0) {
        for (local_14 = 1;
             (param_2[local_14] != 0 && (*(char *)param_2[local_14] != '-'));
             local_14 = local_14 + 1) {
        }
    } else {
        local_14 = 1;
    }
    if ((param_2[local_14] == 0) || (*(char *)param_2[local_14] != '-')) {
        uVar4 = 0;
    } else {
        iVar2 = strcmp((char *)param_2[local_14], "--");
        if (iVar2 == 0) {
            FUN_000563ec(param_1, param_2, local_14);
            uVar4 = 0;
        } else {
            if (*(char *)(param_2[local_14] + 1) == '-') {
                if (*param_3 != 0) {
                    /* WARNING: Subroutine does not return */
                    __assert_fail("*offset == 0", "ccan/opt/parse.c", 0x3b,
                                  "parse_one");
                }
                for (local_18 = (char *)FUN_00055ab4(&local_24, &local_28);
                     local_18 != (char *)0x0;
                     local_18 =
                         (char *)FUN_00055b40(local_18, &local_24, &local_28)) {
                    iVar2 = strncmp((char *)(param_2[local_14] + 2), local_18,
                                    local_28);
                    if (iVar2 == 0) {
                        if (*(char *)(param_2[local_14] + local_28 + 2) ==
                            '=') {
                            local_1c = param_2[local_14] + local_28 + 3;
                            break;
                        }
                        if (*(char *)(param_2[local_14] + local_28 + 2) == '\0')
                            break;
                    }
                }
                if (local_18 == (char *)0x0) {
                    uVar4 = *param_2;
                    uVar5 = param_2[local_14];
                    sVar3 = strlen((char *)param_2[local_14]);
                    uVar4 = FUN_0005639c(param_4, uVar4, uVar5, sVar3,
                                         "unrecognized option");
                    return uVar4;
                }
                local_18 = local_18 + -2;
                local_28 = local_28 + 2;
            } else {
                for (local_18 = (char *)FUN_00055bd4(&local_24);
                     local_18 != (char *)0x0;
                     local_18 = (char *)FUN_00055c4c(local_18, &local_24)) {
                    if (*(char *)(param_2[local_14] + *param_3 + 1) ==
                        *local_18) {
                        *param_3 = *param_3 + 1;
                        break;
                    }
                }
                if (local_18 == (char *)0x0) {
                    uVar4 = *param_2;
                    uVar5 = param_2[local_14];
                    sVar3 = strlen((char *)param_2[local_14]);
                    uVar4 = FUN_0005639c(param_4, uVar4, uVar5, sVar3,
                                         "unrecognized option");
                    return uVar4;
                }
                local_18 = local_18 + -1;
                local_28 = 2;
            }
            if (*(int *)(DAT_000954bc + local_24 * 0x1c + 4) == 1) {
                if (local_1c != 0) {
                    uVar4 = FUN_0005639c(param_4, *param_2, local_18, local_28,
                                         "doesn\'t allow an argument");
                    return uVar4;
                }
                local_20 =
                    (void *)(**(code **)(DAT_000954bc + local_24 * 0x1c + 8))(
                        *(undefined4 *)(DAT_000954bc + local_24 * 0x1c + 0x14));
            } else {
                if (local_1c == 0) {
                    if ((*param_3 == 0) ||
                        (*(char *)(param_2[local_14] + *param_3 + 1) == '\0')) {
                        local_1c = param_2[local_14 + 1];
                    } else {
                        local_1c = param_2[local_14] + *param_3 + 1;
                        *param_3 = 0;
                    }
                }
                if (local_1c == 0) {
                    uVar4 = FUN_0005639c(param_4, *param_2, local_18, local_28,
                                         "requires an argument");
                    return uVar4;
                }
                if (*(int *)(DAT_000954bc + local_24 * 0x1c + 4) == 4) {
                    FUN_000551c4(
                        local_1c,
                        *(undefined4 *)(DAT_000954bc + local_24 * 0x1c + 0x14));
                }
                local_20 =
                    (void *)(**(code **)(DAT_000954bc + local_24 * 0x1c + 0xc))(
                        local_1c,
                        *(undefined4 *)(DAT_000954bc + local_24 * 0x1c + 0x14));
            }
            if (local_20 == (void *)0x0) {
                if ((*param_3 != 0) &&
                    (*(char *)(param_2[local_14] + *param_3 + 1) == '\0')) {
                    *param_3 = 0;
                }
                if (((*param_3 == 0) &&
                     (FUN_000563ec(param_1, param_2, local_14),
                      local_1c != 0)) &&
                    (param_2[local_14] == local_1c)) {
                    FUN_000563ec(param_1, param_2, local_14);
                }
                uVar4 = 1;
            } else {
                FUN_0005639c(param_4, *param_2, local_18, local_28, local_20);
                free(local_20);
                uVar4 = 0xffffffff;
            }
        }
    }
    return uVar4;
}

int FUN_00056bc4(int param_1)

{
    int local_14;
    undefined1 *local_10;
    int local_c;

    local_c = 0;
    for (local_10 = (undefined1 *)FUN_00055bd4(&local_14);
         local_10 != (undefined1 *)0x0;
         local_10 = (undefined1 *)FUN_00055c4c(local_10, &local_14)) {
        if (*(undefined4 **)(DAT_000954bc + local_14 * 0x1c + 0x18) !=
            &DAT_000954c4) {
            *(undefined1 *)(param_1 + local_c) = *local_10;
            local_c = local_c + 1;
        }
    }
    return local_c;
}

char *FUN_00056c74(char *param_1, char *param_2)

{
    size_t sVar1;
    char *pcVar2;
    int iVar3;
    char *local_80;
    undefined1 auStack_78[80];
    undefined4 local_28;
    int local_24;
    char *local_20;
    char *local_1c;
    size_t local_18;
    uint local_14;

    local_80 = param_2;
    if (param_2 == (char *)0x0) {
        local_80 = "";
        for (local_14 = 0; local_14 < DAT_000954b4; local_14 = local_14 + 1) {
            if ((*(code **)(DAT_000954bc + local_14 * 0x1c + 8) ==
                 FUN_00055554) &&
                (*(int *)(DAT_000954bc + local_14 * 0x1c + 0x14) != 0)) {
                local_80 = *(char **)(DAT_000954bc + local_14 * 0x1c + 0x14);
                break;
            }
        }
    }
    sVar1 = strlen(param_1);
    iVar3 = sVar1 + DAT_000954b0;
    sVar1 = strlen(local_80);
    local_18 = iVar3 + sVar1 + 0x14;
    for (local_14 = 0; local_14 < DAT_000954b4; local_14 = local_14 + 1) {
        if (*(int *)(DAT_000954bc + local_14 * 0x1c + 4) == 8) {
            sVar1 = strlen(*(char **)(DAT_000954bc + local_14 * 0x1c + 0x18));
            local_18 = sVar1 + local_18 + 3;
        } else if (*(undefined4 **)(DAT_000954bc + local_14 * 0x1c + 0x18) !=
                   &DAT_000954c4) {
            sVar1 = strlen(*(char **)(DAT_000954bc + local_14 * 0x1c));
            local_18 = sVar1 + local_18 + 6;
            sVar1 = strlen(*(char **)(DAT_000954bc + local_14 * 0x1c + 0x18));
            iVar3 = sVar1 + local_18;
            local_18 = iVar3 + 0x15;
            if (*(int *)(DAT_000954bc + local_14 * 0x1c + 0x10) != 0) {
                local_18 = iVar3 + 0x76;
            }
            local_18 = local_18 + 1;
        }
    }
    local_20 = (char *)malloc(local_18);
    if (local_20 == (char *)0x0) {
        local_20 = (char *)0x0;
    } else {
        local_1c = local_20;
        iVar3 = sprintf(local_20, "Usage: %s", param_1);
        builtin_strncpy(local_1c + iVar3, " [-", 4);
        local_1c = local_1c + iVar3 + 3;
        local_24 = FUN_00056bc4(local_1c);
        if (local_24 == 0) {
            local_1c = local_1c + -3;
        } else {
            local_1c = local_1c + local_24;
            local_1c[0] = ']';
            local_1c[1] = '\0';
            local_1c = local_1c + 1;
        }
        if (local_80 != (char *)0x0) {
            iVar3 = sprintf(local_1c, " %s", local_80);
            local_1c = local_1c + iVar3;
        }
        local_1c[0] = '\n';
        local_1c[1] = '\0';
        local_1c = local_1c + 1;
        for (local_14 = 0; local_14 < DAT_000954b4; local_14 = local_14 + 1) {
            if (*(undefined4 **)(DAT_000954bc + local_14 * 0x1c + 0x18) !=
                &DAT_000954c4) {
                if (*(int *)(DAT_000954bc + local_14 * 0x1c + 4) == 8) {
                    iVar3 = sprintf(
                        local_1c, "%s:\n",
                        *(undefined4 *)(DAT_000954bc + local_14 * 0x1c + 0x18));
                    local_1c = local_1c + iVar3;
                } else {
                    local_18 = sprintf(
                        local_1c, "%s",
                        *(undefined4 *)(DAT_000954bc + local_14 * 0x1c));
                    if (((*(int *)(DAT_000954bc + local_14 * 0x1c + 4) == 2) &&
                         (pcVar2 = strchr(
                              *(char **)(DAT_000954bc + local_14 * 0x1c), 0x20),
                          pcVar2 == (char *)0x0)) &&
                        (pcVar2 = strchr(
                             *(char **)(DAT_000954bc + local_14 * 0x1c), 0x3d),
                         pcVar2 == (char *)0x0)) {
                        builtin_strncpy(local_1c + local_18, " <arg>", 7);
                        local_18 = local_18 + 6;
                    }
                    if (local_18 < 0x14) {
                        iVar3 = 0x14 - local_18;
                    } else {
                        iVar3 = 1;
                    }
                    iVar3 = sprintf(local_1c + local_18, "%.*s", iVar3,
                                    "                    ");
                    local_18 = local_18 + iVar3;
                    iVar3 = sprintf(
                        local_1c + local_18, "%s",
                        *(undefined4 *)(DAT_000954bc + local_14 * 0x1c + 0x18));
                    local_18 = local_18 + iVar3;
                    if (*(int *)(DAT_000954bc + local_14 * 0x1c + 0x10) != 0) {
                        local_28 = 0x2e2e2e;
                        (**(code **)(DAT_000954bc + local_14 * 0x1c + 0x10))(
                            auStack_78,
                            *(undefined4 *)(DAT_000954bc + local_14 * 0x1c +
                                            0x14));
                        iVar3 = sprintf(local_1c + local_18, " (default: %s)",
                                        auStack_78);
                        local_18 = local_18 + iVar3;
                    }
                    local_1c = local_1c + local_18;
                    local_1c[0] = '\n';
                    local_1c[1] = '\0';
                    local_1c = local_1c + 1;
                }
            }
        }
        *local_1c = '\0';
    }
    return local_20;
}

uint *FUN_00057428(uint *param_1, char param_2, uint param_3)

{
    uint uVar1;
    uint local_2c;
    uint *local_10;
    uint *local_c;

    local_2c = param_3;
    for (local_c = param_1; (local_2c != 0 && (((uint)local_c & 3) != 0));
         local_c = (uint *)((int)local_c + 1)) {
        if (param_2 == (char)*local_c) {
            return local_c;
        }
        local_2c = local_2c - 1;
    }
    local_10 = local_c;
    while (
        (3 < local_2c && (uVar1 = CONCAT22(CONCAT11(param_2, param_2),
                                           CONCAT11(param_2, param_2)) ^
                                  *local_10,
                          (uVar1 + 0xfefefeff & ~uVar1 & 0x80808080) == 0))) {
        local_10 = local_10 + 1;
        local_2c = local_2c - 4;
    }
    local_c = local_10;
    while (true) {
        if (local_2c == 0) {
            return (uint *)0x0;
        }
        if (param_2 == (char)*local_c)
            break;
        local_2c = local_2c - 1;
        local_c = (uint *)((int)local_c + 1);
    }
    return local_c;
}

int FUN_000575ac(int param_1, uint param_2, int *param_3)

{
    byte bVar1;
    byte bVar2;
    undefined4 local_1c;
    undefined4 local_18;
    undefined4 local_14;
    undefined4 local_10;
    undefined4 local_c;

    if (param_2 < 3) {
        *param_3 = 1;
        local_c = param_2 - 1;
    } else {
        local_c = -1;
        local_14 = 0;
        local_1c = 1;
        local_18 = 1;
        while ((uint)(local_14 + local_18) < param_2) {
            bVar1 = *(byte *)(param_1 + local_14 + local_18);
            bVar2 = *(byte *)(param_1 + local_c + local_18);
            if (bVar1 < bVar2) {
                local_14 = local_14 + local_18;
                local_18 = 1;
                local_1c = local_14 - local_c;
            } else if (bVar1 == bVar2) {
                if (local_18 == local_1c) {
                    local_18 = 1;
                    local_14 = local_14 + local_1c;
                } else {
                    local_18 = local_18 + 1;
                }
            } else {
                local_c = local_14;
                local_1c = 1;
                local_18 = 1;
                local_14 = local_14 + 1;
            }
        }
        *param_3 = local_1c;
        local_10 = -1;
        local_14 = 0;
        local_1c = 1;
        local_18 = 1;
        while ((uint)(local_14 + local_18) < param_2) {
            bVar1 = *(byte *)(param_1 + local_14 + local_18);
            bVar2 = *(byte *)(param_1 + local_10 + local_18);
            if (bVar2 < bVar1) {
                local_14 = local_14 + local_18;
                local_18 = 1;
                local_1c = local_14 - local_10;
            } else if (bVar1 == bVar2) {
                if (local_18 == local_1c) {
                    local_18 = 1;
                    local_14 = local_14 + local_1c;
                } else {
                    local_18 = local_18 + 1;
                }
            } else {
                local_10 = local_14;
                local_1c = 1;
                local_18 = 1;
                local_14 = local_14 + 1;
            }
        }
        if (local_10 + 1U < local_c + 1U) {
            local_c = local_c + 1;
        } else {
            *param_3 = local_1c;
            local_c = local_10 + 1;
        }
    }
    return local_c;
}

int FUN_00057874(int param_1, int param_2, void *param_3, uint param_4)

{
    uint uVar1;
    int iVar2;
    uint uVar3;
    int local_1c;
    uint local_18;
    uint local_14;
    uint local_10;
    uint local_c;

    local_18 = FUN_000575ac(param_3, param_4, &local_1c);
    iVar2 = memcmp(param_3, (void *)((int)param_3 + local_1c), local_18);
    if (iVar2 == 0) {
        local_14 = 0;
        local_10 = 0;
        while (local_10 <= param_2 - param_4) {
            local_c = local_18;
            if (local_18 < local_14) {
                local_c = local_14;
            }
            for (; (local_c < param_4 &&
                    (*(char *)((int)param_3 + local_c) ==
                     *(char *)(param_1 + local_c + local_10)));
                 local_c = local_c + 1) {
            }
            uVar3 = local_18;
            if (local_c < param_4) {
                local_10 = (local_c - local_18) + local_10 + 1;
                local_14 = 0;
            } else {
                do {
                    uVar1 = uVar3;
                    local_c = uVar1 - 1;
                    if (uVar1 <= local_14)
                        break;
                    uVar3 = local_c;
                } while (*(char *)((int)param_3 + local_c) ==
                         *(char *)(param_1 + local_c + local_10));
                if (uVar1 < local_14 + 1) {
                    return param_1 + local_10;
                }
                local_10 = local_10 + local_1c;
                local_14 = param_4 - local_1c;
            }
        }
    } else {
        uVar3 = param_4 - local_18;
        if (uVar3 < local_18) {
            uVar3 = local_18;
        }
        local_10 = 0;
        while (local_10 <= param_2 - param_4) {
            for (local_c = local_18;
                 (local_c < param_4 &&
                  (*(char *)((int)param_3 + local_c) ==
                   *(char *)(param_1 + local_c + local_10)));
                 local_c = local_c + 1) {
            }
            uVar1 = local_18;
            if (local_c < param_4) {
                local_10 = (local_c - local_18) + local_10 + 1;
            } else {
                do {
                    local_c = uVar1 - 1;
                    if (local_c == 0xffffffff)
                        break;
                    uVar1 = local_c;
                } while (*(char *)((int)param_3 + local_c) ==
                         *(char *)(param_1 + local_c + local_10));
                if (local_c == 0xffffffff) {
                    return param_1 + local_10;
                }
                local_10 = local_10 + uVar3 + 1;
            }
        }
    }
    return 0;
}

int FUN_00057bac(int param_1, int param_2, void *param_3, uint param_4)

{
    int iVar1;
    uint uVar2;
    uint auStack_424[256];
    uint local_24;
    uint local_20;
    size_t local_1c;
    uint local_18;
    uint local_14;
    uint local_10;
    uint local_c;

    local_1c = FUN_000575ac(param_3, param_4, &local_24);
    for (local_c = 0; local_c < 0x100; local_c = local_c + 1) {
        auStack_424[local_c] = param_4;
    }
    for (local_c = 0; local_c < param_4; local_c = local_c + 1) {
        auStack_424[*(byte *)((int)param_3 + local_c)] =
            (param_4 - local_c) - 1;
    }
    iVar1 = memcmp(param_3, (void *)((int)param_3 + local_24), local_1c);
    if (iVar1 == 0) {
        local_14 = 0;
        local_10 = 0;
        while (local_10 <= param_2 - param_4) {
            local_18 =
                auStack_424[*(byte *)(param_1 + local_10 + param_4 + -1)];
            if (local_18 == 0) {
                local_c = local_1c;
                if (local_1c < local_14) {
                    local_c = local_14;
                }
                for (; (local_c < param_4 - 1 &&
                        (*(char *)((int)param_3 + local_c) ==
                         *(char *)(param_1 + local_c + local_10)));
                     local_c = local_c + 1) {
                }
                if (local_c < param_4 - 1) {
                    local_10 = (local_c - local_1c) + local_10 + 1;
                    local_14 = 0;
                } else {
                    for (local_c = local_1c - 1;
                         (local_14 < local_c + 1 &&
                          (*(char *)((int)param_3 + local_c) ==
                           *(char *)(param_1 + local_c + local_10)));
                         local_c = local_c + -1) {
                    }
                    if (local_c + 1 < local_14 + 1) {
                        return param_1 + local_10;
                    }
                    local_10 = local_10 + local_24;
                    local_14 = param_4 - local_24;
                }
            } else {
                if ((local_14 != 0) && (local_18 < local_24)) {
                    local_18 = param_4 - local_24;
                }
                local_14 = 0;
                local_10 = local_10 + local_18;
            }
        }
    } else {
        uVar2 = param_4 - local_1c;
        if (uVar2 < local_1c) {
            uVar2 = local_1c;
        }
        local_24 = uVar2 + 1;
        local_10 = 0;
        while (local_10 <= param_2 - param_4) {
            local_20 =
                auStack_424[*(byte *)(param_1 + local_10 + param_4 + -1)];
            if (local_20 == 0) {
                for (local_c = local_1c;
                     (local_c < param_4 - 1 &&
                      (*(char *)((int)param_3 + local_c) ==
                       *(char *)(param_1 + local_c + local_10)));
                     local_c = local_c + 1) {
                }
                if (local_c < param_4 - 1) {
                    local_10 = (local_c - local_1c) + local_10 + 1;
                } else {
                    for (local_c = local_1c - 1;
                         (local_c != -1 &&
                          (*(char *)((int)param_3 + local_c) ==
                           *(char *)(param_1 + local_c + local_10)));
                         local_c = local_c + -1) {
                    }
                    if (local_c == -1) {
                        return param_1 + local_10;
                    }
                    local_10 = local_10 + uVar2 + 1;
                }
            } else {
                local_10 = local_10 + local_20;
            }
        }
    }
    return 0;
}

void *memmem(void *__haystack, size_t __haystacklen, void *__needle,
             size_t __needlelen)

{
    void *pvVar1;
    uint uVar2;

    pvVar1 = __haystack;
    if (__needlelen != 0) {
        if (__haystacklen < __needlelen) {
            pvVar1 = (void *)0x0;
        } else if (__needlelen < 0x20) {
            /* WARNING: Load size is inaccurate */
            pvVar1 = (void *)FUN_00057428(__haystack, *__needle, __haystacklen);
            if ((pvVar1 != (void *)0x0) && (__needlelen != 1)) {
                uVar2 = (int)__haystack + (__haystacklen - (int)pvVar1);
                if (uVar2 < __needlelen) {
                    pvVar1 = (void *)0x0;
                } else {
                    pvVar1 = (void *)FUN_00057874(pvVar1, uVar2, __needle,
                                                  __needlelen);
                }
            }
        } else {
            pvVar1 = (void *)FUN_00057bac(__haystack, __haystacklen, __needle,
                                          __needlelen);
        }
    }
    return pvVar1;
}

void FUN_00058178(int param_1)

{
    bool bVar1;
    int iVar2;
    int *piVar3;

    if ((param_1 != 0) && (*(int *)(param_1 + 4) != -1)) {
        piVar3 = (int *)(param_1 + 4);
        DataMemoryBarrier(0xf);
        do {
            iVar2 = *piVar3;
            bVar1 = (bool)hasExclusiveAccess(piVar3);
        } while (!bVar1);
        *piVar3 = iVar2 + -1;
        if (iVar2 + -1 == 0) {
            FUN_000680f0(param_1);
        }
    }
    return;
}

void FUN_000581dc(pthread_mutex_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_mutex_lock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_00058274(pthread_mutex_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_mutex_unlock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0005830c(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_00058274(param_1, param_2, param_3, param_4);
    (*DAT_00086aa0)();
    return;
}

void FUN_00058354(pthread_mutex_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_mutex_init(param_1, (pthread_mutexattr_t *)0x0);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "Failed to pthread_mutex_init errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

undefined4 FUN_000583f0(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;
    char local_80c[2048];
    undefined1 auStack_c[4];

    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (4 < DAT_0008697c)) {
        builtin_strncpy(local_80c, "about to send detect", 0x14);
        local_80c[0x14] = 0;
        FUN_0001e4ec(5, local_80c, 0);
    }
    uVar1 = FUN_0005f30c(s__bitmain_api_detect_0008748f + 1, param_1, param_2,
                         auStack_c, 0, 0);
    return uVar1;
}

undefined4 FUN_000584d0(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;
    char acStack_80c[2048];
    undefined1 auStack_c[4];

    if ((DAT_00087768 != '\0') &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (6 < DAT_0008697c)))) {
        snprintf(acStack_80c, 0x800, "about to send job, size is %d", param_2);
        FUN_0001e4ec(7, acStack_80c, 0);
    }
    uVar1 = FUN_0005f30c(s_bitmain_update_job_00087514, param_1, param_2,
                         auStack_c, 0, 0);
    return uVar1;
}

undefined4 FUN_000585b0(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;
    char local_80c[2048];
    undefined1 auStack_c[4];

    if ((DAT_00087768 != '\0') &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (6 < DAT_0008697c)))) {
        builtin_strncpy(local_80c, "about to send a flush api semaphore", 0x24);
        FUN_0001e4ec(7, local_80c, 0);
    }
    uVar1 = FUN_0005f30c(s_bitmain_flush_api_0008761c, param_1, param_2,
                         auStack_c, 0, 0);
    return uVar1;
}

undefined4 FUN_000586a4(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;
    char local_80c[20];
    undefined2 local_7f8;
    undefined1 local_7f6;
    undefined1 auStack_c[4];

    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (4 < DAT_0008697c)) {
        builtin_strncpy(local_80c, "about to send shutdo", 0x14);
        local_7f8 = 0x6e77;
        local_7f6 = 0;
        FUN_0001e4ec(5, local_80c, 0);
    }
    uVar1 = FUN_0005f30c(s_bitmain_shutdown_00087598, param_1, param_2,
                         auStack_c, 0, 0);
    return uVar1;
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */

undefined4 FUN_00058790(int param_1, int param_2)

{
    uint uVar1;
    uint uVar2;
    int iVar3;
    undefined1 uVar4;
    undefined4 uVar5;
    undefined4 extraout_s1;
    char acStack_934[2048];
    undefined1 auStack_134[92];
    undefined1 auStack_d8[160];
    int *local_38;
    int *local_34;
    int local_30;
    int *local_2c;
    int *local_28;
    int *local_24;
    undefined4 local_20;
    uint local_1c;
    uint local_18;
    uint local_14;

    local_14 = 0;
    local_20 = 0;
    local_18 = 0;
    local_1c = 0;
    local_24 = (int *)0x0;
    local_28 = (int *)0x0;
    local_2c = (int *)0x0;
    local_30 = 0;
    local_34 = (int *)0x0;
    local_38 = (int *)0x0;
    if ((param_1 == 0) || (param_2 == 0)) {
        if ((DAT_00091f58 != '\0') ||
            ((DAT_00087769 != '\0' || (2 < DAT_0008697c)))) {
            snprintf(acStack_934, 0x800, "%s input err: data @ %p, len is %d",
                     "cb_bitmain_api_stats", param_1, param_2);
            FUN_0001e4ec(3, acStack_934, 0);
        }
        uVar5 = 0xffffffff;
    } else {
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            snprintf(acStack_934, 0x800, "%s(%d) : %s", "cb_bitmain_api_stats",
                     param_2, param_1);
            FUN_0001e4ec(7, acStack_934, 0);
        }
        local_24 = (int *)FUN_00064704(param_1, 0, auStack_134);
        if ((local_24 == (int *)0x0) || (*local_24 != 0)) {
            if ((DAT_00091f58 != '\0') ||
                ((DAT_00087769 != '\0' || (2 < DAT_0008697c)))) {
                snprintf(acStack_934, 0x800, "%s: load data is failed(%s)",
                         "cb_bitmain_api_stats", auStack_d8);
                FUN_0001e4ec(3, acStack_934, 0);
            }
            uVar5 = 0xfffffffe;
        } else {
            FUN_000581dc(&DAT_000954c8, "socketa_api.c", "cb_bitmain_api_stats",
                         0x99);
            memset(&DAT_000954e0, 0, 0x1a10);
            local_28 = (int *)FUN_00065fec(local_24, "inited");
            if ((local_28 == (int *)0x0) || (*local_28 != 3)) {
                if ((DAT_00091f58 != '\0') ||
                    ((DAT_00087769 != '\0' || (2 < DAT_0008697c)))) {
                    snprintf(acStack_934, 0x800, "%s: load json failed",
                             "cb_bitmain_api_stats");
                    FUN_0001e4ec(3, acStack_934, 0);
                }
                FUN_0005830c(&DAT_000954c8, "socketa_api.c",
                             "cb_bitmain_api_stats", 0x9e);
                FUN_00058178(local_24);
                uVar5 = 0xfffffffd;
            } else {
                DAT_000954e8 = FUN_00067c98(local_28);
                local_28 = (int *)FUN_00065fec(local_24, "chain_num");
                if ((local_28 == (int *)0x0) || (*local_28 != 3)) {
                    if ((DAT_00091f58 != '\0') ||
                        ((DAT_00087769 != '\0' || (2 < DAT_0008697c)))) {
                        snprintf(acStack_934, 0x800, "%s: load json failed",
                                 "cb_bitmain_api_stats");
                        FUN_0001e4ec(3, acStack_934, 0);
                    }
                    FUN_0005830c(&DAT_000954c8, "socketa_api.c",
                                 "cb_bitmain_api_stats", 0xa2);
                    FUN_00058178(local_24);
                    uVar5 = 0xfffffffd;
                } else {
                    DAT_000954e4 = FUN_00067c98(local_28);
                    local_28 = (int *)FUN_00065fec(local_24, "real_miner_type");
                    if (((local_28 != (int *)0x0) &&
                         (local_28 != (int *)0x0)) &&
                        (*local_28 == 2)) {
                        uVar5 = FUN_000677d0(local_28);
                        snprintf(&DAT_000954ec, 0x100, "%s", uVar5);
                    }
                    local_28 = (int *)FUN_00065fec(local_24, "rate_5s");
                    if ((local_28 == (int *)0x0) || (*local_28 != 2)) {
                        if ((DAT_00091f58 != '\0') ||
                            ((DAT_00087769 != '\0' || (2 < DAT_0008697c)))) {
                            snprintf(acStack_934, 0x800, "%s: load json failed",
                                     "cb_bitmain_api_stats");
                            FUN_0001e4ec(3, acStack_934, 0);
                        }
                        FUN_0005830c(&DAT_000954c8, "socketa_api.c",
                                     "cb_bitmain_api_stats", 0xac);
                        FUN_00058178(local_24);
                        uVar5 = 0xfffffffd;
                    } else {
                        uVar5 = FUN_000677d0(local_28);
                        snprintf(&DAT_000955ec, 0x10, "%s", uVar5);
                        local_28 = (int *)FUN_00065fec(local_24, "rate_30m");
                        if ((local_28 == (int *)0x0) || (*local_28 != 2)) {
                            if ((DAT_00091f58 != '\0') ||
                                ((DAT_00087769 != '\0' ||
                                  (2 < DAT_0008697c)))) {
                                snprintf(acStack_934, 0x800,
                                         "%s: load json failed",
                                         "cb_bitmain_api_stats");
                                FUN_0001e4ec(3, acStack_934, 0);
                            }
                            FUN_0005830c(&DAT_000954c8, "socketa_api.c",
                                         "cb_bitmain_api_stats", 0xb0);
                            FUN_00058178(local_24);
                            uVar5 = 0xfffffffd;
                        } else {
                            uVar5 = FUN_000677d0(local_28);
                            snprintf(&DAT_000955fc, 0x10, "%s", uVar5);
                            local_28 =
                                (int *)FUN_00065fec(local_24, "rate_avg");
                            if ((local_28 == (int *)0x0) || (*local_28 != 2)) {
                                if ((DAT_00091f58 != '\0') ||
                                    ((DAT_00087769 != '\0' ||
                                      (2 < DAT_0008697c)))) {
                                    snprintf(acStack_934, 0x800,
                                             "%s: load json failed",
                                             "cb_bitmain_api_stats");
                                    FUN_0001e4ec(3, acStack_934, 0);
                                }
                                FUN_0005830c(&DAT_000954c8, "socketa_api.c",
                                             "cb_bitmain_api_stats", 0xb4);
                                FUN_00058178(local_24);
                                uVar5 = 0xfffffffd;
                            } else {
                                uVar5 = FUN_000677d0(local_28);
                                snprintf(&DAT_0009560c, 0x10, "%s", uVar5);
                                strncpy(&DAT_00087e50, &DAT_0009560c, 0x10);
                                local_28 =
                                    (int *)FUN_00065fec(local_24, "rate_ideal");
                                if ((local_28 == (int *)0x0) ||
                                    (*local_28 != 2)) {
                                    if ((DAT_00091f58 != '\0') ||
                                        ((DAT_00087769 != '\0' ||
                                          (2 < DAT_0008697c)))) {
                                        snprintf(acStack_934, 0x800,
                                                 "%s: load json failed",
                                                 "cb_bitmain_api_stats");
                                        FUN_0001e4ec(3, acStack_934, 0);
                                    }
                                    FUN_0005830c(&DAT_000954c8, "socketa_api.c",
                                                 "cb_bitmain_api_stats", 0xb9);
                                    FUN_00058178(local_24);
                                    uVar5 = 0xfffffffd;
                                } else {
                                    uVar5 = FUN_000677d0(local_28);
                                    snprintf(&DAT_0009561c, 0x10, "%s", uVar5);
                                    local_28 = (int *)FUN_00065fec(local_24,
                                                                   "rate_unit");
                                    if ((local_28 == (int *)0x0) ||
                                        (*local_28 != 2)) {
                                        if ((DAT_00091f58 != '\0') ||
                                            ((DAT_00087769 != '\0' ||
                                              (2 < DAT_0008697c)))) {
                                            snprintf(acStack_934, 0x800,
                                                     "%s: load json failed",
                                                     "cb_bitmain_api_stats");
                                            FUN_0001e4ec(3, acStack_934, 0);
                                        }
                                        FUN_0005830c(
                                            &DAT_000954c8, "socketa_api.c",
                                            "cb_bitmain_api_stats", 0xbd);
                                        FUN_00058178(local_24);
                                        uVar5 = 0xfffffffd;
                                    } else {
                                        uVar5 = FUN_000677d0(local_28);
                                        snprintf(&DAT_0009562c, 8, "%s", uVar5);
                                        local_28 = (int *)FUN_00065fec(
                                            local_24, "fan_num");
                                        if ((local_28 == (int *)0x0) ||
                                            (*local_28 != 3)) {
                                            if ((DAT_00091f58 != '\0') ||
                                                ((DAT_00087769 != '\0' ||
                                                  (2 < DAT_0008697c)))) {
                                                snprintf(
                                                    acStack_934, 0x800,
                                                    "%s: load json failed",
                                                    "cb_bitmain_api_stats");
                                                FUN_0001e4ec(3, acStack_934, 0);
                                            }
                                            FUN_0005830c(
                                                &DAT_000954c8, "socketa_api.c",
                                                "cb_bitmain_api_stats", 0xc1);
                                            FUN_00058178(local_24);
                                            uVar5 = 0xfffffffd;
                                        } else {
                                            DAT_00095634 =
                                                FUN_00067c98(local_28);
                                            local_2c = (int *)FUN_00065fec(
                                                local_24, &DAT_00074c10);
                                            if ((local_2c == (int *)0x0) ||
                                                (*local_2c != 1)) {
                                                if ((DAT_00091f58 != '\0') ||
                                                    ((DAT_00087769 != '\0' ||
                                                      (2 < DAT_0008697c)))) {
                                                    snprintf(
                                                        acStack_934, 0x800,
                                                        "%s: load json failed",
                                                        "cb_bitmain_api_stats");
                                                    FUN_0001e4ec(3, acStack_934,
                                                                 0);
                                                }
                                                FUN_0005830c(
                                                    &DAT_000954c8,
                                                    "socketa_api.c",
                                                    "cb_bitmain_api_stats",
                                                    0xc5);
                                                FUN_00058178(local_24);
                                                uVar5 = 0xfffffffd;
                                            } else {
                                                local_14 = 0;
                                                while ((uVar1 = local_14,
                                                        uVar2 = FUN_00066b34(
                                                            local_2c),
                                                        uVar1 < uVar2 &&
                                                            (local_28 = (int *)
                                                                 FUN_00066b80(
                                                                     local_2c,
                                                                     local_14),
                                                             local_28 !=
                                                                 (int *)0x0))) {
                                                    if ((local_28 ==
                                                         (int *)0x0) ||
                                                        (*local_28 != 3)) {
                                                        if (((DAT_00091f58 !=
                                                              '\0') ||
                                                             (DAT_00087769 !=
                                                              '\0')) ||
                                                            (2 <
                                                             DAT_0008697c)) {
                                                            snprintf(
                                                                acStack_934,
                                                                0x800,
                                                                "%s: load json "
                                                                "failed",
                                                                "cb_bitmain_"
                                                                "api_stats");
                                                            FUN_0001e4ec(
                                                                3, acStack_934,
                                                                0);
                                                        }
                                                        FUN_0005830c(
                                                            &DAT_000954c8,
                                                            "socketa_api.c",
                                                            "cb_bitmain_api_"
                                                            "stats",
                                                            199);
                                                        FUN_00058178(local_24);
                                                        return 0xfffffffd;
                                                    }
                                                    uVar5 =
                                                        FUN_00067c98(local_28);
                                                    *(undefined4
                                                          *)(&DAT_000954e0 +
                                                             (local_14 + 0x56) *
                                                                 4) = uVar5;
                                                    local_14 = local_14 + 1;
                                                }
                                                local_34 = (int *)FUN_00065fec(
                                                    local_24, "chain");
                                                if ((local_34 == (int *)0x0) ||
                                                    (*local_34 != 1)) {
                                                    if ((DAT_00091f58 !=
                                                         '\0') ||
                                                        ((DAT_00087769 !=
                                                              '\0' ||
                                                          (2 <
                                                           DAT_0008697c)))) {
                                                        snprintf(acStack_934,
                                                                 0x800,
                                                                 "%s: load "
                                                                 "json failed",
                                                                 "cb_bitmain_"
                                                                 "api_stats");
                                                        FUN_0001e4ec(
                                                            3, acStack_934, 0);
                                                    }
                                                    FUN_0005830c(
                                                        &DAT_000954c8,
                                                        "socketa_api.c",
                                                        "cb_bitmain_api_stats",
                                                        0xcc);
                                                    FUN_00058178(local_24);
                                                    uVar5 = 0xfffffffd;
                                                } else {
                                                    DAT_00095228 = 0;
                                                    local_14 = 0;
                                                    while ((
                                                        (uVar1 = local_14,
                                                         uVar2 = FUN_00066b34(
                                                             local_34),
                                                         uVar1 < uVar2 &&
                                                             (local_38 = (int *)
                                                                  FUN_00066b80(
                                                                      local_34,
                                                                      local_14),
                                                              local_38 !=
                                                                  (int *)0x0)) &&
                                                        ((int)local_14 < 4))) {
                                                        if ((local_38 ==
                                                             (int *)0x0) ||
                                                            (*local_38 != 0)) {
                                                            if ((DAT_00091f58 !=
                                                                 '\0') ||
                                                                ((DAT_00087769 !=
                                                                      '\0' ||
                                                                  (2 <
                                                                   DAT_0008697c)))) {
                                                                snprintf(
                                                                    acStack_934,
                                                                    0x800,
                                                                    "%s: load "
                                                                    "json "
                                                                    "failed",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_"
                                                                    "stats");
                                                                FUN_0001e4ec(
                                                                    3,
                                                                    acStack_934,
                                                                    0);
                                                            }
                                                            FUN_0005830c(
                                                                &DAT_000954c8,
                                                                "socketa_api.c",
                                                                "cb_bitmain_"
                                                                "api_stats",
                                                                0xd2);
                                                            FUN_00058178(
                                                                local_24);
                                                            return 0xfffffffd;
                                                        }
                                                        local_28 =
                                                            (int *)FUN_00065fec(
                                                                local_38,
                                                                "index");
                                                        if ((local_28 ==
                                                             (int *)0x0) ||
                                                            (*local_28 != 3)) {
                                                            if ((DAT_00091f58 !=
                                                                 '\0') ||
                                                                ((DAT_00087769 !=
                                                                      '\0' ||
                                                                  (2 <
                                                                   DAT_0008697c)))) {
                                                                snprintf(
                                                                    acStack_934,
                                                                    0x800,
                                                                    "%s: load "
                                                                    "json "
                                                                    "failed",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_"
                                                                    "stats");
                                                                FUN_0001e4ec(
                                                                    3,
                                                                    acStack_934,
                                                                    0);
                                                            }
                                                            FUN_0005830c(
                                                                &DAT_000954c8,
                                                                "socketa_api.c",
                                                                "cb_bitmain_"
                                                                "api_stats",
                                                                0xd5);
                                                            FUN_00058178(
                                                                local_24);
                                                            return 0xfffffffd;
                                                        }
                                                        uVar5 = FUN_00067c98(
                                                            local_28);
                                                        *(undefined4
                                                              *)(&DAT_00095648 +
                                                                 local_14 *
                                                                     0x610) =
                                                            uVar5;
                                                        local_28 =
                                                            (int *)FUN_00065fec(
                                                                local_38,
                                                                "freq_avg");
                                                        if ((local_28 ==
                                                             (int *)0x0) ||
                                                            (*local_28 != 3)) {
                                                            if ((DAT_00091f58 !=
                                                                 '\0') ||
                                                                ((DAT_00087769 !=
                                                                      '\0' ||
                                                                  (2 <
                                                                   DAT_0008697c)))) {
                                                                snprintf(
                                                                    acStack_934,
                                                                    0x800,
                                                                    "%s: load "
                                                                    "json "
                                                                    "failed",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_"
                                                                    "stats");
                                                                FUN_0001e4ec(
                                                                    3,
                                                                    acStack_934,
                                                                    0);
                                                            }
                                                            FUN_0005830c(
                                                                &DAT_000954c8,
                                                                "socketa_api.c",
                                                                "cb_bitmain_"
                                                                "api_stats",
                                                                0xd9);
                                                            FUN_00058178(
                                                                local_24);
                                                            return 0xfffffffd;
                                                        }
                                                        uVar5 = FUN_00067c98(
                                                            local_28);
                                                        *(undefined4
                                                              *)(&DAT_0009564c +
                                                                 local_14 *
                                                                     0x610) =
                                                            uVar5;
                                                        local_28 =
                                                            (int *)FUN_00065fec(
                                                                local_38,
                                                                "rate_ideal");
                                                        if ((local_28 ==
                                                             (int *)0x0) ||
                                                            (*local_28 != 2)) {
                                                            if ((DAT_00091f58 !=
                                                                 '\0') ||
                                                                ((DAT_00087769 !=
                                                                      '\0' ||
                                                                  (2 <
                                                                   DAT_0008697c)))) {
                                                                snprintf(
                                                                    acStack_934,
                                                                    0x800,
                                                                    "%s: load "
                                                                    "json "
                                                                    "failed",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_"
                                                                    "stats");
                                                                FUN_0001e4ec(
                                                                    3,
                                                                    acStack_934,
                                                                    0);
                                                            }
                                                            FUN_0005830c(
                                                                &DAT_000954c8,
                                                                "socketa_api.c",
                                                                "cb_bitmain_"
                                                                "api_stats",
                                                                0xdd);
                                                            FUN_00058178(
                                                                local_24);
                                                            return 0xfffffffd;
                                                        }
                                                        iVar3 =
                                                            local_14 * 0x610;
                                                        uVar5 = FUN_000677d0(
                                                            local_28);
                                                        snprintf(
                                                            (char *)(iVar3 +
                                                                     0x95650),
                                                            0x10, "%s", uVar5);
                                                        local_28 =
                                                            (int *)FUN_00065fec(
                                                                local_38,
                                                                "rate_real");
                                                        if ((local_28 ==
                                                             (int *)0x0) ||
                                                            (*local_28 != 2)) {
                                                            if ((DAT_00091f58 !=
                                                                 '\0') ||
                                                                ((DAT_00087769 !=
                                                                      '\0' ||
                                                                  (2 <
                                                                   DAT_0008697c)))) {
                                                                snprintf(
                                                                    acStack_934,
                                                                    0x800,
                                                                    "%s: load "
                                                                    "json "
                                                                    "failed",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_"
                                                                    "stats");
                                                                FUN_0001e4ec(
                                                                    3,
                                                                    acStack_934,
                                                                    0);
                                                            }
                                                            FUN_0005830c(
                                                                &DAT_000954c8,
                                                                "socketa_api.c",
                                                                "cb_bitmain_"
                                                                "api_stats",
                                                                0xe1);
                                                            FUN_00058178(
                                                                local_24);
                                                            return 0xfffffffd;
                                                        }
                                                        iVar3 =
                                                            local_14 * 0x610;
                                                        uVar5 = FUN_000677d0(
                                                            local_28);
                                                        snprintf(
                                                            (char *)(iVar3 +
                                                                     0x95660),
                                                            0x10, "%s", uVar5);
                                                        local_28 =
                                                            (int *)FUN_00065fec(
                                                                local_38,
                                                                "asic_num");
                                                        if ((local_28 ==
                                                             (int *)0x0) ||
                                                            (*local_28 != 3)) {
                                                            if ((DAT_00091f58 !=
                                                                 '\0') ||
                                                                ((DAT_00087769 !=
                                                                      '\0' ||
                                                                  (2 <
                                                                   DAT_0008697c)))) {
                                                                snprintf(
                                                                    acStack_934,
                                                                    0x800,
                                                                    "%s: load "
                                                                    "json "
                                                                    "failed",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_"
                                                                    "stats");
                                                                FUN_0001e4ec(
                                                                    3,
                                                                    acStack_934,
                                                                    0);
                                                            }
                                                            FUN_0005830c(
                                                                &DAT_000954c8,
                                                                "socketa_api.c",
                                                                "cb_bitmain_"
                                                                "api_stats",
                                                                0xe5);
                                                            FUN_00058178(
                                                                local_24);
                                                            return 0xfffffffd;
                                                        }
                                                        uVar5 = FUN_00067c98(
                                                            local_28);
                                                        *(undefined4
                                                              *)(&DAT_00095670 +
                                                                 local_14 *
                                                                     0x610) =
                                                            uVar5;
                                                        local_28 =
                                                            (int *)FUN_00065fec(
                                                                local_38,
                                                                &DAT_00074c48);
                                                        if ((local_28 ==
                                                             (int *)0x0) ||
                                                            (*local_28 != 2)) {
                                                            if ((DAT_00091f58 !=
                                                                 '\0') ||
                                                                ((DAT_00087769 !=
                                                                      '\0' ||
                                                                  (2 <
                                                                   DAT_0008697c)))) {
                                                                snprintf(
                                                                    acStack_934,
                                                                    0x800,
                                                                    "%s: load "
                                                                    "json "
                                                                    "failed",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_"
                                                                    "stats");
                                                                FUN_0001e4ec(
                                                                    3,
                                                                    acStack_934,
                                                                    0);
                                                            }
                                                            FUN_0005830c(
                                                                &DAT_000954c8,
                                                                "socketa_api.c",
                                                                "cb_bitmain_"
                                                                "api_stats",
                                                                0xe9);
                                                            FUN_00058178(
                                                                local_24);
                                                            return 0xfffffffd;
                                                        }
                                                        iVar3 =
                                                            local_14 * 0x610;
                                                        uVar5 = FUN_000677d0(
                                                            local_28);
                                                        snprintf(
                                                            (char *)(iVar3 +
                                                                     0x95674),
                                                            0x100, "%s", uVar5);
                                                        local_2c =
                                                            (int *)FUN_00065fec(
                                                                local_38,
                                                                "temp_pic");
                                                        if ((local_2c ==
                                                             (int *)0x0) ||
                                                            (*local_2c != 1)) {
                                                            if ((DAT_00091f58 !=
                                                                 '\0') ||
                                                                ((DAT_00087769 !=
                                                                      '\0' ||
                                                                  (2 <
                                                                   DAT_0008697c)))) {
                                                                snprintf(
                                                                    acStack_934,
                                                                    0x800,
                                                                    "%s: load "
                                                                    "json "
                                                                    "failed",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_"
                                                                    "stats");
                                                                FUN_0001e4ec(
                                                                    3,
                                                                    acStack_934,
                                                                    0);
                                                            }
                                                            FUN_0005830c(
                                                                &DAT_000954c8,
                                                                "socketa_api.c",
                                                                "cb_bitmain_"
                                                                "api_stats",
                                                                0xed);
                                                            FUN_00058178(
                                                                local_24);
                                                            return 0xfffffffd;
                                                        }
                                                        local_18 = 0;
                                                        while ((
                                                            (uVar1 = local_18,
                                                             uVar2 =
                                                                 FUN_00066b34(
                                                                     local_2c),
                                                             uVar1 < uVar2 &&
                                                                 (local_28 = (int *)
                                                                      FUN_00066b80(
                                                                          local_2c,
                                                                          local_18),
                                                                  local_28 !=
                                                                      (int *)0x0)) &&
                                                            ((int)local_18 <
                                                             4))) {
                                                            if ((local_28 ==
                                                                 (int *)0x0) ||
                                                                (*local_28 !=
                                                                 3)) {
                                                                if ((DAT_00091f58 !=
                                                                     '\0') ||
                                                                    ((DAT_00087769 !=
                                                                          '\0' ||
                                                                      (2 <
                                                                       DAT_0008697c)))) {
                                                                    snprintf(
                                                                        acStack_934,
                                                                        0x800,
                                                                        "%s: "
                                                                        "load "
                                                                        "json "
                                                                        "faile"
                                                                        "d",
                                                                        "cb_"
                                                                        "bitmai"
                                                                        "n_api_"
                                                                        "stat"
                                                                        "s");
                                                                    FUN_0001e4ec(
                                                                        3,
                                                                        acStack_934,
                                                                        0);
                                                                }
                                                                FUN_0005830c(
                                                                    &DAT_000954c8,
                                                                    "socketa_"
                                                                    "api.c",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_stats",
                                                                    0xf1);
                                                                FUN_00058178(
                                                                    local_24);
                                                                return 0xfffffffd;
                                                            }
                                                            uVar5 =
                                                                FUN_00067c98(
                                                                    local_28);
                                                            (&DAT_000954e4)
                                                                [local_14 *
                                                                     0x184 +
                                                                 local_18 +
                                                                 0xa4] = uVar5;
                                                            local_18 =
                                                                local_18 + 1;
                                                        }
                                                        local_2c =
                                                            (int *)FUN_00065fec(
                                                                local_38,
                                                                "temp_pcb");
                                                        if ((local_2c ==
                                                             (int *)0x0) ||
                                                            (*local_2c != 1)) {
                                                            if ((DAT_00091f58 !=
                                                                 '\0') ||
                                                                ((DAT_00087769 !=
                                                                      '\0' ||
                                                                  (2 <
                                                                   DAT_0008697c)))) {
                                                                snprintf(
                                                                    acStack_934,
                                                                    0x800,
                                                                    "%s: load "
                                                                    "json "
                                                                    "failed",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_"
                                                                    "stats");
                                                                FUN_0001e4ec(
                                                                    3,
                                                                    acStack_934,
                                                                    0);
                                                            }
                                                            FUN_0005830c(
                                                                &DAT_000954c8,
                                                                "socketa_api.c",
                                                                "cb_bitmain_"
                                                                "api_stats",
                                                                0xf6);
                                                            FUN_00058178(
                                                                local_24);
                                                            return 0xfffffffd;
                                                        }
                                                        local_18 = 0;
                                                        while ((
                                                            (uVar1 = local_18,
                                                             uVar2 =
                                                                 FUN_00066b34(
                                                                     local_2c),
                                                             uVar1 < uVar2 &&
                                                                 (local_28 = (int *)
                                                                      FUN_00066b80(
                                                                          local_2c,
                                                                          local_18),
                                                                  local_28 !=
                                                                      (int *)0x0)) &&
                                                            ((int)local_18 <
                                                             4))) {
                                                            if ((local_28 ==
                                                                 (int *)0x0) ||
                                                                (*local_28 !=
                                                                 3)) {
                                                                if ((DAT_00091f58 !=
                                                                     '\0') ||
                                                                    ((DAT_00087769 !=
                                                                          '\0' ||
                                                                      (2 <
                                                                       DAT_0008697c)))) {
                                                                    snprintf(
                                                                        acStack_934,
                                                                        0x800,
                                                                        "%s: "
                                                                        "load "
                                                                        "json "
                                                                        "faile"
                                                                        "d",
                                                                        "cb_"
                                                                        "bitmai"
                                                                        "n_api_"
                                                                        "stat"
                                                                        "s");
                                                                    FUN_0001e4ec(
                                                                        3,
                                                                        acStack_934,
                                                                        0);
                                                                }
                                                                FUN_0005830c(
                                                                    &DAT_000954c8,
                                                                    "socketa_"
                                                                    "api.c",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_stats",
                                                                    0xfa);
                                                                FUN_00058178(
                                                                    local_24);
                                                                return 0xfffffffd;
                                                            }
                                                            uVar5 =
                                                                FUN_00067c98(
                                                                    local_28);
                                                            (&DAT_000954e4)
                                                                [local_14 *
                                                                     0x184 +
                                                                 local_18 +
                                                                 0xa8] = uVar5;
                                                            local_18 =
                                                                local_18 + 1;
                                                        }
                                                        local_2c =
                                                            (int *)FUN_00065fec(
                                                                local_38,
                                                                "temp_chip");
                                                        if ((local_2c ==
                                                             (int *)0x0) ||
                                                            (*local_2c != 1)) {
                                                            if ((DAT_00091f58 !=
                                                                 '\0') ||
                                                                ((DAT_00087769 !=
                                                                      '\0' ||
                                                                  (2 <
                                                                   DAT_0008697c)))) {
                                                                snprintf(
                                                                    acStack_934,
                                                                    0x800,
                                                                    "%s: load "
                                                                    "json "
                                                                    "failed",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_"
                                                                    "stats");
                                                                FUN_0001e4ec(
                                                                    3,
                                                                    acStack_934,
                                                                    0);
                                                            }
                                                            FUN_0005830c(
                                                                &DAT_000954c8,
                                                                "socketa_api.c",
                                                                "cb_bitmain_"
                                                                "api_stats",
                                                                0xff);
                                                            FUN_00058178(
                                                                local_24);
                                                            return 0xfffffffd;
                                                        }
                                                        local_18 = 0;
                                                        while ((
                                                            (uVar1 = local_18,
                                                             uVar2 =
                                                                 FUN_00066b34(
                                                                     local_2c),
                                                             uVar1 < uVar2 &&
                                                                 (local_28 = (int *)
                                                                      FUN_00066b80(
                                                                          local_2c,
                                                                          local_18),
                                                                  local_28 !=
                                                                      (int *)0x0)) &&
                                                            ((int)local_18 <
                                                             4))) {
                                                            if ((local_28 ==
                                                                 (int *)0x0) ||
                                                                (*local_28 !=
                                                                 3)) {
                                                                if ((DAT_00091f58 !=
                                                                     '\0') ||
                                                                    ((DAT_00087769 !=
                                                                          '\0' ||
                                                                      (2 <
                                                                       DAT_0008697c)))) {
                                                                    snprintf(
                                                                        acStack_934,
                                                                        0x800,
                                                                        "%s: "
                                                                        "load "
                                                                        "json "
                                                                        "faile"
                                                                        "d",
                                                                        "cb_"
                                                                        "bitmai"
                                                                        "n_api_"
                                                                        "stat"
                                                                        "s");
                                                                    FUN_0001e4ec(
                                                                        3,
                                                                        acStack_934,
                                                                        0);
                                                                }
                                                                FUN_0005830c(
                                                                    &DAT_000954c8,
                                                                    "socketa_"
                                                                    "api.c",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_stats",
                                                                    0x103);
                                                                FUN_00058178(
                                                                    local_24);
                                                                return 0xfffffffd;
                                                            }
                                                            uVar5 =
                                                                FUN_00067c98(
                                                                    local_28);
                                                            (&DAT_000954e4)
                                                                [local_14 *
                                                                     0x184 +
                                                                 local_18 +
                                                                 0xac] = uVar5;
                                                            local_18 =
                                                                local_18 + 1;
                                                        }
                                                        local_28 =
                                                            (int *)FUN_00065fec(
                                                                local_38,
                                                                &DAT_00074c74);
                                                        if ((local_28 ==
                                                             (int *)0x0) ||
                                                            (*local_28 != 3)) {
                                                            if ((DAT_00091f58 !=
                                                                 '\0') ||
                                                                ((DAT_00087769 !=
                                                                      '\0' ||
                                                                  (2 <
                                                                   DAT_0008697c)))) {
                                                                snprintf(
                                                                    acStack_934,
                                                                    0x800,
                                                                    "%s: load "
                                                                    "json "
                                                                    "failed",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_"
                                                                    "stats");
                                                                FUN_0001e4ec(
                                                                    3,
                                                                    acStack_934,
                                                                    0);
                                                            }
                                                            FUN_0005830c(
                                                                &DAT_000954c8,
                                                                "socketa_api.c",
                                                                "cb_bitmain_"
                                                                "api_stats",
                                                                0x108);
                                                            FUN_00058178(
                                                                local_24);
                                                            return 0xfffffffd;
                                                        }
                                                        uVar5 = FUN_00067c98(
                                                            local_28);
                                                        *(undefined4
                                                              *)(&DAT_000957a4 +
                                                                 local_14 *
                                                                     0x610) =
                                                            uVar5;
                                                        DAT_00095228 =
                                                            *(int *)(&DAT_000957a4 +
                                                                     local_14 *
                                                                         0x610) +
                                                            DAT_00095228;
                                                        DAT_00096ee4 = 0;
                                                        local_2c =
                                                            (int *)FUN_00065fec(
                                                                local_38,
                                                                "rate_array");
                                                        if ((local_2c ==
                                                             (int *)0x0) ||
                                                            (*local_2c != 1)) {
                                                            if ((DAT_00091f58 !=
                                                                 '\0') ||
                                                                ((DAT_00087769 !=
                                                                      '\0' ||
                                                                  (2 <
                                                                   DAT_0008697c)))) {
                                                                snprintf(
                                                                    acStack_934,
                                                                    0x800,
                                                                    "%s: load "
                                                                    "json "
                                                                    "failed",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_"
                                                                    "stats");
                                                                FUN_0001e4ec(
                                                                    3,
                                                                    acStack_934,
                                                                    0);
                                                            }
                                                            FUN_0005830c(
                                                                &DAT_000954c8,
                                                                "socketa_api.c",
                                                                "cb_bitmain_"
                                                                "api_stats",
                                                                0x10e);
                                                            FUN_00058178(
                                                                local_24);
                                                            return 0xfffffffd;
                                                        }
                                                        local_18 = 0;
                                                        while ((
                                                            uVar1 = local_18,
                                                            uVar2 =
                                                                FUN_00066b34(
                                                                    local_2c),
                                                            uVar1 < uVar2 &&
                                                                (local_28 = (int *)
                                                                     FUN_00066b80(
                                                                         local_2c,
                                                                         local_18),
                                                                 local_28 !=
                                                                     (int *)0x0))) {
                                                            if ((local_28 ==
                                                                 (int *)0x0) ||
                                                                (*local_28 !=
                                                                 3)) {
                                                                if (((DAT_00091f58 !=
                                                                      '\0') ||
                                                                     (DAT_00087769 !=
                                                                      '\0')) ||
                                                                    (2 <
                                                                     DAT_0008697c)) {
                                                                    snprintf(
                                                                        acStack_934,
                                                                        0x800,
                                                                        "%s: "
                                                                        "load "
                                                                        "json "
                                                                        "faile"
                                                                        "d",
                                                                        "cb_"
                                                                        "bitmai"
                                                                        "n_api_"
                                                                        "stat"
                                                                        "s");
                                                                    FUN_0001e4ec(
                                                                        3,
                                                                        acStack_934,
                                                                        0);
                                                                }
                                                                FUN_0005830c(
                                                                    &DAT_000954c8,
                                                                    "socketa_"
                                                                    "api.c",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_stats",
                                                                    0x110);
                                                                FUN_00058178(
                                                                    local_24);
                                                                return 0xfffffffd;
                                                            }
                                                            uVar5 =
                                                                FUN_00067c98(
                                                                    local_28);
                                                            *(undefined4
                                                                  *)(&DAT_000954e0 +
                                                                     (local_14 *
                                                                          0x184 +
                                                                      local_18 +
                                                                      0xb2) *
                                                                         4) =
                                                                uVar5;
                                                            DAT_00096ee4 =
                                                                DAT_00096ee4 +
                                                                1;
                                                            local_18 =
                                                                local_18 + 1;
                                                        }
                                                        local_28 =
                                                            (int *)FUN_00065fec(
                                                                local_38,
                                                                "nonce");
                                                        if ((local_28 ==
                                                             (int *)0x0) ||
                                                            (*local_28 != 3)) {
                                                            if ((DAT_00091f58 !=
                                                                 '\0') ||
                                                                ((DAT_00087769 !=
                                                                      '\0' ||
                                                                  (2 <
                                                                   DAT_0008697c)))) {
                                                                snprintf(
                                                                    acStack_934,
                                                                    0x800,
                                                                    "%s: load "
                                                                    "json "
                                                                    "failed",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_"
                                                                    "stats");
                                                                FUN_0001e4ec(
                                                                    3,
                                                                    acStack_934,
                                                                    0);
                                                            }
                                                            FUN_0005830c(
                                                                &DAT_000954c8,
                                                                "socketa_api.c",
                                                                "cb_bitmain_"
                                                                "api_stats",
                                                                0x116);
                                                            FUN_00058178(
                                                                local_24);
                                                            return 0xfffffffd;
                                                        }
                                                        uVar5 = FUN_00067c98(
                                                            local_28);
                                                        *(undefined4
                                                              *)(&DAT_00095808 +
                                                                 local_14 *
                                                                     0x610) =
                                                            uVar5;
                                                        DAT_00096ee0 =
                                                            DAT_00096ee0 +
                                                            *(int *)(&DAT_00095808 +
                                                                     local_14 *
                                                                         0x610);
                                                        local_28 =
                                                            (int *)FUN_00065fec(
                                                                local_38,
                                                                "eeprom");
                                                        if (((local_28 ==
                                                              (int *)0x0) ||
                                                             (*local_28 !=
                                                              5)) &&
                                                            ((local_28 ==
                                                                  (int *)0x0 ||
                                                              (*local_28 !=
                                                               6)))) {
                                                            if (((DAT_00091f58 !=
                                                                  '\0') ||
                                                                 (DAT_00087769 !=
                                                                  '\0')) ||
                                                                (2 <
                                                                 DAT_0008697c)) {
                                                                snprintf(
                                                                    acStack_934,
                                                                    0x800,
                                                                    "%s: load "
                                                                    "json "
                                                                    "failed",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_"
                                                                    "stats");
                                                                FUN_0001e4ec(
                                                                    3,
                                                                    acStack_934,
                                                                    0);
                                                            }
                                                            FUN_0005830c(
                                                                &DAT_000954c8,
                                                                "socketa_api.c",
                                                                "cb_bitmain_"
                                                                "api_stats",
                                                                0x11b);
                                                            FUN_00058178(
                                                                local_24);
                                                            return 0xfffffffd;
                                                        }
                                                        if ((local_28 ==
                                                             (int *)0x0) ||
                                                            (*local_28 != 5)) {
                                                            uVar4 = 0;
                                                        } else {
                                                            uVar4 = 1;
                                                        }
                                                        (&DAT_0009580c)
                                                            [local_14 * 0x610] =
                                                                uVar4;
                                                        local_28 =
                                                            (int *)FUN_00065fec(
                                                                local_38,
                                                                &DAT_00074c94);
                                                        if ((local_28 ==
                                                             (int *)0x0) ||
                                                            (*local_28 != 2)) {
                                                            if ((DAT_00091f58 !=
                                                                 '\0') ||
                                                                ((DAT_00087769 !=
                                                                      '\0' ||
                                                                  (2 <
                                                                   DAT_0008697c)))) {
                                                                snprintf(
                                                                    acStack_934,
                                                                    0x800,
                                                                    "%s: load "
                                                                    "json "
                                                                    "failed",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_"
                                                                    "stats");
                                                                FUN_0001e4ec(
                                                                    3,
                                                                    acStack_934,
                                                                    0);
                                                            }
                                                            FUN_0005830c(
                                                                &DAT_000954c8,
                                                                "socketa_api.c",
                                                                "cb_bitmain_"
                                                                "api_stats",
                                                                0x11f);
                                                            FUN_00058178(
                                                                local_24);
                                                            return 0xfffffffd;
                                                        }
                                                        iVar3 =
                                                            local_14 * 0x610;
                                                        uVar5 = FUN_000677d0(
                                                            local_28);
                                                        snprintf(
                                                            (char *)(iVar3 +
                                                                     0x9580d),
                                                            0x20, "%s", uVar5);
                                                        local_28 =
                                                            (int *)FUN_00065fec(
                                                                local_38,
                                                                "eeprom_vol");
                                                        if ((local_28 ==
                                                             (int *)0x0) ||
                                                            (*local_28 != 3)) {
                                                            if ((DAT_00091f58 !=
                                                                 '\0') ||
                                                                ((DAT_00087769 !=
                                                                      '\0' ||
                                                                  (2 <
                                                                   DAT_0008697c)))) {
                                                                snprintf(
                                                                    acStack_934,
                                                                    0x800,
                                                                    "%s: load "
                                                                    "json "
                                                                    "failed",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_"
                                                                    "stats");
                                                                FUN_0001e4ec(
                                                                    3,
                                                                    acStack_934,
                                                                    0);
                                                            }
                                                            FUN_0005830c(
                                                                &DAT_000954c8,
                                                                "socketa_api.c",
                                                                "cb_bitmain_"
                                                                "api_stats",
                                                                0x123);
                                                            FUN_00058178(
                                                                local_24);
                                                            return 0xfffffffd;
                                                        }
                                                        uVar5 = FUN_00067c98(
                                                            local_28);
                                                        *(undefined4
                                                              *)(&DAT_00095834 +
                                                                 local_14 *
                                                                     0x610) =
                                                            uVar5;
                                                        local_28 =
                                                            (int *)FUN_00065fec(
                                                                local_38,
                                                                "eeprom_freq");
                                                        if ((local_28 ==
                                                             (int *)0x0) ||
                                                            (*local_28 != 3)) {
                                                            if ((DAT_00091f58 !=
                                                                 '\0') ||
                                                                ((DAT_00087769 !=
                                                                      '\0' ||
                                                                  (2 <
                                                                   DAT_0008697c)))) {
                                                                snprintf(
                                                                    acStack_934,
                                                                    0x800,
                                                                    "%s: load "
                                                                    "json "
                                                                    "failed",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_"
                                                                    "stats");
                                                                FUN_0001e4ec(
                                                                    3,
                                                                    acStack_934,
                                                                    0);
                                                            }
                                                            FUN_0005830c(
                                                                &DAT_000954c8,
                                                                "socketa_api.c",
                                                                "cb_bitmain_"
                                                                "api_stats",
                                                                0x127);
                                                            FUN_00058178(
                                                                local_24);
                                                            return 0xfffffffd;
                                                        }
                                                        uVar5 = FUN_00067c98(
                                                            local_28);
                                                        *(undefined4
                                                              *)(&DAT_00095830 +
                                                                 local_14 *
                                                                     0x610) =
                                                            uVar5;
                                                        local_28 =
                                                            (int *)FUN_00065fec(
                                                                local_38,
                                                                "eeprom_bin");
                                                        if ((local_28 ==
                                                             (int *)0x0) ||
                                                            (*local_28 != 3)) {
                                                            if ((DAT_00091f58 !=
                                                                 '\0') ||
                                                                ((DAT_00087769 !=
                                                                      '\0' ||
                                                                  (2 <
                                                                   DAT_0008697c)))) {
                                                                snprintf(
                                                                    acStack_934,
                                                                    0x800,
                                                                    "%s: load "
                                                                    "json "
                                                                    "failed",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_"
                                                                    "stats");
                                                                FUN_0001e4ec(
                                                                    3,
                                                                    acStack_934,
                                                                    0);
                                                            }
                                                            FUN_0005830c(
                                                                &DAT_000954c8,
                                                                "socketa_api.c",
                                                                "cb_bitmain_"
                                                                "api_stats",
                                                                299);
                                                            FUN_00058178(
                                                                local_24);
                                                            return 0xfffffffd;
                                                        }
                                                        uVar5 = FUN_00067c98(
                                                            local_28);
                                                        *(undefined4
                                                              *)(&DAT_00095838 +
                                                                 local_14 *
                                                                     0x610) =
                                                            uVar5;
                                                        local_28 =
                                                            (int *)FUN_00065fec(
                                                                local_38,
                                                                "eeprom_ft");
                                                        if ((local_28 ==
                                                             (int *)0x0) ||
                                                            (*local_28 != 2)) {
                                                            if ((DAT_00091f58 !=
                                                                 '\0') ||
                                                                ((DAT_00087769 !=
                                                                      '\0' ||
                                                                  (2 <
                                                                   DAT_0008697c)))) {
                                                                snprintf(
                                                                    acStack_934,
                                                                    0x800,
                                                                    "%s: load "
                                                                    "json "
                                                                    "failed",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_"
                                                                    "stats");
                                                                FUN_0001e4ec(
                                                                    3,
                                                                    acStack_934,
                                                                    0);
                                                            }
                                                            FUN_0005830c(
                                                                &DAT_000954c8,
                                                                "socketa_api.c",
                                                                "cb_bitmain_"
                                                                "api_stats",
                                                                0x12f);
                                                            FUN_00058178(
                                                                local_24);
                                                            return 0xfffffffd;
                                                        }
                                                        iVar3 =
                                                            local_14 * 0x610;
                                                        uVar5 = FUN_000677d0(
                                                            local_28);
                                                        snprintf(
                                                            (char *)(iVar3 +
                                                                     0x9583c),
                                                            0x10, "%s", uVar5);
                                                        local_28 =
                                                            (int *)FUN_00065fec(
                                                                local_38,
                                                                "eeprom_code");
                                                        if ((local_28 ==
                                                             (int *)0x0) ||
                                                            (*local_28 != 3)) {
                                                            if ((DAT_00091f58 !=
                                                                 '\0') ||
                                                                ((DAT_00087769 !=
                                                                      '\0' ||
                                                                  (2 <
                                                                   DAT_0008697c)))) {
                                                                snprintf(
                                                                    acStack_934,
                                                                    0x800,
                                                                    "%s: load "
                                                                    "json "
                                                                    "failed",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_"
                                                                    "stats");
                                                                FUN_0001e4ec(
                                                                    3,
                                                                    acStack_934,
                                                                    0);
                                                            }
                                                            FUN_0005830c(
                                                                &DAT_000954c8,
                                                                "socketa_api.c",
                                                                "cb_bitmain_"
                                                                "api_stats",
                                                                0x133);
                                                            FUN_00058178(
                                                                local_24);
                                                            return 0xfffffffd;
                                                        }
                                                        uVar5 = FUN_00067c98(
                                                            local_28);
                                                        *(undefined4
                                                              *)(&DAT_0009584c +
                                                                 local_14 *
                                                                     0x610) =
                                                            uVar5;
                                                        local_2c =
                                                            (int *)FUN_00065fec(
                                                                local_38,
                                                                &DAT_00074cd4);
                                                        if (local_2c !=
                                                            (int *)0x0) {
                                                            uVar5 =
                                                                FUN_00066b34(
                                                                    local_2c);
                                                            *(undefined4
                                                                  *)(&DAT_00095850 +
                                                                     local_14 *
                                                                         0x610) =
                                                                uVar5;
                                                            local_18 = 0;
                                                            while ((
                                                                uVar1 =
                                                                    local_18,
                                                                uVar2 =
                                                                    FUN_00066b34(
                                                                        local_2c),
                                                                uVar1 < uVar2 &&
                                                                    (local_28 =
                                                                         (int *)FUN_00066b80(
                                                                             local_2c,
                                                                             local_18),
                                                                     local_28 !=
                                                                         (int *)0x0))) {
                                                                if ((local_28 ==
                                                                     (int *)0x0) ||
                                                                    (*local_28 !=
                                                                     1)) {
                                                                    if (((DAT_00091f58 !=
                                                                          '\0') ||
                                                                         (DAT_00087769 !=
                                                                          '\0')) ||
                                                                        (2 <
                                                                         DAT_0008697c)) {
                                                                        snprintf(
                                                                            acStack_934,
                                                                            0x800,
                                                                            "%s"
                                                                            ": "
                                                                            "lo"
                                                                            "ad"
                                                                            " j"
                                                                            "so"
                                                                            "n "
                                                                            "fa"
                                                                            "il"
                                                                            "e"
                                                                            "d",
                                                                            "cb"
                                                                            "_b"
                                                                            "it"
                                                                            "ma"
                                                                            "in"
                                                                            "_a"
                                                                            "pi"
                                                                            "_s"
                                                                            "ta"
                                                                            "t"
                                                                            "s");
                                                                        FUN_0001e4ec(
                                                                            3,
                                                                            acStack_934,
                                                                            0);
                                                                    }
                                                                    FUN_0005830c(
                                                                        &DAT_000954c8,
                                                                        "socket"
                                                                        "a_api."
                                                                        "c",
                                                                        "cb_"
                                                                        "bitmai"
                                                                        "n_api_"
                                                                        "stats",
                                                                        0x13d);
                                                                    FUN_00058178(
                                                                        local_24);
                                                                    return 0xfffffffd;
                                                                }
                                                                uVar5 =
                                                                    FUN_00066b34(
                                                                        local_28);
                                                                *(undefined4
                                                                      *)(&DAT_00095854 +
                                                                         local_14 *
                                                                             0x610) =
                                                                    uVar5;
                                                                local_1c = 0;
                                                                while ((
                                                                    uVar1 =
                                                                        local_1c,
                                                                    uVar2 = FUN_00066b34(
                                                                        local_28),
                                                                    uVar1 < uVar2 &&
                                                                        (local_30 = FUN_00066b80(
                                                                             local_28,
                                                                             local_1c),
                                                                         local_30 !=
                                                                             0))) {
                                                                    iVar3 =
                                                                        local_18 *
                                                                            *(int *)(&DAT_00095854 +
                                                                                     local_14 *
                                                                                         0x610) +
                                                                        local_1c;
                                                                    uVar5 = FUN_00067c98(
                                                                        local_30);
                                                                    *(undefined4
                                                                          *)(&DAT_000954e0 +
                                                                             (local_14 *
                                                                                  0x184 +
                                                                              iVar3 +
                                                                              0xde) *
                                                                                 4) =
                                                                        uVar5;
                                                                    local_1c =
                                                                        local_1c +
                                                                        1;
                                                                }
                                                                local_18 =
                                                                    local_18 +
                                                                    1;
                                                            }
                                                        }
                                                        local_14 = local_14 + 1;
                                                    }
                                                    local_28 =
                                                        (int *)FUN_00065fec(
                                                            local_24,
                                                            "miner_version");
                                                    if ((local_28 ==
                                                         (int *)0x0) ||
                                                        (*local_28 != 2)) {
                                                        if ((DAT_00091f58 !=
                                                             '\0') ||
                                                            ((DAT_00087769 !=
                                                                  '\0' ||
                                                              (2 <
                                                               DAT_0008697c)))) {
                                                            snprintf(
                                                                acStack_934,
                                                                0x800,
                                                                "%s: load json "
                                                                "failed",
                                                                "cb_bitmain_"
                                                                "api_stats");
                                                            FUN_0001e4ec(
                                                                3, acStack_934,
                                                                0);
                                                        }
                                                        FUN_0005830c(
                                                            &DAT_000954c8,
                                                            "socketa_api.c",
                                                            "cb_bitmain_api_"
                                                            "stats",
                                                            0x146);
                                                        FUN_00058178(local_24);
                                                        uVar5 = 0xfffffffd;
                                                    } else {
                                                        uVar5 = FUN_000677d0(
                                                            local_28);
                                                        snprintf(&DAT_00096e88,
                                                                 0x30, "%s",
                                                                 uVar5);
                                                        iVar3 = strcmp(
                                                            &DAT_00096e88,
                                                            &DAT_00087b48);
                                                        if (iVar3 != 0) {
                                                            strncpy(
                                                                &DAT_00087b48,
                                                                &DAT_00096e88,
                                                                0x100);
                                                        }
                                                        local_28 =
                                                            (int *)FUN_00065fec(
                                                                local_24,
                                                                "total_hash");
                                                        if ((local_28 ==
                                                             (int *)0x0) ||
                                                            (*local_28 != 4)) {
                                                            if ((DAT_00091f58 !=
                                                                 '\0') ||
                                                                ((DAT_00087769 !=
                                                                      '\0' ||
                                                                  (2 <
                                                                   DAT_0008697c)))) {
                                                                snprintf(
                                                                    acStack_934,
                                                                    0x800,
                                                                    "%s: load "
                                                                    "json "
                                                                    "failed",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_"
                                                                    "stats");
                                                                FUN_0001e4ec(
                                                                    3,
                                                                    acStack_934,
                                                                    0);
                                                            }
                                                            FUN_0005830c(
                                                                &DAT_000954c8,
                                                                "socketa_api.c",
                                                                "cb_bitmain_"
                                                                "api_stats",
                                                                0x14c);
                                                            FUN_00058178(
                                                                local_24);
                                                            uVar5 = 0xfffffffd;
                                                        } else {
                                                            uVar5 =
                                                                FUN_00067e80(
                                                                    local_28);
                                                            DAT_00096eb8 =
                                                                (double)CONCAT44(
                                                                    extraout_s1,
                                                                    uVar5);
                                                            _DAT_00091f50 =
                                                                DAT_00096eb8 *
                                                                1000.0;
                                                            local_28 = (int *)
                                                                FUN_00065fec(
                                                                    local_24,
                                                                    "miner_id");
                                                            if ((local_28 ==
                                                                 (int *)0x0) ||
                                                                (*local_28 !=
                                                                 2)) {
                                                                if ((DAT_00091f58 !=
                                                                     '\0') ||
                                                                    ((DAT_00087769 !=
                                                                          '\0' ||
                                                                      (2 <
                                                                       DAT_0008697c)))) {
                                                                    snprintf(
                                                                        acStack_934,
                                                                        0x800,
                                                                        "%s: "
                                                                        "load "
                                                                        "json "
                                                                        "faile"
                                                                        "d",
                                                                        "cb_"
                                                                        "bitmai"
                                                                        "n_api_"
                                                                        "stat"
                                                                        "s");
                                                                    FUN_0001e4ec(
                                                                        3,
                                                                        acStack_934,
                                                                        0);
                                                                }
                                                                FUN_0005830c(
                                                                    &DAT_000954c8,
                                                                    "socketa_"
                                                                    "api.c",
                                                                    "cb_"
                                                                    "bitmain_"
                                                                    "api_stats",
                                                                    0x151);
                                                                FUN_00058178(
                                                                    local_24);
                                                                uVar5 =
                                                                    0xfffffffd;
                                                            } else {
                                                                uVar5 =
                                                                    FUN_000677d0(
                                                                        local_28);
                                                                snprintf(
                                                                    &DAT_00096ec0,
                                                                    0x20, "%s",
                                                                    uVar5);
                                                                local_28 = (int *)
                                                                    FUN_00065fec(
                                                                        local_24,
                                                                        "error_"
                                                                        "code");
                                                                if ((local_28 ==
                                                                     (int *)0x0) ||
                                                                    (*local_28 !=
                                                                     3)) {
                                                                    if ((DAT_00091f58 !=
                                                                         '\0') ||
                                                                        ((DAT_00087769 !=
                                                                              '\0' ||
                                                                          (2 <
                                                                           DAT_0008697c)))) {
                                                                        snprintf(
                                                                            acStack_934,
                                                                            0x800,
                                                                            "%s"
                                                                            ": "
                                                                            "lo"
                                                                            "ad"
                                                                            " j"
                                                                            "so"
                                                                            "n "
                                                                            "fa"
                                                                            "il"
                                                                            "e"
                                                                            "d",
                                                                            "cb"
                                                                            "_b"
                                                                            "it"
                                                                            "ma"
                                                                            "in"
                                                                            "_a"
                                                                            "pi"
                                                                            "_s"
                                                                            "ta"
                                                                            "t"
                                                                            "s");
                                                                        FUN_0001e4ec(
                                                                            3,
                                                                            acStack_934,
                                                                            0);
                                                                    }
                                                                    FUN_0005830c(
                                                                        &DAT_000954c8,
                                                                        "socket"
                                                                        "a_api."
                                                                        "c",
                                                                        "cb_"
                                                                        "bitmai"
                                                                        "n_api_"
                                                                        "stats",
                                                                        0x155);
                                                                    FUN_00058178(
                                                                        local_24);
                                                                    uVar5 =
                                                                        0xfffffffd;
                                                                } else {
                                                                    DAT_00096ee8 =
                                                                        FUN_00067c98(
                                                                            local_28);
                                                                    FUN_0005830c(
                                                                        &DAT_000954c8,
                                                                        "socket"
                                                                        "a_api."
                                                                        "c",
                                                                        "cb_"
                                                                        "bitmai"
                                                                        "n_api_"
                                                                        "stats",
                                                                        0x158);
                                                                    FUN_00058178(
                                                                        local_24);
                                                                    uVar5 = 0;
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
    return uVar5;
}

undefined4 FUN_0005b7c0(void *param_1, undefined4 param_2, void *param_3,
                        void *param_4)

{
    byte bVar1;
    byte bVar2;
    void *pvVar3;
    byte local_19;
    void *local_18;
    size_t local_14;
    int local_10;
    byte *local_c;

    local_10 = 1;
    local_14 = 4;
    local_c = (byte *)param_1;
    memcpy(&local_19, param_1, 1);
    local_c = (byte *)((int)local_c + local_10);
    memcpy(param_4, local_c, local_14);
    local_c = (byte *)((int)local_c + local_14);
    memcpy(param_3, local_c, 0x1c0);
    bVar1 = *(byte *)((int)local_c + 0x1c0);
    local_c = (byte *)((int)local_c + 0x1c1);
    local_18 = calloc(1, (uint)bVar1);
    memcpy(local_18, local_c, (uint)bVar1);
    *(void **)((int)param_3 + 0x120) = local_18;
    bVar2 = *(byte *)((int)local_c + (uint)bVar1);
    local_c = (byte *)((int)local_c + (uint)bVar1) + 1;
    local_18 = calloc(1, (uint)bVar2);
    memcpy(local_18, local_c, (uint)bVar2);
    *(void **)((int)param_3 + 0x134) = local_18;
    bVar1 = local_c[bVar2];
    local_c = local_c + bVar2 + 1;
    local_18 = calloc(1, (uint)bVar1);
    memcpy(local_18, local_c, (uint)bVar1);
    *(void **)((int)param_3 + 0x140) = local_18;
    local_c = local_c + bVar1;
    pvVar3 = calloc(1, 1);
    *(void **)((int)param_3 + 0x148) = pvVar3;
    *(undefined4 *)((int)param_3 + 0x104) =
        *(undefined4 *)(DAT_000920cc + (uint)local_19 * 4);
    *(undefined4 *)((int)param_3 + 0xfc) = *DAT_000930e8;
    *(undefined4 *)((int)param_3 + 0x100) = *(undefined4 *)*DAT_000930e8;
    return 0;
}

undefined4 FUN_0005ba08(undefined4 param_1, undefined4 param_2)

{
    int iVar1;
    undefined4 uVar2;
    char acStack_9cc[2048];
    undefined4 local_1cc;
    undefined1 auStack_1c8[448];

    if ((DAT_00087768 != '\0') &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (6 < DAT_0008697c)))) {
        snprintf(acStack_9cc, 0x800, "got nonce sz %d", param_2);
        FUN_0001e4ec(7, acStack_9cc, 0);
    }
    FUN_0005b7c0(param_1, param_2, auStack_1c8, &local_1cc);
    iVar1 = FUN_00045588(*DAT_000930e8, local_1cc);
    if ((iVar1 == 0) ||
        (iVar1 = FUN_00045004(auStack_1c8, local_1cc), iVar1 == 0)) {
        FUN_00044ca8(*DAT_000930e8);
        FUN_00031ed8(auStack_1c8);
        uVar2 = 0xffffffff;
    } else {
        FUN_00045464(*DAT_000930e8, auStack_1c8);
        if ((DAT_00091f78 != 0) && (DAT_0009202c != '\0')) {
            FUN_000340d0(auStack_1c8, local_1cc);
        }
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            snprintf(acStack_9cc, 0x800, "%s nonce submited",
                     "cb_bitmain_submit_nonce");
            FUN_0001e4ec(7, acStack_9cc, 0);
        }
        FUN_00031ed8(auStack_1c8);
        uVar2 = 0;
    }
    return uVar2;
}

uint FUN_0005bc40(void)

{
    uint uVar1;
    char acStack_810[2048];
    int local_10;
    uint local_c;

    local_c = 0;
    local_10 = 0;
    FUN_00058354(&DAT_000954c8, "socketa_api.c", "cgminer_socket_init", 0x1fa);
    FUN_00058354(&DAT_00096ef0, "socketa_api.c", "cgminer_socket_init", 0x1fb);
    uVar1 = FUN_0005ea74(&DAT_000749b0, 2);
    local_c = local_c | uVar1;
    if (local_c == 0) {
        while (true) {
            for (local_10 = 0; local_10 < 4; local_10 = local_10 + 1) {
                uVar1 = FUN_0005ee48(s__bitmain_api_detect_0008748f +
                                     local_10 * 0x84 + 1);
                local_c = local_c | uVar1;
                if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                    (4 < DAT_0008697c)) {
                    snprintf(acStack_810, 0x800, "%s reg %s return: %d",
                             "cgminer_socket_init",
                             s__bitmain_api_detect_0008748f + local_10 * 0x84 +
                                 1,
                             local_c);
                    FUN_0001e4ec(5, acStack_810, 0);
                }
            }
            if (local_c == 0)
                break;
            local_c = 0;
            sleep(5);
            if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
                (2 < DAT_0008697c)) {
                snprintf(acStack_810, 0x800, "%s reg failed wait 5s",
                         "cgminer_socket_init");
                FUN_0001e4ec(3, acStack_810, 0);
            }
        }
        local_c = 0;
    } else if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
               (2 < DAT_0008697c)) {
        snprintf(acStack_810, 0x800, "%s trans init failed: %d",
                 "cgminer_socket_init", local_c);
        FUN_0001e4ec(3, acStack_810, 0);
    }
    return local_c;
}

void FUN_0005bf08(int param_1)

{
    bool bVar1;
    int iVar2;
    int *piVar3;

    if ((param_1 != 0) && (*(int *)(param_1 + 4) != -1)) {
        piVar3 = (int *)(param_1 + 4);
        DataMemoryBarrier(0xf);
        do {
            iVar2 = *piVar3;
            bVar1 = (bool)hasExclusiveAccess(piVar3);
        } while (!bVar1);
        *piVar3 = iVar2 + -1;
        if (iVar2 + -1 == 0) {
            FUN_000680f0(param_1);
        }
    }
    return;
}

void FUN_0005bf6c(pthread_mutex_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_mutex_lock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF MUTEX ERROR ON LOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0005c004(pthread_mutex_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_mutex_unlock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF MUTEX ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0005c09c(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0005c004(param_1, param_2, param_3, param_4);
    (*DAT_00086aa0)();
    return;
}

void FUN_0005c0e4(pthread_rwlock_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_rwlock_rdlock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF RDLOCK ERROR ON LOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0005c17c(pthread_rwlock_t *param_1, undefined4 param_2,
                  undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    int *piVar2;
    char acStack_808[2048];

    iVar1 = pthread_rwlock_unlock(param_1);
    if (iVar1 != 0) {
        piVar2 = __errno_location();
        snprintf(acStack_808, 0x800,
                 "WTF RWLOCK ERROR ON UNLOCK! errno=%d in %s %s():%d", *piVar2,
                 param_2, param_3, param_4);
        FUN_0001e4ec(3, acStack_808, 1);
        FUN_0004bfb0(1);
    }
    return;
}

void FUN_0005c214(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0005c17c(param_1, param_2, param_3, param_4);
    (*DAT_00086aa0)();
    return;
}

void FUN_0005c25c(int param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0005bf6c(param_1, param_2, param_3, param_4);
    FUN_0005c0e4(param_1 + 0x18, param_2, param_3, param_4);
    FUN_0005c004(param_1, param_2, param_3, param_4);
    return;
}

void FUN_0005c2c0(int param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    FUN_0005c214(param_1 + 0x18, param_2, param_3, param_4);
    return;
}

void FUN_0005c2fc(void)

{
    int iVar1;
    char local_814[20];
    uint local_800;
    char acStack_7fc[4];
    undefined2 local_7f8;
    undefined1 local_14[4];
    undefined *local_10;
    void *local_c;

    local_c = calloc(1, 0x188);
    local_10 = &DAT_000876a0;
    if (local_c == (void *)0x0) {
        /* WARNING: Subroutine does not return */
        __assert_fail("cgpu", "driver-btm-c5_socketa.c", 0x33,
                      "bitmain_c5_detect");
    }
    *(undefined **)((int)local_c + 4) = &DAT_000876a0;
    *(undefined4 *)((int)local_c + 0x20) = 0;
    *(undefined4 *)((int)local_c + 0x94) = 1;
    iVar1 = FUN_0005bc40();
    if (iVar1 == 0) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (5 < DAT_0008697c)) {
            builtin_strncpy(local_814, "cgminer socket init ", 0x14);
            local_800._0_1_ = 's';
            local_800._1_1_ = 'u';
            local_800._2_1_ = 'c';
            local_800._3_1_ = 'c';
            builtin_strncpy(acStack_7fc, "eeds", 4);
            local_7f8 = 0x2e;
            FUN_0001e4ec(6, local_814, 0);
        }
    } else if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
               (2 < DAT_0008697c)) {
        builtin_strncpy(local_814, "cgminer socket init ", 0x14);
        local_800._0_1_ = 'f';
        local_800._1_1_ = 'a';
        local_800._2_1_ = 'i';
        local_800._3_1_ = 'l';
        builtin_strncpy(acStack_7fc, "es.", 4);
        FUN_0001e4ec(3, local_814, 0);
    }
    if (DAT_00087aac != 0) {
        FUN_0004e8f0();
    }
    local_14[0] = 0;
    FUN_0002251c(2000);
    while (true) {
        FUN_000585b0(local_14, 1);
        FUN_0002251c(1000);
        FUN_0005bf6c(&DAT_000954c8, "driver-btm-c5_socketa.c",
                     "bitmain_c5_detect", 0x4d);
        if (DAT_000954e8 != 0)
            break;
        FUN_0005c09c(&DAT_000954c8, "driver-btm-c5_socketa.c",
                     "bitmain_c5_detect", 0x53);
    }
    FUN_0005c09c(&DAT_000954c8, "driver-btm-c5_socketa.c", "bitmain_c5_detect",
                 0x4f);
    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (4 < DAT_0008697c)) {
        builtin_strncpy(local_814, "bmminer init done!!!", 0x14);
        local_800 = local_800 & 0xffffff00;
        FUN_0001e4ec(5, local_814, 0);
    }
    iVar1 = FUN_0004cd44(local_c);
    if (iVar1 != 0) {
        return;
    }
    /* WARNING: Subroutine does not return */
    __assert_fail("add_cgpu(cgpu)", "driver-btm-c5_socketa.c", 0x55,
                  "bitmain_c5_detect");
}

void FUN_0005c62c(undefined4 param_1)

{
    time_t atStack_a0[2];
    undefined4 local_98;
    undefined4 local_94;
    undefined4 local_90;
    undefined4 local_8c;
    undefined4 local_88;
    undefined4 local_84;
    undefined4 local_80;
    undefined4 local_7c;
    char acStack_78[60];
    char local_3c[40];
    tm *local_14;

    local_3c[0] = '\0';
    local_3c[1] = '\0';
    local_3c[2] = '\0';
    local_3c[3] = '\0';
    local_3c[4] = '\0';
    local_3c[5] = '\0';
    local_3c[6] = '\0';
    local_3c[7] = '\0';
    local_3c[8] = '\0';
    local_3c[9] = '\0';
    local_3c[10] = '\0';
    local_3c[0xb] = '\0';
    local_3c[0xc] = '\0';
    local_3c[0xd] = '\0';
    local_3c[0xe] = '\0';
    local_3c[0xf] = '\0';
    local_3c[0x10] = '\0';
    local_3c[0x11] = '\0';
    local_3c[0x12] = '\0';
    local_3c[0x13] = '\0';
    local_3c[0x14] = '\0';
    local_3c[0x15] = '\0';
    local_3c[0x16] = '\0';
    local_3c[0x17] = '\0';
    local_3c[0x18] = '\0';
    local_3c[0x19] = '\0';
    local_3c[0x1a] = '\0';
    local_3c[0x1b] = '\0';
    local_3c[0x1c] = '\0';
    local_3c[0x1d] = '\0';
    local_3c[0x1e] = '\0';
    local_3c[0x1f] = '\0';
    local_3c[0x20] = '\0';
    local_3c[0x21] = '\0';
    local_3c[0x22] = '\0';
    local_3c[0x23] = '\0';
    local_3c[0x24] = '\0';
    local_3c[0x25] = '\0';
    local_3c[0x26] = '\0';
    local_3c[0x27] = '\0';
    memset(acStack_78, 0, 0x3b);
    local_98 = 0;
    local_94 = 0;
    local_90 = 0;
    local_8c = 0;
    local_88 = 0;
    local_84 = 0;
    local_80 = 0;
    local_7c = 0;
    FUN_00022308(atStack_a0);
    local_14 = localtime(atStack_a0);
    snprintf(local_3c, 0x28, "[%d-%02d-%02d %02d:%02d:%02d]",
             local_14->tm_year + 0x76c, local_14->tm_mon + 1, local_14->tm_mday,
             local_14->tm_hour, local_14->tm_min, local_14->tm_sec);
    snprintf(acStack_78, 0x3b, "%s%s", "BITMAIN_OPENSOURCE", local_3c);
    FUN_0001f4d0(acStack_78, 0x3b, &local_98);
    FUN_0001f4d0(&local_98, 0x20, param_1);
    return;
}

undefined4 FUN_0005c808(void)

{
    int iVar1;
    undefined4 uVar2;
    char acStack_828[2048];
    undefined1 auStack_28[32];

    FUN_0005c62c(auStack_28);
    iVar1 = FUN_000583f0(auStack_28, 0x20);
    if (iVar1 == 0) {
        FUN_0004e78c();
        uVar2 = 1;
    } else {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            snprintf(acStack_828, 0x800, "%s: api detect failed.",
                     "bitmain_c5_prepare");
            FUN_0001e4ec(3, acStack_828, 0);
        }
        uVar2 = 0;
    }
    return uVar2;
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */

undefined8 FUN_0005c8d4(void)

{
    undefined8 uVar1;

    uVar1 = _DAT_000899b0;
    if (_DAT_000899b0 != 0 || DAT_000899b4 != 0) {
        FUN_0005bf6c(&DAT_00096ef0, "driver-btm-c5_socketa.c",
                     "bitmain_c5_scanhash", 0xb8);
        _DAT_000899b0 = 0;
        FUN_0005c09c(&DAT_00096ef0, "driver-btm-c5_socketa.c",
                     "bitmain_c5_scanhash", 0xba);
    }
    FUN_0002251c(2);
    return uVar1;
}

void *FUN_0005c974(void *param_1, size_t *param_2)

{
    size_t sVar1;
    void *pvVar2;
    void *pvVar3;
    char acStack_828[2048];
    undefined4 local_28;
    undefined4 uStack_24;
    void *local_20;
    size_t local_1c;
    int local_18;
    int local_14;

    local_14 = 0;
    local_28 = 0;
    uStack_24 = 0;
    FUN_0005c25c((int)param_1 + 0xd4, "driver-btm-c5_socketa.c",
                 "rebuild_job_buf", 0xde);
    local_1c = *(int *)((int)param_1 + 0x634) +
               *(int *)((int)param_1 + 0x6bc) * 0x20 + 0x748;
    sVar1 = strlen(*(char **)((int)param_1 + 0x2b0));
    local_1c = sVar1 + local_1c + 1;
    sVar1 = strlen(*(char **)((int)param_1 + 0x274));
    local_1c = sVar1 + local_1c + 0x11;
    local_20 = calloc(1, local_1c);
    if (local_20 == (void *)0x0) {
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            snprintf(acStack_828, 0x800,
                     "malloc temp job data buf failed: %d\n", local_1c);
            FUN_0001e4ec(3, acStack_828, 0);
        }
        local_20 = (void *)0x0;
    } else {
        memcpy(local_20, param_1, 0x748);
        local_14 = local_14 + 0x748;
        memcpy((void *)((int)local_20 + local_14),
               *(void **)((int)param_1 + 0x630),
               *(size_t *)((int)param_1 + 0x634));
        local_14 = *(int *)((int)param_1 + 0x634) + local_14;
        for (local_18 = 0; local_18 < *(int *)((int)param_1 + 0x6bc);
             local_18 = local_18 + 1) {
            memcpy((void *)((int)local_20 + local_14),
                   *(void **)(*(int *)((int)param_1 + 0x2b4) + local_18 * 4),
                   0x20);
            local_14 = local_14 + 0x20;
        }
        pvVar2 = (void *)((int)local_20 + local_14);
        pvVar3 = *(void **)((int)param_1 + 0x2b0);
        sVar1 = strlen(*(char **)((int)param_1 + 0x2b0));
        memcpy(pvVar2, pvVar3, sVar1 + 1);
        sVar1 = strlen(*(char **)((int)param_1 + 0x2b0));
        local_14 = sVar1 + local_14 + 1;
        pvVar2 = (void *)((int)local_20 + local_14);
        pvVar3 = *(void **)((int)param_1 + 0x274);
        sVar1 = strlen(*(char **)((int)param_1 + 0x274));
        memcpy(pvVar2, pvVar3, sVar1 + 1);
        sVar1 = strlen(*(char **)((int)param_1 + 0x274));
        local_14 = sVar1 + local_14 + 1;
        FUN_0005c2c0((int)param_1 + 0xd4, "driver-btm-c5_socketa.c",
                     "rebuild_job_buf", 0x102);
        sscanf(&DAT_00087e50, "%.2lf", &local_28);
        memcpy((void *)((int)local_20 + local_14), &local_28, 8);
        local_14 = local_14 + 8;
        memcpy((void *)((int)local_20 + local_14), &DAT_00086c78, 8);
        local_14 = local_14 + 8;
        if ((DAT_00087768 != '\0') &&
            (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
              (6 < DAT_0008697c)))) {
            snprintf(acStack_828, 0x800, "job buf total len:%d, offset:%d\n",
                     local_1c, local_14);
            FUN_0001e4ec(7, acStack_828, 0);
        }
        *param_2 = local_1c;
    }
    return local_20;
}

void FUN_0005cda8(int param_1)

{
    int iVar1;
    char local_81c[8];
    undefined4 local_814;
    char acStack_810[2036];
    int local_1c;
    undefined4 local_18;
    void *local_14;
    int local_10;
    undefined4 *local_c;

    local_c = (undefined4 *)**(undefined4 **)(param_1 + 0x98);
    if ((DAT_00087768 != '\0') &&
        (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
          (6 < DAT_0008697c)))) {
        builtin_strncpy(local_81c, "update j", 8);
        local_814._0_3_ = 0x626f;
        FUN_0001e4ec(7, local_81c, 0);
    }
    *(undefined1 *)((int)local_c + 0x3f) = 0;
    *(undefined1 *)((int)local_c + 0x3e) = 0;
    local_18 = FUN_00044158(local_c, *local_c);
    FUN_00036898(&local_18, "driver-btm-c5_socketa.c", "bitmain_c5_update",
                 0x120);
    local_10 = FUN_0002f984();
    if (*(char *)(local_10 + 0x290) != '\x01') {
        builtin_strncpy(local_81c, "Bitmain ", 8);
        local_814._0_1_ = 'S';
        local_814._1_1_ = '9';
        local_814._2_1_ = ' ';
        local_814._3_1_ = 'h';
        builtin_strncpy(acStack_810, "as to use stratum pools", 0x18);
        FUN_0001e4ec(3, local_81c, 1);
        FUN_0004bfb0(1);
    }
    if (DAT_00087e78 != 0) {
        *(undefined1 *)(local_10 + 0x2b8) = 1;
        DAT_00087e78 = 0;
    }
    local_14 = (void *)FUN_0005c974(local_10, &local_1c);
    if (((local_1c != 0) &&
         (iVar1 = FUN_000584d0(local_14, local_1c), iVar1 != 0)) &&
        ((DAT_00091f58 != '\0' ||
          ((DAT_00087769 != '\0' || (2 < DAT_0008697c)))))) {
        snprintf(local_81c, 0x800, "%s: update job failed.",
                 "bitmain_c5_update");
        FUN_0001e4ec(3, local_81c, 0);
    }
    free(local_14);
    return;
}

int FUN_0005d024(undefined4 param_1, char *param_2)

{
    size_t sVar1;
    char acStack_80c[2048];
    int local_c;

    local_c = 0;
    switch (param_1) {
    case 0:
    case 1:
    case 2:
        sVar1 = strlen(param_2);
        local_c = sVar1 + 1;
        break;
    case 3:
        local_c = 4;
        break;
    case 4:
        local_c = 4;
        break;
    case 5:
        local_c = 4;
        break;
    case 6:
        local_c = 4;
        break;
    case 7:
        local_c = 4;
        break;
    case 8:
        local_c = 4;
        break;
    case 9:
        local_c = 4;
        break;
    case 10:
        local_c = 8;
        break;
    case 0xb:
        local_c = 8;
        break;
    case 0xc:
    case 0xd:
    case 0x11:
    case 0x12:
    case 0x14:
    case 0x15:
    case 0x17:
    case 0x18:
    case 0x19:
        local_c = 8;
        break;
    case 0xe:
        local_c = 1;
        break;
    case 0xf:
        local_c = 8;
        break;
    case 0x10:
        local_c = 4;
        break;
    case 0x13:
    case 0x16:
    case 0x1a:
        local_c = 4;
        break;
    default:
        if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
            (2 < DAT_0008697c)) {
            snprintf(acStack_80c, 0x800,
                     "Should not happy for unknown data type %d", param_1);
            FUN_0001e4ec(3, acStack_80c, 0);
        }
    }
    return local_c;
}

void FUN_0005d20c(undefined4 param_1)

{
    char *pcVar1;
    undefined4 uVar2;
    char acStack_994[2048];
    undefined1 auStack_194[128];
    undefined1 auStack_114[92];
    undefined1 auStack_b8[160];
    int *local_18;
    int *local_14;
    int local_10;
    int local_c;

    local_14 = (int *)0x0;
    local_18 = (int *)0x0;
    memset(auStack_194, 0, 0x80);
    local_c = -1;
    local_10 = -1;
    FUN_0003c7dc(auStack_194);
    local_14 = (int *)FUN_00064b1c(auStack_194, 0, auStack_114);
    if ((local_14 == (int *)0x0) || (*local_14 != 0)) {
        if ((DAT_00091f58 != '\0') ||
            ((DAT_00087769 != '\0' || (2 < DAT_0008697c)))) {
            snprintf(acStack_994, 0x800,
                     "%s: JSON decode of file \'%s\' failed\n %s",
                     "load_conf_info", auStack_194, auStack_b8);
            FUN_0001e4ec(3, acStack_994, 0);
        }
    } else {
        local_18 = (int *)FUN_00065fec(local_14, "bitmain-work-mode");
        if ((local_18 != (int *)0x0) && (*local_18 == 2)) {
            pcVar1 = (char *)FUN_000677d0(local_18);
            local_c = atoi(pcVar1);
        }
        local_18 = (int *)FUN_00065fec(local_14, "bitmain-freq-level");
        if ((local_18 != (int *)0x0) && (*local_18 == 2)) {
            pcVar1 = (char *)FUN_000677d0(local_18);
            local_10 = atoi(pcVar1);
        }
        FUN_0005bf08(local_14);
    }
    uVar2 = FUN_00067c3c(local_c, local_c >> 0x1f);
    FUN_0006611c(param_1, "miner-mode", uVar2);
    uVar2 = FUN_00067c3c(local_10, local_10 >> 0x1f);
    FUN_0006611c(param_1, "freq-level", uVar2);
    return;
}

/* WARNING: Globals starting with '_' overlap smaller symbols at the same
 * address */

undefined4 FUN_0005d428(void)

{
    undefined4 uVar1;
    double dVar2;
    undefined8 uVar3;
    undefined4 local_68;
    undefined4 uStack_64;
    undefined4 local_60;
    undefined4 uStack_5c;
    undefined4 local_58;
    undefined4 uStack_54;
    undefined4 local_50;
    undefined4 uStack_4c;
    undefined4 local_48;
    undefined4 uStack_44;
    char local_40[8];
    undefined4 local_38;
    undefined4 uStack_34;
    undefined4 local_2c;
    undefined4 local_28;
    undefined4 local_24;
    undefined4 local_20;
    undefined4 local_1c;
    int local_18;
    int local_14;
    int local_10;
    int local_c;

    local_1c = 0;
    local_20 = 0;
    local_24 = 0;
    local_28 = 0;
    local_2c = 0;
    local_c = 0;
    local_10 = 0;
    local_40[0] = '\0';
    local_40[1] = '\0';
    local_40[2] = '\0';
    local_40[3] = '\0';
    local_40[4] = '\0';
    local_40[5] = '\0';
    local_40[6] = '\0';
    local_40[7] = '\0';
    local_38 = 0;
    uStack_34 = 0;
    local_48 = 0;
    uStack_44 = 0;
    local_50 = 0;
    uStack_4c = 0;
    local_58 = 0;
    uStack_54 = 0;
    local_60 = 0;
    uStack_5c = 0;
    local_68 = 0;
    uStack_64 = 0;
    FUN_0005bf6c(&DAT_000954c8, "driver-btm-c5_socketa.c", "bitmain_api_stats",
                 0x1b1);
    local_1c = FUN_00065ed4();
    local_38 = _DAT_00087478;
    uStack_34 = DAT_0008747c;
    uVar3 = FUN_00068f1c(_DAT_00087478, DAT_0008747c);
    uVar1 = FUN_00067c3c((int)uVar3, (int)((ulonglong)uVar3 >> 0x20));
    FUN_0006611c(local_1c, "elapsed", uVar1);
    sscanf(&DAT_000955ec, "%lf", &local_48);
    dVar2 = (double)CONCAT44(uStack_44, local_48) * 100.0;
    uVar3 = FUN_00068f1c(SUB84(dVar2, 0), (int)((ulonglong)dVar2 >> 0x20));
    dVar2 = (double)FUN_00068e84((int)uVar3, (int)((ulonglong)uVar3 >> 0x20));
    uVar1 = FUN_00067df4(SUB84(dVar2 / 100.0, 0));
    FUN_0006611c(local_1c, "rate_5s", uVar1);
    sscanf(&DAT_000955fc, "%lf", &local_50);
    dVar2 = (double)CONCAT44(uStack_4c, local_50) * 100.0;
    uVar3 = FUN_00068f1c(SUB84(dVar2, 0), (int)((ulonglong)dVar2 >> 0x20));
    dVar2 = (double)FUN_00068e84((int)uVar3, (int)((ulonglong)uVar3 >> 0x20));
    uVar1 = FUN_00067df4(SUB84(dVar2 / 100.0, 0));
    FUN_0006611c(local_1c, "rate_30m", uVar1);
    sscanf(&DAT_0009560c, "%lf", &local_58);
    dVar2 = (double)CONCAT44(uStack_54, local_58) * 100.0;
    uVar3 = FUN_00068f1c(SUB84(dVar2, 0), (int)((ulonglong)dVar2 >> 0x20));
    dVar2 = (double)FUN_00068e84((int)uVar3, (int)((ulonglong)uVar3 >> 0x20));
    uVar1 = FUN_00067df4(SUB84(dVar2 / 100.0, 0));
    FUN_0006611c(local_1c, "rate_avg", uVar1);
    sscanf(&DAT_0009561c, "%lf", &local_60);
    dVar2 = (double)CONCAT44(uStack_5c, local_60) * 100.0;
    uVar3 = FUN_00068f1c(SUB84(dVar2, 0), (int)((ulonglong)dVar2 >> 0x20));
    dVar2 = (double)FUN_00068e84((int)uVar3, (int)((ulonglong)uVar3 >> 0x20));
    uVar1 = FUN_00067df4(SUB84(dVar2 / 100.0, 0));
    FUN_0006611c(local_1c, "rate_ideal", uVar1);
    snprintf(local_40, 8, "%s/s", &DAT_0009562c);
    uVar1 = FUN_00067728(local_40);
    FUN_0006611c(local_1c, "rate_unit", uVar1);
    uVar1 = FUN_00067c3c(DAT_000954e4, DAT_000954e4 >> 0x1f);
    FUN_0006611c(local_1c, "chain_num", uVar1);
    uVar1 = FUN_00067c3c(DAT_00095634, DAT_00095634 >> 0x1f);
    FUN_0006611c(local_1c, "fan_num", uVar1);
    local_20 = FUN_00066a14();
    for (local_c = 0; local_c < DAT_00095634; local_c = local_c + 1) {
        uVar1 = FUN_00067c3c(*(int *)(&DAT_000954e0 + (local_c + 0x56) * 4),
                             *(int *)(&DAT_000954e0 + (local_c + 0x56) * 4) >>
                                 0x1f);
        FUN_00066ea4(local_20, uVar1);
    }
    FUN_0006611c(local_1c, &DAT_0007511c, local_20);
    if ((double)(longlong)DAT_00096ee0 <= 512.0) {
        dVar2 = 512.0;
    } else {
        dVar2 = (double)(longlong)DAT_00096ee0;
    }
    dVar2 = ((double)(longlong)DAT_00095228 / dVar2) * 10000.0;
    uVar3 = FUN_00068f1c(SUB84(dVar2, 0), (int)((ulonglong)dVar2 >> 0x20));
    dVar2 = (double)FUN_00068e84((int)uVar3, (int)((ulonglong)uVar3 >> 0x20));
    uVar1 = FUN_00067df4(SUB84(dVar2 / 10000.0, 0));
    FUN_0006611c(local_1c, "hwp_total", uVar1);
    FUN_0005d20c(local_1c);
    local_28 = FUN_00066a14();
    local_c = 0;
    while (true) {
        if (DAT_000954e4 <= local_c)
            break;
        local_2c = FUN_00065ed4();
        uVar1 = FUN_00067c3c(*(int *)(&DAT_00095648 + local_c * 0x610),
                             *(int *)(&DAT_00095648 + local_c * 0x610) >> 0x1f);
        FUN_0006611c(local_2c, "index", uVar1);
        uVar1 = FUN_00067c3c(*(int *)(&DAT_0009564c + local_c * 0x610),
                             *(int *)(&DAT_0009564c + local_c * 0x610) >> 0x1f);
        FUN_0006611c(local_2c, "freq_avg", uVar1);
        sscanf((char *)(local_c * 0x610 + 0x95650), "%lf", &local_60);
        dVar2 = (double)CONCAT44(uStack_5c, local_60) * 100.0;
        uVar3 = FUN_00068f1c(SUB84(dVar2, 0), (int)((ulonglong)dVar2 >> 0x20));
        dVar2 =
            (double)FUN_00068e84((int)uVar3, (int)((ulonglong)uVar3 >> 0x20));
        uVar1 = FUN_00067df4(SUB84(dVar2 / 100.0, 0));
        FUN_0006611c(local_2c, "rate_ideal", uVar1);
        sscanf((char *)(local_c * 0x610 + 0x95660), "%lf", &local_68);
        dVar2 = (double)CONCAT44(uStack_64, local_68) * 100.0;
        uVar3 = FUN_00068f1c(SUB84(dVar2, 0), (int)((ulonglong)dVar2 >> 0x20));
        dVar2 =
            (double)FUN_00068e84((int)uVar3, (int)((ulonglong)uVar3 >> 0x20));
        uVar1 = FUN_00067df4(SUB84(dVar2 / 100.0, 0));
        FUN_0006611c(local_2c, "rate_real", uVar1);
        uVar1 = FUN_00067c3c(*(int *)(&DAT_00095670 + local_c * 0x610),
                             *(int *)(&DAT_00095670 + local_c * 0x610) >> 0x1f);
        FUN_0006611c(local_2c, "asic_num", uVar1);
        uVar1 = FUN_00067728(local_c * 0x610 + 0x95674);
        FUN_0006611c(local_2c, &DAT_00075158, uVar1);
        local_20 = FUN_00066a14();
        for (local_10 = 0; local_10 < 4; local_10 = local_10 + 1) {
            uVar1 = FUN_00067c3c(
                (&DAT_000954e4)[local_c * 0x184 + local_10 + 0xa4],
                (&DAT_000954e4)[local_c * 0x184 + local_10 + 0xa4] >> 0x1f);
            FUN_00066ea4(local_20, uVar1);
        }
        FUN_0006611c(local_2c, "temp_pic", local_20);
        local_20 = FUN_00066a14();
        for (local_10 = 0; local_10 < 4; local_10 = local_10 + 1) {
            uVar1 = FUN_00067c3c(
                (&DAT_000954e4)[local_c * 0x184 + local_10 + 0xa8],
                (&DAT_000954e4)[local_c * 0x184 + local_10 + 0xa8] >> 0x1f);
            FUN_00066ea4(local_20, uVar1);
        }
        FUN_0006611c(local_2c, "temp_pcb", local_20);
        local_20 = FUN_00066a14();
        for (local_10 = 0; local_10 < 4; local_10 = local_10 + 1) {
            uVar1 = FUN_00067c3c(
                (&DAT_000954e4)[local_c * 0x184 + local_10 + 0xac],
                (&DAT_000954e4)[local_c * 0x184 + local_10 + 0xac] >> 0x1f);
            FUN_00066ea4(local_20, uVar1);
        }
        FUN_0006611c(local_2c, "temp_chip", local_20);
        uVar1 = FUN_00067c3c(*(int *)(&DAT_000957a4 + local_c * 0x610),
                             *(int *)(&DAT_000957a4 + local_c * 0x610) >> 0x1f);
        FUN_0006611c(local_2c, &DAT_00075184, uVar1);
        if ((&DAT_0009580c)[local_c * 0x610] == '\0') {
            uVar1 = FUN_000680b0();
        } else {
            uVar1 = FUN_00068090();
        }
        FUN_0006611c(local_2c, "eeprom_loaded", uVar1);
        uVar1 = FUN_00067728(local_c * 0x610 + 0x9580d);
        FUN_0006611c(local_2c, &DAT_00075198, uVar1);
        if ((double)(longlong) * (int *)(&DAT_00095808 + local_c * 0x610) <=
            512.0) {
            dVar2 = 512.0;
        } else {
            dVar2 =
                (double)(longlong) * (int *)(&DAT_00095808 + local_c * 0x610);
        }
        dVar2 = (((double)(longlong) *
                  (int *)(&DAT_000957a4 + local_c * 0x610) * 512.0) /
                 dVar2) *
                10000.0;
        uVar3 = FUN_00068f1c(SUB84(dVar2, 0), (int)((ulonglong)dVar2 >> 0x20));
        dVar2 =
            (double)FUN_00068e84((int)uVar3, (int)((ulonglong)uVar3 >> 0x20));
        uVar1 = FUN_00067df4(SUB84(dVar2 / 10000.0, 0));
        FUN_0006611c(local_2c, &DAT_0007519c, uVar1);
        if (*(int *)(&DAT_00095850 + local_c * 0x610) != 0) {
            local_20 = FUN_00066a14();
            local_14 = 0;
            while (true) {
                if (*(int *)(&DAT_00095850 + local_c * 0x610) <= local_14)
                    break;
                local_24 = FUN_00066a14();
                local_18 = 0;
                while (true) {
                    if (*(int *)(&DAT_00095854 + local_c * 0x610) <= local_18)
                        break;
                    uVar1 = FUN_00067c3c(
                        *(int *)(&DAT_000954e0 +
                                 (local_c * 0x184 +
                                  local_14 * *(int *)(&DAT_00095854 +
                                                      local_c * 0x610) +
                                  local_18 + 0xde) *
                                     4),
                        *(int *)(&DAT_000954e0 +
                                 (local_c * 0x184 +
                                  local_14 * *(int *)(&DAT_00095854 +
                                                      local_c * 0x610) +
                                  local_18 + 0xde) *
                                     4) >>
                            0x1f);
                    FUN_00066ea4(local_24, uVar1);
                    local_18 = local_18 + 1;
                }
                FUN_00066ea4(local_20, local_24);
                local_14 = local_14 + 1;
            }
            FUN_0006611c(local_2c, &DAT_000751a0, local_20);
        }
        FUN_00066ea4(local_28, local_2c);
        local_c = local_c + 1;
    }
    FUN_0006611c(local_1c, "chain", local_28);
    FUN_0005c09c(&DAT_000954c8, "driver-btm-c5_socketa.c", "bitmain_api_stats",
                 0x21c);
    return local_1c;
}

void FUN_0005e098(void)

{
    int iVar1;
    char local_808[20];
    undefined2 local_7f4;

    if (((DAT_00091f58 != '\0') || (DAT_00087769 != '\0')) ||
        (4 < DAT_0008697c)) {
        builtin_strncpy(local_808, "cgminer call shutdow", 0x14);
        local_7f4 = 0x6e;
        FUN_0001e4ec(5, local_808, 0);
    }
    iVar1 = FUN_000586a4("shutdown", 8);
    if ((iVar1 != 0) && (((DAT_00091f58 != '\0' || (DAT_00087769 != '\0')) ||
                          (2 < DAT_0008697c)))) {
        snprintf(local_808, 0x800, "%s: bitmain_shutdown failed.",
                 "bitmain_c5_shutdown");
        FUN_0001e4ec(3, local_808, 0);
    }
    return;
}

undefined4 FUN_0005e1c8(int *param_1)

{
    pthread_t __th;
    int iVar1;
    size_t sVar2;
    char local_258[256];
    char local_158[256];
    socklen_t local_58;
    sockaddr sStack_54;
    undefined4 local_44;
    sockaddr local_40;
    char local_30[16];
    void *local_20;
    ssize_t local_1c;
    int local_18;
    int local_14;
    int *local_10;
    undefined4 local_c;

    __th = pthread_self();
    pthread_detach(__th);
    local_30[0] = '\0';
    local_30[1] = '\0';
    local_30[2] = '\0';
    local_30[3] = '\0';
    local_30[4] = '\0';
    local_30[5] = '\0';
    local_30[6] = '\0';
    local_30[7] = '\0';
    local_30[8] = '\0';
    local_30[9] = '\0';
    local_30[10] = '\0';
    local_30[0xb] = '\0';
    local_30[0xc] = '\0';
    local_30[0xd] = '\0';
    local_30[0xe] = '\0';
    local_30[0xf] = '\0';
    local_10 = param_1;
    sprintf(local_30, "ct_a/fcb/%d", *param_1);
    prctl(0xf, local_30);
    local_40.sa_family = 2;
    local_40.sa_data._2_4_ = inet_addr("127.0.0.1");
    local_14 = socket(2, 1, 0);
    if (local_14 < 0) {
        perror("socket error");
    } else {
        local_44 = 1;
        iVar1 = setsockopt(local_14, 1, 2, &local_44, 4);
        if (iVar1 < 0) {
            perror("set sockopt err");
        } else {
            while (true) {
                local_40.sa_data._0_2_ = htons((uint16_t)*local_10);
                iVar1 = bind(local_14, &local_40, 0x10);
                if (-1 < iVar1)
                    break;
                perror("bind error");
                *local_10 = *local_10 + 1;
            }
            iVar1 = listen(local_14, 5);
            if (iVar1 < 0) {
                perror("listen error");
            } else {
                local_10[0x24] = 1;
                local_58 = 0x10;
                local_18 = accept(local_14, &sStack_54, &local_58);
                if (-1 < local_18) {
                    local_158[0] = '\0';
                    local_158[1] = '\0';
                    local_158[2] = '\0';
                    local_158[3] = '\0';
                    memset(local_158 + 4, 0, 0xfc);
                    sprintf(local_158, "%x %s\n", 0x3f, local_10 + 4);
                    sVar2 = strlen(local_158);
                    send(local_18, local_158, sVar2 + 1, 0);
                    local_1c = 0;
                    local_20 = malloc(local_10[0x25]);
                    local_1c = recv(local_18, local_20, local_10[0x25], 0);
                    do {
                        local_1c = recv(local_18, local_20, local_10[0x25], 0);
                        local_c = 0;
                        if ((0 < local_1c) && (local_10[3] != 0)) {
                            local_c =
                                (*(code *)local_10[3])(local_20, local_1c);
                        }
                        local_258[0] = '\0';
                        local_258[1] = '\0';
                        local_258[2] = '\0';
                        local_258[3] = '\0';
                        memset(local_258 + 4, 0, 0xfc);
                        sprintf(local_258, "%x %d %s %s", 0x3f, local_c,
                                local_10 + 4, &DAT_00075328);
                        sVar2 = strlen(local_258);
                        send(local_18, local_258, sVar2 + 1, 0);
                    } while (true);
                }
                perror("accept error");
            }
        }
    }
    return 0;
}

/* WARNING: Type propagation algorithm not settling */

undefined4 FUN_0005e530(int param_1)

{
    pthread_t __th;
    int iVar1;
    size_t sVar2;
    int *__dest;
    char local_220[32];
    undefined4 local_200;
    undefined4 local_1fc;
    undefined4 local_1f8;
    undefined4 local_1f4;
    undefined4 local_1f0;
    undefined4 local_1ec;
    undefined4 local_1e8;
    undefined4 local_1e4;
    undefined4 local_1e0;
    undefined1 auStack_1dc[124];
    char local_160[256];
    pthread_t apStack_60[2];
    pthread_attr_t pStack_58;
    char local_34[16];
    int *local_24;
    ssize_t local_20;
    int local_1c;
    int local_18;
    uint local_14;

    local_18 = param_1;
    __th = pthread_self();
    pthread_detach(__th);
    local_34[0xc] = '\0';
    local_34[0xd] = '\0';
    local_34[0xe] = '\0';
    local_34[0xf] = '\0';
    builtin_strncpy(local_34, "ct_a/main", 10);
    local_34[10] = '\0';
    local_34[0xb] = '\0';
    prctl(0xf, local_34);
    pthread_attr_init(&pStack_58);
    pthread_attr_setstacksize(&pStack_58, 0x100000);
    local_1c = *(int *)(local_18 + 8);
    local_20 = 0;
    do {
        while (true) {
            local_1e0 = 0;
            memset(auStack_1dc, 0, 0x7c);
            local_20 = recv(local_1c, &local_1e0, 0x80, 0);
            if (local_20 < 1) {
                return 0;
            }
            local_220[0] = '\0';
            local_220[1] = '\0';
            local_220[2] = '\0';
            local_220[3] = '\0';
            local_220[4] = '\0';
            local_220[5] = '\0';
            local_220[6] = '\0';
            local_220[7] = '\0';
            local_220[8] = '\0';
            local_220[9] = '\0';
            local_220[10] = '\0';
            local_220[0xb] = '\0';
            local_220[0xc] = '\0';
            local_220[0xd] = '\0';
            local_220[0xe] = '\0';
            local_220[0xf] = '\0';
            local_220[0x10] = '\0';
            local_220[0x11] = '\0';
            local_220[0x12] = '\0';
            local_220[0x13] = '\0';
            local_220[0x14] = '\0';
            local_220[0x15] = '\0';
            local_220[0x16] = '\0';
            local_220[0x17] = '\0';
            local_220[0x18] = '\0';
            local_220[0x19] = '\0';
            local_220[0x1a] = '\0';
            local_220[0x1b] = '\0';
            local_220[0x1c] = '\0';
            local_220[0x1d] = '\0';
            local_220[0x1e] = '\0';
            local_220[0x1f] = '\0';
            local_200 = 0;
            local_1fc = 0;
            local_1f8 = 0;
            local_1f4 = 0;
            local_1f0 = 0;
            local_1ec = 0;
            local_1e8 = 0;
            local_1e4 = 0;
            apStack_60[1] = 0;
            __isoc99_sscanf(&local_1e0, "%x%s%s", apStack_60 + 1, &local_200,
                            local_220);
            iVar1 = strcmp((char *)&local_200, "regist");
            if (iVar1 == 0)
                break;
            memcpy((void *)(DAT_00091ddc * 0x80 + 0x8dddc), &local_1e0, 0x80);
            DAT_00091ddc = DAT_00091ddc + 1;
        }
        local_24 = (int *)malloc(0x98);
        memset(local_24, 0, 0x98);
        for (local_14 = 0; local_14 < DAT_0008ddb8; local_14 = local_14 + 1) {
            iVar1 = strcmp(local_220, (char *)(local_14 * 0x88 + 0x899bc));
            if (iVar1 == 0) {
                local_24[3] = *(int *)(&DAT_000899b8 + local_14 * 0x88);
                local_24[0x25] = *(int *)(&DAT_00089a3c + local_14 * 0x88);
                break;
            }
        }
        if (local_14 == DAT_0008ddb8) {
            local_160[0] = '\0';
            local_160[1] = '\0';
            local_160[2] = '\0';
            local_160[3] = '\0';
            memset(local_160 + 4, 0, 0xfc);
            sprintf(local_160, "%x %d %s %s %s", 0x3f, 0, "reg_resp", "no_name",
                    local_220);
            sVar2 = strlen(local_160);
            send(local_1c, local_160, sVar2 + 1, 0);
            free(local_24);
        } else {
            *local_24 = DAT_00087718;
            __dest = local_24 + 4;
            sVar2 = strlen(local_220);
            memcpy(__dest, local_220, sVar2 + 1);
            local_24[0x24] = 0;
            pthread_create(apStack_60, &pStack_58, FUN_0005e1c8, local_24);
            while (local_24[0x24] == 0) {
                usleep(10000);
            }
            if (*local_24 != DAT_00087718) {
                DAT_00087718 = *local_24;
            }
            local_160[0] = '\0';
            local_160[1] = '\0';
            local_160[2] = '\0';
            local_160[3] = '\0';
            memset(local_160 + 4, 0, 0xfc);
            sprintf(local_160, "%x %d %s %s %s", 0x3f, DAT_00087718, "reg_resp",
                    &DAT_00075328, local_220);
            sVar2 = strlen(local_160);
            send(local_1c, local_160, sVar2 + 1, 0);
            DAT_00087718 = DAT_00087718 + 1;
        }
    } while (true);
}

undefined4 FUN_0005ea74(int param_1, uint param_2)

{
    int iVar1;
    size_t sVar2;
    undefined4 uVar3;
    pthread_t pStack_358;
    char local_354[20];
    uint local_340;
    undefined1 auStack_33c[232];
    undefined4 local_254;
    undefined1 auStack_250[508];
    sockaddr local_54;
    pthread_attr_t pStack_44;
    undefined4 *local_20;
    ssize_t local_1c;
    undefined4 local_18;
    int local_14;
    undefined4 local_10;
    uint local_c;

    if (DAT_0008ddbc == 0) {
        pthread_attr_init(&pStack_44);
        pthread_attr_setstacksize(&pStack_44, 0x100000);
        pthread_mutex_init((pthread_mutex_t *)&DAT_0008ddc4,
                           (pthread_mutexattr_t *)0x0);
        for (local_c = 0; local_c < param_2; local_c = local_c + 1) {
            memcpy((void *)(local_c * 0x88 + 0x899bc),
                   (void *)(param_1 + local_c * 0x88 + 4), 0x80);
            *(undefined4 *)(&DAT_000899b8 + local_c * 0x88) =
                *(undefined4 *)(param_1 + local_c * 0x88);
            *(undefined4 *)(&DAT_00089a3c + local_c * 0x88) =
                *(undefined4 *)(param_1 + local_c * 0x88 + 0x84);
        }
        local_10 = 0x560a;
        DAT_0008ddb8 = param_2;
        memset(&local_54, 0, 0x10);
        local_54.sa_family = 2;
        local_54.sa_data._2_4_ = inet_addr("127.0.0.1");
        local_54.sa_data._0_2_ = htons((uint16_t)local_10);
        local_14 = socket(2, 1, 0);
        if (local_14 < 0) {
            perror("socket err:");
            uVar3 = 0xfffffffc;
        } else {
            local_18 = 0;
            while (iVar1 = connect(local_14, &local_54, 0x10), iVar1 < 0) {
                perror("connect err:");
                sleep(1);
            }
            local_254 = 0;
            memset(auStack_250, 0, 0x1fc);
            local_1c = 0;
            local_1c = recv(local_14, &local_254, 0x100, 0);
            if (0 < local_1c) {
                auStack_250[local_1c + -4] = 0;
            }
            builtin_strncpy(local_354, "func1 func2 func3 fu", 0x14);
            local_340._0_1_ = 'n';
            local_340._1_1_ = 'c';
            local_340._2_1_ = '4';
            local_340._3_1_ = '\0';
            memset(auStack_33c, 0, 0xe8);
            sVar2 = strlen(local_354);
            send(local_14, local_354, sVar2 + 1, 0);
            local_1c = recv(local_14, &local_254, 0x100, 0);
            if (0 < local_1c) {
                auStack_250[local_1c + -4] = 0;
            }
            builtin_strncpy(local_354, "3f heart-beats 22027", 0x14);
            local_340 = local_340 & 0xffffff00;
            sVar2 = strlen(local_354);
            send(local_14, local_354, sVar2 + 1, 0);
            DAT_0008ddc0 = local_14;
            local_20 = (undefined4 *)malloc(0xc);
            *local_20 = local_10;
            local_20[2] = local_14;
            pthread_create(&pStack_358, &pStack_44, FUN_0005e530, local_20);
            DAT_0008ddbc = 1;
            uVar3 = 0;
        }
    } else {
        uVar3 = 0xffffffff;
    }
    return uVar3;
}

/* WARNING: Removing unreachable block (ram,0x0005f104) */
/* WARNING: Type propagation algorithm not settling */

undefined4 FUN_0005ee48(int param_1)

{
    size_t sVar1;
    int iVar2;
    undefined4 uVar3;
    char local_494[128];
    undefined4 local_414;
    undefined1 auStack_410[508];
    sockaddr local_214;
    undefined4 local_204;
    undefined4 local_200;
    undefined4 local_1fc;
    undefined4 local_1f8;
    undefined4 local_1f4;
    undefined4 local_1f0;
    undefined4 local_1ec;
    undefined4 local_1e8;
    undefined4 local_1e4;
    undefined4 local_1e0;
    undefined4 local_1dc;
    undefined4 local_1d8;
    undefined4 local_1d4;
    undefined4 local_1d0;
    undefined4 local_1cc;
    undefined4 local_1c8;
    undefined4 local_1c4;
    undefined4 local_1c0;
    undefined4 local_1bc;
    undefined4 local_1b8;
    undefined4 local_1b4;
    undefined4 local_1b0;
    undefined4 local_1ac;
    undefined4 local_1a8;
    undefined4 local_1a4;
    int local_1a0[2];
    undefined1 auStack_198[124];
    char local_11c[256];
    int local_1c;
    ssize_t local_18;
    int local_14;
    int local_10;
    pthread_mutex_t *local_c;

    if (DAT_0008ddbc == 0) {
        uVar3 = 0xffffffff;
    } else {
        local_c = (pthread_mutex_t *)malloc(0x24);
        pthread_mutex_init(local_c, (pthread_mutexattr_t *)0x0);
        local_10 = DAT_0008ddc0;
        local_11c[0] = '\0';
        local_11c[1] = '\0';
        local_11c[2] = '\0';
        local_11c[3] = '\0';
        memset(local_11c + 4, 0, 0xfc);
        sprintf(local_11c, "%x regist %s", 0x3f, param_1);
        local_14 = DAT_00091ddc;
        sVar1 = strlen(local_11c);
        send(local_10, local_11c, sVar1 + 1, 0);
        local_1a0[1] = 0;
        memset(auStack_198, 0, 0x7c);
        while (local_14 == DAT_00091ddc) {
            usleep(1000);
        }
        memcpy(local_1a0 + 1, (void *)(local_14 * 0x80 + 0x8dddc), 0x80);
        local_1a0[0] = 0;
        local_1a4 = 0;
        local_1c4 = 0;
        local_1c0 = 0;
        local_1bc = 0;
        local_1b8 = 0;
        local_1b4 = 0;
        local_1b0 = 0;
        local_1ac = 0;
        local_1a8 = 0;
        local_1e4 = 0;
        local_1e0 = 0;
        local_1dc = 0;
        local_1d8 = 0;
        local_1d4 = 0;
        local_1d0 = 0;
        local_1cc = 0;
        local_1c8 = 0;
        local_204 = 0;
        local_200 = 0;
        local_1fc = 0;
        local_1f8 = 0;
        local_1f4 = 0;
        local_1f0 = 0;
        local_1ec = 0;
        local_1e8 = 0;
        local_18 = 0x80;
        __isoc99_sscanf(local_1a0 + 1, "%x%d%s%s%s", &local_1a4, local_1a0,
                        &local_1c4, &local_1e4, &local_204);
        if (local_1a0[0] == 0) {
            uVar3 = 0xfffffffc;
        } else {
            memset(&local_214, 0, 0x10);
            local_214.sa_family = 2;
            local_214.sa_data._2_4_ = inet_addr("127.0.0.1");
            local_214.sa_data._0_2_ = htons((uint16_t)local_1a0[0]);
            local_1c = socket(2, 1, 0);
            if (local_1c < 0) {
                perror("socket err:");
                uVar3 = 0xfffffffc;
            } else {
                iVar2 = connect(local_1c, &local_214, 0x10);
                if (iVar2 < 0) {
                    perror("connect err:");
                    uVar3 = 0xfffffffd;
                } else {
                    local_414 = 0;
                    memset(auStack_410, 0, 0x1fc);
                    local_18 = recv(local_1c, &local_414, 0x200, 0);
                    if (0 < local_18) {
                        auStack_410[local_18 + -4] = 0;
                    }
                    local_494[0] = '\0';
                    local_494[1] = '\0';
                    local_494[2] = '\0';
                    local_494[3] = '\0';
                    memset(local_494 + 4, 0, 0x7c);
                    builtin_strncpy(local_494, "OK!", 4);
                    sVar1 = strlen(local_494);
                    send(local_1c, local_494, sVar1 + 1, 0);
                    local_c[1].__data.__lock = local_1a0[0];
                    *(int *)((int)local_c + 0x20) = local_1c;
                    *(pthread_mutex_t **)(param_1 + 0x80) = local_c;
                    uVar3 = 0;
                }
            }
        }
    }
    return uVar3;
}

undefined4 FUN_0005f30c(int param_1, void *param_2, size_t param_3,
                        undefined4 *param_4)

{
    undefined4 uVar1;
    undefined4 local_160;
    undefined4 local_15c;
    undefined4 local_158;
    undefined4 local_154;
    undefined4 local_150;
    undefined4 local_14c;
    undefined4 local_148;
    undefined4 local_144;
    undefined4 local_140;
    undefined4 local_13c;
    undefined4 local_138;
    undefined4 local_134;
    undefined4 local_130;
    undefined4 local_12c;
    undefined4 local_128;
    undefined4 local_124;
    undefined4 local_120;
    undefined4 local_11c;
    undefined4 local_118;
    undefined1 auStack_114[252];
    ssize_t local_18;
    ssize_t local_14;
    int local_10;
    pthread_mutex_t *local_c;

    if (DAT_0008ddbc == 0) {
        uVar1 = 0xffffffff;
    } else if (*(int *)(param_1 + 0x80) == 0) {
        uVar1 = 0xfffffffe;
    } else {
        local_c = *(pthread_mutex_t **)(param_1 + 0x80);
        local_10 = pthread_mutex_trylock(local_c);
        if (local_10 == 0) {
            local_14 = send(*(int *)((int)local_c + 0x20), param_2, param_3, 0);
            if (local_14 < 1) {
                pthread_mutex_unlock(local_c);
                uVar1 = 0xfffffffc;
            } else {
                local_118 = 0;
                memset(auStack_114, 0, 0xfc);
                local_18 =
                    recv(*(int *)((int)local_c + 0x20), &local_118, 0x100, 0);
                local_11c = 0;
                local_120 = 0;
                local_140 = 0;
                local_13c = 0;
                local_138 = 0;
                local_134 = 0;
                local_130 = 0;
                local_12c = 0;
                local_128 = 0;
                local_124 = 0;
                local_160 = 0;
                local_15c = 0;
                local_158 = 0;
                local_154 = 0;
                local_150 = 0;
                local_14c = 0;
                local_148 = 0;
                local_144 = 0;
                if (0 < local_18) {
                    __isoc99_sscanf(&local_118, "%x%d%s%s", &local_11c,
                                    &local_120, &local_140, &local_160);
                }
                if (param_4 != (undefined4 *)0x0) {
                    *param_4 = local_120;
                }
                pthread_mutex_unlock(local_c);
                uVar1 = 0;
            }
        } else {
            uVar1 = 0xfffffffd;
        }
    }
    return uVar1;
}

undefined4 FUN_0005f558(undefined4 param_1, undefined4 param_2,
                        undefined4 param_3)

{
    undefined4 uVar1;

    uVar1 = FUN_00065120(param_3, param_1, param_2);
    return uVar1;
}

undefined4 FUN_0005f590(void *param_1, size_t param_2, uint *param_3)

{
    if (param_3[1] + param_2 <= *param_3) {
        memcpy((void *)(param_3[2] + param_3[1]), param_1, param_2);
    }
    param_3[1] = param_3[1] + param_2;
    return 0;
}

undefined4 FUN_0005f61c(void *param_1, size_t param_2, FILE *param_3)

{
    size_t sVar1;
    undefined4 uVar2;

    sVar1 = fwrite(param_1, param_2, 1, param_3);
    if (sVar1 == 1) {
        uVar2 = 0;
    } else {
        uVar2 = 0xffffffff;
    }
    return uVar2;
}

undefined4 FUN_0005f674(void *param_1, size_t param_2, int *param_3)

{
    size_t sVar1;
    undefined4 uVar2;

    sVar1 = write(*param_3, param_1, param_2);
    if (sVar1 == param_2) {
        uVar2 = 0;
    } else {
        uVar2 = 0xffffffff;
    }
    return uVar2;
}

undefined4 FUN_0005f6d4(uint param_1, int param_2, int param_3, code *param_4,
                        undefined4 param_5)

{
    int iVar1;
    undefined4 uVar2;
    uint uVar3;
    uint local_c;

    if ((param_1 & 0x1f) == 0) {
        if ((param_3 != 0) && ((param_1 & 0x20) == 0)) {
            uVar2 = (*param_4)(&DAT_000754f0, 1, param_5);
            return uVar2;
        }
    } else {
        local_c = (param_1 & 0x1f) * param_2;
        iVar1 = (*param_4)(&DAT_000754ec, 1, param_5);
        if (iVar1 != 0) {
            return 0xffffffff;
        }
        for (; local_c != 0; local_c = local_c - uVar3) {
            uVar3 = local_c;
            if (0x1f < local_c) {
                uVar3 = 0x20;
            }
            iVar1 =
                (*param_4)("                                ", uVar3, param_5);
            if (iVar1 != 0) {
                return 0xffffffff;
            }
        }
    }
    return 0;
}

undefined4 FUN_0005f7f8(uint param_1, int param_2, code *param_3,
                        undefined4 param_4, uint param_5)

{
    uint uVar1;
    int iVar2;
    undefined4 uVar3;
    char acStack_38[16];
    uint local_28;
    uint local_24;
    uint local_20;
    uint local_1c;
    undefined4 local_18;
    char *local_14;
    uint local_10;
    uint local_c;

    local_28 = 0;
    iVar2 = (*param_3)(&DAT_000754f4, 1, param_4);
    if (iVar2 != 0) {
        return 0xffffffff;
    }
    local_1c = param_1 + param_2;
    uVar1 = param_1;
LAB_0005f910:
    local_c = uVar1;
    local_10 = local_c;
    if (local_c < local_1c)
        goto LAB_0005f86c;
    goto LAB_0005f920;
LAB_0005f86c:
    local_10 = FUN_00065b94(local_c, local_1c - local_c, &local_28);
    if (local_10 == 0) {
        return 0xffffffff;
    }
    if (((((local_28 != 0x5c) && (local_28 != 0x22)) &&
          (0x1f < (int)local_28)) &&
         (((param_5 & 0x400) == 0 || (local_28 != 0x2f)))) &&
        ((uVar1 = local_10,
          (param_5 & 0x40) == 0 || (uVar1 = local_10, (int)local_28 < 0x80))))
        goto LAB_0005f910;
LAB_0005f920:
    if ((local_c != param_1) &&
        (iVar2 = (*param_3)(param_1, local_c - param_1, param_4), iVar2 != 0)) {
        return 0xffffffff;
    }
    if (local_10 == local_c) {
        uVar3 = (*param_3)(&DAT_000754f4, 1, param_4);
        return uVar3;
    }
    local_18 = 2;
    if (local_28 == 0xc) {
        local_14 = "\\f";
        goto LAB_0005fb18;
    }
    if ((int)local_28 < 0xd) {
        if (local_28 == 9) {
            local_14 = "\\t";
            goto LAB_0005fb18;
        }
        if (local_28 == 10) {
            local_14 = "\\n";
            goto LAB_0005fb18;
        }
        if (local_28 == 8) {
            local_14 = "\\b";
            goto LAB_0005fb18;
        }
    } else {
        if (local_28 == 0x22) {
            local_14 = "\\\"";
            goto LAB_0005fb18;
        }
        if ((int)local_28 < 0x23) {
            if (local_28 == 0xd) {
                local_14 = "\\r";
                goto LAB_0005fb18;
            }
        } else {
            if (local_28 == 0x2f) {
                local_14 = "\\/";
                goto LAB_0005fb18;
            }
            if (local_28 == 0x5c) {
                local_14 = "\\\\";
                goto LAB_0005fb18;
            }
        }
    }
    if ((int)local_28 < 0x10000) {
        snprintf(acStack_38, 0xd, "\\u%04X", local_28);
        local_18 = 6;
    } else {
        local_28 = local_28 - 0x10000;
        local_20 = (int)(local_28 & 0xffc00) >> 10 | 0xd800;
        local_24 = local_28 & 0x3ff | 0xdc00;
        snprintf(acStack_38, 0xd, "\\u%04X\\u%04X", local_20, local_24);
        local_18 = 0xc;
    }
    local_14 = acStack_38;
LAB_0005fb18:
    iVar2 = (*param_3)(local_14, local_18, param_4);
    if (iVar2 != 0) {
        return 0xffffffff;
    }
    local_c = local_10;
    uVar1 = local_c;
    param_1 = local_10;
    goto LAB_0005f910;
}

int FUN_0005fb60(undefined4 *param_1, undefined4 *param_2)

{
    int iVar1;

    iVar1 = strcmp((char *)*param_1, (char *)*param_2);
    return iVar1;
}

undefined4 FUN_0005fba0(undefined4 param_1, undefined4 param_2, char *param_3,
                        size_t param_4)

{
    int iVar1;
    undefined4 uVar2;

    snprintf(param_3, param_4, "%p", param_2);
    iVar1 = FUN_00062124(param_1, param_3);
    if (iVar1 == 0) {
        uVar2 = FUN_000680d0();
        uVar2 = FUN_00061f40(param_1, param_3, uVar2);
    } else {
        uVar2 = 0xffffffff;
    }
    return uVar2;
}

undefined4 FUN_0005fc1c(undefined4 *param_1, uint param_2, int param_3,
                        undefined4 param_4, code *param_5, undefined4 param_6)

{
    undefined4 uVar1;
    int iVar2;
    size_t sVar3;
    uint uVar4;
    undefined4 uVar5;
    undefined4 *puVar6;
    undefined4 extraout_s1;
    undefined8 uVar7;
    char acStack_d4[100];
    undefined1 auStack_70[12];
    undefined1 auStack_64[12];
    char *local_58;
    int local_54;
    int local_50;
    char *local_4c;
    void *local_48;
    size_t local_44;
    uint local_40;
    int local_3c;
    undefined8 uStack_38;
    int local_2c;
    uint local_28;
    size_t local_24;
    undefined4 local_20;
    undefined *local_1c;
    int local_18;
    uint local_14;

    local_28 = param_2 & 0x10000;
    uVar4 = param_2 & 0xfffeffff;
    if (param_1 == (undefined4 *)0x0) {
        uVar5 = 0xffffffff;
    } else {
        switch (*param_1) {
        case 0:
            if ((param_2 & 0x20) == 0) {
                local_1c = &DAT_00075564;
                local_20 = 2;
            } else {
                local_1c = &DAT_00075560;
                local_20 = 1;
            }
            iVar2 = FUN_0005fba0(param_4, param_1, auStack_70, 0xb);
            if (iVar2 == 0) {
                local_18 = FUN_0006655c(param_1);
                if ((local_28 == 0) &&
                    (iVar2 = (*param_5)(&DAT_00075568, 1, param_6),
                     iVar2 != 0)) {
                    uVar5 = 0xffffffff;
                } else if (local_18 == 0) {
                    FUN_000621d4(param_4, auStack_70);
                    if (local_28 == 0) {
                        uVar5 = (*param_5)(&DAT_0007556c, 1, param_6);
                    } else {
                        uVar5 = 0;
                    }
                } else {
                    iVar2 =
                        FUN_0005f6d4(uVar4, param_3 + 1, 0, param_5, param_6);
                    if (iVar2 == 0) {
                        if ((param_2 & 0x80) == 0) {
                            while (local_18 != 0) {
                                local_54 = FUN_00066628(param_1, local_18);
                                local_58 = (char *)FUN_00066698(local_18);
                                sVar3 = strlen(local_58);
                                FUN_0005f7f8(local_58, sVar3, param_5, param_6,
                                             uVar4);
                                iVar2 = (*param_5)(local_1c, local_20, param_6);
                                if (iVar2 != 0) {
                                    return 0xffffffff;
                                }
                                uVar5 = FUN_000666d4(local_18);
                                iVar2 = FUN_0005fc1c(uVar5, uVar4, param_3 + 1,
                                                     param_4, param_5, param_6);
                                if (iVar2 != 0) {
                                    return 0xffffffff;
                                }
                                if (local_54 == 0) {
                                    iVar2 = FUN_0005f6d4(uVar4, param_3, 0,
                                                         param_5, param_6);
                                    if (iVar2 != 0) {
                                        return 0xffffffff;
                                    }
                                } else {
                                    iVar2 =
                                        (*param_5)(&DAT_0007555c, 1, param_6);
                                    if ((iVar2 != 0) ||
                                        (iVar2 =
                                             FUN_0005f6d4(uVar4, param_3 + 1, 1,
                                                          param_5, param_6),
                                         iVar2 != 0)) {
                                        return 0xffffffff;
                                    }
                                }
                                local_18 = local_54;
                            }
                        } else {
                            local_44 = FUN_00065f98(param_1);
                            local_48 = (void *)FUN_00064da4(local_44 << 2);
                            if (local_48 == (void *)0x0) {
                                return 0xffffffff;
                            }
                            local_24 = 0;
                            while (local_18 != 0) {
                                puVar6 = (undefined4 *)((int)local_48 +
                                                        local_24 * 4);
                                uVar5 = FUN_00066698(local_18);
                                *puVar6 = uVar5;
                                local_18 = FUN_00066628(param_1, local_18);
                                local_24 = local_24 + 1;
                            }
                            if (local_24 != local_44) {
                                /* WARNING: Subroutine does not return */
                                __assert_fail("i == size", "dump.c", 0x160,
                                              "do_dump");
                            }
                            qsort(local_48, local_44, 4, FUN_0005fb60);
                            for (local_24 = 0; local_24 < local_44;
                                 local_24 = local_24 + 1) {
                                local_4c =
                                    *(char **)((int)local_48 + local_24 * 4);
                                local_50 = FUN_00065fec(param_1, local_4c);
                                if (local_50 == 0) {
                                    /* WARNING: Subroutine does not return */
                                    __assert_fail("value", "dump.c", 0x16b,
                                                  "do_dump");
                                }
                                sVar3 = strlen(local_4c);
                                FUN_0005f7f8(local_4c, sVar3, param_5, param_6,
                                             uVar4);
                                iVar2 = (*param_5)(local_1c, local_20, param_6);
                                if ((iVar2 != 0) ||
                                    (iVar2 = FUN_0005fc1c(local_50, uVar4,
                                                          param_3 + 1, param_4,
                                                          param_5, param_6),
                                     iVar2 != 0)) {
                                    FUN_00064dec(local_48);
                                    return 0xffffffff;
                                }
                                if (local_24 < local_44 - 1) {
                                    iVar2 =
                                        (*param_5)(&DAT_0007555c, 1, param_6);
                                    if ((iVar2 != 0) ||
                                        (iVar2 =
                                             FUN_0005f6d4(uVar4, param_3 + 1, 1,
                                                          param_5, param_6),
                                         iVar2 != 0)) {
                                        FUN_00064dec(local_48);
                                        return 0xffffffff;
                                    }
                                } else {
                                    iVar2 = FUN_0005f6d4(uVar4, param_3, 0,
                                                         param_5, param_6);
                                    if (iVar2 != 0) {
                                        FUN_00064dec(local_48);
                                        return 0xffffffff;
                                    }
                                }
                            }
                            FUN_00064dec(local_48);
                        }
                        FUN_000621d4(param_4, auStack_70);
                        if (local_28 == 0) {
                            uVar5 = (*param_5)(&DAT_0007556c, 1, param_6);
                        } else {
                            uVar5 = 0;
                        }
                    } else {
                        uVar5 = 0xffffffff;
                    }
                }
            } else {
                uVar5 = 0xffffffff;
            }
            break;
        case 1:
            iVar2 = FUN_0005fba0(param_4, param_1, auStack_64, 0xb);
            if (iVar2 == 0) {
                local_40 = FUN_00066b34(param_1);
                if ((local_28 == 0) &&
                    (iVar2 = (*param_5)(&DAT_00075554, 1, param_6),
                     iVar2 != 0)) {
                    uVar5 = 0xffffffff;
                } else if (local_40 == 0) {
                    FUN_000621d4(param_4, auStack_64);
                    if (local_28 == 0) {
                        uVar5 = (*param_5)(&DAT_00075558, 1, param_6);
                    } else {
                        uVar5 = 0;
                    }
                } else {
                    iVar2 =
                        FUN_0005f6d4(uVar4, param_3 + 1, 0, param_5, param_6);
                    if (iVar2 == 0) {
                        for (local_14 = 0; local_14 < local_40;
                             local_14 = local_14 + 1) {
                            uVar5 = FUN_00066b80(param_1, local_14);
                            iVar2 = FUN_0005fc1c(uVar5, uVar4, param_3 + 1,
                                                 param_4, param_5, param_6);
                            if (iVar2 != 0) {
                                return 0xffffffff;
                            }
                            if (local_14 < local_40 - 1) {
                                iVar2 = (*param_5)(&DAT_0007555c, 1, param_6);
                                if ((iVar2 != 0) ||
                                    (iVar2 = FUN_0005f6d4(uVar4, param_3 + 1, 1,
                                                          param_5, param_6),
                                     iVar2 != 0)) {
                                    return 0xffffffff;
                                }
                            } else {
                                iVar2 = FUN_0005f6d4(uVar4, param_3, 0, param_5,
                                                     param_6);
                                if (iVar2 != 0) {
                                    return 0xffffffff;
                                }
                            }
                        }
                        FUN_000621d4(param_4, auStack_64);
                        if (local_28 == 0) {
                            uVar5 = (*param_5)(&DAT_00075558, 1, param_6);
                        } else {
                            uVar5 = 0;
                        }
                    } else {
                        uVar5 = 0xffffffff;
                    }
                }
            } else {
                uVar5 = 0xffffffff;
            }
            break;
        case 2:
            uVar5 = FUN_000677d0(param_1);
            uVar1 = FUN_0006781c(param_1);
            uVar5 = FUN_0005f7f8(uVar5, uVar1, param_5, param_6, uVar4);
            break;
        case 3:
            uVar7 = FUN_00067c98(param_1);
            uVar5 = (undefined4)((ulonglong)uVar7 >> 0x20);
            local_2c =
                snprintf(acStack_d4, 100, "%lld", uVar5, (int)uVar7, uVar5);
            if ((local_2c < 0) || (99 < local_2c)) {
                uVar5 = 0xffffffff;
            } else {
                uVar5 = (*param_5)(acStack_d4, local_2c, param_6);
            }
            break;
        case 4:
            uVar5 = FUN_00067e80(param_1);
            uStack_38 = CONCAT44(extraout_s1, uVar5);
            local_3c =
                FUN_000654f8(uVar5, acStack_d4, 100, uVar4 >> 0xb & 0x1f);
            if (local_3c < 0) {
                uVar5 = 0xffffffff;
            } else {
                uVar5 = (*param_5)(acStack_d4, local_3c, param_6);
            }
            break;
        case 5:
            uVar5 = (*param_5)(&DAT_0007553c, 4, param_6);
            break;
        case 6:
            uVar5 = (*param_5)("false", 5, param_6);
            break;
        case 7:
            uVar5 = (*param_5)(&DAT_00075534, 4, param_6);
            break;
        default:
            uVar5 = 0xffffffff;
        }
    }
    return uVar5;
}

undefined4 FUN_000605a4(undefined4 param_1, undefined4 param_2)

{
    int iVar1;
    undefined4 uVar2;
    undefined1 auStack_18[12];
    undefined4 local_c;

    iVar1 = FUN_00064f70(auStack_18);
    if (iVar1 == 0) {
        iVar1 = FUN_000607b0(param_1, FUN_0005f558, auStack_18, param_2);
        if (iVar1 == 0) {
            uVar2 = FUN_00065080(auStack_18);
            local_c = FUN_00064e28(uVar2);
        } else {
            local_c = 0;
        }
        FUN_00064fec(auStack_18);
    } else {
        local_c = 0;
    }
    return local_c;
}

undefined4 FUN_00060640(undefined4 param_1, undefined4 param_2,
                        undefined4 param_3, undefined4 param_4)

{
    int iVar1;
    undefined4 local_14;
    undefined4 local_10;
    undefined4 local_c;

    local_10 = 0;
    local_14 = param_3;
    local_c = param_2;
    iVar1 = FUN_000607b0(param_1, FUN_0005f590, &local_14, param_4);
    if (iVar1 != 0) {
        local_10 = 0;
    }
    return local_10;
}

undefined4 FUN_000606b0(undefined4 param_1, undefined4 param_2,
                        undefined4 param_3)

{
    undefined4 uVar1;

    uVar1 = FUN_000607b0(param_1, FUN_0005f61c, param_2, param_3);
    return uVar1;
}

undefined4 FUN_000606f0(undefined4 param_1, undefined4 param_2,
                        undefined4 param_3)

{
    undefined4 uVar1;
    undefined4 local_10;
    undefined4 local_c;

    local_10 = param_2;
    local_c = param_1;
    uVar1 = FUN_000607b0(param_1, FUN_0005f674, &local_10, param_3);
    return uVar1;
}

undefined4 FUN_00060730(undefined4 param_1, char *param_2, undefined4 param_3)

{
    FILE *__stream;
    int iVar1;
    undefined4 uVar2;

    __stream = fopen64(param_2, "w");
    if (__stream == (FILE *)0x0) {
        uVar2 = 0xffffffff;
    } else {
        uVar2 = FUN_000606b0(param_1, __stream, param_3);
        iVar1 = fclose(__stream);
        if (iVar1 != 0) {
            uVar2 = 0xffffffff;
        }
    }
    return uVar2;
}

undefined4 FUN_000607b0(int *param_1, undefined4 param_2, undefined4 param_3,
                        uint param_4)

{
    int iVar1;
    undefined1 auStack_28[28];
    undefined4 local_c;

    if ((((param_4 & 0x200) == 0) &&
         ((param_1 == (int *)0x0 || (*param_1 != 1)))) &&
        ((param_1 == (int *)0x0 || (*param_1 != 0)))) {
        local_c = 0xffffffff;
    } else {
        iVar1 = FUN_00061e04(auStack_28);
        if (iVar1 == 0) {
            local_c =
                FUN_0005fc1c(param_1, param_4, 0, auStack_28, param_2, param_3);
            FUN_00061f10(auStack_28);
        } else {
            local_c = 0xffffffff;
        }
    }
    return local_c;
}

void FUN_00060884(int param_1)

{
    bool bVar1;
    int iVar2;
    int *piVar3;

    if ((param_1 != 0) && (*(int *)(param_1 + 4) != -1)) {
        piVar3 = (int *)(param_1 + 4);
        DataMemoryBarrier(0xf);
        do {
            iVar2 = *piVar3;
            bVar1 = (bool)hasExclusiveAccess(piVar3);
        } while (!bVar1);
        *piVar3 = iVar2 + -1;
        if (iVar2 + -1 == 0) {
            FUN_000680f0(param_1);
        }
    }
    return;
}

uint FUN_000608e8(uint *param_1, uint param_2, int param_3)

{
    int iVar1;
    int iVar2;
    uint uVar3;
    uint uVar4;
    uint uVar5;
    uint local_30;
    uint *local_20;
    uint *local_1c;
    uint *local_18;
    uint local_14;
    uint local_10;
    uint local_c;

    local_14 = param_2 + param_3 + 0xdeadbeef;
    local_30 = param_2;
    local_18 = param_1;
    local_10 = local_14;
    local_c = local_14;
    if (((uint)param_1 & 3) == 0) {
        for (; 0xc < local_30; local_30 = local_30 - 0xc) {
            local_14 = local_14 + local_18[2];
            uVar3 = (local_14 >> 0x1c | local_14 * 0x10) ^
                    (local_c + *local_18) - local_14;
            iVar1 = local_14 + local_10 + local_18[1];
            uVar4 =
                (uVar3 >> 0x1a | uVar3 << 6) ^ (local_10 + local_18[1]) - uVar3;
            iVar2 = uVar3 + iVar1;
            uVar3 = (uVar4 >> 0x18 | uVar4 << 8) ^ iVar1 - uVar4;
            iVar1 = uVar4 + iVar2;
            local_c = (uVar3 >> 0x10 | uVar3 << 0x10) ^ iVar2 - uVar3;
            iVar2 = uVar3 + iVar1;
            local_10 = (local_c >> 0xd | local_c << 0x13) ^ iVar1 - local_c;
            local_c = local_c + iVar2;
            local_14 = (local_10 >> 0x1c | local_10 << 4) ^ iVar2 - local_10;
            local_10 = local_10 + local_c;
            local_18 = local_18 + 3;
        }
        switch (local_30) {
        case 0:
            return local_14;
        case 1:
            local_c = local_c + (*local_18 & 0xff);
            break;
        case 2:
            local_c = local_c + (*local_18 & 0xffff);
            break;
        case 3:
            local_c = local_c + (*local_18 & 0xffffff);
            break;
        case 4:
            local_c = local_c + *local_18;
            break;
        case 5:
            local_10 = local_10 + (local_18[1] & 0xff);
            local_c = local_c + *local_18;
            break;
        case 6:
            local_10 = local_10 + (local_18[1] & 0xffff);
            local_c = local_c + *local_18;
            break;
        case 7:
            local_10 = local_10 + (local_18[1] & 0xffffff);
            local_c = local_c + *local_18;
            break;
        case 8:
            local_10 = local_10 + local_18[1];
            local_c = local_c + *local_18;
            break;
        case 9:
            local_14 = local_14 + (local_18[2] & 0xff);
            local_10 = local_10 + local_18[1];
            local_c = local_c + *local_18;
            break;
        case 10:
            local_14 = local_14 + (local_18[2] & 0xffff);
            local_10 = local_10 + local_18[1];
            local_c = local_c + *local_18;
            break;
        case 0xb:
            local_14 = local_14 + (local_18[2] & 0xffffff);
            local_10 = local_10 + local_18[1];
            local_c = local_c + *local_18;
            break;
        case 0xc:
            local_14 = local_14 + local_18[2];
            local_10 = local_10 + local_18[1];
            local_c = local_c + *local_18;
        }
    } else {
        local_20 = param_1;
        local_1c = param_1;
        if (((uint)param_1 & 1) == 0) {
            for (; 0xc < local_30; local_30 = local_30 - 0xc) {
                iVar1 = local_10 + (uint)(ushort)local_1c[1] +
                        (uint) * (ushort *)((int)local_1c + 6) * 0x10000;
                local_14 = local_14 + (uint)(ushort)local_1c[2] +
                           (uint) * (ushort *)((int)local_1c + 10) * 0x10000;
                uVar3 = (local_14 >> 0x1c | local_14 * 0x10) ^
                        (local_c + (uint)(ushort)*local_1c +
                         (uint) * (ushort *)((int)local_1c + 2) * 0x10000) -
                            local_14;
                iVar2 = local_14 + iVar1;
                uVar4 = (uVar3 >> 0x1a | uVar3 << 6) ^ iVar1 - uVar3;
                iVar1 = uVar3 + iVar2;
                uVar3 = (uVar4 >> 0x18 | uVar4 << 8) ^ iVar2 - uVar4;
                iVar2 = uVar4 + iVar1;
                local_c = (uVar3 >> 0x10 | uVar3 << 0x10) ^ iVar1 - uVar3;
                iVar1 = uVar3 + iVar2;
                local_10 = (local_c >> 0xd | local_c << 0x13) ^ iVar2 - local_c;
                local_c = local_c + iVar1;
                local_14 =
                    (local_10 >> 0x1c | local_10 << 4) ^ iVar1 - local_10;
                local_10 = local_10 + local_c;
                local_1c = local_1c + 3;
            }
            switch (local_30) {
            case 0:
                return local_14;
            case 1:
                local_c = local_c + (byte)*local_1c;
                break;
            case 3:
                local_c =
                    local_c + (uint) * (byte *)((int)local_1c + 2) * 0x10000;
            case 2:
                local_c = local_c + (ushort)*local_1c;
                break;
            case 5:
                local_10 = local_10 + (byte)local_1c[1];
            case 4:
                local_c = local_c + (uint)(ushort)*local_1c +
                          (uint) * (ushort *)((int)local_1c + 2) * 0x10000;
                break;
            case 7:
                local_10 =
                    local_10 + (uint) * (byte *)((int)local_1c + 6) * 0x10000;
            case 6:
                local_10 = local_10 + (ushort)local_1c[1];
                local_c = local_c + (uint)(ushort)*local_1c +
                          (uint) * (ushort *)((int)local_1c + 2) * 0x10000;
                break;
            case 9:
                local_14 = local_14 + (byte)local_1c[2];
            case 8:
                local_10 = local_10 + (uint)(ushort)local_1c[1] +
                           (uint) * (ushort *)((int)local_1c + 6) * 0x10000;
                local_c = local_c + (uint)(ushort)*local_1c +
                          (uint) * (ushort *)((int)local_1c + 2) * 0x10000;
                break;
            case 0xb:
                local_14 =
                    local_14 + (uint) * (byte *)((int)local_1c + 10) * 0x10000;
            case 10:
                local_14 = local_14 + (ushort)local_1c[2];
                local_10 = local_10 + (uint)(ushort)local_1c[1] +
                           (uint) * (ushort *)((int)local_1c + 6) * 0x10000;
                local_c = local_c + (uint)(ushort)*local_1c +
                          (uint) * (ushort *)((int)local_1c + 2) * 0x10000;
                break;
            case 0xc:
                local_14 = local_14 + (uint)(ushort)local_1c[2] +
                           (uint) * (ushort *)((int)local_1c + 10) * 0x10000;
                local_10 = local_10 + (uint)(ushort)local_1c[1] +
                           (uint) * (ushort *)((int)local_1c + 6) * 0x10000;
                local_c = local_c + (uint)(ushort)*local_1c +
                          (uint) * (ushort *)((int)local_1c + 2) * 0x10000;
            }
        } else {
            for (; 0xc < local_30; local_30 = local_30 - 0xc) {
                iVar1 = local_10 + (byte)local_20[1] +
                        (uint) * (byte *)((int)local_20 + 5) * 0x100 +
                        (uint) * (byte *)((int)local_20 + 6) * 0x10000 +
                        (uint) * (byte *)((int)local_20 + 7) * 0x1000000;
                uVar3 = local_14 + (byte)local_20[2] +
                        (uint) * (byte *)((int)local_20 + 9) * 0x100 +
                        (uint) * (byte *)((int)local_20 + 10) * 0x10000 +
                        (uint) * (byte *)((int)local_20 + 0xb) * 0x1000000;
                uVar4 = (uVar3 >> 0x1c | uVar3 * 0x10) ^
                        (local_c + (byte)*local_20 +
                         (uint) * (byte *)((int)local_20 + 1) * 0x100 +
                         (uint) * (byte *)((int)local_20 + 2) * 0x10000 +
                         (uint) * (byte *)((int)local_20 + 3) * 0x1000000) -
                            uVar3;
                iVar2 = uVar3 + iVar1;
                uVar3 = (uVar4 >> 0x1a | uVar4 << 6) ^ iVar1 - uVar4;
                iVar1 = uVar4 + iVar2;
                uVar4 = (uVar3 >> 0x18 | uVar3 << 8) ^ iVar2 - uVar3;
                iVar2 = uVar3 + iVar1;
                local_c = (uVar4 >> 0x10 | uVar4 << 0x10) ^ iVar1 - uVar4;
                iVar1 = uVar4 + iVar2;
                local_10 = (local_c >> 0xd | local_c << 0x13) ^ iVar2 - local_c;
                local_c = local_c + iVar1;
                local_14 =
                    (local_10 >> 0x1c | local_10 << 4) ^ iVar1 - local_10;
                local_10 = local_10 + local_c;
                local_20 = local_20 + 3;
            }
            switch (local_30) {
            case 0:
                return local_14;
            case 0xc:
                local_14 = local_14 +
                           (uint) * (byte *)((int)local_20 + 0xb) * 0x1000000;
            case 0xb:
                local_14 =
                    local_14 + (uint) * (byte *)((int)local_20 + 10) * 0x10000;
            case 10:
                local_14 =
                    local_14 + (uint) * (byte *)((int)local_20 + 9) * 0x100;
            case 9:
                local_14 = local_14 + (byte)local_20[2];
            case 8:
                local_10 =
                    local_10 + (uint) * (byte *)((int)local_20 + 7) * 0x1000000;
            case 7:
                local_10 =
                    local_10 + (uint) * (byte *)((int)local_20 + 6) * 0x10000;
            case 6:
                local_10 =
                    local_10 + (uint) * (byte *)((int)local_20 + 5) * 0x100;
            case 5:
                local_10 = local_10 + (byte)local_20[1];
            case 4:
                local_c =
                    local_c + (uint) * (byte *)((int)local_20 + 3) * 0x1000000;
            case 3:
                local_c =
                    local_c + (uint) * (byte *)((int)local_20 + 2) * 0x10000;
            case 2:
                local_c =
                    local_c + (uint) * (byte *)((int)local_20 + 1) * 0x100;
            case 1:
                local_c = local_c + (byte)*local_20;
            }
        }
    }
    uVar3 = (local_10 ^ local_14) - (local_10 >> 0x12 | local_10 << 0xe);
    uVar4 = (uVar3 ^ local_c) - (uVar3 >> 0x15 | uVar3 * 0x800);
    uVar5 = (uVar4 ^ local_10) - (uVar4 >> 7 | uVar4 * 0x2000000);
    uVar3 = (uVar5 ^ uVar3) - (uVar5 >> 0x10 | uVar5 * 0x10000);
    uVar4 = (uVar3 ^ uVar4) - (uVar3 >> 0x1c | uVar3 * 0x10);
    uVar4 = (uVar4 ^ uVar5) - (uVar4 >> 0x12 | uVar4 * 0x4000);
    return (uVar4 ^ uVar3) - (uVar4 >> 8 | uVar4 * 0x1000000);
}

void FUN_0006180c(int param_1)

{
    *(int *)(param_1 + 4) = param_1;
    *(int *)param_1 = param_1;
    return;
}

void FUN_00061840(int *param_1, int *param_2)

{
    param_2[1] = (int)param_1;
    *param_2 = *param_1;
    *(int **)(*param_1 + 4) = param_2;
    *param_1 = (int)param_2;
    return;
}

void FUN_00061898(int *param_1)

{
    *(int *)(*param_1 + 4) = param_1[1];
    *(int *)param_1[1] = *param_1;
    return;
}

undefined4 FUN_000618dc(int param_1, int *param_2)

{
    undefined4 uVar1;

    if ((*param_2 == param_1 + 0xc) && (*param_2 == param_2[1])) {
        uVar1 = 1;
    } else {
        uVar1 = 0;
    }
    return uVar1;
}

void FUN_0006193c(int param_1, undefined4 *param_2, undefined4 param_3)

{
    int iVar1;

    iVar1 = FUN_000618dc(param_1, param_2);
    if (iVar1 == 0) {
        FUN_00061840(*param_2, param_3);
        *param_2 = param_3;
    } else {
        FUN_00061840(param_1 + 0xc, param_3);
        param_2[1] = param_3;
        *param_2 = param_2[1];
    }
    return;
}

int FUN_000619c8(undefined4 param_1, int *param_2, char *param_3, int param_4)

{
    int iVar1;
    int local_c;

    iVar1 = FUN_000618dc(param_1, param_2);
    if (iVar1 == 0) {
        local_c = *param_2;
        while (true) {
            if ((*(int *)(local_c + 0x10) == param_4) &&
                (iVar1 = strcmp((char *)(local_c + 0x18), param_3),
                 iVar1 == 0)) {
                return local_c;
            }
            if (param_2[1] == local_c)
                break;
            local_c = *(int *)(local_c + 4);
        }
    }
    return 0;
}

undefined4 FUN_00061a90(int *param_1, undefined4 param_2, uint param_3)

{
    undefined4 *puVar1;
    undefined4 *puVar2;
    undefined4 uVar3;

    puVar2 = (undefined4 *)(param_1[1] +
                            (param_3 & (1 << (param_1[2] & 0xffU)) - 1U) * 8);
    puVar1 = (undefined4 *)FUN_000619c8(param_1, puVar2, param_2, param_3);
    if (puVar1 == (undefined4 *)0x0) {
        uVar3 = 0xffffffff;
    } else {
        if ((puVar1 == (undefined4 *)*puVar2) &&
            (puVar1 == (undefined4 *)puVar2[1])) {
            puVar2[1] = param_1 + 3;
            *puVar2 = puVar2[1];
        } else if (puVar1 == (undefined4 *)*puVar2) {
            *puVar2 = puVar1[1];
        } else if (puVar1 == (undefined4 *)puVar2[1]) {
            puVar2[1] = *puVar1;
        }
        FUN_00061898(puVar1);
        FUN_00061898(puVar1 + 2);
        FUN_00060884(puVar1[5]);
        FUN_00064dec(puVar1);
        *param_1 = *param_1 + -1;
        uVar3 = 0;
    }
    return uVar3;
}

void FUN_00061c00(int param_1)

{
    int iVar1;
    undefined4 local_c;

    local_c = *(int *)(param_1 + 0x10);
    while (param_1 + 0xc != local_c) {
        iVar1 = *(int *)(local_c + 4);
        FUN_00060884(*(undefined4 *)(local_c + 0x14));
        FUN_00064dec(local_c);
        local_c = iVar1;
    }
    return;
}

undefined4 FUN_00061c70(int param_1)

{
    int iVar1;
    int iVar2;
    int extraout_r1;
    uint uVar3;
    undefined4 uVar4;
    int iVar5;
    undefined4 local_10;
    undefined4 local_c;

    uVar3 = *(int *)(param_1 + 8) + 1;
    iVar1 = 1 << (uVar3 & 0xff);
    iVar2 = FUN_00064da4(iVar1 << 3);
    if (iVar2 == 0) {
        uVar4 = 0xffffffff;
    } else {
        FUN_00064dec(*(undefined4 *)(param_1 + 4));
        *(int *)(param_1 + 4) = iVar2;
        *(uint *)(param_1 + 8) = uVar3;
        for (local_10 = 0;
             local_10 < (uint)(1 << (*(uint *)(param_1 + 8) & 0xff));
             local_10 = local_10 + 1) {
            iVar2 = *(int *)(param_1 + 4);
            iVar5 = *(int *)(param_1 + 4) + local_10 * 8;
            *(int *)(iVar5 + 4) = param_1 + 0xc;
            *(undefined4 *)(iVar2 + local_10 * 8) = *(undefined4 *)(iVar5 + 4);
        }
        local_c = *(int *)(param_1 + 0x10);
        FUN_0006180c(param_1 + 0xc);
        while (param_1 + 0xc != local_c) {
            iVar2 = *(int *)(local_c + 4);
            FUN_000688a4(*(undefined4 *)(local_c + 0x10), iVar1);
            FUN_0006193c(param_1, *(int *)(param_1 + 4) + extraout_r1 * 8,
                         local_c);
            local_c = iVar2;
        }
        uVar4 = 0;
    }
    return uVar4;
}

undefined4 FUN_00061e04(undefined4 *param_1)

{
    undefined4 uVar1;
    int iVar2;
    int iVar3;
    uint local_c;

    *param_1 = 0;
    param_1[2] = 3;
    uVar1 = FUN_00064da4(8 << (param_1[2] & 0xff));
    param_1[1] = uVar1;
    if (param_1[1] == 0) {
        uVar1 = 0xffffffff;
    } else {
        FUN_0006180c(param_1 + 3);
        FUN_0006180c(param_1 + 5);
        for (local_c = 0; local_c < (uint)(1 << (param_1[2] & 0xff));
             local_c = local_c + 1) {
            iVar2 = param_1[1];
            iVar3 = param_1[1] + local_c * 8;
            *(undefined4 **)(iVar3 + 4) = param_1 + 3;
            *(undefined4 *)(iVar2 + local_c * 8) = *(undefined4 *)(iVar3 + 4);
        }
        uVar1 = 0;
    }
    return uVar1;
}

void FUN_00061f10(int param_1)

{
    FUN_00061c00(param_1);
    FUN_00064dec(*(undefined4 *)(param_1 + 4));
    return;
}

undefined4 FUN_00061f40(uint *param_1, char *param_2, undefined4 param_3)

{
    int iVar1;
    size_t sVar2;
    uint uVar3;
    int iVar4;

    if ((*param_1 >> (param_1[2] & 0xff) != 0) &&
        (iVar1 = FUN_00061c70(param_1), iVar1 != 0)) {
        return 0xffffffff;
    }
    sVar2 = strlen(param_2);
    uVar3 = FUN_000608e8(param_2, sVar2, DAT_00091de0);
    iVar4 = param_1[1] + (uVar3 & (1 << (param_1[2] & 0xff)) - 1U) * 8;
    iVar1 = FUN_000619c8(param_1, iVar4, param_2, uVar3);
    if (iVar1 == 0) {
        sVar2 = strlen(param_2);
        if (0xffffffe6 < sVar2) {
            return 0xffffffff;
        }
        iVar1 = FUN_00064da4(sVar2 + 0x19);
        if (iVar1 == 0) {
            return 0xffffffff;
        }
        *(uint *)(iVar1 + 0x10) = uVar3;
        strncpy((char *)(iVar1 + 0x18), param_2, sVar2 + 1);
        *(undefined4 *)(iVar1 + 0x14) = param_3;
        FUN_0006180c(iVar1);
        FUN_0006180c(iVar1 + 8);
        FUN_0006193c(param_1, iVar4, iVar1);
        FUN_00061840(param_1 + 5, iVar1 + 8);
        *param_1 = *param_1 + 1;
    } else {
        FUN_00060884(*(undefined4 *)(iVar1 + 0x14));
        *(undefined4 *)(iVar1 + 0x14) = param_3;
    }
    return 0;
}

undefined4 FUN_00062124(int param_1, char *param_2)

{
    size_t sVar1;
    uint uVar2;
    int iVar3;
    undefined4 uVar4;

    sVar1 = strlen(param_2);
    uVar2 = FUN_000608e8(param_2, sVar1, DAT_00091de0);
    iVar3 = FUN_000619c8(
        param_1,
        *(int *)(param_1 + 4) +
            (uVar2 & (1 << (*(uint *)(param_1 + 8) & 0xff)) - 1U) * 8,
        param_2, uVar2);
    if (iVar3 == 0) {
        uVar4 = 0;
    } else {
        uVar4 = *(undefined4 *)(iVar3 + 0x14);
    }
    return uVar4;
}

undefined4 FUN_000621d4(undefined4 param_1, char *param_2)

{
    size_t sVar1;
    undefined4 uVar2;

    sVar1 = strlen(param_2);
    uVar2 = FUN_000608e8(param_2, sVar1, DAT_00091de0);
    uVar2 = FUN_00061a90(param_1, param_2, uVar2);
    return uVar2;
}

void FUN_00062230(undefined4 *param_1)

{
    int iVar1;
    int iVar2;
    uint local_c;

    FUN_00061c00(param_1);
    for (local_c = 0; local_c < (uint)(1 << (param_1[2] & 0xff));
         local_c = local_c + 1) {
        iVar1 = param_1[1];
        iVar2 = param_1[1] + local_c * 8;
        *(undefined4 **)(iVar2 + 4) = param_1 + 3;
        *(undefined4 *)(iVar1 + local_c * 8) = *(undefined4 *)(iVar2 + 4);
    }
    FUN_0006180c(param_1 + 3);
    FUN_0006180c(param_1 + 5);
    *param_1 = 0;
    return;
}

undefined4 FUN_000622f0(int param_1)

{
    undefined4 uVar1;

    uVar1 = FUN_000623d4(param_1, param_1 + 0x14);
    return uVar1;
}

int FUN_00062324(int param_1, char *param_2)

{
    size_t sVar1;
    uint uVar2;
    int iVar3;

    sVar1 = strlen(param_2);
    uVar2 = FUN_000608e8(param_2, sVar1, DAT_00091de0);
    iVar3 = FUN_000619c8(
        param_1,
        *(int *)(param_1 + 4) +
            (uVar2 & (1 << (*(uint *)(param_1 + 8) & 0xff)) - 1U) * 8,
        param_2, uVar2);
    if (iVar3 == 0) {
        iVar3 = 0;
    } else {
        iVar3 = iVar3 + 8;
    }
    return iVar3;
}

undefined4 FUN_000623d4(int param_1, int param_2)

{
    undefined4 uVar1;

    if (*(int *)(param_2 + 4) == param_1 + 0x14) {
        uVar1 = 0;
    } else {
        uVar1 = *(undefined4 *)(param_2 + 4);
    }
    return uVar1;
}

int FUN_00062428(int param_1)

{
    return param_1 + 0x10;
}

undefined4 FUN_0006245c(int param_1)

{
    return *(undefined4 *)(param_1 + 0xc);
}

void FUN_00062490(int param_1, undefined4 param_2)

{
    FUN_00060884(*(undefined4 *)(param_1 + 0xc));
    *(undefined4 *)(param_1 + 0xc) = param_2;
    return;
}

uint FUN_000624d4(int param_1)

{
    undefined4 local_10;
    undefined4 local_c;

    local_10 = 0;
    for (local_c = 0; local_c < 4; local_c = local_c + 1) {
        local_10 = local_10 << 8 | (uint) * (byte *)(param_1 + local_c);
    }
    return local_10;
}

undefined4 FUN_00062544(undefined4 *param_1)

{
    ssize_t sVar1;
    undefined4 uVar2;
    undefined1 auStack_14[4];
    uint local_10;
    int local_c;

    local_c = open64("/dev/urandom", 0);
    if (local_c == -1) {
        uVar2 = 1;
    } else {
        sVar1 = read(local_c, auStack_14, 4);
        local_10 = (uint)(sVar1 == 4);
        close(local_c);
        if (local_10 == 0) {
            uVar2 = 1;
        } else {
            uVar2 = FUN_000624d4(auStack_14);
            *param_1 = uVar2;
            uVar2 = 0;
        }
    }
    return uVar2;
}

undefined4 FUN_000625ec(uint *param_1)

{
    uint uVar1;
    timeval local_10;

    gettimeofday(&local_10, (__timezone_ptr_t)0x0);
    *param_1 = local_10.tv_sec ^ local_10.tv_usec;
    uVar1 = getpid();
    *param_1 = uVar1 ^ *param_1;
    return 0;
}

int FUN_00062654(void)

{
    int iVar1;
    int local_10;
    int local_c;

    local_10 = 0;
    local_c = 0;
    iVar1 = FUN_00062544(&local_10);
    if (iVar1 == 0) {
        local_c = 1;
    }
    if (local_c == 0) {
        FUN_000625ec(&local_10);
    }
    if (local_10 == 0) {
        local_10 = 1;
    }
    return local_10;
}

void FUN_000626cc(int param_1)

{
    bool bVar1;
    char cVar2;
    undefined4 local_c;

    cVar2 = DAT_00091de4;
    if (DAT_00091de0 == 0) {
        do {
            bVar1 = (bool)hasExclusiveAccess(0x91de4);
        } while (!bVar1);
        DAT_00091de4 = '\x01';
        if (cVar2 == '\x01') {
            do {
                sched_yield();
                DataMemoryBarrier(0xf);
            } while (DAT_00091de0 == 0);
        } else {
            local_c = param_1;
            if (param_1 == 0) {
                local_c = FUN_00062654();
            }
            DataMemoryBarrier(0xf);
            DAT_00091de0 = local_c;
        }
    }
    return;
}

void FUN_0006277c(int param_1)

{
    bool bVar1;
    int iVar2;
    int *piVar3;

    if ((param_1 != 0) && (*(int *)(param_1 + 4) != -1)) {
        piVar3 = (int *)(param_1 + 4);
        DataMemoryBarrier(0xf);
        do {
            iVar2 = *piVar3;
            bVar1 = (bool)hasExclusiveAccess(piVar3);
        } while (!bVar1);
        *piVar3 = iVar2 + -1;
        if (iVar2 + -1 == 0) {
            FUN_000680f0(param_1);
        }
    }
    return;
}

void FUN_000627e0(int param_1, int param_2, int param_3, char *param_4)

{
    char *pcVar1;
    int local_174;
    char acStack_168[159];
    undefined1 local_c9;
    char acStack_c8[159];
    undefined1 local_29;
    char *local_20;
    undefined4 local_1c;
    undefined4 local_18;
    undefined4 local_14;

    local_14 = 0xffffffff;
    local_18 = 0xffffffff;
    local_1c = 0;
    local_20 = acStack_c8;
    if (param_1 != 0) {
        vsnprintf(acStack_c8, 0xa0, param_4, &stack0x00000000);
        local_29 = 0;
        local_174 = param_3;
        if (param_2 != 0) {
            pcVar1 = (char *)FUN_00065080(param_2 + 0x28);
            local_14 = *(undefined4 *)(param_2 + 0x18);
            local_18 = *(undefined4 *)(param_2 + 0x1c);
            local_1c = *(undefined4 *)(param_2 + 0x24);
            if ((pcVar1 == (char *)0x0) || (*pcVar1 == '\0')) {
                if (param_3 == 8) {
                    local_174 = 6;
                }
                if (*(int *)(param_2 + 0x14) == -2) {
                    local_20 = acStack_c8;
                } else {
                    snprintf(acStack_168, 0xa0, "%s near end of file",
                             acStack_c8);
                    local_c9 = 0;
                    local_20 = acStack_168;
                }
            } else if (*(uint *)(param_2 + 0x2c) < 0x15) {
                snprintf(acStack_168, 0xa0, "%s near \'%s\'", acStack_c8,
                         pcVar1);
                local_c9 = 0;
                local_20 = acStack_168;
            }
        }
        FUN_0006854c(param_1, local_14, local_18, local_1c, local_174,
                     &DAT_000755cc, local_20);
    }
    return;
}

void FUN_00062990(undefined4 *param_1, undefined4 param_2, undefined4 param_3)

{
    *param_1 = param_2;
    param_1[1] = param_3;
    *(undefined1 *)(param_1 + 2) = 0;
    param_1[4] = 0;
    param_1[5] = 0;
    param_1[6] = 1;
    param_1[7] = 0;
    param_1[9] = 0;
    return;
}

uint FUN_00062a14(undefined4 *param_1, undefined4 param_2)

{
    undefined1 uVar1;
    uint uVar2;
    uint uVar3;
    int iVar4;
    uint local_c;

    if (param_1[5] != 0) {
        return param_1[5];
    }
    if (*(char *)((int)param_1 + param_1[4] + 8) == '\0') {
        uVar2 = (*(code *)*param_1)(param_1[1]);
        if (uVar2 == 0xffffffff) {
            param_1[5] = 0xffffffff;
            return 0xffffffff;
        }
        *(char *)(param_1 + 2) = (char)uVar2;
        param_1[4] = 0;
        if ((0x7f < (int)uVar2) && ((int)uVar2 < 0x100)) {
            uVar3 = FUN_000658f8(uVar2 & 0xff);
            if (uVar3 != 0) {
                if (uVar3 < 2) {
                    /* WARNING: Subroutine does not return */
                    __assert_fail("count >= 2", "load.c", 0xbd, "stream_get");
                }
                for (local_c = 1; local_c < uVar3; local_c = local_c + 1) {
                    uVar1 = (*(code *)*param_1)(param_1[1]);
                    *(undefined1 *)((int)param_1 + local_c + 8) = uVar1;
                }
                iVar4 = FUN_000659e4(param_1 + 2, uVar3, 0);
                if (iVar4 != 0) {
                    *(undefined1 *)((int)param_1 + uVar3 + 8) = 0;
                    goto LAB_00062bd0;
                }
            }
            param_1[5] = 0xfffffffe;
            FUN_000627e0(param_2, param_1, 5, "unable to decode byte 0x%x",
                         uVar2);
            return 0xfffffffe;
        }
        *(undefined1 *)((int)param_1 + 9) = 0;
    }
LAB_00062bd0:
    iVar4 = param_1[4];
    param_1[4] = iVar4 + 1;
    uVar2 = (uint) * (byte *)((int)param_1 + iVar4 + 8);
    param_1[9] = param_1[9] + 1;
    if (uVar2 == 10) {
        param_1[6] = param_1[6] + 1;
        param_1[8] = param_1[7];
        param_1[7] = 0;
    } else {
        iVar4 = FUN_000658f8(uVar2);
        if (iVar4 != 0) {
            param_1[7] = param_1[7] + 1;
        }
    }
    return uVar2;
}

void FUN_00062cbc(int param_1, uint param_2)

{
    int iVar1;

    if ((param_2 != 0xffffffff) && (param_2 != 0xfffffffe)) {
        *(int *)(param_1 + 0x24) = *(int *)(param_1 + 0x24) + -1;
        if (param_2 == 10) {
            *(int *)(param_1 + 0x18) = *(int *)(param_1 + 0x18) + -1;
            *(undefined4 *)(param_1 + 0x1c) = *(undefined4 *)(param_1 + 0x20);
        } else {
            iVar1 = FUN_000658f8(param_2 & 0xff);
            if (iVar1 != 0) {
                *(int *)(param_1 + 0x1c) = *(int *)(param_1 + 0x1c) + -1;
            }
        }
        if (*(int *)(param_1 + 0x10) == 0) {
            /* WARNING: Subroutine does not return */
            __assert_fail("stream->buffer_pos > 0", "load.c", 0xee,
                          "stream_unget");
        }
        *(int *)(param_1 + 0x10) = *(int *)(param_1 + 0x10) + -1;
        if (*(byte *)(param_1 + *(int *)(param_1 + 0x10) + 8) != param_2) {
            /* WARNING: Subroutine does not return */
            __assert_fail("stream->buffer[stream->buffer_pos] == c", "load.c",
                          0xf0, "stream_unget");
        }
    }
    return;
}

undefined4 FUN_00062df4(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_00062a14(param_1, param_2);
    return uVar1;
}

void FUN_00062e28(int param_1, undefined1 param_2)

{
    FUN_000650e4(param_1 + 0x28, param_2);
    return;
}

int FUN_00062e60(undefined4 param_1, undefined4 param_2)

{
    int iVar1;

    iVar1 = FUN_00062a14(param_1, param_2);
    if ((iVar1 != -1) && (iVar1 != -2)) {
        FUN_00062e28(param_1, iVar1);
    }
    return iVar1;
}

void FUN_00062ebc(undefined4 param_1, undefined4 param_2)

{
    FUN_00062cbc(param_1, param_2);
    return;
}

void FUN_00062ee8(int param_1, uint param_2)

{
    byte bVar1;

    if ((param_2 != 0xffffffff) && (param_2 != 0xfffffffe)) {
        FUN_00062cbc(param_1, param_2);
        bVar1 = FUN_00065298(param_1 + 0x28);
        if (bVar1 != param_2) {
            /* WARNING: Subroutine does not return */
            __assert_fail("c == d", "load.c", 0x11a, "lex_unget_unsave");
        }
    }
    return;
}

void FUN_00062f74(int param_1)

{
    while (*(char *)(param_1 + *(int *)(param_1 + 0x10) + 8) != '\0') {
        FUN_00062e28(param_1,
                     *(undefined1 *)(param_1 + *(int *)(param_1 + 0x10) + 8));
        *(int *)(param_1 + 0x10) = *(int *)(param_1 + 0x10) + 1;
        *(int *)(param_1 + 0x24) = *(int *)(param_1 + 0x24) + 1;
    }
    return;
}

void FUN_00062ff4(int param_1)

{
    FUN_00064dec(*(undefined4 *)(param_1 + 0x40));
    *(undefined4 *)(param_1 + 0x40) = 0;
    *(undefined4 *)(param_1 + 0x44) = 0;
    return;
}

int FUN_00063034(char *param_1)

{
    byte bVar1;
    int local_10;
    int local_c;

    local_10 = 0;
    if (*param_1 != 'u') {
        /* WARNING: Subroutine does not return */
        __assert_fail("str[0] == \'u\'", "load.c", 0x135,
                      "decode_unicode_escape");
    }
    local_c = 1;
    do {
        if (4 < local_c) {
            return local_10;
        }
        bVar1 = param_1[local_c];
        local_10 = local_10 * 0x10;
        if ((bVar1 < 0x30) || (0x39 < bVar1)) {
            if ((bVar1 < 0x61) || (0x7a < bVar1)) {
                if ((bVar1 < 0x41) || (0x5a < bVar1)) {
                    return -1;
                }
                local_10 = local_10 + (bVar1 - 0x37);
            } else {
                local_10 = local_10 + (bVar1 - 0x57);
            }
        } else {
            local_10 = local_10 + (bVar1 - 0x30);
        }
        local_c = local_c + 1;
    } while (true);
}

void FUN_00063168(int param_1, undefined4 param_2)

{
    byte bVar1;
    int iVar2;
    byte *pbVar3;
    int local_24;
    int local_20;
    int local_1c;
    int local_18;
    byte *local_14;
    byte *local_10;
    int local_c;

    *(undefined4 *)(param_1 + 0x40) = 0;
    *(undefined4 *)(param_1 + 0x3c) = 0xffffffff;
    local_c = FUN_00062e60(param_1, param_2);
    while (local_c != 0x22) {
        if (local_c == -2)
            goto LAB_000637c4;
        if (local_c == -1) {
            FUN_000627e0(param_2, param_1, 6, "premature end of input");
            goto LAB_000637c4;
        }
        if ((-1 < local_c) && (local_c < 0x20)) {
            FUN_00062ee8(param_1, local_c);
            if (local_c == 10) {
                FUN_000627e0(param_2, param_1, 8, "unexpected newline");
            } else {
                FUN_000627e0(param_2, param_1, 8, "control character 0x%x",
                             local_c);
            }
            goto LAB_000637c4;
        }
        if (local_c == 0x5c) {
            local_c = FUN_00062e60(param_1, param_2);
            if (local_c == 0x75) {
                local_c = FUN_00062e60(param_1, param_2);
                for (local_18 = 0; local_18 < 4; local_18 = local_18 + 1) {
                    if ((((local_c < 0x30) || (0x39 < local_c)) &&
                         ((local_c < 0x41 || (0x46 < local_c)))) &&
                        ((local_c < 0x61 || (0x66 < local_c)))) {
                        FUN_000627e0(param_2, param_1, 8, "invalid escape");
                        goto LAB_000637c4;
                    }
                    local_c = FUN_00062e60(param_1, param_2);
                }
            } else {
                if (((((local_c != 0x22) && (local_c != 0x5c)) &&
                      (local_c != 0x2f)) &&
                     ((local_c != 0x62 && (local_c != 0x66)))) &&
                    ((local_c != 0x6e &&
                      ((local_c != 0x72 && (local_c != 0x74)))))) {
                    FUN_000627e0(param_2, param_1, 8, "invalid escape");
                    goto LAB_000637c4;
                }
                local_c = FUN_00062e60(param_1, param_2);
            }
        } else {
            local_c = FUN_00062e60(param_1, param_2);
        }
    }
    local_14 = (byte *)FUN_00064da4(*(int *)(param_1 + 0x2c) + 1);
    if (local_14 == (byte *)0x0) {
    LAB_000637c4:
        FUN_00062ff4(param_1);
    } else {
        *(byte **)(param_1 + 0x40) = local_14;
        iVar2 = FUN_00065080(param_1 + 0x28);
        local_10 = (byte *)(iVar2 + 1);
        while (*local_10 != 0x22) {
            if (*local_10 == 0x5c) {
                pbVar3 = local_10 + 1;
                if (*pbVar3 == 0x75) {
                    local_10 = pbVar3;
                    local_1c = FUN_00063034(pbVar3);
                    if (local_1c < 0) {
                        FUN_000627e0(param_2, param_1, 8,
                                     "invalid Unicode escape \'%.6s\'",
                                     local_10 + -1);
                        goto LAB_000637c4;
                    }
                    pbVar3 = local_10 + 5;
                    if ((local_1c < 0xd800) || (0xdbff < local_1c)) {
                        local_10 = pbVar3;
                        if ((0xdbff < local_1c) && (local_1c < 0xe000)) {
                            FUN_000627e0(param_2, param_1, 8,
                                         "invalid Unicode \'\\u%04X\'",
                                         local_1c);
                            goto LAB_000637c4;
                        }
                    } else {
                        if ((*pbVar3 != 0x5c) || (local_10[6] != 0x75)) {
                            local_10 = pbVar3;
                            FUN_000627e0(param_2, param_1, 8,
                                         "invalid Unicode \'\\u%04X\'",
                                         local_1c);
                            goto LAB_000637c4;
                        }
                        local_10 = local_10 + 6;
                        local_20 = FUN_00063034(local_10);
                        if (local_20 < 0) {
                            FUN_000627e0(param_2, param_1, 8,
                                         "invalid Unicode escape \'%.6s\'",
                                         local_10 + -1);
                            goto LAB_000637c4;
                        }
                        local_10 = local_10 + 5;
                        if ((local_20 < 0xdc00) || (0xdfff < local_20)) {
                            FUN_000627e0(param_2, param_1, 8,
                                         "invalid Unicode \'\\u%04X\\u%04X\'",
                                         local_1c, local_20);
                            goto LAB_000637c4;
                        }
                        local_1c =
                            (local_1c + -0xd800) * 0x400 + local_20 + 0x2400;
                    }
                    iVar2 = FUN_000656f8(local_1c, local_14, &local_24);
                    if (iVar2 != 0) {
                        /* WARNING: Subroutine does not return */
                        __assert_fail("0", "load.c", 0x1c4, "lex_scan_string");
                    }
                    local_14 = local_14 + local_24;
                } else {
                    bVar1 = *pbVar3;
                    if (bVar1 == 0x62) {
                        *local_14 = 8;
                    } else if (bVar1 < 99) {
                        if (((bVar1 != 0x2f) && (bVar1 != 0x5c)) &&
                            (bVar1 != 0x22))
                            goto LAB_00063720;
                        *local_14 = *pbVar3;
                    } else if (bVar1 == 0x6e) {
                        *local_14 = 10;
                    } else if (bVar1 < 0x6f) {
                        if (bVar1 != 0x66) {
                        LAB_00063720:
                            local_10 = pbVar3;
                            /* WARNING: Subroutine does not return */
                            __assert_fail("0", "load.c", 0x1d0,
                                          "lex_scan_string");
                        }
                        *local_14 = 0xc;
                    } else if (bVar1 == 0x72) {
                        *local_14 = 0xd;
                    } else {
                        if (bVar1 != 0x74)
                            goto LAB_00063720;
                        *local_14 = 9;
                    }
                    local_14 = local_14 + 1;
                    local_10 = local_10 + 2;
                }
            } else {
                *local_14 = *local_10;
                local_14 = local_14 + 1;
                local_10 = local_10 + 1;
            }
        }
        *local_14 = 0;
        *(int *)(param_1 + 0x44) = (int)local_14 - *(int *)(param_1 + 0x40);
        *(undefined4 *)(param_1 + 0x3c) = 0x100;
    }
    return;
}

undefined4 FUN_000637d4(int param_1, int param_2, undefined4 param_3)

{
    int *piVar1;
    int iVar2;
    int local_30;
    undefined4 local_28;
    undefined4 uStack_24;
    char *local_1c;
    undefined8 local_18;
    char *local_c;

    *(undefined4 *)(param_1 + 0x3c) = 0xffffffff;
    local_30 = param_2;
    if (param_2 == 0x2d) {
        local_30 = FUN_00062e60(param_1, param_3);
    }
    if (local_30 == 0x30) {
        local_30 = FUN_00062e60(param_1, param_3);
        if ((0x2f < local_30) && (local_30 < 0x3a)) {
            FUN_00062ee8(param_1, local_30);
            return 0xffffffff;
        }
    } else {
        if ((local_30 < 0x30) || (0x39 < local_30)) {
            FUN_00062ee8(param_1, local_30);
            return 0xffffffff;
        }
        do {
            local_30 = FUN_00062e60(param_1, param_3);
            if (local_30 < 0x30)
                break;
        } while (local_30 < 0x3a);
    }
    if (((((*(uint *)(param_1 + 0x34) & 8) == 0) && (local_30 != 0x2e)) &&
         (local_30 != 0x45)) &&
        (local_30 != 0x65)) {
        FUN_00062ee8(param_1, local_30);
        local_c = (char *)FUN_00065080(param_1 + 0x28);
        piVar1 = __errno_location();
        *piVar1 = 0;
        local_18 = strtoll(local_c, &local_1c, 10);
        piVar1 = __errno_location();
        if (*piVar1 != 0x22) {
            if (local_c + *(int *)(param_1 + 0x2c) != local_1c) {
                /* WARNING: Subroutine does not return */
                __assert_fail("end == saved_text + lex->saved_text.length",
                              "load.c", 0x21d, "lex_scan_number");
            }
            *(undefined4 *)(param_1 + 0x3c) = 0x101;
            *(undefined4 *)(param_1 + 0x40) = (undefined4)local_18;
            *(undefined4 *)(param_1 + 0x44) = local_18._4_4_;
            return 0;
        }
        if (local_18 < 0) {
            FUN_000627e0(param_3, param_1, 0xf, "too big negative integer");
        } else {
            FUN_000627e0(param_3, param_1, 0xf, "too big integer");
        }
    } else {
        if (local_30 == 0x2e) {
            iVar2 = FUN_00062df4(param_1, param_3);
            if ((iVar2 < 0x30) || (0x39 < iVar2)) {
                FUN_00062ebc(param_1, iVar2);
                return 0xffffffff;
            }
            FUN_00062e28(param_1, iVar2);
            do {
                local_30 = FUN_00062e60(param_1, param_3);
                if (local_30 < 0x30)
                    break;
            } while (local_30 < 0x3a);
        }
        if ((local_30 == 0x45) || (local_30 == 0x65)) {
            local_30 = FUN_00062e60(param_1, param_3);
            if ((local_30 == 0x2b) || (local_30 == 0x2d)) {
                local_30 = FUN_00062e60(param_1, param_3);
            }
            if ((local_30 < 0x30) || (0x39 < local_30)) {
                FUN_00062ee8(param_1, local_30);
                return 0xffffffff;
            }
            do {
                local_30 = FUN_00062e60(param_1, param_3);
                if (local_30 < 0x30)
                    break;
            } while (local_30 < 0x3a);
        }
        FUN_00062ee8(param_1, local_30);
        iVar2 = FUN_000653fc(param_1 + 0x28, &local_28);
        if (iVar2 == 0) {
            *(undefined4 *)(param_1 + 0x3c) = 0x102;
            *(undefined4 *)(param_1 + 0x40) = local_28;
            *(undefined4 *)(param_1 + 0x44) = uStack_24;
            return 0;
        }
        FUN_000627e0(param_3, param_1, 0xf, "real number overflow");
    }
    return 0xffffffff;
}

undefined4 FUN_00063b78(int param_1, undefined4 param_2)

{
    int iVar1;
    char *__s1;

    FUN_00065048(param_1 + 0x28);
    if (*(int *)(param_1 + 0x3c) == 0x100) {
        FUN_00062ff4(param_1);
    }
    do {
        do {
            iVar1 = FUN_00062df4(param_1, param_2);
        } while (iVar1 == 0x20);
    } while (((iVar1 == 9) || (iVar1 == 10)) || (iVar1 == 0xd));
    if (iVar1 == -1) {
        *(undefined4 *)(param_1 + 0x3c) = 0;
    } else if (iVar1 == -2) {
        *(undefined4 *)(param_1 + 0x3c) = 0xffffffff;
    } else {
        FUN_00062e28(param_1, iVar1);
        if ((((iVar1 == 0x7b) || (iVar1 == 0x7d)) ||
             ((iVar1 == 0x5b || ((iVar1 == 0x5d || (iVar1 == 0x3a)))))) ||
            (iVar1 == 0x2c)) {
            *(int *)(param_1 + 0x3c) = iVar1;
        } else if (iVar1 == 0x22) {
            FUN_00063168(param_1, param_2);
        } else if (((iVar1 < 0x30) || (0x39 < iVar1)) && (iVar1 != 0x2d)) {
            if (((0x40 < iVar1) && (iVar1 < 0x5b)) ||
                ((0x60 < iVar1 && (iVar1 < 0x7b)))) {
            LAB_00063d24:
                do {
                    iVar1 = FUN_00062e60(param_1, param_2);
                    if (0x40 < iVar1) {
                        if (iVar1 < 0x5b)
                            goto LAB_00063d24;
                    }
                    if ((iVar1 < 0x61) || (0x7a < iVar1))
                        goto LAB_00063d64;
                } while (true);
            }
            FUN_00062f74(param_1);
            *(undefined4 *)(param_1 + 0x3c) = 0xffffffff;
        } else {
            FUN_000637d4(param_1, iVar1, param_2);
        }
    }
LAB_00063e30:
    return *(undefined4 *)(param_1 + 0x3c);
LAB_00063d64:
    FUN_00062ee8(param_1, iVar1);
    __s1 = (char *)FUN_00065080(param_1 + 0x28);
    iVar1 = strcmp(__s1, "true");
    if (iVar1 == 0) {
        *(undefined4 *)(param_1 + 0x3c) = 0x103;
    } else {
        iVar1 = strcmp(__s1, "false");
        if (iVar1 == 0) {
            *(undefined4 *)(param_1 + 0x3c) = 0x104;
        } else {
            iVar1 = strcmp(__s1, "null");
            if (iVar1 == 0) {
                *(undefined4 *)(param_1 + 0x3c) = 0x105;
            } else {
                *(undefined4 *)(param_1 + 0x3c) = 0xffffffff;
            }
        }
    }
    goto LAB_00063e30;
}

undefined4 FUN_00063e44(int param_1, undefined4 *param_2)

{
    undefined4 local_c;

    local_c = 0;
    if (*(int *)(param_1 + 0x3c) == 0x100) {
        local_c = *(undefined4 *)(param_1 + 0x40);
        *param_2 = *(undefined4 *)(param_1 + 0x44);
        *(undefined4 *)(param_1 + 0x40) = 0;
        *(undefined4 *)(param_1 + 0x44) = 0;
    }
    return local_c;
}

undefined4 FUN_00063eb8(int param_1, undefined4 param_2, undefined4 param_3,
                        undefined4 param_4)

{
    int iVar1;
    undefined4 uVar2;

    FUN_00062990(param_1, param_2, param_4);
    iVar1 = FUN_00064f70(param_1 + 0x28);
    if (iVar1 == 0) {
        *(undefined4 *)(param_1 + 0x34) = param_3;
        *(undefined4 *)(param_1 + 0x3c) = 0xffffffff;
        uVar2 = 0;
    } else {
        uVar2 = 0xffffffff;
    }
    return uVar2;
}

void FUN_00063f34(int param_1)

{
    if (*(int *)(param_1 + 0x3c) == 0x100) {
        FUN_00062ff4(param_1);
    }
    FUN_00064fec(param_1 + 0x28);
    return;
}

int FUN_00063f74(int param_1, uint param_2, undefined4 param_3)

{
    void *pvVar1;
    int iVar2;
    size_t local_18;
    int local_14;
    void *local_10;
    int local_c;

    local_c = FUN_00065ed4();
    if (local_c == 0) {
        local_c = 0;
    } else {
        FUN_00063b78(param_1, param_3);
        if (*(int *)(param_1 + 0x3c) != 0x7d) {
            while (*(int *)(param_1 + 0x3c) == 0x100) {
                local_10 = (void *)FUN_00063e44(param_1, &local_18);
                if (local_10 == (void *)0x0) {
                    return 0;
                }
                pvVar1 = memchr(local_10, 0, local_18);
                if (pvVar1 != (void *)0x0) {
                    FUN_00064dec(local_10);
                    FUN_000627e0(param_3, param_1, 0xd,
                                 "NUL byte in object key not supported");
                    goto LAB_000641c0;
                }
                if (((param_2 & 1) != 0) &&
                    (iVar2 = FUN_00065fec(local_c, local_10), iVar2 != 0)) {
                    FUN_00064dec(local_10);
                    FUN_000627e0(param_3, param_1, 0xe, "duplicate object key");
                    goto LAB_000641c0;
                }
                FUN_00063b78(param_1, param_3);
                if (*(int *)(param_1 + 0x3c) != 0x3a) {
                    FUN_00064dec(local_10);
                    FUN_000627e0(param_3, param_1, 8, "\':\' expected");
                    goto LAB_000641c0;
                }
                FUN_00063b78(param_1, param_3);
                local_14 = FUN_000642fc(param_1, param_2, param_3);
                if (local_14 == 0) {
                    FUN_00064dec(local_10);
                    goto LAB_000641c0;
                }
                iVar2 = FUN_0006605c(local_c, local_10, local_14);
                if (iVar2 != 0) {
                    FUN_00064dec(local_10);
                    goto LAB_000641c0;
                }
                FUN_00064dec(local_10);
                FUN_00063b78(param_1, param_3);
                if (*(int *)(param_1 + 0x3c) != 0x2c) {
                    if (*(int *)(param_1 + 0x3c) == 0x7d) {
                        return local_c;
                    }
                    FUN_000627e0(param_3, param_1, 8, "\'}\' expected");
                    goto LAB_000641c0;
                }
                FUN_00063b78(param_1, param_3);
            }
            FUN_000627e0(param_3, param_1, 8, "string or \'}\' expected");
        LAB_000641c0:
            FUN_0006277c(local_c);
            local_c = 0;
        }
    }
    return local_c;
}

int FUN_000641d8(int param_1, undefined4 param_2, undefined4 param_3)

{
    int iVar1;
    int iVar2;

    iVar1 = FUN_00066a14();
    if (iVar1 == 0) {
        iVar1 = 0;
    } else {
        FUN_00063b78(param_1, param_3);
        if (*(int *)(param_1 + 0x3c) != 0x5d) {
            while (*(int *)(param_1 + 0x3c) != 0) {
                iVar2 = FUN_000642fc(param_1, param_2, param_3);
                if ((iVar2 == 0) ||
                    (iVar2 = FUN_00066ea4(iVar1, iVar2), iVar2 != 0))
                    goto LAB_000642e4;
                FUN_00063b78(param_1, param_3);
                if (*(int *)(param_1 + 0x3c) != 0x2c)
                    break;
                FUN_00063b78(param_1, param_3);
            }
            if (*(int *)(param_1 + 0x3c) != 0x5d) {
                FUN_000627e0(param_3, param_1, 8, "\']\' expected");
            LAB_000642e4:
                FUN_0006277c(iVar1);
                iVar1 = 0;
            }
        }
    }
    return iVar1;
}

int FUN_000642fc(int param_1, uint param_2, undefined4 param_3)

{
    void *pvVar1;
    int iVar2;
    void *__s;
    size_t __n;
    int local_c;

    *(int *)(param_1 + 0x38) = *(int *)(param_1 + 0x38) + 1;
    if (0x800 < *(uint *)(param_1 + 0x38)) {
        FUN_000627e0(param_3, param_1, 2, "maximum parsing depth reached");
        return 0;
    }
    iVar2 = *(int *)(param_1 + 0x3c);
    if (iVar2 == 0x101) {
        local_c = FUN_00067c3c(*(undefined4 *)(param_1 + 0x40),
                               *(undefined4 *)(param_1 + 0x44));
    } else if (iVar2 < 0x102) {
        if (iVar2 == 0x5b) {
            local_c = FUN_000641d8(param_1, param_2, param_3);
        } else {
            if (iVar2 < 0x5c) {
                if (iVar2 == -1) {
                    FUN_000627e0(param_3, param_1, 8, "invalid token");
                    return 0;
                }
            LAB_00064510:
                FUN_000627e0(param_3, param_1, 8, "unexpected token");
                return 0;
            }
            if (iVar2 == 0x7b) {
                local_c = FUN_00063f74(param_1, param_2, param_3);
            } else {
                if (iVar2 != 0x100)
                    goto LAB_00064510;
                __s = *(void **)(param_1 + 0x40);
                __n = *(size_t *)(param_1 + 0x44);
                if (((param_2 & 0x10) == 0) &&
                    (pvVar1 = memchr(__s, 0, __n), pvVar1 != (void *)0x0)) {
                    FUN_000627e0(
                        param_3, param_1, 0xb,
                        "\\u0000 is not allowed without JSON_ALLOW_NUL");
                    return 0;
                }
                local_c = FUN_000676f4(__s, __n);
                *(undefined4 *)(param_1 + 0x40) = 0;
                *(undefined4 *)(param_1 + 0x44) = 0;
            }
        }
    } else if (iVar2 == 0x103) {
        local_c = FUN_00068090();
    } else if (iVar2 < 0x103) {
        local_c = FUN_00067df4((int)*(undefined8 *)(param_1 + 0x40));
    } else if (iVar2 == 0x104) {
        local_c = FUN_000680b0();
    } else {
        if (iVar2 != 0x105)
            goto LAB_00064510;
        local_c = FUN_000680d0();
    }
    if (local_c == 0) {
        local_c = 0;
    } else {
        *(int *)(param_1 + 0x38) = *(int *)(param_1 + 0x38) + -1;
    }
    return local_c;
}

int FUN_00064568(int param_1, uint param_2, int param_3)

{
    int iVar1;

    *(undefined4 *)(param_1 + 0x38) = 0;
    FUN_00063b78(param_1, param_3);
    if ((((param_2 & 4) == 0) && (*(int *)(param_1 + 0x3c) != 0x5b)) &&
        (*(int *)(param_1 + 0x3c) != 0x7b)) {
        FUN_000627e0(param_3, param_1, 8, "\'[\' or \'{\' expected");
        iVar1 = 0;
    } else {
        iVar1 = FUN_000642fc(param_1, param_2, param_3);
        if (iVar1 == 0) {
            iVar1 = 0;
        } else if (((param_2 & 2) == 0) && (FUN_00063b78(param_1, param_3),
                                            *(int *)(param_1 + 0x3c) != 0)) {
            FUN_000627e0(param_3, param_1, 7, "end of file expected");
            FUN_0006277c(iVar1);
            iVar1 = 0;
        } else if (param_3 != 0) {
            *(undefined4 *)(param_3 + 8) = *(undefined4 *)(param_1 + 0x24);
        }
    }
    return iVar1;
}

undefined4 FUN_00064704(int param_1, undefined4 param_2, undefined4 param_3)

{
    int iVar1;
    int local_60[2];
    undefined1 auStack_58[76];
    undefined4 local_c;

    FUN_00068408(param_3, "<string>");
    if (param_1 == 0) {
        FUN_000627e0(param_3, 0, 4, "wrong arguments");
        local_c = 0;
    } else {
        local_60[1] = 0;
        local_60[0] = param_1;
        iVar1 = FUN_00063eb8(auStack_58, &LAB_00064694, param_2, local_60);
        if (iVar1 == 0) {
            local_c = FUN_00064568(auStack_58, param_2, param_3);
            FUN_00063f34(auStack_58);
        } else {
            local_c = 0;
        }
    }
    return local_c;
}

undefined4 FUN_00064844(int param_1, undefined4 param_2, undefined4 param_3,
                        undefined4 param_4)

{
    int iVar1;
    int local_64;
    undefined4 local_60;
    undefined4 local_5c;
    undefined1 auStack_58[76];
    undefined4 local_c;

    FUN_00068408(param_4, "<buffer>");
    if (param_1 == 0) {
        FUN_000627e0(param_4, 0, 4, "wrong arguments", param_4, param_3,
                     param_2);
        local_c = 0;
    } else {
        local_5c = 0;
        local_64 = param_1;
        local_60 = param_2;
        iVar1 = FUN_00063eb8(auStack_58, &LAB_000647c8, param_3, &local_64);
        if (iVar1 == 0) {
            local_c = FUN_00064568(auStack_58, param_3, param_4);
            FUN_00063f34(auStack_58);
        } else {
            local_c = 0;
        }
    }
    return local_c;
}

undefined4 FUN_00064914(int param_1, undefined4 param_2, undefined4 param_3)

{
    int iVar1;
    undefined1 auStack_58[72];
    undefined4 local_10;
    char *local_c;

    if (param_1 == stdin) {
        local_c = "<stdin>";
    } else {
        local_c = "<stream>";
    }
    FUN_00068408(param_3, local_c);
    if (param_1 == 0) {
        FUN_000627e0(param_3, 0, 4, "wrong arguments");
        local_10 = 0;
    } else {
        iVar1 = FUN_00063eb8(auStack_58, fgetc, param_2, param_1);
        if (iVar1 == 0) {
            local_10 = FUN_00064568(auStack_58, param_2, param_3);
            FUN_00063f34(auStack_58);
        } else {
            local_10 = 0;
        }
    }
    return local_10;
}

uint FUN_000649f8(int *param_1)

{
    ssize_t sVar1;
    uint uVar2;
    byte local_9;

    sVar1 = read(*param_1, &local_9, 1);
    if (sVar1 == 1) {
        uVar2 = (uint)local_9;
    } else {
        uVar2 = 0xffffffff;
    }
    return uVar2;
}

undefined4 FUN_00064a44(int param_1, undefined4 param_2, undefined4 param_3)

{
    int iVar1;
    int local_5c;
    undefined1 auStack_58[72];
    undefined4 local_10;
    char *local_c;

    if (param_1 == 0) {
        local_c = "<stdin>";
    } else {
        local_c = "<stream>";
    }
    local_5c = param_1;
    FUN_00068408(param_3, local_c);
    if (local_5c < 0) {
        FUN_000627e0(param_3, 0, 4, "wrong arguments");
        local_10 = 0;
    } else {
        iVar1 = FUN_00063eb8(auStack_58, FUN_000649f8, param_2, &local_5c);
        if (iVar1 == 0) {
            local_10 = FUN_00064568(auStack_58, param_2, param_3);
            FUN_00063f34(auStack_58);
        } else {
            local_10 = 0;
        }
    }
    return local_10;
}

undefined4 FUN_00064b1c(char *param_1, undefined4 param_2, undefined4 param_3)

{
    FILE *__stream;
    int *piVar1;
    char *pcVar2;
    undefined4 uVar3;

    FUN_00068408(param_3, param_1);
    if (param_1 == (char *)0x0) {
        FUN_000627e0(param_3, 0, 4, "wrong arguments");
        uVar3 = 0;
    } else {
        __stream = fopen64(param_1, "rb");
        if (__stream == (FILE *)0x0) {
            piVar1 = __errno_location();
            pcVar2 = strerror(*piVar1);
            FUN_000627e0(param_3, 0, 3, "unable to open %s: %s", param_1,
                         pcVar2);
            uVar3 = 0;
        } else {
            uVar3 = FUN_00064914(__stream, param_2, param_3);
            fclose(__stream);
        }
    }
    return uVar3;
}

uint FUN_00064bfc(int param_1)

{
    byte bVar1;
    undefined4 uVar2;

    if (*(uint *)(param_1 + 0x400) <= *(uint *)(param_1 + 0x404)) {
        *(undefined4 *)(param_1 + 0x404) = 0;
        uVar2 = (**(code **)(param_1 + 0x408))(
            param_1, 0x400, *(undefined4 *)(param_1 + 0x40c));
        *(undefined4 *)(param_1 + 0x400) = uVar2;
        if ((*(int *)(param_1 + 0x400) == 0) ||
            (*(int *)(param_1 + 0x400) == -1)) {
            return 0xffffffff;
        }
    }
    bVar1 = *(byte *)(param_1 + *(int *)(param_1 + 0x404));
    *(int *)(param_1 + 0x404) = *(int *)(param_1 + 0x404) + 1;
    return (uint)bVar1;
}

undefined4 FUN_00064cc0(int param_1, undefined4 param_2, undefined4 param_3,
                        undefined4 param_4)

{
    int iVar1;
    undefined1 auStack_468[1032];
    int local_60;
    undefined4 local_5c;
    undefined1 auStack_58[76];
    undefined4 local_c;

    memset(auStack_468, 0, 0x410);
    local_60 = param_1;
    local_5c = param_2;
    FUN_00068408(param_4, "<callback>");
    if (param_1 == 0) {
        FUN_000627e0(param_4, 0, 4, "wrong arguments");
        local_c = 0;
    } else {
        iVar1 = FUN_00063eb8(auStack_58, FUN_00064bfc, param_3, auStack_468,
                             param_4, param_3, param_2);
        if (iVar1 == 0) {
            local_c = FUN_00064568(auStack_58, param_3, param_4);
            FUN_00063f34(auStack_58);
        } else {
            local_c = 0;
        }
    }
    return local_c;
}

undefined4 FUN_00064da4(int param_1)

{
    undefined4 uVar1;

    if (param_1 == 0) {
        uVar1 = 0;
    } else {
        uVar1 = (*DAT_0008771c)(param_1);
    }
    return uVar1;
}

void FUN_00064dec(int param_1)

{
    if (param_1 != 0) {
        (*DAT_00087720)(param_1);
    }
    return;
}

undefined4 FUN_00064e28(char *param_1)

{
    size_t sVar1;
    undefined4 uVar2;

    sVar1 = strlen(param_1);
    uVar2 = FUN_00064e60(param_1, sVar1);
    return uVar2;
}

void *FUN_00064e60(void *param_1, size_t param_2)

{
    void *__dest;

    __dest = (void *)FUN_00064da4(param_2 + 1);
    if (__dest == (void *)0x0) {
        __dest = (void *)0x0;
    } else {
        memcpy(__dest, param_1, param_2);
        *(undefined1 *)((int)__dest + param_2) = 0;
    }
    return __dest;
}

undefined4 FUN_00064f70(int *param_1)

{
    int iVar1;
    undefined4 uVar2;

    param_1[2] = 0x10;
    param_1[1] = 0;
    iVar1 = FUN_00064da4(param_1[2]);
    *param_1 = iVar1;
    if (*param_1 == 0) {
        uVar2 = 0xffffffff;
    } else {
        *(undefined1 *)*param_1 = 0;
        uVar2 = 0;
    }
    return uVar2;
}

void FUN_00064fec(int *param_1)

{
    if (*param_1 != 0) {
        FUN_00064dec(*param_1);
    }
    param_1[2] = 0;
    param_1[1] = 0;
    *param_1 = 0;
    return;
}

void FUN_00065048(undefined4 *param_1)

{
    param_1[1] = 0;
    *(undefined1 *)*param_1 = 0;
    return;
}

undefined4 FUN_00065080(undefined4 *param_1)

{
    return *param_1;
}

undefined4 FUN_000650e4(undefined4 param_1, undefined1 param_2)

{
    undefined4 uVar1;
    undefined1 local_d;
    undefined4 local_c;

    local_d = param_2;
    local_c = param_1;
    uVar1 = FUN_00065120(param_1, &local_d, 1);
    return uVar1;
}

undefined4 FUN_00065120(int *param_1, void *param_2, uint param_3)

{
    void *__dest;
    uint uVar1;

    if ((uint)(param_1[2] - param_1[1]) <= param_3) {
        if (((param_1[2] < 0) || (param_3 == 0xffffffff)) ||
            (-param_3 - 2 < (uint)param_1[1])) {
            return 0xffffffff;
        }
        uVar1 = param_1[1] + param_3 + 1;
        if (uVar1 < (uint)(param_1[2] << 1)) {
            uVar1 = param_1[2] << 1;
        }
        __dest = (void *)FUN_00064da4(uVar1);
        if (__dest == (void *)0x0) {
            return 0xffffffff;
        }
        memcpy(__dest, (void *)*param_1, param_1[1]);
        FUN_00064dec(*param_1);
        *param_1 = (int)__dest;
        param_1[2] = uVar1;
    }
    memcpy((void *)(*param_1 + param_1[1]), param_2, param_3);
    param_1[1] = param_1[1] + param_3;
    *(undefined1 *)(*param_1 + param_1[1]) = 0;
    return 0;
}

undefined1 FUN_00065298(int *param_1)

{
    undefined1 uVar1;

    if (param_1[1] == 0) {
        uVar1 = 0;
    } else {
        param_1[1] = param_1[1] + -1;
        uVar1 = *(undefined1 *)(*param_1 + param_1[1]);
        *(undefined1 *)(*param_1 + param_1[1]) = 0;
    }
    return uVar1;
}

void FUN_00065320(undefined4 *param_1)

{
    lconv *plVar1;
    char *pcVar2;
    char *pcVar3;

    plVar1 = localeconv();
    pcVar3 = plVar1->decimal_point;
    if ((*pcVar3 != '.') &&
        (pcVar2 = strchr((char *)*param_1, 0x2e), pcVar2 != (char *)0x0)) {
        *pcVar2 = *pcVar3;
    }
    return;
}

void FUN_00065390(char *param_1)

{
    lconv *plVar1;
    char *pcVar2;

    plVar1 = localeconv();
    if ((*plVar1->decimal_point != 0x2e) &&
        (pcVar2 = strchr(param_1, (uint)(byte)*plVar1->decimal_point),
         pcVar2 != (char *)0x0)) {
        *pcVar2 = '.';
    }
    return;
}

undefined4 FUN_000653fc(int *param_1, undefined4 *param_2)

{
    int *piVar1;
    undefined4 uVar2;
    char *local_14;
    undefined8 local_10;

    FUN_00065320(param_1);
    piVar1 = __errno_location();
    *piVar1 = 0;
    local_10 = strtod((char *)*param_1, &local_14);
    if ((char *)(*param_1 + param_1[1]) != local_14) {
        /* WARNING: Subroutine does not return */
        __assert_fail("end == strbuffer->value + strbuffer->length",
                      "strconv.c", 0x4e, "jsonp_strtod");
    }
    if (((local_10 <= 1.79769313486232e+308) &&
         (-1.79769313486232e+308 <= local_10)) ||
        (piVar1 = __errno_location(), *piVar1 != 0x22)) {
        *param_2 = (undefined4)local_10;
        param_2[1] = local_10._4_4_;
        uVar2 = 0;
    } else {
        uVar2 = 0xffffffff;
    }
    return uVar2;
}

char *FUN_000654f8(char *param_1, char *param_2, int param_3)

{
    char *pcVar1;
    int local_2c;
    char *local_14;
    char *local_10;
    char *local_c;

    local_2c = param_3;
    if (param_3 == 0) {
        local_2c = 0x11;
    }
    local_14 = (char *)snprintf(param_1, (size_t)param_2, "%.*g", local_2c);
    if ((int)local_14 < 0) {
        local_14 = (char *)0xffffffff;
    } else if (local_14 < param_2) {
        FUN_00065390(param_1);
        pcVar1 = strchr(param_1, 0x2e);
        if ((pcVar1 == (char *)0x0) &&
            (pcVar1 = strchr(param_1, 0x65), pcVar1 == (char *)0x0)) {
            if (param_2 <= local_14 + 3) {
                return (char *)0xffffffff;
            }
            param_1[(int)local_14] = '.';
            param_1[(int)(local_14 + 1)] = '0';
            param_1[(int)(local_14 + 2)] = '\0';
            local_14 = local_14 + 2;
        }
        pcVar1 = strchr(param_1, 0x65);
        if (pcVar1 != (char *)0x0) {
            local_c = pcVar1 + 1;
            local_10 = pcVar1 + 2;
            if (*local_c == '-') {
                local_c = pcVar1 + 2;
            }
            for (; *local_10 == '0'; local_10 = local_10 + 1) {
            }
            if (local_10 != local_c) {
                memmove(local_c, local_10,
                        (size_t)(param_1 + ((int)local_14 - (int)local_10)));
                local_14 = local_c + ((int)local_14 - (int)local_10);
            }
        }
    } else {
        local_14 = (char *)0xffffffff;
    }
    return local_14;
}

undefined4 FUN_000656f8(uint param_1, byte *param_2, undefined4 *param_3)

{
    byte bVar1;
    undefined4 uVar2;

    if ((int)param_1 < 0) {
        uVar2 = 0xffffffff;
    } else {
        bVar1 = (byte)param_1;
        if ((int)param_1 < 0x80) {
            *param_2 = bVar1;
            *param_3 = 1;
        } else if ((int)param_1 < 0x800) {
            *param_2 = (char)((int)(param_1 & 0x7c0) >> 6) - 0x40;
            param_2[1] = (bVar1 & 0x3f) + 0x80;
            *param_3 = 2;
        } else if ((int)param_1 < 0x10000) {
            *param_2 = (char)((int)(param_1 & 0xf000) >> 0xc) - 0x20;
            param_2[1] = (char)((int)(param_1 & 0xfc0) >> 6) + 0x80;
            param_2[2] = (bVar1 & 0x3f) + 0x80;
            *param_3 = 3;
        } else {
            if (0x10ffff < (int)param_1) {
                return 0xffffffff;
            }
            *param_2 = (char)((int)(param_1 & 0x1c0000) >> 0x12) - 0x10;
            param_2[1] = (char)((int)(param_1 & 0x3f000) >> 0xc) + 0x80;
            param_2[2] = (char)((int)(param_1 & 0xfc0) >> 6) + 0x80;
            param_2[3] = (bVar1 & 0x3f) + 0x80;
            *param_3 = 4;
        }
        uVar2 = 0;
    }
    return uVar2;
}

undefined4 FUN_000658f8(byte param_1)

{
    undefined4 uVar1;

    if ((char)param_1 < '\0') {
        if (((char)param_1 < '\0') && (param_1 < 0xc0)) {
            uVar1 = 0;
        } else if ((param_1 == 0xc0) || (param_1 == 0xc1)) {
            uVar1 = 0;
        } else if ((param_1 < 0xc2) || (0xdf < param_1)) {
            if ((param_1 < 0xe0) || (0xef < param_1)) {
                if ((param_1 < 0xf0) || (0xf4 < param_1)) {
                    uVar1 = 0;
                } else {
                    uVar1 = 4;
                }
            } else {
                uVar1 = 3;
            }
        } else {
            uVar1 = 2;
        }
    } else {
        uVar1 = 1;
    }
    return uVar1;
}

undefined4 FUN_000659e4(byte *param_1, uint param_2, uint *param_3)

{
    byte bVar1;
    undefined4 uVar2;
    uint local_10;
    uint local_c;

    bVar1 = *param_1;
    if (param_2 == 2) {
        local_10 = bVar1 & 0x1f;
    } else if (param_2 == 3) {
        local_10 = bVar1 & 0xf;
    } else {
        if (param_2 != 4) {
            return 0;
        }
        local_10 = bVar1 & 7;
    }
    local_c = 1;
    while (true) {
        if (param_2 <= local_c) {
            if ((int)local_10 < 0x110000) {
                if (((int)local_10 < 0xd800) || (0xdfff < (int)local_10)) {
                    if ((((param_2 == 2) && ((int)local_10 < 0x80)) ||
                         ((param_2 == 3 && ((int)local_10 < 0x800)))) ||
                        ((param_2 == 4 && ((int)local_10 < 0x10000)))) {
                        uVar2 = 0;
                    } else {
                        if (param_3 != (uint *)0x0) {
                            *param_3 = local_10;
                        }
                        uVar2 = 1;
                    }
                } else {
                    uVar2 = 0;
                }
            } else {
                uVar2 = 0;
            }
            return uVar2;
        }
        bVar1 = param_1[local_c];
        if ((-1 < (char)bVar1) || (0xbf < bVar1))
            break;
        local_10 = local_10 * 0x40 + (bVar1 & 0x3f);
        local_c = local_c + 1;
    }
    return 0;
}

byte *FUN_00065b94(byte *param_1, uint param_2, uint *param_3)

{
    int iVar1;
    uint local_10;
    uint local_c;

    if (param_2 != 0) {
        local_c = FUN_000658f8(*param_1);
        if (local_c == 0) {
            param_1 = (byte *)0x0;
        } else {
            if (local_c == 1) {
                local_10 = (uint)*param_1;
            } else if ((param_2 < local_c) ||
                       (iVar1 = FUN_000659e4(param_1, local_c, &local_10),
                        iVar1 == 0)) {
                return (byte *)0x0;
            }
            if (param_3 != (uint *)0x0) {
                *param_3 = local_10;
            }
            param_1 = param_1 + local_c;
        }
    }
    return param_1;
}

undefined4 FUN_00065c6c(int param_1, uint param_2)

{
    uint uVar1;
    int iVar2;
    uint local_c;

    local_c = 0;
    do {
        if (param_2 <= local_c) {
            return 1;
        }
        uVar1 = FUN_000658f8(*(undefined1 *)(param_1 + local_c));
        if (uVar1 == 0) {
            return 0;
        }
        if (1 < uVar1) {
            if (param_2 - local_c < uVar1) {
                return 0;
            }
            iVar2 = FUN_000659e4(param_1 + local_c, uVar1, 0);
            if (iVar2 == 0) {
                return 0;
            }
            local_c = (uVar1 + local_c) - 1;
        }
        local_c = local_c + 1;
    } while (true);
}

int FUN_00065d58(int param_1)

{
    bool bVar1;
    int *piVar2;

    if ((param_1 != 0) && (*(int *)(param_1 + 4) != -1)) {
        piVar2 = (int *)(param_1 + 4);
        do {
            bVar1 = (bool)hasExclusiveAccess(piVar2);
        } while (!bVar1);
        *piVar2 = *piVar2 + 1;
        DataMemoryBarrier(0xf);
    }
    return param_1;
}

void FUN_00065db8(int param_1)

{
    bool bVar1;
    int iVar2;
    int *piVar3;

    if ((param_1 != 0) && (*(int *)(param_1 + 4) != -1)) {
        piVar3 = (int *)(param_1 + 4);
        DataMemoryBarrier(0xf);
        do {
            iVar2 = *piVar3;
            bVar1 = (bool)hasExclusiveAccess(piVar3);
        } while (!bVar1);
        *piVar3 = iVar2 + -1;
        if (iVar2 + -1 == 0) {
            FUN_000680f0(param_1);
        }
    }
    return;
}

undefined4 FUN_00065e1c(undefined4 param_1, undefined4 param_2,
                        undefined4 param_3)

{
    undefined4 uVar1;

    uVar1 = FUN_00065d58(param_3);
    uVar1 = FUN_0006605c(param_1, param_2, uVar1);
    return uVar1;
}

undefined4 FUN_00065e60(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_00065d58(param_2);
    uVar1 = FUN_00066ea4(param_1, uVar1);
    return uVar1;
}

void FUN_00065e9c(undefined4 *param_1, undefined4 param_2)

{
    *param_1 = param_2;
    param_1[1] = 1;
    return;
}

int FUN_00065ed4(void)

{
    int iVar1;
    int iVar2;

    iVar1 = FUN_00064da4(0x24);
    if (iVar1 == 0) {
        iVar1 = 0;
    } else {
        if (DAT_00091de0 == 0) {
            FUN_000626cc(0);
        }
        FUN_00065e9c(iVar1, 0);
        iVar2 = FUN_00061e04(iVar1 + 8);
        if (iVar2 != 0) {
            FUN_00064dec(iVar1);
            iVar1 = 0;
        }
    }
    return iVar1;
}

void FUN_00065f68(int param_1)

{
    FUN_00061f10(param_1 + 8);
    FUN_00064dec(param_1);
    return;
}

int FUN_00065f98(int *param_1)

{
    int iVar1;

    if ((param_1 == (int *)0x0) || (*param_1 != 0)) {
        iVar1 = 0;
    } else {
        iVar1 = param_1[2];
    }
    return iVar1;
}

undefined4 FUN_00065fec(int *param_1, int param_2)

{
    undefined4 uVar1;

    if (((param_2 == 0) || (param_1 == (int *)0x0)) || (*param_1 != 0)) {
        uVar1 = 0;
    } else {
        uVar1 = FUN_00062124(param_1 + 2, param_2);
    }
    return uVar1;
}

undefined4 FUN_0006605c(int *param_1, int param_2, int *param_3)

{
    int iVar1;

    if (param_3 != (int *)0x0) {
        if ((((param_2 != 0) && (param_1 != (int *)0x0)) && (*param_1 == 0)) &&
            (param_1 != param_3)) {
            iVar1 = FUN_00061f40(param_1 + 2, param_2, param_3);
            if (iVar1 == 0) {
                return 0;
            }
            FUN_00065db8(param_3);
            return 0xffffffff;
        }
        FUN_00065db8(param_3);
    }
    return 0xffffffff;
}

undefined4 FUN_0006611c(undefined4 param_1, char *param_2, undefined4 param_3)

{
    size_t sVar1;
    int iVar2;
    undefined4 uVar3;

    if (param_2 != (char *)0x0) {
        sVar1 = strlen(param_2);
        iVar2 = FUN_00065c6c(param_2, sVar1);
        if (iVar2 != 0) {
            uVar3 = FUN_0006605c(param_1, param_2, param_3);
            return uVar3;
        }
    }
    FUN_00065db8(param_3);
    return 0xffffffff;
}

undefined4 FUN_00066194(int *param_1, int param_2)

{
    undefined4 uVar1;

    if (((param_2 == 0) || (param_1 == (int *)0x0)) || (*param_1 != 0)) {
        uVar1 = 0xffffffff;
    } else {
        uVar1 = FUN_000621d4(param_1 + 2, param_2);
    }
    return uVar1;
}

undefined4 FUN_00066204(int *param_1)

{
    undefined4 uVar1;

    if ((param_1 == (int *)0x0) || (*param_1 != 0)) {
        uVar1 = 0xffffffff;
    } else {
        FUN_00062230(param_1 + 2);
        uVar1 = 0;
    }
    return uVar1;
}

undefined4 FUN_00066260(int *param_1, int *param_2)

{
    int iVar1;
    undefined4 uVar2;
    int local_c;

    if ((((param_1 == (int *)0x0) || (*param_1 != 0)) ||
         (param_2 == (int *)0x0)) ||
        (*param_2 != 0)) {
        uVar2 = 0xffffffff;
    } else {
        uVar2 = FUN_0006655c(param_2);
        local_c = FUN_00066698(uVar2);
        while (local_c != 0) {
            uVar2 = FUN_00066788(local_c);
            iVar1 = FUN_000666d4(uVar2);
            if (iVar1 == 0)
                break;
            iVar1 = FUN_00065e1c(param_1, local_c, iVar1);
            if (iVar1 != 0) {
                return 0xffffffff;
            }
            uVar2 = FUN_00066788(local_c);
            uVar2 = FUN_00066628(param_2, uVar2);
            local_c = FUN_00066698(uVar2);
        }
        uVar2 = 0;
    }
    return uVar2;
}

undefined4 FUN_0006635c(int *param_1, int *param_2)

{
    int iVar1;
    int iVar2;
    undefined4 uVar3;
    undefined4 local_c;

    if ((((param_1 == (int *)0x0) || (*param_1 != 0)) ||
         (param_2 == (int *)0x0)) ||
        (*param_2 != 0)) {
        uVar3 = 0xffffffff;
    } else {
        uVar3 = FUN_0006655c(param_2);
        local_c = FUN_00066698(uVar3);
        while (local_c != 0) {
            uVar3 = FUN_00066788(local_c);
            iVar2 = FUN_000666d4(uVar3);
            if (iVar2 == 0)
                break;
            iVar1 = FUN_00065fec(param_1, local_c);
            if (iVar1 != 0) {
                FUN_00065e1c(param_1, local_c, iVar2);
            }
            uVar3 = FUN_00066788(local_c);
            uVar3 = FUN_00066628(param_2, uVar3);
            local_c = FUN_00066698(uVar3);
        }
        uVar3 = 0;
    }
    return uVar3;
}

undefined4 FUN_0006645c(int *param_1, int *param_2)

{
    int iVar1;
    int iVar2;
    undefined4 uVar3;
    undefined4 local_c;

    if ((((param_1 == (int *)0x0) || (*param_1 != 0)) ||
         (param_2 == (int *)0x0)) ||
        (*param_2 != 0)) {
        uVar3 = 0xffffffff;
    } else {
        uVar3 = FUN_0006655c(param_2);
        local_c = FUN_00066698(uVar3);
        while (local_c != 0) {
            uVar3 = FUN_00066788(local_c);
            iVar2 = FUN_000666d4(uVar3);
            if (iVar2 == 0)
                break;
            iVar1 = FUN_00065fec(param_1, local_c);
            if (iVar1 == 0) {
                FUN_00065e1c(param_1, local_c, iVar2);
            }
            uVar3 = FUN_00066788(local_c);
            uVar3 = FUN_00066628(param_2, uVar3);
            local_c = FUN_00066698(uVar3);
        }
        uVar3 = 0;
    }
    return uVar3;
}

undefined4 FUN_0006655c(int *param_1)

{
    undefined4 uVar1;

    if ((param_1 == (int *)0x0) || (*param_1 != 0)) {
        uVar1 = 0;
    } else {
        uVar1 = FUN_000622f0(param_1 + 2);
    }
    return uVar1;
}

undefined4 FUN_000665b8(int *param_1, int param_2)

{
    undefined4 uVar1;

    if (((param_2 == 0) || (param_1 == (int *)0x0)) || (*param_1 != 0)) {
        uVar1 = 0;
    } else {
        uVar1 = FUN_00062324(param_1 + 2, param_2);
    }
    return uVar1;
}

undefined4 FUN_00066628(int *param_1, int param_2)

{
    undefined4 uVar1;

    if (((param_1 == (int *)0x0) || (*param_1 != 0)) || (param_2 == 0)) {
        uVar1 = 0;
    } else {
        uVar1 = FUN_000623d4(param_1 + 2, param_2);
    }
    return uVar1;
}

undefined4 FUN_00066698(int param_1)

{
    undefined4 uVar1;

    if (param_1 == 0) {
        uVar1 = 0;
    } else {
        uVar1 = FUN_00062428(param_1);
    }
    return uVar1;
}

undefined4 FUN_000666d4(int param_1)

{
    undefined4 uVar1;

    if (param_1 == 0) {
        uVar1 = 0;
    } else {
        uVar1 = FUN_0006245c(param_1);
    }
    return uVar1;
}

undefined4 FUN_00066710(int *param_1, int param_2, int param_3)

{
    undefined4 uVar1;

    if ((((param_1 == (int *)0x0) || (*param_1 != 0)) || (param_2 == 0)) ||
        (param_3 == 0)) {
        FUN_00065db8(param_3);
        uVar1 = 0xffffffff;
    } else {
        FUN_00062490(param_2, param_3);
        uVar1 = 0;
    }
    return uVar1;
}

int FUN_00066788(int param_1)

{
    if (param_1 == 0) {
        param_1 = 0;
    } else {
        param_1 = param_1 + -0x10;
    }
    return param_1;
}

undefined4 FUN_000667c8(undefined4 param_1, undefined4 param_2)

{
    int iVar1;
    int iVar2;
    undefined4 uVar3;
    int local_14;

    iVar1 = FUN_00065f98(param_1);
    iVar2 = FUN_00065f98(param_2);
    if (iVar1 == iVar2) {
        uVar3 = FUN_0006655c(param_1);
        local_14 = FUN_00066698(uVar3);
        while (local_14 != 0) {
            uVar3 = FUN_00066788(local_14);
            iVar1 = FUN_000666d4(uVar3);
            if (iVar1 == 0)
                break;
            uVar3 = FUN_00065fec(param_2, local_14);
            iVar1 = FUN_00068180(iVar1, uVar3);
            if (iVar1 == 0) {
                return 0;
            }
            uVar3 = FUN_00066788(local_14);
            uVar3 = FUN_00066628(param_1, uVar3);
            local_14 = FUN_00066698(uVar3);
        }
        uVar3 = 1;
    } else {
        uVar3 = 0;
    }
    return uVar3;
}

int FUN_000668b8(undefined4 param_1)

{
    int iVar1;
    undefined4 uVar2;
    int iVar3;
    int local_c;

    iVar1 = FUN_00065ed4();
    if (iVar1 == 0) {
        iVar1 = 0;
    } else {
        uVar2 = FUN_0006655c(param_1);
        local_c = FUN_00066698(uVar2);
        while (local_c != 0) {
            uVar2 = FUN_00066788(local_c);
            iVar3 = FUN_000666d4(uVar2);
            if (iVar3 == 0) {
                return iVar1;
            }
            FUN_00065e1c(iVar1, local_c, iVar3);
            uVar2 = FUN_00066788(local_c);
            uVar2 = FUN_00066628(param_1, uVar2);
            local_c = FUN_00066698(uVar2);
        }
    }
    return iVar1;
}

int FUN_00066978(undefined4 param_1)

{
    int iVar1;
    undefined4 uVar2;
    undefined4 uVar3;
    undefined4 local_c;

    iVar1 = FUN_00065ed4();
    if (iVar1 == 0) {
        iVar1 = 0;
    } else {
        for (local_c = FUN_0006655c(param_1); local_c != 0;
             local_c = FUN_00066628(param_1, local_c)) {
            uVar2 = FUN_00066698(local_c);
            uVar3 = FUN_000666d4(local_c);
            uVar3 = FUN_00068348(uVar3);
            FUN_0006605c(iVar1, uVar2, uVar3);
        }
    }
    return iVar1;
}

int FUN_00066a14(void)

{
    int iVar1;
    undefined4 uVar2;

    iVar1 = FUN_00064da4(0x14);
    if (iVar1 == 0) {
        iVar1 = 0;
    } else {
        FUN_00065e9c(iVar1, 1);
        *(undefined4 *)(iVar1 + 0xc) = 0;
        *(undefined4 *)(iVar1 + 8) = 8;
        uVar2 = FUN_00064da4(*(int *)(iVar1 + 8) << 2);
        *(undefined4 *)(iVar1 + 0x10) = uVar2;
        if (*(int *)(iVar1 + 0x10) == 0) {
            FUN_00064dec(iVar1);
            iVar1 = 0;
        }
    }
    return iVar1;
}

void FUN_00066ab8(int param_1)

{
    undefined4 local_c;

    for (local_c = 0; local_c < *(uint *)(param_1 + 0xc);
         local_c = local_c + 1) {
        FUN_00065db8(*(undefined4 *)(*(int *)(param_1 + 0x10) + local_c * 4));
    }
    FUN_00064dec(*(undefined4 *)(param_1 + 0x10));
    FUN_00064dec(param_1);
    return;
}

int FUN_00066b34(int *param_1)

{
    int iVar1;

    if ((param_1 == (int *)0x0) || (*param_1 != 1)) {
        iVar1 = 0;
    } else {
        iVar1 = param_1[3];
    }
    return iVar1;
}

undefined4 FUN_00066b80(int *param_1, uint param_2)

{
    undefined4 uVar1;

    if ((param_1 == (int *)0x0) || (*param_1 != 1)) {
        uVar1 = 0;
    } else if (param_2 < (uint)param_1[3]) {
        uVar1 = *(undefined4 *)(param_1[4] + param_2 * 4);
    } else {
        uVar1 = 0;
    }
    return uVar1;
}

undefined4 FUN_00066c04(int *param_1, uint param_2, int *param_3)

{
    if (param_3 != (int *)0x0) {
        if (((param_1 != (int *)0x0) && (*param_1 == 1)) &&
            (param_1 != param_3)) {
            if (param_2 < (uint)param_1[3]) {
                FUN_00065db8(*(undefined4 *)(param_1[4] + param_2 * 4));
                *(int **)(param_1[4] + param_2 * 4) = param_3;
                return 0;
            }
            FUN_00065db8(param_3);
            return 0xffffffff;
        }
        FUN_00065db8(param_3);
    }
    return 0xffffffff;
}

void FUN_00066ce4(int param_1, int param_2, int param_3, int param_4)

{
    memmove((void *)(*(int *)(param_1 + 0x10) + param_2 * 4),
            (void *)(*(int *)(param_1 + 0x10) + param_3 * 4), param_4 << 2);
    return;
}

void FUN_00066d40(int param_1, int param_2, int param_3, int param_4,
                  int param_5)

{
    memcpy((void *)(param_1 + param_2 * 4), (void *)(param_3 + param_4 * 4),
           param_5 << 2);
    return;
}

undefined4 FUN_00066d94(int param_1, int param_2, int param_3)

{
    uint uVar1;
    int iVar2;
    undefined4 uVar3;
    uint uVar4;

    if (*(uint *)(param_1 + 8) < (uint)(*(int *)(param_1 + 0xc) + param_2)) {
        uVar3 = *(undefined4 *)(param_1 + 0x10);
        uVar1 = *(int *)(param_1 + 8) << 1;
        uVar4 = *(int *)(param_1 + 8) + param_2;
        if (uVar1 < uVar4) {
            uVar1 = uVar4;
        }
        iVar2 = FUN_00064da4(uVar1 << 2);
        if (iVar2 == 0) {
            uVar3 = 0;
        } else {
            *(uint *)(param_1 + 8) = uVar1;
            *(int *)(param_1 + 0x10) = iVar2;
            if (param_3 != 0) {
                FUN_00066d40(*(undefined4 *)(param_1 + 0x10), 0, uVar3, 0,
                             *(undefined4 *)(param_1 + 0xc));
                FUN_00064dec(uVar3);
                uVar3 = *(undefined4 *)(param_1 + 0x10);
            }
        }
    } else {
        uVar3 = *(undefined4 *)(param_1 + 0x10);
    }
    return uVar3;
}

undefined4 FUN_00066ea4(int *param_1, int *param_2)

{
    int iVar1;

    if (param_2 != (int *)0x0) {
        if (((param_1 != (int *)0x0) && (*param_1 == 1)) &&
            (param_1 != param_2)) {
            iVar1 = FUN_00066d94(param_1, 1, 1);
            if (iVar1 != 0) {
                *(int **)(param_1[4] + param_1[3] * 4) = param_2;
                param_1[3] = param_1[3] + 1;
                return 0;
            }
            FUN_00065db8(param_2);
            return 0xffffffff;
        }
        FUN_00065db8(param_2);
    }
    return 0xffffffff;
}

undefined4 FUN_00066f80(int *param_1, uint param_2, int *param_3)

{
    int iVar1;

    if (param_3 != (int *)0x0) {
        if (((param_1 != (int *)0x0) && (*param_1 == 1)) &&
            (param_1 != param_3)) {
            if ((uint)param_1[3] < param_2) {
                FUN_00065db8(param_3);
                return 0xffffffff;
            }
            iVar1 = FUN_00066d94(param_1, 1, 0);
            if (iVar1 != 0) {
                if (param_1[4] == iVar1) {
                    FUN_00066ce4(param_1, param_2 + 1, param_2,
                                 param_1[3] - param_2);
                } else {
                    FUN_00066d40(param_1[4], 0, iVar1, 0, param_2);
                    FUN_00066d40(param_1[4], param_2 + 1, iVar1, param_2,
                                 param_1[3] - param_2);
                    FUN_00064dec(iVar1);
                }
                *(int **)(param_1[4] + param_2 * 4) = param_3;
                param_1[3] = param_1[3] + 1;
                return 0;
            }
            FUN_00065db8(param_3);
            return 0xffffffff;
        }
        FUN_00065db8(param_3);
    }
    return 0xffffffff;
}

undefined4 FUN_00067118(int *param_1, uint param_2)

{
    undefined4 uVar1;

    if ((param_1 == (int *)0x0) || (*param_1 != 1)) {
        uVar1 = 0xffffffff;
    } else if (param_2 < (uint)param_1[3]) {
        FUN_00065db8(*(undefined4 *)(param_1[4] + param_2 * 4));
        if (param_2 < param_1[3] - 1U) {
            FUN_00066ce4(param_1, param_2, param_2 + 1,
                         (param_1[3] - param_2) + -1);
        }
        param_1[3] = param_1[3] + -1;
        uVar1 = 0;
    } else {
        uVar1 = 0xffffffff;
    }
    return uVar1;
}

undefined4 FUN_000671fc(int *param_1)

{
    undefined4 uVar1;
    uint local_c;

    if ((param_1 == (int *)0x0) || (*param_1 != 1)) {
        uVar1 = 0xffffffff;
    } else {
        for (local_c = 0; local_c < (uint)param_1[3]; local_c = local_c + 1) {
            FUN_00065db8(*(undefined4 *)(param_1[4] + local_c * 4));
        }
        param_1[3] = 0;
        uVar1 = 0;
    }
    return uVar1;
}

undefined4 FUN_000672a0(int *param_1, int *param_2)

{
    int iVar1;
    undefined4 uVar2;
    uint local_c;

    if ((((param_1 == (int *)0x0) || (*param_1 != 1)) ||
         (param_2 == (int *)0x0)) ||
        (*param_2 != 1)) {
        uVar2 = 0xffffffff;
    } else {
        iVar1 = FUN_00066d94(param_1, param_2[3], 1);
        if (iVar1 == 0) {
            uVar2 = 0xffffffff;
        } else {
            for (local_c = 0; local_c < (uint)param_2[3];
                 local_c = local_c + 1) {
                FUN_00065d58(*(undefined4 *)(param_2[4] + local_c * 4));
            }
            FUN_00066d40(param_1[4], param_1[3], param_2[4], 0, param_2[3]);
            param_1[3] = param_1[3] + param_2[3];
            uVar2 = 0;
        }
    }
    return uVar2;
}

undefined4 FUN_000673d4(undefined4 param_1, undefined4 param_2)

{
    uint uVar1;
    uint uVar2;
    undefined4 uVar3;
    int iVar4;
    undefined4 uVar5;
    uint local_c;

    uVar1 = FUN_00066b34(param_1);
    uVar2 = FUN_00066b34(param_2);
    if (uVar2 == uVar1) {
        for (local_c = 0; local_c < uVar1; local_c = local_c + 1) {
            uVar5 = FUN_00066b80(param_1, local_c);
            uVar3 = FUN_00066b80(param_2, local_c);
            iVar4 = FUN_00068180(uVar5, uVar3);
            if (iVar4 == 0) {
                return 0;
            }
        }
        uVar5 = 1;
    } else {
        uVar5 = 0;
    }
    return uVar5;
}

int FUN_0006748c(undefined4 param_1)

{
    int iVar1;
    undefined4 uVar2;
    uint uVar3;
    uint local_c;

    iVar1 = FUN_00066a14();
    if (iVar1 == 0) {
        iVar1 = 0;
    } else {
        for (local_c = 0; uVar3 = FUN_00066b34(param_1), local_c < uVar3;
             local_c = local_c + 1) {
            uVar2 = FUN_00066b80(param_1, local_c);
            FUN_00065e60(iVar1, uVar2);
        }
    }
    return iVar1;
}

int FUN_00067514(undefined4 param_1)

{
    int iVar1;
    undefined4 uVar2;
    uint uVar3;
    uint local_c;

    iVar1 = FUN_00066a14();
    if (iVar1 == 0) {
        iVar1 = 0;
    } else {
        for (local_c = 0; uVar3 = FUN_00066b34(param_1), local_c < uVar3;
             local_c = local_c + 1) {
            uVar2 = FUN_00066b80(param_1, local_c);
            uVar2 = FUN_00068348(uVar2);
            FUN_00066ea4(iVar1, uVar2);
        }
    }
    return iVar1;
}

int FUN_000675a8(int param_1, undefined4 param_2, int param_3)

{
    int iVar1;
    int local_c;

    if (param_1 == 0) {
        iVar1 = 0;
    } else {
        local_c = param_1;
        if ((param_3 == 0) &&
            (local_c = FUN_00064e60(param_1, param_2), local_c == 0)) {
            iVar1 = 0;
        } else {
            iVar1 = FUN_00064da4(0x10);
            if (iVar1 == 0) {
                FUN_00064dec(local_c);
                iVar1 = 0;
            } else {
                FUN_00065e9c(iVar1, 2);
                *(int *)(iVar1 + 8) = local_c;
                *(undefined4 *)(iVar1 + 0xc) = param_2;
            }
        }
    }
    return iVar1;
}

undefined4 FUN_00067670(char *param_1)

{
    size_t sVar1;
    undefined4 uVar2;

    if (param_1 == (char *)0x0) {
        uVar2 = 0;
    } else {
        sVar1 = strlen(param_1);
        uVar2 = FUN_000675a8(param_1, sVar1, 0);
    }
    return uVar2;
}

undefined4 FUN_000676c0(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_000675a8(param_1, param_2, 0);
    return uVar1;
}

undefined4 FUN_000676f4(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;

    uVar1 = FUN_000675a8(param_1, param_2, 1);
    return uVar1;
}

undefined4 FUN_00067728(char *param_1)

{
    size_t sVar1;
    undefined4 uVar2;

    if (param_1 == (char *)0x0) {
        uVar2 = 0;
    } else {
        sVar1 = strlen(param_1);
        uVar2 = FUN_00067774(param_1, sVar1);
    }
    return uVar2;
}

undefined4 FUN_00067774(int param_1, undefined4 param_2)

{
    int iVar1;
    undefined4 uVar2;

    if ((param_1 == 0) ||
        (iVar1 = FUN_00065c6c(param_1, param_2), iVar1 == 0)) {
        uVar2 = 0;
    } else {
        uVar2 = FUN_000676c0(param_1, param_2);
    }
    return uVar2;
}

int FUN_000677d0(int *param_1)

{
    int iVar1;

    if ((param_1 == (int *)0x0) || (*param_1 != 2)) {
        iVar1 = 0;
    } else {
        iVar1 = param_1[2];
    }
    return iVar1;
}

int FUN_0006781c(int *param_1)

{
    int iVar1;

    if ((param_1 == (int *)0x0) || (*param_1 != 2)) {
        iVar1 = 0;
    } else {
        iVar1 = param_1[3];
    }
    return iVar1;
}

undefined4 FUN_00067868(undefined4 param_1, char *param_2)

{
    size_t sVar1;
    undefined4 uVar2;

    if (param_2 == (char *)0x0) {
        uVar2 = 0xffffffff;
    } else {
        sVar1 = strlen(param_2);
        uVar2 = FUN_000678bc(param_1, param_2, sVar1);
    }
    return uVar2;
}

undefined4 FUN_000678bc(int *param_1, int param_2, int param_3)

{
    int iVar1;
    undefined4 uVar2;

    if (((param_1 == (int *)0x0) || (*param_1 != 2)) || (param_2 == 0)) {
        uVar2 = 0xffffffff;
    } else {
        iVar1 = FUN_00064e60(param_2, param_3);
        if (iVar1 == 0) {
            uVar2 = 0xffffffff;
        } else {
            FUN_00064dec(param_1[2]);
            param_1[2] = iVar1;
            param_1[3] = param_3;
            uVar2 = 0;
        }
    }
    return uVar2;
}

undefined4 FUN_00067968(undefined4 param_1, char *param_2)

{
    size_t sVar1;
    undefined4 uVar2;

    if (param_2 == (char *)0x0) {
        uVar2 = 0xffffffff;
    } else {
        sVar1 = strlen(param_2);
        uVar2 = FUN_000679bc(param_1, param_2, sVar1);
    }
    return uVar2;
}

undefined4 FUN_000679bc(undefined4 param_1, int param_2, undefined4 param_3)

{
    int iVar1;
    undefined4 uVar2;

    if ((param_2 == 0) ||
        (iVar1 = FUN_00065c6c(param_2, param_3), iVar1 == 0)) {
        uVar2 = 0xffffffff;
    } else {
        uVar2 = FUN_000678bc(param_1, param_2, param_3);
    }
    return uVar2;
}

void FUN_00067a20(int param_1)

{
    FUN_00064dec(*(undefined4 *)(param_1 + 8));
    FUN_00064dec(param_1);
    return;
}

undefined4 FUN_00067a50(int param_1, int param_2)

{
    int iVar1;
    undefined4 uVar2;

    if ((*(int *)(param_1 + 0xc) == *(int *)(param_2 + 0xc)) &&
        (iVar1 = memcmp(*(void **)(param_1 + 8), *(void **)(param_2 + 8),
                        *(size_t *)(param_1 + 0xc)),
         iVar1 == 0)) {
        uVar2 = 1;
    } else {
        uVar2 = 0;
    }
    return uVar2;
}

undefined4 FUN_00067ad0(int param_1)

{
    undefined4 uVar1;

    uVar1 = FUN_000676c0(*(undefined4 *)(param_1 + 8),
                         *(undefined4 *)(param_1 + 0xc));
    return uVar1;
}

undefined4 FUN_00067b14(char *param_1, __gnuc_va_list param_2)

{
    int iVar1;
    char *__s;
    int iVar2;
    undefined4 local_c;

    local_c = 0;
    iVar1 = vsnprintf((char *)0x0, 0, param_1, param_2);
    if (iVar1 == 0) {
        local_c = FUN_00067728(&DAT_000759d8);
    } else {
        __s = (char *)FUN_00064da4(iVar1 + 1);
        if (__s != (char *)0x0) {
            vsnprintf(__s, iVar1 + 1, param_1, param_2);
            iVar2 = FUN_00065c6c(__s, iVar1);
            if (iVar2 == 0) {
                FUN_00064dec(__s);
            } else {
                local_c = FUN_000676f4(__s, iVar1);
            }
        }
    }
    return local_c;
}

int FUN_00067c3c(undefined4 param_1, undefined4 param_2)

{
    int iVar1;

    iVar1 = FUN_00064da4(0x10);
    if (iVar1 == 0) {
        iVar1 = 0;
    } else {
        FUN_00065e9c(iVar1, 3);
        *(undefined4 *)(iVar1 + 8) = param_1;
        *(undefined4 *)(iVar1 + 0xc) = param_2;
    }
    return iVar1;
}

undefined8 FUN_00067c98(int *param_1)

{
    undefined8 uVar1;

    if ((param_1 == (int *)0x0) || (*param_1 != 3)) {
        uVar1 = 0;
    } else {
        uVar1 = *(undefined8 *)(param_1 + 2);
    }
    return uVar1;
}

void FUN_00067d44(undefined4 param_1)

{
    FUN_00064dec(param_1);
    return;
}

bool FUN_00067d64(undefined4 param_1, undefined4 param_2)

{
    longlong lVar1;
    longlong lVar2;

    lVar1 = FUN_00067c98(param_1);
    lVar2 = FUN_00067c98(param_2);
    return lVar1 == lVar2;
}

undefined4 FUN_00067db8(undefined4 param_1)

{
    undefined4 uVar1;
    undefined8 uVar2;

    uVar2 = FUN_00067c98(param_1);
    uVar1 = FUN_00067c3c((int)uVar2, (int)((ulonglong)uVar2 >> 0x20));
    return uVar1;
}

int FUN_00067df4(void)

{
    int iVar1;
    double in_d0;
    undefined4 local_18;
    undefined4 uStack_14;

    iVar1 = __isnan(in_d0);
    if ((iVar1 == 0) && (iVar1 = __isinf(in_d0), iVar1 == 0)) {
        iVar1 = FUN_00064da4(0x10);
        if (iVar1 == 0) {
            iVar1 = 0;
        } else {
            FUN_00065e9c(iVar1, 4);
            local_18 = SUB84(in_d0, 0);
            uStack_14 = (undefined4)((ulonglong)in_d0 >> 0x20);
            *(undefined4 *)(iVar1 + 8) = local_18;
            *(undefined4 *)(iVar1 + 0xc) = uStack_14;
        }
    } else {
        iVar1 = 0;
    }
    return iVar1;
}

int FUN_00067e80(int *param_1)

{
    int iVar1;

    if ((param_1 == (int *)0x0) || (*param_1 != 4)) {
        iVar1 = 0;
    } else {
        iVar1 = param_1[2];
    }
    return iVar1;
}

undefined4 FUN_00067ed4(int *param_1)

{
    int iVar1;
    undefined4 uVar2;
    double in_d0;
    int local_18;
    int iStack_14;

    if ((((param_1 == (int *)0x0) || (*param_1 != 4)) ||
         (iVar1 = __isnan(in_d0), iVar1 != 0)) ||
        (iVar1 = __isinf(in_d0), iVar1 != 0)) {
        uVar2 = 0xffffffff;
    } else {
        local_18 = SUB84(in_d0, 0);
        iStack_14 = (int)((ulonglong)in_d0 >> 0x20);
        param_1[2] = local_18;
        param_1[3] = iStack_14;
        uVar2 = 0;
    }
    return uVar2;
}

void FUN_00067f50(undefined4 param_1)

{
    FUN_00064dec(param_1);
    return;
}

bool FUN_00067f70(undefined4 param_1, undefined4 param_2)

{
    undefined4 uVar1;
    undefined4 uVar2;
    undefined4 extraout_s1;
    undefined4 extraout_s1_00;

    uVar1 = FUN_00067e80(param_1);
    uVar2 = FUN_00067e80(param_2);
    return (double)CONCAT44(extraout_s1, uVar1) ==
           (double)CONCAT44(extraout_s1_00, uVar2);
}

undefined4 FUN_00067fc4(undefined4 param_1)

{
    undefined4 uVar1;

    uVar1 = FUN_00067e80(param_1);
    uVar1 = FUN_00067df4(uVar1);
    return uVar1;
}

undefined4 FUN_00067ff8(int *param_1)

{
    undefined4 uVar1;
    undefined8 uVar2;

    if ((param_1 == (int *)0x0) || (*param_1 != 3)) {
        if ((param_1 == (int *)0x0) || (*param_1 != 4)) {
            uVar1 = 0;
        } else {
            uVar1 = FUN_00067e80(param_1);
        }
    } else {
        uVar2 = FUN_00067c98(param_1);
        uVar1 = FUN_00068e84((int)uVar2, (int)((ulonglong)uVar2 >> 0x20));
    }
    return uVar1;
}

undefined *FUN_00068090(void)

{
    return &DAT_00087724;
}

undefined *FUN_000680b0(void)

{
    return &DAT_0008772c;
}

undefined *FUN_000680d0(void)

{
    return &DAT_00087734;
}

undefined4 *FUN_000680f0(undefined4 *param_1)

{
    if (param_1 != (undefined4 *)0x0) {
        switch (*param_1) {
        case 0:
            param_1 = (undefined4 *)FUN_00065f68(param_1);
            break;
        case 1:
            param_1 = (undefined4 *)FUN_00066ab8(param_1);
            break;
        case 2:
            param_1 = (undefined4 *)FUN_00067a20(param_1);
            break;
        case 3:
            param_1 = (undefined4 *)FUN_00067d44(param_1);
            break;
        case 4:
            param_1 = (undefined4 *)FUN_00067f50(param_1);
        }
    }
    return param_1;
}

undefined4 FUN_00068180(int *param_1, int *param_2)

{
    undefined4 uVar1;

    if ((param_1 == (int *)0x0) || (param_2 == (int *)0x0)) {
        uVar1 = 0;
    } else if (*param_1 == *param_2) {
        if (param_1 == param_2) {
            uVar1 = 1;
        } else {
            switch (*param_1) {
            case 0:
                uVar1 = FUN_000667c8(param_1, param_2);
                break;
            case 1:
                uVar1 = FUN_000673d4(param_1, param_2);
                break;
            case 2:
                uVar1 = FUN_00067a50(param_1, param_2);
                break;
            case 3:
                uVar1 = FUN_00067d64(param_1, param_2);
                break;
            case 4:
                uVar1 = FUN_00067f70(param_1, param_2);
                break;
            default:
                uVar1 = 0;
            }
        }
    } else {
        uVar1 = 0;
    }
    return uVar1;
}

undefined4 *FUN_00068288(undefined4 *param_1)

{
    if (param_1 == (undefined4 *)0x0) {
        param_1 = (undefined4 *)0x0;
    } else {
        switch (*param_1) {
        case 0:
            param_1 = (undefined4 *)FUN_000668b8(param_1);
            break;
        case 1:
            param_1 = (undefined4 *)FUN_0006748c(param_1);
            break;
        case 2:
            param_1 = (undefined4 *)FUN_00067ad0(param_1);
            break;
        case 3:
            param_1 = (undefined4 *)FUN_00067db8(param_1);
            break;
        case 4:
            param_1 = (undefined4 *)FUN_00067fc4(param_1);
            break;
        case 5:
        case 6:
        case 7:
            break;
        default:
            param_1 = (undefined4 *)0x0;
        }
    }
    return param_1;
}

undefined4 *FUN_00068348(undefined4 *param_1)

{
    if (param_1 == (undefined4 *)0x0) {
        param_1 = (undefined4 *)0x0;
    } else {
        switch (*param_1) {
        case 0:
            param_1 = (undefined4 *)FUN_00066978(param_1);
            break;
        case 1:
            param_1 = (undefined4 *)FUN_00067514(param_1);
            break;
        case 2:
            param_1 = (undefined4 *)FUN_00067ad0(param_1);
            break;
        case 3:
            param_1 = (undefined4 *)FUN_00067db8(param_1);
            break;
        case 4:
            param_1 = (undefined4 *)FUN_00067fc4(param_1);
            break;
        case 5:
        case 6:
        case 7:
            break;
        default:
            param_1 = (undefined4 *)0x0;
        }
    }
    return param_1;
}

void FUN_00068408(undefined4 *param_1, int param_2)

{
    if (param_1 != (undefined4 *)0x0) {
        *(undefined1 *)(param_1 + 0x17) = 0;
        *param_1 = 0xffffffff;
        param_1[1] = 0xffffffff;
        param_1[2] = 0;
        if (param_2 == 0) {
            *(undefined1 *)(param_1 + 3) = 0;
        } else {
            FUN_00068488(param_1, param_2);
        }
    }
    return;
}

void FUN_00068488(int param_1, char *param_2)

{
    size_t sVar1;

    if ((param_1 != 0) && (param_2 != (char *)0x0)) {
        sVar1 = strlen(param_2);
        if (sVar1 < 0x50) {
            strncpy((char *)(param_1 + 0xc), param_2, sVar1 + 1);
        } else {
            memcpy((void *)(param_1 + 0xc), &DAT_000759dc, 3);
            strncpy((char *)(param_1 + 0xf), param_2 + (sVar1 - 0x4c),
                    (sVar1 - (sVar1 - 0x4c)) + 1);
        }
    }
    return;
}

void FUN_0006854c(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4, undefined4 param_5, undefined4 param_6)

{
    FUN_000685a4(param_1, param_2, param_3, param_4, param_5, param_6,
                 &stack0x00000008);
    return;
}

void FUN_000685a4(undefined4 *param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4, undefined1 param_5, char *param_6,
                  __gnuc_va_list param_7)

{
    if ((param_1 != (undefined4 *)0x0) && (*(char *)(param_1 + 0x17) == '\0')) {
        *param_1 = param_2;
        param_1[1] = param_3;
        param_1[2] = param_4;
        vsnprintf((char *)(param_1 + 0x17), 0x9f, param_6, param_7);
        *(undefined1 *)((int)param_1 + 0xfa) = 0;
        *(undefined1 *)((int)param_1 + 0xfb) = param_5;
    }
    return;
}

ulonglong FUN_00068648(uint param_1, uint param_2)

{
    uint uVar1;
    ulonglong uVar2;

    if (param_2 - 1 == 0) {
        return CONCAT44(param_2, param_1);
    }
    if (param_2 == 0) {
        uVar1 = raise(8);
        return (ulonglong)uVar1;
    }
    if (param_1 <= param_2) {
        return CONCAT44(param_2, (uint)(param_1 == param_2));
    }
    if ((param_2 & param_2 - 1) == 0) {
        return CONCAT44(param_2, param_1 >> (0x1fU - LZCOUNT(param_2) & 0xff));
    }
    /* WARNING: Could not recover jumptable at 0x00068678. Too many branches */
    /* WARNING: Treating indirect jump as call */
    uVar2 = (*(code *)(&UNK_00068680 +
                       (0x1f - (LZCOUNT(param_2) - LZCOUNT(param_1))) * 0x10))(
        param_1, param_2, 0);
    return uVar2;
}

void FUN_000688a4(undefined4 param_1, int param_2)

{
    if (param_2 != 0) {
        FUN_00068648();
        return;
    }
    raise(8);
    return;
}

ulonglong FUN_000688c0(uint param_1, uint param_2)

{
    uint uVar1;
    uint uVar2;
    uint uVar3;
    ulonglong uVar4;

    if (param_2 == 0) {
        uVar2 = raise(8);
        return (ulonglong)uVar2;
    }
    uVar3 = param_1 ^ param_2;
    uVar2 = param_2;
    if ((int)param_2 < 0) {
        uVar2 = -param_2;
    }
    if (uVar2 - 1 == 0) {
        if ((int)param_2 < 0) {
            param_1 = -param_1;
        }
        return CONCAT44(uVar2, param_1);
    }
    uVar1 = param_1;
    if ((int)param_1 < 0) {
        uVar1 = -param_1;
    }
    if (uVar1 <= uVar2) {
        if (uVar1 < uVar2) {
            param_1 = 0;
        }
        if (uVar1 == uVar2) {
            param_1 = (int)uVar3 >> 0x1f | 1;
        }
        return CONCAT44(uVar2, param_1);
    }
    if ((uVar2 & uVar2 - 1) == 0) {
        uVar1 = uVar1 >> (0x1fU - LZCOUNT(uVar2) & 0xff);
        if ((int)uVar3 < 0) {
            uVar1 = -uVar1;
        }
        return CONCAT44(uVar2, uVar1);
    }
    /* WARNING: Could not recover jumptable at 0x00068900. Too many branches */
    /* WARNING: Treating indirect jump as call */
    uVar4 = (*(code *)(&UNK_00068908 +
                       (0x1f - (LZCOUNT(uVar2) - LZCOUNT(uVar1))) * 0x10))(0);
    return uVar4;
}

ulonglong FUN_00068e74(uint param_1, uint param_2)

{
    byte bVar1;
    uint uVar2;
    uint uVar3;
    uint uVar4;
    int iVar5;
    uint uVar6;
    int iVar7;
    uint uVar8;
    bool bVar9;
    bool bVar10;
    bool bVar11;

    if (param_1 == 0 && param_2 == 0) {
        return CONCAT44(param_2, param_1);
    }
    iVar7 = 0x432;
    uVar8 = param_2 >> 0x16;
    if (uVar8 != 0) {
        iVar7 = 3;
        if (param_2 >> 0x19 != 0) {
            iVar7 = 6;
        }
        if (param_2 >> 0x1c != 0) {
            iVar7 = iVar7 + 3;
        }
        uVar4 = iVar7 - ((int)param_2 >> 0x1f);
        uVar8 = param_1 << (0x20 - uVar4 & 0xff);
        param_1 = param_1 >> (uVar4 & 0xff) | param_2 << (0x20 - uVar4 & 0xff);
        param_2 = param_2 >> (uVar4 & 0xff);
        iVar7 = uVar4 + 0x432;
    }
    if (0xfffff < param_2) {
        if (0x1fffff < param_2) {
            uVar4 = param_2 & 1;
            param_2 = param_2 >> 1;
            bVar1 = (byte)param_1;
            param_1 = (uint)(uVar4 != 0) << 0x1f | param_1 >> 1;
            uVar8 = (uint)(bVar1 & 1) << 0x1f | uVar8 >> 1;
            iVar7 = iVar7 + 1;
            if (0xffbfffff < (uint)(iVar7 * 0x200000)) {
                return 0x7ff0000000000000;
            }
        }
    LAB_00068c88:
        bVar10 = 0x7fffffff < uVar8;
        if (uVar8 == 0x80000000) {
            bVar10 = (param_1 & 1) != 0;
        }
        return CONCAT44(param_2 + iVar7 * 0x100000 +
                            (uint)CARRY4(param_1, (uint)bVar10),
                        param_1 + bVar10);
    }
    bVar9 = (uVar8 & 0x80000000) != 0;
    uVar8 = uVar8 << 1;
    uVar4 = param_1 * 2;
    bVar10 = CARRY4(param_1, param_1);
    param_1 = param_1 * 2 + (uint)bVar9;
    param_2 = param_2 * 2 + (uint)(bVar10 || CARRY4(uVar4, (uint)bVar9));
    iVar7 = iVar7 + -1;
    if ((param_2 & 0x100000) != 0)
        goto LAB_00068c88;
    uVar2 = param_1;
    uVar4 = param_2;
    if (param_2 == 0) {
        uVar2 = 0;
        uVar4 = param_1;
    }
    iVar5 = LZCOUNT(uVar4);
    if (param_2 == 0) {
        iVar5 = iVar5 + 0x20;
    }
    uVar6 = iVar5 - 0xb;
    bVar11 = SBORROW4(uVar6, 0x20);
    uVar3 = iVar5 - 0x2b;
    bVar10 = (int)uVar3 < 0;
    bVar9 = uVar3 == 0;
    if ((int)uVar6 < 0x20) {
        bVar11 = SCARRY4(uVar3, 0xc);
        iVar5 = iVar5 + -0x1f;
        bVar10 = iVar5 < 0;
        bVar9 = iVar5 == 0;
        uVar3 = uVar6;
        if (!bVar9 && bVar10 == bVar11) {
            uVar2 = uVar4 << (uVar6 & 0xff);
            uVar4 = uVar4 >> (0xcU - iVar5 & 0xff);
            goto LAB_00068d00;
        }
    }
    if (bVar9 || bVar10 != bVar11) {
        uVar8 = 0x20 - uVar3;
    }
    uVar4 = uVar4 << (uVar3 & 0xff);
    if (bVar9 || bVar10 != bVar11) {
        uVar4 = uVar4 | uVar2 >> (uVar8 & 0xff);
        uVar2 = uVar2 << (uVar3 & 0xff);
    }
LAB_00068d00:
    if ((int)uVar6 <= iVar7) {
        return CONCAT44(uVar4 + (iVar7 - uVar6) * 0x100000, uVar2);
    }
    uVar8 = ~(iVar7 - uVar6);
    if (0x1e < (int)uVar8) {
        return (ulonglong)(uVar4 >> (uVar8 - 0x1f & 0xff));
    }
    iVar7 = uVar8 - 0x13;
    if (iVar7 == 0 || iVar7 < 0 != SCARRY4(uVar8 - 0x1f, 0xc)) {
        uVar8 = uVar8 + 1;
        return CONCAT44(uVar4 >> (uVar8 & 0xff),
                        uVar2 >> (uVar8 & 0xff) | uVar4
                                                      << (0x20 - uVar8 & 0xff));
    }
    return (ulonglong)(uVar2 >> (0x20 - (0xcU - iVar7) & 0xff) |
                       uVar4 << (0xcU - iVar7 & 0xff));
}

ulonglong FUN_00068e84(uint param_1, uint param_2)

{
    byte bVar1;
    uint uVar2;
    uint uVar3;
    uint uVar4;
    int iVar5;
    uint uVar6;
    int iVar7;
    uint uVar8;
    uint uVar9;
    bool bVar10;
    bool bVar11;
    bool bVar12;

    if (param_1 == 0 && param_2 == 0) {
        return CONCAT44(param_2, param_1);
    }
    uVar8 = param_2 & 0x80000000;
    uVar3 = param_2;
    if ((int)uVar8 < 0) {
        bVar11 = param_1 != 0;
        param_1 = -param_1;
        uVar3 = -param_2 - (uint)bVar11;
    }
    iVar7 = 0x432;
    uVar9 = uVar3 >> 0x16;
    if (uVar9 != 0) {
        iVar7 = 3;
        if (uVar3 >> 0x19 != 0) {
            iVar7 = 6;
        }
        if (uVar3 >> 0x1c != 0) {
            iVar7 = iVar7 + 3;
        }
        uVar4 = iVar7 - ((int)uVar3 >> 0x1f);
        uVar9 = param_1 << (0x20 - uVar4 & 0xff);
        param_1 = param_1 >> (uVar4 & 0xff) | uVar3 << (0x20 - uVar4 & 0xff);
        uVar3 = uVar3 >> (uVar4 & 0xff);
        iVar7 = uVar4 + 0x432;
    }
    if (0xfffff < uVar3) {
        if (0x1fffff < uVar3) {
            uVar4 = uVar3 & 1;
            uVar3 = uVar3 >> 1;
            bVar1 = (byte)param_1;
            param_1 = (uint)(uVar4 != 0) << 0x1f | param_1 >> 1;
            uVar9 = (uint)(bVar1 & 1) << 0x1f | uVar9 >> 1;
            iVar7 = iVar7 + 1;
            if (0xffbfffff < (uint)(iVar7 * 0x200000)) {
                return (ulonglong)(uVar8 | 0x7ff00000) << 0x20;
            }
        }
    LAB_00068c88:
        bVar11 = 0x7fffffff < uVar9;
        if (uVar9 == 0x80000000) {
            bVar11 = (param_1 & 1) != 0;
        }
        return CONCAT44(uVar3 + iVar7 * 0x100000 +
                                (uint)CARRY4(param_1, (uint)bVar11) |
                            uVar8,
                        param_1 + bVar11);
    }
    bVar10 = (uVar9 & 0x80000000) != 0;
    uVar9 = uVar9 << 1;
    uVar4 = param_1 * 2;
    bVar11 = CARRY4(param_1, param_1);
    param_1 = param_1 * 2 + (uint)bVar10;
    uVar3 = uVar3 * 2 + (uint)(bVar11 || CARRY4(uVar4, (uint)bVar10));
    iVar7 = iVar7 + -1;
    if ((uVar3 & 0x100000) != 0)
        goto LAB_00068c88;
    uVar2 = param_1;
    uVar4 = uVar3;
    if (uVar3 == 0) {
        uVar2 = 0;
        uVar4 = param_1;
    }
    iVar5 = LZCOUNT(uVar4);
    if (uVar3 == 0) {
        iVar5 = iVar5 + 0x20;
    }
    uVar6 = iVar5 - 0xb;
    bVar12 = SBORROW4(uVar6, 0x20);
    uVar3 = iVar5 - 0x2b;
    bVar11 = (int)uVar3 < 0;
    bVar10 = uVar3 == 0;
    if ((int)uVar6 < 0x20) {
        bVar12 = SCARRY4(uVar3, 0xc);
        iVar5 = iVar5 + -0x1f;
        bVar11 = iVar5 < 0;
        bVar10 = iVar5 == 0;
        uVar3 = uVar6;
        if (!bVar10 && bVar11 == bVar12) {
            uVar2 = uVar4 << (uVar6 & 0xff);
            uVar4 = uVar4 >> (0xcU - iVar5 & 0xff);
            goto LAB_00068d00;
        }
    }
    if (bVar10 || bVar11 != bVar12) {
        uVar9 = 0x20 - uVar3;
    }
    uVar4 = uVar4 << (uVar3 & 0xff);
    if (bVar10 || bVar11 != bVar12) {
        uVar4 = uVar4 | uVar2 >> (uVar9 & 0xff);
        uVar2 = uVar2 << (uVar3 & 0xff);
    }
LAB_00068d00:
    if ((int)uVar6 <= iVar7) {
        return CONCAT44(uVar4 + (iVar7 - uVar6) * 0x100000 | uVar8, uVar2);
    }
    uVar3 = ~(iVar7 - uVar6);
    if (0x1e < (int)uVar3) {
        return CONCAT44(param_2, uVar4 >> (uVar3 - 0x1f & 0xff)) &
               0x80000000ffffffff;
    }
    iVar7 = uVar3 - 0x13;
    if (iVar7 == 0 || iVar7 < 0 != SCARRY4(uVar3 - 0x1f, 0xc)) {
        uVar3 = uVar3 + 1;
        return CONCAT44(uVar8 | uVar4 >> (uVar3 & 0xff),
                        uVar2 >> (uVar3 & 0xff) | uVar4
                                                      << (0x20 - uVar3 & 0xff));
    }
    return CONCAT44(param_2, uVar2 >> (0x20 - (0xcU - iVar7) & 0xff) |
                                 uVar4 << (0xcU - iVar7 & 0xff)) &
           0x80000000ffffffff;
}

void FUN_00068ee0(undefined4 param_1, undefined4 param_2, int param_3,
                  int param_4)

{
    if ((param_4 == 0) && (param_3 == 0)) {
        raise(8);
        return;
    }
    FUN_00068f88();
    return;
}

int FUN_00068f1c(undefined4 param_1, uint param_2, undefined4 param_3,
                 undefined4 param_4)

{
    int iVar1;

    if (-1 < (int)((uint)((double)CONCAT44(param_2, param_1) < 0.0) << 0x1f)) {
        iVar1 = FUN_00068f40();
        return iVar1;
    }
    iVar1 =
        FUN_00068f40(param_1, param_2 ^ 0x80000000, param_3, param_4, param_4);
    return -iVar1;
}

undefined8 FUN_00068f40(undefined4 param_1, undefined4 param_2)

{
    uint uVar1;
    double dVar2;

    dVar2 = (double)CONCAT44(param_2, param_1) * 2.3283064365386963e-10;
    uVar1 = (uint)(0.0 < dVar2) * (int)(longlong)dVar2;
    dVar2 = (double)CONCAT44(param_2, param_1) - (double)uVar1 * 4294967296.0;
    return CONCAT44(uVar1, (uint)(0.0 < dVar2) * (int)(longlong)dVar2);
}

undefined8 FUN_00068f88(uint param_1, uint param_2, uint param_3, uint param_4,
                        uint *param_5)

{
    uint uVar1;
    uint uVar2;
    uint uVar3;
    int iVar4;
    uint uVar5;
    int iVar6;
    uint uVar7;
    uint uVar8;
    uint uVar9;
    bool bVar10;

    bVar10 = param_4 <= param_2;
    if (param_2 == param_4) {
        bVar10 = param_3 <= param_1;
    }
    if (bVar10) {
        iVar6 = LZCOUNT(param_4);
        if (param_4 == 0) {
            iVar6 = LZCOUNT(param_3) + 0x20;
        }
        iVar4 = LZCOUNT(param_2);
        if (param_2 == 0) {
            iVar4 = LZCOUNT(param_1) + 0x20;
        }
        uVar3 = iVar6 - iVar4;
        uVar7 = param_3 << (uVar3 & 0xff);
        uVar8 = param_4 << (uVar3 & 0xff) | param_3 << (uVar3 - 0x20 & 0xff) |
                param_3 >> (0x20 - uVar3 & 0xff);
        bVar10 = uVar8 <= param_2;
        if (param_2 == uVar8) {
            bVar10 = uVar7 <= param_1;
        }
        if (bVar10) {
            bVar10 = param_1 < uVar7;
            param_1 = param_1 - uVar7;
            uVar1 = 1 << (uVar3 & 0xff);
            uVar2 = 1 << (uVar3 - 0x20 & 0xff) | 1U >> (0x20 - uVar3 & 0xff);
            param_2 = (param_2 - uVar8) - (uint)bVar10;
        } else {
            uVar1 = 0;
            uVar2 = 0;
        }
        if (uVar3 != 0) {
            uVar9 = uVar8 >> 1;
            uVar8 = (uint)((uVar8 & 1) != 0) << 0x1f | uVar7 >> 1;
            uVar7 = uVar3;
            do {
                while (true) {
                    bVar10 = uVar9 <= param_2;
                    if (param_2 == uVar9) {
                        bVar10 = uVar8 <= param_1;
                    }
                    if (bVar10)
                        break;
                    bVar10 = CARRY4(param_1, param_1);
                    param_1 = param_1 * 2;
                    param_2 = param_2 * 2 + (uint)bVar10;
                    uVar7 = uVar7 - 1;
                    uVar5 = param_2;
                    if (uVar7 == 0)
                        goto LAB_0006902e;
                }
                bVar10 = param_1 < uVar8;
                uVar5 = param_1 - uVar8;
                param_1 = uVar5 * 2 + 1;
                param_2 = ((param_2 - uVar9) - (uint)bVar10) * 2 +
                          (uint)CARRY4(uVar5, uVar5) +
                          (uint)(0xfffffffe < uVar5 * 2);
                uVar7 = uVar7 - 1;
                uVar5 = param_2;
            } while (uVar7 != 0);
        LAB_0006902e:
            param_2 = uVar5 >> (uVar3 & 0xff);
            bVar10 = CARRY4(uVar1, param_1);
            uVar7 = uVar1 + param_1;
            param_1 = param_1 >> (uVar3 & 0xff) |
                      uVar5 << (0x20 - uVar3 & 0xff) |
                      uVar5 >> (uVar3 - 0x20 & 0xff);
            uVar8 = param_1 << (uVar3 & 0xff);
            uVar1 = uVar7 - uVar8;
            uVar2 =
                ((uVar2 + uVar5 + (uint)bVar10) -
                 (param_2 << (uVar3 & 0xff) | param_1 << (uVar3 - 0x20 & 0xff) |
                  param_1 >> (0x20 - uVar3 & 0xff))) -
                (uint)(uVar7 < uVar8);
        }
    } else {
        uVar1 = 0;
        uVar2 = 0;
    }
    if (param_5 != (uint *)0x0) {
        *param_5 = param_1;
        param_5[1] = param_2;
    }
    return CONCAT44(uVar2, uVar1);
}

void FUN_000690a0(undefined4 param_1, undefined4 param_2, undefined4 param_3,
                  undefined4 param_4)

{
    undefined **ppuVar1;
    int iVar2;

    _DT_INIT();
    iVar2 = 0;
    do {
        ppuVar1 = &__DT_INIT_ARRAY + iVar2;
        iVar2 = iVar2 + 1;
        (*(code *)*ppuVar1)(param_1, param_2, param_3, *ppuVar1, param_4);
    } while (iVar2 != 1);
    return;
}

void _DT_FINI(void)

{
    return;
}
